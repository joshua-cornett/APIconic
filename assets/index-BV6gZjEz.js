function mM(O,W){for(var le=0;le<W.length;le++){const ge=W[le];if(typeof ge!="string"&&!Array.isArray(ge)){for(const Re in ge)if(Re!=="default"&&!(Re in O)){const Pe=Object.getOwnPropertyDescriptor(ge,Re);Pe&&Object.defineProperty(O,Re,Pe.get?Pe:{enumerable:!0,get:()=>ge[Re]})}}}return Object.freeze(Object.defineProperty(O,Symbol.toStringTag,{value:"Module"}))}(function(){const W=document.createElement("link").relList;if(W&&W.supports&&W.supports("modulepreload"))return;for(const Re of document.querySelectorAll('link[rel="modulepreload"]'))ge(Re);new MutationObserver(Re=>{for(const Pe of Re)if(Pe.type==="childList")for(const U of Pe.addedNodes)U.tagName==="LINK"&&U.rel==="modulepreload"&&ge(U)}).observe(document,{childList:!0,subtree:!0});function le(Re){const Pe={};return Re.integrity&&(Pe.integrity=Re.integrity),Re.referrerPolicy&&(Pe.referrerPolicy=Re.referrerPolicy),Re.crossOrigin==="use-credentials"?Pe.credentials="include":Re.crossOrigin==="anonymous"?Pe.credentials="omit":Pe.credentials="same-origin",Pe}function ge(Re){if(Re.ep)return;Re.ep=!0;const Pe=le(Re);fetch(Re.href,Pe)}})();var ha=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function h2(O){return O&&O.__esModule&&Object.prototype.hasOwnProperty.call(O,"default")?O.default:O}function xM(O){if(O.__esModule)return O;var W=O.default;if(typeof W=="function"){var le=function ge(){return this instanceof ge?Reflect.construct(W,arguments,this.constructor):W.apply(this,arguments)};le.prototype=W.prototype}else le={};return Object.defineProperty(le,"__esModule",{value:!0}),Object.keys(O).forEach(function(ge){var Re=Object.getOwnPropertyDescriptor(O,ge);Object.defineProperty(le,ge,Re.get?Re:{enumerable:!0,get:function(){return O[ge]}})}),le}var v2={exports:{}},ng={},d2={exports:{}},pa={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp=Symbol.for("react.element"),bM=Symbol.for("react.portal"),wM=Symbol.for("react.fragment"),TM=Symbol.for("react.strict_mode"),AM=Symbol.for("react.profiler"),MM=Symbol.for("react.provider"),SM=Symbol.for("react.context"),EM=Symbol.for("react.forward_ref"),CM=Symbol.for("react.suspense"),LM=Symbol.for("react.memo"),PM=Symbol.for("react.lazy"),jb=Symbol.iterator;function DM(O){return O===null||typeof O!="object"?null:(O=jb&&O[jb]||O["@@iterator"],typeof O=="function"?O:null)}var p2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g2=Object.assign,y2={};function Kv(O,W,le){this.props=O,this.context=W,this.refs=y2,this.updater=le||p2}Kv.prototype.isReactComponent={};Kv.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")};Kv.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function m2(){}m2.prototype=Kv.prototype;function A1(O,W,le){this.props=O,this.context=W,this.refs=y2,this.updater=le||p2}var M1=A1.prototype=new m2;M1.constructor=A1;g2(M1,Kv.prototype);M1.isPureReactComponent=!0;var Zb=Array.isArray,x2=Object.prototype.hasOwnProperty,S1={current:null},b2={key:!0,ref:!0,__self:!0,__source:!0};function w2(O,W,le){var ge,Re={},Pe=null,U=null;if(W!=null)for(ge in W.ref!==void 0&&(U=W.ref),W.key!==void 0&&(Pe=""+W.key),W)x2.call(W,ge)&&!b2.hasOwnProperty(ge)&&(Re[ge]=W[ge]);var B=arguments.length-2;if(B===1)Re.children=le;else if(1<B){for(var e=Array(B),y=0;y<B;y++)e[y]=arguments[y+2];Re.children=e}if(O&&O.defaultProps)for(ge in B=O.defaultProps,B)Re[ge]===void 0&&(Re[ge]=B[ge]);return{$$typeof:fp,type:O,key:Pe,ref:U,props:Re,_owner:S1.current}}function RM(O,W){return{$$typeof:fp,type:O.type,key:W,ref:O.ref,props:O.props,_owner:O._owner}}function E1(O){return typeof O=="object"&&O!==null&&O.$$typeof===fp}function IM(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return W[le]})}var Kb=/\/+/g;function ay(O,W){return typeof O=="object"&&O!==null&&O.key!=null?IM(""+O.key):W.toString(36)}function v0(O,W,le,ge,Re){var Pe=typeof O;(Pe==="undefined"||Pe==="boolean")&&(O=null);var U=!1;if(O===null)U=!0;else switch(Pe){case"string":case"number":U=!0;break;case"object":switch(O.$$typeof){case fp:case bM:U=!0}}if(U)return U=O,Re=Re(U),O=ge===""?"."+ay(U,0):ge,Zb(Re)?(le="",O!=null&&(le=O.replace(Kb,"$&/")+"/"),v0(Re,W,le,"",function(y){return y})):Re!=null&&(E1(Re)&&(Re=RM(Re,le+(!Re.key||U&&U.key===Re.key?"":(""+Re.key).replace(Kb,"$&/")+"/")+O)),W.push(Re)),1;if(U=0,ge=ge===""?".":ge+":",Zb(O))for(var B=0;B<O.length;B++){Pe=O[B];var e=ge+ay(Pe,B);U+=v0(Pe,W,le,e,Re)}else if(e=DM(O),typeof e=="function")for(O=e.call(O),B=0;!(Pe=O.next()).done;)Pe=Pe.value,e=ge+ay(Pe,B++),U+=v0(Pe,W,le,e,Re);else if(Pe==="object")throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return U}function jp(O,W,le){if(O==null)return O;var ge=[],Re=0;return v0(O,ge,"","",function(Pe){return W.call(le,Pe,Re++)}),ge}function _M(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var Us={current:null},d0={transition:null},kM={ReactCurrentDispatcher:Us,ReactCurrentBatchConfig:d0,ReactCurrentOwner:S1};pa.Children={map:jp,forEach:function(O,W,le){jp(O,function(){W.apply(this,arguments)},le)},count:function(O){var W=0;return jp(O,function(){W++}),W},toArray:function(O){return jp(O,function(W){return W})||[]},only:function(O){if(!E1(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};pa.Component=Kv;pa.Fragment=wM;pa.Profiler=AM;pa.PureComponent=A1;pa.StrictMode=TM;pa.Suspense=CM;pa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kM;pa.cloneElement=function(O,W,le){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var ge=g2({},O.props),Re=O.key,Pe=O.ref,U=O._owner;if(W!=null){if(W.ref!==void 0&&(Pe=W.ref,U=S1.current),W.key!==void 0&&(Re=""+W.key),O.type&&O.type.defaultProps)var B=O.type.defaultProps;for(e in W)x2.call(W,e)&&!b2.hasOwnProperty(e)&&(ge[e]=W[e]===void 0&&B!==void 0?B[e]:W[e])}var e=arguments.length-2;if(e===1)ge.children=le;else if(1<e){B=Array(e);for(var y=0;y<e;y++)B[y]=arguments[y+2];ge.children=B}return{$$typeof:fp,type:O.type,key:Re,ref:Pe,props:ge,_owner:U}};pa.createContext=function(O){return O={$$typeof:SM,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:MM,_context:O},O.Consumer=O};pa.createElement=w2;pa.createFactory=function(O){var W=w2.bind(null,O);return W.type=O,W};pa.createRef=function(){return{current:null}};pa.forwardRef=function(O){return{$$typeof:EM,render:O}};pa.isValidElement=E1;pa.lazy=function(O){return{$$typeof:PM,_payload:{_status:-1,_result:O},_init:_M}};pa.memo=function(O,W){return{$$typeof:LM,type:O,compare:W===void 0?null:W}};pa.startTransition=function(O){var W=d0.transition;d0.transition={};try{O()}finally{d0.transition=W}};pa.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};pa.useCallback=function(O,W){return Us.current.useCallback(O,W)};pa.useContext=function(O){return Us.current.useContext(O)};pa.useDebugValue=function(){};pa.useDeferredValue=function(O){return Us.current.useDeferredValue(O)};pa.useEffect=function(O,W){return Us.current.useEffect(O,W)};pa.useId=function(){return Us.current.useId()};pa.useImperativeHandle=function(O,W,le){return Us.current.useImperativeHandle(O,W,le)};pa.useInsertionEffect=function(O,W){return Us.current.useInsertionEffect(O,W)};pa.useLayoutEffect=function(O,W){return Us.current.useLayoutEffect(O,W)};pa.useMemo=function(O,W){return Us.current.useMemo(O,W)};pa.useReducer=function(O,W,le){return Us.current.useReducer(O,W,le)};pa.useRef=function(O){return Us.current.useRef(O)};pa.useState=function(O){return Us.current.useState(O)};pa.useSyncExternalStore=function(O,W,le){return Us.current.useSyncExternalStore(O,W,le)};pa.useTransition=function(){return Us.current.useTransition()};pa.version="18.2.0";d2.exports=pa;var Li=d2.exports;const T2=h2(Li),OM=mM({__proto__:null,default:T2},[Li]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zM=Li,FM=Symbol.for("react.element"),NM=Symbol.for("react.fragment"),BM=Object.prototype.hasOwnProperty,UM=zM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VM={key:!0,ref:!0,__self:!0,__source:!0};function A2(O,W,le){var ge,Re={},Pe=null,U=null;le!==void 0&&(Pe=""+le),W.key!==void 0&&(Pe=""+W.key),W.ref!==void 0&&(U=W.ref);for(ge in W)BM.call(W,ge)&&!VM.hasOwnProperty(ge)&&(Re[ge]=W[ge]);if(O&&O.defaultProps)for(ge in W=O.defaultProps,W)Re[ge]===void 0&&(Re[ge]=W[ge]);return{$$typeof:FM,type:O,key:Pe,ref:U,props:Re,_owner:UM.current}}ng.Fragment=NM;ng.jsx=A2;ng.jsxs=A2;v2.exports=ng;var Vi=v2.exports,wm={},M2={exports:{}},Sl={},S2={exports:{}},E2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(O){function W(M,f){var P=M.length;M.push(f);e:for(;0<P;){var T=P-1>>>1,z=M[T];if(0<Re(z,f))M[T]=f,M[P]=z,P=T;else break e}}function le(M){return M.length===0?null:M[0]}function ge(M){if(M.length===0)return null;var f=M[0],P=M.pop();if(P!==f){M[0]=P;e:for(var T=0,z=M.length,_=z>>>1;T<_;){var V=2*(T+1)-1,F=M[V],N=V+1,k=M[N];if(0>Re(F,P))N<z&&0>Re(k,F)?(M[T]=k,M[N]=P,T=N):(M[T]=F,M[V]=P,T=V);else if(N<z&&0>Re(k,P))M[T]=k,M[N]=P,T=N;else break e}}return f}function Re(M,f){var P=M.sortIndex-f.sortIndex;return P!==0?P:M.id-f.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Pe=performance;O.unstable_now=function(){return Pe.now()}}else{var U=Date,B=U.now();O.unstable_now=function(){return U.now()-B}}var e=[],y=[],L=1,i=null,S=3,b=!1,v=!1,p=!1,r=typeof setTimeout=="function"?setTimeout:null,t=typeof clearTimeout=="function"?clearTimeout:null,a=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function n(M){for(var f=le(y);f!==null;){if(f.callback===null)ge(y);else if(f.startTime<=M)ge(y),f.sortIndex=f.expirationTime,W(e,f);else break;f=le(y)}}function u(M){if(p=!1,n(M),!v)if(le(e)!==null)v=!0,x(s);else{var f=le(y);f!==null&&E(u,f.startTime-M)}}function s(M,f){v=!1,p&&(p=!1,t(h),h=-1),b=!0;var P=S;try{for(n(f),i=le(e);i!==null&&(!(i.expirationTime>f)||M&&!o());){var T=i.callback;if(typeof T=="function"){i.callback=null,S=i.priorityLevel;var z=T(i.expirationTime<=f);f=O.unstable_now(),typeof z=="function"?i.callback=z:i===le(e)&&ge(e),n(f)}else ge(e);i=le(e)}if(i!==null)var _=!0;else{var V=le(y);V!==null&&E(u,V.startTime-f),_=!1}return _}finally{i=null,S=P,b=!1}}var l=!1,m=null,h=-1,g=5,c=-1;function o(){return!(O.unstable_now()-c<g)}function d(){if(m!==null){var M=O.unstable_now();c=M;var f=!0;try{f=m(!0,M)}finally{f?w():(l=!1,m=null)}}else l=!1}var w;if(typeof a=="function")w=function(){a(d)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,C=A.port2;A.port1.onmessage=d,w=function(){C.postMessage(null)}}else w=function(){r(d,0)};function x(M){m=M,l||(l=!0,w())}function E(M,f){h=r(function(){M(O.unstable_now())},f)}O.unstable_IdlePriority=5,O.unstable_ImmediatePriority=1,O.unstable_LowPriority=4,O.unstable_NormalPriority=3,O.unstable_Profiling=null,O.unstable_UserBlockingPriority=2,O.unstable_cancelCallback=function(M){M.callback=null},O.unstable_continueExecution=function(){v||b||(v=!0,x(s))},O.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<M?Math.floor(1e3/M):5},O.unstable_getCurrentPriorityLevel=function(){return S},O.unstable_getFirstCallbackNode=function(){return le(e)},O.unstable_next=function(M){switch(S){case 1:case 2:case 3:var f=3;break;default:f=S}var P=S;S=f;try{return M()}finally{S=P}},O.unstable_pauseExecution=function(){},O.unstable_requestPaint=function(){},O.unstable_runWithPriority=function(M,f){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var P=S;S=M;try{return f()}finally{S=P}},O.unstable_scheduleCallback=function(M,f,P){var T=O.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?T+P:T):P=T,M){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=P+z,M={id:L++,callback:f,priorityLevel:M,startTime:P,expirationTime:z,sortIndex:-1},P>T?(M.sortIndex=P,W(y,M),le(e)===null&&M===le(y)&&(p?(t(h),h=-1):p=!0,E(u,P-T))):(M.sortIndex=z,W(e,M),v||b||(v=!0,x(s))),M},O.unstable_shouldYield=o,O.unstable_wrapCallback=function(M){var f=S;return function(){var P=S;S=f;try{return M.apply(this,arguments)}finally{S=P}}}})(E2);S2.exports=E2;var HM=S2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C2=Li,Ml=HM;function mi(O){for(var W="https://reactjs.org/docs/error-decoder.html?invariant="+O,le=1;le<arguments.length;le++)W+="&args[]="+encodeURIComponent(arguments[le]);return"Minified React error #"+O+"; visit "+W+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L2=new Set,Wd={};function Xh(O,W){Uv(O,W),Uv(O+"Capture",W)}function Uv(O,W){for(Wd[O]=W,O=0;O<W.length;O++)L2.add(W[O])}var Yf=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tm=Object.prototype.hasOwnProperty,GM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jb={},Qb={};function WM(O){return Tm.call(Qb,O)?!0:Tm.call(Jb,O)?!1:GM.test(O)?Qb[O]=!0:(Jb[O]=!0,!1)}function XM(O,W,le,ge){if(le!==null&&le.type===0)return!1;switch(typeof W){case"function":case"symbol":return!0;case"boolean":return ge?!1:le!==null?!le.acceptsBooleans:(O=O.toLowerCase().slice(0,5),O!=="data-"&&O!=="aria-");default:return!1}}function YM(O,W,le,ge){if(W===null||typeof W>"u"||XM(O,W,le,ge))return!0;if(ge)return!1;if(le!==null)switch(le.type){case 3:return!W;case 4:return W===!1;case 5:return isNaN(W);case 6:return isNaN(W)||1>W}return!1}function Vs(O,W,le,ge,Re,Pe,U){this.acceptsBooleans=W===2||W===3||W===4,this.attributeName=ge,this.attributeNamespace=Re,this.mustUseProperty=le,this.propertyName=O,this.type=W,this.sanitizeURL=Pe,this.removeEmptyString=U}var vs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(O){vs[O]=new Vs(O,0,!1,O,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(O){var W=O[0];vs[W]=new Vs(W,1,!1,O[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(O){vs[O]=new Vs(O,2,!1,O.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(O){vs[O]=new Vs(O,2,!1,O,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(O){vs[O]=new Vs(O,3,!1,O.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(O){vs[O]=new Vs(O,3,!0,O,null,!1,!1)});["capture","download"].forEach(function(O){vs[O]=new Vs(O,4,!1,O,null,!1,!1)});["cols","rows","size","span"].forEach(function(O){vs[O]=new Vs(O,6,!1,O,null,!1,!1)});["rowSpan","start"].forEach(function(O){vs[O]=new Vs(O,5,!1,O.toLowerCase(),null,!1,!1)});var C1=/[\-:]([a-z])/g;function L1(O){return O[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(O){var W=O.replace(C1,L1);vs[W]=new Vs(W,1,!1,O,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(O){var W=O.replace(C1,L1);vs[W]=new Vs(W,1,!1,O,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(O){var W=O.replace(C1,L1);vs[W]=new Vs(W,1,!1,O,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(O){vs[O]=new Vs(O,1,!1,O.toLowerCase(),null,!1,!1)});vs.xlinkHref=new Vs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(O){vs[O]=new Vs(O,1,!1,O.toLowerCase(),null,!0,!0)});function P1(O,W,le,ge){var Re=vs.hasOwnProperty(W)?vs[W]:null;(Re!==null?Re.type!==0:ge||!(2<W.length)||W[0]!=="o"&&W[0]!=="O"||W[1]!=="n"&&W[1]!=="N")&&(YM(W,le,Re,ge)&&(le=null),ge||Re===null?WM(W)&&(le===null?O.removeAttribute(W):O.setAttribute(W,""+le)):Re.mustUseProperty?O[Re.propertyName]=le===null?Re.type===3?!1:"":le:(W=Re.attributeName,ge=Re.attributeNamespace,le===null?O.removeAttribute(W):(Re=Re.type,le=Re===3||Re===4&&le===!0?"":""+le,ge?O.setAttributeNS(ge,W,le):O.setAttribute(W,le))))}var Jf=C2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zp=Symbol.for("react.element"),Tv=Symbol.for("react.portal"),Av=Symbol.for("react.fragment"),D1=Symbol.for("react.strict_mode"),Am=Symbol.for("react.profiler"),P2=Symbol.for("react.provider"),D2=Symbol.for("react.context"),R1=Symbol.for("react.forward_ref"),Mm=Symbol.for("react.suspense"),Sm=Symbol.for("react.suspense_list"),I1=Symbol.for("react.memo"),Fc=Symbol.for("react.lazy"),R2=Symbol.for("react.offscreen"),$b=Symbol.iterator;function wd(O){return O===null||typeof O!="object"?null:(O=$b&&O[$b]||O["@@iterator"],typeof O=="function"?O:null)}var po=Object.assign,oy;function Rd(O){if(oy===void 0)try{throw Error()}catch(le){var W=le.stack.trim().match(/\n( *(at )?)/);oy=W&&W[1]||""}return`
`+oy+O}var sy=!1;function ly(O,W){if(!O||sy)return"";sy=!0;var le=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(W)if(W=function(){throw Error()},Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(y){var ge=y}Reflect.construct(O,[],W)}else{try{W.call()}catch(y){ge=y}O.call(W.prototype)}else{try{throw Error()}catch(y){ge=y}O()}}catch(y){if(y&&ge&&typeof y.stack=="string"){for(var Re=y.stack.split(`
`),Pe=ge.stack.split(`
`),U=Re.length-1,B=Pe.length-1;1<=U&&0<=B&&Re[U]!==Pe[B];)B--;for(;1<=U&&0<=B;U--,B--)if(Re[U]!==Pe[B]){if(U!==1||B!==1)do if(U--,B--,0>B||Re[U]!==Pe[B]){var e=`
`+Re[U].replace(" at new "," at ");return O.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",O.displayName)),e}while(1<=U&&0<=B);break}}}finally{sy=!1,Error.prepareStackTrace=le}return(O=O?O.displayName||O.name:"")?Rd(O):""}function jM(O){switch(O.tag){case 5:return Rd(O.type);case 16:return Rd("Lazy");case 13:return Rd("Suspense");case 19:return Rd("SuspenseList");case 0:case 2:case 15:return O=ly(O.type,!1),O;case 11:return O=ly(O.type.render,!1),O;case 1:return O=ly(O.type,!0),O;default:return""}}function Em(O){if(O==null)return null;if(typeof O=="function")return O.displayName||O.name||null;if(typeof O=="string")return O;switch(O){case Av:return"Fragment";case Tv:return"Portal";case Am:return"Profiler";case D1:return"StrictMode";case Mm:return"Suspense";case Sm:return"SuspenseList"}if(typeof O=="object")switch(O.$$typeof){case D2:return(O.displayName||"Context")+".Consumer";case P2:return(O._context.displayName||"Context")+".Provider";case R1:var W=O.render;return O=O.displayName,O||(O=W.displayName||W.name||"",O=O!==""?"ForwardRef("+O+")":"ForwardRef"),O;case I1:return W=O.displayName||null,W!==null?W:Em(O.type)||"Memo";case Fc:W=O._payload,O=O._init;try{return Em(O(W))}catch{}}return null}function ZM(O){var W=O.type;switch(O.tag){case 24:return"Cache";case 9:return(W.displayName||"Context")+".Consumer";case 10:return(W._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return O=W.render,O=O.displayName||O.name||"",W.displayName||(O!==""?"ForwardRef("+O+")":"ForwardRef");case 7:return"Fragment";case 5:return W;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Em(W);case 8:return W===D1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof W=="function")return W.displayName||W.name||null;if(typeof W=="string")return W}return null}function qc(O){switch(typeof O){case"boolean":case"number":case"string":case"undefined":return O;case"object":return O;default:return""}}function I2(O){var W=O.type;return(O=O.nodeName)&&O.toLowerCase()==="input"&&(W==="checkbox"||W==="radio")}function KM(O){var W=I2(O)?"checked":"value",le=Object.getOwnPropertyDescriptor(O.constructor.prototype,W),ge=""+O[W];if(!O.hasOwnProperty(W)&&typeof le<"u"&&typeof le.get=="function"&&typeof le.set=="function"){var Re=le.get,Pe=le.set;return Object.defineProperty(O,W,{configurable:!0,get:function(){return Re.call(this)},set:function(U){ge=""+U,Pe.call(this,U)}}),Object.defineProperty(O,W,{enumerable:le.enumerable}),{getValue:function(){return ge},setValue:function(U){ge=""+U},stopTracking:function(){O._valueTracker=null,delete O[W]}}}}function Kp(O){O._valueTracker||(O._valueTracker=KM(O))}function _2(O){if(!O)return!1;var W=O._valueTracker;if(!W)return!0;var le=W.getValue(),ge="";return O&&(ge=I2(O)?O.checked?"true":"false":O.value),O=ge,O!==le?(W.setValue(O),!0):!1}function P0(O){if(O=O||(typeof document<"u"?document:void 0),typeof O>"u")return null;try{return O.activeElement||O.body}catch{return O.body}}function Cm(O,W){var le=W.checked;return po({},W,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:le??O._wrapperState.initialChecked})}function qb(O,W){var le=W.defaultValue==null?"":W.defaultValue,ge=W.checked!=null?W.checked:W.defaultChecked;le=qc(W.value!=null?W.value:le),O._wrapperState={initialChecked:ge,initialValue:le,controlled:W.type==="checkbox"||W.type==="radio"?W.checked!=null:W.value!=null}}function k2(O,W){W=W.checked,W!=null&&P1(O,"checked",W,!1)}function Lm(O,W){k2(O,W);var le=qc(W.value),ge=W.type;if(le!=null)ge==="number"?(le===0&&O.value===""||O.value!=le)&&(O.value=""+le):O.value!==""+le&&(O.value=""+le);else if(ge==="submit"||ge==="reset"){O.removeAttribute("value");return}W.hasOwnProperty("value")?Pm(O,W.type,le):W.hasOwnProperty("defaultValue")&&Pm(O,W.type,qc(W.defaultValue)),W.checked==null&&W.defaultChecked!=null&&(O.defaultChecked=!!W.defaultChecked)}function e3(O,W,le){if(W.hasOwnProperty("value")||W.hasOwnProperty("defaultValue")){var ge=W.type;if(!(ge!=="submit"&&ge!=="reset"||W.value!==void 0&&W.value!==null))return;W=""+O._wrapperState.initialValue,le||W===O.value||(O.value=W),O.defaultValue=W}le=O.name,le!==""&&(O.name=""),O.defaultChecked=!!O._wrapperState.initialChecked,le!==""&&(O.name=le)}function Pm(O,W,le){(W!=="number"||P0(O.ownerDocument)!==O)&&(le==null?O.defaultValue=""+O._wrapperState.initialValue:O.defaultValue!==""+le&&(O.defaultValue=""+le))}var Id=Array.isArray;function kv(O,W,le,ge){if(O=O.options,W){W={};for(var Re=0;Re<le.length;Re++)W["$"+le[Re]]=!0;for(le=0;le<O.length;le++)Re=W.hasOwnProperty("$"+O[le].value),O[le].selected!==Re&&(O[le].selected=Re),Re&&ge&&(O[le].defaultSelected=!0)}else{for(le=""+qc(le),W=null,Re=0;Re<O.length;Re++){if(O[Re].value===le){O[Re].selected=!0,ge&&(O[Re].defaultSelected=!0);return}W!==null||O[Re].disabled||(W=O[Re])}W!==null&&(W.selected=!0)}}function Dm(O,W){if(W.dangerouslySetInnerHTML!=null)throw Error(mi(91));return po({},W,{value:void 0,defaultValue:void 0,children:""+O._wrapperState.initialValue})}function t3(O,W){var le=W.value;if(le==null){if(le=W.children,W=W.defaultValue,le!=null){if(W!=null)throw Error(mi(92));if(Id(le)){if(1<le.length)throw Error(mi(93));le=le[0]}W=le}W==null&&(W=""),le=W}O._wrapperState={initialValue:qc(le)}}function O2(O,W){var le=qc(W.value),ge=qc(W.defaultValue);le!=null&&(le=""+le,le!==O.value&&(O.value=le),W.defaultValue==null&&O.defaultValue!==le&&(O.defaultValue=le)),ge!=null&&(O.defaultValue=""+ge)}function r3(O){var W=O.textContent;W===O._wrapperState.initialValue&&W!==""&&W!==null&&(O.value=W)}function z2(O){switch(O){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rm(O,W){return O==null||O==="http://www.w3.org/1999/xhtml"?z2(W):O==="http://www.w3.org/2000/svg"&&W==="foreignObject"?"http://www.w3.org/1999/xhtml":O}var Jp,F2=function(O){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(W,le,ge,Re){MSApp.execUnsafeLocalFunction(function(){return O(W,le,ge,Re)})}:O}(function(O,W){if(O.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in O)O.innerHTML=W;else{for(Jp=Jp||document.createElement("div"),Jp.innerHTML="<svg>"+W.valueOf().toString()+"</svg>",W=Jp.firstChild;O.firstChild;)O.removeChild(O.firstChild);for(;W.firstChild;)O.appendChild(W.firstChild)}});function Xd(O,W){if(W){var le=O.firstChild;if(le&&le===O.lastChild&&le.nodeType===3){le.nodeValue=W;return}}O.textContent=W}var Od={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JM=["Webkit","ms","Moz","O"];Object.keys(Od).forEach(function(O){JM.forEach(function(W){W=W+O.charAt(0).toUpperCase()+O.substring(1),Od[W]=Od[O]})});function N2(O,W,le){return W==null||typeof W=="boolean"||W===""?"":le||typeof W!="number"||W===0||Od.hasOwnProperty(O)&&Od[O]?(""+W).trim():W+"px"}function B2(O,W){O=O.style;for(var le in W)if(W.hasOwnProperty(le)){var ge=le.indexOf("--")===0,Re=N2(le,W[le],ge);le==="float"&&(le="cssFloat"),ge?O.setProperty(le,Re):O[le]=Re}}var QM=po({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Im(O,W){if(W){if(QM[O]&&(W.children!=null||W.dangerouslySetInnerHTML!=null))throw Error(mi(137,O));if(W.dangerouslySetInnerHTML!=null){if(W.children!=null)throw Error(mi(60));if(typeof W.dangerouslySetInnerHTML!="object"||!("__html"in W.dangerouslySetInnerHTML))throw Error(mi(61))}if(W.style!=null&&typeof W.style!="object")throw Error(mi(62))}}function _m(O,W){if(O.indexOf("-")===-1)return typeof W.is=="string";switch(O){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var km=null;function _1(O){return O=O.target||O.srcElement||window,O.correspondingUseElement&&(O=O.correspondingUseElement),O.nodeType===3?O.parentNode:O}var Om=null,Ov=null,zv=null;function n3(O){if(O=vp(O)){if(typeof Om!="function")throw Error(mi(280));var W=O.stateNode;W&&(W=lg(W),Om(O.stateNode,O.type,W))}}function U2(O){Ov?zv?zv.push(O):zv=[O]:Ov=O}function V2(){if(Ov){var O=Ov,W=zv;if(zv=Ov=null,n3(O),W)for(O=0;O<W.length;O++)n3(W[O])}}function H2(O,W){return O(W)}function G2(){}var uy=!1;function W2(O,W,le){if(uy)return O(W,le);uy=!0;try{return H2(O,W,le)}finally{uy=!1,(Ov!==null||zv!==null)&&(G2(),V2())}}function Yd(O,W){var le=O.stateNode;if(le===null)return null;var ge=lg(le);if(ge===null)return null;le=ge[W];e:switch(W){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(ge=!ge.disabled)||(O=O.type,ge=!(O==="button"||O==="input"||O==="select"||O==="textarea")),O=!ge;break e;default:O=!1}if(O)return null;if(le&&typeof le!="function")throw Error(mi(231,W,typeof le));return le}var zm=!1;if(Yf)try{var Td={};Object.defineProperty(Td,"passive",{get:function(){zm=!0}}),window.addEventListener("test",Td,Td),window.removeEventListener("test",Td,Td)}catch{zm=!1}function $M(O,W,le,ge,Re,Pe,U,B,e){var y=Array.prototype.slice.call(arguments,3);try{W.apply(le,y)}catch(L){this.onError(L)}}var zd=!1,D0=null,R0=!1,Fm=null,qM={onError:function(O){zd=!0,D0=O}};function eS(O,W,le,ge,Re,Pe,U,B,e){zd=!1,D0=null,$M.apply(qM,arguments)}function tS(O,W,le,ge,Re,Pe,U,B,e){if(eS.apply(this,arguments),zd){if(zd){var y=D0;zd=!1,D0=null}else throw Error(mi(198));R0||(R0=!0,Fm=y)}}function Yh(O){var W=O,le=O;if(O.alternate)for(;W.return;)W=W.return;else{O=W;do W=O,W.flags&4098&&(le=W.return),O=W.return;while(O)}return W.tag===3?le:null}function X2(O){if(O.tag===13){var W=O.memoizedState;if(W===null&&(O=O.alternate,O!==null&&(W=O.memoizedState)),W!==null)return W.dehydrated}return null}function i3(O){if(Yh(O)!==O)throw Error(mi(188))}function rS(O){var W=O.alternate;if(!W){if(W=Yh(O),W===null)throw Error(mi(188));return W!==O?null:O}for(var le=O,ge=W;;){var Re=le.return;if(Re===null)break;var Pe=Re.alternate;if(Pe===null){if(ge=Re.return,ge!==null){le=ge;continue}break}if(Re.child===Pe.child){for(Pe=Re.child;Pe;){if(Pe===le)return i3(Re),O;if(Pe===ge)return i3(Re),W;Pe=Pe.sibling}throw Error(mi(188))}if(le.return!==ge.return)le=Re,ge=Pe;else{for(var U=!1,B=Re.child;B;){if(B===le){U=!0,le=Re,ge=Pe;break}if(B===ge){U=!0,ge=Re,le=Pe;break}B=B.sibling}if(!U){for(B=Pe.child;B;){if(B===le){U=!0,le=Pe,ge=Re;break}if(B===ge){U=!0,ge=Pe,le=Re;break}B=B.sibling}if(!U)throw Error(mi(189))}}if(le.alternate!==ge)throw Error(mi(190))}if(le.tag!==3)throw Error(mi(188));return le.stateNode.current===le?O:W}function Y2(O){return O=rS(O),O!==null?j2(O):null}function j2(O){if(O.tag===5||O.tag===6)return O;for(O=O.child;O!==null;){var W=j2(O);if(W!==null)return W;O=O.sibling}return null}var Z2=Ml.unstable_scheduleCallback,a3=Ml.unstable_cancelCallback,nS=Ml.unstable_shouldYield,iS=Ml.unstable_requestPaint,Lo=Ml.unstable_now,aS=Ml.unstable_getCurrentPriorityLevel,k1=Ml.unstable_ImmediatePriority,K2=Ml.unstable_UserBlockingPriority,I0=Ml.unstable_NormalPriority,oS=Ml.unstable_LowPriority,J2=Ml.unstable_IdlePriority,ig=null,uf=null;function sS(O){if(uf&&typeof uf.onCommitFiberRoot=="function")try{uf.onCommitFiberRoot(ig,O,void 0,(O.current.flags&128)===128)}catch{}}var Ou=Math.clz32?Math.clz32:fS,lS=Math.log,uS=Math.LN2;function fS(O){return O>>>=0,O===0?32:31-(lS(O)/uS|0)|0}var Qp=64,$p=4194304;function _d(O){switch(O&-O){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return O&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return O&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return O}}function _0(O,W){var le=O.pendingLanes;if(le===0)return 0;var ge=0,Re=O.suspendedLanes,Pe=O.pingedLanes,U=le&268435455;if(U!==0){var B=U&~Re;B!==0?ge=_d(B):(Pe&=U,Pe!==0&&(ge=_d(Pe)))}else U=le&~Re,U!==0?ge=_d(U):Pe!==0&&(ge=_d(Pe));if(ge===0)return 0;if(W!==0&&W!==ge&&!(W&Re)&&(Re=ge&-ge,Pe=W&-W,Re>=Pe||Re===16&&(Pe&4194240)!==0))return W;if(ge&4&&(ge|=le&16),W=O.entangledLanes,W!==0)for(O=O.entanglements,W&=ge;0<W;)le=31-Ou(W),Re=1<<le,ge|=O[le],W&=~Re;return ge}function cS(O,W){switch(O){case 1:case 2:case 4:return W+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return W+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hS(O,W){for(var le=O.suspendedLanes,ge=O.pingedLanes,Re=O.expirationTimes,Pe=O.pendingLanes;0<Pe;){var U=31-Ou(Pe),B=1<<U,e=Re[U];e===-1?(!(B&le)||B&ge)&&(Re[U]=cS(B,W)):e<=W&&(O.expiredLanes|=B),Pe&=~B}}function Nm(O){return O=O.pendingLanes&-1073741825,O!==0?O:O&1073741824?1073741824:0}function Q2(){var O=Qp;return Qp<<=1,!(Qp&4194240)&&(Qp=64),O}function fy(O){for(var W=[],le=0;31>le;le++)W.push(O);return W}function cp(O,W,le){O.pendingLanes|=W,W!==536870912&&(O.suspendedLanes=0,O.pingedLanes=0),O=O.eventTimes,W=31-Ou(W),O[W]=le}function vS(O,W){var le=O.pendingLanes&~W;O.pendingLanes=W,O.suspendedLanes=0,O.pingedLanes=0,O.expiredLanes&=W,O.mutableReadLanes&=W,O.entangledLanes&=W,W=O.entanglements;var ge=O.eventTimes;for(O=O.expirationTimes;0<le;){var Re=31-Ou(le),Pe=1<<Re;W[Re]=0,ge[Re]=-1,O[Re]=-1,le&=~Pe}}function O1(O,W){var le=O.entangledLanes|=W;for(O=O.entanglements;le;){var ge=31-Ou(le),Re=1<<ge;Re&W|O[ge]&W&&(O[ge]|=W),le&=~Re}}var _a=0;function $2(O){return O&=-O,1<O?4<O?O&268435455?16:536870912:4:1}var q2,z1,eT,tT,rT,Bm=!1,qp=[],Wc=null,Xc=null,Yc=null,jd=new Map,Zd=new Map,Bc=[],dS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function o3(O,W){switch(O){case"focusin":case"focusout":Wc=null;break;case"dragenter":case"dragleave":Xc=null;break;case"mouseover":case"mouseout":Yc=null;break;case"pointerover":case"pointerout":jd.delete(W.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zd.delete(W.pointerId)}}function Ad(O,W,le,ge,Re,Pe){return O===null||O.nativeEvent!==Pe?(O={blockedOn:W,domEventName:le,eventSystemFlags:ge,nativeEvent:Pe,targetContainers:[Re]},W!==null&&(W=vp(W),W!==null&&z1(W)),O):(O.eventSystemFlags|=ge,W=O.targetContainers,Re!==null&&W.indexOf(Re)===-1&&W.push(Re),O)}function pS(O,W,le,ge,Re){switch(W){case"focusin":return Wc=Ad(Wc,O,W,le,ge,Re),!0;case"dragenter":return Xc=Ad(Xc,O,W,le,ge,Re),!0;case"mouseover":return Yc=Ad(Yc,O,W,le,ge,Re),!0;case"pointerover":var Pe=Re.pointerId;return jd.set(Pe,Ad(jd.get(Pe)||null,O,W,le,ge,Re)),!0;case"gotpointercapture":return Pe=Re.pointerId,Zd.set(Pe,Ad(Zd.get(Pe)||null,O,W,le,ge,Re)),!0}return!1}function nT(O){var W=Oh(O.target);if(W!==null){var le=Yh(W);if(le!==null){if(W=le.tag,W===13){if(W=X2(le),W!==null){O.blockedOn=W,rT(O.priority,function(){eT(le)});return}}else if(W===3&&le.stateNode.current.memoizedState.isDehydrated){O.blockedOn=le.tag===3?le.stateNode.containerInfo:null;return}}}O.blockedOn=null}function p0(O){if(O.blockedOn!==null)return!1;for(var W=O.targetContainers;0<W.length;){var le=Um(O.domEventName,O.eventSystemFlags,W[0],O.nativeEvent);if(le===null){le=O.nativeEvent;var ge=new le.constructor(le.type,le);km=ge,le.target.dispatchEvent(ge),km=null}else return W=vp(le),W!==null&&z1(W),O.blockedOn=le,!1;W.shift()}return!0}function s3(O,W,le){p0(O)&&le.delete(W)}function gS(){Bm=!1,Wc!==null&&p0(Wc)&&(Wc=null),Xc!==null&&p0(Xc)&&(Xc=null),Yc!==null&&p0(Yc)&&(Yc=null),jd.forEach(s3),Zd.forEach(s3)}function Md(O,W){O.blockedOn===W&&(O.blockedOn=null,Bm||(Bm=!0,Ml.unstable_scheduleCallback(Ml.unstable_NormalPriority,gS)))}function Kd(O){function W(Re){return Md(Re,O)}if(0<qp.length){Md(qp[0],O);for(var le=1;le<qp.length;le++){var ge=qp[le];ge.blockedOn===O&&(ge.blockedOn=null)}}for(Wc!==null&&Md(Wc,O),Xc!==null&&Md(Xc,O),Yc!==null&&Md(Yc,O),jd.forEach(W),Zd.forEach(W),le=0;le<Bc.length;le++)ge=Bc[le],ge.blockedOn===O&&(ge.blockedOn=null);for(;0<Bc.length&&(le=Bc[0],le.blockedOn===null);)nT(le),le.blockedOn===null&&Bc.shift()}var Fv=Jf.ReactCurrentBatchConfig,k0=!0;function yS(O,W,le,ge){var Re=_a,Pe=Fv.transition;Fv.transition=null;try{_a=1,F1(O,W,le,ge)}finally{_a=Re,Fv.transition=Pe}}function mS(O,W,le,ge){var Re=_a,Pe=Fv.transition;Fv.transition=null;try{_a=4,F1(O,W,le,ge)}finally{_a=Re,Fv.transition=Pe}}function F1(O,W,le,ge){if(k0){var Re=Um(O,W,le,ge);if(Re===null)by(O,W,ge,O0,le),o3(O,ge);else if(pS(Re,O,W,le,ge))ge.stopPropagation();else if(o3(O,ge),W&4&&-1<dS.indexOf(O)){for(;Re!==null;){var Pe=vp(Re);if(Pe!==null&&q2(Pe),Pe=Um(O,W,le,ge),Pe===null&&by(O,W,ge,O0,le),Pe===Re)break;Re=Pe}Re!==null&&ge.stopPropagation()}else by(O,W,ge,null,le)}}var O0=null;function Um(O,W,le,ge){if(O0=null,O=_1(ge),O=Oh(O),O!==null)if(W=Yh(O),W===null)O=null;else if(le=W.tag,le===13){if(O=X2(W),O!==null)return O;O=null}else if(le===3){if(W.stateNode.current.memoizedState.isDehydrated)return W.tag===3?W.stateNode.containerInfo:null;O=null}else W!==O&&(O=null);return O0=O,null}function iT(O){switch(O){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aS()){case k1:return 1;case K2:return 4;case I0:case oS:return 16;case J2:return 536870912;default:return 16}default:return 16}}var Vc=null,N1=null,g0=null;function aT(){if(g0)return g0;var O,W=N1,le=W.length,ge,Re="value"in Vc?Vc.value:Vc.textContent,Pe=Re.length;for(O=0;O<le&&W[O]===Re[O];O++);var U=le-O;for(ge=1;ge<=U&&W[le-ge]===Re[Pe-ge];ge++);return g0=Re.slice(O,1<ge?1-ge:void 0)}function y0(O){var W=O.keyCode;return"charCode"in O?(O=O.charCode,O===0&&W===13&&(O=13)):O=W,O===10&&(O=13),32<=O||O===13?O:0}function e0(){return!0}function l3(){return!1}function El(O){function W(le,ge,Re,Pe,U){this._reactName=le,this._targetInst=Re,this.type=ge,this.nativeEvent=Pe,this.target=U,this.currentTarget=null;for(var B in O)O.hasOwnProperty(B)&&(le=O[B],this[B]=le?le(Pe):Pe[B]);return this.isDefaultPrevented=(Pe.defaultPrevented!=null?Pe.defaultPrevented:Pe.returnValue===!1)?e0:l3,this.isPropagationStopped=l3,this}return po(W.prototype,{preventDefault:function(){this.defaultPrevented=!0;var le=this.nativeEvent;le&&(le.preventDefault?le.preventDefault():typeof le.returnValue!="unknown"&&(le.returnValue=!1),this.isDefaultPrevented=e0)},stopPropagation:function(){var le=this.nativeEvent;le&&(le.stopPropagation?le.stopPropagation():typeof le.cancelBubble!="unknown"&&(le.cancelBubble=!0),this.isPropagationStopped=e0)},persist:function(){},isPersistent:e0}),W}var Jv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(O){return O.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},B1=El(Jv),hp=po({},Jv,{view:0,detail:0}),xS=El(hp),cy,hy,Sd,ag=po({},hp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:U1,button:0,buttons:0,relatedTarget:function(O){return O.relatedTarget===void 0?O.fromElement===O.srcElement?O.toElement:O.fromElement:O.relatedTarget},movementX:function(O){return"movementX"in O?O.movementX:(O!==Sd&&(Sd&&O.type==="mousemove"?(cy=O.screenX-Sd.screenX,hy=O.screenY-Sd.screenY):hy=cy=0,Sd=O),cy)},movementY:function(O){return"movementY"in O?O.movementY:hy}}),u3=El(ag),bS=po({},ag,{dataTransfer:0}),wS=El(bS),TS=po({},hp,{relatedTarget:0}),vy=El(TS),AS=po({},Jv,{animationName:0,elapsedTime:0,pseudoElement:0}),MS=El(AS),SS=po({},Jv,{clipboardData:function(O){return"clipboardData"in O?O.clipboardData:window.clipboardData}}),ES=El(SS),CS=po({},Jv,{data:0}),f3=El(CS),LS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RS(O){var W=this.nativeEvent;return W.getModifierState?W.getModifierState(O):(O=DS[O])?!!W[O]:!1}function U1(){return RS}var IS=po({},hp,{key:function(O){if(O.key){var W=LS[O.key]||O.key;if(W!=="Unidentified")return W}return O.type==="keypress"?(O=y0(O),O===13?"Enter":String.fromCharCode(O)):O.type==="keydown"||O.type==="keyup"?PS[O.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:U1,charCode:function(O){return O.type==="keypress"?y0(O):0},keyCode:function(O){return O.type==="keydown"||O.type==="keyup"?O.keyCode:0},which:function(O){return O.type==="keypress"?y0(O):O.type==="keydown"||O.type==="keyup"?O.keyCode:0}}),_S=El(IS),kS=po({},ag,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),c3=El(kS),OS=po({},hp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:U1}),zS=El(OS),FS=po({},Jv,{propertyName:0,elapsedTime:0,pseudoElement:0}),NS=El(FS),BS=po({},ag,{deltaX:function(O){return"deltaX"in O?O.deltaX:"wheelDeltaX"in O?-O.wheelDeltaX:0},deltaY:function(O){return"deltaY"in O?O.deltaY:"wheelDeltaY"in O?-O.wheelDeltaY:"wheelDelta"in O?-O.wheelDelta:0},deltaZ:0,deltaMode:0}),US=El(BS),VS=[9,13,27,32],V1=Yf&&"CompositionEvent"in window,Fd=null;Yf&&"documentMode"in document&&(Fd=document.documentMode);var HS=Yf&&"TextEvent"in window&&!Fd,oT=Yf&&(!V1||Fd&&8<Fd&&11>=Fd),h3=" ",v3=!1;function sT(O,W){switch(O){case"keyup":return VS.indexOf(W.keyCode)!==-1;case"keydown":return W.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lT(O){return O=O.detail,typeof O=="object"&&"data"in O?O.data:null}var Mv=!1;function GS(O,W){switch(O){case"compositionend":return lT(W);case"keypress":return W.which!==32?null:(v3=!0,h3);case"textInput":return O=W.data,O===h3&&v3?null:O;default:return null}}function WS(O,W){if(Mv)return O==="compositionend"||!V1&&sT(O,W)?(O=aT(),g0=N1=Vc=null,Mv=!1,O):null;switch(O){case"paste":return null;case"keypress":if(!(W.ctrlKey||W.altKey||W.metaKey)||W.ctrlKey&&W.altKey){if(W.char&&1<W.char.length)return W.char;if(W.which)return String.fromCharCode(W.which)}return null;case"compositionend":return oT&&W.locale!=="ko"?null:W.data;default:return null}}var XS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d3(O){var W=O&&O.nodeName&&O.nodeName.toLowerCase();return W==="input"?!!XS[O.type]:W==="textarea"}function uT(O,W,le,ge){U2(ge),W=z0(W,"onChange"),0<W.length&&(le=new B1("onChange","change",null,le,ge),O.push({event:le,listeners:W}))}var Nd=null,Jd=null;function YS(O){bT(O,0)}function og(O){var W=Cv(O);if(_2(W))return O}function jS(O,W){if(O==="change")return W}var fT=!1;if(Yf){var dy;if(Yf){var py="oninput"in document;if(!py){var p3=document.createElement("div");p3.setAttribute("oninput","return;"),py=typeof p3.oninput=="function"}dy=py}else dy=!1;fT=dy&&(!document.documentMode||9<document.documentMode)}function g3(){Nd&&(Nd.detachEvent("onpropertychange",cT),Jd=Nd=null)}function cT(O){if(O.propertyName==="value"&&og(Jd)){var W=[];uT(W,Jd,O,_1(O)),W2(YS,W)}}function ZS(O,W,le){O==="focusin"?(g3(),Nd=W,Jd=le,Nd.attachEvent("onpropertychange",cT)):O==="focusout"&&g3()}function KS(O){if(O==="selectionchange"||O==="keyup"||O==="keydown")return og(Jd)}function JS(O,W){if(O==="click")return og(W)}function QS(O,W){if(O==="input"||O==="change")return og(W)}function $S(O,W){return O===W&&(O!==0||1/O===1/W)||O!==O&&W!==W}var Fu=typeof Object.is=="function"?Object.is:$S;function Qd(O,W){if(Fu(O,W))return!0;if(typeof O!="object"||O===null||typeof W!="object"||W===null)return!1;var le=Object.keys(O),ge=Object.keys(W);if(le.length!==ge.length)return!1;for(ge=0;ge<le.length;ge++){var Re=le[ge];if(!Tm.call(W,Re)||!Fu(O[Re],W[Re]))return!1}return!0}function y3(O){for(;O&&O.firstChild;)O=O.firstChild;return O}function m3(O,W){var le=y3(O);O=0;for(var ge;le;){if(le.nodeType===3){if(ge=O+le.textContent.length,O<=W&&ge>=W)return{node:le,offset:W-O};O=ge}e:{for(;le;){if(le.nextSibling){le=le.nextSibling;break e}le=le.parentNode}le=void 0}le=y3(le)}}function hT(O,W){return O&&W?O===W?!0:O&&O.nodeType===3?!1:W&&W.nodeType===3?hT(O,W.parentNode):"contains"in O?O.contains(W):O.compareDocumentPosition?!!(O.compareDocumentPosition(W)&16):!1:!1}function vT(){for(var O=window,W=P0();W instanceof O.HTMLIFrameElement;){try{var le=typeof W.contentWindow.location.href=="string"}catch{le=!1}if(le)O=W.contentWindow;else break;W=P0(O.document)}return W}function H1(O){var W=O&&O.nodeName&&O.nodeName.toLowerCase();return W&&(W==="input"&&(O.type==="text"||O.type==="search"||O.type==="tel"||O.type==="url"||O.type==="password")||W==="textarea"||O.contentEditable==="true")}function qS(O){var W=vT(),le=O.focusedElem,ge=O.selectionRange;if(W!==le&&le&&le.ownerDocument&&hT(le.ownerDocument.documentElement,le)){if(ge!==null&&H1(le)){if(W=ge.start,O=ge.end,O===void 0&&(O=W),"selectionStart"in le)le.selectionStart=W,le.selectionEnd=Math.min(O,le.value.length);else if(O=(W=le.ownerDocument||document)&&W.defaultView||window,O.getSelection){O=O.getSelection();var Re=le.textContent.length,Pe=Math.min(ge.start,Re);ge=ge.end===void 0?Pe:Math.min(ge.end,Re),!O.extend&&Pe>ge&&(Re=ge,ge=Pe,Pe=Re),Re=m3(le,Pe);var U=m3(le,ge);Re&&U&&(O.rangeCount!==1||O.anchorNode!==Re.node||O.anchorOffset!==Re.offset||O.focusNode!==U.node||O.focusOffset!==U.offset)&&(W=W.createRange(),W.setStart(Re.node,Re.offset),O.removeAllRanges(),Pe>ge?(O.addRange(W),O.extend(U.node,U.offset)):(W.setEnd(U.node,U.offset),O.addRange(W)))}}for(W=[],O=le;O=O.parentNode;)O.nodeType===1&&W.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof le.focus=="function"&&le.focus(),le=0;le<W.length;le++)O=W[le],O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}var e8=Yf&&"documentMode"in document&&11>=document.documentMode,Sv=null,Vm=null,Bd=null,Hm=!1;function x3(O,W,le){var ge=le.window===le?le.document:le.nodeType===9?le:le.ownerDocument;Hm||Sv==null||Sv!==P0(ge)||(ge=Sv,"selectionStart"in ge&&H1(ge)?ge={start:ge.selectionStart,end:ge.selectionEnd}:(ge=(ge.ownerDocument&&ge.ownerDocument.defaultView||window).getSelection(),ge={anchorNode:ge.anchorNode,anchorOffset:ge.anchorOffset,focusNode:ge.focusNode,focusOffset:ge.focusOffset}),Bd&&Qd(Bd,ge)||(Bd=ge,ge=z0(Vm,"onSelect"),0<ge.length&&(W=new B1("onSelect","select",null,W,le),O.push({event:W,listeners:ge}),W.target=Sv)))}function t0(O,W){var le={};return le[O.toLowerCase()]=W.toLowerCase(),le["Webkit"+O]="webkit"+W,le["Moz"+O]="moz"+W,le}var Ev={animationend:t0("Animation","AnimationEnd"),animationiteration:t0("Animation","AnimationIteration"),animationstart:t0("Animation","AnimationStart"),transitionend:t0("Transition","TransitionEnd")},gy={},dT={};Yf&&(dT=document.createElement("div").style,"AnimationEvent"in window||(delete Ev.animationend.animation,delete Ev.animationiteration.animation,delete Ev.animationstart.animation),"TransitionEvent"in window||delete Ev.transitionend.transition);function sg(O){if(gy[O])return gy[O];if(!Ev[O])return O;var W=Ev[O],le;for(le in W)if(W.hasOwnProperty(le)&&le in dT)return gy[O]=W[le];return O}var pT=sg("animationend"),gT=sg("animationiteration"),yT=sg("animationstart"),mT=sg("transitionend"),xT=new Map,b3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function th(O,W){xT.set(O,W),Xh(W,[O])}for(var yy=0;yy<b3.length;yy++){var my=b3[yy],t8=my.toLowerCase(),r8=my[0].toUpperCase()+my.slice(1);th(t8,"on"+r8)}th(pT,"onAnimationEnd");th(gT,"onAnimationIteration");th(yT,"onAnimationStart");th("dblclick","onDoubleClick");th("focusin","onFocus");th("focusout","onBlur");th(mT,"onTransitionEnd");Uv("onMouseEnter",["mouseout","mouseover"]);Uv("onMouseLeave",["mouseout","mouseover"]);Uv("onPointerEnter",["pointerout","pointerover"]);Uv("onPointerLeave",["pointerout","pointerover"]);Xh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n8=new Set("cancel close invalid load scroll toggle".split(" ").concat(kd));function w3(O,W,le){var ge=O.type||"unknown-event";O.currentTarget=le,tS(ge,W,void 0,O),O.currentTarget=null}function bT(O,W){W=(W&4)!==0;for(var le=0;le<O.length;le++){var ge=O[le],Re=ge.event;ge=ge.listeners;e:{var Pe=void 0;if(W)for(var U=ge.length-1;0<=U;U--){var B=ge[U],e=B.instance,y=B.currentTarget;if(B=B.listener,e!==Pe&&Re.isPropagationStopped())break e;w3(Re,B,y),Pe=e}else for(U=0;U<ge.length;U++){if(B=ge[U],e=B.instance,y=B.currentTarget,B=B.listener,e!==Pe&&Re.isPropagationStopped())break e;w3(Re,B,y),Pe=e}}}if(R0)throw O=Fm,R0=!1,Fm=null,O}function Za(O,W){var le=W[jm];le===void 0&&(le=W[jm]=new Set);var ge=O+"__bubble";le.has(ge)||(wT(W,O,2,!1),le.add(ge))}function xy(O,W,le){var ge=0;W&&(ge|=4),wT(le,O,ge,W)}var r0="_reactListening"+Math.random().toString(36).slice(2);function $d(O){if(!O[r0]){O[r0]=!0,L2.forEach(function(le){le!=="selectionchange"&&(n8.has(le)||xy(le,!1,O),xy(le,!0,O))});var W=O.nodeType===9?O:O.ownerDocument;W===null||W[r0]||(W[r0]=!0,xy("selectionchange",!1,W))}}function wT(O,W,le,ge){switch(iT(W)){case 1:var Re=yS;break;case 4:Re=mS;break;default:Re=F1}le=Re.bind(null,W,le,O),Re=void 0,!zm||W!=="touchstart"&&W!=="touchmove"&&W!=="wheel"||(Re=!0),ge?Re!==void 0?O.addEventListener(W,le,{capture:!0,passive:Re}):O.addEventListener(W,le,!0):Re!==void 0?O.addEventListener(W,le,{passive:Re}):O.addEventListener(W,le,!1)}function by(O,W,le,ge,Re){var Pe=ge;if(!(W&1)&&!(W&2)&&ge!==null)e:for(;;){if(ge===null)return;var U=ge.tag;if(U===3||U===4){var B=ge.stateNode.containerInfo;if(B===Re||B.nodeType===8&&B.parentNode===Re)break;if(U===4)for(U=ge.return;U!==null;){var e=U.tag;if((e===3||e===4)&&(e=U.stateNode.containerInfo,e===Re||e.nodeType===8&&e.parentNode===Re))return;U=U.return}for(;B!==null;){if(U=Oh(B),U===null)return;if(e=U.tag,e===5||e===6){ge=Pe=U;continue e}B=B.parentNode}}ge=ge.return}W2(function(){var y=Pe,L=_1(le),i=[];e:{var S=xT.get(O);if(S!==void 0){var b=B1,v=O;switch(O){case"keypress":if(y0(le)===0)break e;case"keydown":case"keyup":b=_S;break;case"focusin":v="focus",b=vy;break;case"focusout":v="blur",b=vy;break;case"beforeblur":case"afterblur":b=vy;break;case"click":if(le.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=u3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=wS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=zS;break;case pT:case gT:case yT:b=MS;break;case mT:b=NS;break;case"scroll":b=xS;break;case"wheel":b=US;break;case"copy":case"cut":case"paste":b=ES;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=c3}var p=(W&4)!==0,r=!p&&O==="scroll",t=p?S!==null?S+"Capture":null:S;p=[];for(var a=y,n;a!==null;){n=a;var u=n.stateNode;if(n.tag===5&&u!==null&&(n=u,t!==null&&(u=Yd(a,t),u!=null&&p.push(qd(a,u,n)))),r)break;a=a.return}0<p.length&&(S=new b(S,v,null,le,L),i.push({event:S,listeners:p}))}}if(!(W&7)){e:{if(S=O==="mouseover"||O==="pointerover",b=O==="mouseout"||O==="pointerout",S&&le!==km&&(v=le.relatedTarget||le.fromElement)&&(Oh(v)||v[jf]))break e;if((b||S)&&(S=L.window===L?L:(S=L.ownerDocument)?S.defaultView||S.parentWindow:window,b?(v=le.relatedTarget||le.toElement,b=y,v=v?Oh(v):null,v!==null&&(r=Yh(v),v!==r||v.tag!==5&&v.tag!==6)&&(v=null)):(b=null,v=y),b!==v)){if(p=u3,u="onMouseLeave",t="onMouseEnter",a="mouse",(O==="pointerout"||O==="pointerover")&&(p=c3,u="onPointerLeave",t="onPointerEnter",a="pointer"),r=b==null?S:Cv(b),n=v==null?S:Cv(v),S=new p(u,a+"leave",b,le,L),S.target=r,S.relatedTarget=n,u=null,Oh(L)===y&&(p=new p(t,a+"enter",v,le,L),p.target=n,p.relatedTarget=r,u=p),r=u,b&&v)t:{for(p=b,t=v,a=0,n=p;n;n=wv(n))a++;for(n=0,u=t;u;u=wv(u))n++;for(;0<a-n;)p=wv(p),a--;for(;0<n-a;)t=wv(t),n--;for(;a--;){if(p===t||t!==null&&p===t.alternate)break t;p=wv(p),t=wv(t)}p=null}else p=null;b!==null&&T3(i,S,b,p,!1),v!==null&&r!==null&&T3(i,r,v,p,!0)}}e:{if(S=y?Cv(y):window,b=S.nodeName&&S.nodeName.toLowerCase(),b==="select"||b==="input"&&S.type==="file")var s=jS;else if(d3(S))if(fT)s=QS;else{s=KS;var l=ZS}else(b=S.nodeName)&&b.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")&&(s=JS);if(s&&(s=s(O,y))){uT(i,s,le,L);break e}l&&l(O,S,y),O==="focusout"&&(l=S._wrapperState)&&l.controlled&&S.type==="number"&&Pm(S,"number",S.value)}switch(l=y?Cv(y):window,O){case"focusin":(d3(l)||l.contentEditable==="true")&&(Sv=l,Vm=y,Bd=null);break;case"focusout":Bd=Vm=Sv=null;break;case"mousedown":Hm=!0;break;case"contextmenu":case"mouseup":case"dragend":Hm=!1,x3(i,le,L);break;case"selectionchange":if(e8)break;case"keydown":case"keyup":x3(i,le,L)}var m;if(V1)e:{switch(O){case"compositionstart":var h="onCompositionStart";break e;case"compositionend":h="onCompositionEnd";break e;case"compositionupdate":h="onCompositionUpdate";break e}h=void 0}else Mv?sT(O,le)&&(h="onCompositionEnd"):O==="keydown"&&le.keyCode===229&&(h="onCompositionStart");h&&(oT&&le.locale!=="ko"&&(Mv||h!=="onCompositionStart"?h==="onCompositionEnd"&&Mv&&(m=aT()):(Vc=L,N1="value"in Vc?Vc.value:Vc.textContent,Mv=!0)),l=z0(y,h),0<l.length&&(h=new f3(h,O,null,le,L),i.push({event:h,listeners:l}),m?h.data=m:(m=lT(le),m!==null&&(h.data=m)))),(m=HS?GS(O,le):WS(O,le))&&(y=z0(y,"onBeforeInput"),0<y.length&&(L=new f3("onBeforeInput","beforeinput",null,le,L),i.push({event:L,listeners:y}),L.data=m))}bT(i,W)})}function qd(O,W,le){return{instance:O,listener:W,currentTarget:le}}function z0(O,W){for(var le=W+"Capture",ge=[];O!==null;){var Re=O,Pe=Re.stateNode;Re.tag===5&&Pe!==null&&(Re=Pe,Pe=Yd(O,le),Pe!=null&&ge.unshift(qd(O,Pe,Re)),Pe=Yd(O,W),Pe!=null&&ge.push(qd(O,Pe,Re))),O=O.return}return ge}function wv(O){if(O===null)return null;do O=O.return;while(O&&O.tag!==5);return O||null}function T3(O,W,le,ge,Re){for(var Pe=W._reactName,U=[];le!==null&&le!==ge;){var B=le,e=B.alternate,y=B.stateNode;if(e!==null&&e===ge)break;B.tag===5&&y!==null&&(B=y,Re?(e=Yd(le,Pe),e!=null&&U.unshift(qd(le,e,B))):Re||(e=Yd(le,Pe),e!=null&&U.push(qd(le,e,B)))),le=le.return}U.length!==0&&O.push({event:W,listeners:U})}var i8=/\r\n?/g,a8=/\u0000|\uFFFD/g;function A3(O){return(typeof O=="string"?O:""+O).replace(i8,`
`).replace(a8,"")}function n0(O,W,le){if(W=A3(W),A3(O)!==W&&le)throw Error(mi(425))}function F0(){}var Gm=null,Wm=null;function Xm(O,W){return O==="textarea"||O==="noscript"||typeof W.children=="string"||typeof W.children=="number"||typeof W.dangerouslySetInnerHTML=="object"&&W.dangerouslySetInnerHTML!==null&&W.dangerouslySetInnerHTML.__html!=null}var Ym=typeof setTimeout=="function"?setTimeout:void 0,o8=typeof clearTimeout=="function"?clearTimeout:void 0,M3=typeof Promise=="function"?Promise:void 0,s8=typeof queueMicrotask=="function"?queueMicrotask:typeof M3<"u"?function(O){return M3.resolve(null).then(O).catch(l8)}:Ym;function l8(O){setTimeout(function(){throw O})}function wy(O,W){var le=W,ge=0;do{var Re=le.nextSibling;if(O.removeChild(le),Re&&Re.nodeType===8)if(le=Re.data,le==="/$"){if(ge===0){O.removeChild(Re),Kd(W);return}ge--}else le!=="$"&&le!=="$?"&&le!=="$!"||ge++;le=Re}while(le);Kd(W)}function jc(O){for(;O!=null;O=O.nextSibling){var W=O.nodeType;if(W===1||W===3)break;if(W===8){if(W=O.data,W==="$"||W==="$!"||W==="$?")break;if(W==="/$")return null}}return O}function S3(O){O=O.previousSibling;for(var W=0;O;){if(O.nodeType===8){var le=O.data;if(le==="$"||le==="$!"||le==="$?"){if(W===0)return O;W--}else le==="/$"&&W++}O=O.previousSibling}return null}var Qv=Math.random().toString(36).slice(2),sf="__reactFiber$"+Qv,ep="__reactProps$"+Qv,jf="__reactContainer$"+Qv,jm="__reactEvents$"+Qv,u8="__reactListeners$"+Qv,f8="__reactHandles$"+Qv;function Oh(O){var W=O[sf];if(W)return W;for(var le=O.parentNode;le;){if(W=le[jf]||le[sf]){if(le=W.alternate,W.child!==null||le!==null&&le.child!==null)for(O=S3(O);O!==null;){if(le=O[sf])return le;O=S3(O)}return W}O=le,le=O.parentNode}return null}function vp(O){return O=O[sf]||O[jf],!O||O.tag!==5&&O.tag!==6&&O.tag!==13&&O.tag!==3?null:O}function Cv(O){if(O.tag===5||O.tag===6)return O.stateNode;throw Error(mi(33))}function lg(O){return O[ep]||null}var Zm=[],Lv=-1;function rh(O){return{current:O}}function Ka(O){0>Lv||(O.current=Zm[Lv],Zm[Lv]=null,Lv--)}function Ha(O,W){Lv++,Zm[Lv]=O.current,O.current=W}var eh={},Cs=rh(eh),il=rh(!1),Uh=eh;function Vv(O,W){var le=O.type.contextTypes;if(!le)return eh;var ge=O.stateNode;if(ge&&ge.__reactInternalMemoizedUnmaskedChildContext===W)return ge.__reactInternalMemoizedMaskedChildContext;var Re={},Pe;for(Pe in le)Re[Pe]=W[Pe];return ge&&(O=O.stateNode,O.__reactInternalMemoizedUnmaskedChildContext=W,O.__reactInternalMemoizedMaskedChildContext=Re),Re}function al(O){return O=O.childContextTypes,O!=null}function N0(){Ka(il),Ka(Cs)}function E3(O,W,le){if(Cs.current!==eh)throw Error(mi(168));Ha(Cs,W),Ha(il,le)}function TT(O,W,le){var ge=O.stateNode;if(W=W.childContextTypes,typeof ge.getChildContext!="function")return le;ge=ge.getChildContext();for(var Re in ge)if(!(Re in W))throw Error(mi(108,ZM(O)||"Unknown",Re));return po({},le,ge)}function B0(O){return O=(O=O.stateNode)&&O.__reactInternalMemoizedMergedChildContext||eh,Uh=Cs.current,Ha(Cs,O),Ha(il,il.current),!0}function C3(O,W,le){var ge=O.stateNode;if(!ge)throw Error(mi(169));le?(O=TT(O,W,Uh),ge.__reactInternalMemoizedMergedChildContext=O,Ka(il),Ka(Cs),Ha(Cs,O)):Ka(il),Ha(il,le)}var Vf=null,ug=!1,Ty=!1;function AT(O){Vf===null?Vf=[O]:Vf.push(O)}function c8(O){ug=!0,AT(O)}function nh(){if(!Ty&&Vf!==null){Ty=!0;var O=0,W=_a;try{var le=Vf;for(_a=1;O<le.length;O++){var ge=le[O];do ge=ge(!0);while(ge!==null)}Vf=null,ug=!1}catch(Re){throw Vf!==null&&(Vf=Vf.slice(O+1)),Z2(k1,nh),Re}finally{_a=W,Ty=!1}}return null}var Pv=[],Dv=0,U0=null,V0=0,Ql=[],$l=0,Vh=null,Hf=1,Gf="";function _h(O,W){Pv[Dv++]=V0,Pv[Dv++]=U0,U0=O,V0=W}function MT(O,W,le){Ql[$l++]=Hf,Ql[$l++]=Gf,Ql[$l++]=Vh,Vh=O;var ge=Hf;O=Gf;var Re=32-Ou(ge)-1;ge&=~(1<<Re),le+=1;var Pe=32-Ou(W)+Re;if(30<Pe){var U=Re-Re%5;Pe=(ge&(1<<U)-1).toString(32),ge>>=U,Re-=U,Hf=1<<32-Ou(W)+Re|le<<Re|ge,Gf=Pe+O}else Hf=1<<Pe|le<<Re|ge,Gf=O}function G1(O){O.return!==null&&(_h(O,1),MT(O,1,0))}function W1(O){for(;O===U0;)U0=Pv[--Dv],Pv[Dv]=null,V0=Pv[--Dv],Pv[Dv]=null;for(;O===Vh;)Vh=Ql[--$l],Ql[$l]=null,Gf=Ql[--$l],Ql[$l]=null,Hf=Ql[--$l],Ql[$l]=null}var Al=null,Tl=null,to=!1,ku=null;function ST(O,W){var le=ql(5,null,null,0);le.elementType="DELETED",le.stateNode=W,le.return=O,W=O.deletions,W===null?(O.deletions=[le],O.flags|=16):W.push(le)}function L3(O,W){switch(O.tag){case 5:var le=O.type;return W=W.nodeType!==1||le.toLowerCase()!==W.nodeName.toLowerCase()?null:W,W!==null?(O.stateNode=W,Al=O,Tl=jc(W.firstChild),!0):!1;case 6:return W=O.pendingProps===""||W.nodeType!==3?null:W,W!==null?(O.stateNode=W,Al=O,Tl=null,!0):!1;case 13:return W=W.nodeType!==8?null:W,W!==null?(le=Vh!==null?{id:Hf,overflow:Gf}:null,O.memoizedState={dehydrated:W,treeContext:le,retryLane:1073741824},le=ql(18,null,null,0),le.stateNode=W,le.return=O,O.child=le,Al=O,Tl=null,!0):!1;default:return!1}}function Km(O){return(O.mode&1)!==0&&(O.flags&128)===0}function Jm(O){if(to){var W=Tl;if(W){var le=W;if(!L3(O,W)){if(Km(O))throw Error(mi(418));W=jc(le.nextSibling);var ge=Al;W&&L3(O,W)?ST(ge,le):(O.flags=O.flags&-4097|2,to=!1,Al=O)}}else{if(Km(O))throw Error(mi(418));O.flags=O.flags&-4097|2,to=!1,Al=O}}}function P3(O){for(O=O.return;O!==null&&O.tag!==5&&O.tag!==3&&O.tag!==13;)O=O.return;Al=O}function i0(O){if(O!==Al)return!1;if(!to)return P3(O),to=!0,!1;var W;if((W=O.tag!==3)&&!(W=O.tag!==5)&&(W=O.type,W=W!=="head"&&W!=="body"&&!Xm(O.type,O.memoizedProps)),W&&(W=Tl)){if(Km(O))throw ET(),Error(mi(418));for(;W;)ST(O,W),W=jc(W.nextSibling)}if(P3(O),O.tag===13){if(O=O.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(mi(317));e:{for(O=O.nextSibling,W=0;O;){if(O.nodeType===8){var le=O.data;if(le==="/$"){if(W===0){Tl=jc(O.nextSibling);break e}W--}else le!=="$"&&le!=="$!"&&le!=="$?"||W++}O=O.nextSibling}Tl=null}}else Tl=Al?jc(O.stateNode.nextSibling):null;return!0}function ET(){for(var O=Tl;O;)O=jc(O.nextSibling)}function Hv(){Tl=Al=null,to=!1}function X1(O){ku===null?ku=[O]:ku.push(O)}var h8=Jf.ReactCurrentBatchConfig;function Iu(O,W){if(O&&O.defaultProps){W=po({},W),O=O.defaultProps;for(var le in O)W[le]===void 0&&(W[le]=O[le]);return W}return W}var H0=rh(null),G0=null,Rv=null,Y1=null;function j1(){Y1=Rv=G0=null}function Z1(O){var W=H0.current;Ka(H0),O._currentValue=W}function Qm(O,W,le){for(;O!==null;){var ge=O.alternate;if((O.childLanes&W)!==W?(O.childLanes|=W,ge!==null&&(ge.childLanes|=W)):ge!==null&&(ge.childLanes&W)!==W&&(ge.childLanes|=W),O===le)break;O=O.return}}function Nv(O,W){G0=O,Y1=Rv=null,O=O.dependencies,O!==null&&O.firstContext!==null&&(O.lanes&W&&(nl=!0),O.firstContext=null)}function ru(O){var W=O._currentValue;if(Y1!==O)if(O={context:O,memoizedValue:W,next:null},Rv===null){if(G0===null)throw Error(mi(308));Rv=O,G0.dependencies={lanes:0,firstContext:O}}else Rv=Rv.next=O;return W}var zh=null;function K1(O){zh===null?zh=[O]:zh.push(O)}function CT(O,W,le,ge){var Re=W.interleaved;return Re===null?(le.next=le,K1(W)):(le.next=Re.next,Re.next=le),W.interleaved=le,Zf(O,ge)}function Zf(O,W){O.lanes|=W;var le=O.alternate;for(le!==null&&(le.lanes|=W),le=O,O=O.return;O!==null;)O.childLanes|=W,le=O.alternate,le!==null&&(le.childLanes|=W),le=O,O=O.return;return le.tag===3?le.stateNode:null}var Nc=!1;function J1(O){O.updateQueue={baseState:O.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LT(O,W){O=O.updateQueue,W.updateQueue===O&&(W.updateQueue={baseState:O.baseState,firstBaseUpdate:O.firstBaseUpdate,lastBaseUpdate:O.lastBaseUpdate,shared:O.shared,effects:O.effects})}function Wf(O,W){return{eventTime:O,lane:W,tag:0,payload:null,callback:null,next:null}}function Zc(O,W,le){var ge=O.updateQueue;if(ge===null)return null;if(ge=ge.shared,Ma&2){var Re=ge.pending;return Re===null?W.next=W:(W.next=Re.next,Re.next=W),ge.pending=W,Zf(O,le)}return Re=ge.interleaved,Re===null?(W.next=W,K1(ge)):(W.next=Re.next,Re.next=W),ge.interleaved=W,Zf(O,le)}function m0(O,W,le){if(W=W.updateQueue,W!==null&&(W=W.shared,(le&4194240)!==0)){var ge=W.lanes;ge&=O.pendingLanes,le|=ge,W.lanes=le,O1(O,le)}}function D3(O,W){var le=O.updateQueue,ge=O.alternate;if(ge!==null&&(ge=ge.updateQueue,le===ge)){var Re=null,Pe=null;if(le=le.firstBaseUpdate,le!==null){do{var U={eventTime:le.eventTime,lane:le.lane,tag:le.tag,payload:le.payload,callback:le.callback,next:null};Pe===null?Re=Pe=U:Pe=Pe.next=U,le=le.next}while(le!==null);Pe===null?Re=Pe=W:Pe=Pe.next=W}else Re=Pe=W;le={baseState:ge.baseState,firstBaseUpdate:Re,lastBaseUpdate:Pe,shared:ge.shared,effects:ge.effects},O.updateQueue=le;return}O=le.lastBaseUpdate,O===null?le.firstBaseUpdate=W:O.next=W,le.lastBaseUpdate=W}function W0(O,W,le,ge){var Re=O.updateQueue;Nc=!1;var Pe=Re.firstBaseUpdate,U=Re.lastBaseUpdate,B=Re.shared.pending;if(B!==null){Re.shared.pending=null;var e=B,y=e.next;e.next=null,U===null?Pe=y:U.next=y,U=e;var L=O.alternate;L!==null&&(L=L.updateQueue,B=L.lastBaseUpdate,B!==U&&(B===null?L.firstBaseUpdate=y:B.next=y,L.lastBaseUpdate=e))}if(Pe!==null){var i=Re.baseState;U=0,L=y=e=null,B=Pe;do{var S=B.lane,b=B.eventTime;if((ge&S)===S){L!==null&&(L=L.next={eventTime:b,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var v=O,p=B;switch(S=W,b=le,p.tag){case 1:if(v=p.payload,typeof v=="function"){i=v.call(b,i,S);break e}i=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,S=typeof v=="function"?v.call(b,i,S):v,S==null)break e;i=po({},i,S);break e;case 2:Nc=!0}}B.callback!==null&&B.lane!==0&&(O.flags|=64,S=Re.effects,S===null?Re.effects=[B]:S.push(B))}else b={eventTime:b,lane:S,tag:B.tag,payload:B.payload,callback:B.callback,next:null},L===null?(y=L=b,e=i):L=L.next=b,U|=S;if(B=B.next,B===null){if(B=Re.shared.pending,B===null)break;S=B,B=S.next,S.next=null,Re.lastBaseUpdate=S,Re.shared.pending=null}}while(!0);if(L===null&&(e=i),Re.baseState=e,Re.firstBaseUpdate=y,Re.lastBaseUpdate=L,W=Re.shared.interleaved,W!==null){Re=W;do U|=Re.lane,Re=Re.next;while(Re!==W)}else Pe===null&&(Re.shared.lanes=0);Gh|=U,O.lanes=U,O.memoizedState=i}}function R3(O,W,le){if(O=W.effects,W.effects=null,O!==null)for(W=0;W<O.length;W++){var ge=O[W],Re=ge.callback;if(Re!==null){if(ge.callback=null,ge=le,typeof Re!="function")throw Error(mi(191,Re));Re.call(ge)}}}var PT=new C2.Component().refs;function $m(O,W,le,ge){W=O.memoizedState,le=le(ge,W),le=le==null?W:po({},W,le),O.memoizedState=le,O.lanes===0&&(O.updateQueue.baseState=le)}var fg={isMounted:function(O){return(O=O._reactInternals)?Yh(O)===O:!1},enqueueSetState:function(O,W,le){O=O._reactInternals;var ge=Bs(),Re=Jc(O),Pe=Wf(ge,Re);Pe.payload=W,le!=null&&(Pe.callback=le),W=Zc(O,Pe,Re),W!==null&&(zu(W,O,Re,ge),m0(W,O,Re))},enqueueReplaceState:function(O,W,le){O=O._reactInternals;var ge=Bs(),Re=Jc(O),Pe=Wf(ge,Re);Pe.tag=1,Pe.payload=W,le!=null&&(Pe.callback=le),W=Zc(O,Pe,Re),W!==null&&(zu(W,O,Re,ge),m0(W,O,Re))},enqueueForceUpdate:function(O,W){O=O._reactInternals;var le=Bs(),ge=Jc(O),Re=Wf(le,ge);Re.tag=2,W!=null&&(Re.callback=W),W=Zc(O,Re,ge),W!==null&&(zu(W,O,ge,le),m0(W,O,ge))}};function I3(O,W,le,ge,Re,Pe,U){return O=O.stateNode,typeof O.shouldComponentUpdate=="function"?O.shouldComponentUpdate(ge,Pe,U):W.prototype&&W.prototype.isPureReactComponent?!Qd(le,ge)||!Qd(Re,Pe):!0}function DT(O,W,le){var ge=!1,Re=eh,Pe=W.contextType;return typeof Pe=="object"&&Pe!==null?Pe=ru(Pe):(Re=al(W)?Uh:Cs.current,ge=W.contextTypes,Pe=(ge=ge!=null)?Vv(O,Re):eh),W=new W(le,Pe),O.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,W.updater=fg,O.stateNode=W,W._reactInternals=O,ge&&(O=O.stateNode,O.__reactInternalMemoizedUnmaskedChildContext=Re,O.__reactInternalMemoizedMaskedChildContext=Pe),W}function _3(O,W,le,ge){O=W.state,typeof W.componentWillReceiveProps=="function"&&W.componentWillReceiveProps(le,ge),typeof W.UNSAFE_componentWillReceiveProps=="function"&&W.UNSAFE_componentWillReceiveProps(le,ge),W.state!==O&&fg.enqueueReplaceState(W,W.state,null)}function qm(O,W,le,ge){var Re=O.stateNode;Re.props=le,Re.state=O.memoizedState,Re.refs=PT,J1(O);var Pe=W.contextType;typeof Pe=="object"&&Pe!==null?Re.context=ru(Pe):(Pe=al(W)?Uh:Cs.current,Re.context=Vv(O,Pe)),Re.state=O.memoizedState,Pe=W.getDerivedStateFromProps,typeof Pe=="function"&&($m(O,W,Pe,le),Re.state=O.memoizedState),typeof W.getDerivedStateFromProps=="function"||typeof Re.getSnapshotBeforeUpdate=="function"||typeof Re.UNSAFE_componentWillMount!="function"&&typeof Re.componentWillMount!="function"||(W=Re.state,typeof Re.componentWillMount=="function"&&Re.componentWillMount(),typeof Re.UNSAFE_componentWillMount=="function"&&Re.UNSAFE_componentWillMount(),W!==Re.state&&fg.enqueueReplaceState(Re,Re.state,null),W0(O,le,Re,ge),Re.state=O.memoizedState),typeof Re.componentDidMount=="function"&&(O.flags|=4194308)}function Ed(O,W,le){if(O=le.ref,O!==null&&typeof O!="function"&&typeof O!="object"){if(le._owner){if(le=le._owner,le){if(le.tag!==1)throw Error(mi(309));var ge=le.stateNode}if(!ge)throw Error(mi(147,O));var Re=ge,Pe=""+O;return W!==null&&W.ref!==null&&typeof W.ref=="function"&&W.ref._stringRef===Pe?W.ref:(W=function(U){var B=Re.refs;B===PT&&(B=Re.refs={}),U===null?delete B[Pe]:B[Pe]=U},W._stringRef=Pe,W)}if(typeof O!="string")throw Error(mi(284));if(!le._owner)throw Error(mi(290,O))}return O}function a0(O,W){throw O=Object.prototype.toString.call(W),Error(mi(31,O==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":O))}function k3(O){var W=O._init;return W(O._payload)}function RT(O){function W(t,a){if(O){var n=t.deletions;n===null?(t.deletions=[a],t.flags|=16):n.push(a)}}function le(t,a){if(!O)return null;for(;a!==null;)W(t,a),a=a.sibling;return null}function ge(t,a){for(t=new Map;a!==null;)a.key!==null?t.set(a.key,a):t.set(a.index,a),a=a.sibling;return t}function Re(t,a){return t=Qc(t,a),t.index=0,t.sibling=null,t}function Pe(t,a,n){return t.index=n,O?(n=t.alternate,n!==null?(n=n.index,n<a?(t.flags|=2,a):n):(t.flags|=2,a)):(t.flags|=1048576,a)}function U(t){return O&&t.alternate===null&&(t.flags|=2),t}function B(t,a,n,u){return a===null||a.tag!==6?(a=Py(n,t.mode,u),a.return=t,a):(a=Re(a,n),a.return=t,a)}function e(t,a,n,u){var s=n.type;return s===Av?L(t,a,n.props.children,u,n.key):a!==null&&(a.elementType===s||typeof s=="object"&&s!==null&&s.$$typeof===Fc&&k3(s)===a.type)?(u=Re(a,n.props),u.ref=Ed(t,a,n),u.return=t,u):(u=M0(n.type,n.key,n.props,null,t.mode,u),u.ref=Ed(t,a,n),u.return=t,u)}function y(t,a,n,u){return a===null||a.tag!==4||a.stateNode.containerInfo!==n.containerInfo||a.stateNode.implementation!==n.implementation?(a=Dy(n,t.mode,u),a.return=t,a):(a=Re(a,n.children||[]),a.return=t,a)}function L(t,a,n,u,s){return a===null||a.tag!==7?(a=Bh(n,t.mode,u,s),a.return=t,a):(a=Re(a,n),a.return=t,a)}function i(t,a,n){if(typeof a=="string"&&a!==""||typeof a=="number")return a=Py(""+a,t.mode,n),a.return=t,a;if(typeof a=="object"&&a!==null){switch(a.$$typeof){case Zp:return n=M0(a.type,a.key,a.props,null,t.mode,n),n.ref=Ed(t,null,a),n.return=t,n;case Tv:return a=Dy(a,t.mode,n),a.return=t,a;case Fc:var u=a._init;return i(t,u(a._payload),n)}if(Id(a)||wd(a))return a=Bh(a,t.mode,n,null),a.return=t,a;a0(t,a)}return null}function S(t,a,n,u){var s=a!==null?a.key:null;if(typeof n=="string"&&n!==""||typeof n=="number")return s!==null?null:B(t,a,""+n,u);if(typeof n=="object"&&n!==null){switch(n.$$typeof){case Zp:return n.key===s?e(t,a,n,u):null;case Tv:return n.key===s?y(t,a,n,u):null;case Fc:return s=n._init,S(t,a,s(n._payload),u)}if(Id(n)||wd(n))return s!==null?null:L(t,a,n,u,null);a0(t,n)}return null}function b(t,a,n,u,s){if(typeof u=="string"&&u!==""||typeof u=="number")return t=t.get(n)||null,B(a,t,""+u,s);if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Zp:return t=t.get(u.key===null?n:u.key)||null,e(a,t,u,s);case Tv:return t=t.get(u.key===null?n:u.key)||null,y(a,t,u,s);case Fc:var l=u._init;return b(t,a,n,l(u._payload),s)}if(Id(u)||wd(u))return t=t.get(n)||null,L(a,t,u,s,null);a0(a,u)}return null}function v(t,a,n,u){for(var s=null,l=null,m=a,h=a=0,g=null;m!==null&&h<n.length;h++){m.index>h?(g=m,m=null):g=m.sibling;var c=S(t,m,n[h],u);if(c===null){m===null&&(m=g);break}O&&m&&c.alternate===null&&W(t,m),a=Pe(c,a,h),l===null?s=c:l.sibling=c,l=c,m=g}if(h===n.length)return le(t,m),to&&_h(t,h),s;if(m===null){for(;h<n.length;h++)m=i(t,n[h],u),m!==null&&(a=Pe(m,a,h),l===null?s=m:l.sibling=m,l=m);return to&&_h(t,h),s}for(m=ge(t,m);h<n.length;h++)g=b(m,t,h,n[h],u),g!==null&&(O&&g.alternate!==null&&m.delete(g.key===null?h:g.key),a=Pe(g,a,h),l===null?s=g:l.sibling=g,l=g);return O&&m.forEach(function(o){return W(t,o)}),to&&_h(t,h),s}function p(t,a,n,u){var s=wd(n);if(typeof s!="function")throw Error(mi(150));if(n=s.call(n),n==null)throw Error(mi(151));for(var l=s=null,m=a,h=a=0,g=null,c=n.next();m!==null&&!c.done;h++,c=n.next()){m.index>h?(g=m,m=null):g=m.sibling;var o=S(t,m,c.value,u);if(o===null){m===null&&(m=g);break}O&&m&&o.alternate===null&&W(t,m),a=Pe(o,a,h),l===null?s=o:l.sibling=o,l=o,m=g}if(c.done)return le(t,m),to&&_h(t,h),s;if(m===null){for(;!c.done;h++,c=n.next())c=i(t,c.value,u),c!==null&&(a=Pe(c,a,h),l===null?s=c:l.sibling=c,l=c);return to&&_h(t,h),s}for(m=ge(t,m);!c.done;h++,c=n.next())c=b(m,t,h,c.value,u),c!==null&&(O&&c.alternate!==null&&m.delete(c.key===null?h:c.key),a=Pe(c,a,h),l===null?s=c:l.sibling=c,l=c);return O&&m.forEach(function(d){return W(t,d)}),to&&_h(t,h),s}function r(t,a,n,u){if(typeof n=="object"&&n!==null&&n.type===Av&&n.key===null&&(n=n.props.children),typeof n=="object"&&n!==null){switch(n.$$typeof){case Zp:e:{for(var s=n.key,l=a;l!==null;){if(l.key===s){if(s=n.type,s===Av){if(l.tag===7){le(t,l.sibling),a=Re(l,n.props.children),a.return=t,t=a;break e}}else if(l.elementType===s||typeof s=="object"&&s!==null&&s.$$typeof===Fc&&k3(s)===l.type){le(t,l.sibling),a=Re(l,n.props),a.ref=Ed(t,l,n),a.return=t,t=a;break e}le(t,l);break}else W(t,l);l=l.sibling}n.type===Av?(a=Bh(n.props.children,t.mode,u,n.key),a.return=t,t=a):(u=M0(n.type,n.key,n.props,null,t.mode,u),u.ref=Ed(t,a,n),u.return=t,t=u)}return U(t);case Tv:e:{for(l=n.key;a!==null;){if(a.key===l)if(a.tag===4&&a.stateNode.containerInfo===n.containerInfo&&a.stateNode.implementation===n.implementation){le(t,a.sibling),a=Re(a,n.children||[]),a.return=t,t=a;break e}else{le(t,a);break}else W(t,a);a=a.sibling}a=Dy(n,t.mode,u),a.return=t,t=a}return U(t);case Fc:return l=n._init,r(t,a,l(n._payload),u)}if(Id(n))return v(t,a,n,u);if(wd(n))return p(t,a,n,u);a0(t,n)}return typeof n=="string"&&n!==""||typeof n=="number"?(n=""+n,a!==null&&a.tag===6?(le(t,a.sibling),a=Re(a,n),a.return=t,t=a):(le(t,a),a=Py(n,t.mode,u),a.return=t,t=a),U(t)):le(t,a)}return r}var Gv=RT(!0),IT=RT(!1),dp={},ff=rh(dp),tp=rh(dp),rp=rh(dp);function Fh(O){if(O===dp)throw Error(mi(174));return O}function Q1(O,W){switch(Ha(rp,W),Ha(tp,O),Ha(ff,dp),O=W.nodeType,O){case 9:case 11:W=(W=W.documentElement)?W.namespaceURI:Rm(null,"");break;default:O=O===8?W.parentNode:W,W=O.namespaceURI||null,O=O.tagName,W=Rm(W,O)}Ka(ff),Ha(ff,W)}function Wv(){Ka(ff),Ka(tp),Ka(rp)}function _T(O){Fh(rp.current);var W=Fh(ff.current),le=Rm(W,O.type);W!==le&&(Ha(tp,O),Ha(ff,le))}function $1(O){tp.current===O&&(Ka(ff),Ka(tp))}var ho=rh(0);function X0(O){for(var W=O;W!==null;){if(W.tag===13){var le=W.memoizedState;if(le!==null&&(le=le.dehydrated,le===null||le.data==="$?"||le.data==="$!"))return W}else if(W.tag===19&&W.memoizedProps.revealOrder!==void 0){if(W.flags&128)return W}else if(W.child!==null){W.child.return=W,W=W.child;continue}if(W===O)break;for(;W.sibling===null;){if(W.return===null||W.return===O)return null;W=W.return}W.sibling.return=W.return,W=W.sibling}return null}var Ay=[];function q1(){for(var O=0;O<Ay.length;O++)Ay[O]._workInProgressVersionPrimary=null;Ay.length=0}var x0=Jf.ReactCurrentDispatcher,My=Jf.ReactCurrentBatchConfig,Hh=0,vo=null,Ho=null,Ko=null,Y0=!1,Ud=!1,np=0,v8=0;function Ms(){throw Error(mi(321))}function ex(O,W){if(W===null)return!1;for(var le=0;le<W.length&&le<O.length;le++)if(!Fu(O[le],W[le]))return!1;return!0}function tx(O,W,le,ge,Re,Pe){if(Hh=Pe,vo=W,W.memoizedState=null,W.updateQueue=null,W.lanes=0,x0.current=O===null||O.memoizedState===null?y8:m8,O=le(ge,Re),Ud){Pe=0;do{if(Ud=!1,np=0,25<=Pe)throw Error(mi(301));Pe+=1,Ko=Ho=null,W.updateQueue=null,x0.current=x8,O=le(ge,Re)}while(Ud)}if(x0.current=j0,W=Ho!==null&&Ho.next!==null,Hh=0,Ko=Ho=vo=null,Y0=!1,W)throw Error(mi(300));return O}function rx(){var O=np!==0;return np=0,O}function of(){var O={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ko===null?vo.memoizedState=Ko=O:Ko=Ko.next=O,Ko}function nu(){if(Ho===null){var O=vo.alternate;O=O!==null?O.memoizedState:null}else O=Ho.next;var W=Ko===null?vo.memoizedState:Ko.next;if(W!==null)Ko=W,Ho=O;else{if(O===null)throw Error(mi(310));Ho=O,O={memoizedState:Ho.memoizedState,baseState:Ho.baseState,baseQueue:Ho.baseQueue,queue:Ho.queue,next:null},Ko===null?vo.memoizedState=Ko=O:Ko=Ko.next=O}return Ko}function ip(O,W){return typeof W=="function"?W(O):W}function Sy(O){var W=nu(),le=W.queue;if(le===null)throw Error(mi(311));le.lastRenderedReducer=O;var ge=Ho,Re=ge.baseQueue,Pe=le.pending;if(Pe!==null){if(Re!==null){var U=Re.next;Re.next=Pe.next,Pe.next=U}ge.baseQueue=Re=Pe,le.pending=null}if(Re!==null){Pe=Re.next,ge=ge.baseState;var B=U=null,e=null,y=Pe;do{var L=y.lane;if((Hh&L)===L)e!==null&&(e=e.next={lane:0,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null}),ge=y.hasEagerState?y.eagerState:O(ge,y.action);else{var i={lane:L,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null};e===null?(B=e=i,U=ge):e=e.next=i,vo.lanes|=L,Gh|=L}y=y.next}while(y!==null&&y!==Pe);e===null?U=ge:e.next=B,Fu(ge,W.memoizedState)||(nl=!0),W.memoizedState=ge,W.baseState=U,W.baseQueue=e,le.lastRenderedState=ge}if(O=le.interleaved,O!==null){Re=O;do Pe=Re.lane,vo.lanes|=Pe,Gh|=Pe,Re=Re.next;while(Re!==O)}else Re===null&&(le.lanes=0);return[W.memoizedState,le.dispatch]}function Ey(O){var W=nu(),le=W.queue;if(le===null)throw Error(mi(311));le.lastRenderedReducer=O;var ge=le.dispatch,Re=le.pending,Pe=W.memoizedState;if(Re!==null){le.pending=null;var U=Re=Re.next;do Pe=O(Pe,U.action),U=U.next;while(U!==Re);Fu(Pe,W.memoizedState)||(nl=!0),W.memoizedState=Pe,W.baseQueue===null&&(W.baseState=Pe),le.lastRenderedState=Pe}return[Pe,ge]}function kT(){}function OT(O,W){var le=vo,ge=nu(),Re=W(),Pe=!Fu(ge.memoizedState,Re);if(Pe&&(ge.memoizedState=Re,nl=!0),ge=ge.queue,nx(NT.bind(null,le,ge,O),[O]),ge.getSnapshot!==W||Pe||Ko!==null&&Ko.memoizedState.tag&1){if(le.flags|=2048,ap(9,FT.bind(null,le,ge,Re,W),void 0,null),Jo===null)throw Error(mi(349));Hh&30||zT(le,W,Re)}return Re}function zT(O,W,le){O.flags|=16384,O={getSnapshot:W,value:le},W=vo.updateQueue,W===null?(W={lastEffect:null,stores:null},vo.updateQueue=W,W.stores=[O]):(le=W.stores,le===null?W.stores=[O]:le.push(O))}function FT(O,W,le,ge){W.value=le,W.getSnapshot=ge,BT(W)&&UT(O)}function NT(O,W,le){return le(function(){BT(W)&&UT(O)})}function BT(O){var W=O.getSnapshot;O=O.value;try{var le=W();return!Fu(O,le)}catch{return!0}}function UT(O){var W=Zf(O,1);W!==null&&zu(W,O,1,-1)}function O3(O){var W=of();return typeof O=="function"&&(O=O()),W.memoizedState=W.baseState=O,O={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ip,lastRenderedState:O},W.queue=O,O=O.dispatch=g8.bind(null,vo,O),[W.memoizedState,O]}function ap(O,W,le,ge){return O={tag:O,create:W,destroy:le,deps:ge,next:null},W=vo.updateQueue,W===null?(W={lastEffect:null,stores:null},vo.updateQueue=W,W.lastEffect=O.next=O):(le=W.lastEffect,le===null?W.lastEffect=O.next=O:(ge=le.next,le.next=O,O.next=ge,W.lastEffect=O)),O}function VT(){return nu().memoizedState}function b0(O,W,le,ge){var Re=of();vo.flags|=O,Re.memoizedState=ap(1|W,le,void 0,ge===void 0?null:ge)}function cg(O,W,le,ge){var Re=nu();ge=ge===void 0?null:ge;var Pe=void 0;if(Ho!==null){var U=Ho.memoizedState;if(Pe=U.destroy,ge!==null&&ex(ge,U.deps)){Re.memoizedState=ap(W,le,Pe,ge);return}}vo.flags|=O,Re.memoizedState=ap(1|W,le,Pe,ge)}function z3(O,W){return b0(8390656,8,O,W)}function nx(O,W){return cg(2048,8,O,W)}function HT(O,W){return cg(4,2,O,W)}function GT(O,W){return cg(4,4,O,W)}function WT(O,W){if(typeof W=="function")return O=O(),W(O),function(){W(null)};if(W!=null)return O=O(),W.current=O,function(){W.current=null}}function XT(O,W,le){return le=le!=null?le.concat([O]):null,cg(4,4,WT.bind(null,W,O),le)}function ix(){}function YT(O,W){var le=nu();W=W===void 0?null:W;var ge=le.memoizedState;return ge!==null&&W!==null&&ex(W,ge[1])?ge[0]:(le.memoizedState=[O,W],O)}function jT(O,W){var le=nu();W=W===void 0?null:W;var ge=le.memoizedState;return ge!==null&&W!==null&&ex(W,ge[1])?ge[0]:(O=O(),le.memoizedState=[O,W],O)}function ZT(O,W,le){return Hh&21?(Fu(le,W)||(le=Q2(),vo.lanes|=le,Gh|=le,O.baseState=!0),W):(O.baseState&&(O.baseState=!1,nl=!0),O.memoizedState=le)}function d8(O,W){var le=_a;_a=le!==0&&4>le?le:4,O(!0);var ge=My.transition;My.transition={};try{O(!1),W()}finally{_a=le,My.transition=ge}}function KT(){return nu().memoizedState}function p8(O,W,le){var ge=Jc(O);if(le={lane:ge,action:le,hasEagerState:!1,eagerState:null,next:null},JT(O))QT(W,le);else if(le=CT(O,W,le,ge),le!==null){var Re=Bs();zu(le,O,ge,Re),$T(le,W,ge)}}function g8(O,W,le){var ge=Jc(O),Re={lane:ge,action:le,hasEagerState:!1,eagerState:null,next:null};if(JT(O))QT(W,Re);else{var Pe=O.alternate;if(O.lanes===0&&(Pe===null||Pe.lanes===0)&&(Pe=W.lastRenderedReducer,Pe!==null))try{var U=W.lastRenderedState,B=Pe(U,le);if(Re.hasEagerState=!0,Re.eagerState=B,Fu(B,U)){var e=W.interleaved;e===null?(Re.next=Re,K1(W)):(Re.next=e.next,e.next=Re),W.interleaved=Re;return}}catch{}finally{}le=CT(O,W,Re,ge),le!==null&&(Re=Bs(),zu(le,O,ge,Re),$T(le,W,ge))}}function JT(O){var W=O.alternate;return O===vo||W!==null&&W===vo}function QT(O,W){Ud=Y0=!0;var le=O.pending;le===null?W.next=W:(W.next=le.next,le.next=W),O.pending=W}function $T(O,W,le){if(le&4194240){var ge=W.lanes;ge&=O.pendingLanes,le|=ge,W.lanes=le,O1(O,le)}}var j0={readContext:ru,useCallback:Ms,useContext:Ms,useEffect:Ms,useImperativeHandle:Ms,useInsertionEffect:Ms,useLayoutEffect:Ms,useMemo:Ms,useReducer:Ms,useRef:Ms,useState:Ms,useDebugValue:Ms,useDeferredValue:Ms,useTransition:Ms,useMutableSource:Ms,useSyncExternalStore:Ms,useId:Ms,unstable_isNewReconciler:!1},y8={readContext:ru,useCallback:function(O,W){return of().memoizedState=[O,W===void 0?null:W],O},useContext:ru,useEffect:z3,useImperativeHandle:function(O,W,le){return le=le!=null?le.concat([O]):null,b0(4194308,4,WT.bind(null,W,O),le)},useLayoutEffect:function(O,W){return b0(4194308,4,O,W)},useInsertionEffect:function(O,W){return b0(4,2,O,W)},useMemo:function(O,W){var le=of();return W=W===void 0?null:W,O=O(),le.memoizedState=[O,W],O},useReducer:function(O,W,le){var ge=of();return W=le!==void 0?le(W):W,ge.memoizedState=ge.baseState=W,O={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:O,lastRenderedState:W},ge.queue=O,O=O.dispatch=p8.bind(null,vo,O),[ge.memoizedState,O]},useRef:function(O){var W=of();return O={current:O},W.memoizedState=O},useState:O3,useDebugValue:ix,useDeferredValue:function(O){return of().memoizedState=O},useTransition:function(){var O=O3(!1),W=O[0];return O=d8.bind(null,O[1]),of().memoizedState=O,[W,O]},useMutableSource:function(){},useSyncExternalStore:function(O,W,le){var ge=vo,Re=of();if(to){if(le===void 0)throw Error(mi(407));le=le()}else{if(le=W(),Jo===null)throw Error(mi(349));Hh&30||zT(ge,W,le)}Re.memoizedState=le;var Pe={value:le,getSnapshot:W};return Re.queue=Pe,z3(NT.bind(null,ge,Pe,O),[O]),ge.flags|=2048,ap(9,FT.bind(null,ge,Pe,le,W),void 0,null),le},useId:function(){var O=of(),W=Jo.identifierPrefix;if(to){var le=Gf,ge=Hf;le=(ge&~(1<<32-Ou(ge)-1)).toString(32)+le,W=":"+W+"R"+le,le=np++,0<le&&(W+="H"+le.toString(32)),W+=":"}else le=v8++,W=":"+W+"r"+le.toString(32)+":";return O.memoizedState=W},unstable_isNewReconciler:!1},m8={readContext:ru,useCallback:YT,useContext:ru,useEffect:nx,useImperativeHandle:XT,useInsertionEffect:HT,useLayoutEffect:GT,useMemo:jT,useReducer:Sy,useRef:VT,useState:function(){return Sy(ip)},useDebugValue:ix,useDeferredValue:function(O){var W=nu();return ZT(W,Ho.memoizedState,O)},useTransition:function(){var O=Sy(ip)[0],W=nu().memoizedState;return[O,W]},useMutableSource:kT,useSyncExternalStore:OT,useId:KT,unstable_isNewReconciler:!1},x8={readContext:ru,useCallback:YT,useContext:ru,useEffect:nx,useImperativeHandle:XT,useInsertionEffect:HT,useLayoutEffect:GT,useMemo:jT,useReducer:Ey,useRef:VT,useState:function(){return Ey(ip)},useDebugValue:ix,useDeferredValue:function(O){var W=nu();return Ho===null?W.memoizedState=O:ZT(W,Ho.memoizedState,O)},useTransition:function(){var O=Ey(ip)[0],W=nu().memoizedState;return[O,W]},useMutableSource:kT,useSyncExternalStore:OT,useId:KT,unstable_isNewReconciler:!1};function Xv(O,W){try{var le="",ge=W;do le+=jM(ge),ge=ge.return;while(ge);var Re=le}catch(Pe){Re=`
Error generating stack: `+Pe.message+`
`+Pe.stack}return{value:O,source:W,stack:Re,digest:null}}function Cy(O,W,le){return{value:O,source:null,stack:le??null,digest:W??null}}function e1(O,W){try{console.error(W.value)}catch(le){setTimeout(function(){throw le})}}var b8=typeof WeakMap=="function"?WeakMap:Map;function qT(O,W,le){le=Wf(-1,le),le.tag=3,le.payload={element:null};var ge=W.value;return le.callback=function(){K0||(K0=!0,f1=ge),e1(O,W)},le}function e4(O,W,le){le=Wf(-1,le),le.tag=3;var ge=O.type.getDerivedStateFromError;if(typeof ge=="function"){var Re=W.value;le.payload=function(){return ge(Re)},le.callback=function(){e1(O,W)}}var Pe=O.stateNode;return Pe!==null&&typeof Pe.componentDidCatch=="function"&&(le.callback=function(){e1(O,W),typeof ge!="function"&&(Kc===null?Kc=new Set([this]):Kc.add(this));var U=W.stack;this.componentDidCatch(W.value,{componentStack:U!==null?U:""})}),le}function F3(O,W,le){var ge=O.pingCache;if(ge===null){ge=O.pingCache=new b8;var Re=new Set;ge.set(W,Re)}else Re=ge.get(W),Re===void 0&&(Re=new Set,ge.set(W,Re));Re.has(le)||(Re.add(le),O=k8.bind(null,O,W,le),W.then(O,O))}function N3(O){do{var W;if((W=O.tag===13)&&(W=O.memoizedState,W=W!==null?W.dehydrated!==null:!0),W)return O;O=O.return}while(O!==null);return null}function B3(O,W,le,ge,Re){return O.mode&1?(O.flags|=65536,O.lanes=Re,O):(O===W?O.flags|=65536:(O.flags|=128,le.flags|=131072,le.flags&=-52805,le.tag===1&&(le.alternate===null?le.tag=17:(W=Wf(-1,1),W.tag=2,Zc(le,W,1))),le.lanes|=1),O)}var w8=Jf.ReactCurrentOwner,nl=!1;function Ns(O,W,le,ge){W.child=O===null?IT(W,null,le,ge):Gv(W,O.child,le,ge)}function U3(O,W,le,ge,Re){le=le.render;var Pe=W.ref;return Nv(W,Re),ge=tx(O,W,le,ge,Pe,Re),le=rx(),O!==null&&!nl?(W.updateQueue=O.updateQueue,W.flags&=-2053,O.lanes&=~Re,Kf(O,W,Re)):(to&&le&&G1(W),W.flags|=1,Ns(O,W,ge,Re),W.child)}function V3(O,W,le,ge,Re){if(O===null){var Pe=le.type;return typeof Pe=="function"&&!hx(Pe)&&Pe.defaultProps===void 0&&le.compare===null&&le.defaultProps===void 0?(W.tag=15,W.type=Pe,t4(O,W,Pe,ge,Re)):(O=M0(le.type,null,ge,W,W.mode,Re),O.ref=W.ref,O.return=W,W.child=O)}if(Pe=O.child,!(O.lanes&Re)){var U=Pe.memoizedProps;if(le=le.compare,le=le!==null?le:Qd,le(U,ge)&&O.ref===W.ref)return Kf(O,W,Re)}return W.flags|=1,O=Qc(Pe,ge),O.ref=W.ref,O.return=W,W.child=O}function t4(O,W,le,ge,Re){if(O!==null){var Pe=O.memoizedProps;if(Qd(Pe,ge)&&O.ref===W.ref)if(nl=!1,W.pendingProps=ge=Pe,(O.lanes&Re)!==0)O.flags&131072&&(nl=!0);else return W.lanes=O.lanes,Kf(O,W,Re)}return t1(O,W,le,ge,Re)}function r4(O,W,le){var ge=W.pendingProps,Re=ge.children,Pe=O!==null?O.memoizedState:null;if(ge.mode==="hidden")if(!(W.mode&1))W.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ha(_v,wl),wl|=le;else{if(!(le&1073741824))return O=Pe!==null?Pe.baseLanes|le:le,W.lanes=W.childLanes=1073741824,W.memoizedState={baseLanes:O,cachePool:null,transitions:null},W.updateQueue=null,Ha(_v,wl),wl|=O,null;W.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge=Pe!==null?Pe.baseLanes:le,Ha(_v,wl),wl|=ge}else Pe!==null?(ge=Pe.baseLanes|le,W.memoizedState=null):ge=le,Ha(_v,wl),wl|=ge;return Ns(O,W,Re,le),W.child}function n4(O,W){var le=W.ref;(O===null&&le!==null||O!==null&&O.ref!==le)&&(W.flags|=512,W.flags|=2097152)}function t1(O,W,le,ge,Re){var Pe=al(le)?Uh:Cs.current;return Pe=Vv(W,Pe),Nv(W,Re),le=tx(O,W,le,ge,Pe,Re),ge=rx(),O!==null&&!nl?(W.updateQueue=O.updateQueue,W.flags&=-2053,O.lanes&=~Re,Kf(O,W,Re)):(to&&ge&&G1(W),W.flags|=1,Ns(O,W,le,Re),W.child)}function H3(O,W,le,ge,Re){if(al(le)){var Pe=!0;B0(W)}else Pe=!1;if(Nv(W,Re),W.stateNode===null)w0(O,W),DT(W,le,ge),qm(W,le,ge,Re),ge=!0;else if(O===null){var U=W.stateNode,B=W.memoizedProps;U.props=B;var e=U.context,y=le.contextType;typeof y=="object"&&y!==null?y=ru(y):(y=al(le)?Uh:Cs.current,y=Vv(W,y));var L=le.getDerivedStateFromProps,i=typeof L=="function"||typeof U.getSnapshotBeforeUpdate=="function";i||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(B!==ge||e!==y)&&_3(W,U,ge,y),Nc=!1;var S=W.memoizedState;U.state=S,W0(W,ge,U,Re),e=W.memoizedState,B!==ge||S!==e||il.current||Nc?(typeof L=="function"&&($m(W,le,L,ge),e=W.memoizedState),(B=Nc||I3(W,le,B,ge,S,e,y))?(i||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(W.flags|=4194308)):(typeof U.componentDidMount=="function"&&(W.flags|=4194308),W.memoizedProps=ge,W.memoizedState=e),U.props=ge,U.state=e,U.context=y,ge=B):(typeof U.componentDidMount=="function"&&(W.flags|=4194308),ge=!1)}else{U=W.stateNode,LT(O,W),B=W.memoizedProps,y=W.type===W.elementType?B:Iu(W.type,B),U.props=y,i=W.pendingProps,S=U.context,e=le.contextType,typeof e=="object"&&e!==null?e=ru(e):(e=al(le)?Uh:Cs.current,e=Vv(W,e));var b=le.getDerivedStateFromProps;(L=typeof b=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(B!==i||S!==e)&&_3(W,U,ge,e),Nc=!1,S=W.memoizedState,U.state=S,W0(W,ge,U,Re);var v=W.memoizedState;B!==i||S!==v||il.current||Nc?(typeof b=="function"&&($m(W,le,b,ge),v=W.memoizedState),(y=Nc||I3(W,le,y,ge,S,v,e)||!1)?(L||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(ge,v,e),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(ge,v,e)),typeof U.componentDidUpdate=="function"&&(W.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(W.flags|=1024)):(typeof U.componentDidUpdate!="function"||B===O.memoizedProps&&S===O.memoizedState||(W.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||B===O.memoizedProps&&S===O.memoizedState||(W.flags|=1024),W.memoizedProps=ge,W.memoizedState=v),U.props=ge,U.state=v,U.context=e,ge=y):(typeof U.componentDidUpdate!="function"||B===O.memoizedProps&&S===O.memoizedState||(W.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||B===O.memoizedProps&&S===O.memoizedState||(W.flags|=1024),ge=!1)}return r1(O,W,le,ge,Pe,Re)}function r1(O,W,le,ge,Re,Pe){n4(O,W);var U=(W.flags&128)!==0;if(!ge&&!U)return Re&&C3(W,le,!1),Kf(O,W,Pe);ge=W.stateNode,w8.current=W;var B=U&&typeof le.getDerivedStateFromError!="function"?null:ge.render();return W.flags|=1,O!==null&&U?(W.child=Gv(W,O.child,null,Pe),W.child=Gv(W,null,B,Pe)):Ns(O,W,B,Pe),W.memoizedState=ge.state,Re&&C3(W,le,!0),W.child}function i4(O){var W=O.stateNode;W.pendingContext?E3(O,W.pendingContext,W.pendingContext!==W.context):W.context&&E3(O,W.context,!1),Q1(O,W.containerInfo)}function G3(O,W,le,ge,Re){return Hv(),X1(Re),W.flags|=256,Ns(O,W,le,ge),W.child}var n1={dehydrated:null,treeContext:null,retryLane:0};function i1(O){return{baseLanes:O,cachePool:null,transitions:null}}function a4(O,W,le){var ge=W.pendingProps,Re=ho.current,Pe=!1,U=(W.flags&128)!==0,B;if((B=U)||(B=O!==null&&O.memoizedState===null?!1:(Re&2)!==0),B?(Pe=!0,W.flags&=-129):(O===null||O.memoizedState!==null)&&(Re|=1),Ha(ho,Re&1),O===null)return Jm(W),O=W.memoizedState,O!==null&&(O=O.dehydrated,O!==null)?(W.mode&1?O.data==="$!"?W.lanes=8:W.lanes=1073741824:W.lanes=1,null):(U=ge.children,O=ge.fallback,Pe?(ge=W.mode,Pe=W.child,U={mode:"hidden",children:U},!(ge&1)&&Pe!==null?(Pe.childLanes=0,Pe.pendingProps=U):Pe=dg(U,ge,0,null),O=Bh(O,ge,le,null),Pe.return=W,O.return=W,Pe.sibling=O,W.child=Pe,W.child.memoizedState=i1(le),W.memoizedState=n1,O):ax(W,U));if(Re=O.memoizedState,Re!==null&&(B=Re.dehydrated,B!==null))return T8(O,W,U,ge,B,Re,le);if(Pe){Pe=ge.fallback,U=W.mode,Re=O.child,B=Re.sibling;var e={mode:"hidden",children:ge.children};return!(U&1)&&W.child!==Re?(ge=W.child,ge.childLanes=0,ge.pendingProps=e,W.deletions=null):(ge=Qc(Re,e),ge.subtreeFlags=Re.subtreeFlags&14680064),B!==null?Pe=Qc(B,Pe):(Pe=Bh(Pe,U,le,null),Pe.flags|=2),Pe.return=W,ge.return=W,ge.sibling=Pe,W.child=ge,ge=Pe,Pe=W.child,U=O.child.memoizedState,U=U===null?i1(le):{baseLanes:U.baseLanes|le,cachePool:null,transitions:U.transitions},Pe.memoizedState=U,Pe.childLanes=O.childLanes&~le,W.memoizedState=n1,ge}return Pe=O.child,O=Pe.sibling,ge=Qc(Pe,{mode:"visible",children:ge.children}),!(W.mode&1)&&(ge.lanes=le),ge.return=W,ge.sibling=null,O!==null&&(le=W.deletions,le===null?(W.deletions=[O],W.flags|=16):le.push(O)),W.child=ge,W.memoizedState=null,ge}function ax(O,W){return W=dg({mode:"visible",children:W},O.mode,0,null),W.return=O,O.child=W}function o0(O,W,le,ge){return ge!==null&&X1(ge),Gv(W,O.child,null,le),O=ax(W,W.pendingProps.children),O.flags|=2,W.memoizedState=null,O}function T8(O,W,le,ge,Re,Pe,U){if(le)return W.flags&256?(W.flags&=-257,ge=Cy(Error(mi(422))),o0(O,W,U,ge)):W.memoizedState!==null?(W.child=O.child,W.flags|=128,null):(Pe=ge.fallback,Re=W.mode,ge=dg({mode:"visible",children:ge.children},Re,0,null),Pe=Bh(Pe,Re,U,null),Pe.flags|=2,ge.return=W,Pe.return=W,ge.sibling=Pe,W.child=ge,W.mode&1&&Gv(W,O.child,null,U),W.child.memoizedState=i1(U),W.memoizedState=n1,Pe);if(!(W.mode&1))return o0(O,W,U,null);if(Re.data==="$!"){if(ge=Re.nextSibling&&Re.nextSibling.dataset,ge)var B=ge.dgst;return ge=B,Pe=Error(mi(419)),ge=Cy(Pe,ge,void 0),o0(O,W,U,ge)}if(B=(U&O.childLanes)!==0,nl||B){if(ge=Jo,ge!==null){switch(U&-U){case 4:Re=2;break;case 16:Re=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Re=32;break;case 536870912:Re=268435456;break;default:Re=0}Re=Re&(ge.suspendedLanes|U)?0:Re,Re!==0&&Re!==Pe.retryLane&&(Pe.retryLane=Re,Zf(O,Re),zu(ge,O,Re,-1))}return cx(),ge=Cy(Error(mi(421))),o0(O,W,U,ge)}return Re.data==="$?"?(W.flags|=128,W.child=O.child,W=O8.bind(null,O),Re._reactRetry=W,null):(O=Pe.treeContext,Tl=jc(Re.nextSibling),Al=W,to=!0,ku=null,O!==null&&(Ql[$l++]=Hf,Ql[$l++]=Gf,Ql[$l++]=Vh,Hf=O.id,Gf=O.overflow,Vh=W),W=ax(W,ge.children),W.flags|=4096,W)}function W3(O,W,le){O.lanes|=W;var ge=O.alternate;ge!==null&&(ge.lanes|=W),Qm(O.return,W,le)}function Ly(O,W,le,ge,Re){var Pe=O.memoizedState;Pe===null?O.memoizedState={isBackwards:W,rendering:null,renderingStartTime:0,last:ge,tail:le,tailMode:Re}:(Pe.isBackwards=W,Pe.rendering=null,Pe.renderingStartTime=0,Pe.last=ge,Pe.tail=le,Pe.tailMode=Re)}function o4(O,W,le){var ge=W.pendingProps,Re=ge.revealOrder,Pe=ge.tail;if(Ns(O,W,ge.children,le),ge=ho.current,ge&2)ge=ge&1|2,W.flags|=128;else{if(O!==null&&O.flags&128)e:for(O=W.child;O!==null;){if(O.tag===13)O.memoizedState!==null&&W3(O,le,W);else if(O.tag===19)W3(O,le,W);else if(O.child!==null){O.child.return=O,O=O.child;continue}if(O===W)break e;for(;O.sibling===null;){if(O.return===null||O.return===W)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}ge&=1}if(Ha(ho,ge),!(W.mode&1))W.memoizedState=null;else switch(Re){case"forwards":for(le=W.child,Re=null;le!==null;)O=le.alternate,O!==null&&X0(O)===null&&(Re=le),le=le.sibling;le=Re,le===null?(Re=W.child,W.child=null):(Re=le.sibling,le.sibling=null),Ly(W,!1,Re,le,Pe);break;case"backwards":for(le=null,Re=W.child,W.child=null;Re!==null;){if(O=Re.alternate,O!==null&&X0(O)===null){W.child=Re;break}O=Re.sibling,Re.sibling=le,le=Re,Re=O}Ly(W,!0,le,null,Pe);break;case"together":Ly(W,!1,null,null,void 0);break;default:W.memoizedState=null}return W.child}function w0(O,W){!(W.mode&1)&&O!==null&&(O.alternate=null,W.alternate=null,W.flags|=2)}function Kf(O,W,le){if(O!==null&&(W.dependencies=O.dependencies),Gh|=W.lanes,!(le&W.childLanes))return null;if(O!==null&&W.child!==O.child)throw Error(mi(153));if(W.child!==null){for(O=W.child,le=Qc(O,O.pendingProps),W.child=le,le.return=W;O.sibling!==null;)O=O.sibling,le=le.sibling=Qc(O,O.pendingProps),le.return=W;le.sibling=null}return W.child}function A8(O,W,le){switch(W.tag){case 3:i4(W),Hv();break;case 5:_T(W);break;case 1:al(W.type)&&B0(W);break;case 4:Q1(W,W.stateNode.containerInfo);break;case 10:var ge=W.type._context,Re=W.memoizedProps.value;Ha(H0,ge._currentValue),ge._currentValue=Re;break;case 13:if(ge=W.memoizedState,ge!==null)return ge.dehydrated!==null?(Ha(ho,ho.current&1),W.flags|=128,null):le&W.child.childLanes?a4(O,W,le):(Ha(ho,ho.current&1),O=Kf(O,W,le),O!==null?O.sibling:null);Ha(ho,ho.current&1);break;case 19:if(ge=(le&W.childLanes)!==0,O.flags&128){if(ge)return o4(O,W,le);W.flags|=128}if(Re=W.memoizedState,Re!==null&&(Re.rendering=null,Re.tail=null,Re.lastEffect=null),Ha(ho,ho.current),ge)break;return null;case 22:case 23:return W.lanes=0,r4(O,W,le)}return Kf(O,W,le)}var s4,a1,l4,u4;s4=function(O,W){for(var le=W.child;le!==null;){if(le.tag===5||le.tag===6)O.appendChild(le.stateNode);else if(le.tag!==4&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===W)break;for(;le.sibling===null;){if(le.return===null||le.return===W)return;le=le.return}le.sibling.return=le.return,le=le.sibling}};a1=function(){};l4=function(O,W,le,ge){var Re=O.memoizedProps;if(Re!==ge){O=W.stateNode,Fh(ff.current);var Pe=null;switch(le){case"input":Re=Cm(O,Re),ge=Cm(O,ge),Pe=[];break;case"select":Re=po({},Re,{value:void 0}),ge=po({},ge,{value:void 0}),Pe=[];break;case"textarea":Re=Dm(O,Re),ge=Dm(O,ge),Pe=[];break;default:typeof Re.onClick!="function"&&typeof ge.onClick=="function"&&(O.onclick=F0)}Im(le,ge);var U;le=null;for(y in Re)if(!ge.hasOwnProperty(y)&&Re.hasOwnProperty(y)&&Re[y]!=null)if(y==="style"){var B=Re[y];for(U in B)B.hasOwnProperty(U)&&(le||(le={}),le[U]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(Wd.hasOwnProperty(y)?Pe||(Pe=[]):(Pe=Pe||[]).push(y,null));for(y in ge){var e=ge[y];if(B=Re!=null?Re[y]:void 0,ge.hasOwnProperty(y)&&e!==B&&(e!=null||B!=null))if(y==="style")if(B){for(U in B)!B.hasOwnProperty(U)||e&&e.hasOwnProperty(U)||(le||(le={}),le[U]="");for(U in e)e.hasOwnProperty(U)&&B[U]!==e[U]&&(le||(le={}),le[U]=e[U])}else le||(Pe||(Pe=[]),Pe.push(y,le)),le=e;else y==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,B=B?B.__html:void 0,e!=null&&B!==e&&(Pe=Pe||[]).push(y,e)):y==="children"?typeof e!="string"&&typeof e!="number"||(Pe=Pe||[]).push(y,""+e):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(Wd.hasOwnProperty(y)?(e!=null&&y==="onScroll"&&Za("scroll",O),Pe||B===e||(Pe=[])):(Pe=Pe||[]).push(y,e))}le&&(Pe=Pe||[]).push("style",le);var y=Pe;(W.updateQueue=y)&&(W.flags|=4)}};u4=function(O,W,le,ge){le!==ge&&(W.flags|=4)};function Cd(O,W){if(!to)switch(O.tailMode){case"hidden":W=O.tail;for(var le=null;W!==null;)W.alternate!==null&&(le=W),W=W.sibling;le===null?O.tail=null:le.sibling=null;break;case"collapsed":le=O.tail;for(var ge=null;le!==null;)le.alternate!==null&&(ge=le),le=le.sibling;ge===null?W||O.tail===null?O.tail=null:O.tail.sibling=null:ge.sibling=null}}function Ss(O){var W=O.alternate!==null&&O.alternate.child===O.child,le=0,ge=0;if(W)for(var Re=O.child;Re!==null;)le|=Re.lanes|Re.childLanes,ge|=Re.subtreeFlags&14680064,ge|=Re.flags&14680064,Re.return=O,Re=Re.sibling;else for(Re=O.child;Re!==null;)le|=Re.lanes|Re.childLanes,ge|=Re.subtreeFlags,ge|=Re.flags,Re.return=O,Re=Re.sibling;return O.subtreeFlags|=ge,O.childLanes=le,W}function M8(O,W,le){var ge=W.pendingProps;switch(W1(W),W.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ss(W),null;case 1:return al(W.type)&&N0(),Ss(W),null;case 3:return ge=W.stateNode,Wv(),Ka(il),Ka(Cs),q1(),ge.pendingContext&&(ge.context=ge.pendingContext,ge.pendingContext=null),(O===null||O.child===null)&&(i0(W)?W.flags|=4:O===null||O.memoizedState.isDehydrated&&!(W.flags&256)||(W.flags|=1024,ku!==null&&(v1(ku),ku=null))),a1(O,W),Ss(W),null;case 5:$1(W);var Re=Fh(rp.current);if(le=W.type,O!==null&&W.stateNode!=null)l4(O,W,le,ge,Re),O.ref!==W.ref&&(W.flags|=512,W.flags|=2097152);else{if(!ge){if(W.stateNode===null)throw Error(mi(166));return Ss(W),null}if(O=Fh(ff.current),i0(W)){ge=W.stateNode,le=W.type;var Pe=W.memoizedProps;switch(ge[sf]=W,ge[ep]=Pe,O=(W.mode&1)!==0,le){case"dialog":Za("cancel",ge),Za("close",ge);break;case"iframe":case"object":case"embed":Za("load",ge);break;case"video":case"audio":for(Re=0;Re<kd.length;Re++)Za(kd[Re],ge);break;case"source":Za("error",ge);break;case"img":case"image":case"link":Za("error",ge),Za("load",ge);break;case"details":Za("toggle",ge);break;case"input":qb(ge,Pe),Za("invalid",ge);break;case"select":ge._wrapperState={wasMultiple:!!Pe.multiple},Za("invalid",ge);break;case"textarea":t3(ge,Pe),Za("invalid",ge)}Im(le,Pe),Re=null;for(var U in Pe)if(Pe.hasOwnProperty(U)){var B=Pe[U];U==="children"?typeof B=="string"?ge.textContent!==B&&(Pe.suppressHydrationWarning!==!0&&n0(ge.textContent,B,O),Re=["children",B]):typeof B=="number"&&ge.textContent!==""+B&&(Pe.suppressHydrationWarning!==!0&&n0(ge.textContent,B,O),Re=["children",""+B]):Wd.hasOwnProperty(U)&&B!=null&&U==="onScroll"&&Za("scroll",ge)}switch(le){case"input":Kp(ge),e3(ge,Pe,!0);break;case"textarea":Kp(ge),r3(ge);break;case"select":case"option":break;default:typeof Pe.onClick=="function"&&(ge.onclick=F0)}ge=Re,W.updateQueue=ge,ge!==null&&(W.flags|=4)}else{U=Re.nodeType===9?Re:Re.ownerDocument,O==="http://www.w3.org/1999/xhtml"&&(O=z2(le)),O==="http://www.w3.org/1999/xhtml"?le==="script"?(O=U.createElement("div"),O.innerHTML="<script><\/script>",O=O.removeChild(O.firstChild)):typeof ge.is=="string"?O=U.createElement(le,{is:ge.is}):(O=U.createElement(le),le==="select"&&(U=O,ge.multiple?U.multiple=!0:ge.size&&(U.size=ge.size))):O=U.createElementNS(O,le),O[sf]=W,O[ep]=ge,s4(O,W,!1,!1),W.stateNode=O;e:{switch(U=_m(le,ge),le){case"dialog":Za("cancel",O),Za("close",O),Re=ge;break;case"iframe":case"object":case"embed":Za("load",O),Re=ge;break;case"video":case"audio":for(Re=0;Re<kd.length;Re++)Za(kd[Re],O);Re=ge;break;case"source":Za("error",O),Re=ge;break;case"img":case"image":case"link":Za("error",O),Za("load",O),Re=ge;break;case"details":Za("toggle",O),Re=ge;break;case"input":qb(O,ge),Re=Cm(O,ge),Za("invalid",O);break;case"option":Re=ge;break;case"select":O._wrapperState={wasMultiple:!!ge.multiple},Re=po({},ge,{value:void 0}),Za("invalid",O);break;case"textarea":t3(O,ge),Re=Dm(O,ge),Za("invalid",O);break;default:Re=ge}Im(le,Re),B=Re;for(Pe in B)if(B.hasOwnProperty(Pe)){var e=B[Pe];Pe==="style"?B2(O,e):Pe==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&F2(O,e)):Pe==="children"?typeof e=="string"?(le!=="textarea"||e!=="")&&Xd(O,e):typeof e=="number"&&Xd(O,""+e):Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&Pe!=="autoFocus"&&(Wd.hasOwnProperty(Pe)?e!=null&&Pe==="onScroll"&&Za("scroll",O):e!=null&&P1(O,Pe,e,U))}switch(le){case"input":Kp(O),e3(O,ge,!1);break;case"textarea":Kp(O),r3(O);break;case"option":ge.value!=null&&O.setAttribute("value",""+qc(ge.value));break;case"select":O.multiple=!!ge.multiple,Pe=ge.value,Pe!=null?kv(O,!!ge.multiple,Pe,!1):ge.defaultValue!=null&&kv(O,!!ge.multiple,ge.defaultValue,!0);break;default:typeof Re.onClick=="function"&&(O.onclick=F0)}switch(le){case"button":case"input":case"select":case"textarea":ge=!!ge.autoFocus;break e;case"img":ge=!0;break e;default:ge=!1}}ge&&(W.flags|=4)}W.ref!==null&&(W.flags|=512,W.flags|=2097152)}return Ss(W),null;case 6:if(O&&W.stateNode!=null)u4(O,W,O.memoizedProps,ge);else{if(typeof ge!="string"&&W.stateNode===null)throw Error(mi(166));if(le=Fh(rp.current),Fh(ff.current),i0(W)){if(ge=W.stateNode,le=W.memoizedProps,ge[sf]=W,(Pe=ge.nodeValue!==le)&&(O=Al,O!==null))switch(O.tag){case 3:n0(ge.nodeValue,le,(O.mode&1)!==0);break;case 5:O.memoizedProps.suppressHydrationWarning!==!0&&n0(ge.nodeValue,le,(O.mode&1)!==0)}Pe&&(W.flags|=4)}else ge=(le.nodeType===9?le:le.ownerDocument).createTextNode(ge),ge[sf]=W,W.stateNode=ge}return Ss(W),null;case 13:if(Ka(ho),ge=W.memoizedState,O===null||O.memoizedState!==null&&O.memoizedState.dehydrated!==null){if(to&&Tl!==null&&W.mode&1&&!(W.flags&128))ET(),Hv(),W.flags|=98560,Pe=!1;else if(Pe=i0(W),ge!==null&&ge.dehydrated!==null){if(O===null){if(!Pe)throw Error(mi(318));if(Pe=W.memoizedState,Pe=Pe!==null?Pe.dehydrated:null,!Pe)throw Error(mi(317));Pe[sf]=W}else Hv(),!(W.flags&128)&&(W.memoizedState=null),W.flags|=4;Ss(W),Pe=!1}else ku!==null&&(v1(ku),ku=null),Pe=!0;if(!Pe)return W.flags&65536?W:null}return W.flags&128?(W.lanes=le,W):(ge=ge!==null,ge!==(O!==null&&O.memoizedState!==null)&&ge&&(W.child.flags|=8192,W.mode&1&&(O===null||ho.current&1?Go===0&&(Go=3):cx())),W.updateQueue!==null&&(W.flags|=4),Ss(W),null);case 4:return Wv(),a1(O,W),O===null&&$d(W.stateNode.containerInfo),Ss(W),null;case 10:return Z1(W.type._context),Ss(W),null;case 17:return al(W.type)&&N0(),Ss(W),null;case 19:if(Ka(ho),Pe=W.memoizedState,Pe===null)return Ss(W),null;if(ge=(W.flags&128)!==0,U=Pe.rendering,U===null)if(ge)Cd(Pe,!1);else{if(Go!==0||O!==null&&O.flags&128)for(O=W.child;O!==null;){if(U=X0(O),U!==null){for(W.flags|=128,Cd(Pe,!1),ge=U.updateQueue,ge!==null&&(W.updateQueue=ge,W.flags|=4),W.subtreeFlags=0,ge=le,le=W.child;le!==null;)Pe=le,O=ge,Pe.flags&=14680066,U=Pe.alternate,U===null?(Pe.childLanes=0,Pe.lanes=O,Pe.child=null,Pe.subtreeFlags=0,Pe.memoizedProps=null,Pe.memoizedState=null,Pe.updateQueue=null,Pe.dependencies=null,Pe.stateNode=null):(Pe.childLanes=U.childLanes,Pe.lanes=U.lanes,Pe.child=U.child,Pe.subtreeFlags=0,Pe.deletions=null,Pe.memoizedProps=U.memoizedProps,Pe.memoizedState=U.memoizedState,Pe.updateQueue=U.updateQueue,Pe.type=U.type,O=U.dependencies,Pe.dependencies=O===null?null:{lanes:O.lanes,firstContext:O.firstContext}),le=le.sibling;return Ha(ho,ho.current&1|2),W.child}O=O.sibling}Pe.tail!==null&&Lo()>Yv&&(W.flags|=128,ge=!0,Cd(Pe,!1),W.lanes=4194304)}else{if(!ge)if(O=X0(U),O!==null){if(W.flags|=128,ge=!0,le=O.updateQueue,le!==null&&(W.updateQueue=le,W.flags|=4),Cd(Pe,!0),Pe.tail===null&&Pe.tailMode==="hidden"&&!U.alternate&&!to)return Ss(W),null}else 2*Lo()-Pe.renderingStartTime>Yv&&le!==1073741824&&(W.flags|=128,ge=!0,Cd(Pe,!1),W.lanes=4194304);Pe.isBackwards?(U.sibling=W.child,W.child=U):(le=Pe.last,le!==null?le.sibling=U:W.child=U,Pe.last=U)}return Pe.tail!==null?(W=Pe.tail,Pe.rendering=W,Pe.tail=W.sibling,Pe.renderingStartTime=Lo(),W.sibling=null,le=ho.current,Ha(ho,ge?le&1|2:le&1),W):(Ss(W),null);case 22:case 23:return fx(),ge=W.memoizedState!==null,O!==null&&O.memoizedState!==null!==ge&&(W.flags|=8192),ge&&W.mode&1?wl&1073741824&&(Ss(W),W.subtreeFlags&6&&(W.flags|=8192)):Ss(W),null;case 24:return null;case 25:return null}throw Error(mi(156,W.tag))}function S8(O,W){switch(W1(W),W.tag){case 1:return al(W.type)&&N0(),O=W.flags,O&65536?(W.flags=O&-65537|128,W):null;case 3:return Wv(),Ka(il),Ka(Cs),q1(),O=W.flags,O&65536&&!(O&128)?(W.flags=O&-65537|128,W):null;case 5:return $1(W),null;case 13:if(Ka(ho),O=W.memoizedState,O!==null&&O.dehydrated!==null){if(W.alternate===null)throw Error(mi(340));Hv()}return O=W.flags,O&65536?(W.flags=O&-65537|128,W):null;case 19:return Ka(ho),null;case 4:return Wv(),null;case 10:return Z1(W.type._context),null;case 22:case 23:return fx(),null;case 24:return null;default:return null}}var s0=!1,Es=!1,E8=typeof WeakSet=="function"?WeakSet:Set,ki=null;function Iv(O,W){var le=O.ref;if(le!==null)if(typeof le=="function")try{le(null)}catch(ge){bo(O,W,ge)}else le.current=null}function o1(O,W,le){try{le()}catch(ge){bo(O,W,ge)}}var X3=!1;function C8(O,W){if(Gm=k0,O=vT(),H1(O)){if("selectionStart"in O)var le={start:O.selectionStart,end:O.selectionEnd};else e:{le=(le=O.ownerDocument)&&le.defaultView||window;var ge=le.getSelection&&le.getSelection();if(ge&&ge.rangeCount!==0){le=ge.anchorNode;var Re=ge.anchorOffset,Pe=ge.focusNode;ge=ge.focusOffset;try{le.nodeType,Pe.nodeType}catch{le=null;break e}var U=0,B=-1,e=-1,y=0,L=0,i=O,S=null;t:for(;;){for(var b;i!==le||Re!==0&&i.nodeType!==3||(B=U+Re),i!==Pe||ge!==0&&i.nodeType!==3||(e=U+ge),i.nodeType===3&&(U+=i.nodeValue.length),(b=i.firstChild)!==null;)S=i,i=b;for(;;){if(i===O)break t;if(S===le&&++y===Re&&(B=U),S===Pe&&++L===ge&&(e=U),(b=i.nextSibling)!==null)break;i=S,S=i.parentNode}i=b}le=B===-1||e===-1?null:{start:B,end:e}}else le=null}le=le||{start:0,end:0}}else le=null;for(Wm={focusedElem:O,selectionRange:le},k0=!1,ki=W;ki!==null;)if(W=ki,O=W.child,(W.subtreeFlags&1028)!==0&&O!==null)O.return=W,ki=O;else for(;ki!==null;){W=ki;try{var v=W.alternate;if(W.flags&1024)switch(W.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,r=v.memoizedState,t=W.stateNode,a=t.getSnapshotBeforeUpdate(W.elementType===W.type?p:Iu(W.type,p),r);t.__reactInternalSnapshotBeforeUpdate=a}break;case 3:var n=W.stateNode.containerInfo;n.nodeType===1?n.textContent="":n.nodeType===9&&n.documentElement&&n.removeChild(n.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(mi(163))}}catch(u){bo(W,W.return,u)}if(O=W.sibling,O!==null){O.return=W.return,ki=O;break}ki=W.return}return v=X3,X3=!1,v}function Vd(O,W,le){var ge=W.updateQueue;if(ge=ge!==null?ge.lastEffect:null,ge!==null){var Re=ge=ge.next;do{if((Re.tag&O)===O){var Pe=Re.destroy;Re.destroy=void 0,Pe!==void 0&&o1(W,le,Pe)}Re=Re.next}while(Re!==ge)}}function hg(O,W){if(W=W.updateQueue,W=W!==null?W.lastEffect:null,W!==null){var le=W=W.next;do{if((le.tag&O)===O){var ge=le.create;le.destroy=ge()}le=le.next}while(le!==W)}}function s1(O){var W=O.ref;if(W!==null){var le=O.stateNode;switch(O.tag){case 5:O=le;break;default:O=le}typeof W=="function"?W(O):W.current=O}}function f4(O){var W=O.alternate;W!==null&&(O.alternate=null,f4(W)),O.child=null,O.deletions=null,O.sibling=null,O.tag===5&&(W=O.stateNode,W!==null&&(delete W[sf],delete W[ep],delete W[jm],delete W[u8],delete W[f8])),O.stateNode=null,O.return=null,O.dependencies=null,O.memoizedProps=null,O.memoizedState=null,O.pendingProps=null,O.stateNode=null,O.updateQueue=null}function c4(O){return O.tag===5||O.tag===3||O.tag===4}function Y3(O){e:for(;;){for(;O.sibling===null;){if(O.return===null||c4(O.return))return null;O=O.return}for(O.sibling.return=O.return,O=O.sibling;O.tag!==5&&O.tag!==6&&O.tag!==18;){if(O.flags&2||O.child===null||O.tag===4)continue e;O.child.return=O,O=O.child}if(!(O.flags&2))return O.stateNode}}function l1(O,W,le){var ge=O.tag;if(ge===5||ge===6)O=O.stateNode,W?le.nodeType===8?le.parentNode.insertBefore(O,W):le.insertBefore(O,W):(le.nodeType===8?(W=le.parentNode,W.insertBefore(O,le)):(W=le,W.appendChild(O)),le=le._reactRootContainer,le!=null||W.onclick!==null||(W.onclick=F0));else if(ge!==4&&(O=O.child,O!==null))for(l1(O,W,le),O=O.sibling;O!==null;)l1(O,W,le),O=O.sibling}function u1(O,W,le){var ge=O.tag;if(ge===5||ge===6)O=O.stateNode,W?le.insertBefore(O,W):le.appendChild(O);else if(ge!==4&&(O=O.child,O!==null))for(u1(O,W,le),O=O.sibling;O!==null;)u1(O,W,le),O=O.sibling}var cs=null,_u=!1;function Oc(O,W,le){for(le=le.child;le!==null;)h4(O,W,le),le=le.sibling}function h4(O,W,le){if(uf&&typeof uf.onCommitFiberUnmount=="function")try{uf.onCommitFiberUnmount(ig,le)}catch{}switch(le.tag){case 5:Es||Iv(le,W);case 6:var ge=cs,Re=_u;cs=null,Oc(O,W,le),cs=ge,_u=Re,cs!==null&&(_u?(O=cs,le=le.stateNode,O.nodeType===8?O.parentNode.removeChild(le):O.removeChild(le)):cs.removeChild(le.stateNode));break;case 18:cs!==null&&(_u?(O=cs,le=le.stateNode,O.nodeType===8?wy(O.parentNode,le):O.nodeType===1&&wy(O,le),Kd(O)):wy(cs,le.stateNode));break;case 4:ge=cs,Re=_u,cs=le.stateNode.containerInfo,_u=!0,Oc(O,W,le),cs=ge,_u=Re;break;case 0:case 11:case 14:case 15:if(!Es&&(ge=le.updateQueue,ge!==null&&(ge=ge.lastEffect,ge!==null))){Re=ge=ge.next;do{var Pe=Re,U=Pe.destroy;Pe=Pe.tag,U!==void 0&&(Pe&2||Pe&4)&&o1(le,W,U),Re=Re.next}while(Re!==ge)}Oc(O,W,le);break;case 1:if(!Es&&(Iv(le,W),ge=le.stateNode,typeof ge.componentWillUnmount=="function"))try{ge.props=le.memoizedProps,ge.state=le.memoizedState,ge.componentWillUnmount()}catch(B){bo(le,W,B)}Oc(O,W,le);break;case 21:Oc(O,W,le);break;case 22:le.mode&1?(Es=(ge=Es)||le.memoizedState!==null,Oc(O,W,le),Es=ge):Oc(O,W,le);break;default:Oc(O,W,le)}}function j3(O){var W=O.updateQueue;if(W!==null){O.updateQueue=null;var le=O.stateNode;le===null&&(le=O.stateNode=new E8),W.forEach(function(ge){var Re=z8.bind(null,O,ge);le.has(ge)||(le.add(ge),ge.then(Re,Re))})}}function Ru(O,W){var le=W.deletions;if(le!==null)for(var ge=0;ge<le.length;ge++){var Re=le[ge];try{var Pe=O,U=W,B=U;e:for(;B!==null;){switch(B.tag){case 5:cs=B.stateNode,_u=!1;break e;case 3:cs=B.stateNode.containerInfo,_u=!0;break e;case 4:cs=B.stateNode.containerInfo,_u=!0;break e}B=B.return}if(cs===null)throw Error(mi(160));h4(Pe,U,Re),cs=null,_u=!1;var e=Re.alternate;e!==null&&(e.return=null),Re.return=null}catch(y){bo(Re,W,y)}}if(W.subtreeFlags&12854)for(W=W.child;W!==null;)v4(W,O),W=W.sibling}function v4(O,W){var le=O.alternate,ge=O.flags;switch(O.tag){case 0:case 11:case 14:case 15:if(Ru(W,O),af(O),ge&4){try{Vd(3,O,O.return),hg(3,O)}catch(p){bo(O,O.return,p)}try{Vd(5,O,O.return)}catch(p){bo(O,O.return,p)}}break;case 1:Ru(W,O),af(O),ge&512&&le!==null&&Iv(le,le.return);break;case 5:if(Ru(W,O),af(O),ge&512&&le!==null&&Iv(le,le.return),O.flags&32){var Re=O.stateNode;try{Xd(Re,"")}catch(p){bo(O,O.return,p)}}if(ge&4&&(Re=O.stateNode,Re!=null)){var Pe=O.memoizedProps,U=le!==null?le.memoizedProps:Pe,B=O.type,e=O.updateQueue;if(O.updateQueue=null,e!==null)try{B==="input"&&Pe.type==="radio"&&Pe.name!=null&&k2(Re,Pe),_m(B,U);var y=_m(B,Pe);for(U=0;U<e.length;U+=2){var L=e[U],i=e[U+1];L==="style"?B2(Re,i):L==="dangerouslySetInnerHTML"?F2(Re,i):L==="children"?Xd(Re,i):P1(Re,L,i,y)}switch(B){case"input":Lm(Re,Pe);break;case"textarea":O2(Re,Pe);break;case"select":var S=Re._wrapperState.wasMultiple;Re._wrapperState.wasMultiple=!!Pe.multiple;var b=Pe.value;b!=null?kv(Re,!!Pe.multiple,b,!1):S!==!!Pe.multiple&&(Pe.defaultValue!=null?kv(Re,!!Pe.multiple,Pe.defaultValue,!0):kv(Re,!!Pe.multiple,Pe.multiple?[]:"",!1))}Re[ep]=Pe}catch(p){bo(O,O.return,p)}}break;case 6:if(Ru(W,O),af(O),ge&4){if(O.stateNode===null)throw Error(mi(162));Re=O.stateNode,Pe=O.memoizedProps;try{Re.nodeValue=Pe}catch(p){bo(O,O.return,p)}}break;case 3:if(Ru(W,O),af(O),ge&4&&le!==null&&le.memoizedState.isDehydrated)try{Kd(W.containerInfo)}catch(p){bo(O,O.return,p)}break;case 4:Ru(W,O),af(O);break;case 13:Ru(W,O),af(O),Re=O.child,Re.flags&8192&&(Pe=Re.memoizedState!==null,Re.stateNode.isHidden=Pe,!Pe||Re.alternate!==null&&Re.alternate.memoizedState!==null||(lx=Lo())),ge&4&&j3(O);break;case 22:if(L=le!==null&&le.memoizedState!==null,O.mode&1?(Es=(y=Es)||L,Ru(W,O),Es=y):Ru(W,O),af(O),ge&8192){if(y=O.memoizedState!==null,(O.stateNode.isHidden=y)&&!L&&O.mode&1)for(ki=O,L=O.child;L!==null;){for(i=ki=L;ki!==null;){switch(S=ki,b=S.child,S.tag){case 0:case 11:case 14:case 15:Vd(4,S,S.return);break;case 1:Iv(S,S.return);var v=S.stateNode;if(typeof v.componentWillUnmount=="function"){ge=S,le=S.return;try{W=ge,v.props=W.memoizedProps,v.state=W.memoizedState,v.componentWillUnmount()}catch(p){bo(ge,le,p)}}break;case 5:Iv(S,S.return);break;case 22:if(S.memoizedState!==null){K3(i);continue}}b!==null?(b.return=S,ki=b):K3(i)}L=L.sibling}e:for(L=null,i=O;;){if(i.tag===5){if(L===null){L=i;try{Re=i.stateNode,y?(Pe=Re.style,typeof Pe.setProperty=="function"?Pe.setProperty("display","none","important"):Pe.display="none"):(B=i.stateNode,e=i.memoizedProps.style,U=e!=null&&e.hasOwnProperty("display")?e.display:null,B.style.display=N2("display",U))}catch(p){bo(O,O.return,p)}}}else if(i.tag===6){if(L===null)try{i.stateNode.nodeValue=y?"":i.memoizedProps}catch(p){bo(O,O.return,p)}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===O)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===O)break e;for(;i.sibling===null;){if(i.return===null||i.return===O)break e;L===i&&(L=null),i=i.return}L===i&&(L=null),i.sibling.return=i.return,i=i.sibling}}break;case 19:Ru(W,O),af(O),ge&4&&j3(O);break;case 21:break;default:Ru(W,O),af(O)}}function af(O){var W=O.flags;if(W&2){try{e:{for(var le=O.return;le!==null;){if(c4(le)){var ge=le;break e}le=le.return}throw Error(mi(160))}switch(ge.tag){case 5:var Re=ge.stateNode;ge.flags&32&&(Xd(Re,""),ge.flags&=-33);var Pe=Y3(O);u1(O,Pe,Re);break;case 3:case 4:var U=ge.stateNode.containerInfo,B=Y3(O);l1(O,B,U);break;default:throw Error(mi(161))}}catch(e){bo(O,O.return,e)}O.flags&=-3}W&4096&&(O.flags&=-4097)}function L8(O,W,le){ki=O,d4(O)}function d4(O,W,le){for(var ge=(O.mode&1)!==0;ki!==null;){var Re=ki,Pe=Re.child;if(Re.tag===22&&ge){var U=Re.memoizedState!==null||s0;if(!U){var B=Re.alternate,e=B!==null&&B.memoizedState!==null||Es;B=s0;var y=Es;if(s0=U,(Es=e)&&!y)for(ki=Re;ki!==null;)U=ki,e=U.child,U.tag===22&&U.memoizedState!==null?J3(Re):e!==null?(e.return=U,ki=e):J3(Re);for(;Pe!==null;)ki=Pe,d4(Pe),Pe=Pe.sibling;ki=Re,s0=B,Es=y}Z3(O)}else Re.subtreeFlags&8772&&Pe!==null?(Pe.return=Re,ki=Pe):Z3(O)}}function Z3(O){for(;ki!==null;){var W=ki;if(W.flags&8772){var le=W.alternate;try{if(W.flags&8772)switch(W.tag){case 0:case 11:case 15:Es||hg(5,W);break;case 1:var ge=W.stateNode;if(W.flags&4&&!Es)if(le===null)ge.componentDidMount();else{var Re=W.elementType===W.type?le.memoizedProps:Iu(W.type,le.memoizedProps);ge.componentDidUpdate(Re,le.memoizedState,ge.__reactInternalSnapshotBeforeUpdate)}var Pe=W.updateQueue;Pe!==null&&R3(W,Pe,ge);break;case 3:var U=W.updateQueue;if(U!==null){if(le=null,W.child!==null)switch(W.child.tag){case 5:le=W.child.stateNode;break;case 1:le=W.child.stateNode}R3(W,U,le)}break;case 5:var B=W.stateNode;if(le===null&&W.flags&4){le=B;var e=W.memoizedProps;switch(W.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&le.focus();break;case"img":e.src&&(le.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(W.memoizedState===null){var y=W.alternate;if(y!==null){var L=y.memoizedState;if(L!==null){var i=L.dehydrated;i!==null&&Kd(i)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(mi(163))}Es||W.flags&512&&s1(W)}catch(S){bo(W,W.return,S)}}if(W===O){ki=null;break}if(le=W.sibling,le!==null){le.return=W.return,ki=le;break}ki=W.return}}function K3(O){for(;ki!==null;){var W=ki;if(W===O){ki=null;break}var le=W.sibling;if(le!==null){le.return=W.return,ki=le;break}ki=W.return}}function J3(O){for(;ki!==null;){var W=ki;try{switch(W.tag){case 0:case 11:case 15:var le=W.return;try{hg(4,W)}catch(e){bo(W,le,e)}break;case 1:var ge=W.stateNode;if(typeof ge.componentDidMount=="function"){var Re=W.return;try{ge.componentDidMount()}catch(e){bo(W,Re,e)}}var Pe=W.return;try{s1(W)}catch(e){bo(W,Pe,e)}break;case 5:var U=W.return;try{s1(W)}catch(e){bo(W,U,e)}}}catch(e){bo(W,W.return,e)}if(W===O){ki=null;break}var B=W.sibling;if(B!==null){B.return=W.return,ki=B;break}ki=W.return}}var P8=Math.ceil,Z0=Jf.ReactCurrentDispatcher,ox=Jf.ReactCurrentOwner,eu=Jf.ReactCurrentBatchConfig,Ma=0,Jo=null,zo=null,hs=0,wl=0,_v=rh(0),Go=0,op=null,Gh=0,vg=0,sx=0,Hd=null,rl=null,lx=0,Yv=1/0,Uf=null,K0=!1,f1=null,Kc=null,l0=!1,Hc=null,J0=0,Gd=0,c1=null,T0=-1,A0=0;function Bs(){return Ma&6?Lo():T0!==-1?T0:T0=Lo()}function Jc(O){return O.mode&1?Ma&2&&hs!==0?hs&-hs:h8.transition!==null?(A0===0&&(A0=Q2()),A0):(O=_a,O!==0||(O=window.event,O=O===void 0?16:iT(O.type)),O):1}function zu(O,W,le,ge){if(50<Gd)throw Gd=0,c1=null,Error(mi(185));cp(O,le,ge),(!(Ma&2)||O!==Jo)&&(O===Jo&&(!(Ma&2)&&(vg|=le),Go===4&&Uc(O,hs)),ol(O,ge),le===1&&Ma===0&&!(W.mode&1)&&(Yv=Lo()+500,ug&&nh()))}function ol(O,W){var le=O.callbackNode;hS(O,W);var ge=_0(O,O===Jo?hs:0);if(ge===0)le!==null&&a3(le),O.callbackNode=null,O.callbackPriority=0;else if(W=ge&-ge,O.callbackPriority!==W){if(le!=null&&a3(le),W===1)O.tag===0?c8(Q3.bind(null,O)):AT(Q3.bind(null,O)),s8(function(){!(Ma&6)&&nh()}),le=null;else{switch($2(ge)){case 1:le=k1;break;case 4:le=K2;break;case 16:le=I0;break;case 536870912:le=J2;break;default:le=I0}le=T4(le,p4.bind(null,O))}O.callbackPriority=W,O.callbackNode=le}}function p4(O,W){if(T0=-1,A0=0,Ma&6)throw Error(mi(327));var le=O.callbackNode;if(Bv()&&O.callbackNode!==le)return null;var ge=_0(O,O===Jo?hs:0);if(ge===0)return null;if(ge&30||ge&O.expiredLanes||W)W=Q0(O,ge);else{W=ge;var Re=Ma;Ma|=2;var Pe=y4();(Jo!==O||hs!==W)&&(Uf=null,Yv=Lo()+500,Nh(O,W));do try{I8();break}catch(B){g4(O,B)}while(!0);j1(),Z0.current=Pe,Ma=Re,zo!==null?W=0:(Jo=null,hs=0,W=Go)}if(W!==0){if(W===2&&(Re=Nm(O),Re!==0&&(ge=Re,W=h1(O,Re))),W===1)throw le=op,Nh(O,0),Uc(O,ge),ol(O,Lo()),le;if(W===6)Uc(O,ge);else{if(Re=O.current.alternate,!(ge&30)&&!D8(Re)&&(W=Q0(O,ge),W===2&&(Pe=Nm(O),Pe!==0&&(ge=Pe,W=h1(O,Pe))),W===1))throw le=op,Nh(O,0),Uc(O,ge),ol(O,Lo()),le;switch(O.finishedWork=Re,O.finishedLanes=ge,W){case 0:case 1:throw Error(mi(345));case 2:kh(O,rl,Uf);break;case 3:if(Uc(O,ge),(ge&130023424)===ge&&(W=lx+500-Lo(),10<W)){if(_0(O,0)!==0)break;if(Re=O.suspendedLanes,(Re&ge)!==ge){Bs(),O.pingedLanes|=O.suspendedLanes&Re;break}O.timeoutHandle=Ym(kh.bind(null,O,rl,Uf),W);break}kh(O,rl,Uf);break;case 4:if(Uc(O,ge),(ge&4194240)===ge)break;for(W=O.eventTimes,Re=-1;0<ge;){var U=31-Ou(ge);Pe=1<<U,U=W[U],U>Re&&(Re=U),ge&=~Pe}if(ge=Re,ge=Lo()-ge,ge=(120>ge?120:480>ge?480:1080>ge?1080:1920>ge?1920:3e3>ge?3e3:4320>ge?4320:1960*P8(ge/1960))-ge,10<ge){O.timeoutHandle=Ym(kh.bind(null,O,rl,Uf),ge);break}kh(O,rl,Uf);break;case 5:kh(O,rl,Uf);break;default:throw Error(mi(329))}}}return ol(O,Lo()),O.callbackNode===le?p4.bind(null,O):null}function h1(O,W){var le=Hd;return O.current.memoizedState.isDehydrated&&(Nh(O,W).flags|=256),O=Q0(O,W),O!==2&&(W=rl,rl=le,W!==null&&v1(W)),O}function v1(O){rl===null?rl=O:rl.push.apply(rl,O)}function D8(O){for(var W=O;;){if(W.flags&16384){var le=W.updateQueue;if(le!==null&&(le=le.stores,le!==null))for(var ge=0;ge<le.length;ge++){var Re=le[ge],Pe=Re.getSnapshot;Re=Re.value;try{if(!Fu(Pe(),Re))return!1}catch{return!1}}}if(le=W.child,W.subtreeFlags&16384&&le!==null)le.return=W,W=le;else{if(W===O)break;for(;W.sibling===null;){if(W.return===null||W.return===O)return!0;W=W.return}W.sibling.return=W.return,W=W.sibling}}return!0}function Uc(O,W){for(W&=~sx,W&=~vg,O.suspendedLanes|=W,O.pingedLanes&=~W,O=O.expirationTimes;0<W;){var le=31-Ou(W),ge=1<<le;O[le]=-1,W&=~ge}}function Q3(O){if(Ma&6)throw Error(mi(327));Bv();var W=_0(O,0);if(!(W&1))return ol(O,Lo()),null;var le=Q0(O,W);if(O.tag!==0&&le===2){var ge=Nm(O);ge!==0&&(W=ge,le=h1(O,ge))}if(le===1)throw le=op,Nh(O,0),Uc(O,W),ol(O,Lo()),le;if(le===6)throw Error(mi(345));return O.finishedWork=O.current.alternate,O.finishedLanes=W,kh(O,rl,Uf),ol(O,Lo()),null}function ux(O,W){var le=Ma;Ma|=1;try{return O(W)}finally{Ma=le,Ma===0&&(Yv=Lo()+500,ug&&nh())}}function Wh(O){Hc!==null&&Hc.tag===0&&!(Ma&6)&&Bv();var W=Ma;Ma|=1;var le=eu.transition,ge=_a;try{if(eu.transition=null,_a=1,O)return O()}finally{_a=ge,eu.transition=le,Ma=W,!(Ma&6)&&nh()}}function fx(){wl=_v.current,Ka(_v)}function Nh(O,W){O.finishedWork=null,O.finishedLanes=0;var le=O.timeoutHandle;if(le!==-1&&(O.timeoutHandle=-1,o8(le)),zo!==null)for(le=zo.return;le!==null;){var ge=le;switch(W1(ge),ge.tag){case 1:ge=ge.type.childContextTypes,ge!=null&&N0();break;case 3:Wv(),Ka(il),Ka(Cs),q1();break;case 5:$1(ge);break;case 4:Wv();break;case 13:Ka(ho);break;case 19:Ka(ho);break;case 10:Z1(ge.type._context);break;case 22:case 23:fx()}le=le.return}if(Jo=O,zo=O=Qc(O.current,null),hs=wl=W,Go=0,op=null,sx=vg=Gh=0,rl=Hd=null,zh!==null){for(W=0;W<zh.length;W++)if(le=zh[W],ge=le.interleaved,ge!==null){le.interleaved=null;var Re=ge.next,Pe=le.pending;if(Pe!==null){var U=Pe.next;Pe.next=Re,ge.next=U}le.pending=ge}zh=null}return O}function g4(O,W){do{var le=zo;try{if(j1(),x0.current=j0,Y0){for(var ge=vo.memoizedState;ge!==null;){var Re=ge.queue;Re!==null&&(Re.pending=null),ge=ge.next}Y0=!1}if(Hh=0,Ko=Ho=vo=null,Ud=!1,np=0,ox.current=null,le===null||le.return===null){Go=1,op=W,zo=null;break}e:{var Pe=O,U=le.return,B=le,e=W;if(W=hs,B.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var y=e,L=B,i=L.tag;if(!(L.mode&1)&&(i===0||i===11||i===15)){var S=L.alternate;S?(L.updateQueue=S.updateQueue,L.memoizedState=S.memoizedState,L.lanes=S.lanes):(L.updateQueue=null,L.memoizedState=null)}var b=N3(U);if(b!==null){b.flags&=-257,B3(b,U,B,Pe,W),b.mode&1&&F3(Pe,y,W),W=b,e=y;var v=W.updateQueue;if(v===null){var p=new Set;p.add(e),W.updateQueue=p}else v.add(e);break e}else{if(!(W&1)){F3(Pe,y,W),cx();break e}e=Error(mi(426))}}else if(to&&B.mode&1){var r=N3(U);if(r!==null){!(r.flags&65536)&&(r.flags|=256),B3(r,U,B,Pe,W),X1(Xv(e,B));break e}}Pe=e=Xv(e,B),Go!==4&&(Go=2),Hd===null?Hd=[Pe]:Hd.push(Pe),Pe=U;do{switch(Pe.tag){case 3:Pe.flags|=65536,W&=-W,Pe.lanes|=W;var t=qT(Pe,e,W);D3(Pe,t);break e;case 1:B=e;var a=Pe.type,n=Pe.stateNode;if(!(Pe.flags&128)&&(typeof a.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(Kc===null||!Kc.has(n)))){Pe.flags|=65536,W&=-W,Pe.lanes|=W;var u=e4(Pe,B,W);D3(Pe,u);break e}}Pe=Pe.return}while(Pe!==null)}x4(le)}catch(s){W=s,zo===le&&le!==null&&(zo=le=le.return);continue}break}while(!0)}function y4(){var O=Z0.current;return Z0.current=j0,O===null?j0:O}function cx(){(Go===0||Go===3||Go===2)&&(Go=4),Jo===null||!(Gh&268435455)&&!(vg&268435455)||Uc(Jo,hs)}function Q0(O,W){var le=Ma;Ma|=2;var ge=y4();(Jo!==O||hs!==W)&&(Uf=null,Nh(O,W));do try{R8();break}catch(Re){g4(O,Re)}while(!0);if(j1(),Ma=le,Z0.current=ge,zo!==null)throw Error(mi(261));return Jo=null,hs=0,Go}function R8(){for(;zo!==null;)m4(zo)}function I8(){for(;zo!==null&&!nS();)m4(zo)}function m4(O){var W=w4(O.alternate,O,wl);O.memoizedProps=O.pendingProps,W===null?x4(O):zo=W,ox.current=null}function x4(O){var W=O;do{var le=W.alternate;if(O=W.return,W.flags&32768){if(le=S8(le,W),le!==null){le.flags&=32767,zo=le;return}if(O!==null)O.flags|=32768,O.subtreeFlags=0,O.deletions=null;else{Go=6,zo=null;return}}else if(le=M8(le,W,wl),le!==null){zo=le;return}if(W=W.sibling,W!==null){zo=W;return}zo=W=O}while(W!==null);Go===0&&(Go=5)}function kh(O,W,le){var ge=_a,Re=eu.transition;try{eu.transition=null,_a=1,_8(O,W,le,ge)}finally{eu.transition=Re,_a=ge}return null}function _8(O,W,le,ge){do Bv();while(Hc!==null);if(Ma&6)throw Error(mi(327));le=O.finishedWork;var Re=O.finishedLanes;if(le===null)return null;if(O.finishedWork=null,O.finishedLanes=0,le===O.current)throw Error(mi(177));O.callbackNode=null,O.callbackPriority=0;var Pe=le.lanes|le.childLanes;if(vS(O,Pe),O===Jo&&(zo=Jo=null,hs=0),!(le.subtreeFlags&2064)&&!(le.flags&2064)||l0||(l0=!0,T4(I0,function(){return Bv(),null})),Pe=(le.flags&15990)!==0,le.subtreeFlags&15990||Pe){Pe=eu.transition,eu.transition=null;var U=_a;_a=1;var B=Ma;Ma|=4,ox.current=null,C8(O,le),v4(le,O),qS(Wm),k0=!!Gm,Wm=Gm=null,O.current=le,L8(le),iS(),Ma=B,_a=U,eu.transition=Pe}else O.current=le;if(l0&&(l0=!1,Hc=O,J0=Re),Pe=O.pendingLanes,Pe===0&&(Kc=null),sS(le.stateNode),ol(O,Lo()),W!==null)for(ge=O.onRecoverableError,le=0;le<W.length;le++)Re=W[le],ge(Re.value,{componentStack:Re.stack,digest:Re.digest});if(K0)throw K0=!1,O=f1,f1=null,O;return J0&1&&O.tag!==0&&Bv(),Pe=O.pendingLanes,Pe&1?O===c1?Gd++:(Gd=0,c1=O):Gd=0,nh(),null}function Bv(){if(Hc!==null){var O=$2(J0),W=eu.transition,le=_a;try{if(eu.transition=null,_a=16>O?16:O,Hc===null)var ge=!1;else{if(O=Hc,Hc=null,J0=0,Ma&6)throw Error(mi(331));var Re=Ma;for(Ma|=4,ki=O.current;ki!==null;){var Pe=ki,U=Pe.child;if(ki.flags&16){var B=Pe.deletions;if(B!==null){for(var e=0;e<B.length;e++){var y=B[e];for(ki=y;ki!==null;){var L=ki;switch(L.tag){case 0:case 11:case 15:Vd(8,L,Pe)}var i=L.child;if(i!==null)i.return=L,ki=i;else for(;ki!==null;){L=ki;var S=L.sibling,b=L.return;if(f4(L),L===y){ki=null;break}if(S!==null){S.return=b,ki=S;break}ki=b}}}var v=Pe.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var r=p.sibling;p.sibling=null,p=r}while(p!==null)}}ki=Pe}}if(Pe.subtreeFlags&2064&&U!==null)U.return=Pe,ki=U;else e:for(;ki!==null;){if(Pe=ki,Pe.flags&2048)switch(Pe.tag){case 0:case 11:case 15:Vd(9,Pe,Pe.return)}var t=Pe.sibling;if(t!==null){t.return=Pe.return,ki=t;break e}ki=Pe.return}}var a=O.current;for(ki=a;ki!==null;){U=ki;var n=U.child;if(U.subtreeFlags&2064&&n!==null)n.return=U,ki=n;else e:for(U=a;ki!==null;){if(B=ki,B.flags&2048)try{switch(B.tag){case 0:case 11:case 15:hg(9,B)}}catch(s){bo(B,B.return,s)}if(B===U){ki=null;break e}var u=B.sibling;if(u!==null){u.return=B.return,ki=u;break e}ki=B.return}}if(Ma=Re,nh(),uf&&typeof uf.onPostCommitFiberRoot=="function")try{uf.onPostCommitFiberRoot(ig,O)}catch{}ge=!0}return ge}finally{_a=le,eu.transition=W}}return!1}function $3(O,W,le){W=Xv(le,W),W=qT(O,W,1),O=Zc(O,W,1),W=Bs(),O!==null&&(cp(O,1,W),ol(O,W))}function bo(O,W,le){if(O.tag===3)$3(O,O,le);else for(;W!==null;){if(W.tag===3){$3(W,O,le);break}else if(W.tag===1){var ge=W.stateNode;if(typeof W.type.getDerivedStateFromError=="function"||typeof ge.componentDidCatch=="function"&&(Kc===null||!Kc.has(ge))){O=Xv(le,O),O=e4(W,O,1),W=Zc(W,O,1),O=Bs(),W!==null&&(cp(W,1,O),ol(W,O));break}}W=W.return}}function k8(O,W,le){var ge=O.pingCache;ge!==null&&ge.delete(W),W=Bs(),O.pingedLanes|=O.suspendedLanes&le,Jo===O&&(hs&le)===le&&(Go===4||Go===3&&(hs&130023424)===hs&&500>Lo()-lx?Nh(O,0):sx|=le),ol(O,W)}function b4(O,W){W===0&&(O.mode&1?(W=$p,$p<<=1,!($p&130023424)&&($p=4194304)):W=1);var le=Bs();O=Zf(O,W),O!==null&&(cp(O,W,le),ol(O,le))}function O8(O){var W=O.memoizedState,le=0;W!==null&&(le=W.retryLane),b4(O,le)}function z8(O,W){var le=0;switch(O.tag){case 13:var ge=O.stateNode,Re=O.memoizedState;Re!==null&&(le=Re.retryLane);break;case 19:ge=O.stateNode;break;default:throw Error(mi(314))}ge!==null&&ge.delete(W),b4(O,le)}var w4;w4=function(O,W,le){if(O!==null)if(O.memoizedProps!==W.pendingProps||il.current)nl=!0;else{if(!(O.lanes&le)&&!(W.flags&128))return nl=!1,A8(O,W,le);nl=!!(O.flags&131072)}else nl=!1,to&&W.flags&1048576&&MT(W,V0,W.index);switch(W.lanes=0,W.tag){case 2:var ge=W.type;w0(O,W),O=W.pendingProps;var Re=Vv(W,Cs.current);Nv(W,le),Re=tx(null,W,ge,O,Re,le);var Pe=rx();return W.flags|=1,typeof Re=="object"&&Re!==null&&typeof Re.render=="function"&&Re.$$typeof===void 0?(W.tag=1,W.memoizedState=null,W.updateQueue=null,al(ge)?(Pe=!0,B0(W)):Pe=!1,W.memoizedState=Re.state!==null&&Re.state!==void 0?Re.state:null,J1(W),Re.updater=fg,W.stateNode=Re,Re._reactInternals=W,qm(W,ge,O,le),W=r1(null,W,ge,!0,Pe,le)):(W.tag=0,to&&Pe&&G1(W),Ns(null,W,Re,le),W=W.child),W;case 16:ge=W.elementType;e:{switch(w0(O,W),O=W.pendingProps,Re=ge._init,ge=Re(ge._payload),W.type=ge,Re=W.tag=N8(ge),O=Iu(ge,O),Re){case 0:W=t1(null,W,ge,O,le);break e;case 1:W=H3(null,W,ge,O,le);break e;case 11:W=U3(null,W,ge,O,le);break e;case 14:W=V3(null,W,ge,Iu(ge.type,O),le);break e}throw Error(mi(306,ge,""))}return W;case 0:return ge=W.type,Re=W.pendingProps,Re=W.elementType===ge?Re:Iu(ge,Re),t1(O,W,ge,Re,le);case 1:return ge=W.type,Re=W.pendingProps,Re=W.elementType===ge?Re:Iu(ge,Re),H3(O,W,ge,Re,le);case 3:e:{if(i4(W),O===null)throw Error(mi(387));ge=W.pendingProps,Pe=W.memoizedState,Re=Pe.element,LT(O,W),W0(W,ge,null,le);var U=W.memoizedState;if(ge=U.element,Pe.isDehydrated)if(Pe={element:ge,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},W.updateQueue.baseState=Pe,W.memoizedState=Pe,W.flags&256){Re=Xv(Error(mi(423)),W),W=G3(O,W,ge,le,Re);break e}else if(ge!==Re){Re=Xv(Error(mi(424)),W),W=G3(O,W,ge,le,Re);break e}else for(Tl=jc(W.stateNode.containerInfo.firstChild),Al=W,to=!0,ku=null,le=IT(W,null,ge,le),W.child=le;le;)le.flags=le.flags&-3|4096,le=le.sibling;else{if(Hv(),ge===Re){W=Kf(O,W,le);break e}Ns(O,W,ge,le)}W=W.child}return W;case 5:return _T(W),O===null&&Jm(W),ge=W.type,Re=W.pendingProps,Pe=O!==null?O.memoizedProps:null,U=Re.children,Xm(ge,Re)?U=null:Pe!==null&&Xm(ge,Pe)&&(W.flags|=32),n4(O,W),Ns(O,W,U,le),W.child;case 6:return O===null&&Jm(W),null;case 13:return a4(O,W,le);case 4:return Q1(W,W.stateNode.containerInfo),ge=W.pendingProps,O===null?W.child=Gv(W,null,ge,le):Ns(O,W,ge,le),W.child;case 11:return ge=W.type,Re=W.pendingProps,Re=W.elementType===ge?Re:Iu(ge,Re),U3(O,W,ge,Re,le);case 7:return Ns(O,W,W.pendingProps,le),W.child;case 8:return Ns(O,W,W.pendingProps.children,le),W.child;case 12:return Ns(O,W,W.pendingProps.children,le),W.child;case 10:e:{if(ge=W.type._context,Re=W.pendingProps,Pe=W.memoizedProps,U=Re.value,Ha(H0,ge._currentValue),ge._currentValue=U,Pe!==null)if(Fu(Pe.value,U)){if(Pe.children===Re.children&&!il.current){W=Kf(O,W,le);break e}}else for(Pe=W.child,Pe!==null&&(Pe.return=W);Pe!==null;){var B=Pe.dependencies;if(B!==null){U=Pe.child;for(var e=B.firstContext;e!==null;){if(e.context===ge){if(Pe.tag===1){e=Wf(-1,le&-le),e.tag=2;var y=Pe.updateQueue;if(y!==null){y=y.shared;var L=y.pending;L===null?e.next=e:(e.next=L.next,L.next=e),y.pending=e}}Pe.lanes|=le,e=Pe.alternate,e!==null&&(e.lanes|=le),Qm(Pe.return,le,W),B.lanes|=le;break}e=e.next}}else if(Pe.tag===10)U=Pe.type===W.type?null:Pe.child;else if(Pe.tag===18){if(U=Pe.return,U===null)throw Error(mi(341));U.lanes|=le,B=U.alternate,B!==null&&(B.lanes|=le),Qm(U,le,W),U=Pe.sibling}else U=Pe.child;if(U!==null)U.return=Pe;else for(U=Pe;U!==null;){if(U===W){U=null;break}if(Pe=U.sibling,Pe!==null){Pe.return=U.return,U=Pe;break}U=U.return}Pe=U}Ns(O,W,Re.children,le),W=W.child}return W;case 9:return Re=W.type,ge=W.pendingProps.children,Nv(W,le),Re=ru(Re),ge=ge(Re),W.flags|=1,Ns(O,W,ge,le),W.child;case 14:return ge=W.type,Re=Iu(ge,W.pendingProps),Re=Iu(ge.type,Re),V3(O,W,ge,Re,le);case 15:return t4(O,W,W.type,W.pendingProps,le);case 17:return ge=W.type,Re=W.pendingProps,Re=W.elementType===ge?Re:Iu(ge,Re),w0(O,W),W.tag=1,al(ge)?(O=!0,B0(W)):O=!1,Nv(W,le),DT(W,ge,Re),qm(W,ge,Re,le),r1(null,W,ge,!0,O,le);case 19:return o4(O,W,le);case 22:return r4(O,W,le)}throw Error(mi(156,W.tag))};function T4(O,W){return Z2(O,W)}function F8(O,W,le,ge){this.tag=O,this.key=le,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=W,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ge,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ql(O,W,le,ge){return new F8(O,W,le,ge)}function hx(O){return O=O.prototype,!(!O||!O.isReactComponent)}function N8(O){if(typeof O=="function")return hx(O)?1:0;if(O!=null){if(O=O.$$typeof,O===R1)return 11;if(O===I1)return 14}return 2}function Qc(O,W){var le=O.alternate;return le===null?(le=ql(O.tag,W,O.key,O.mode),le.elementType=O.elementType,le.type=O.type,le.stateNode=O.stateNode,le.alternate=O,O.alternate=le):(le.pendingProps=W,le.type=O.type,le.flags=0,le.subtreeFlags=0,le.deletions=null),le.flags=O.flags&14680064,le.childLanes=O.childLanes,le.lanes=O.lanes,le.child=O.child,le.memoizedProps=O.memoizedProps,le.memoizedState=O.memoizedState,le.updateQueue=O.updateQueue,W=O.dependencies,le.dependencies=W===null?null:{lanes:W.lanes,firstContext:W.firstContext},le.sibling=O.sibling,le.index=O.index,le.ref=O.ref,le}function M0(O,W,le,ge,Re,Pe){var U=2;if(ge=O,typeof O=="function")hx(O)&&(U=1);else if(typeof O=="string")U=5;else e:switch(O){case Av:return Bh(le.children,Re,Pe,W);case D1:U=8,Re|=8;break;case Am:return O=ql(12,le,W,Re|2),O.elementType=Am,O.lanes=Pe,O;case Mm:return O=ql(13,le,W,Re),O.elementType=Mm,O.lanes=Pe,O;case Sm:return O=ql(19,le,W,Re),O.elementType=Sm,O.lanes=Pe,O;case R2:return dg(le,Re,Pe,W);default:if(typeof O=="object"&&O!==null)switch(O.$$typeof){case P2:U=10;break e;case D2:U=9;break e;case R1:U=11;break e;case I1:U=14;break e;case Fc:U=16,ge=null;break e}throw Error(mi(130,O==null?O:typeof O,""))}return W=ql(U,le,W,Re),W.elementType=O,W.type=ge,W.lanes=Pe,W}function Bh(O,W,le,ge){return O=ql(7,O,ge,W),O.lanes=le,O}function dg(O,W,le,ge){return O=ql(22,O,ge,W),O.elementType=R2,O.lanes=le,O.stateNode={isHidden:!1},O}function Py(O,W,le){return O=ql(6,O,null,W),O.lanes=le,O}function Dy(O,W,le){return W=ql(4,O.children!==null?O.children:[],O.key,W),W.lanes=le,W.stateNode={containerInfo:O.containerInfo,pendingChildren:null,implementation:O.implementation},W}function B8(O,W,le,ge,Re){this.tag=W,this.containerInfo=O,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fy(0),this.expirationTimes=fy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fy(0),this.identifierPrefix=ge,this.onRecoverableError=Re,this.mutableSourceEagerHydrationData=null}function vx(O,W,le,ge,Re,Pe,U,B,e){return O=new B8(O,W,le,B,e),W===1?(W=1,Pe===!0&&(W|=8)):W=0,Pe=ql(3,null,null,W),O.current=Pe,Pe.stateNode=O,Pe.memoizedState={element:ge,isDehydrated:le,cache:null,transitions:null,pendingSuspenseBoundaries:null},J1(Pe),O}function U8(O,W,le){var ge=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tv,key:ge==null?null:""+ge,children:O,containerInfo:W,implementation:le}}function A4(O){if(!O)return eh;O=O._reactInternals;e:{if(Yh(O)!==O||O.tag!==1)throw Error(mi(170));var W=O;do{switch(W.tag){case 3:W=W.stateNode.context;break e;case 1:if(al(W.type)){W=W.stateNode.__reactInternalMemoizedMergedChildContext;break e}}W=W.return}while(W!==null);throw Error(mi(171))}if(O.tag===1){var le=O.type;if(al(le))return TT(O,le,W)}return W}function M4(O,W,le,ge,Re,Pe,U,B,e){return O=vx(le,ge,!0,O,Re,Pe,U,B,e),O.context=A4(null),le=O.current,ge=Bs(),Re=Jc(le),Pe=Wf(ge,Re),Pe.callback=W??null,Zc(le,Pe,Re),O.current.lanes=Re,cp(O,Re,ge),ol(O,ge),O}function pg(O,W,le,ge){var Re=W.current,Pe=Bs(),U=Jc(Re);return le=A4(le),W.context===null?W.context=le:W.pendingContext=le,W=Wf(Pe,U),W.payload={element:O},ge=ge===void 0?null:ge,ge!==null&&(W.callback=ge),O=Zc(Re,W,U),O!==null&&(zu(O,Re,U,Pe),m0(O,Re,U)),U}function $0(O){if(O=O.current,!O.child)return null;switch(O.child.tag){case 5:return O.child.stateNode;default:return O.child.stateNode}}function q3(O,W){if(O=O.memoizedState,O!==null&&O.dehydrated!==null){var le=O.retryLane;O.retryLane=le!==0&&le<W?le:W}}function dx(O,W){q3(O,W),(O=O.alternate)&&q3(O,W)}function V8(){return null}var S4=typeof reportError=="function"?reportError:function(O){console.error(O)};function px(O){this._internalRoot=O}gg.prototype.render=px.prototype.render=function(O){var W=this._internalRoot;if(W===null)throw Error(mi(409));pg(O,W,null,null)};gg.prototype.unmount=px.prototype.unmount=function(){var O=this._internalRoot;if(O!==null){this._internalRoot=null;var W=O.containerInfo;Wh(function(){pg(null,O,null,null)}),W[jf]=null}};function gg(O){this._internalRoot=O}gg.prototype.unstable_scheduleHydration=function(O){if(O){var W=tT();O={blockedOn:null,target:O,priority:W};for(var le=0;le<Bc.length&&W!==0&&W<Bc[le].priority;le++);Bc.splice(le,0,O),le===0&&nT(O)}};function gx(O){return!(!O||O.nodeType!==1&&O.nodeType!==9&&O.nodeType!==11)}function yg(O){return!(!O||O.nodeType!==1&&O.nodeType!==9&&O.nodeType!==11&&(O.nodeType!==8||O.nodeValue!==" react-mount-point-unstable "))}function ew(){}function H8(O,W,le,ge,Re){if(Re){if(typeof ge=="function"){var Pe=ge;ge=function(){var y=$0(U);Pe.call(y)}}var U=M4(W,ge,O,0,null,!1,!1,"",ew);return O._reactRootContainer=U,O[jf]=U.current,$d(O.nodeType===8?O.parentNode:O),Wh(),U}for(;Re=O.lastChild;)O.removeChild(Re);if(typeof ge=="function"){var B=ge;ge=function(){var y=$0(e);B.call(y)}}var e=vx(O,0,!1,null,null,!1,!1,"",ew);return O._reactRootContainer=e,O[jf]=e.current,$d(O.nodeType===8?O.parentNode:O),Wh(function(){pg(W,e,le,ge)}),e}function mg(O,W,le,ge,Re){var Pe=le._reactRootContainer;if(Pe){var U=Pe;if(typeof Re=="function"){var B=Re;Re=function(){var e=$0(U);B.call(e)}}pg(W,U,O,Re)}else U=H8(le,W,O,Re,ge);return $0(U)}q2=function(O){switch(O.tag){case 3:var W=O.stateNode;if(W.current.memoizedState.isDehydrated){var le=_d(W.pendingLanes);le!==0&&(O1(W,le|1),ol(W,Lo()),!(Ma&6)&&(Yv=Lo()+500,nh()))}break;case 13:Wh(function(){var ge=Zf(O,1);if(ge!==null){var Re=Bs();zu(ge,O,1,Re)}}),dx(O,1)}};z1=function(O){if(O.tag===13){var W=Zf(O,134217728);if(W!==null){var le=Bs();zu(W,O,134217728,le)}dx(O,134217728)}};eT=function(O){if(O.tag===13){var W=Jc(O),le=Zf(O,W);if(le!==null){var ge=Bs();zu(le,O,W,ge)}dx(O,W)}};tT=function(){return _a};rT=function(O,W){var le=_a;try{return _a=O,W()}finally{_a=le}};Om=function(O,W,le){switch(W){case"input":if(Lm(O,le),W=le.name,le.type==="radio"&&W!=null){for(le=O;le.parentNode;)le=le.parentNode;for(le=le.querySelectorAll("input[name="+JSON.stringify(""+W)+'][type="radio"]'),W=0;W<le.length;W++){var ge=le[W];if(ge!==O&&ge.form===O.form){var Re=lg(ge);if(!Re)throw Error(mi(90));_2(ge),Lm(ge,Re)}}}break;case"textarea":O2(O,le);break;case"select":W=le.value,W!=null&&kv(O,!!le.multiple,W,!1)}};H2=ux;G2=Wh;var G8={usingClientEntryPoint:!1,Events:[vp,Cv,lg,U2,V2,ux]},Ld={findFiberByHostInstance:Oh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},W8={bundleType:Ld.bundleType,version:Ld.version,rendererPackageName:Ld.rendererPackageName,rendererConfig:Ld.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jf.ReactCurrentDispatcher,findHostInstanceByFiber:function(O){return O=Y2(O),O===null?null:O.stateNode},findFiberByHostInstance:Ld.findFiberByHostInstance||V8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var u0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!u0.isDisabled&&u0.supportsFiber)try{ig=u0.inject(W8),uf=u0}catch{}}Sl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G8;Sl.createPortal=function(O,W){var le=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gx(W))throw Error(mi(200));return U8(O,W,null,le)};Sl.createRoot=function(O,W){if(!gx(O))throw Error(mi(299));var le=!1,ge="",Re=S4;return W!=null&&(W.unstable_strictMode===!0&&(le=!0),W.identifierPrefix!==void 0&&(ge=W.identifierPrefix),W.onRecoverableError!==void 0&&(Re=W.onRecoverableError)),W=vx(O,1,!1,null,null,le,!1,ge,Re),O[jf]=W.current,$d(O.nodeType===8?O.parentNode:O),new px(W)};Sl.findDOMNode=function(O){if(O==null)return null;if(O.nodeType===1)return O;var W=O._reactInternals;if(W===void 0)throw typeof O.render=="function"?Error(mi(188)):(O=Object.keys(O).join(","),Error(mi(268,O)));return O=Y2(W),O=O===null?null:O.stateNode,O};Sl.flushSync=function(O){return Wh(O)};Sl.hydrate=function(O,W,le){if(!yg(W))throw Error(mi(200));return mg(null,O,W,!0,le)};Sl.hydrateRoot=function(O,W,le){if(!gx(O))throw Error(mi(405));var ge=le!=null&&le.hydratedSources||null,Re=!1,Pe="",U=S4;if(le!=null&&(le.unstable_strictMode===!0&&(Re=!0),le.identifierPrefix!==void 0&&(Pe=le.identifierPrefix),le.onRecoverableError!==void 0&&(U=le.onRecoverableError)),W=M4(W,null,O,1,le??null,Re,!1,Pe,U),O[jf]=W.current,$d(O),ge)for(O=0;O<ge.length;O++)le=ge[O],Re=le._getVersion,Re=Re(le._source),W.mutableSourceEagerHydrationData==null?W.mutableSourceEagerHydrationData=[le,Re]:W.mutableSourceEagerHydrationData.push(le,Re);return new gg(W)};Sl.render=function(O,W,le){if(!yg(W))throw Error(mi(200));return mg(null,O,W,!1,le)};Sl.unmountComponentAtNode=function(O){if(!yg(O))throw Error(mi(40));return O._reactRootContainer?(Wh(function(){mg(null,null,O,!1,function(){O._reactRootContainer=null,O[jf]=null})}),!0):!1};Sl.unstable_batchedUpdates=ux;Sl.unstable_renderSubtreeIntoContainer=function(O,W,le,ge){if(!yg(le))throw Error(mi(200));if(O==null||O._reactInternals===void 0)throw Error(mi(38));return mg(O,W,le,!1,ge)};Sl.version="18.2.0-next-9e3b772b8-20220608";function E4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E4)}catch(O){console.error(O)}}E4(),M2.exports=Sl;var X8=M2.exports,tw=X8;wm.createRoot=tw.createRoot,wm.hydrateRoot=tw.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sp(){return sp=Object.assign?Object.assign.bind():function(O){for(var W=1;W<arguments.length;W++){var le=arguments[W];for(var ge in le)Object.prototype.hasOwnProperty.call(le,ge)&&(O[ge]=le[ge])}return O},sp.apply(this,arguments)}var Gc;(function(O){O.Pop="POP",O.Push="PUSH",O.Replace="REPLACE"})(Gc||(Gc={}));const rw="popstate";function Y8(O){O===void 0&&(O={});function W(Re,Pe){let{pathname:U="/",search:B="",hash:e=""}=jh(Re.location.hash.substr(1));return!U.startsWith("/")&&!U.startsWith(".")&&(U="/"+U),d1("",{pathname:U,search:B,hash:e},Pe.state&&Pe.state.usr||null,Pe.state&&Pe.state.key||"default")}function le(Re,Pe){let U=Re.document.querySelector("base"),B="";if(U&&U.getAttribute("href")){let e=Re.location.href,y=e.indexOf("#");B=y===-1?e:e.slice(0,y)}return B+"#"+(typeof Pe=="string"?Pe:q0(Pe))}function ge(Re,Pe){yx(Re.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(Pe)+")")}return Z8(W,le,ge,O)}function wo(O,W){if(O===!1||O===null||typeof O>"u")throw new Error(W)}function yx(O,W){if(!O){typeof console<"u"&&console.warn(W);try{throw new Error(W)}catch{}}}function j8(){return Math.random().toString(36).substr(2,8)}function nw(O,W){return{usr:O.state,key:O.key,idx:W}}function d1(O,W,le,ge){return le===void 0&&(le=null),sp({pathname:typeof O=="string"?O:O.pathname,search:"",hash:""},typeof W=="string"?jh(W):W,{state:le,key:W&&W.key||ge||j8()})}function q0(O){let{pathname:W="/",search:le="",hash:ge=""}=O;return le&&le!=="?"&&(W+=le.charAt(0)==="?"?le:"?"+le),ge&&ge!=="#"&&(W+=ge.charAt(0)==="#"?ge:"#"+ge),W}function jh(O){let W={};if(O){let le=O.indexOf("#");le>=0&&(W.hash=O.substr(le),O=O.substr(0,le));let ge=O.indexOf("?");ge>=0&&(W.search=O.substr(ge),O=O.substr(0,ge)),O&&(W.pathname=O)}return W}function Z8(O,W,le,ge){ge===void 0&&(ge={});let{window:Re=document.defaultView,v5Compat:Pe=!1}=ge,U=Re.history,B=Gc.Pop,e=null,y=L();y==null&&(y=0,U.replaceState(sp({},U.state,{idx:y}),""));function L(){return(U.state||{idx:null}).idx}function i(){B=Gc.Pop;let r=L(),t=r==null?null:r-y;y=r,e&&e({action:B,location:p.location,delta:t})}function S(r,t){B=Gc.Push;let a=d1(p.location,r,t);le&&le(a,r),y=L()+1;let n=nw(a,y),u=p.createHref(a);try{U.pushState(n,"",u)}catch(s){if(s instanceof DOMException&&s.name==="DataCloneError")throw s;Re.location.assign(u)}Pe&&e&&e({action:B,location:p.location,delta:1})}function b(r,t){B=Gc.Replace;let a=d1(p.location,r,t);le&&le(a,r),y=L();let n=nw(a,y),u=p.createHref(a);U.replaceState(n,"",u),Pe&&e&&e({action:B,location:p.location,delta:0})}function v(r){let t=Re.location.origin!=="null"?Re.location.origin:Re.location.href,a=typeof r=="string"?r:q0(r);return a=a.replace(/ $/,"%20"),wo(t,"No window.location.(origin|href) available to create URL for href: "+a),new URL(a,t)}let p={get action(){return B},get location(){return O(Re,U)},listen(r){if(e)throw new Error("A history only accepts one active listener");return Re.addEventListener(rw,i),e=r,()=>{Re.removeEventListener(rw,i),e=null}},createHref(r){return W(Re,r)},createURL:v,encodeLocation(r){let t=v(r);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:S,replace:b,go(r){return U.go(r)}};return p}var iw;(function(O){O.data="data",O.deferred="deferred",O.redirect="redirect",O.error="error"})(iw||(iw={}));function K8(O,W,le){le===void 0&&(le="/");let ge=typeof W=="string"?jh(W):W,Re=jv(ge.pathname||"/",le);if(Re==null)return null;let Pe=C4(O);J8(Pe);let U=null;for(let B=0;U==null&&B<Pe.length;++B){let e=sE(Re);U=aE(Pe[B],e)}return U}function C4(O,W,le,ge){W===void 0&&(W=[]),le===void 0&&(le=[]),ge===void 0&&(ge="");let Re=(Pe,U,B)=>{let e={relativePath:B===void 0?Pe.path||"":B,caseSensitive:Pe.caseSensitive===!0,childrenIndex:U,route:Pe};e.relativePath.startsWith("/")&&(wo(e.relativePath.startsWith(ge),'Absolute route path "'+e.relativePath+'" nested under path '+('"'+ge+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),e.relativePath=e.relativePath.slice(ge.length));let y=$c([ge,e.relativePath]),L=le.concat(e);Pe.children&&Pe.children.length>0&&(wo(Pe.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),C4(Pe.children,W,L,y)),!(Pe.path==null&&!Pe.index)&&W.push({path:y,score:nE(y,Pe.index),routesMeta:L})};return O.forEach((Pe,U)=>{var B;if(Pe.path===""||!((B=Pe.path)!=null&&B.includes("?")))Re(Pe,U);else for(let e of L4(Pe.path))Re(Pe,U,e)}),W}function L4(O){let W=O.split("/");if(W.length===0)return[];let[le,...ge]=W,Re=le.endsWith("?"),Pe=le.replace(/\?$/,"");if(ge.length===0)return Re?[Pe,""]:[Pe];let U=L4(ge.join("/")),B=[];return B.push(...U.map(e=>e===""?Pe:[Pe,e].join("/"))),Re&&B.push(...U),B.map(e=>O.startsWith("/")&&e===""?"/":e)}function J8(O){O.sort((W,le)=>W.score!==le.score?le.score-W.score:iE(W.routesMeta.map(ge=>ge.childrenIndex),le.routesMeta.map(ge=>ge.childrenIndex)))}const Q8=/^:[\w-]+$/,$8=3,q8=2,eE=1,tE=10,rE=-2,aw=O=>O==="*";function nE(O,W){let le=O.split("/"),ge=le.length;return le.some(aw)&&(ge+=rE),W&&(ge+=q8),le.filter(Re=>!aw(Re)).reduce((Re,Pe)=>Re+(Q8.test(Pe)?$8:Pe===""?eE:tE),ge)}function iE(O,W){return O.length===W.length&&O.slice(0,-1).every((ge,Re)=>ge===W[Re])?O[O.length-1]-W[W.length-1]:0}function aE(O,W){let{routesMeta:le}=O,ge={},Re="/",Pe=[];for(let U=0;U<le.length;++U){let B=le[U],e=U===le.length-1,y=Re==="/"?W:W.slice(Re.length)||"/",L=p1({path:B.relativePath,caseSensitive:B.caseSensitive,end:e},y);if(!L)return null;Object.assign(ge,L.params);let i=B.route;Pe.push({params:ge,pathname:$c([Re,L.pathname]),pathnameBase:cE($c([Re,L.pathnameBase])),route:i}),L.pathnameBase!=="/"&&(Re=$c([Re,L.pathnameBase]))}return Pe}function p1(O,W){typeof O=="string"&&(O={path:O,caseSensitive:!1,end:!0});let[le,ge]=oE(O.path,O.caseSensitive,O.end),Re=W.match(le);if(!Re)return null;let Pe=Re[0],U=Pe.replace(/(.)\/+$/,"$1"),B=Re.slice(1);return{params:ge.reduce((y,L,i)=>{let{paramName:S,isOptional:b}=L;if(S==="*"){let p=B[i]||"";U=Pe.slice(0,Pe.length-p.length).replace(/(.)\/+$/,"$1")}const v=B[i];return b&&!v?y[S]=void 0:y[S]=(v||"").replace(/%2F/g,"/"),y},{}),pathname:Pe,pathnameBase:U,pattern:O}}function oE(O,W,le){W===void 0&&(W=!1),le===void 0&&(le=!0),yx(O==="*"||!O.endsWith("*")||O.endsWith("/*"),'Route path "'+O+'" will be treated as if it were '+('"'+O.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+O.replace(/\*$/,"/*")+'".'));let ge=[],Re="^"+O.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(U,B,e)=>(ge.push({paramName:B,isOptional:e!=null}),e?"/?([^\\/]+)?":"/([^\\/]+)"));return O.endsWith("*")?(ge.push({paramName:"*"}),Re+=O==="*"||O==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):le?Re+="\\/*$":O!==""&&O!=="/"&&(Re+="(?:(?=\\/|$))"),[new RegExp(Re,W?void 0:"i"),ge]}function sE(O){try{return O.split("/").map(W=>decodeURIComponent(W).replace(/\//g,"%2F")).join("/")}catch(W){return yx(!1,'The URL path "'+O+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+W+").")),O}}function jv(O,W){if(W==="/")return O;if(!O.toLowerCase().startsWith(W.toLowerCase()))return null;let le=W.endsWith("/")?W.length-1:W.length,ge=O.charAt(le);return ge&&ge!=="/"?null:O.slice(le)||"/"}function lE(O,W){W===void 0&&(W="/");let{pathname:le,search:ge="",hash:Re=""}=typeof O=="string"?jh(O):O;return{pathname:le?le.startsWith("/")?le:uE(le,W):W,search:hE(ge),hash:vE(Re)}}function uE(O,W){let le=W.replace(/\/+$/,"").split("/");return O.split("/").forEach(Re=>{Re===".."?le.length>1&&le.pop():Re!=="."&&le.push(Re)}),le.length>1?le.join("/"):"/"}function Ry(O,W,le,ge){return"Cannot include a '"+O+"' character in a manually specified "+("`to."+W+"` field ["+JSON.stringify(ge)+"].  Please separate it out to the ")+("`to."+le+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fE(O){return O.filter((W,le)=>le===0||W.route.path&&W.route.path.length>0)}function P4(O,W){let le=fE(O);return W?le.map((ge,Re)=>Re===O.length-1?ge.pathname:ge.pathnameBase):le.map(ge=>ge.pathnameBase)}function D4(O,W,le,ge){ge===void 0&&(ge=!1);let Re;typeof O=="string"?Re=jh(O):(Re=sp({},O),wo(!Re.pathname||!Re.pathname.includes("?"),Ry("?","pathname","search",Re)),wo(!Re.pathname||!Re.pathname.includes("#"),Ry("#","pathname","hash",Re)),wo(!Re.search||!Re.search.includes("#"),Ry("#","search","hash",Re)));let Pe=O===""||Re.pathname==="",U=Pe?"/":Re.pathname,B;if(U==null)B=le;else{let i=W.length-1;if(!ge&&U.startsWith("..")){let S=U.split("/");for(;S[0]==="..";)S.shift(),i-=1;Re.pathname=S.join("/")}B=i>=0?W[i]:"/"}let e=lE(Re,B),y=U&&U!=="/"&&U.endsWith("/"),L=(Pe||U===".")&&le.endsWith("/");return!e.pathname.endsWith("/")&&(y||L)&&(e.pathname+="/"),e}const $c=O=>O.join("/").replace(/\/\/+/g,"/"),cE=O=>O.replace(/\/+$/,"").replace(/^\/*/,"/"),hE=O=>!O||O==="?"?"":O.startsWith("?")?O:"?"+O,vE=O=>!O||O==="#"?"":O.startsWith("#")?O:"#"+O;function dE(O){return O!=null&&typeof O.status=="number"&&typeof O.statusText=="string"&&typeof O.internal=="boolean"&&"data"in O}const R4=["post","put","patch","delete"];new Set(R4);const pE=["get",...R4];new Set(pE);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lp(){return lp=Object.assign?Object.assign.bind():function(O){for(var W=1;W<arguments.length;W++){var le=arguments[W];for(var ge in le)Object.prototype.hasOwnProperty.call(le,ge)&&(O[ge]=le[ge])}return O},lp.apply(this,arguments)}const xg=Li.createContext(null),I4=Li.createContext(null),ih=Li.createContext(null),bg=Li.createContext(null),Zh=Li.createContext({outlet:null,matches:[],isDataRoute:!1}),_4=Li.createContext(null);function gE(O,W){let{relative:le}=W===void 0?{}:W;pp()||wo(!1);let{basename:ge,navigator:Re}=Li.useContext(ih),{hash:Pe,pathname:U,search:B}=wg(O,{relative:le}),e=U;return ge!=="/"&&(e=U==="/"?ge:$c([ge,U])),Re.createHref({pathname:e,search:B,hash:Pe})}function pp(){return Li.useContext(bg)!=null}function gp(){return pp()||wo(!1),Li.useContext(bg).location}function k4(O){Li.useContext(ih).static||Li.useLayoutEffect(O)}function yE(){let{isDataRoute:O}=Li.useContext(Zh);return O?DE():mE()}function mE(){pp()||wo(!1);let O=Li.useContext(xg),{basename:W,future:le,navigator:ge}=Li.useContext(ih),{matches:Re}=Li.useContext(Zh),{pathname:Pe}=gp(),U=JSON.stringify(P4(Re,le.v7_relativeSplatPath)),B=Li.useRef(!1);return k4(()=>{B.current=!0}),Li.useCallback(function(y,L){if(L===void 0&&(L={}),!B.current)return;if(typeof y=="number"){ge.go(y);return}let i=D4(y,JSON.parse(U),Pe,L.relative==="path");O==null&&W!=="/"&&(i.pathname=i.pathname==="/"?W:$c([W,i.pathname])),(L.replace?ge.replace:ge.push)(i,L.state,L)},[W,ge,U,Pe,O])}function wg(O,W){let{relative:le}=W===void 0?{}:W,{future:ge}=Li.useContext(ih),{matches:Re}=Li.useContext(Zh),{pathname:Pe}=gp(),U=JSON.stringify(P4(Re,ge.v7_relativeSplatPath));return Li.useMemo(()=>D4(O,JSON.parse(U),Pe,le==="path"),[O,U,Pe,le])}function xE(O,W){return bE(O,W)}function bE(O,W,le,ge){pp()||wo(!1);let{navigator:Re}=Li.useContext(ih),{matches:Pe}=Li.useContext(Zh),U=Pe[Pe.length-1],B=U?U.params:{};U&&U.pathname;let e=U?U.pathnameBase:"/";U&&U.route;let y=gp(),L;if(W){var i;let r=typeof W=="string"?jh(W):W;e==="/"||(i=r.pathname)!=null&&i.startsWith(e)||wo(!1),L=r}else L=y;let S=L.pathname||"/",b=S;if(e!=="/"){let r=e.replace(/^\//,"").split("/");b="/"+S.replace(/^\//,"").split("/").slice(r.length).join("/")}let v=K8(O,{pathname:b}),p=SE(v&&v.map(r=>Object.assign({},r,{params:Object.assign({},B,r.params),pathname:$c([e,Re.encodeLocation?Re.encodeLocation(r.pathname).pathname:r.pathname]),pathnameBase:r.pathnameBase==="/"?e:$c([e,Re.encodeLocation?Re.encodeLocation(r.pathnameBase).pathname:r.pathnameBase])})),Pe,le,ge);return W&&p?Li.createElement(bg.Provider,{value:{location:lp({pathname:"/",search:"",hash:"",state:null,key:"default"},L),navigationType:Gc.Pop}},p):p}function wE(){let O=PE(),W=dE(O)?O.status+" "+O.statusText:O instanceof Error?O.message:JSON.stringify(O),le=O instanceof Error?O.stack:null,Re={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Li.createElement(Li.Fragment,null,Li.createElement("h2",null,"Unexpected Application Error!"),Li.createElement("h3",{style:{fontStyle:"italic"}},W),le?Li.createElement("pre",{style:Re},le):null,null)}const TE=Li.createElement(wE,null);class AE extends Li.Component{constructor(W){super(W),this.state={location:W.location,revalidation:W.revalidation,error:W.error}}static getDerivedStateFromError(W){return{error:W}}static getDerivedStateFromProps(W,le){return le.location!==W.location||le.revalidation!=="idle"&&W.revalidation==="idle"?{error:W.error,location:W.location,revalidation:W.revalidation}:{error:W.error!==void 0?W.error:le.error,location:le.location,revalidation:W.revalidation||le.revalidation}}componentDidCatch(W,le){console.error("React Router caught the following error during render",W,le)}render(){return this.state.error!==void 0?Li.createElement(Zh.Provider,{value:this.props.routeContext},Li.createElement(_4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ME(O){let{routeContext:W,match:le,children:ge}=O,Re=Li.useContext(xg);return Re&&Re.static&&Re.staticContext&&(le.route.errorElement||le.route.ErrorBoundary)&&(Re.staticContext._deepestRenderedBoundaryId=le.route.id),Li.createElement(Zh.Provider,{value:W},ge)}function SE(O,W,le,ge){var Re;if(W===void 0&&(W=[]),le===void 0&&(le=null),ge===void 0&&(ge=null),O==null){var Pe;if((Pe=le)!=null&&Pe.errors)O=le.matches;else return null}let U=O,B=(Re=le)==null?void 0:Re.errors;if(B!=null){let L=U.findIndex(i=>i.route.id&&(B==null?void 0:B[i.route.id]));L>=0||wo(!1),U=U.slice(0,Math.min(U.length,L+1))}let e=!1,y=-1;if(le&&ge&&ge.v7_partialHydration)for(let L=0;L<U.length;L++){let i=U[L];if((i.route.HydrateFallback||i.route.hydrateFallbackElement)&&(y=L),i.route.id){let{loaderData:S,errors:b}=le,v=i.route.loader&&S[i.route.id]===void 0&&(!b||b[i.route.id]===void 0);if(i.route.lazy||v){e=!0,y>=0?U=U.slice(0,y+1):U=[U[0]];break}}}return U.reduceRight((L,i,S)=>{let b,v=!1,p=null,r=null;le&&(b=B&&i.route.id?B[i.route.id]:void 0,p=i.route.errorElement||TE,e&&(y<0&&S===0?(RE("route-fallback",!1),v=!0,r=null):y===S&&(v=!0,r=i.route.hydrateFallbackElement||null)));let t=W.concat(U.slice(0,S+1)),a=()=>{let n;return b?n=p:v?n=r:i.route.Component?n=Li.createElement(i.route.Component,null):i.route.element?n=i.route.element:n=L,Li.createElement(ME,{match:i,routeContext:{outlet:L,matches:t,isDataRoute:le!=null},children:n})};return le&&(i.route.ErrorBoundary||i.route.errorElement||S===0)?Li.createElement(AE,{location:le.location,revalidation:le.revalidation,component:p,error:b,children:a(),routeContext:{outlet:null,matches:t,isDataRoute:!0}}):a()},null)}var O4=function(O){return O.UseBlocker="useBlocker",O.UseRevalidator="useRevalidator",O.UseNavigateStable="useNavigate",O}(O4||{}),eg=function(O){return O.UseBlocker="useBlocker",O.UseLoaderData="useLoaderData",O.UseActionData="useActionData",O.UseRouteError="useRouteError",O.UseNavigation="useNavigation",O.UseRouteLoaderData="useRouteLoaderData",O.UseMatches="useMatches",O.UseRevalidator="useRevalidator",O.UseNavigateStable="useNavigate",O.UseRouteId="useRouteId",O}(eg||{});function EE(O){let W=Li.useContext(xg);return W||wo(!1),W}function CE(O){let W=Li.useContext(I4);return W||wo(!1),W}function LE(O){let W=Li.useContext(Zh);return W||wo(!1),W}function z4(O){let W=LE(),le=W.matches[W.matches.length-1];return le.route.id||wo(!1),le.route.id}function PE(){var O;let W=Li.useContext(_4),le=CE(eg.UseRouteError),ge=z4(eg.UseRouteError);return W!==void 0?W:(O=le.errors)==null?void 0:O[ge]}function DE(){let{router:O}=EE(O4.UseNavigateStable),W=z4(eg.UseNavigateStable),le=Li.useRef(!1);return k4(()=>{le.current=!0}),Li.useCallback(function(Re,Pe){Pe===void 0&&(Pe={}),le.current&&(typeof Re=="number"?O.navigate(Re):O.navigate(Re,lp({fromRouteId:W},Pe)))},[O,W])}const ow={};function RE(O,W,le){!W&&!ow[O]&&(ow[O]=!0)}function S0(O){wo(!1)}function IE(O){let{basename:W="/",children:le=null,location:ge,navigationType:Re=Gc.Pop,navigator:Pe,static:U=!1,future:B}=O;pp()&&wo(!1);let e=W.replace(/^\/*/,"/"),y=Li.useMemo(()=>({basename:e,navigator:Pe,static:U,future:lp({v7_relativeSplatPath:!1},B)}),[e,B,Pe,U]);typeof ge=="string"&&(ge=jh(ge));let{pathname:L="/",search:i="",hash:S="",state:b=null,key:v="default"}=ge,p=Li.useMemo(()=>{let r=jv(L,e);return r==null?null:{location:{pathname:r,search:i,hash:S,state:b,key:v},navigationType:Re}},[e,L,i,S,b,v,Re]);return p==null?null:Li.createElement(ih.Provider,{value:y},Li.createElement(bg.Provider,{children:le,value:p}))}function _E(O){let{children:W,location:le}=O;return xE(g1(W),le)}new Promise(()=>{});function g1(O,W){W===void 0&&(W=[]);let le=[];return Li.Children.forEach(O,(ge,Re)=>{if(!Li.isValidElement(ge))return;let Pe=[...W,Re];if(ge.type===Li.Fragment){le.push.apply(le,g1(ge.props.children,Pe));return}ge.type!==S0&&wo(!1),!ge.props.index||!ge.props.children||wo(!1);let U={id:ge.props.id||Pe.join("-"),caseSensitive:ge.props.caseSensitive,element:ge.props.element,Component:ge.props.Component,index:ge.props.index,path:ge.props.path,loader:ge.props.loader,action:ge.props.action,errorElement:ge.props.errorElement,ErrorBoundary:ge.props.ErrorBoundary,hasErrorBoundary:ge.props.ErrorBoundary!=null||ge.props.errorElement!=null,shouldRevalidate:ge.props.shouldRevalidate,handle:ge.props.handle,lazy:ge.props.lazy};ge.props.children&&(U.children=g1(ge.props.children,Pe)),le.push(U)}),le}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tg(){return tg=Object.assign?Object.assign.bind():function(O){for(var W=1;W<arguments.length;W++){var le=arguments[W];for(var ge in le)Object.prototype.hasOwnProperty.call(le,ge)&&(O[ge]=le[ge])}return O},tg.apply(this,arguments)}function F4(O,W){if(O==null)return{};var le={},ge=Object.keys(O),Re,Pe;for(Pe=0;Pe<ge.length;Pe++)Re=ge[Pe],!(W.indexOf(Re)>=0)&&(le[Re]=O[Re]);return le}function kE(O){return!!(O.metaKey||O.altKey||O.ctrlKey||O.shiftKey)}function OE(O,W){return O.button===0&&(!W||W==="_self")&&!kE(O)}const zE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],FE=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],NE="6";try{window.__reactRouterVersion=NE}catch{}const BE=Li.createContext({isTransitioning:!1}),UE="startTransition",sw=OM[UE];function VE(O){let{basename:W,children:le,future:ge,window:Re}=O,Pe=Li.useRef();Pe.current==null&&(Pe.current=Y8({window:Re,v5Compat:!0}));let U=Pe.current,[B,e]=Li.useState({action:U.action,location:U.location}),{v7_startTransition:y}=ge||{},L=Li.useCallback(i=>{y&&sw?sw(()=>e(i)):e(i)},[e,y]);return Li.useLayoutEffect(()=>U.listen(L),[U,L]),Li.createElement(IE,{basename:W,children:le,location:B.location,navigationType:B.action,navigator:U,future:ge})}const HE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WE=Li.forwardRef(function(W,le){let{onClick:ge,relative:Re,reloadDocument:Pe,replace:U,state:B,target:e,to:y,preventScrollReset:L,unstable_viewTransition:i}=W,S=F4(W,zE),{basename:b}=Li.useContext(ih),v,p=!1;if(typeof y=="string"&&GE.test(y)&&(v=y,HE))try{let n=new URL(window.location.href),u=y.startsWith("//")?new URL(n.protocol+y):new URL(y),s=jv(u.pathname,b);u.origin===n.origin&&s!=null?y=s+u.search+u.hash:p=!0}catch{}let r=gE(y,{relative:Re}),t=YE(y,{replace:U,state:B,target:e,preventScrollReset:L,relative:Re,unstable_viewTransition:i});function a(n){ge&&ge(n),n.defaultPrevented||t(n)}return Li.createElement("a",tg({},S,{href:v||r,onClick:p||Pe?ge:a,ref:le,target:e}))}),Iy=Li.forwardRef(function(W,le){let{"aria-current":ge="page",caseSensitive:Re=!1,className:Pe="",end:U=!1,style:B,to:e,unstable_viewTransition:y,children:L}=W,i=F4(W,FE),S=wg(e,{relative:i.relative}),b=gp(),v=Li.useContext(I4),{navigator:p,basename:r}=Li.useContext(ih),t=v!=null&&jE(S)&&y===!0,a=p.encodeLocation?p.encodeLocation(S).pathname:S.pathname,n=b.pathname,u=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;Re||(n=n.toLowerCase(),u=u?u.toLowerCase():null,a=a.toLowerCase()),u&&r&&(u=jv(u,r)||u);const s=a!=="/"&&a.endsWith("/")?a.length-1:a.length;let l=n===a||!U&&n.startsWith(a)&&n.charAt(s)==="/",m=u!=null&&(u===a||!U&&u.startsWith(a)&&u.charAt(a.length)==="/"),h={isActive:l,isPending:m,isTransitioning:t},g=l?ge:void 0,c;typeof Pe=="function"?c=Pe(h):c=[Pe,l?"active":null,m?"pending":null,t?"transitioning":null].filter(Boolean).join(" ");let o=typeof B=="function"?B(h):B;return Li.createElement(WE,tg({},i,{"aria-current":g,className:c,ref:le,style:o,to:e,unstable_viewTransition:y}),typeof L=="function"?L(h):L)});var y1;(function(O){O.UseScrollRestoration="useScrollRestoration",O.UseSubmit="useSubmit",O.UseSubmitFetcher="useSubmitFetcher",O.UseFetcher="useFetcher",O.useViewTransitionState="useViewTransitionState"})(y1||(y1={}));var lw;(function(O){O.UseFetcher="useFetcher",O.UseFetchers="useFetchers",O.UseScrollRestoration="useScrollRestoration"})(lw||(lw={}));function XE(O){let W=Li.useContext(xg);return W||wo(!1),W}function YE(O,W){let{target:le,replace:ge,state:Re,preventScrollReset:Pe,relative:U,unstable_viewTransition:B}=W===void 0?{}:W,e=yE(),y=gp(),L=wg(O,{relative:U});return Li.useCallback(i=>{if(OE(i,le)){i.preventDefault();let S=ge!==void 0?ge:q0(y)===q0(L);e(O,{replace:S,state:Re,preventScrollReset:Pe,relative:U,unstable_viewTransition:B})}},[y,e,L,ge,Re,le,O,Pe,U,B])}function jE(O,W){W===void 0&&(W={});let le=Li.useContext(BE);le==null&&wo(!1);let{basename:ge}=XE(y1.useViewTransitionState),Re=wg(O,{relative:W.relative});if(!le.isTransitioning)return!1;let Pe=jv(le.currentLocation.pathname,ge)||le.currentLocation.pathname,U=jv(le.nextLocation.pathname,ge)||le.nextLocation.pathname;return p1(Re.pathname,U)!=null||p1(Re.pathname,Pe)!=null}const ZE=()=>Vi.jsx("nav",{className:"bg-teal-500 py-4",children:Vi.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[Vi.jsx(Iy,{to:"/",className:"text-lg font-bold text-white",children:"Home"}),Vi.jsxs("ul",{className:"flex",children:[Vi.jsx("li",{children:Vi.jsx(Iy,{to:"/NASA_APOD",className:"ml-6 text-lg text-white transition duration-300 hover:text-black",children:"NASA APOD"})}),Vi.jsx("li",{children:Vi.jsx(Iy,{to:"/Weather",className:"ml-6 text-lg text-white transition duration-300 hover:text-black",children:"Weather"})})]})]})}),KE=()=>Vi.jsx("div",{className:"mb-8 overflow-hidden rounded-lg bg-teal-500",children:Vi.jsxs("div",{className:"relative",children:[Vi.jsx("img",{src:"https://source.unsplash.com/1600x900/?technology",alt:"Hero",className:"h-auto w-full"}),Vi.jsx("div",{className:"absolute left-0 top-0 h-full w-full bg-black opacity-50"}),Vi.jsx("div",{className:"absolute left-0 top-0 flex h-full w-full items-center justify-center text-4xl font-bold text-white",children:Vi.jsx("h1",{children:"Welcome to APIconic!"})})]})}),uw=({title:O,description:W})=>Vi.jsxs("div",{className:"rounded-lg bg-white p-6 shadow-md",children:[Vi.jsx("h2",{className:"mb-4 text-xl font-bold text-teal-500",children:O}),Vi.jsx("p",{className:"text-gray-800",children:W})]}),JE=({city:O,country:W,forecast:le})=>{const ge=le[0].main.temp,Re=le[0].weather[0].description;return console.log(le),Vi.jsxs("div",{className:"rounded-lg bg-teal-900 p-4",children:[Vi.jsxs("h2",{className:"mb-2 text-lg font-semibold text-white",children:["Current Weather for ",O]}),Vi.jsxs("p",{className:"text-white",children:["Country: ",W]}),Vi.jsxs("p",{className:"text-white",children:["Temperature: ",ge,"°C"]}),Vi.jsxs("p",{className:"text-white",children:["Description: ",Re]})]})};var N4={},B4={},U4={exports:{}},QE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$E=QE,qE=$E;function V4(){}function H4(){}H4.resetWarningCache=V4;var eC=function(){function O(ge,Re,Pe,U,B,e){if(e!==qE){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}O.isRequired=O;function W(){return O}var le={array:O,bigint:O,bool:O,func:O,number:O,object:O,string:O,symbol:O,any:O,arrayOf:W,element:O,elementType:O,instanceOf:W,node:O,objectOf:W,oneOf:W,oneOfType:W,shape:W,exact:W,checkPropTypes:H4,resetWarningCache:V4};return le.PropTypes=le,le};U4.exports=eC();var tC=U4.exports;(function(O){function W(s){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},W(s)}Object.defineProperty(O,"__esModule",{value:!0}),O.default=u;var le=U(Li),ge=Re(tC);function Re(s){return s&&s.__esModule?s:{default:s}}function Pe(s){if(typeof WeakMap!="function")return null;var l=new WeakMap,m=new WeakMap;return(Pe=function(g){return g?m:l})(s)}function U(s,l){if(!l&&s&&s.__esModule)return s;if(s===null||W(s)!=="object"&&typeof s!="function")return{default:s};var m=Pe(l);if(m&&m.has(s))return m.get(s);var h={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in s)if(c!=="default"&&Object.prototype.hasOwnProperty.call(s,c)){var o=g?Object.getOwnPropertyDescriptor(s,c):null;o&&(o.get||o.set)?Object.defineProperty(h,c,o):h[c]=s[c]}return h.default=s,m&&m.set(s,h),h}function B(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function e(s,l){for(var m=0;m<l.length;m++){var h=l[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(s,h.key,h)}}function y(s,l,m){return l&&e(s.prototype,l),m&&e(s,m),Object.defineProperty(s,"prototype",{writable:!1}),s}function L(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),l&&i(s,l)}function i(s,l){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,g){return h.__proto__=g,h},i(s,l)}function S(s){var l=p();return function(){var h=r(s),g;if(l){var c=r(this).constructor;g=Reflect.construct(h,arguments,c)}else g=h.apply(this,arguments);return b(this,g)}}function b(s,l){if(l&&(W(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(s)}function v(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r(s){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},r(s)}var t=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],a=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],n=typeof window<"u";function u(s){var l=function(m){L(g,m);var h=S(g);function g(c){var o;return B(this,g),o=h.call(this,c),o.p=Promise.resolve(),o.resizeHandler=null,o.handlers={},o.syncWindowResize=o.syncWindowResize.bind(v(o)),o.syncEventHandlers=o.syncEventHandlers.bind(v(o)),o.attachUpdateEvents=o.attachUpdateEvents.bind(v(o)),o.getRef=o.getRef.bind(v(o)),o.handleUpdate=o.handleUpdate.bind(v(o)),o.figureCallback=o.figureCallback.bind(v(o)),o.updatePlotly=o.updatePlotly.bind(v(o)),o}return y(g,[{key:"updatePlotly",value:function(o,d,w){var A=this;this.p=this.p.then(function(){if(!A.unmounting){if(!A.el)throw new Error("Missing element reference");return s.react(A.el,{data:A.props.data,layout:A.props.layout,config:A.props.config,frames:A.props.frames})}}).then(function(){A.unmounting||(A.syncWindowResize(o),A.syncEventHandlers(),A.figureCallback(d),w&&A.attachUpdateEvents())}).catch(function(C){A.props.onError&&A.props.onError(C)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(o){this.unmounting=!1;var d=o.frames&&o.frames.length?o.frames.length:0,w=this.props.frames&&this.props.frames.length?this.props.frames.length:0,A=!(o.layout===this.props.layout&&o.data===this.props.data&&o.config===this.props.config&&w===d),C=o.revision!==void 0,x=o.revision!==this.props.revision;!A&&(!C||C&&!x)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&n&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),s.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var o=this;!this.el||!this.el.removeListener||a.forEach(function(d){o.el.on(d,o.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var o=this;!this.el||!this.el.removeListener||a.forEach(function(d){o.el.removeListener(d,o.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(o){if(typeof o=="function"){var d=this.el,w=d.data,A=d.layout,C=this.el._transitionData?this.el._transitionData._frames:null,x={data:w,layout:A,frames:C};o(x,this.el)}}},{key:"syncWindowResize",value:function(o){var d=this;n&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return s.Plots.resize(d.el)},window.addEventListener("resize",this.resizeHandler),o&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(o){this.el=o,this.props.debug&&n&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var o=this;t.forEach(function(d){var w=o.props["on"+d],A=o.handlers[d],C=!!A;w&&!C?o.addEventHandler(d,w):!w&&C?o.removeEventHandler(d):w&&C&&w!==A&&(o.removeEventHandler(d),o.addEventHandler(d,w))})}},{key:"addEventHandler",value:function(o,d){this.handlers[o]=d,this.el.on(this.getPlotlyEventName(o),this.handlers[o])}},{key:"removeEventHandler",value:function(o){this.el.removeListener(this.getPlotlyEventName(o),this.handlers[o]),delete this.handlers[o]}},{key:"getPlotlyEventName",value:function(o){return"plotly_"+o.toLowerCase()}},{key:"render",value:function(){return le.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),g}(le.Component);return l.propTypes={data:ge.default.arrayOf(ge.default.object),config:ge.default.object,layout:ge.default.object,frames:ge.default.arrayOf(ge.default.object),revision:ge.default.number,onInitialized:ge.default.func,onPurge:ge.default.func,onError:ge.default.func,onUpdate:ge.default.func,debug:ge.default.bool,style:ge.default.object,className:ge.default.string,useResizeHandler:ge.default.bool,divId:ge.default.string},t.forEach(function(m){l.propTypes["on"+m]=ge.default.func}),l.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},l}})(B4);var G4={exports:{}};(function(O,W){(function(ge,Re){O.exports=Re()})(self,function(){return function(){var le={79288:function(U,B,e){var y=e(3400),L={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in L){var S=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");y.addStyleRule(S,L[i])}},86712:function(U,B,e){U.exports=e(84224)},37240:function(U,B,e){U.exports=e(51132)},29744:function(U,B,e){U.exports=e(94456)},29352:function(U,B,e){U.exports=e(67244)},96144:function(U,B,e){U.exports=e(97776)},53219:function(U,B,e){U.exports=e(61712)},4624:function(U,B,e){U.exports=e(95856)},54543:function(U,B,e){U.exports=e(54272)},45e3:function(U,B,e){U.exports=e(85404)},62300:function(U,B,e){U.exports=e(26048)},6920:function(U,B,e){U.exports=e(66240)},10264:function(U,B,e){U.exports=e(40448)},32016:function(U,B,e){U.exports=e(64884)},27528:function(U,B,e){U.exports=e(15088)},75556:function(U,B,e){U.exports=e(76744)},39204:function(U,B,e){U.exports=e(94704)},73996:function(U,B,e){U.exports=e(62396)},16489:function(U,B,e){U.exports=e(32028)},5e3:function(U,B,e){U.exports=e(81932)},77280:function(U,B,e){U.exports=e(45536)},33992:function(U,B,e){U.exports=e(42600)},17600:function(U,B,e){U.exports=e(21536)},49116:function(U,B,e){U.exports=e(65664)},46808:function(U,B,e){U.exports=e(29044)},36168:function(U,B,e){U.exports=e(48928)},13792:function(U,B,e){var y=e(32016);y.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),U.exports=y},3920:function(U,B,e){U.exports=e(43480)},25120:function(U,B,e){U.exports=e(6296)},4340:function(U,B,e){U.exports=e(7404)},86152:function(U,B,e){U.exports=e(65456)},56816:function(U,B,e){U.exports=e(22020)},89296:function(U,B,e){U.exports=e(29928)},20260:function(U,B,e){U.exports=e(75792)},32140:function(U,B,e){U.exports=e(156)},84764:function(U,B,e){U.exports=e(45499)},48824:function(U,B,e){U.exports=e(3296)},69967:function(U,B,e){U.exports=e(4184)},8363:function(U,B,e){U.exports=e(36952)},86636:function(U,B,e){U.exports=e(38983)},70192:function(U,B,e){U.exports=e(11572)},81604:function(U,B,e){U.exports=e(76924)},63796:function(U,B,e){U.exports=e(62944)},89336:function(U,B,e){U.exports=e(95443)},67484:function(U,B,e){U.exports=e(34864)},97312:function(U,B,e){U.exports=e(76272)},42192:function(U,B,e){U.exports=e(97924)},29800:function(U,B,e){U.exports=e(15436)},63560:function(U,B,e){U.exports=e(5621)},89904:function(U,B,e){U.exports=e(91304)},50248:function(U,B,e){U.exports=e(41724)},65832:function(U,B,e){U.exports=e(31991)},79440:function(U,B,e){U.exports=e(22869)},13752:function(U,B,e){U.exports=e(67776)},83096:function(U,B,e){U.exports=e(95952)},72196:function(U){U.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(U,B,e){var y=e(72196),L=e(25376),i=e(33816),S=e(31780).templatedArray;e(36208),U.exports=S("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:L({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:y.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:y.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:L({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(U,B,e){var y=e(3400),L=e(54460),i=e(23816).draw;U.exports=function(p){var r=p._fullLayout,t=y.filterVisible(r.annotations);if(t.length&&p._fullData.length)return y.syncOrAsync([i,S],p)};function S(v){var p=v._fullLayout;y.filterVisible(p.annotations).forEach(function(r){var t=L.getFromId(v,r.xref),a=L.getFromId(v,r.yref),n=L.getRefType(r.xref),u=L.getRefType(r.yref);r._extremes={},n==="range"&&b(r,t),u==="range"&&b(r,a)})}function b(v,p){var r=p._id,t=r.charAt(0),a=v[t],n=v["a"+t],u=v[t+"ref"],s=v["a"+t+"ref"],l=v["_"+t+"padplus"],m=v["_"+t+"padminus"],h={x:1,y:-1}[t]*v[t+"shift"],g=3*v.arrowsize*v.arrowwidth||0,c=g+h,o=g-h,d=3*v.startarrowsize*v.arrowwidth||0,w=d+h,A=d-h,C;if(s===u){var x=L.findExtremes(p,[p.r2c(a)],{ppadplus:c,ppadminus:o}),E=L.findExtremes(p,[p.r2c(n)],{ppadplus:Math.max(l,w),ppadminus:Math.max(m,A)});C={min:[x.min[0],E.min[0]],max:[x.max[0],E.max[0]]}}else w=n?w+n:w,A=n?A-n:A,C=L.findExtremes(p,[p.r2c(a)],{ppadplus:Math.max(l,c,w),ppadminus:Math.max(m,o,A)});v._extremes[r]=C}},42300:function(U,B,e){var y=e(3400),L=e(24040),i=e(31780).arrayEditor;U.exports={hasClickToShow:S,onClick:b};function S(r,t){var a=v(r,t);return a.on.length>0||a.explicitOff.length>0}function b(r,t){var a=v(r,t),n=a.on,u=a.off.concat(a.explicitOff),s={},l=r._fullLayout.annotations,m,h;if(n.length||u.length){for(m=0;m<n.length;m++)h=i(r.layout,"annotations",l[n[m]]),h.modifyItem("visible",!0),y.extendFlat(s,h.getUpdateObj());for(m=0;m<u.length;m++)h=i(r.layout,"annotations",l[u[m]]),h.modifyItem("visible",!1),y.extendFlat(s,h.getUpdateObj());return L.call("update",r,{},s)}}function v(r,t){var a=r._fullLayout.annotations,n=[],u=[],s=[],l=(t||[]).length,m,h,g,c,o,d,w,A;for(m=0;m<a.length;m++)if(g=a[m],c=g.clicktoshow,c){for(h=0;h<l;h++)if(o=t[h],d=o.xaxis,w=o.yaxis,d._id===g.xref&&w._id===g.yref&&d.d2r(o.x)===p(g._xclick,d)&&w.d2r(o.y)===p(g._yclick,w)){g.visible?c==="onout"?A=u:A=s:A=n,A.push(m);break}h===l&&g.visible&&c==="onout"&&u.push(m)}return{on:n,off:u,explicitOff:s}}function p(r,t){return t.type==="log"?t.l2r(r):t.d2r(r)}},87192:function(U,B,e){var y=e(3400),L=e(76308);U.exports=function(S,b,v,p){p("opacity");var r=p("bgcolor"),t=p("bordercolor"),a=L.opacity(t);p("borderpad");var n=p("borderwidth"),u=p("showarrow");p("text",u?" ":v._dfltTitle.annotation),p("textangle"),y.coerceFont(p,"font",v.font),p("width"),p("align");var s=p("height");if(s&&p("valign"),u){var l=p("arrowside"),m,h;l.indexOf("end")!==-1&&(m=p("arrowhead"),h=p("arrowsize")),l.indexOf("start")!==-1&&(p("startarrowhead",m),p("startarrowsize",h)),p("arrowcolor",a?b.bordercolor:L.defaultLine),p("arrowwidth",(a&&n||1)*2),p("standoff"),p("startstandoff")}var g=p("hovertext"),c=v.hoverlabel||{};if(g){var o=p("hoverlabel.bgcolor",c.bgcolor||(L.opacity(r)?L.rgb(r):L.defaultLine)),d=p("hoverlabel.bordercolor",c.bordercolor||L.contrast(o));y.coerceFont(p,"hoverlabel.font",{family:c.font.family,size:c.font.size,color:c.font.color||d})}p("captureevents",!!g)}},26828:function(U,B,e){var y=e(38248),L=e(36896);U.exports=function(S,b,v,p){b=b||{};var r=v==="log"&&b.type==="linear",t=v==="linear"&&b.type==="log";if(!(r||t))return;var a=S._fullLayout.annotations,n=b._id.charAt(0),u,s;function l(h){var g=u[h],c=null;r?c=L(g,b.range):c=Math.pow(10,g),y(c)||(c=null),p(s+h,c)}for(var m=0;m<a.length;m++)u=a[m],s="annotations["+m+"].",u[n+"ref"]===b._id&&l(n),u["a"+n+"ref"]===b._id&&l("a"+n)}},45216:function(U,B,e){var y=e(3400),L=e(54460),i=e(51272),S=e(87192),b=e(13916);U.exports=function(r,t){i(r,t,{name:"annotations",handleItemDefaults:v})};function v(p,r,t){function a(M,f){return y.coerce(p,r,b,M,f)}var n=a("visible"),u=a("clicktoshow");if(n||u){S(p,r,t,a);for(var s=r.showarrow,l=["x","y"],m=[-10,-30],h={_fullLayout:t},g=0;g<2;g++){var c=l[g],o=L.coerceRef(p,r,h,c,"","paper");if(o!=="paper"){var d=L.getFromId(h,o);d._annIndices.push(r._index)}if(L.coercePosition(r,h,a,o,c,.5),s){var w="a"+c,A=L.coerceRef(p,r,h,w,"pixel",["pixel","paper"]);A!=="pixel"&&A!==o&&(A=r[w]="pixel");var C=A==="pixel"?m[g]:.4;L.coercePosition(r,h,a,A,w,C)}a(c+"anchor"),a(c+"shift")}if(y.noneOrAll(p,r,["x","y"]),s&&y.noneOrAll(p,r,["ax","ay"]),u){var x=a("xclick"),E=a("yclick");r._xclick=x===void 0?r.x:L.cleanPosition(x,h,r.xref),r._yclick=E===void 0?r.y:L.cleanPosition(E,h,r.yref)}}}},23816:function(U,B,e){var y=e(33428),L=e(24040),i=e(7316),S=e(3400),b=S.strTranslate,v=e(54460),p=e(76308),r=e(43616),t=e(93024),a=e(72736),n=e(93972),u=e(86476),s=e(31780).arrayEditor,l=e(33652);U.exports={draw:m,drawOne:h,drawRaw:c};function m(o){var d=o._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var w=0;w<d.annotations.length;w++)d.annotations[w].visible&&h(o,w);return i.previousPromises(o)}function h(o,d){var w=o._fullLayout,A=w.annotations[d]||{},C=v.getFromId(o,A.xref),x=v.getFromId(o,A.yref);C&&C.setScale(),x&&x.setScale(),c(o,A,d,!1,C,x)}function g(o,d,w,A,C){var x=C[w],E=C[w+"ref"],M=w.indexOf("y")!==-1,f=v.getRefType(E)==="domain",P=M?A.h:A.w;return o?f?x+(M?-d:d)/o._length:o.p2r(o.r2p(x)+d):x+(M?-d:d)/P}function c(o,d,w,A,C,x){var E=o._fullLayout,M=o._fullLayout._size,f=o._context.edits,P,T;A?(P="annotation-"+A,T=A+".annotations"):(P="annotation",T="annotations");var z=s(o.layout,T,d),_=z.modifyBase,V=z.modifyItem,F=z.getUpdateObj;E._infolayer.selectAll("."+P+'[data-index="'+w+'"]').remove();var N="clip"+E._uid+"_ann"+w;if(!d._input||d.visible===!1){y.selectAll("#"+N).remove();return}var k={x:{},y:{}},I=+d.textangle||0,H=E._infolayer.append("g").classed(P,!0).attr("data-index",String(w)).style("opacity",d.opacity),j=H.append("g").classed("annotation-text-g",!0),ee=f[d.showarrow?"annotationTail":"annotationPosition"],te=d.captureevents||f.annotationText||ee;function ne(ye){var Se={index:w,annotation:d._input,fullAnnotation:d,event:ye};return A&&(Se.subplotId=A),Se}var ue=j.append("g").style("pointer-events",te?"all":null).call(n,"pointer").on("click",function(){o._dragging=!1,o.emit("plotly_clickannotation",ne(y.event))});d.hovertext&&ue.on("mouseover",function(){var ye=d.hoverlabel,Se=ye.font,Te=this.getBoundingClientRect(),ke=o.getBoundingClientRect();t.loneHover({x0:Te.left-ke.left,x1:Te.right-ke.left,y:(Te.top+Te.bottom)/2-ke.top,text:d.hovertext,color:ye.bgcolor,borderColor:ye.bordercolor,fontFamily:Se.family,fontSize:Se.size,fontColor:Se.color},{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:o})}).on("mouseout",function(){t.loneUnhover(E._hoverlayer.node())});var q=d.borderwidth,Y=d.borderpad,Z=q+Y,G=ue.append("rect").attr("class","bg").style("stroke-width",q+"px").call(p.stroke,d.bordercolor).call(p.fill,d.bgcolor),K=d.width||d.height,oe=E._topclips.selectAll("#"+N).data(K?[0]:[]);oe.enter().append("clipPath").classed("annclip",!0).attr("id",N).append("rect"),oe.exit().remove();var $=d.font,J=E._meta?S.templateString(d.text,E._meta):d.text,se=ue.append("text").classed("annotation-text",!0).text(J);function ie(ye){return ye.call(r.font,$).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),a.convertToTspans(ye,o,ce),ye}function ce(){var ye=se.selectAll("a");if(ye.size()===1&&ye.text()===se.text()){var Se=ue.insert("a",":first-child").attr({"xlink:xlink:href":ye.attr("xlink:href"),"xlink:xlink:show":ye.attr("xlink:show")}).style({cursor:"pointer"});Se.node().appendChild(G.node())}var Te=ue.select(".annotation-text-math-group"),ke=!Te.empty(),we=r.bBox((ke?Te:se).node()),Ee=we.width,xe=we.height,De=d.width||Ee,Ve=d.height||xe,Ue=Math.round(De+2*Z),Be=Math.round(Ve+2*Z);function Xe(gr,or){return or==="auto"&&(gr<.3333333333333333?or="left":gr>.6666666666666666?or="right":or="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[or]}for(var ot=!1,ut=["x","y"],et=0;et<ut.length;et++){var qe=ut[et],ft=d[qe+"ref"]||qe,ht=d["a"+qe+"ref"],dt={x:C,y:x}[qe],mt=(I+(qe==="x"?0:-90))*Math.PI/180,St=Ue*Math.cos(mt),rt=Be*Math.sin(mt),Oe=Math.abs(St)+Math.abs(rt),Ye=d[qe+"anchor"],Ze=d[qe+"shift"]*(qe==="x"?1:-1),Ge=k[qe],_e,be,me,Ce,Me,Ne=v.getRefType(ft);if(dt&&Ne!=="domain"){var je=dt.r2fraction(d[qe]);(je<0||je>1)&&(ht===ft?(je=dt.r2fraction(d["a"+qe]),(je<0||je>1)&&(ot=!0)):ot=!0),_e=dt._offset+dt.r2p(d[qe]),Ce=.5}else{var tt=Ne==="domain";qe==="x"?(me=d[qe],_e=tt?dt._offset+dt._length*me:_e=M.l+M.w*me):(me=1-d[qe],_e=tt?dt._offset+dt._length*me:_e=M.t+M.h*me),Ce=d.showarrow?.5:me}if(d.showarrow){Ge.head=_e;var ct=d["a"+qe];if(Me=St*Xe(.5,d.xanchor)-rt*Xe(.5,d.yanchor),ht===ft){var pt=v.getRefType(ht);pt==="domain"?(qe==="y"&&(ct=1-ct),Ge.tail=dt._offset+dt._length*ct):pt==="paper"?qe==="y"?(ct=1-ct,Ge.tail=M.t+M.h*ct):Ge.tail=M.l+M.w*ct:Ge.tail=dt._offset+dt.r2p(ct),be=Me}else Ge.tail=_e+ct,be=Me+ct;Ge.text=Ge.tail+Me;var Xt=E[qe==="x"?"width":"height"];if(ft==="paper"&&(Ge.head=S.constrain(Ge.head,1,Xt-1)),ht==="pixel"){var Yt=-Math.max(Ge.tail-3,Ge.text),Tt=Math.min(Ge.tail+3,Ge.text)-Xt;Yt>0?(Ge.tail+=Yt,Ge.text+=Yt):Tt>0&&(Ge.tail-=Tt,Ge.text-=Tt)}Ge.tail+=Ze,Ge.head+=Ze}else Me=Oe*Xe(Ce,Ye),be=Me,Ge.text=_e+Me;Ge.text+=Ze,Me+=Ze,be+=Ze,d["_"+qe+"padplus"]=Oe/2+be,d["_"+qe+"padminus"]=Oe/2-be,d["_"+qe+"size"]=Oe,d["_"+qe+"shift"]=Me}if(ot){ue.remove();return}var _t=0,Qt=0;if(d.align!=="left"&&(_t=(De-Ee)*(d.align==="center"?.5:1)),d.valign!=="top"&&(Qt=(Ve-xe)*(d.valign==="middle"?.5:1)),ke)Te.select("svg").attr({x:Z+_t-1,y:Z+Qt}).call(r.setClipUrl,K?N:null,o);else{var wr=Z+Qt-we.top,xt=Z+_t-we.left;se.call(a.positionText,xt,wr).call(r.setClipUrl,K?N:null,o)}oe.select("rect").call(r.setRect,Z,Z,De,Ve),G.call(r.setRect,q/2,q/2,Ue-q,Be-q),ue.call(r.setTranslate,Math.round(k.x.text-Ue/2),Math.round(k.y.text-Be/2)),j.attr({transform:"rotate("+I+","+k.x.text+","+k.y.text+")"});var jt=function(gr,or){H.selectAll(".annotation-arrow-g").remove();var yt=k.x.head,at=k.y.head,wt=k.x.tail+gr,Et=k.y.tail+or,Rt=k.x.text+gr,Dt=k.y.text+or,Ut=S.rotationXYMatrix(I,Rt,Dt),Nt=S.apply2DTransform(Ut),Kt=S.apply2DTransform2(Ut),ur=+G.attr("width"),fr=+G.attr("height"),vr=Rt-.5*ur,We=vr+ur,He=Dt-.5*fr,zt=He+fr,kt=[[vr,He,vr,zt],[vr,zt,We,zt],[We,zt,We,He],[We,He,vr,He]].map(Kt);if(!kt.reduce(function(Ir,cn){return Ir^!!S.segmentsIntersect(yt,at,yt+1e6,at+1e6,cn[0],cn[1],cn[2],cn[3])},!1)){kt.forEach(function(Ir){var cn=S.segmentsIntersect(wt,Et,yt,at,Ir[0],Ir[1],Ir[2],Ir[3]);cn&&(wt=cn.x,Et=cn.y)});var Zt=d.arrowwidth,er=d.arrowcolor,lr=d.arrowside,rr=H.append("g").style({opacity:p.opacity(er)}).classed("annotation-arrow-g",!0),Ft=rr.append("path").attr("d","M"+wt+","+Et+"L"+yt+","+at).style("stroke-width",Zt+"px").call(p.stroke,p.rgb(er));if(l(Ft,lr,d),f.annotationPosition&&Ft.node().parentNode&&!A){var cr=yt,pr=at;if(d.standoff){var mr=Math.sqrt(Math.pow(yt-wt,2)+Math.pow(at-Et,2));cr+=d.standoff*(wt-yt)/mr,pr+=d.standoff*(Et-at)/mr}var hr=rr.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(wt-cr)+","+(Et-pr),transform:b(cr,pr)}).style("stroke-width",Zt+6+"px").call(p.stroke,"rgba(0,0,0,0)").call(p.fill,"rgba(0,0,0,0)"),Gr,Dr;u.init({element:hr.node(),gd:o,prepFn:function(){var Ir=r.getTranslate(ue);Gr=Ir.x,Dr=Ir.y,C&&C.autorange&&_(C._name+".autorange",!0),x&&x.autorange&&_(x._name+".autorange",!0)},moveFn:function(Ir,cn){var rn=Nt(Gr,Dr),Cn=rn[0]+Ir,Sn=rn[1]+cn;ue.call(r.setTranslate,Cn,Sn),V("x",g(C,Ir,"x",M,d)),V("y",g(x,cn,"y",M,d)),d.axref===d.xref&&V("ax",g(C,Ir,"ax",M,d)),d.ayref===d.yref&&V("ay",g(x,cn,"ay",M,d)),rr.attr("transform",b(Ir,cn)),j.attr({transform:"rotate("+I+","+Cn+","+Sn+")"})},doneFn:function(){L.call("_guiRelayout",o,F());var Ir=document.querySelector(".js-notes-box-panel");Ir&&Ir.redraw(Ir.selectedObj)}})}}};if(d.showarrow&&jt(0,0),ee){var Jt;u.init({element:ue.node(),gd:o,prepFn:function(){Jt=j.attr("transform")},moveFn:function(gr,or){var yt="pointer";if(d.showarrow)d.axref===d.xref?V("ax",g(C,gr,"ax",M,d)):V("ax",d.ax+gr),d.ayref===d.yref?V("ay",g(x,or,"ay",M.w,d)):V("ay",d.ay+or),jt(gr,or);else{if(A)return;var at,wt;if(C)at=g(C,gr,"x",M,d);else{var Et=d._xsize/M.w,Rt=d.x+(d._xshift-d.xshift)/M.w-Et/2;at=u.align(Rt+gr/M.w,Et,0,1,d.xanchor)}if(x)wt=g(x,or,"y",M,d);else{var Dt=d._ysize/M.h,Ut=d.y-(d._yshift+d.yshift)/M.h-Dt/2;wt=u.align(Ut-or/M.h,Dt,0,1,d.yanchor)}V("x",at),V("y",wt),(!C||!x)&&(yt=u.getCursor(C?.5:at,x?.5:wt,d.xanchor,d.yanchor))}j.attr({transform:b(gr,or)+Jt}),n(ue,yt)},clickFn:function(gr,or){d.captureevents&&o.emit("plotly_clickannotation",ne(or))},doneFn:function(){n(ue),L.call("_guiRelayout",o,F());var gr=document.querySelector(".js-notes-box-panel");gr&&gr.redraw(gr.selectedObj)}})}}f.annotationText?se.call(a.makeEditable,{delegate:ue,gd:o}).call(ie).on("edit",function(ye){d.text=ye,this.call(ie),V("text",ye),C&&C.autorange&&_(C._name+".autorange",!0),x&&x.autorange&&_(x._name+".autorange",!0),L.call("_guiRelayout",o,F())}):se.call(ie)}},33652:function(U,B,e){var y=e(33428),L=e(76308),i=e(72196),S=e(3400),b=S.strScale,v=S.strRotate,p=S.strTranslate;U.exports=function(t,a,n){var u=t.node(),s=i[n.arrowhead||0],l=i[n.startarrowhead||0],m=(n.arrowwidth||1)*(n.arrowsize||1),h=(n.arrowwidth||1)*(n.startarrowsize||1),g=a.indexOf("start")>=0,c=a.indexOf("end")>=0,o=s.backoff*m+n.standoff,d=l.backoff*h+n.startstandoff,w,A,C,x;if(u.nodeName==="line"){w={x:+t.attr("x1"),y:+t.attr("y1")},A={x:+t.attr("x2"),y:+t.attr("y2")};var E=w.x-A.x,M=w.y-A.y;if(C=Math.atan2(M,E),x=C+Math.PI,o&&d&&o+d>Math.sqrt(E*E+M*M)){j();return}if(o){if(o*o>E*E+M*M){j();return}var f=o*Math.cos(C),P=o*Math.sin(C);A.x+=f,A.y+=P,t.attr({x2:A.x,y2:A.y})}if(d){if(d*d>E*E+M*M){j();return}var T=d*Math.cos(C),z=d*Math.sin(C);w.x-=T,w.y-=z,t.attr({x1:w.x,y1:w.y})}}else if(u.nodeName==="path"){var _=u.getTotalLength(),V="";if(_<o+d){j();return}var F=u.getPointAtLength(0),N=u.getPointAtLength(.1);C=Math.atan2(F.y-N.y,F.x-N.x),w=u.getPointAtLength(Math.min(d,_)),V="0px,"+d+"px,";var k=u.getPointAtLength(_),I=u.getPointAtLength(_-.1);x=Math.atan2(k.y-I.y,k.x-I.x),A=u.getPointAtLength(Math.max(0,_-o));var H=V?d+o:o;V+=_-H+"px,"+_+"px",t.style("stroke-dasharray",V)}function j(){t.style("stroke-dasharray","0px,100px")}function ee(te,ne,ue,q){te.path&&(te.noRotate&&(ue=0),y.select(u.parentNode).append("path").attr({class:t.attr("class"),d:te.path,transform:p(ne.x,ne.y)+v(ue*180/Math.PI)+b(q)}).style({fill:L.rgb(n.arrowcolor),"stroke-width":0}))}g&&ee(l,w,C,h),c&&ee(s,A,x,m)}},79180:function(U,B,e){var y=e(23816),L=e(42300);U.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:y.draw,drawOne:y.drawOne,drawRaw:y.drawRaw,hasClickToShow:L.hasClickToShow,onClick:L.onClick,convertCoords:e(26828)}},45899:function(U,B,e){var y=e(13916),L=e(67824).overrideAll,i=e(31780).templatedArray;U.exports=L(i("annotation",{visible:y.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:y.xanchor,xshift:y.xshift,yanchor:y.yanchor,yshift:y.yshift,text:y.text,textangle:y.textangle,font:y.font,width:y.width,height:y.height,opacity:y.opacity,align:y.align,valign:y.valign,bgcolor:y.bgcolor,bordercolor:y.bordercolor,borderpad:y.borderpad,borderwidth:y.borderwidth,showarrow:y.showarrow,arrowcolor:y.arrowcolor,arrowhead:y.arrowhead,startarrowhead:y.startarrowhead,arrowside:y.arrowside,arrowsize:y.arrowsize,startarrowsize:y.startarrowsize,arrowwidth:y.arrowwidth,standoff:y.standoff,startstandoff:y.startstandoff,hovertext:y.hovertext,hoverlabel:y.hoverlabel,captureevents:y.captureevents}),"calc","from-root")},42456:function(U,B,e){var y=e(3400),L=e(54460);U.exports=function(b){for(var v=b.fullSceneLayout,p=v.annotations,r=0;r<p.length;r++)i(p[r],b);b.fullLayout._infolayer.selectAll(".annotation-"+b.id).remove()};function i(S,b){var v=b.fullSceneLayout,p=v.domain,r=b.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};S._xa={},y.extendFlat(S._xa,t),L.setConvert(S._xa),S._xa._offset=r.l+p.x[0]*r.w,S._xa.l2p=function(){return .5*(1+S._pdata[0]/S._pdata[3])*r.w*(p.x[1]-p.x[0])},S._ya={},y.extendFlat(S._ya,t),L.setConvert(S._ya),S._ya._offset=r.t+(1-p.y[1])*r.h,S._ya.l2p=function(){return .5*(1-S._pdata[1]/S._pdata[3])*r.h*(p.y[1]-p.y[0])}}},52808:function(U,B,e){var y=e(3400),L=e(54460),i=e(51272),S=e(87192),b=e(45899);U.exports=function(r,t,a){i(r,t,{name:"annotations",handleItemDefaults:v,fullLayout:a.fullLayout})};function v(p,r,t,a){function n(l,m){return y.coerce(p,r,b,l,m)}function u(l){var m=l+"axis",h={_fullLayout:{}};return h._fullLayout[m]=t[m],L.coercePosition(r,h,n,l,l,.5)}var s=n("visible");s&&(S(p,r,a.fullLayout,n),u("x"),u("y"),u("z"),y.noneOrAll(p,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",n("ax",-10),n("ay",-30),y.noneOrAll(p,r,["ax","ay"])))}},71836:function(U,B,e){var y=e(23816).drawRaw,L=e(94424),i=["x","y","z"];U.exports=function(b){for(var v=b.fullSceneLayout,p=b.dataScale,r=v.annotations,t=0;t<r.length;t++){for(var a=r[t],n=!1,u=0;u<3;u++){var s=i[u],l=a[s],m=v[s+"axis"],h=m.r2fraction(l);if(h<0||h>1){n=!0;break}}n?b.fullLayout._infolayer.select(".annotation-"+b.id+'[data-index="'+t+'"]').remove():(a._pdata=L(b.glplot.cameraParams,[v.xaxis.r2l(a.x)*p[0],v.yaxis.r2l(a.y)*p[1],v.zaxis.r2l(a.z)*p[2]]),y(b.graphDiv,a,t,b.id,a._xa,a._ya))}}},56864:function(U,B,e){var y=e(24040),L=e(3400);U.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:i,convert:e(42456),draw:e(71836)};function i(S,b){var v=y.subplotsRegistry.gl3d;if(v)for(var p=v.attrRegex,r=Object.keys(S),t=0;t<r.length;t++){var a=r[t];p.test(a)&&(S[a].annotations||[]).length&&(L.pushUnique(b._basePlotModules,v),L.pushUnique(b._subplots.gl3d,a))}}},54976:function(U,B,e){U.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(U,B,e){var y=e(54976),L=e(3400),i=e(39032),S=i.EPOCHJD,b=i.ONEDAY,v={valType:"enumerated",values:L.sortObjectKeys(y.calendars),editType:"calc",dflt:"gregorian"},p=function(C,x,E,M){var f={};return f[E]=v,L.coerce(C,x,f,E,M)},r=function(C,x,E,M){for(var f=0;f<E.length;f++)p(C,x,E[f]+"calendar",M.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},a={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},u="##",s={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:u,w:u,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function l(C,x,E){for(var M=Math.floor((x+.05)/b)+S,f=h(E).fromJD(M),P=0,T,z,_,V,F;(P=C.indexOf("%",P))!==-1;)T=C.charAt(P+1),T==="0"||T==="-"||T==="_"?(_=3,z=C.charAt(P+2),T==="_"&&(T="-")):(z=T,T="0",_=2),V=s[z],V?(V===u?F=u:F=f.formatDate(V[T]),C=C.substr(0,P)+F+C.substr(P+_),P+=F.length):P+=_;return C}var m={};function h(C){var x=m[C];return x||(x=m[C]=y.instance(C),x)}function g(C){return L.extendFlat({},v,{description:C})}function c(C){return"Sets the calendar system to use with `"+C+"` date data."}var o={xcalendar:g(c("x"))},d=L.extendFlat({},o,{ycalendar:g(c("y"))}),w=L.extendFlat({},d,{zcalendar:g(c("z"))}),A=g(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));U.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:w,surface:w,mesh3d:w,scattergl:d,ohlc:o,candlestick:o},layout:{calendar:g(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:A},yaxis:{calendar:A},scene:{xaxis:{calendar:A},yaxis:{calendar:A},zaxis:{calendar:A}},polar:{radialaxis:{calendar:A}}},transforms:{filter:{valuecalendar:g(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:g(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:p,handleTraceDefaults:r,CANONICAL_SUNDAY:a,CANONICAL_TICK:t,DFLTRANGE:n,getCal:h,worldCalFmt:l}},22548:function(U,B){B.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],B.defaultLine="#444",B.lightLine="#eee",B.background="#fff",B.borderLine="#BEC8D9",B.lightFraction=90.9090909090909},76308:function(U,B,e){var y=e(49760),L=e(38248),i=e(38116).isTypedArray,S=U.exports={},b=e(22548);S.defaults=b.defaults;var v=S.defaultLine=b.defaultLine;S.lightLine=b.lightLine;var p=S.background=b.background;S.tinyRGB=function(t){var a=t.toRgb();return"rgb("+Math.round(a.r)+", "+Math.round(a.g)+", "+Math.round(a.b)+")"},S.rgb=function(t){return S.tinyRGB(y(t))},S.opacity=function(t){return t?y(t).getAlpha():0},S.addOpacity=function(t,a){var n=y(t).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+a+")"},S.combine=function(t,a){var n=y(t).toRgb();if(n.a===1)return y(t).toRgbString();var u=y(a||p).toRgb(),s=u.a===1?u:{r:255*(1-u.a)+u.r*u.a,g:255*(1-u.a)+u.g*u.a,b:255*(1-u.a)+u.b*u.a},l={r:s.r*(1-n.a)+n.r*n.a,g:s.g*(1-n.a)+n.g*n.a,b:s.b*(1-n.a)+n.b*n.a};return y(l).toRgbString()},S.interpolate=function(t,a,n){var u=y(t).toRgb(),s=y(a).toRgb(),l={r:n*u.r+(1-n)*s.r,g:n*u.g+(1-n)*s.g,b:n*u.b+(1-n)*s.b};return y(l).toRgbString()},S.contrast=function(t,a,n){var u=y(t);u.getAlpha()!==1&&(u=y(S.combine(t,p)));var s=u.isDark()?a?u.lighten(a):p:n?u.darken(n):v;return s.toString()},S.stroke=function(t,a){var n=y(a);t.style({stroke:S.tinyRGB(n),"stroke-opacity":n.getAlpha()})},S.fill=function(t,a){var n=y(a);t.style({fill:S.tinyRGB(n),"fill-opacity":n.getAlpha()})},S.clean=function(t){if(!(!t||typeof t!="object")){var a=Object.keys(t),n,u,s,l;for(n=0;n<a.length;n++)if(s=a[n],l=t[s],s.substr(s.length-5)==="color")if(Array.isArray(l))for(u=0;u<l.length;u++)l[u]=r(l[u]);else t[s]=r(l);else if(s.substr(s.length-10)==="colorscale"&&Array.isArray(l))for(u=0;u<l.length;u++)Array.isArray(l[u])&&(l[u][1]=r(l[u][1]));else if(Array.isArray(l)){var m=l[0];if(!Array.isArray(m)&&m&&typeof m=="object")for(u=0;u<l.length;u++)S.clean(l[u])}else l&&typeof l=="object"&&!i(l)&&S.clean(l)}};function r(t){if(L(t)||typeof t!="string")return t;var a=t.trim();if(a.substr(0,3)!=="rgb")return t;var n=a.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var u=n[1].trim().split(/\s*[\s,]\s*/),s=a.charAt(3)==="a"&&u.length===4;if(!s&&u.length!==3)return t;for(var l=0;l<u.length;l++){if(!u[l].length||(u[l]=Number(u[l]),!(u[l]>=0)))return t;if(l===3)u[l]>1&&(u[l]=1);else if(u[l]>=1)return t}var m=Math.round(u[0]*255)+", "+Math.round(u[1]*255)+", "+Math.round(u[2]*255);return s?"rgba("+m+", "+u[3]+")":"rgb("+m+")"}},42996:function(U,B,e){var y=e(94724),L=e(25376),i=e(92880).extendFlat,S=e(67824).overrideAll;U.exports=S({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:y.linecolor,outlinewidth:y.linewidth,bordercolor:y.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:y.minor.tickmode,nticks:y.nticks,tick0:y.tick0,dtick:y.dtick,tickvals:y.tickvals,ticktext:y.ticktext,ticks:i({},y.ticks,{dflt:""}),ticklabeloverflow:i({},y.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:y.ticklen,tickwidth:y.tickwidth,tickcolor:y.tickcolor,ticklabelstep:y.ticklabelstep,showticklabels:y.showticklabels,labelalias:y.labelalias,tickfont:L({}),tickangle:y.tickangle,tickformat:y.tickformat,tickformatstops:y.tickformatstops,tickprefix:y.tickprefix,showtickprefix:y.showtickprefix,ticksuffix:y.ticksuffix,showticksuffix:y.showticksuffix,separatethousands:y.separatethousands,exponentformat:y.exponentformat,minexponent:y.minexponent,showexponent:y.showexponent,title:{text:{valType:"string"},font:L({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:L({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(U){U.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(U,B,e){var y=e(3400),L=e(31780),i=e(26332),S=e(25404),b=e(95936),v=e(42568),p=e(42996);U.exports=function(t,a,n){var u=L.newContainer(a,"colorbar"),s=t.colorbar||{};function l(k,I){return y.coerce(s,u,p,k,I)}var m=n.margin||{t:0,b:0,l:0,r:0},h=n.width-m.l-m.r,g=n.height-m.t-m.b,c=l("orientation"),o=c==="v",d=l("thicknessmode");l("thickness",d==="fraction"?30/(o?h:g):30);var w=l("lenmode");l("len",w==="fraction"?1:o?g:h);var A=l("yref"),C=l("xref"),x=A==="paper",E=C==="paper",M,f,P,T="left";o?(P="middle",T=E?"left":"right",M=E?1.02:1,f=.5):(P=x?"bottom":"top",T="center",M=.5,f=x?1.02:1),y.coerce(s,u,{x:{valType:"number",min:E?-2:0,max:E?3:1,dflt:M}},"x"),y.coerce(s,u,{y:{valType:"number",min:x?-2:0,max:x?3:1,dflt:f}},"y"),l("xanchor",T),l("xpad"),l("yanchor",P),l("ypad"),y.noneOrAll(s,u,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor");var z=y.coerce(s,u,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:o?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");l("ticklabeloverflow",z.indexOf("inside")!==-1?"hide past domain":"hide past div"),i(s,u,l,"linear");var _=n.font,V={noAutotickangles:!0,outerTicks:!1,font:_};z.indexOf("inside")!==-1&&(V.bgColor="black"),v(s,u,l,"linear",V),b(s,u,l,"linear",V),S(s,u,l,"linear",V),l("title.text",n._dfltTitle.colorbar);var F=u.showticklabels?u.tickfont:_,N=y.extendFlat({},F,{color:_.color,size:y.bigFont(F.size)});y.coerceFont(l,"title.font",N),l("title.side",o?"top":"right")}},37848:function(U,B,e){var y=e(33428),L=e(49760),i=e(7316),S=e(24040),b=e(54460),v=e(86476),p=e(3400),r=p.strTranslate,t=e(92880).extendFlat,a=e(93972),n=e(43616),u=e(76308),s=e(81668),l=e(72736),m=e(94288).flipScale,h=e(28336),g=e(37668),c=e(94724),o=e(84284),d=o.LINE_SPACING,w=o.FROM_TL,A=o.FROM_BR,C=e(63964).cn;function x(z){var _=z._fullLayout,V=_._infolayer.selectAll("g."+C.colorbar).data(E(z),function(F){return F._id});V.enter().append("g").attr("class",function(F){return F._id}).classed(C.colorbar,!0),V.each(function(F){var N=y.select(this);p.ensureSingle(N,"rect",C.cbbg),p.ensureSingle(N,"g",C.cbfills),p.ensureSingle(N,"g",C.cblines),p.ensureSingle(N,"g",C.cbaxis,function(I){I.classed(C.crisp,!0)}),p.ensureSingle(N,"g",C.cbtitleunshift,function(I){I.append("g").classed(C.cbtitle,!0)}),p.ensureSingle(N,"rect",C.cboutline);var k=M(N,F,z);k&&k.then&&(z._promises||[]).push(k),z._context.edits.colorbarPosition&&f(N,F,z)}),V.exit().each(function(F){i.autoMargin(z,F._id)}).remove(),V.order()}function E(z){var _=z._fullLayout,V=z.calcdata,F=[],N,k,I,H;function j($){return t($,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function ee(){typeof H.calc=="function"?H.calc(z,I,N):(N._fillgradient=k.reversescale?m(k.colorscale):k.colorscale,N._zrange=[k[H.min],k[H.max]])}for(var te=0;te<V.length;te++){var ne=V[te];if(I=ne[0].trace,!!I._module){var ue=I._module.colorbar;if(I.visible===!0&&ue)for(var q=Array.isArray(ue),Y=q?ue:[ue],Z=0;Z<Y.length;Z++){H=Y[Z];var G=H.container;k=G?I[G]:I,k&&k.showscale&&(N=j(k.colorbar),N._id="cb"+I.uid+(q&&G?"-"+G:""),N._traceIndex=I.index,N._propPrefix=(G?G+".":"")+"colorbar.",N._meta=I._meta,ee(),F.push(N))}}}for(var K in _._colorAxes)if(k=_[K],k.showscale){var oe=_._colorAxes[K];N=j(k.colorbar),N._id="cb"+K,N._propPrefix=K+".colorbar.",N._meta=_._meta,H={min:"cmin",max:"cmax"},oe[0]!=="heatmap"&&(I=oe[1],H.calc=I._module.colorbar.calc),ee(),F.push(N)}return F}function M(z,_,V){var F=_.orientation==="v",N=_.len,k=_.lenmode,I=_.thickness,H=_.thicknessmode,j=_.outlinewidth,ee=_.borderwidth,te=_.bgcolor,ne=_.xanchor,ue=_.yanchor,q=_.xpad,Y=_.ypad,Z=_.x,G=F?_.y:1-_.y,K=_.yref==="paper",oe=_.xref==="paper",$=V._fullLayout,J=$._size,se=_._fillcolor,ie=_._line,ce=_.title,ye=ce.side,Se=_._zrange||y.extent((typeof se=="function"?se:ie.color).domain()),Te=typeof ie.color=="function"?ie.color:function(){return ie.color},ke=typeof se=="function"?se:function(){return se},we=_._levels,Ee=P(V,_,Se),xe=Ee.fill,De=Ee.line,Ve=Math.round(I*(H==="fraction"?F?J.w:J.h:1)),Ue=Ve/(F?J.w:J.h),Be=Math.round(N*(k==="fraction"?F?J.h:J.w:1)),Xe=Be/(F?J.h:J.w),ot=oe?J.w:V._fullLayout.width,ut=K?J.h:V._fullLayout.height,et=Math.round(F?Z*ot+q:G*ut+Y),qe={center:.5,right:1}[ne]||0,ft={top:1,middle:.5}[ue]||0,ht=F?Z-qe*Ue:G-ft*Ue,dt=F?G-ft*Xe:Z-qe*Xe,mt=Math.round(F?ut*(1-dt):ot*dt);_._lenFrac=Xe,_._thickFrac=Ue,_._uFrac=ht,_._vFrac=dt;var St=_._axis=T(V,_,Se);St.position=Ue+(F?Z+q/J.w:G+Y/J.h);var rt=["top","bottom"].indexOf(ye)!==-1;if(F&&rt&&(St.title.side=ye,St.titlex=Z+q/J.w,St.titley=dt+(ce.side==="top"?Xe-Y/J.h:Y/J.h)),!F&&!rt&&(St.title.side=ye,St.titley=G+Y/J.h,St.titlex=dt+q/J.w),ie.color&&_.tickmode==="auto"){St.tickmode="linear",St.tick0=we.start;var Oe=we.size,Ye=p.constrain(Be/50,4,15)+1,Ze=(Se[1]-Se[0])/((_.nticks||Ye)*Oe);if(Ze>1){var Ge=Math.pow(10,Math.floor(Math.log(Ze)/Math.LN10));Oe*=Ge*p.roundUp(Ze/Ge,[2,5,10]),(Math.abs(we.start)/we.size+1e-6)%1<2e-6&&(St.tick0=0)}St.dtick=Oe}St.domain=F?[dt+Y/J.h,dt+Xe-Y/J.h]:[dt+q/J.w,dt+Xe-q/J.w],St.setScale(),z.attr("transform",r(Math.round(J.l),Math.round(J.t)));var _e=z.select("."+C.cbtitleunshift).attr("transform",r(-Math.round(J.l),-Math.round(J.t))),be=St.ticklabelposition,me=St.title.font.size,Ce=z.select("."+C.cbaxis),Me,Ne=0,je=0;function tt(Tt,_t){var Qt={propContainer:St,propName:_._propPrefix+"title",traceIndex:_._traceIndex,_meta:_._meta,placeholder:$._dfltTitle.colorbar,containerGroup:z.select("."+C.cbtitle)},wr=Tt.charAt(0)==="h"?Tt.substr(1):"h"+Tt;z.selectAll("."+wr+",."+wr+"-math-group").remove(),s.draw(V,Tt,t(Qt,_t||{}))}function ct(){if(F&&rt||!F&&!rt){var Tt,_t;ye==="top"&&(Tt=q+J.l+ot*Z,_t=Y+J.t+ut*(1-dt-Xe)+3+me*.75),ye==="bottom"&&(Tt=q+J.l+ot*Z,_t=Y+J.t+ut*(1-dt)-3-me*.25),ye==="right"&&(_t=Y+J.t+ut*G+3+me*.75,Tt=q+J.l+ot*dt),tt(St._id+"title",{attributes:{x:Tt,y:_t,"text-anchor":F?"start":"middle"}})}}function pt(){if(F&&!rt||!F&&rt){var Tt=St.position||0,_t=St._offset+St._length/2,Qt,wr;if(ye==="right")wr=_t,Qt=J.l+ot*Tt+10+me*(St.showticklabels?1:.5);else if(Qt=_t,ye==="bottom"&&(wr=J.t+ut*Tt+10+(be.indexOf("inside")===-1?St.tickfont.size:0)+(St.ticks!=="intside"&&_.ticklen||0)),ye==="top"){var xt=ce.text.split("<br>").length;wr=J.t+ut*Tt+10-Ve-d*me*xt}tt((F?"h":"v")+St._id+"title",{avoid:{selection:y.select(V).selectAll("g."+St._id+"tick"),side:ye,offsetTop:F?0:J.t,offsetLeft:F?J.l:0,maxShift:F?$.width:$.height},attributes:{x:Qt,y:wr,"text-anchor":"middle"},transform:{rotate:F?-90:0,offset:0}})}}function Xt(){if(!F&&!rt||F&&rt){var Tt=z.select("."+C.cbtitle),_t=Tt.select("text"),Qt=[-j/2,j/2],wr=Tt.select(".h"+St._id+"title-math-group").node(),xt=15.6;_t.node()&&(xt=parseInt(_t.node().style.fontSize,10)*d);var jt;if(wr?(jt=n.bBox(wr),je=jt.width,Ne=jt.height,Ne>xt&&(Qt[1]-=(Ne-xt)/2)):_t.node()&&!_t.classed(C.jsPlaceholder)&&(jt=n.bBox(_t.node()),je=jt.width,Ne=jt.height),F){if(Ne){if(Ne+=5,ye==="top")St.domain[1]-=Ne/J.h,Qt[1]*=-1;else{St.domain[0]+=Ne/J.h;var Jt=l.lineCount(_t);Qt[1]+=(1-Jt)*xt}Tt.attr("transform",r(Qt[0],Qt[1])),St.setScale()}}else je&&(ye==="right"&&(St.domain[0]+=(je+me/2)/J.w),Tt.attr("transform",r(Qt[0],Qt[1])),St.setScale())}z.selectAll("."+C.cbfills+",."+C.cblines).attr("transform",F?r(0,Math.round(J.h*(1-St.domain[1]))):r(Math.round(J.w*St.domain[0]),0)),Ce.attr("transform",F?r(0,Math.round(-J.t)):r(Math.round(-J.l),0));var gr=z.select("."+C.cbfills).selectAll("rect."+C.cbfill).attr("style","").data(xe);gr.enter().append("rect").classed(C.cbfill,!0).attr("style",""),gr.exit().remove();var or=Se.map(St.c2p).map(Math.round).sort(function(Rt,Dt){return Rt-Dt});gr.each(function(Rt,Dt){var Ut=[Dt===0?Se[0]:(xe[Dt]+xe[Dt-1])/2,Dt===xe.length-1?Se[1]:(xe[Dt]+xe[Dt+1])/2].map(St.c2p).map(Math.round);F&&(Ut[1]=p.constrain(Ut[1]+(Ut[1]>Ut[0])?1:-1,or[0],or[1]));var Nt=y.select(this).attr(F?"x":"y",et).attr(F?"y":"x",y.min(Ut)).attr(F?"width":"height",Math.max(Ve,2)).attr(F?"height":"width",Math.max(y.max(Ut)-y.min(Ut),2));if(_._fillgradient)n.gradient(Nt,V,_._id,F?"vertical":"horizontalreversed",_._fillgradient,"fill");else{var Kt=ke(Rt).replace("e-","");Nt.attr("fill",L(Kt).toHexString())}});var yt=z.select("."+C.cblines).selectAll("path."+C.cbline).data(ie.color&&ie.width?De:[]);yt.enter().append("path").classed(C.cbline,!0),yt.exit().remove(),yt.each(function(Rt){var Dt=et,Ut=Math.round(St.c2p(Rt))+ie.width/2%1;y.select(this).attr("d","M"+(F?Dt+","+Ut:Ut+","+Dt)+(F?"h":"v")+Ve).call(n.lineGroupStyle,ie.width,Te(Rt),ie.dash)}),Ce.selectAll("g."+St._id+"tick,path").remove();var at=et+Ve+(j||0)/2-(_.ticks==="outside"?1:0),wt=b.calcTicks(St),Et=b.getTickSigns(St)[2];return b.drawTicks(V,St,{vals:St.ticks==="inside"?b.clipEnds(St,wt):wt,layer:Ce,path:b.makeTickPath(St,at,Et),transFn:b.makeTransTickFn(St)}),b.drawLabels(V,St,{vals:wt,layer:Ce,transFn:b.makeTransTickLabelFn(St),labelFns:b.makeLabelFns(St,at)})}function Yt(){var Tt,_t=Ve+j/2;be.indexOf("inside")===-1&&(Tt=n.bBox(Ce.node()),_t+=F?Tt.width:Tt.height),Me=_e.select("text");var Qt=0,wr=F&&ye==="top",xt=!F&&ye==="right",jt=0;if(Me.node()&&!Me.classed(C.jsPlaceholder)){var Jt,gr=_e.select(".h"+St._id+"title-math-group").node();gr&&(F&&rt||!F&&!rt)?(Tt=n.bBox(gr),Qt=Tt.width,Jt=Tt.height):(Tt=n.bBox(_e.node()),Qt=Tt.right-J.l-(F?et:mt),Jt=Tt.bottom-J.t-(F?mt:et),!F&&ye==="top"&&(_t+=Tt.height,jt=Tt.height)),xt&&(Me.attr("transform",r(Qt/2+me/2,0)),Qt*=2),_t=Math.max(_t,F?Qt:Jt)}var or=(F?q:Y)*2+_t+ee+j/2,yt=0;!F&&ce.text&&ue==="bottom"&&G<=0&&(yt=or/2,or+=yt,jt+=yt),$._hColorbarMoveTitle=yt,$._hColorbarMoveCBTitle=jt;var at=ee+j,wt=(F?et:mt)-at/2-(F?q:0),Et=(F?mt:et)-(F?Be:Y+jt-yt);z.select("."+C.cbbg).attr("x",wt).attr("y",Et).attr(F?"width":"height",Math.max(or-yt,2)).attr(F?"height":"width",Math.max(Be+at,2)).call(u.fill,te).call(u.stroke,_.bordercolor).style("stroke-width",ee);var Rt=xt?Math.max(Qt-10,0):0;z.selectAll("."+C.cboutline).attr("x",(F?et:mt+q)+Rt).attr("y",(F?mt+Y-Be:et)+(wr?Ne:0)).attr(F?"width":"height",Math.max(Ve,2)).attr(F?"height":"width",Math.max(Be-(F?2*Y+Ne:2*q+Rt),2)).call(u.stroke,_.outlinecolor).style({fill:"none","stroke-width":j});var Dt=F?qe*or:0,Ut=F?0:(1-ft)*or-jt;if(Dt=oe?J.l-Dt:-Dt,Ut=K?J.t-Ut:-Ut,z.attr("transform",r(Dt,Ut)),!F&&(ee||L(te).getAlpha()&&!L.equals($.paper_bgcolor,te))){var Nt=Ce.selectAll("text"),Kt=Nt[0].length,ur=z.select("."+C.cbbg).node(),fr=n.bBox(ur),vr=n.getTranslate(z),We=2;Nt.each(function(pr,mr){var hr=0,Gr=Kt-1;if(mr===hr||mr===Gr){var Dr=n.bBox(this),Ir=n.getTranslate(this),cn;if(mr===Gr){var rn=Dr.right+Ir.x,Cn=fr.right+vr.x+mt-ee-We+Z;cn=Cn-rn,cn>0&&(cn=0)}else if(mr===hr){var Sn=Dr.left+Ir.x,Tr=fr.left+vr.x+mt+ee+We;cn=Tr-Sn,cn<0&&(cn=0)}cn&&(Kt<3?this.setAttribute("transform","translate("+cn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var He={},zt=w[ne],kt=A[ne],Zt=w[ue],er=A[ue],lr=or-Ve;F?(k==="pixels"?(He.y=G,He.t=Be*Zt,He.b=Be*er):(He.t=He.b=0,He.yt=G+N*Zt,He.yb=G-N*er),H==="pixels"?(He.x=Z,He.l=or*zt,He.r=or*kt):(He.l=lr*zt,He.r=lr*kt,He.xl=Z-I*zt,He.xr=Z+I*kt)):(k==="pixels"?(He.x=Z,He.l=Be*zt,He.r=Be*kt):(He.l=He.r=0,He.xl=Z+N*zt,He.xr=Z-N*kt),H==="pixels"?(He.y=1-G,He.t=or*Zt,He.b=or*er):(He.t=lr*Zt,He.b=lr*er,He.yt=G-I*Zt,He.yb=G+I*er));var rr=_.y<.5?"b":"t",Ft=_.x<.5?"l":"r";V._fullLayout._reservedMargin[_._id]={};var cr={r:$.width-wt-Dt,l:wt+He.r,b:$.height-Et-Ut,t:Et+He.b};oe&&K?i.autoMargin(V,_._id,He):oe?V._fullLayout._reservedMargin[_._id][rr]=cr[rr]:K||F?V._fullLayout._reservedMargin[_._id][Ft]=cr[Ft]:V._fullLayout._reservedMargin[_._id][rr]=cr[rr]}return p.syncOrAsync([i.previousPromises,ct,Xt,pt,i.previousPromises,Yt],V)}function f(z,_,V){var F=_.orientation==="v",N=V._fullLayout,k=N._size,I,H,j;v.init({element:z.node(),gd:V,prepFn:function(){I=z.attr("transform"),a(z)},moveFn:function(ee,te){z.attr("transform",I+r(ee,te)),H=v.align((F?_._uFrac:_._vFrac)+ee/k.w,F?_._thickFrac:_._lenFrac,0,1,_.xanchor),j=v.align((F?_._vFrac:1-_._uFrac)-te/k.h,F?_._lenFrac:_._thickFrac,0,1,_.yanchor);var ne=v.getCursor(H,j,_.xanchor,_.yanchor);a(z,ne)},doneFn:function(){if(a(z),H!==void 0&&j!==void 0){var ee={};ee[_._propPrefix+"x"]=H,ee[_._propPrefix+"y"]=j,_._traceIndex!==void 0?S.call("_guiRestyle",V,ee,_._traceIndex):S.call("_guiRelayout",V,ee)}}})}function P(z,_,V){var F=_._levels,N=[],k=[],I,H,j=F.end+F.size/100,ee=F.size,te=1.001*V[0]-.001*V[1],ne=1.001*V[1]-.001*V[0];for(H=0;H<1e5&&(I=F.start+H*ee,!(ee>0?I>=j:I<=j));H++)I>te&&I<ne&&N.push(I);if(_._fillgradient)k=[0];else if(typeof _._fillcolor=="function"){var ue=_._filllevels;if(ue)for(j=ue.end+ue.size/100,ee=ue.size,H=0;H<1e5&&(I=ue.start+H*ee,!(ee>0?I>=j:I<=j));H++)I>V[0]&&I<V[1]&&k.push(I);else k=N.map(function(q){return q-F.size/2}),k.push(k[k.length-1]+F.size)}else _._fillcolor&&typeof _._fillcolor=="string"&&(k=[0]);return F.size<0&&(N.reverse(),k.reverse()),{line:N,fill:k}}function T(z,_,V){var F=z._fullLayout,N=_.orientation==="v",k={type:"linear",range:V,tickmode:_.tickmode,nticks:_.nticks,tick0:_.tick0,dtick:_.dtick,tickvals:_.tickvals,ticktext:_.ticktext,ticks:_.ticks,ticklen:_.ticklen,tickwidth:_.tickwidth,tickcolor:_.tickcolor,showticklabels:_.showticklabels,labelalias:_.labelalias,ticklabelposition:_.ticklabelposition,ticklabeloverflow:_.ticklabeloverflow,ticklabelstep:_.ticklabelstep,tickfont:_.tickfont,tickangle:_.tickangle,tickformat:_.tickformat,exponentformat:_.exponentformat,minexponent:_.minexponent,separatethousands:_.separatethousands,showexponent:_.showexponent,showtickprefix:_.showtickprefix,tickprefix:_.tickprefix,showticksuffix:_.showticksuffix,ticksuffix:_.ticksuffix,title:_.title,showline:!0,anchor:"free",side:N?"right":"bottom",position:1},I=N?"y":"x",H={type:"linear",_id:I+_._id},j={letter:I,font:F.font,noAutotickangles:I==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:F.calendar};function ee(te,ne){return p.coerce(k,H,c,te,ne)}return h(k,H,ee,j,F),g(k,H,ee,j),H}U.exports={draw:x}},90553:function(U,B,e){var y=e(3400);U.exports=function(i){return y.isPlainObject(i.colorbar)}},55080:function(U,B,e){U.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(U,B,e){var y=e(42996),L=e(53756).counter,i=e(95376),S=e(88304).scales;i(S),U.exports=function(v,p){v=v||"",p=p||{};var r=p.cLetter||"c";"onlyIfNumerical"in p&&p.onlyIfNumerical;var t="noScale"in p?p.noScale:v==="marker.line",a="showScaleDflt"in p?p.showScaleDflt:r==="z",n=typeof p.colorscaleDflt=="string"?S[p.colorscaleDflt]:null,u=p.editTypeOverride||"",s;"colorAttr"in p?(s=p.colorAttr,p.colorAttr):s={z:"z",c:"color"}[r];var l=r+"auto",m=r+"min",h=r+"max",g=r+"mid",c={};c[m]=c[h]=void 0;var o={};o[l]=!1;var d={};return s==="color"&&(d.color={valType:"color",arrayOk:!0,editType:u||"style"},p.anim&&(d.color.anim=!0)),d[l]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:c},d[m]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:o},d[h]={valType:"number",dflt:null,editType:u||"plot",impliedEdits:o},d[g]={valType:"number",dflt:null,editType:"calc",impliedEdits:c},d.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},d.autocolorscale={valType:"boolean",dflt:p.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},d.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(d.showscale={valType:"boolean",dflt:a,editType:"calc"},d.colorbar=y),p.noColorAxis||(d.coloraxis={valType:"subplotid",regex:L("coloraxis"),dflt:null,editType:"calc"}),d}},47128:function(U,B,e){var y=e(38248),L=e(3400),i=e(94288).extractOpts;U.exports=function(b,v,p){var r=b._fullLayout,t=p.vals,a=p.containerStr,n=a?L.nestedProperty(v,a).get():v,u=i(n),s=u.auto!==!1,l=u.min,m=u.max,h=u.mid,g=function(){return L.aggNums(Math.min,null,t)},c=function(){return L.aggNums(Math.max,null,t)};if(l===void 0?l=g():s&&(n._colorAx&&y(l)?l=Math.min(l,g()):l=g()),m===void 0?m=c():s&&(n._colorAx&&y(m)?m=Math.max(m,c()):m=c()),s&&h!==void 0&&(m-h>h-l?l=h-(m-h):m-h<h-l&&(m=h+(h-l))),l===m&&(l-=.5,m+=.5),u._sync("min",l),u._sync("max",m),u.autocolorscale){var o;l*m<0?o=r.colorscale.diverging:l>=0?o=r.colorscale.sequential:o=r.colorscale.sequentialminus,u._sync("colorscale",o)}}},95504:function(U,B,e){var y=e(3400),L=e(94288).hasColorscale,i=e(94288).extractOpts;U.exports=function(b,v){function p(l,m){var h=l["_"+m];h!==void 0&&(l[m]=h)}function r(l,m){var h=m.container?y.nestedProperty(l,m.container).get():l;if(h)if(h.coloraxis)h._colorAx=v[h.coloraxis];else{var g=i(h),c=g.auto;(c||g.min===void 0)&&p(h,m.min),(c||g.max===void 0)&&p(h,m.max),g.autocolorscale&&p(h,"colorscale")}}for(var t=0;t<b.length;t++){var a=b[t],n=a._module.colorbar;if(n)if(Array.isArray(n))for(var u=0;u<n.length;u++)r(a,n[u]);else r(a,n);L(a,"marker.line")&&r(a,{container:"marker.line",min:"cmin",max:"cmax"})}for(var s in v._colorAxes)r(v[s],{min:"cmin",max:"cmax"})}},27260:function(U,B,e){var y=e(38248),L=e(3400),i=e(90553),S=e(64013),b=e(88304).isValid,v=e(24040).traceIs;function p(r,t){var a=t.slice(0,t.length-1);return t?L.nestedProperty(r,a).get()||{}:r}U.exports=function r(t,a,n,u,s){var l=s.prefix,m=s.cLetter,h="_module"in a,g=p(t,l),c=p(a,l),o=p(a._template||{},l)||{},d=function(){return delete t.coloraxis,delete a.coloraxis,r(t,a,n,u,s)};if(h){var w=n._colorAxes||{},A=u(l+"coloraxis");if(A){var C=v(a,"contour")&&L.nestedProperty(a,"contours.coloring").get()||"heatmap",x=w[A];x?(x[2].push(d),x[0]!==C&&(x[0]=!1,L.warn(["Ignoring coloraxis:",A,"setting","as it is linked to incompatible colorscales."].join(" ")))):w[A]=[C,a,[d]];return}}var E=g[m+"min"],M=g[m+"max"],f=y(E)&&y(M)&&E<M,P=u(l+m+"auto",!f);P?u(l+m+"mid"):(u(l+m+"min"),u(l+m+"max"));var T=g.colorscale,z=o.colorscale,_;if(T!==void 0&&(_=!b(T)),z!==void 0&&(_=!b(z)),u(l+"autocolorscale",_),u(l+"colorscale"),u(l+"reversescale"),l!=="marker.line."){var V;l&&h&&(V=i(g));var F=u(l+"showscale",V);F&&(l&&o&&(c._template=o),S(g,c,n))}}},94288:function(U,B,e){var y=e(33428),L=e(49760),i=e(38248),S=e(3400),b=e(76308),v=e(88304).isValid;function p(h,g,c){var o=g?S.nestedProperty(h,g).get()||{}:h,d=o[c||"color"];d&&d._inputArray&&(d=d._inputArray);var w=!1;if(S.isArrayOrTypedArray(d)){for(var A=0;A<d.length;A++)if(i(d[A])){w=!0;break}}return S.isPlainObject(o)&&(w||o.showscale===!0||i(o.cmin)&&i(o.cmax)||v(o.colorscale)||S.isPlainObject(o.colorbar))}var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function a(h){var g=h._colorAx,c=g||h,o={},d,w,A;for(w=0;w<r.length;w++)A=r[w],o[A]=c[A];if(g)for(d="c",w=0;w<t.length;w++)A=t[w],o[A]=c["c"+A];else{var C;for(w=0;w<t.length;w++){if(A=t[w],C="c"+A,C in c){o[A]=c[C];continue}C="z"+A,C in c&&(o[A]=c[C])}d=C.charAt(0)}return o._sync=function(x,E){var M=t.indexOf(x)!==-1?d+x:x;c[M]=c["_"+M]=E},o}function n(h){for(var g=a(h),c=g.min,o=g.max,d=g.reversescale?u(g.colorscale):g.colorscale,w=d.length,A=new Array(w),C=new Array(w),x=0;x<w;x++){var E=d[x];A[x]=c+E[0]*(o-c),C[x]=E[1]}return{domain:A,range:C}}function u(h){for(var g=h.length,c=new Array(g),o=g-1,d=0;o>=0;o--,d++){var w=h[o];c[d]=[1-w[0],w[1]]}return c}function s(h,g){g=g||{};for(var c=h.domain,o=h.range,d=o.length,w=new Array(d),A=0;A<d;A++){var C=L(o[A]).toRgb();w[A]=[C.r,C.g,C.b,C.a]}var x=y.scale.linear().domain(c).range(w).clamp(!0),E=g.noNumericCheck,M=g.returnArray,f;return E&&M?f=x:E?f=function(P){return m(x(P))}:M?f=function(P){return i(P)?x(P):L(P).isValid()?P:b.defaultLine}:f=function(P){return i(P)?m(x(P)):L(P).isValid()?P:b.defaultLine},f.domain=x.domain,f.range=function(){return o},f}function l(h,g){return s(n(h),g)}function m(h){var g={r:h[0],g:h[1],b:h[2],a:h[3]};return L(g).toRgbString()}U.exports={hasColorscale:p,extractOpts:a,extractScale:n,flipScale:u,makeColorScaleFunc:s,makeColorScaleFuncFromTrace:l}},8932:function(U,B,e){var y=e(88304),L=e(94288);U.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:y.scales,defaultScale:y.defaultScale,getScale:y.get,isValidScale:y.isValid,hasColorscale:L.hasColorscale,extractOpts:L.extractOpts,extractScale:L.extractScale,flipScale:L.flipScale,makeColorScaleFunc:L.makeColorScaleFunc,makeColorScaleFuncFromTrace:L.makeColorScaleFuncFromTrace}},92332:function(U,B,e){var y=e(92880).extendFlat,L=e(49084),i=e(88304).scales;U.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:i.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:i.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:i.RdBu,editType:"calc"}},coloraxis:y({_isSubplotObj:!0,editType:"calc"},L("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(U,B,e){var y=e(3400),L=e(31780),i=e(92332),S=e(27260);U.exports=function(v,p){function r(h,g){return y.coerce(v,p,i,h,g)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var t=p._colorAxes,a,n;function u(h,g){return y.coerce(a,n,i.coloraxis,h,g)}for(var s in t){var l=t[s];if(l[0])a=v[s]||{},n=L.newContainer(p,s,"coloraxis"),n._name=s,S(a,n,p,u,{prefix:"",cLetter:"c"});else{for(var m=0;m<l[2].length;m++)l[2][m]();delete p._colorAxes[s]}}}},88304:function(U,B,e){var y=e(49760),L={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},i=L.RdBu;function S(p,r){if(r||(r=i),!p)return r;function t(){try{p=L[p]||JSON.parse(p)}catch{p=r}}return typeof p=="string"&&(t(),typeof p=="string"&&t()),b(p)?p:r}function b(p){var r=0;if(!Array.isArray(p)||p.length<2||!p[0]||!p[p.length-1]||+p[0][0]!=0||+p[p.length-1][0]!=1)return!1;for(var t=0;t<p.length;t++){var a=p[t];if(a.length!==2||+a[0]<r||!y(a[1]).isValid())return!1;r=+a[0]}return!0}function v(p){return L[p]!==void 0?!0:b(p)}U.exports={scales:L,defaultScale:i,get:S,isValid:v}},78316:function(U){U.exports=function(e,y,L,i,S){var b=(e-L)/(i-L),v=b+y/(i-L),p=(b+v)/2;return S==="left"||S==="bottom"?b:S==="center"||S==="middle"?p:S==="right"||S==="top"?v:b<.6666666666666666-p?b:v>1.3333333333333333-p?v:p}},67416:function(U,B,e){var y=e(3400),L=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];U.exports=function(S,b,v,p){return v==="left"?S=0:v==="center"?S=1:v==="right"?S=2:S=y.constrain(Math.floor(S*3),0,2),p==="bottom"?b=0:p==="middle"?b=1:p==="top"?b=2:b=y.constrain(Math.floor(b*3),0,2),L[b][S]}},72760:function(U,B){B.selectMode=function(e){return e==="lasso"||e==="select"},B.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},B.openMode=function(e){return e==="drawline"||e==="drawopenpath"},B.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},B.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},B.selectingOrDrawing=function(e){return B.freeMode(e)||B.rectMode(e)}},86476:function(U,B,e){var y=e(29128),L=e(52264),i=e(89184),S=e(3400).removeElement,b=e(33816),v=U.exports={};v.align=e(78316),v.getCursor=e(67416);var p=e(2616);v.unhover=p.wrapped,v.unhoverRaw=p.raw,v.init=function(n){var u=n.gd,s=1,l=u._context.doubleClickDelay,m=n.element,h,g,c,o,d,w,A,C;u._mouseDownTime||(u._mouseDownTime=0),m.style.pointerEvents="all",m.onmousedown=M,i?(m._ontouchstart&&m.removeEventListener("touchstart",m._ontouchstart),m._ontouchstart=M,m.addEventListener("touchstart",M,{passive:!1})):m.ontouchstart=M;function x(T,z,_){return Math.abs(T)<_&&(T=0),Math.abs(z)<_&&(z=0),[T,z]}var E=n.clampFn||x;function M(T){u._dragged=!1,u._dragging=!0;var z=t(T);h=z[0],g=z[1],A=T.target,w=T,C=T.buttons===2||T.ctrlKey,typeof T.clientX>"u"&&typeof T.clientY>"u"&&(T.clientX=h,T.clientY=g),c=new Date().getTime(),c-u._mouseDownTime<l?s+=1:(s=1,u._mouseDownTime=c),n.prepFn&&n.prepFn(T,h,g),L&&!C?(d=r(),d.style.cursor=window.getComputedStyle(m).cursor):L||(d=document,o=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(m).cursor),document.addEventListener("mouseup",P),document.addEventListener("touchend",P),n.dragmode!==!1&&(T.preventDefault(),document.addEventListener("mousemove",f),document.addEventListener("touchmove",f,{passive:!1}))}function f(T){T.preventDefault();var z=t(T),_=n.minDrag||b.MINDRAG,V=E(z[0]-h,z[1]-g,_),F=V[0],N=V[1];(F||N)&&(u._dragged=!0,v.unhover(u,T)),u._dragged&&n.moveFn&&!C&&(u._dragdata={element:m,dx:F,dy:N},n.moveFn(F,N))}function P(T){if(delete u._dragdata,n.dragmode!==!1&&(T.preventDefault(),document.removeEventListener("mousemove",f),document.removeEventListener("touchmove",f)),document.removeEventListener("mouseup",P),document.removeEventListener("touchend",P),L?S(d):o&&(d.documentElement.style.cursor=o,o=null),!u._dragging){u._dragged=!1;return}if(u._dragging=!1,new Date().getTime()-u._mouseDownTime>l&&(s=Math.max(s-1,1)),u._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(s,w),!C){var z;try{z=new MouseEvent("click",T)}catch{var _=t(T);z=document.createEvent("MouseEvents"),z.initMouseEvent("click",T.bubbles,T.cancelable,T.view,T.detail,T.screenX,T.screenY,_[0],_[1],T.ctrlKey,T.altKey,T.shiftKey,T.metaKey,T.button,T.relatedTarget)}A.dispatchEvent(z)}u._dragging=!1,u._dragged=!1}};function r(){var a=document.createElement("div");a.className="dragcover";var n=a.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(a),a}v.coverSlip=r;function t(a){return y(a.changedTouches?a.changedTouches[0]:a,document.body)}},2616:function(U,B,e){var y=e(95924),L=e(91200),i=e(52200).getGraphDiv,S=e(92456),b=U.exports={};b.wrapped=function(v,p,r){v=i(v),v._fullLayout&&L.clear(v._fullLayout._uid+S.HOVERID),b.raw(v,p,r)},b.raw=function(p,r){var t=p._fullLayout,a=p._hoverdata;r||(r={}),!(r.target&&!p._dragged&&y.triggerHandler(p,"plotly_beforehover",r)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),p._hoverdata=void 0,r.target&&a&&p.emit("plotly_unhover",{event:r,points:a}))}},98192:function(U,B){B.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},B.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(U,B,e){var y=e(33428),L=e(3400),i=L.numberFormat,S=e(38248),b=e(49760),v=e(24040),p=e(76308),r=e(8932),t=L.strTranslate,a=e(72736),n=e(9616),u=e(84284),s=u.LINE_SPACING,l=e(13448).DESELECTDIM,m=e(43028),h=e(7152),g=e(10624).appendArrayPointValue,c=U.exports={};c.font=function(we,Ee,xe,De){L.isPlainObject(Ee)&&(De=Ee.color,xe=Ee.size,Ee=Ee.family),Ee&&we.style("font-family",Ee),xe+1&&we.style("font-size",xe+"px"),De&&we.call(p.fill,De)},c.setPosition=function(we,Ee,xe){we.attr("x",Ee).attr("y",xe)},c.setSize=function(we,Ee,xe){we.attr("width",Ee).attr("height",xe)},c.setRect=function(we,Ee,xe,De,Ve){we.call(c.setPosition,Ee,xe).call(c.setSize,De,Ve)},c.translatePoint=function(we,Ee,xe,De){var Ve=xe.c2p(we.x),Ue=De.c2p(we.y);if(S(Ve)&&S(Ue)&&Ee.node())Ee.node().nodeName==="text"?Ee.attr("x",Ve).attr("y",Ue):Ee.attr("transform",t(Ve,Ue));else return!1;return!0},c.translatePoints=function(we,Ee,xe){we.each(function(De){var Ve=y.select(this);c.translatePoint(De,Ve,Ee,xe)})},c.hideOutsideRangePoint=function(we,Ee,xe,De,Ve,Ue){Ee.attr("display",xe.isPtWithinRange(we,Ve)&&De.isPtWithinRange(we,Ue)?null:"none")},c.hideOutsideRangePoints=function(we,Ee){if(Ee._hasClipOnAxisFalse){var xe=Ee.xaxis,De=Ee.yaxis;we.each(function(Ve){var Ue=Ve[0].trace,Be=Ue.xcalendar,Xe=Ue.ycalendar,ot=v.traceIs(Ue,"bar-like")?".bartext":".point,.textpoint";we.selectAll(ot).each(function(ut){c.hideOutsideRangePoint(ut,y.select(this),xe,De,Be,Xe)})})}},c.crispRound=function(we,Ee,xe){return!Ee||!S(Ee)?xe||0:we._context.staticPlot?Ee:Ee<1?1:Math.round(Ee)},c.singleLineStyle=function(we,Ee,xe,De,Ve){Ee.style("fill","none");var Ue=(((we||[])[0]||{}).trace||{}).line||{},Be=xe||Ue.width||0,Xe=Ve||Ue.dash||"";p.stroke(Ee,De||Ue.color),c.dashLine(Ee,Xe,Be)},c.lineGroupStyle=function(we,Ee,xe,De){we.style("fill","none").each(function(Ve){var Ue=(((Ve||[])[0]||{}).trace||{}).line||{},Be=Ee||Ue.width||0,Xe=De||Ue.dash||"";y.select(this).call(p.stroke,xe||Ue.color).call(c.dashLine,Xe,Be)})},c.dashLine=function(we,Ee,xe){xe=+xe||0,Ee=c.dashStyle(Ee,xe),we.style({"stroke-dasharray":Ee,"stroke-width":xe+"px"})},c.dashStyle=function(we,Ee){Ee=+Ee||1;var xe=Math.max(Ee,3);return we==="solid"?we="":we==="dot"?we=xe+"px,"+xe+"px":we==="dash"?we=3*xe+"px,"+3*xe+"px":we==="longdash"?we=5*xe+"px,"+5*xe+"px":we==="dashdot"?we=3*xe+"px,"+xe+"px,"+xe+"px,"+xe+"px":we==="longdashdot"&&(we=5*xe+"px,"+2*xe+"px,"+xe+"px,"+2*xe+"px"),we};function o(we,Ee,xe,De){var Ve=Ee.fillpattern,Ue=Ee.fillgradient,Be=Ve&&c.getPatternAttr(Ve.shape,0,"");if(Be){var Xe=c.getPatternAttr(Ve.bgcolor,0,null),ot=c.getPatternAttr(Ve.fgcolor,0,null),ut=Ve.fgopacity,et=c.getPatternAttr(Ve.size,0,8),qe=c.getPatternAttr(Ve.solidity,0,.3),ft=Ee.uid;c.pattern(we,"point",xe,ft,Be,et,qe,void 0,Ve.fillmode,Xe,ot,ut)}else if(Ue&&Ue.type!=="none"){var ht=Ue.type,dt="scatterfill-"+Ee.uid;if(De&&(dt="legendfill-"+Ee.uid),!De&&(Ue.start!==void 0||Ue.stop!==void 0)){var mt,St;ht==="horizontal"?(mt={x:Ue.start,y:0},St={x:Ue.stop,y:0}):ht==="vertical"&&(mt={x:0,y:Ue.start},St={x:0,y:Ue.stop}),mt.x=Ee._xA.c2p(mt.x===void 0?Ee._extremes.x.min[0].val:mt.x,!0),mt.y=Ee._yA.c2p(mt.y===void 0?Ee._extremes.y.min[0].val:mt.y,!0),St.x=Ee._xA.c2p(St.x===void 0?Ee._extremes.x.max[0].val:St.x,!0),St.y=Ee._yA.c2p(St.y===void 0?Ee._extremes.y.max[0].val:St.y,!0),we.call(M,xe,dt,"linear",Ue.colorscale,"fill",mt,St,!0,!1)}else ht==="horizontal"&&(ht=ht+"reversed"),we.call(c.gradient,xe,dt,ht,Ue.colorscale,"fill")}else Ee.fillcolor&&we.call(p.fill,Ee.fillcolor)}c.singleFillStyle=function(we,Ee){var xe=y.select(we.node()),De=xe.data(),Ve=((De[0]||[])[0]||{}).trace||{};o(we,Ve,Ee,!1)},c.fillGroupStyle=function(we,Ee,xe){we.style("stroke-width",0).each(function(De){var Ve=y.select(this);De[0].trace&&o(Ve,De[0].trace,Ee,xe)})};var d=e(71984);c.symbolNames=[],c.symbolFuncs=[],c.symbolBackOffs=[],c.symbolNeedLines={},c.symbolNoDot={},c.symbolNoFill={},c.symbolList=[],Object.keys(d).forEach(function(we){var Ee=d[we],xe=Ee.n;c.symbolList.push(xe,String(xe),we,xe+100,String(xe+100),we+"-open"),c.symbolNames[xe]=we,c.symbolFuncs[xe]=Ee.f,c.symbolBackOffs[xe]=Ee.backoff||0,Ee.needLine&&(c.symbolNeedLines[xe]=!0),Ee.noDot?c.symbolNoDot[xe]=!0:c.symbolList.push(xe+200,String(xe+200),we+"-dot",xe+300,String(xe+300),we+"-open-dot"),Ee.noFill&&(c.symbolNoFill[xe]=!0)});var w=c.symbolNames.length,A="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";c.symbolNumber=function(we){if(S(we))we=+we;else if(typeof we=="string"){var Ee=0;we.indexOf("-open")>0&&(Ee=100,we=we.replace("-open","")),we.indexOf("-dot")>0&&(Ee+=200,we=we.replace("-dot","")),we=c.symbolNames.indexOf(we),we>=0&&(we+=Ee)}return we%100>=w||we>=400?0:Math.floor(Math.max(we,0))};function C(we,Ee,xe,De){var Ve=we%100;return c.symbolFuncs[Ve](Ee,xe,De)+(we>=200?A:"")}var x=i("~f"),E={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};c.gradient=function(we,Ee,xe,De,Ve,Ue){var Be=E[De];return M(we,Ee,xe,Be.type,Ve,Ue,Be.start,Be.stop,!1,Be.reversed)};function M(we,Ee,xe,De,Ve,Ue,Be,Xe,ot,ut){var et=Ve.length,qe;De==="linear"?qe={node:"linearGradient",attrs:{x1:Be.x,y1:Be.y,x2:Xe.x,y2:Xe.y,gradientUnits:ot?"userSpaceOnUse":"objectBoundingBox"},reversed:ut}:De==="radial"&&(qe={node:"radialGradient",reversed:ut});for(var ft=new Array(et),ht=0;ht<et;ht++)qe.reversed?ft[et-1-ht]=[x((1-Ve[ht][0])*100),Ve[ht][1]]:ft[ht]=[x(Ve[ht][0]*100),Ve[ht][1]];var dt=Ee._fullLayout,mt="g"+dt._uid+"-"+xe,St=dt._defs.select(".gradients").selectAll("#"+mt).data([De+ft.join(";")],L.identity);St.exit().remove(),St.enter().append(qe.node).each(function(){var rt=y.select(this);qe.attrs&&rt.attr(qe.attrs),rt.attr("id",mt);var Oe=rt.selectAll("stop").data(ft);Oe.exit().remove(),Oe.enter().append("stop"),Oe.each(function(Ye){var Ze=b(Ye[1]);y.select(this).attr({offset:Ye[0]+"%","stop-color":p.tinyRGB(Ze),"stop-opacity":Ze.getAlpha()})})}),we.style(Ue,q(mt,Ee)).style(Ue+"-opacity",null),we.classed("gradient_filled",!0)}c.pattern=function(we,Ee,xe,De,Ve,Ue,Be,Xe,ot,ut,et,qe){var ft=Ee==="legend";Xe&&(ot==="overlay"?(ut=Xe,et=p.contrast(ut)):(ut=void 0,et=Xe));var ht=xe._fullLayout,dt="p"+ht._uid+"-"+De,mt,St,rt=function(tt,ct,pt,Xt,Yt){return Xt+(Yt-Xt)*(tt-ct)/(pt-ct)},Oe,Ye,Ze,Ge,_e={},be=b(et),me=p.tinyRGB(be),Ce=be.getAlpha(),Me=qe*Ce;switch(Ve){case"/":mt=Ue*Math.sqrt(2),St=Ue*Math.sqrt(2),Oe="M-"+mt/4+","+St/4+"l"+mt/2+",-"+St/2+"M0,"+St+"L"+mt+",0M"+mt/4*3+","+St/4*5+"l"+mt/2+",-"+St/2,Ye=Be*Ue,Ge="path",_e={d:Oe,opacity:Me,stroke:me,"stroke-width":Ye+"px"};break;case"\\":mt=Ue*Math.sqrt(2),St=Ue*Math.sqrt(2),Oe="M"+mt/4*3+",-"+St/4+"l"+mt/2+","+St/2+"M0,0L"+mt+","+St+"M-"+mt/4+","+St/4*3+"l"+mt/2+","+St/2,Ye=Be*Ue,Ge="path",_e={d:Oe,opacity:Me,stroke:me,"stroke-width":Ye+"px"};break;case"x":mt=Ue*Math.sqrt(2),St=Ue*Math.sqrt(2),Oe="M-"+mt/4+","+St/4+"l"+mt/2+",-"+St/2+"M0,"+St+"L"+mt+",0M"+mt/4*3+","+St/4*5+"l"+mt/2+",-"+St/2+"M"+mt/4*3+",-"+St/4+"l"+mt/2+","+St/2+"M0,0L"+mt+","+St+"M-"+mt/4+","+St/4*3+"l"+mt/2+","+St/2,Ye=Ue-Ue*Math.sqrt(1-Be),Ge="path",_e={d:Oe,opacity:Me,stroke:me,"stroke-width":Ye+"px"};break;case"|":mt=Ue,St=Ue,Ge="path",Oe="M"+mt/2+",0L"+mt/2+","+St,Ye=Be*Ue,Ge="path",_e={d:Oe,opacity:Me,stroke:me,"stroke-width":Ye+"px"};break;case"-":mt=Ue,St=Ue,Ge="path",Oe="M0,"+St/2+"L"+mt+","+St/2,Ye=Be*Ue,Ge="path",_e={d:Oe,opacity:Me,stroke:me,"stroke-width":Ye+"px"};break;case"+":mt=Ue,St=Ue,Ge="path",Oe="M"+mt/2+",0L"+mt/2+","+St+"M0,"+St/2+"L"+mt+","+St/2,Ye=Ue-Ue*Math.sqrt(1-Be),Ge="path",_e={d:Oe,opacity:Me,stroke:me,"stroke-width":Ye+"px"};break;case".":mt=Ue,St=Ue,Be<Math.PI/4?Ze=Math.sqrt(Be*Ue*Ue/Math.PI):Ze=rt(Be,Math.PI/4,1,Ue/2,Ue/Math.sqrt(2)),Ge="circle",_e={cx:mt/2,cy:St/2,r:Ze,opacity:Me,fill:me};break}var Ne=[Ve||"noSh",ut||"noBg",et||"noFg",Ue,Be].join(";"),je=ht._defs.select(".patterns").selectAll("#"+dt).data([Ne],L.identity);je.exit().remove(),je.enter().append("pattern").each(function(){var tt=y.select(this);if(tt.attr({id:dt,width:mt+"px",height:St+"px",patternUnits:"userSpaceOnUse",patternTransform:ft?"scale(0.8)":""}),ut){var ct=b(ut),pt=p.tinyRGB(ct),Xt=ct.getAlpha(),Yt=tt.selectAll("rect").data([0]);Yt.exit().remove(),Yt.enter().append("rect").attr({width:mt+"px",height:St+"px",fill:pt,"fill-opacity":Xt})}var Tt=tt.selectAll(Ge).data([0]);Tt.exit().remove(),Tt.enter().append(Ge).attr(_e)}),we.style("fill",q(dt,xe)).style("fill-opacity",null),we.classed("pattern_filled",!0)},c.initGradients=function(we){var Ee=we._fullLayout,xe=L.ensureSingle(Ee._defs,"g","gradients");xe.selectAll("linearGradient,radialGradient").remove(),y.select(we).selectAll(".gradient_filled").classed("gradient_filled",!1)},c.initPatterns=function(we){var Ee=we._fullLayout,xe=L.ensureSingle(Ee._defs,"g","patterns");xe.selectAll("pattern").remove(),y.select(we).selectAll(".pattern_filled").classed("pattern_filled",!1)},c.getPatternAttr=function(we,Ee,xe){return we&&L.isArrayOrTypedArray(we)?Ee<we.length?we[Ee]:xe:we},c.pointStyle=function(we,Ee,xe,De){if(we.size()){var Ve=c.makePointStyleFns(Ee);we.each(function(Ue){c.singlePointStyle(Ue,y.select(this),Ee,Ve,xe,De)})}},c.singlePointStyle=function(we,Ee,xe,De,Ve,Ue){var Be=xe.marker,Xe=Be.line;if(Ue&&Ue.i>=0&&we.i===void 0&&(we.i=Ue.i),Ee.style("opacity",De.selectedOpacityFn?De.selectedOpacityFn(we):we.mo===void 0?Be.opacity:we.mo),De.ms2mrc){var ot;we.ms==="various"||Be.size==="various"?ot=3:ot=De.ms2mrc(we.ms),we.mrc=ot,De.selectedSizeFn&&(ot=we.mrc=De.selectedSizeFn(we));var ut=c.symbolNumber(we.mx||Be.symbol)||0;we.om=ut%200>=100;var et=ke(we,xe),qe=G(we,xe);Ee.attr("d",C(ut,ot,et,qe))}var ft=!1,ht,dt,mt;if(we.so)mt=Xe.outlierwidth,dt=Xe.outliercolor,ht=Be.outliercolor;else{var St=(Xe||{}).width;mt=(we.mlw+1||St+1||(we.trace?(we.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in we?dt=we.mlcc=De.lineScale(we.mlc):L.isArrayOrTypedArray(Xe.color)?dt=p.defaultLine:dt=Xe.color,L.isArrayOrTypedArray(Be.color)&&(ht=p.defaultLine,ft=!0),"mc"in we?ht=we.mcc=De.markerScale(we.mc):ht=Be.color||Be.colors||"rgba(0,0,0,0)",De.selectedColorFn&&(ht=De.selectedColorFn(we))}if(we.om)Ee.call(p.stroke,ht).style({"stroke-width":(mt||1)+"px",fill:"none"});else{Ee.style("stroke-width",(we.isBlank?0:mt)+"px");var rt=Be.gradient,Oe=we.mgt;Oe?ft=!0:Oe=rt&&rt.type,L.isArrayOrTypedArray(Oe)&&(Oe=Oe[0],E[Oe]||(Oe=0));var Ye=Be.pattern,Ze=Ye&&c.getPatternAttr(Ye.shape,we.i,"");if(Oe&&Oe!=="none"){var Ge=we.mgc;Ge?ft=!0:Ge=rt.color;var _e=xe.uid;ft&&(_e+="-"+we.i),c.gradient(Ee,Ve,_e,Oe,[[0,Ge],[1,ht]],"fill")}else if(Ze){var be=!1,me=Ye.fgcolor;!me&&Ue&&Ue.color&&(me=Ue.color,be=!0);var Ce=c.getPatternAttr(me,we.i,Ue&&Ue.color||null),Me=c.getPatternAttr(Ye.bgcolor,we.i,null),Ne=Ye.fgopacity,je=c.getPatternAttr(Ye.size,we.i,8),tt=c.getPatternAttr(Ye.solidity,we.i,.3);be=be||we.mcc||L.isArrayOrTypedArray(Ye.shape)||L.isArrayOrTypedArray(Ye.bgcolor)||L.isArrayOrTypedArray(Ye.fgcolor)||L.isArrayOrTypedArray(Ye.size)||L.isArrayOrTypedArray(Ye.solidity);var ct=xe.uid;be&&(ct+="-"+we.i),c.pattern(Ee,"point",Ve,ct,Ze,je,tt,we.mcc,Ye.fillmode,Me,Ce,Ne)}else L.isArrayOrTypedArray(ht)?p.fill(Ee,ht[we.i]):p.fill(Ee,ht);mt&&p.stroke(Ee,dt)}},c.makePointStyleFns=function(we){var Ee={},xe=we.marker;return Ee.markerScale=c.tryColorscale(xe,""),Ee.lineScale=c.tryColorscale(xe,"line"),v.traceIs(we,"symbols")&&(Ee.ms2mrc=m.isBubble(we)?h(we):function(){return(xe.size||6)/2}),we.selectedpoints&&L.extendFlat(Ee,c.makeSelectedPointStyleFns(we)),Ee},c.makeSelectedPointStyleFns=function(we){var Ee={},xe=we.selected||{},De=we.unselected||{},Ve=we.marker||{},Ue=xe.marker||{},Be=De.marker||{},Xe=Ve.opacity,ot=Ue.opacity,ut=Be.opacity,et=ot!==void 0,qe=ut!==void 0;(L.isArrayOrTypedArray(Xe)||et||qe)&&(Ee.selectedOpacityFn=function(Ze){var Ge=Ze.mo===void 0?Ve.opacity:Ze.mo;return Ze.selected?et?ot:Ge:qe?ut:l*Ge});var ft=Ve.color,ht=Ue.color,dt=Be.color;(ht||dt)&&(Ee.selectedColorFn=function(Ze){var Ge=Ze.mcc||ft;return Ze.selected?ht||Ge:dt||Ge});var mt=Ve.size,St=Ue.size,rt=Be.size,Oe=St!==void 0,Ye=rt!==void 0;return v.traceIs(we,"symbols")&&(Oe||Ye)&&(Ee.selectedSizeFn=function(Ze){var Ge=Ze.mrc||mt/2;return Ze.selected?Oe?St/2:Ge:Ye?rt/2:Ge}),Ee},c.makeSelectedTextStyleFns=function(we){var Ee={},xe=we.selected||{},De=we.unselected||{},Ve=we.textfont||{},Ue=xe.textfont||{},Be=De.textfont||{},Xe=Ve.color,ot=Ue.color,ut=Be.color;return Ee.selectedTextColorFn=function(et){var qe=et.tc||Xe;return et.selected?ot||qe:ut||(ot?qe:p.addOpacity(qe,l))},Ee},c.selectedPointStyle=function(we,Ee){if(!(!we.size()||!Ee.selectedpoints)){var xe=c.makeSelectedPointStyleFns(Ee),De=Ee.marker||{},Ve=[];xe.selectedOpacityFn&&Ve.push(function(Ue,Be){Ue.style("opacity",xe.selectedOpacityFn(Be))}),xe.selectedColorFn&&Ve.push(function(Ue,Be){p.fill(Ue,xe.selectedColorFn(Be))}),xe.selectedSizeFn&&Ve.push(function(Ue,Be){var Xe=Be.mx||De.symbol||0,ot=xe.selectedSizeFn(Be);Ue.attr("d",C(c.symbolNumber(Xe),ot,ke(Be,Ee),G(Be,Ee))),Be.mrc2=ot}),Ve.length&&we.each(function(Ue){for(var Be=y.select(this),Xe=0;Xe<Ve.length;Xe++)Ve[Xe](Be,Ue)})}},c.tryColorscale=function(we,Ee){var xe=Ee?L.nestedProperty(we,Ee).get():we;if(xe){var De=xe.color;if((xe.colorscale||xe._colorAx)&&L.isArrayOrTypedArray(De))return r.makeColorScaleFuncFromTrace(xe)}return L.identity};var f={start:1,end:-1,middle:0,bottom:1,top:-1};function P(we,Ee,xe,De,Ve){var Ue=y.select(we.node().parentNode),Be=Ee.indexOf("top")!==-1?"top":Ee.indexOf("bottom")!==-1?"bottom":"middle",Xe=Ee.indexOf("left")!==-1?"end":Ee.indexOf("right")!==-1?"start":"middle",ot=De?De/.8+1:0,ut=(a.lineCount(we)-1)*s+1,et=f[Xe]*ot,qe=xe*.75+f[Be]*ot+(f[Be]-1)*ut*xe/2;we.attr("text-anchor",Xe),Ve||Ue.attr("transform",t(et,qe))}function T(we,Ee){var xe=we.ts||Ee.textfont.size;return S(xe)&&xe>0?xe:0}c.textPointStyle=function(we,Ee,xe){if(we.size()){var De;if(Ee.selectedpoints){var Ve=c.makeSelectedTextStyleFns(Ee);De=Ve.selectedTextColorFn}var Ue=Ee.texttemplate,Be=xe._fullLayout;we.each(function(Xe){var ot=y.select(this),ut=Ue?L.extractOption(Xe,Ee,"txt","texttemplate"):L.extractOption(Xe,Ee,"tx","text");if(!ut&&ut!==0){ot.remove();return}if(Ue){var et=Ee._module.formatLabels,qe=et?et(Xe,Ee,Be):{},ft={};g(ft,Ee,Xe.i);var ht=Ee._meta||{};ut=L.texttemplateString(ut,qe,Be._d3locale,ft,Xe,ht)}var dt=Xe.tp||Ee.textposition,mt=T(Xe,Ee),St=De?De(Xe):Xe.tc||Ee.textfont.color;ot.call(c.font,Xe.tf||Ee.textfont.family,mt,St).text(ut).call(a.convertToTspans,xe).call(P,dt,mt,Xe.mrc)})}},c.selectedTextStyle=function(we,Ee){if(!(!we.size()||!Ee.selectedpoints)){var xe=c.makeSelectedTextStyleFns(Ee);we.each(function(De){var Ve=y.select(this),Ue=xe.selectedTextColorFn(De),Be=De.tp||Ee.textposition,Xe=T(De,Ee);p.fill(Ve,Ue);var ot=v.traceIs(Ee,"bar-like");P(Ve,Be,Xe,De.mrc2||De.mrc,ot)})}};var z=.5;c.smoothopen=function(we,Ee){if(we.length<3)return"M"+we.join("L");var xe="M"+we[0],De=[],Ve;for(Ve=1;Ve<we.length-1;Ve++)De.push(I(we[Ve-1],we[Ve],we[Ve+1],Ee));for(xe+="Q"+De[0][0]+" "+we[1],Ve=2;Ve<we.length-1;Ve++)xe+="C"+De[Ve-2][1]+" "+De[Ve-1][0]+" "+we[Ve];return xe+="Q"+De[we.length-3][1]+" "+we[we.length-1],xe},c.smoothclosed=function(we,Ee){if(we.length<3)return"M"+we.join("L")+"Z";var xe="M"+we[0],De=we.length-1,Ve=[I(we[De],we[0],we[1],Ee)],Ue;for(Ue=1;Ue<De;Ue++)Ve.push(I(we[Ue-1],we[Ue],we[Ue+1],Ee));for(Ve.push(I(we[De-1],we[De],we[0],Ee)),Ue=1;Ue<=De;Ue++)xe+="C"+Ve[Ue-1][1]+" "+Ve[Ue][0]+" "+we[Ue];return xe+="C"+Ve[De][1]+" "+Ve[0][0]+" "+we[0]+"Z",xe};var _,V;function F(we,Ee,xe){return xe&&(we=ee(we)),Ee?k(we[1]):N(we[0])}function N(we){var Ee=y.round(we,2);return _=Ee,Ee}function k(we){var Ee=y.round(we,2);return V=Ee,Ee}function I(we,Ee,xe,De){var Ve=we[0]-Ee[0],Ue=we[1]-Ee[1],Be=xe[0]-Ee[0],Xe=xe[1]-Ee[1],ot=Math.pow(Ve*Ve+Ue*Ue,z/2),ut=Math.pow(Be*Be+Xe*Xe,z/2),et=(ut*ut*Ve-ot*ot*Be)*De,qe=(ut*ut*Ue-ot*ot*Xe)*De,ft=3*ut*(ot+ut),ht=3*ot*(ot+ut);return[[N(Ee[0]+(ft&&et/ft)),k(Ee[1]+(ft&&qe/ft))],[N(Ee[0]-(ht&&et/ht)),k(Ee[1]-(ht&&qe/ht))]]}var H={hv:function(we,Ee,xe){return"H"+N(Ee[0])+"V"+F(Ee,1,xe)},vh:function(we,Ee,xe){return"V"+k(Ee[1])+"H"+F(Ee,0,xe)},hvh:function(we,Ee,xe){return"H"+N((we[0]+Ee[0])/2)+"V"+k(Ee[1])+"H"+F(Ee,0,xe)},vhv:function(we,Ee,xe){return"V"+k((we[1]+Ee[1])/2)+"H"+N(Ee[0])+"V"+F(Ee,1,xe)}},j=function(we,Ee,xe){return"L"+F(Ee,0,xe)+","+F(Ee,1,xe)};c.steps=function(we){var Ee=H[we]||j;return function(xe){for(var De="M"+N(xe[0][0])+","+k(xe[0][1]),Ve=xe.length,Ue=1;Ue<Ve;Ue++)De+=Ee(xe[Ue-1],xe[Ue],Ue===Ve-1);return De}};function ee(we,Ee){var xe=we.backoff,De=we.trace,Ve=we.d,Ue=we.i;if(xe&&De&&De.marker&&De.marker.angle%360===0&&De.line&&De.line.shape!=="spline"){var Be=L.isArrayOrTypedArray(xe),Xe=we,ot=Ee?Ee[0]:_||0,ut=Ee?Ee[1]:V||0,et=Xe[0],qe=Xe[1],ft=et-ot,ht=qe-ut,dt=Math.atan2(ht,ft),mt=Be?xe[Ue]:xe;if(mt==="auto"){var St=Xe.i;De.type==="scatter"&&St--;var rt=Xe.marker,Oe=rt.symbol;L.isArrayOrTypedArray(Oe)&&(Oe=Oe[St]);var Ye=rt.size;L.isArrayOrTypedArray(Ye)&&(Ye=Ye[St]),mt=rt?c.symbolBackOffs[c.symbolNumber(Oe)]*Ye:0,mt+=c.getMarkerStandoff(Ve[St],De)||0}var Ze=et-mt*Math.cos(dt),Ge=qe-mt*Math.sin(dt);(Ze<=et&&Ze>=ot||Ze>=et&&Ze<=ot)&&(Ge<=qe&&Ge>=ut||Ge>=qe&&Ge<=ut)&&(we=[Ze,Ge])}return we}c.applyBackoff=ee,c.makeTester=function(){var we=L.ensureSingleById(y.select("body"),"svg","js-plotly-tester",function(xe){xe.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Ee=L.ensureSingle(we,"path","js-reference-point",function(xe){xe.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});c.tester=we,c.testref=Ee},c.savedBBoxes={};var te=0,ne=1e4;c.bBox=function(we,Ee,xe){xe||(xe=ue(we));var De;if(xe){if(De=c.savedBBoxes[xe],De)return L.extendFlat({},De)}else if(we.childNodes.length===1){var Ve=we.childNodes[0];if(xe=ue(Ve),xe){var Ue=+Ve.getAttribute("x")||0,Be=+Ve.getAttribute("y")||0,Xe=Ve.getAttribute("transform");if(!Xe){var ot=c.bBox(Ve,!1,xe);return Ue&&(ot.left+=Ue,ot.right+=Ue),Be&&(ot.top+=Be,ot.bottom+=Be),ot}if(xe+="~"+Ue+"~"+Be+"~"+Xe,De=c.savedBBoxes[xe],De)return L.extendFlat({},De)}}var ut,et;Ee?ut=we:(et=c.tester.node(),ut=we.cloneNode(!0),et.appendChild(ut)),y.select(ut).attr("transform",null).call(a.positionText,0,0);var qe=ut.getBoundingClientRect(),ft=c.testref.node().getBoundingClientRect();Ee||et.removeChild(ut);var ht={height:qe.height,width:qe.width,left:qe.left-ft.left,top:qe.top-ft.top,right:qe.right-ft.left,bottom:qe.bottom-ft.top};return te>=ne&&(c.savedBBoxes={},te=0),xe&&(c.savedBBoxes[xe]=ht),te++,L.extendFlat({},ht)};function ue(we){var Ee=we.getAttribute("data-unformatted");if(Ee!==null)return Ee+we.getAttribute("data-math")+we.getAttribute("text-anchor")+we.getAttribute("style")}c.setClipUrl=function(we,Ee,xe){we.attr("clip-path",q(Ee,xe))};function q(we,Ee){if(!we)return null;var xe=Ee._context,De=xe._exportedPlot?"":xe._baseUrl||"";return De?"url('"+De+"#"+we+"')":"url(#"+we+")"}c.getTranslate=function(we){var Ee=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,xe=we.attr?"attr":"getAttribute",De=we[xe]("transform")||"",Ve=De.replace(Ee,function(Ue,Be,Xe){return[Be,Xe].join(" ")}).split(" ");return{x:+Ve[0]||0,y:+Ve[1]||0}},c.setTranslate=function(we,Ee,xe){var De=/(\btranslate\(.*?\);?)/,Ve=we.attr?"attr":"getAttribute",Ue=we.attr?"attr":"setAttribute",Be=we[Ve]("transform")||"";return Ee=Ee||0,xe=xe||0,Be=Be.replace(De,"").trim(),Be+=t(Ee,xe),Be=Be.trim(),we[Ue]("transform",Be),Be},c.getScale=function(we){var Ee=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,xe=we.attr?"attr":"getAttribute",De=we[xe]("transform")||"",Ve=De.replace(Ee,function(Ue,Be,Xe){return[Be,Xe].join(" ")}).split(" ");return{x:+Ve[0]||1,y:+Ve[1]||1}},c.setScale=function(we,Ee,xe){var De=/(\bscale\(.*?\);?)/,Ve=we.attr?"attr":"getAttribute",Ue=we.attr?"attr":"setAttribute",Be=we[Ve]("transform")||"";return Ee=Ee||1,xe=xe||1,Be=Be.replace(De,"").trim(),Be+="scale("+Ee+","+xe+")",Be=Be.trim(),we[Ue]("transform",Be),Be};var Y=/\s*sc.*/;c.setPointGroupScale=function(we,Ee,xe){if(Ee=Ee||1,xe=xe||1,!!we){var De=Ee===1&&xe===1?"":"scale("+Ee+","+xe+")";we.each(function(){var Ve=(this.getAttribute("transform")||"").replace(Y,"");Ve+=De,Ve=Ve.trim(),this.setAttribute("transform",Ve)})}};var Z=/translate\([^)]*\)\s*$/;c.setTextPointsScale=function(we,Ee,xe){we&&we.each(function(){var De,Ve=y.select(this),Ue=Ve.select("text");if(Ue.node()){var Be=parseFloat(Ue.attr("x")||0),Xe=parseFloat(Ue.attr("y")||0),ot=(Ve.attr("transform")||"").match(Z);Ee===1&&xe===1?De=[]:De=[t(Be,Xe),"scale("+Ee+","+xe+")",t(-Be,-Xe)],ot&&De.push(ot),Ve.attr("transform",De.join(""))}})};function G(we,Ee){var xe;return we&&(xe=we.mf),xe===void 0&&(xe=Ee.marker&&Ee.marker.standoff||0),!Ee._geo&&!Ee._xA?-xe:xe}c.getMarkerStandoff=G;var K=Math.atan2,oe=Math.cos,$=Math.sin;function J(we,Ee){var xe=Ee[0],De=Ee[1];return[xe*oe(we)-De*$(we),xe*$(we)+De*oe(we)]}var se,ie,ce,ye,Se,Te;function ke(we,Ee){var xe=we.ma;xe===void 0&&(xe=Ee.marker.angle,(!xe||L.isArrayOrTypedArray(xe))&&(xe=0));var De,Ve,Ue=Ee.marker.angleref;if(Ue==="previous"||Ue==="north"){if(Ee._geo){var Be=Ee._geo.project(we.lonlat);De=Be[0],Ve=Be[1]}else{var Xe=Ee._xA,ot=Ee._yA;if(Xe&&ot)De=Xe.c2p(we.x),Ve=ot.c2p(we.y);else return 90}if(Ee._geo){var ut=we.lonlat[0],et=we.lonlat[1],qe=Ee._geo.project([ut,et+1e-5]),ft=Ee._geo.project([ut+1e-5,et]),ht=K(ft[1]-Ve,ft[0]-De),dt=K(qe[1]-Ve,qe[0]-De),mt;if(Ue==="north")mt=xe/180*Math.PI;else if(Ue==="previous"){var St=ut/180*Math.PI,rt=et/180*Math.PI,Oe=se/180*Math.PI,Ye=ie/180*Math.PI,Ze=Oe-St,Ge=oe(Ye)*$(Ze),_e=$(Ye)*oe(rt)-oe(Ye)*$(rt)*oe(Ze);mt=-K(Ge,_e)-Math.PI,se=ut,ie=et}var be=J(ht,[oe(mt),0]),me=J(dt,[$(mt),0]);xe=K(be[1]+me[1],be[0]+me[0])/Math.PI*180,Ue==="previous"&&!(Te===Ee.uid&&we.i===Se+1)&&(xe=null)}if(Ue==="previous"&&!Ee._geo)if(Te===Ee.uid&&we.i===Se+1&&S(De)&&S(Ve)){var Ce=De-ce,Me=Ve-ye,Ne=Ee.line&&Ee.line.shape||"",je=Ne.slice(Ne.length-1);je==="h"&&(Me=0),je==="v"&&(Ce=0),xe+=K(Me,Ce)/Math.PI*180+90}else xe=null}return ce=De,ye=Ve,Se=we.i,Te=Ee.uid,xe}c.getMarkerAngle=ke},71984:function(U,B,e){var y=e(21984),L=e(33428).round,i="M0,0Z",S=Math.sqrt(2),b=Math.sqrt(3),v=Math.PI,p=Math.cos,r=Math.sin;U.exports={circle:{n:0,f:function(m,h,g){if(t(h))return i;var c=L(m,2),o="M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z";return g?l(h,g,o):o}},square:{n:1,f:function(m,h,g){if(t(h))return i;var c=L(m,2);return l(h,g,"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")}},diamond:{n:2,f:function(m,h,g){if(t(h))return i;var c=L(m*1.3,2);return l(h,g,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"Z")}},cross:{n:3,f:function(m,h,g){if(t(h))return i;var c=L(m*.4,2),o=L(m*1.2,2);return l(h,g,"M"+o+","+c+"H"+c+"V"+o+"H-"+c+"V"+c+"H-"+o+"V-"+c+"H-"+c+"V-"+o+"H"+c+"V-"+c+"H"+o+"Z")}},x:{n:4,f:function(m,h,g){if(t(h))return i;var c=L(m*.8/S,2),o="l"+c+","+c,d="l"+c+",-"+c,w="l-"+c+",-"+c,A="l-"+c+","+c;return l(h,g,"M0,"+c+o+d+w+d+w+A+w+A+o+A+o+"Z")}},"triangle-up":{n:5,f:function(m,h,g){if(t(h))return i;var c=L(m*2/b,2),o=L(m/2,2),d=L(m,2);return l(h,g,"M-"+c+","+o+"H"+c+"L0,-"+d+"Z")}},"triangle-down":{n:6,f:function(m,h,g){if(t(h))return i;var c=L(m*2/b,2),o=L(m/2,2),d=L(m,2);return l(h,g,"M-"+c+",-"+o+"H"+c+"L0,"+d+"Z")}},"triangle-left":{n:7,f:function(m,h,g){if(t(h))return i;var c=L(m*2/b,2),o=L(m/2,2),d=L(m,2);return l(h,g,"M"+o+",-"+c+"V"+c+"L-"+d+",0Z")}},"triangle-right":{n:8,f:function(m,h,g){if(t(h))return i;var c=L(m*2/b,2),o=L(m/2,2),d=L(m,2);return l(h,g,"M-"+o+",-"+c+"V"+c+"L"+d+",0Z")}},"triangle-ne":{n:9,f:function(m,h,g){if(t(h))return i;var c=L(m*.6,2),o=L(m*1.2,2);return l(h,g,"M-"+o+",-"+c+"H"+c+"V"+o+"Z")}},"triangle-se":{n:10,f:function(m,h,g){if(t(h))return i;var c=L(m*.6,2),o=L(m*1.2,2);return l(h,g,"M"+c+",-"+o+"V"+c+"H-"+o+"Z")}},"triangle-sw":{n:11,f:function(m,h,g){if(t(h))return i;var c=L(m*.6,2),o=L(m*1.2,2);return l(h,g,"M"+o+","+c+"H-"+c+"V-"+o+"Z")}},"triangle-nw":{n:12,f:function(m,h,g){if(t(h))return i;var c=L(m*.6,2),o=L(m*1.2,2);return l(h,g,"M-"+c+","+o+"V-"+c+"H"+o+"Z")}},pentagon:{n:13,f:function(m,h,g){if(t(h))return i;var c=L(m*.951,2),o=L(m*.588,2),d=L(-m,2),w=L(m*-.309,2),A=L(m*.809,2);return l(h,g,"M"+c+","+w+"L"+o+","+A+"H-"+o+"L-"+c+","+w+"L0,"+d+"Z")}},hexagon:{n:14,f:function(m,h,g){if(t(h))return i;var c=L(m,2),o=L(m/2,2),d=L(m*b/2,2);return l(h,g,"M"+d+",-"+o+"V"+o+"L0,"+c+"L-"+d+","+o+"V-"+o+"L0,-"+c+"Z")}},hexagon2:{n:15,f:function(m,h,g){if(t(h))return i;var c=L(m,2),o=L(m/2,2),d=L(m*b/2,2);return l(h,g,"M-"+o+","+d+"H"+o+"L"+c+",0L"+o+",-"+d+"H-"+o+"L-"+c+",0Z")}},octagon:{n:16,f:function(m,h,g){if(t(h))return i;var c=L(m*.924,2),o=L(m*.383,2);return l(h,g,"M-"+o+",-"+c+"H"+o+"L"+c+",-"+o+"V"+o+"L"+o+","+c+"H-"+o+"L-"+c+","+o+"V-"+o+"Z")}},star:{n:17,f:function(m,h,g){if(t(h))return i;var c=m*1.4,o=L(c*.225,2),d=L(c*.951,2),w=L(c*.363,2),A=L(c*.588,2),C=L(-c,2),x=L(c*-.309,2),E=L(c*.118,2),M=L(c*.809,2),f=L(c*.382,2);return l(h,g,"M"+o+","+x+"H"+d+"L"+w+","+E+"L"+A+","+M+"L0,"+f+"L-"+A+","+M+"L-"+w+","+E+"L-"+d+","+x+"H-"+o+"L0,"+C+"Z")}},hexagram:{n:18,f:function(m,h,g){if(t(h))return i;var c=L(m*.66,2),o=L(m*.38,2),d=L(m*.76,2);return l(h,g,"M-"+d+",0l-"+o+",-"+c+"h"+d+"l"+o+",-"+c+"l"+o+","+c+"h"+d+"l-"+o+","+c+"l"+o+","+c+"h-"+d+"l-"+o+","+c+"l-"+o+",-"+c+"h-"+d+"Z")}},"star-triangle-up":{n:19,f:function(m,h,g){if(t(h))return i;var c=L(m*b*.8,2),o=L(m*.8,2),d=L(m*1.6,2),w=L(m*4,2),A="A "+w+","+w+" 0 0 1 ";return l(h,g,"M-"+c+","+o+A+c+","+o+A+"0,-"+d+A+"-"+c+","+o+"Z")}},"star-triangle-down":{n:20,f:function(m,h,g){if(t(h))return i;var c=L(m*b*.8,2),o=L(m*.8,2),d=L(m*1.6,2),w=L(m*4,2),A="A "+w+","+w+" 0 0 1 ";return l(h,g,"M"+c+",-"+o+A+"-"+c+",-"+o+A+"0,"+d+A+c+",-"+o+"Z")}},"star-square":{n:21,f:function(m,h,g){if(t(h))return i;var c=L(m*1.1,2),o=L(m*2,2),d="A "+o+","+o+" 0 0 1 ";return l(h,g,"M-"+c+",-"+c+d+"-"+c+","+c+d+c+","+c+d+c+",-"+c+d+"-"+c+",-"+c+"Z")}},"star-diamond":{n:22,f:function(m,h,g){if(t(h))return i;var c=L(m*1.4,2),o=L(m*1.9,2),d="A "+o+","+o+" 0 0 1 ";return l(h,g,"M-"+c+",0"+d+"0,"+c+d+c+",0"+d+"0,-"+c+d+"-"+c+",0Z")}},"diamond-tall":{n:23,f:function(m,h,g){if(t(h))return i;var c=L(m*.7,2),o=L(m*1.4,2);return l(h,g,"M0,"+o+"L"+c+",0L0,-"+o+"L-"+c+",0Z")}},"diamond-wide":{n:24,f:function(m,h,g){if(t(h))return i;var c=L(m*1.4,2),o=L(m*.7,2);return l(h,g,"M0,"+o+"L"+c+",0L0,-"+o+"L-"+c+",0Z")}},hourglass:{n:25,f:function(m,h,g){if(t(h))return i;var c=L(m,2);return l(h,g,"M"+c+","+c+"H-"+c+"L"+c+",-"+c+"H-"+c+"Z")},noDot:!0},bowtie:{n:26,f:function(m,h,g){if(t(h))return i;var c=L(m,2);return l(h,g,"M"+c+","+c+"V-"+c+"L-"+c+","+c+"V-"+c+"Z")},noDot:!0},"circle-cross":{n:27,f:function(m,h,g){if(t(h))return i;var c=L(m,2);return l(h,g,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(m,h,g){if(t(h))return i;var c=L(m,2),o=L(m/S,2);return l(h,g,"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(m,h,g){if(t(h))return i;var c=L(m,2);return l(h,g,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(m,h,g){if(t(h))return i;var c=L(m,2);return l(h,g,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(m,h,g){if(t(h))return i;var c=L(m*1.3,2);return l(h,g,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM0,-"+c+"V"+c+"M-"+c+",0H"+c)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(m,h,g){if(t(h))return i;var c=L(m*1.3,2),o=L(m*.65,2);return l(h,g,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM-"+o+",-"+o+"L"+o+","+o+"M-"+o+","+o+"L"+o+",-"+o)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(m,h,g){if(t(h))return i;var c=L(m*1.4,2);return l(h,g,"M0,"+c+"V-"+c+"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(m,h,g){if(t(h))return i;var c=L(m,2);return l(h,g,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(m,h,g){if(t(h))return i;var c=L(m*1.2,2),o=L(m*.85,2);return l(h,g,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(m,h,g){if(t(h))return i;var c=L(m/2,2),o=L(m,2);return l(h,g,"M"+c+","+o+"V-"+o+"M"+(c-o)+",-"+o+"V"+o+"M"+o+","+c+"H-"+o+"M-"+o+","+(c-o)+"H"+o)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(m,h,g){if(t(h))return i;var c=L(m*1.2,2),o=L(m*1.6,2),d=L(m*.8,2);return l(h,g,"M-"+c+","+d+"L0,0M"+c+","+d+"L0,0M0,-"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(m,h,g){if(t(h))return i;var c=L(m*1.2,2),o=L(m*1.6,2),d=L(m*.8,2);return l(h,g,"M-"+c+",-"+d+"L0,0M"+c+",-"+d+"L0,0M0,"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(m,h,g){if(t(h))return i;var c=L(m*1.2,2),o=L(m*1.6,2),d=L(m*.8,2);return l(h,g,"M"+d+","+c+"L0,0M"+d+",-"+c+"L0,0M-"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(m,h,g){if(t(h))return i;var c=L(m*1.2,2),o=L(m*1.6,2),d=L(m*.8,2);return l(h,g,"M-"+d+","+c+"L0,0M-"+d+",-"+c+"L0,0M"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(m,h,g){if(t(h))return i;var c=L(m*1.4,2);return l(h,g,"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(m,h,g){if(t(h))return i;var c=L(m*1.4,2);return l(h,g,"M0,"+c+"V-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(m,h,g){if(t(h))return i;var c=L(m,2);return l(h,g,"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(m,h,g){if(t(h))return i;var c=L(m,2);return l(h,g,"M"+c+","+c+"L-"+c+",-"+c)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(m,h,g){if(t(h))return i;var c=L(m,2),o=L(m*2,2);return l(h,g,"M0,0L-"+c+","+o+"H"+c+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(m,h,g){if(t(h))return i;var c=L(m,2),o=L(m*2,2);return l(h,g,"M0,0L-"+c+",-"+o+"H"+c+"Z")},noDot:!0},"arrow-left":{n:47,f:function(m,h,g){if(t(h))return i;var c=L(m*2,2),o=L(m,2);return l(h,g,"M0,0L"+c+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-right":{n:48,f:function(m,h,g){if(t(h))return i;var c=L(m*2,2),o=L(m,2);return l(h,g,"M0,0L-"+c+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(m,h,g){if(t(h))return i;var c=L(m,2),o=L(m*2,2);return l(h,g,"M-"+c+",0H"+c+"M0,0L-"+c+","+o+"H"+c+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(m,h,g){if(t(h))return i;var c=L(m,2),o=L(m*2,2);return l(h,g,"M-"+c+",0H"+c+"M0,0L-"+c+",-"+o+"H"+c+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(m,h,g){if(t(h))return i;var c=L(m*2,2),o=L(m,2);return l(h,g,"M0,-"+o+"V"+o+"M0,0L"+c+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(m,h,g){if(t(h))return i;var c=L(m*2,2),o=L(m,2);return l(h,g,"M0,-"+o+"V"+o+"M0,0L-"+c+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(m,h,g){if(t(h))return i;var c=v/2.5,o=2*m*p(c),d=2*m*r(c);return l(h,g,"M0,0L"+-o+","+d+"L"+o+","+d+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(m,h,g){if(t(h))return i;var c=v/4,o=2*m*p(c),d=2*m*r(c);return l(h,g,"M0,0L"+-o+","+d+"A "+2*m+","+2*m+" 0 0 1 "+o+","+d+"Z")},backoff:.4,noDot:!0}};function t(m){return m===null}var a,n,u,s;function l(m,h,g){if((!m||m%360===0)&&!h)return g;if(u===m&&s===h&&a===g)return n;u=m,s=h,a=g;function c(_,V){var F=p(_),N=r(_),k=V[0],I=V[1]+(h||0);return[k*F-I*N,k*N+I*F]}for(var o=m/180*v,d=0,w=0,A=y(g),C="",x=0;x<A.length;x++){var E=A[x],M=E[0],f=d,P=w;if(M==="M"||M==="L")d=+E[1],w=+E[2];else if(M==="m"||M==="l")d+=+E[1],w+=+E[2];else if(M==="H")d=+E[1];else if(M==="h")d+=+E[1];else if(M==="V")w=+E[1];else if(M==="v")w+=+E[1];else if(M==="A"){d=+E[1],w=+E[2];var T=c(o,[+E[6],+E[7]]);E[6]=T[0],E[7]=T[1],E[3]=+E[3]+m}(M==="H"||M==="V")&&(M="L"),(M==="h"||M==="v")&&(M="l"),(M==="m"||M==="l")&&(d-=f,w-=P);var z=c(o,[d,w]);(M==="H"||M==="V")&&(M="L"),(M==="M"||M==="L"||M==="m"||M==="l")&&(E[1]=z[0],E[2]=z[1]),E[0]=M,C+=E[0]+E.slice(1).join(",")}return n=C,C}},97644:function(U){U.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(U,B,e){var y=e(38248),L=e(24040),i=e(54460),S=e(3400),b=e(93792);U.exports=function(r){for(var t=r.calcdata,a=0;a<t.length;a++){var n=t[a],u=n[0].trace;if(u.visible===!0&&L.traceIs(u,"errorBarsOK")){var s=i.getFromId(r,u.xaxis),l=i.getFromId(r,u.yaxis);v(n,u,s,"x"),v(n,u,l,"y")}}};function v(p,r,t,a){var n=r["error_"+a]||{},u=n.visible&&["linear","log"].indexOf(t.type)!==-1,s=[];if(u){for(var l=b(n),m=0;m<p.length;m++){var h=p[m],g=h.i;if(g===void 0)g=m;else if(g===null)continue;var c=h[a];if(y(t.c2l(c))){var o=l(c,g);if(y(o[0])&&y(o[1])){var d=h[a+"s"]=c-o[0],w=h[a+"h"]=c+o[1];s.push(d,w)}}}var A=t._id,C=r._extremes[A],x=i.findExtremes(t,s,S.extendFlat({tozero:C.opts.tozero},{padded:!0}));C.min=C.min.concat(x.min),C.max=C.max.concat(x.max)}}},93792:function(U){U.exports=function(y){var L=y.type,i=y.symmetric;if(L==="data"){var S=y.array||[];if(i)return function(t,a){var n=+S[a];return[n,n]};var b=y.arrayminus||[];return function(t,a){var n=+S[a],u=+b[a];return!isNaN(n)||!isNaN(u)?[u||0,n||0]:[NaN,NaN]}}else{var v=B(L,y.value),p=B(L,y.valueminus);return i||y.valueminus===void 0?function(t){var a=v(t);return[a,a]}:function(t){return[p(t),v(t)]}}};function B(e,y){if(e==="percent")return function(L){return Math.abs(L*y/100)};if(e==="constant")return function(){return Math.abs(y)};if(e==="sqrt")return function(L){return Math.sqrt(Math.abs(L))}}},65200:function(U,B,e){var y=e(38248),L=e(24040),i=e(3400),S=e(31780),b=e(97644);U.exports=function(v,p,r,t){var a="error_"+t.axis,n=S.newContainer(p,a),u=v[a]||{};function s(d,w){return i.coerce(u,n,b,d,w)}var l=u.array!==void 0||u.value!==void 0||u.type==="sqrt",m=s("visible",l);if(m!==!1){var h=s("type","array"in u?"data":"percent"),g=!0;h!=="sqrt"&&(g=s("symmetric",!((h==="data"?"arrayminus":"valueminus")in u))),h==="data"?(s("array"),s("traceref"),g||(s("arrayminus"),s("tracerefminus"))):(h==="percent"||h==="constant")&&(s("value"),g||s("valueminus"));var c="copy_"+t.inherit+"style";if(t.inherit){var o=p["error_"+t.inherit];(o||{}).visible&&s(c,!(u.color||y(u.thickness)||y(u.width)))}(!t.inherit||!n[c])&&(s("color",r),s("thickness"),s("width",L.traceIs(p,"gl3d")?0:4))}}},64968:function(U,B,e){var y=e(3400),L=e(67824).overrideAll,i=e(97644),S={error_x:y.extendFlat({},i),error_y:y.extendFlat({},i)};delete S.error_x.copy_zstyle,delete S.error_y.copy_zstyle,delete S.error_y.copy_ystyle;var b={error_x:y.extendFlat({},i),error_y:y.extendFlat({},i),error_z:y.extendFlat({},i)};delete b.error_x.copy_ystyle,delete b.error_y.copy_ystyle,delete b.error_z.copy_ystyle,delete b.error_z.copy_zstyle,U.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:S,bar:S,histogram:S,scatter3d:L(b,"calc","nested"),scattergl:L(S,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:v};function v(p,r,t){(r.error_y||{}).visible&&(t.yerr=p.yh-p.y,r.error_y.symmetric||(t.yerrneg=p.y-p.ys)),(r.error_x||{}).visible&&(t.xerr=p.xh-p.x,r.error_x.symmetric||(t.xerrneg=p.x-p.xs))}},78512:function(U,B,e){var y=e(33428),L=e(38248),i=e(43616),S=e(43028);U.exports=function(p,r,t,a){var n,u=t.xaxis,s=t.yaxis,l=a&&a.duration>0,m=p._context.staticPlot;r.each(function(h){var g=h[0].trace,c=g.error_x||{},o=g.error_y||{},d;g.ids&&(d=function(x){return x.id});var w=S.hasMarkers(g)&&g.marker.maxdisplayed>0;!o.visible&&!c.visible&&(h=[]);var A=y.select(this).selectAll("g.errorbar").data(h,d);if(A.exit().remove(),!!h.length){c.visible||A.selectAll("path.xerror").remove(),o.visible||A.selectAll("path.yerror").remove(),A.style("opacity",1);var C=A.enter().append("g").classed("errorbar",!0);l&&C.style("opacity",0).transition().duration(a.duration).style("opacity",1),i.setClipUrl(A,t.layerClipId,p),A.each(function(x){var E=y.select(this),M=b(x,u,s);if(!(w&&!x.vis)){var f,P=E.select("path.yerror");if(o.visible&&L(M.x)&&L(M.yh)&&L(M.ys)){var T=o.width;f="M"+(M.x-T)+","+M.yh+"h"+2*T+"m-"+T+",0V"+M.ys,M.noYS||(f+="m-"+T+",0h"+2*T),n=!P.size(),n?P=E.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("yerror",!0):l&&(P=P.transition().duration(a.duration).ease(a.easing)),P.attr("d",f)}else P.remove();var z=E.select("path.xerror");if(c.visible&&L(M.y)&&L(M.xh)&&L(M.xs)){var _=(c.copy_ystyle?o:c).width;f="M"+M.xh+","+(M.y-_)+"v"+2*_+"m0,-"+_+"H"+M.xs,M.noXS||(f+="m0,-"+_+"v"+2*_),n=!z.size(),n?z=E.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("xerror",!0):l&&(z=z.transition().duration(a.duration).ease(a.easing)),z.attr("d",f)}else z.remove()}})}})};function b(v,p,r){var t={x:p.c2p(v.x),y:r.c2p(v.y)};return v.yh!==void 0&&(t.yh=r.c2p(v.yh),t.ys=r.c2p(v.ys),L(t.ys)||(t.noYS=!0,t.ys=r.c2p(v.ys,!0))),v.xh!==void 0&&(t.xh=p.c2p(v.xh),t.xs=p.c2p(v.xs),L(t.xs)||(t.noXS=!0,t.xs=p.c2p(v.xs,!0))),t}},92036:function(U,B,e){var y=e(33428),L=e(76308);U.exports=function(S){S.each(function(b){var v=b[0].trace,p=v.error_y||{},r=v.error_x||{},t=y.select(this);t.selectAll("path.yerror").style("stroke-width",p.thickness+"px").call(L.stroke,p.color),r.copy_ystyle&&(r=p),t.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call(L.stroke,r.color)})}},55756:function(U,B,e){var y=e(25376),L=e(65460).hoverlabel,i=e(92880).extendFlat;U.exports={hoverlabel:{bgcolor:i({},L.bgcolor,{arrayOk:!0}),bordercolor:i({},L.bordercolor,{arrayOk:!0}),font:y({arrayOk:!0,editType:"none"}),align:i({},L.align,{arrayOk:!0}),namelength:i({},L.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(U,B,e){var y=e(3400),L=e(24040);U.exports=function(b){var v=b.calcdata,p=b._fullLayout;function r(s){return function(l){return y.coerceHoverinfo({hoverinfo:l},{_module:s._module},p)}}for(var t=0;t<v.length;t++){var a=v[t],n=a[0].trace;if(!L.traceIs(n,"pie-like")){var u=L.traceIs(n,"2dMap")?i:y.fillArray;u(n.hoverinfo,a,"hi",r(n)),n.hovertemplate&&u(n.hovertemplate,a,"ht"),n.hoverlabel&&(u(n.hoverlabel.bgcolor,a,"hbg"),u(n.hoverlabel.bordercolor,a,"hbc"),u(n.hoverlabel.font.size,a,"hts"),u(n.hoverlabel.font.color,a,"htc"),u(n.hoverlabel.font.family,a,"htf"),u(n.hoverlabel.namelength,a,"hnl"),u(n.hoverlabel.align,a,"hta"))}}};function i(S,b,v,p){p=p||y.identity,Array.isArray(S)&&(b[0][v]=p(S))}},62376:function(U,B,e){var y=e(24040),L=e(83292).hover;U.exports=function(S,b,v){var p=y.getComponentMethod("annotations","onClick")(S,S._hoverdata);v!==void 0&&L(S,b,v,!0);function r(){S.emit("plotly_click",{points:S._hoverdata,event:b})}S._hoverdata&&b&&b.target&&(p&&p.then?p.then(r):r(),b.stopImmediatePropagation&&b.stopImmediatePropagation())}},92456:function(U){U.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(U,B,e){var y=e(3400),L=e(55756),i=e(16132);U.exports=function(b,v,p,r){function t(n,u){return y.coerce(b,v,L,n,u)}var a=y.extendFlat({},r.hoverlabel);v.hovertemplate&&(a.namelength=-1),i(b,v,t,a)}},10624:function(U,B,e){var y=e(3400);B.getSubplot=function(p){return p.subplot||p.xaxis+p.yaxis||p.geo},B.isTraceInSubplots=function(p,r){if(p.type==="splom"){for(var t=p.xaxes||[],a=p.yaxes||[],n=0;n<t.length;n++)for(var u=0;u<a.length;u++)if(r.indexOf(t[n]+a[u])!==-1)return!0;return!1}return r.indexOf(B.getSubplot(p))!==-1},B.flat=function(p,r){for(var t=new Array(p.length),a=0;a<p.length;a++)t[a]=r;return t},B.p2c=function(p,r){for(var t=new Array(p.length),a=0;a<p.length;a++)t[a]=p[a].p2c(r);return t},B.getDistanceFunction=function(p,r,t,a){return p==="closest"?a||B.quadrature(r,t):p.charAt(0)==="x"?r:t},B.getClosest=function(p,r,t){if(t.index!==!1)t.index>=0&&t.index<p.length?t.distance=0:t.index=!1;else for(var a=0;a<p.length;a++){var n=r(p[a]);n<=t.distance&&(t.index=a,t.distance=n)}return t},B.inbox=function(p,r,t){return p*r<0||p===0?t:1/0},B.quadrature=function(p,r){return function(t){var a=p(t),n=r(t);return Math.sqrt(a*a+n*n)}},B.makeEventData=function(p,r,t){var a="index"in p?p.index:p.pointNumber,n={data:r._input,fullData:r,curveNumber:r.index,pointNumber:a};if(r._indexToPoints){var u=r._indexToPoints[a];u.length===1?n.pointIndex=u[0]:n.pointIndices=u}else n.pointIndex=a;return r._module.eventData?n=r._module.eventData(n,p,r,t,a):("xVal"in p?n.x=p.xVal:"x"in p&&(n.x=p.x),"yVal"in p?n.y=p.yVal:"y"in p&&(n.y=p.y),p.xa&&(n.xaxis=p.xa),p.ya&&(n.yaxis=p.ya),p.zLabelVal!==void 0&&(n.z=p.zLabelVal)),B.appendArrayPointValue(n,r,a),n},B.appendArrayPointValue=function(p,r,t){var a=r._arrayAttrs;if(a)for(var n=0;n<a.length;n++){var u=a[n],s=i(u);if(p[s]===void 0){var l=y.nestedProperty(r,u).get(),m=S(l,t);m!==void 0&&(p[s]=m)}}},B.appendArrayMultiPointValues=function(p,r,t){var a=r._arrayAttrs;if(a)for(var n=0;n<a.length;n++){var u=a[n],s=i(u);if(p[s]===void 0){for(var l=y.nestedProperty(r,u).get(),m=new Array(t.length),h=0;h<t.length;h++)m[h]=S(l,t[h]);p[s]=m}}};var L={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function i(p){return L[p]||p}function S(p,r){if(Array.isArray(r)){if(Array.isArray(p)&&Array.isArray(p[r[0]]))return p[r[0]][r[1]]}else return p[r]}var b={x:!0,y:!0},v={"x unified":!0,"y unified":!0};B.isUnifiedHover=function(p){return typeof p!="string"?!1:!!v[p]},B.isXYhover=function(p){return typeof p!="string"?!1:!!b[p]}},83292:function(U,B,e){var y=e(33428),L=e(38248),i=e(49760),S=e(3400),b=S.strTranslate,v=S.strRotate,p=e(95924),r=e(72736),t=e(72213),a=e(43616),n=e(76308),u=e(86476),s=e(54460),l=e(24040),m=e(10624),h=e(92456),g=e(77864),c=e(31140),o=h.YANGLE,d=Math.PI*o/180,w=1/Math.sin(d),A=Math.cos(d),C=Math.sin(d),x=h.HOVERARROWSIZE,E=h.HOVERTEXTPAD,M={box:!0,ohlc:!0,violin:!0,candlestick:!0},f={scatter:!0,scattergl:!0,splom:!0};B.hover=function(oe,$,J,se){oe=S.getGraphDiv(oe);var ie=$.target;S.throttle(oe._fullLayout._uid+h.HOVERID,h.HOVERMINTIME,function(){P(oe,$,J,se,ie)})},B.loneHover=function(oe,$){var J=!0;Array.isArray(oe)||(J=!1,oe=[oe]);var se=$.gd,ie=Y(se),ce=Z(se),ye=oe.map(function(Ue){var Be=Ue._x0||Ue.x0||Ue.x||0,Xe=Ue._x1||Ue.x1||Ue.x||0,ot=Ue._y0||Ue.y0||Ue.y||0,ut=Ue._y1||Ue.y1||Ue.y||0,et=Ue.eventData;if(et){var qe=Math.min(Be,Xe),ft=Math.max(Be,Xe),ht=Math.min(ot,ut),dt=Math.max(ot,ut),mt=Ue.trace;if(l.traceIs(mt,"gl3d")){var St=se._fullLayout[mt.scene]._scene.container,rt=St.offsetLeft,Oe=St.offsetTop;qe+=rt,ft+=rt,ht+=Oe,dt+=Oe}et.bbox={x0:qe+ce,x1:ft+ce,y0:ht+ie,y1:dt+ie},$.inOut_bbox&&$.inOut_bbox.push(et.bbox)}else et=!1;return{color:Ue.color||n.defaultLine,x0:Ue.x0||Ue.x||0,x1:Ue.x1||Ue.x||0,y0:Ue.y0||Ue.y||0,y1:Ue.y1||Ue.y||0,xLabel:Ue.xLabel,yLabel:Ue.yLabel,zLabel:Ue.zLabel,text:Ue.text,name:Ue.name,idealAlign:Ue.idealAlign,borderColor:Ue.borderColor,fontFamily:Ue.fontFamily,fontSize:Ue.fontSize,fontColor:Ue.fontColor,nameLength:Ue.nameLength,textAlign:Ue.textAlign,trace:Ue.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Ue.hovertemplate||!1,hovertemplateLabels:Ue.hovertemplateLabels||!1,eventData:et}}),Se=!1,Te=_(ye,{gd:se,hovermode:"closest",rotateLabels:Se,bgColor:$.bgColor||n.background,container:y.select($.container),outerContainer:$.outerContainer||$.container}),ke=Te.hoverLabels,we=5,Ee=0,xe=0;ke.sort(function(Ue,Be){return Ue.y0-Be.y0}).each(function(Ue,Be){var Xe=Ue.y0-Ue.by/2;Xe-we<Ee?Ue.offset=Ee-Xe+we:Ue.offset=0,Ee=Xe+Ue.by+Ue.offset,Be===$.anchorIndex&&(xe=Ue.offset)}).each(function(Ue){Ue.offset-=xe});var De=se._fullLayout._invScaleX,Ve=se._fullLayout._invScaleY;return I(ke,Se,De,Ve),J?ke:ke.node()};function P(K,oe,$,J,se){$||($="xy");var ie=Array.isArray($)?$:[$],ce=K._fullLayout,ye=ce._plots||[],Se=ye[$],Te=ce._has("cartesian");if(Se){var ke=Se.overlays.map(function(Lr){return Lr.id});ie=ie.concat(ke)}for(var we=ie.length,Ee=new Array(we),xe=new Array(we),De=!1,Ve=0;Ve<we;Ve++){var Ue=ie[Ve];if(ye[Ue])De=!0,Ee[Ve]=ye[Ue].xaxis,xe[Ve]=ye[Ue].yaxis;else if(ce[Ue]&&ce[Ue]._subplot){var Be=ce[Ue]._subplot;Ee[Ve]=Be.xaxis,xe[Ve]=Be.yaxis}else{S.warn("Unrecognized subplot: "+Ue);return}}var Xe=oe.hovermode||ce.hovermode;if(Xe&&!De&&(Xe="closest"),["x","y","closest","x unified","y unified"].indexOf(Xe)===-1||!K.calcdata||K.querySelector(".zoombox")||K._dragging)return u.unhoverRaw(K,oe);var ot=ce.hoverdistance;ot===-1&&(ot=1/0);var ut=ce.spikedistance;ut===-1&&(ut=1/0);var et=[],qe=[],ft,ht,dt,mt,St,rt,Oe,Ye,Ze,Ge,_e,be,me,Ce={hLinePoint:null,vLinePoint:null},Me=!1;if(Array.isArray(oe))for(Xe="array",dt=0;dt<oe.length;dt++)St=K.calcdata[oe[dt].curveNumber||0],St&&(rt=St[0].trace,St[0].trace.hoverinfo!=="skip"&&(qe.push(St),rt.orientation==="h"&&(Me=!0)));else{for(mt=0;mt<K.calcdata.length;mt++)St=K.calcdata[mt],rt=St[0].trace,rt.hoverinfo!=="skip"&&m.isTraceInSubplots(rt,ie)&&(qe.push(St),rt.orientation==="h"&&(Me=!0));var Ne=!se,je,tt;if(Ne)"xpx"in oe?je=oe.xpx:je=Ee[0]._length/2,"ypx"in oe?tt=oe.ypx:tt=xe[0]._length/2;else{if(p.triggerHandler(K,"plotly_beforehover",oe)===!1)return;var ct=se.getBoundingClientRect();je=oe.clientX-ct.left,tt=oe.clientY-ct.top,ce._calcInverseTransform(K);var pt=S.apply3DTransform(ce._invTransform)(je,tt);if(je=pt[0],tt=pt[1],je<0||je>Ee[0]._length||tt<0||tt>xe[0]._length)return u.unhoverRaw(K,oe)}if(oe.pointerX=je+Ee[0]._offset,oe.pointerY=tt+xe[0]._offset,"xval"in oe?ft=m.flat(ie,oe.xval):ft=m.p2c(Ee,je),"yval"in oe?ht=m.flat(ie,oe.yval):ht=m.p2c(xe,tt),!L(ft[0])||!L(ht[0]))return S.warn("Fx.hover failed",oe,K),u.unhoverRaw(K,oe)}var Xt=1/0;function Yt(Lr,Wr){for(mt=0;mt<qe.length;mt++)if(St=qe[mt],!(!St||!St[0]||!St[0].trace)&&(rt=St[0].trace,!(rt.visible!==!0||rt._length===0)&&["carpet","contourcarpet"].indexOf(rt._module.name)===-1)){if(rt.type==="splom"?(Ye=0,Oe=ie[Ye]):(Oe=m.getSubplot(rt),Ye=ie.indexOf(Oe)),Ze=Xe,m.isUnifiedHover(Ze)&&(Ze=Ze.charAt(0)),be={cd:St,trace:rt,xa:Ee[Ye],ya:xe[Ye],maxHoverDistance:ot,maxSpikeDistance:ut,index:!1,distance:Math.min(Xt,ot),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:n.defaultLine,name:rt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},ce[Oe]&&(be.subplot=ce[Oe]._subplot),ce._splomScenes&&ce._splomScenes[rt.uid]&&(be.scene=ce._splomScenes[rt.uid]),me=et.length,Ze==="array"){var Ur=oe[mt];"pointNumber"in Ur?(be.index=Ur.pointNumber,Ze="closest"):(Ze="","xval"in Ur&&(Ge=Ur.xval,Ze="x"),"yval"in Ur&&(_e=Ur.yval,Ze=Ze?"closest":"y"))}else Lr!==void 0&&Wr!==void 0?(Ge=Lr,_e=Wr):(Ge=ft[Ye],_e=ht[Ye]);if(ot!==0)if(rt._module&&rt._module.hoverPoints){var an=rt._module.hoverPoints(be,Ge,_e,Ze,{finiteRange:!0,hoverLayer:ce._hoverlayer});if(an)for(var pn,gn=0;gn<an.length;gn++)pn=an[gn],L(pn.x0)&&L(pn.y0)&&et.push(H(pn,Xe))}else S.log("Unrecognized trace type in hover:",rt);if(Xe==="closest"&&et.length>me&&(et.splice(0,me),Xt=et[0].distance),Te&&ut!==0&&et.length===0){be.distance=ut,be.index=!1;var En=rt._module.hoverPoints(be,Ge,_e,"closest",{hoverLayer:ce._hoverlayer});if(En&&(En=En.filter(function(ri){return ri.spikeDistance<=ut})),En&&En.length){var On,ni=En.filter(function(ri){return ri.xa.showspikes&&ri.xa.spikesnap!=="hovered data"});if(ni.length){var ci=ni[0];L(ci.x0)&&L(ci.y0)&&(On=_t(ci),(!Ce.vLinePoint||Ce.vLinePoint.spikeDistance>On.spikeDistance)&&(Ce.vLinePoint=On))}var di=En.filter(function(ri){return ri.ya.showspikes&&ri.ya.spikesnap!=="hovered data"});if(di.length){var li=di[0];L(li.x0)&&L(li.y0)&&(On=_t(li),(!Ce.hLinePoint||Ce.hLinePoint.spikeDistance>On.spikeDistance)&&(Ce.hLinePoint=On))}}}}}Yt();function Tt(Lr,Wr,Ur){for(var an=null,pn=1/0,gn,En=0;En<Lr.length;En++)gn=Lr[En].spikeDistance,Ur&&En===0&&(gn=-1/0),gn<=pn&&gn<=Wr&&(an=Lr[En],pn=gn);return an}function _t(Lr){return Lr?{xa:Lr.xa,ya:Lr.ya,x:Lr.xSpike!==void 0?Lr.xSpike:(Lr.x0+Lr.x1)/2,y:Lr.ySpike!==void 0?Lr.ySpike:(Lr.y0+Lr.y1)/2,distance:Lr.distance,spikeDistance:Lr.spikeDistance,curveNumber:Lr.trace.index,color:Lr.color,pointNumber:Lr.index}:null}var Qt={fullLayout:ce,container:ce._hoverlayer,event:oe},wr=K._spikepoints,xt={vLinePoint:Ce.vLinePoint,hLinePoint:Ce.hLinePoint};K._spikepoints=xt;var jt=function(){et.sort(function(Lr,Wr){return Lr.distance-Wr.distance}),et=ue(et,Xe)};jt();var Jt=Xe.charAt(0),gr=(Jt==="x"||Jt==="y")&&et[0]&&f[et[0].trace.type];if(Te&&ut!==0&&et.length!==0){var or=et.filter(function(Lr){return Lr.ya.showspikes}),yt=Tt(or,ut,gr);Ce.hLinePoint=_t(yt);var at=et.filter(function(Lr){return Lr.xa.showspikes}),wt=Tt(at,ut,gr);Ce.vLinePoint=_t(wt)}if(et.length===0){var Et=u.unhoverRaw(K,oe);return Te&&(Ce.hLinePoint!==null||Ce.vLinePoint!==null)&&te(wr)&&j(K,Ce,Qt),Et}if(Te&&te(wr)&&j(K,Ce,Qt),m.isXYhover(Ze)&&et[0].length!==0&&et[0].trace.type!=="splom"){var Rt=et[0];M[Rt.trace.type]?et=et.filter(function(Lr){return Lr.trace.index===Rt.trace.index}):et=[Rt];var Dt=et.length,Ut=q("x",Rt,ce),Nt=q("y",Rt,ce);Yt(Ut,Nt);var Kt=[],ur={},fr=0,vr=function(Lr){var Wr=M[Lr.trace.type]?T(Lr):Lr.trace.index;if(!ur[Wr])fr++,ur[Wr]=fr,Kt.push(Lr);else{var Ur=ur[Wr]-1,an=Kt[Ur];Ur>0&&Math.abs(Lr.distance)<Math.abs(an.distance)&&(Kt[Ur]=Lr)}},We;for(We=0;We<Dt;We++)vr(et[We]);for(We=et.length-1;We>Dt-1;We--)vr(et[We]);et=Kt,jt()}var He=K._hoverdata,zt=[],kt=Y(K),Zt=Z(K);for(dt=0;dt<et.length;dt++){var er=et[dt],lr=m.makeEventData(er,er.trace,er.cd);if(er.hovertemplate!==!1){var rr=!1;er.cd[er.index]&&er.cd[er.index].ht&&(rr=er.cd[er.index].ht),er.hovertemplate=rr||er.trace.hovertemplate||!1}if(er.xa&&er.ya){var Ft=er.x0+er.xa._offset,cr=er.x1+er.xa._offset,pr=er.y0+er.ya._offset,mr=er.y1+er.ya._offset,hr=Math.min(Ft,cr),Gr=Math.max(Ft,cr),Dr=Math.min(pr,mr),Ir=Math.max(pr,mr);lr.bbox={x0:hr+Zt,x1:Gr+Zt,y0:Dr+kt,y1:Ir+kt}}er.eventData=[lr],zt.push(lr)}K._hoverdata=zt;var cn=Xe==="y"&&(qe.length>1||et.length>1)||Xe==="closest"&&Me&&et.length>1,rn=n.combine(ce.plot_bgcolor||n.background,ce.paper_bgcolor),Cn=_(et,{gd:K,hovermode:Xe,rotateLabels:cn,bgColor:rn,container:ce._hoverlayer,outerContainer:ce._paper.node(),commonLabelOpts:ce.hoverlabel,hoverdistance:ce.hoverdistance}),Sn=Cn.hoverLabels;if(m.isUnifiedHover(Xe)||(F(Sn,cn,ce,Cn.commonLabelBoundingBox),I(Sn,cn,ce._invScaleX,ce._invScaleY)),se&&se.tagName){var Tr=l.getComponentMethod("annotations","hasClickToShow")(K,zt);t(y.select(se),Tr?"pointer":"")}!se||J||!ee(K,oe,He)||(He&&K.emit("plotly_unhover",{event:oe,points:He}),K.emit("plotly_hover",{event:oe,points:K._hoverdata,xaxes:Ee,yaxes:xe,xvals:ft,yvals:ht}))}function T(K){return[K.trace.index,K.index,K.x0,K.y0,K.name,K.attr,K.xa?K.xa._id:"",K.ya?K.ya._id:""].join(",")}var z=/<extra>([\s\S]*)<\/extra>/;function _(K,oe){var $=oe.gd,J=$._fullLayout,se=oe.hovermode,ie=oe.rotateLabels,ce=oe.bgColor,ye=oe.container,Se=oe.outerContainer,Te=oe.commonLabelOpts||{};if(K.length===0)return[[]];var ke=oe.fontFamily||h.HOVERFONT,we=oe.fontSize||h.HOVERFONTSIZE,Ee=K[0],xe=Ee.xa,De=Ee.ya,Ve=se.charAt(0),Ue=Ve+"Label",Be=Ee[Ue];if(Be===void 0&&xe.type==="multicategory")for(var Xe=0;Xe<K.length&&(Be=K[Xe][Ue],Be===void 0);Xe++);var ot=G($,Se),ut=ot.top,et=ot.width,qe=ot.height,ft=Be!==void 0&&Ee.distance<=oe.hoverdistance&&(se==="x"||se==="y");if(ft){var ht=!0,dt,mt;for(dt=0;dt<K.length;dt++)if(ht&&K[dt].zLabel===void 0&&(ht=!1),mt=K[dt].hoverinfo||K[dt].trace.hoverinfo,mt){var St=Array.isArray(mt)?mt:mt.split("+");if(St.indexOf("all")===-1&&St.indexOf(se)===-1){ft=!1;break}}ht&&(ft=!1)}var rt=ye.selectAll("g.axistext").data(ft?[0]:[]);rt.enter().append("g").classed("axistext",!0),rt.exit().remove();var Oe={minX:0,maxX:0,minY:0,maxY:0};if(rt.each(function(){var Dt=y.select(this),Ut=S.ensureSingle(Dt,"path","",function(Ir){Ir.style({"stroke-width":"1px"})}),Nt=S.ensureSingle(Dt,"text","",function(Ir){Ir.attr("data-notex",1)}),Kt=Te.bgcolor||n.defaultLine,ur=Te.bordercolor||n.contrast(Kt),fr=n.contrast(Kt),vr={family:Te.font.family||ke,size:Te.font.size||we,color:Te.font.color||fr};Ut.style({fill:Kt,stroke:ur}),Nt.text(Be).call(a.font,vr).call(r.positionText,0,0).call(r.convertToTspans,$),Dt.attr("transform","");var We=G($,Nt.node()),He,zt;if(se==="x"){var kt=xe.side==="top"?"-":"";Nt.attr("text-anchor","middle").call(r.positionText,0,xe.side==="top"?ut-We.bottom-x-E:ut-We.top+x+E),He=xe._offset+(Ee.x0+Ee.x1)/2,zt=De._offset+(xe.side==="top"?0:De._length);var Zt=We.width/2+E,er=He;He<Zt?er=Zt:He>J.width-Zt&&(er=J.width-Zt),Ut.attr("d","M"+(He-er)+",0L"+(He-er+x)+","+kt+x+"H"+Zt+"v"+kt+(E*2+We.height)+"H"+-Zt+"V"+kt+x+"H"+(He-er-x)+"Z"),He=er,Oe.minX=He-Zt,Oe.maxX=He+Zt,xe.side==="top"?(Oe.minY=zt-(E*2+We.height),Oe.maxY=zt-E):(Oe.minY=zt+E,Oe.maxY=zt+(E*2+We.height))}else{var lr,rr,Ft;De.side==="right"?(lr="start",rr=1,Ft="",He=xe._offset+xe._length):(lr="end",rr=-1,Ft="-",He=xe._offset),zt=De._offset+(Ee.y0+Ee.y1)/2,Nt.attr("text-anchor",lr),Ut.attr("d","M0,0L"+Ft+x+","+x+"V"+(E+We.height/2)+"h"+Ft+(E*2+We.width)+"V-"+(E+We.height/2)+"H"+Ft+x+"V-"+x+"Z"),Oe.minY=zt-(E+We.height/2),Oe.maxY=zt+(E+We.height/2),De.side==="right"?(Oe.minX=He+x,Oe.maxX=He+x+(E*2+We.width)):(Oe.minX=He-x-(E*2+We.width),Oe.maxX=He-x);var cr=We.height/2,pr=ut-We.top-cr,mr="clip"+J._uid+"commonlabel"+De._id,hr;if(He<We.width+2*E+x){hr="M-"+(x+E)+"-"+cr+"h-"+(We.width-E)+"V"+cr+"h"+(We.width-E)+"Z";var Gr=We.width-He+E;r.positionText(Nt,Gr,pr),lr==="end"&&Nt.selectAll("tspan").each(function(){var Ir=y.select(this),cn=a.tester.append("text").text(Ir.text()).call(a.font,vr),rn=G($,cn.node());Math.round(rn.width)<Math.round(We.width)&&Ir.attr("x",Gr-rn.width),cn.remove()})}else r.positionText(Nt,rr*(E+x),pr),hr=null;var Dr=J._topclips.selectAll("#"+mr).data(hr?[0]:[]);Dr.enter().append("clipPath").attr("id",mr).append("path"),Dr.exit().remove(),Dr.select("path").attr("d",hr),a.setClipUrl(Nt,hr?mr:null,$)}Dt.attr("transform",b(He,zt))}),m.isUnifiedHover(se)){ye.selectAll("g.hovertext").remove();var Ye=K.filter(function(Dt){return Dt.hoverinfo!=="none"});if(Ye.length===0)return[];var Ze=J.hoverlabel,Ge=Ze.font,_e={showlegend:!0,legend:{title:{text:Be,font:Ge},font:Ge,bgcolor:Ze.bgcolor,bordercolor:Ze.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:J.legend?J.legend.traceorder:void 0,orientation:"v"}},be={font:Ge};g(_e,be,$._fullData);var me=be.legend;me.entries=[];for(var Ce=0;Ce<Ye.length;Ce++){var Me=Ye[Ce];if(Me.hoverinfo!=="none"){var Ne=V(Me,!0,se,J,Be),je=Ne[0],tt=Ne[1];Me.name=tt,tt!==""?Me.text=tt+" : "+je:Me.text=je;var ct=Me.cd[Me.index];ct&&(ct.mc&&(Me.mc=ct.mc),ct.mcc&&(Me.mc=ct.mcc),ct.mlc&&(Me.mlc=ct.mlc),ct.mlcc&&(Me.mlc=ct.mlcc),ct.mlw&&(Me.mlw=ct.mlw),ct.mrc&&(Me.mrc=ct.mrc),ct.dir&&(Me.dir=ct.dir)),Me._distinct=!0,me.entries.push([Me])}}me.entries.sort(function(Dt,Ut){return Dt[0].trace.index-Ut[0].trace.index}),me.layer=ye,me._inHover=!0,me._groupTitleFont=Ze.grouptitlefont,c($,me);var pt=ye.select("g.legend"),Xt=G($,pt.node()),Yt=Xt.width+2*E,Tt=Xt.height+2*E,_t=Ye[0],Qt=(_t.x0+_t.x1)/2,wr=(_t.y0+_t.y1)/2,xt=!(l.traceIs(_t.trace,"bar-like")||l.traceIs(_t.trace,"box-violin")),jt,Jt;Ve==="y"?xt?(Jt=wr-E,jt=wr+E):(Jt=Math.min.apply(null,Ye.map(function(Dt){return Math.min(Dt.y0,Dt.y1)})),jt=Math.max.apply(null,Ye.map(function(Dt){return Math.max(Dt.y0,Dt.y1)}))):Jt=jt=S.mean(Ye.map(function(Dt){return(Dt.y0+Dt.y1)/2}))-Tt/2;var gr,or;Ve==="x"?xt?(gr=Qt+E,or=Qt-E):(gr=Math.max.apply(null,Ye.map(function(Dt){return Math.max(Dt.x0,Dt.x1)})),or=Math.min.apply(null,Ye.map(function(Dt){return Math.min(Dt.x0,Dt.x1)}))):gr=or=S.mean(Ye.map(function(Dt){return(Dt.x0+Dt.x1)/2}))-Yt/2;var yt=xe._offset,at=De._offset;jt+=at,gr+=yt,or+=yt-Yt,Jt+=at-Tt;var wt,Et;return gr+Yt<et&&gr>=0?wt=gr:or+Yt<et&&or>=0?wt=or:yt+Yt<et?wt=yt:gr-Qt<Qt-or+Yt?wt=et-Yt:wt=0,wt+=E,jt+Tt<qe&&jt>=0?Et=jt:Jt+Tt<qe&&Jt>=0?Et=Jt:at+Tt<qe?Et=at:jt-wr<wr-Jt+Tt?Et=qe-Tt:Et=0,Et+=E,pt.attr("transform",b(wt-1,Et-1)),pt}var Rt=ye.selectAll("g.hovertext").data(K,function(Dt){return T(Dt)});return Rt.enter().append("g").classed("hovertext",!0).each(function(){var Dt=y.select(this);Dt.append("rect").call(n.fill,n.addOpacity(ce,.8)),Dt.append("text").classed("name",!0),Dt.append("path").style("stroke-width","1px"),Dt.append("text").classed("nums",!0).call(a.font,ke,we)}),Rt.exit().remove(),Rt.each(function(Dt){var Ut=y.select(this).attr("transform",""),Nt=Dt.color;Array.isArray(Nt)&&(Nt=Nt[Dt.eventData[0].pointNumber]);var Kt=Dt.bgcolor||Nt,ur=n.combine(n.opacity(Kt)?Kt:n.defaultLine,ce),fr=n.combine(n.opacity(Nt)?Nt:n.defaultLine,ce),vr=Dt.borderColor||n.contrast(ur),We=V(Dt,ft,se,J,Be,Ut),He=We[0],zt=We[1],kt=Ut.select("text.nums").call(a.font,Dt.fontFamily||ke,Dt.fontSize||we,Dt.fontColor||vr).text(He).attr("data-notex",1).call(r.positionText,0,0).call(r.convertToTspans,$),Zt=Ut.select("text.name"),er=0,lr=0;if(zt&&zt!==He){Zt.call(a.font,Dt.fontFamily||ke,Dt.fontSize||we,fr).text(zt).attr("data-notex",1).call(r.positionText,0,0).call(r.convertToTspans,$);var rr=G($,Zt.node());er=rr.width+2*E,lr=rr.height+2*E}else Zt.remove(),Ut.select("rect").remove();Ut.select("path").style({fill:ur,stroke:vr});var Ft=Dt.xa._offset+(Dt.x0+Dt.x1)/2,cr=Dt.ya._offset+(Dt.y0+Dt.y1)/2,pr=Math.abs(Dt.x1-Dt.x0),mr=Math.abs(Dt.y1-Dt.y0),hr=G($,kt.node()),Gr=hr.width/J._invScaleX,Dr=hr.height/J._invScaleY;Dt.ty0=(ut-hr.top)/J._invScaleY,Dt.bx=Gr+2*E,Dt.by=Math.max(Dr+2*E,lr),Dt.anchor="start",Dt.txwidth=Gr,Dt.tx2width=er,Dt.offset=0;var Ir=(Gr+x+E+er)*J._invScaleX,cn,rn;if(ie)Dt.pos=Ft,cn=cr+mr/2+Ir<=qe,rn=cr-mr/2-Ir>=0,(Dt.idealAlign==="top"||!cn)&&rn?(cr-=mr/2,Dt.anchor="end"):cn?(cr+=mr/2,Dt.anchor="start"):Dt.anchor="middle",Dt.crossPos=cr;else{if(Dt.pos=cr,cn=Ft+pr/2+Ir<=et,rn=Ft-pr/2-Ir>=0,(Dt.idealAlign==="left"||!cn)&&rn)Ft-=pr/2,Dt.anchor="end";else if(cn)Ft+=pr/2,Dt.anchor="start";else{Dt.anchor="middle";var Cn=Ir/2,Sn=Ft+Cn-et,Tr=Ft-Cn;Sn>0&&(Ft-=Sn),Tr<0&&(Ft+=-Tr)}Dt.crossPos=Ft}kt.attr("text-anchor",Dt.anchor),er&&Zt.attr("text-anchor",Dt.anchor),Ut.attr("transform",b(Ft,cr)+(ie?v(o):""))}),{hoverLabels:Rt,commonLabelBoundingBox:Oe}}function V(K,oe,$,J,se,ie){var ce="",ye="";K.nameOverride!==void 0&&(K.name=K.nameOverride),K.name&&(K.trace._meta&&(K.name=S.templateString(K.name,K.trace._meta)),ce=ne(K.name,K.nameLength));var Se=$.charAt(0),Te=Se==="x"?"y":"x";K.zLabel!==void 0?(K.xLabel!==void 0&&(ye+="x: "+K.xLabel+"<br>"),K.yLabel!==void 0&&(ye+="y: "+K.yLabel+"<br>"),K.trace.type!=="choropleth"&&K.trace.type!=="choroplethmapbox"&&(ye+=(ye?"z: ":"")+K.zLabel)):oe&&K[Se+"Label"]===se?ye=K[Te+"Label"]||"":K.xLabel===void 0?K.yLabel!==void 0&&K.trace.type!=="scattercarpet"&&(ye=K.yLabel):K.yLabel===void 0?ye=K.xLabel:ye="("+K.xLabel+", "+K.yLabel+")",(K.text||K.text===0)&&!Array.isArray(K.text)&&(ye+=(ye?"<br>":"")+K.text),K.extraText!==void 0&&(ye+=(ye?"<br>":"")+K.extraText),ie&&ye===""&&!K.hovertemplate&&(ce===""&&ie.remove(),ye=ce);var ke=K.hovertemplate||!1;if(ke){var we=K.hovertemplateLabels||K;K[Se+"Label"]!==se&&(we[Se+"other"]=we[Se+"Val"],we[Se+"otherLabel"]=we[Se+"Label"]),ye=S.hovertemplateString(ke,we,J._d3locale,K.eventData[0]||{},K.trace._meta),ye=ye.replace(z,function(Ee,xe){return ce=ne(xe,K.nameLength),""})}return[ye,ce]}function F(K,oe,$,J){var se=oe?"xa":"ya",ie=oe?"ya":"xa",ce=0,ye=1,Se=K.size(),Te=new Array(Se),ke=0,we=J.minX,Ee=J.maxX,xe=J.minY,De=J.maxY,Ve=function(Ge){return Ge*$._invScaleX},Ue=function(Ge){return Ge*$._invScaleY};K.each(function(Ge){var _e=Ge[se],be=Ge[ie],me=_e._id.charAt(0)==="x",Ce=_e.range;ke===0&&Ce&&Ce[0]>Ce[1]!==me&&(ye=-1);var Me=0,Ne=me?$.width:$.height;if($.hovermode==="x"||$.hovermode==="y"){var je=N(Ge,oe),tt=Ge.anchor,ct=tt==="end"?-1:1,pt,Xt;if(tt==="middle")pt=Ge.crossPos+(me?Ue(je.y-Ge.by/2):Ve(Ge.bx/2+Ge.tx2width/2)),Xt=pt+(me?Ue(Ge.by):Ve(Ge.bx));else if(me)pt=Ge.crossPos+Ue(x+je.y)-Ue(Ge.by/2-x),Xt=pt+Ue(Ge.by);else{var Yt=Ve(ct*x+je.x),Tt=Yt+Ve(ct*Ge.bx);pt=Ge.crossPos+Math.min(Yt,Tt),Xt=Ge.crossPos+Math.max(Yt,Tt)}me?xe!==void 0&&De!==void 0&&Math.min(Xt,De)-Math.max(pt,xe)>1&&(be.side==="left"?(Me=be._mainLinePosition,Ne=$.width):Ne=be._mainLinePosition):we!==void 0&&Ee!==void 0&&Math.min(Xt,Ee)-Math.max(pt,we)>1&&(be.side==="top"?(Me=be._mainLinePosition,Ne=$.height):Ne=be._mainLinePosition)}Te[ke++]=[{datum:Ge,traceIndex:Ge.trace.index,dp:0,pos:Ge.pos,posref:Ge.posref,size:Ge.by*(me?w:1)/2,pmin:Me,pmax:Ne}]}),Te.sort(function(Ge,_e){return Ge[0].posref-_e[0].posref||ye*(_e[0].traceIndex-Ge[0].traceIndex)});var Be,Xe,ot,ut,et,qe,ft;function ht(Ge){var _e=Ge[0],be=Ge[Ge.length-1];if(Xe=_e.pmin-_e.pos-_e.dp+_e.size,ot=be.pos+be.dp+be.size-_e.pmax,Xe>.01){for(et=Ge.length-1;et>=0;et--)Ge[et].dp+=Xe;Be=!1}if(!(ot<.01)){if(Xe<-.01){for(et=Ge.length-1;et>=0;et--)Ge[et].dp-=ot;Be=!1}if(Be){var me=0;for(ut=0;ut<Ge.length;ut++)qe=Ge[ut],qe.pos+qe.dp+qe.size>_e.pmax&&me++;for(ut=Ge.length-1;ut>=0&&!(me<=0);ut--)qe=Ge[ut],qe.pos>_e.pmax-1&&(qe.del=!0,me--);for(ut=0;ut<Ge.length&&!(me<=0);ut++)if(qe=Ge[ut],qe.pos<_e.pmin+1)for(qe.del=!0,me--,ot=qe.size*2,et=Ge.length-1;et>=0;et--)Ge[et].dp-=ot;for(ut=Ge.length-1;ut>=0&&!(me<=0);ut--)qe=Ge[ut],qe.pos+qe.dp+qe.size>_e.pmax&&(qe.del=!0,me--)}}}for(;!Be&&ce<=Se;){for(ce++,Be=!0,ut=0;ut<Te.length-1;){var dt=Te[ut],mt=Te[ut+1],St=dt[dt.length-1],rt=mt[0];if(Xe=St.pos+St.dp+St.size-rt.pos-rt.dp+rt.size,Xe>.01&&St.pmin===rt.pmin&&St.pmax===rt.pmax){for(et=mt.length-1;et>=0;et--)mt[et].dp+=Xe;for(dt.push.apply(dt,mt),Te.splice(ut+1,1),ft=0,et=dt.length-1;et>=0;et--)ft+=dt[et].dp;for(ot=ft/dt.length,et=dt.length-1;et>=0;et--)dt[et].dp-=ot;Be=!1}else ut++}Te.forEach(ht)}for(ut=Te.length-1;ut>=0;ut--){var Oe=Te[ut];for(et=Oe.length-1;et>=0;et--){var Ye=Oe[et],Ze=Ye.datum;Ze.offset=Ye.dp,Ze.del=Ye.del}}}function N(K,oe){var $=0,J=K.offset;return oe&&(J*=-C,$=K.offset*A),{x:$,y:J}}function k(K){var oe={start:1,end:-1,middle:0}[K.anchor],$=oe*(x+E),J=$+oe*(K.txwidth+E),se=K.anchor==="middle";return se&&($-=K.tx2width/2,J+=K.txwidth/2+E),{alignShift:oe,textShiftX:$,text2ShiftX:J}}function I(K,oe,$,J){var se=function(ce){return ce*$},ie=function(ce){return ce*J};K.each(function(ce){var ye=y.select(this);if(ce.del)return ye.remove();var Se=ye.select("text.nums"),Te=ce.anchor,ke=Te==="end"?-1:1,we=k(ce),Ee=N(ce,oe),xe=Ee.x,De=Ee.y,Ve=Te==="middle";ye.select("path").attr("d",Ve?"M-"+se(ce.bx/2+ce.tx2width/2)+","+ie(De-ce.by/2)+"h"+se(ce.bx)+"v"+ie(ce.by)+"h-"+se(ce.bx)+"Z":"M0,0L"+se(ke*x+xe)+","+ie(x+De)+"v"+ie(ce.by/2-x)+"h"+se(ke*ce.bx)+"v-"+ie(ce.by)+"H"+se(ke*x+xe)+"V"+ie(De-x)+"Z");var Ue=xe+we.textShiftX,Be=De+ce.ty0-ce.by/2+E,Xe=ce.textAlign||"auto";Xe!=="auto"&&(Xe==="left"&&Te!=="start"?(Se.attr("text-anchor","start"),Ue=Ve?-ce.bx/2-ce.tx2width/2+E:-ce.bx-E):Xe==="right"&&Te!=="end"&&(Se.attr("text-anchor","end"),Ue=Ve?ce.bx/2-ce.tx2width/2-E:ce.bx+E)),Se.call(r.positionText,se(Ue),ie(Be)),ce.tx2width&&(ye.select("text.name").call(r.positionText,se(we.text2ShiftX+we.alignShift*E+xe),ie(De+ce.ty0-ce.by/2+E)),ye.select("rect").call(a.setRect,se(we.text2ShiftX+(we.alignShift-1)*ce.tx2width/2+xe),ie(De-ce.by/2-1),se(ce.tx2width),ie(ce.by+2)))})}function H(K,oe){var $=K.index,J=K.trace||{},se=K.cd[0],ie=K.cd[$]||{};function ce(Ee){return Ee||L(Ee)&&Ee===0}var ye=Array.isArray($)?function(Ee,xe){var De=S.castOption(se,$,Ee);return ce(De)?De:S.extractOption({},J,"",xe)}:function(Ee,xe){return S.extractOption(ie,J,Ee,xe)};function Se(Ee,xe,De){var Ve=ye(xe,De);ce(Ve)&&(K[Ee]=Ve)}if(Se("hoverinfo","hi","hoverinfo"),Se("bgcolor","hbg","hoverlabel.bgcolor"),Se("borderColor","hbc","hoverlabel.bordercolor"),Se("fontFamily","htf","hoverlabel.font.family"),Se("fontSize","hts","hoverlabel.font.size"),Se("fontColor","htc","hoverlabel.font.color"),Se("nameLength","hnl","hoverlabel.namelength"),Se("textAlign","hta","hoverlabel.align"),K.posref=oe==="y"||oe==="closest"&&J.orientation==="h"?K.xa._offset+(K.x0+K.x1)/2:K.ya._offset+(K.y0+K.y1)/2,K.x0=S.constrain(K.x0,0,K.xa._length),K.x1=S.constrain(K.x1,0,K.xa._length),K.y0=S.constrain(K.y0,0,K.ya._length),K.y1=S.constrain(K.y1,0,K.ya._length),K.xLabelVal!==void 0&&(K.xLabel="xLabel"in K?K.xLabel:s.hoverLabelText(K.xa,K.xLabelVal,J.xhoverformat),K.xVal=K.xa.c2d(K.xLabelVal)),K.yLabelVal!==void 0&&(K.yLabel="yLabel"in K?K.yLabel:s.hoverLabelText(K.ya,K.yLabelVal,J.yhoverformat),K.yVal=K.ya.c2d(K.yLabelVal)),K.zLabelVal!==void 0&&K.zLabel===void 0&&(K.zLabel=String(K.zLabelVal)),!isNaN(K.xerr)&&!(K.xa.type==="log"&&K.xerr<=0)){var Te=s.tickText(K.xa,K.xa.c2l(K.xerr),"hover").text;K.xerrneg!==void 0?K.xLabel+=" +"+Te+" / -"+s.tickText(K.xa,K.xa.c2l(K.xerrneg),"hover").text:K.xLabel+=" ± "+Te,oe==="x"&&(K.distance+=1)}if(!isNaN(K.yerr)&&!(K.ya.type==="log"&&K.yerr<=0)){var ke=s.tickText(K.ya,K.ya.c2l(K.yerr),"hover").text;K.yerrneg!==void 0?K.yLabel+=" +"+ke+" / -"+s.tickText(K.ya,K.ya.c2l(K.yerrneg),"hover").text:K.yLabel+=" ± "+ke,oe==="y"&&(K.distance+=1)}var we=K.hoverinfo||K.trace.hoverinfo;return we&&we!=="all"&&(we=Array.isArray(we)?we:we.split("+"),we.indexOf("x")===-1&&(K.xLabel=void 0),we.indexOf("y")===-1&&(K.yLabel=void 0),we.indexOf("z")===-1&&(K.zLabel=void 0),we.indexOf("text")===-1&&(K.text=void 0),we.indexOf("name")===-1&&(K.name=void 0)),K}function j(K,oe,$){var J=$.container,se=$.fullLayout,ie=se._size,ce=$.event,ye=!!oe.hLinePoint,Se=!!oe.vLinePoint,Te,ke;if(J.selectAll(".spikeline").remove(),!!(Se||ye)){var we=n.combine(se.plot_bgcolor,se.paper_bgcolor);if(ye){var Ee=oe.hLinePoint,xe,De;Te=Ee&&Ee.xa,ke=Ee&&Ee.ya;var Ve=ke.spikesnap;Ve==="cursor"?(xe=ce.pointerX,De=ce.pointerY):(xe=Te._offset+Ee.x,De=ke._offset+Ee.y);var Ue=i.readability(Ee.color,we)<1.5?n.contrast(we):Ee.color,Be=ke.spikemode,Xe=ke.spikethickness,ot=ke.spikecolor||Ue,ut=s.getPxPosition(K,ke),et,qe;if(Be.indexOf("toaxis")!==-1||Be.indexOf("across")!==-1){if(Be.indexOf("toaxis")!==-1&&(et=ut,qe=xe),Be.indexOf("across")!==-1){var ft=ke._counterDomainMin,ht=ke._counterDomainMax;ke.anchor==="free"&&(ft=Math.min(ft,ke.position),ht=Math.max(ht,ke.position)),et=ie.l+ft*ie.w,qe=ie.l+ht*ie.w}J.insert("line",":first-child").attr({x1:et,x2:qe,y1:De,y2:De,"stroke-width":Xe,stroke:ot,"stroke-dasharray":a.dashStyle(ke.spikedash,Xe)}).classed("spikeline",!0).classed("crisp",!0),J.insert("line",":first-child").attr({x1:et,x2:qe,y1:De,y2:De,"stroke-width":Xe+2,stroke:we}).classed("spikeline",!0).classed("crisp",!0)}Be.indexOf("marker")!==-1&&J.insert("circle",":first-child").attr({cx:ut+(ke.side!=="right"?Xe:-Xe),cy:De,r:Xe,fill:ot}).classed("spikeline",!0)}if(Se){var dt=oe.vLinePoint,mt,St;Te=dt&&dt.xa,ke=dt&&dt.ya;var rt=Te.spikesnap;rt==="cursor"?(mt=ce.pointerX,St=ce.pointerY):(mt=Te._offset+dt.x,St=ke._offset+dt.y);var Oe=i.readability(dt.color,we)<1.5?n.contrast(we):dt.color,Ye=Te.spikemode,Ze=Te.spikethickness,Ge=Te.spikecolor||Oe,_e=s.getPxPosition(K,Te),be,me;if(Ye.indexOf("toaxis")!==-1||Ye.indexOf("across")!==-1){if(Ye.indexOf("toaxis")!==-1&&(be=_e,me=St),Ye.indexOf("across")!==-1){var Ce=Te._counterDomainMin,Me=Te._counterDomainMax;Te.anchor==="free"&&(Ce=Math.min(Ce,Te.position),Me=Math.max(Me,Te.position)),be=ie.t+(1-Me)*ie.h,me=ie.t+(1-Ce)*ie.h}J.insert("line",":first-child").attr({x1:mt,x2:mt,y1:be,y2:me,"stroke-width":Ze,stroke:Ge,"stroke-dasharray":a.dashStyle(Te.spikedash,Ze)}).classed("spikeline",!0).classed("crisp",!0),J.insert("line",":first-child").attr({x1:mt,x2:mt,y1:be,y2:me,"stroke-width":Ze+2,stroke:we}).classed("spikeline",!0).classed("crisp",!0)}Ye.indexOf("marker")!==-1&&J.insert("circle",":first-child").attr({cx:mt,cy:_e-(Te.side!=="top"?Ze:-Ze),r:Ze,fill:Ge}).classed("spikeline",!0)}}}function ee(K,oe,$){if(!$||$.length!==K._hoverdata.length)return!0;for(var J=$.length-1;J>=0;J--){var se=$[J],ie=K._hoverdata[J];if(se.curveNumber!==ie.curveNumber||String(se.pointNumber)!==String(ie.pointNumber)||String(se.pointNumbers)!==String(ie.pointNumbers))return!0}return!1}function te(K,oe){return!oe||oe.vLinePoint!==K._spikepoints.vLinePoint||oe.hLinePoint!==K._spikepoints.hLinePoint}function ne(K,oe){return r.plainText(K||"",{len:oe,allowedTags:["br","sub","sup","b","i","em"]})}function ue(K,oe){for(var $=oe.charAt(0),J=[],se=[],ie=[],ce=0;ce<K.length;ce++){var ye=K[ce];l.traceIs(ye.trace,"bar-like")||l.traceIs(ye.trace,"box-violin")?ie.push(ye):ye.trace[$+"period"]?se.push(ye):J.push(ye)}return J.concat(se).concat(ie)}function q(K,oe,$){var J=oe[K+"a"],se=oe[K+"Val"],ie=oe.cd[0];if(J.type==="category"||J.type==="multicategory")se=J._categoriesMap[se];else if(J.type==="date"){var ce=oe.trace[K+"periodalignment"];if(ce){var ye=oe.cd[oe.index],Se=ye[K+"Start"];Se===void 0&&(Se=ye[K]);var Te=ye[K+"End"];Te===void 0&&(Te=ye[K]);var ke=Te-Se;ce==="end"?se+=ke:ce==="middle"&&(se+=ke/2)}se=J.d2c(se)}return ie&&ie.t&&ie.t.posLetter===J._id&&($.boxmode==="group"||$.violinmode==="group")&&(se+=ie.t.dPos),se}function Y(K){return K.offsetTop+K.clientTop}function Z(K){return K.offsetLeft+K.clientLeft}function G(K,oe){var $=K._fullLayout,J=oe.getBoundingClientRect(),se=J.left,ie=J.top,ce=se+J.width,ye=ie+J.height,Se=S.apply3DTransform($._invTransform)(se,ie),Te=S.apply3DTransform($._invTransform)(ce,ye),ke=Se[0],we=Se[1],Ee=Te[0],xe=Te[1];return{x:ke,y:we,width:Ee-ke,height:xe-we,top:Math.min(we,xe),left:Math.min(ke,Ee),right:Math.max(ke,Ee),bottom:Math.max(we,xe)}}},16132:function(U,B,e){var y=e(3400),L=e(76308),i=e(10624).isUnifiedHover;U.exports=function(b,v,p,r){r=r||{};var t=v.legend;function a(n){r.font[n]||(r.font[n]=t?v.legend.font[n]:v.font[n])}v&&i(v.hovermode)&&(r.font||(r.font={}),a("size"),a("family"),a("color"),t?(r.bgcolor||(r.bgcolor=L.combine(v.legend.bgcolor,v.paper_bgcolor)),r.bordercolor||(r.bordercolor=v.legend.bordercolor)):r.bgcolor||(r.bgcolor=v.paper_bgcolor)),p("hoverlabel.bgcolor",r.bgcolor),p("hoverlabel.bordercolor",r.bordercolor),p("hoverlabel.namelength",r.namelength),y.coerceFont(p,"hoverlabel.font",r.font),p("hoverlabel.align",r.align)}},41008:function(U,B,e){var y=e(3400),L=e(65460);U.exports=function(S,b){function v(p,r){return b[p]!==void 0?b[p]:y.coerce(S,b,L,p,r)}return v("clickmode"),v("hovermode")}},93024:function(U,B,e){var y=e(33428),L=e(3400),i=e(86476),S=e(10624),b=e(65460),v=e(83292);U.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:b},attributes:e(55756),layoutAttributes:b,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:S.getDistanceFunction,getClosest:S.getClosest,inbox:S.inbox,quadrature:S.quadrature,appendArrayPointValue:S.appendArrayPointValue,castHoverOption:r,castHoverinfo:t,hover:v.hover,unhover:i.unhover,loneHover:v.loneHover,loneUnhover:p,click:e(62376)};function p(a){var n=L.isD3Selection(a)?a:y.select(a);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function r(a,n,u){return L.castOption(a,n,"hoverlabel."+u)}function t(a,n,u){function s(l){return L.coerceHoverinfo({hoverinfo:l},{_module:a._module},n)}return L.castOption(a,u,"hoverinfo",s)}},65460:function(U,B,e){var y=e(92456),L=e(25376),i=L({editType:"none"});i.family.dflt=y.HOVERFONT,i.size.dflt=y.HOVERFONTSIZE,U.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:i,grouptitlefont:L({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(U,B,e){var y=e(3400),L=e(65460),i=e(41008),S=e(16132);U.exports=function(v,p){function r(l,m){return y.coerce(v,p,L,l,m)}var t=i(v,p);t&&(r("hoverdistance"),r("spikedistance"));var a=r("dragmode");a==="select"&&r("selectdirection");var n=p._has("mapbox"),u=p._has("geo"),s=p._basePlotModules.length;p.dragmode==="zoom"&&((n||u)&&s===1||n&&u&&s===2)&&(p.dragmode="pan"),S(v,p,r),y.coerceFont(r,"hoverlabel.grouptitlefont",p.hoverlabel.font)}},81976:function(U,B,e){var y=e(3400),L=e(16132),i=e(65460);U.exports=function(b,v){function p(r,t){return y.coerce(b,v,i,r,t)}L(b,v,p)}},12704:function(U,B,e){var y=e(3400),L=e(53756).counter,i=e(86968).u,S=e(33816).idRegex,b=e(31780),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[L("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[S.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[S.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:i({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function p(u,s,l){var m=s[l+"axes"],h=Object.keys((u._splomAxes||{})[l]||{});if(Array.isArray(m))return m;if(h.length)return h}function r(u,s){var l=u.grid||{},m=p(s,l,"x"),h=p(s,l,"y");if(!u.grid&&!m&&!h)return;var g=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),c=Array.isArray(m),o=Array.isArray(h),d=c&&m!==l.xaxes&&o&&h!==l.yaxes,w,A;g?(w=l.subplots.length,A=l.subplots[0].length):(o&&(w=h.length),c&&(A=m.length));var C=b.newContainer(s,"grid");function x(N,k){return y.coerce(l,C,v,N,k)}var E=x("rows",w),M=x("columns",A);if(!(E*M>1)){delete s.grid;return}if(!g&&!c&&!o){var f=x("pattern")==="independent";f&&(g=!0)}C._hasSubplotGrid=g;var P=x("roworder"),T=P==="top to bottom",z=g?.2:.1,_=g?.3:.1,V,F;d&&s._splomGridDflt&&(V=s._splomGridDflt.xside,F=s._splomGridDflt.yside),C._domains={x:t("x",x,z,V,M),y:t("y",x,_,F,E,T)}}function t(u,s,l,m,h,g){var c=s(u+"gap",l),o=s("domain."+u);s(u+"side",m);for(var d=new Array(h),w=o[0],A=(o[1]-w)/(h-c),C=A*(1-c),x=0;x<h;x++){var E=w+A*x;d[g?h-1-x:x]=[E,E+C]}return d}function a(u,s){var l=s.grid;if(!(!l||!l._domains)){var m=u.grid||{},h=s._subplots,g=l._hasSubplotGrid,c=l.rows,o=l.columns,d=l.pattern==="independent",w,A,C,x,E,M,f,P=l._axisMap={};if(g){var T=m.subplots||[];M=l.subplots=new Array(c);var z=1;for(w=0;w<c;w++){var _=M[w]=new Array(o),V=T[w]||[];for(A=0;A<o;A++)if(d?(E=z===1?"xy":"x"+z+"y"+z,z++):E=V[A],_[A]="",h.cartesian.indexOf(E)!==-1){if(f=E.indexOf("y"),C=E.slice(0,f),x=E.slice(f),P[C]!==void 0&&P[C]!==A||P[x]!==void 0&&P[x]!==w)continue;_[A]=E,P[C]=A,P[x]=w}}}else{var F=p(s,m,"x"),N=p(s,m,"y");l.xaxes=n(F,h.xaxis,o,P,"x"),l.yaxes=n(N,h.yaxis,c,P,"y")}var k=l._anchors={},I=l.roworder==="top to bottom";for(var H in P){var j=H.charAt(0),ee=l[j+"side"],te,ne,ue;if(ee.length<8)k[H]="free";else if(j==="x"){if(ee.charAt(0)==="t"===I?(te=0,ne=1,ue=c):(te=c-1,ne=-1,ue=-1),g){var q=P[H];for(w=te;w!==ue;w+=ne)if(E=M[w][q],!!E&&(f=E.indexOf("y"),E.slice(0,f)===H)){k[H]=E.slice(f);break}}else for(w=te;w!==ue;w+=ne)if(x=l.yaxes[w],h.cartesian.indexOf(H+x)!==-1){k[H]=x;break}}else if(ee.charAt(0)==="l"?(te=0,ne=1,ue=o):(te=o-1,ne=-1,ue=-1),g){var Y=P[H];for(w=te;w!==ue;w+=ne)if(E=M[Y][w],!!E&&(f=E.indexOf("y"),E.slice(f)===H)){k[H]=E.slice(0,f);break}}else for(w=te;w!==ue;w+=ne)if(C=l.xaxes[w],h.cartesian.indexOf(C+H)!==-1){k[H]=C;break}}}}function n(u,s,l,m,h){var g=new Array(l),c;function o(d,w){s.indexOf(w)!==-1&&m[w]===void 0?(g[d]=w,m[w]=d):g[d]=""}if(Array.isArray(u))for(c=0;c<l;c++)o(c,u[c]);else for(o(0,h),c=1;c<l;c++)o(c,h+(c+1));return g}U.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:r,contentDefaults:a}},65760:function(U,B,e){var y=e(33816),L=e(31780).templatedArray;e(36208),U.exports=L("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",y.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",y.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(U,B,e){var y=e(38248),L=e(36896);U.exports=function(S,b,v,p){b=b||{};var r=v==="log"&&b.type==="linear",t=v==="linear"&&b.type==="log";if(r||t){for(var a=S._fullLayout.images,n=b._id.charAt(0),u,s,l=0;l<a.length;l++)if(u=a[l],s="images["+l+"].",u[n+"ref"]===b._id){var m=u[n],h=u["size"+n],g=null,c=null;if(r){g=L(m,b.range);var o=h/Math.pow(10,g)/2;c=2*Math.log(o+Math.sqrt(1+o*o))/Math.LN10}else g=Math.pow(10,m),c=g*(Math.pow(10,h/2)-Math.pow(10,-h/2));y(g)?y(c)||(c=null):(g=null,c=null),p(s+n,g),p(s+"size"+n,c)}}}},25024:function(U,B,e){var y=e(3400),L=e(54460),i=e(51272),S=e(65760),b="images";U.exports=function(r,t){var a={name:b,handleItemDefaults:v};i(r,t,a)};function v(p,r,t){function a(o,d){return y.coerce(p,r,S,o,d)}var n=a("source"),u=a("visible",!!n);if(!u)return r;a("layer"),a("xanchor"),a("yanchor"),a("sizex"),a("sizey"),a("sizing"),a("opacity");for(var s={_fullLayout:t},l=["x","y"],m=0;m<2;m++){var h=l[m],g=L.coerceRef(p,r,s,h,"paper",void 0);if(g!=="paper"){var c=L.getFromId(s,g);c._imgIndices.push(r._index)}L.coercePosition(r,s,a,g,h,0)}return r}},60963:function(U,B,e){var y=e(33428),L=e(43616),i=e(54460),S=e(79811),b=e(9616);U.exports=function(p){var r=p._fullLayout,t=[],a={},n=[],u,s;for(s=0;s<r.images.length;s++){var l=r.images[s];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){u=S.ref2id(l.xref)+S.ref2id(l.yref);var m=r._plots[u];if(!m){n.push(l);continue}m.mainplot&&(u=m.mainplot.id),a[u]||(a[u]=[]),a[u].push(l)}else l.layer==="above"?t.push(l):n.push(l)}var h={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function g(x){var E=y.select(this);if(this._imgSrc!==x.source)if(E.attr("xmlns",b.svg),x.source&&x.source.slice(0,5)==="data:")E.attr("xlink:href",x.source),this._imgSrc=x.source;else{var M=new Promise((function(f){var P=new Image;this.img=P,P.setAttribute("crossOrigin","anonymous"),P.onerror=T,P.onload=function(){var z=document.createElement("canvas");z.width=this.width,z.height=this.height;var _=z.getContext("2d",{willReadFrequently:!0});_.drawImage(this,0,0);var V=z.toDataURL("image/png");E.attr("xlink:href",V),f()},E.on("error",T),P.src=x.source,this._imgSrc=x.source;function T(){E.remove(),f()}}).bind(this));p._promises.push(M)}}function c(x){var E=y.select(this),M=i.getFromId(p,x.xref),f=i.getFromId(p,x.yref),P=i.getRefType(x.xref)==="domain",T=i.getRefType(x.yref)==="domain",z=r._size,_,V;M!==void 0?_=typeof x.xref=="string"&&P?M._length*x.sizex:Math.abs(M.l2p(x.sizex)-M.l2p(0)):_=x.sizex*z.w,f!==void 0?V=typeof x.yref=="string"&&T?f._length*x.sizey:Math.abs(f.l2p(x.sizey)-f.l2p(0)):V=x.sizey*z.h;var F=_*h.x[x.xanchor].offset,N=V*h.y[x.yanchor].offset,k=h.x[x.xanchor].sizing+h.y[x.yanchor].sizing,I,H;switch(M!==void 0?I=typeof x.xref=="string"&&P?M._length*x.x+M._offset:M.r2p(x.x)+M._offset:I=x.x*z.w+z.l,I+=F,f!==void 0?H=typeof x.yref=="string"&&T?f._length*(1-x.y)+f._offset:f.r2p(x.y)+f._offset:H=z.h-x.y*z.h+z.t,H+=N,x.sizing){case"fill":k+=" slice";break;case"stretch":k="none";break}E.attr({x:I,y:H,width:_,height:V,preserveAspectRatio:k,opacity:x.opacity});var j=M&&i.getRefType(x.xref)!=="domain"?M._id:"",ee=f&&i.getRefType(x.yref)!=="domain"?f._id:"",te=j+ee;L.setClipUrl(E,te?"clip"+r._uid+te:null,p)}var o=r._imageLowerLayer.selectAll("image").data(n),d=r._imageUpperLayer.selectAll("image").data(t);o.enter().append("image"),d.enter().append("image"),o.exit().remove(),d.exit().remove(),o.each(function(x){g.bind(this)(x),c.bind(this)(x)}),d.each(function(x){g.bind(this)(x),c.bind(this)(x)});var w=Object.keys(r._plots);for(s=0;s<w.length;s++){u=w[s];var A=r._plots[u];if(A.imagelayer){var C=A.imagelayer.selectAll("image").data(a[u]||[]);C.enter().append("image"),C.exit().remove(),C.each(function(x){g.bind(this)(x),c.bind(this)(x)})}}}},7402:function(U,B,e){U.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(U,B,e){var y=e(25376),L=e(22548);U.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:L.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:y({editType:"legend"}),grouptitlefont:y({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:y({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(U){U.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(U,B,e){var y=e(24040),L=e(3400),i=e(31780),S=e(45464),b=e(3800),v=e(64859),p=e(42451);function r(t,a,n,u){var s=a[t]||{},l=i.newContainer(n,t);function m(ue,q){return L.coerce(s,l,b,ue,q)}var h=L.coerceFont(m,"font",n.font);m("bgcolor",n.paper_bgcolor),m("bordercolor");var g=m("visible");if(g){for(var c,o=function(ue,q){var Y=c._input,Z=c;return L.coerce(Y,Z,S,ue,q)},d=n.font||{},w=L.coerceFont(m,"grouptitlefont",L.extendFlat({},d,{size:Math.round(d.size*1.1)})),A=0,C=!1,x="normal",E=(n.shapes||[]).filter(function(ue){return ue.showlegend}),M=u.concat(E).filter(function(ue){return t===(ue.legend||"legend")}),f=0;f<M.length;f++)if(c=M[f],!!c.visible){var P=c._isShape;(c.showlegend||c._dfltShowLegend&&!(c._module&&c._module.attributes&&c._module.attributes.showlegend&&c._module.attributes.showlegend.dflt===!1))&&(A++,c.showlegend&&(C=!0,(!P&&y.traceIs(c,"pie-like")||c._input.showlegend===!0)&&A++),L.coerceFont(o,"legendgrouptitle.font",w)),(!P&&y.traceIs(c,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(c.fill)!==-1)&&(x=p.isGrouped({traceorder:x})?"grouped+reversed":"reversed"),c.legendgroup!==void 0&&c.legendgroup!==""&&(x=p.isReversed({traceorder:x})?"reversed+grouped":"grouped")}var T=L.coerce(a,n,v,"showlegend",C&&A>(t==="legend"?1:0));if(T===!1&&(n[t]=void 0),!(T===!1&&!s.uirevision)&&(m("uirevision",n.uirevision),T!==!1)){m("borderwidth");var z=m("orientation"),_=m("yref"),V=m("xref"),F=z==="h",N=_==="paper",k=V==="paper",I,H,j,ee="left";F?(I=0,y.getComponentMethod("rangeslider","isVisible")(a.xaxis)?N?(H=1.1,j="bottom"):(H=1,j="top"):N?(H=-.1,j="top"):(H=0,j="bottom")):(H=1,j="auto",k?I=1.02:(I=1,ee="right")),L.coerce(s,l,{x:{valType:"number",editType:"legend",min:k?-2:0,max:k?3:1,dflt:I}},"x"),L.coerce(s,l,{y:{valType:"number",editType:"legend",min:N?-2:0,max:N?3:1,dflt:H}},"y"),m("traceorder",x),p.isGrouped(n[t])&&m("tracegroupgap"),m("entrywidth"),m("entrywidthmode"),m("indentation"),m("itemsizing"),m("itemwidth"),m("itemclick"),m("itemdoubleclick"),m("groupclick"),m("xanchor",ee),m("yanchor",j),m("valign"),L.noneOrAll(s,l,["x","y"]);var te=m("title.text");if(te){m("title.side",F?"left":"top");var ne=L.extendFlat({},h,{size:L.bigFont(h.size)});L.coerceFont(m,"title.font",ne)}}}}U.exports=function(a,n,u){var s,l=u.slice(),m=n.shapes;if(m)for(s=0;s<m.length;s++){var h=m[s];if(h.showlegend){var g={_input:h._input,visible:h.visible,showlegend:h.showlegend,legend:h.legend};l.push(g)}}var c=["legend"];for(s=0;s<l.length;s++)L.pushUnique(c,l[s].legend);for(n._legends=[],s=0;s<c.length;s++){var o=c[s];r(o,a,n,l),n[o]&&n[o].visible&&(n[o]._id=o),n._legends.push(o)}}},31140:function(U,B,e){var y=e(33428),L=e(3400),i=e(7316),S=e(24040),b=e(95924),v=e(86476),p=e(43616),r=e(76308),t=e(72736),a=e(33048),n=e(65196),u=e(84284),s=u.LINE_SPACING,l=u.FROM_TL,m=u.FROM_BR,h=e(35456),g=e(2012),c=e(42451),o=1,d=/^legend[0-9]*$/;U.exports=function(H,j){if(j)A(H,j);else{var ee=H._fullLayout,te=ee._legends,ne=ee._infolayer.selectAll('[class^="legend"]');ne.each(function(){var Z=y.select(this),G=Z.attr("class"),K=G.split(" ")[0];K.match(d)&&te.indexOf(K)===-1&&Z.remove()});for(var ue=0;ue<te.length;ue++){var q=te[ue],Y=H._fullLayout[q];A(H,Y)}}};function w(I,H,j){if(!(H.title.side!=="top center"&&H.title.side!=="top right")){var ee=H.title.font,te=ee.size*s,ne=0,ue=I.node(),q=p.bBox(ue).width;H.title.side==="top center"?ne=.5*(H._width-2*j-2*n.titlePad-q):H.title.side==="top right"&&(ne=H._width-2*j-2*n.titlePad-q),t.positionText(I,j+n.titlePad+ne,j+te)}}function A(I,H){var j=H||{},ee=I._fullLayout,te=k(j),ne,ue,q=j._inHover;if(q?(ue=j.layer,ne="hover"):(ue=ee._infolayer,ne=te),!!ue){ne+=ee._uid,I._legendMouseDownTime||(I._legendMouseDownTime=0);var Y;if(q){if(!j.entries)return;Y=h(j.entries,j)}else{for(var Z=(I.calcdata||[]).slice(),G=ee.shapes,K=0;K<G.length;K++){var oe=G[K];if(oe.showlegend){var $={_isShape:!0,_fullInput:oe,index:oe._index,name:oe.name||oe.label.text||"shape "+oe._index,legend:oe.legend,legendgroup:oe.legendgroup,legendgrouptitle:oe.legendgrouptitle,legendrank:oe.legendrank,legendwidth:oe.legendwidth,showlegend:oe.showlegend,visible:oe.visible,opacity:oe.opacity,mode:oe.type==="line"?"lines":"markers",line:oe.line,marker:{line:oe.line,color:oe.fillcolor,size:12,symbol:oe.type==="rect"?"square":oe.type==="circle"?"circle":"hexagon2"}};Z.push([{trace:$}])}}Y=ee.showlegend&&h(Z,j,ee._legends.length>1)}var J=ee.hiddenlabels||[];if(!q&&(!ee.showlegend||!Y.length))return ue.selectAll("."+te).remove(),ee._topdefs.select("#"+ne).remove(),i.autoMargin(I,te);var se=L.ensureSingle(ue,"g",te,function(xe){q||xe.attr("pointer-events","all")}),ie=L.ensureSingleById(ee._topdefs,"clipPath",ne,function(xe){xe.append("rect")}),ce=L.ensureSingle(se,"rect","bg",function(xe){xe.attr("shape-rendering","crispEdges")});ce.call(r.stroke,j.bordercolor).call(r.fill,j.bgcolor).style("stroke-width",j.borderwidth+"px");var ye=L.ensureSingle(se,"g","scrollbox"),Se=j.title;j._titleWidth=0,j._titleHeight=0;var Te;Se.text?(Te=L.ensureSingle(ye,"text",te+"titletext"),Te.attr("text-anchor","start").call(p.font,Se.font).text(Se.text),P(Te,ye,I,j,o)):ye.selectAll("."+te+"titletext").remove();var ke=L.ensureSingle(se,"rect","scrollbar",function(xe){xe.attr(n.scrollBarEnterAttrs).call(r.fill,n.scrollBarColor)}),we=ye.selectAll("g.groups").data(Y);we.enter().append("g").attr("class","groups"),we.exit().remove();var Ee=we.selectAll("g.traces").data(L.identity);Ee.enter().append("g").attr("class","traces"),Ee.exit().remove(),Ee.style("opacity",function(xe){var De=xe[0].trace;return S.traceIs(De,"pie-like")?J.indexOf(xe[0].label)!==-1?.5:1:De.visible==="legendonly"?.5:1}).each(function(){y.select(this).call(E,I,j)}).call(g,I,j).each(function(){q||y.select(this).call(f,I,te)}),L.syncOrAsync([i.previousPromises,function(){return _(I,we,Ee,j)},function(){var xe=ee._size,De=j.borderwidth,Ve=j.xref==="paper",Ue=j.yref==="paper";if(Se.text&&w(Te,j,De),!q){var Be,Xe;Ve?Be=xe.l+xe.w*j.x-l[F(j)]*j._width:Be=ee.width*j.x-l[F(j)]*j._width,Ue?Xe=xe.t+xe.h*(1-j.y)-l[N(j)]*j._effHeight:Xe=ee.height*(1-j.y)-l[N(j)]*j._effHeight;var ot=V(I,te,Be,Xe);if(ot)return;if(ee.margin.autoexpand){var ut=Be,et=Xe;Be=Ve?L.constrain(Be,0,ee.width-j._width):ut,Xe=Ue?L.constrain(Xe,0,ee.height-j._effHeight):et,Be!==ut&&L.log("Constrain "+te+".x to make legend fit inside graph"),Xe!==et&&L.log("Constrain "+te+".y to make legend fit inside graph")}p.setTranslate(se,Be,Xe)}if(ke.on(".drag",null),se.on("wheel",null),q||j._height<=j._maxHeight||I._context.staticPlot){var qe=j._effHeight;q&&(qe=j._height),ce.attr({width:j._width-De,height:qe-De,x:De/2,y:De/2}),p.setTranslate(ye,0,0),ie.select("rect").attr({width:j._width-2*De,height:qe-2*De,x:De,y:De}),p.setClipUrl(ye,ne,I),p.setRect(ke,0,0,0,0),delete j._scrollY}else{var ft=Math.max(n.scrollBarMinHeight,j._effHeight*j._effHeight/j._height),ht=j._effHeight-ft-2*n.scrollBarMargin,dt=j._height-j._effHeight,mt=ht/dt,St=Math.min(j._scrollY||0,dt);ce.attr({width:j._width-2*De+n.scrollBarWidth+n.scrollBarMargin,height:j._effHeight-De,x:De/2,y:De/2}),ie.select("rect").attr({width:j._width-2*De+n.scrollBarWidth+n.scrollBarMargin,height:j._effHeight-2*De,x:De,y:De+St}),p.setClipUrl(ye,ne,I),me(St,ft,mt),se.on("wheel",function(){St=L.constrain(j._scrollY+y.event.deltaY/ht*dt,0,dt),me(St,ft,mt),St!==0&&St!==dt&&y.event.preventDefault()});var rt,Oe,Ye,Ze=function(tt,ct,pt){var Xt=(pt-ct)/mt+tt;return L.constrain(Xt,0,dt)},Ge=function(tt,ct,pt){var Xt=(ct-pt)/mt+tt;return L.constrain(Xt,0,dt)},_e=y.behavior.drag().on("dragstart",function(){var tt=y.event.sourceEvent;tt.type==="touchstart"?rt=tt.changedTouches[0].clientY:rt=tt.clientY,Ye=St}).on("drag",function(){var tt=y.event.sourceEvent;tt.buttons===2||tt.ctrlKey||(tt.type==="touchmove"?Oe=tt.changedTouches[0].clientY:Oe=tt.clientY,St=Ze(Ye,rt,Oe),me(St,ft,mt))});ke.call(_e);var be=y.behavior.drag().on("dragstart",function(){var tt=y.event.sourceEvent;tt.type==="touchstart"&&(rt=tt.changedTouches[0].clientY,Ye=St)}).on("drag",function(){var tt=y.event.sourceEvent;tt.type==="touchmove"&&(Oe=tt.changedTouches[0].clientY,St=Ge(Ye,rt,Oe),me(St,ft,mt))});ye.call(be)}function me(tt,ct,pt){j._scrollY=I._fullLayout[te]._scrollY=tt,p.setTranslate(ye,0,-tt),p.setRect(ke,j._width,n.scrollBarMargin+tt*pt,n.scrollBarWidth,ct),ie.select("rect").attr("y",De+tt)}if(I._context.edits.legendPosition){var Ce,Me,Ne,je;se.classed("cursor-move",!0),v.init({element:se.node(),gd:I,prepFn:function(){var tt=p.getTranslate(se);Ne=tt.x,je=tt.y},moveFn:function(tt,ct){var pt=Ne+tt,Xt=je+ct;p.setTranslate(se,pt,Xt),Ce=v.align(pt,j._width,xe.l,xe.l+xe.w,j.xanchor),Me=v.align(Xt+j._height,-j._height,xe.t+xe.h,xe.t,j.yanchor)},doneFn:function(){if(Ce!==void 0&&Me!==void 0){var tt={};tt[te+".x"]=Ce,tt[te+".y"]=Me,S.call("_guiRelayout",I,tt)}},clickFn:function(tt,ct){var pt=ue.selectAll("g.traces").filter(function(){var Xt=this.getBoundingClientRect();return ct.clientX>=Xt.left&&ct.clientX<=Xt.right&&ct.clientY>=Xt.top&&ct.clientY<=Xt.bottom});pt.size()>0&&x(I,se,pt,tt,ct)}})}}],I)}}function C(I,H,j){var ee=I[0],te=ee.width,ne=H.entrywidthmode,ue=ee.trace.legendwidth||H.entrywidth;return ne==="fraction"?H._maxWidth*ue:j+(ue||te)}function x(I,H,j,ee,te){var ne=j.data()[0][0].trace,ue={event:te,node:j.node(),curveNumber:ne.index,expandedIndex:ne._expandedIndex,data:I.data,layout:I.layout,frames:I._transitionData._frames,config:I._context,fullData:I._fullData,fullLayout:I._fullLayout};ne._group&&(ue.group=ne._group),S.traceIs(ne,"pie-like")&&(ue.label=j.datum()[0].label);var q=b.triggerHandler(I,"plotly_legendclick",ue);if(ee===1){if(q===!1)return;H._clickTimeout=setTimeout(function(){I._fullLayout&&a(j,I,ee)},I._context.doubleClickDelay)}else if(ee===2){H._clickTimeout&&clearTimeout(H._clickTimeout),I._legendMouseDownTime=0;var Y=b.triggerHandler(I,"plotly_legenddoubleclick",ue);Y!==!1&&q!==!1&&a(j,I,ee)}}function E(I,H,j){var ee=k(j),te=I.data()[0][0],ne=te.trace,ue=S.traceIs(ne,"pie-like"),q=!j._inHover&&H._context.edits.legendText&&!ue,Y=j._maxNameLength,Z,G;te.groupTitle?(Z=te.groupTitle.text,G=te.groupTitle.font):(G=j.font,j.entries?Z=te.text:(Z=ue?te.label:ne.name,ne._meta&&(Z=L.templateString(Z,ne._meta))));var K=L.ensureSingle(I,"text",ee+"text");K.attr("text-anchor","start").call(p.font,G).text(q?M(Z,Y):Z);var oe=j.indentation+j.itemwidth+n.itemGap*2;t.positionText(K,oe,0),q?K.call(t.makeEditable,{gd:H,text:Z}).call(P,I,H,j).on("edit",function($){this.text(M($,Y)).call(P,I,H,j);var J=te.trace._fullInput||{},se={};if(S.hasTransform(J,"groupby")){var ie=S.getTransformIndices(J,"groupby"),ce=ie[ie.length-1],ye=L.keyedContainer(J,"transforms["+ce+"].styles","target","value.name");ye.set(te.trace._group,$),se=ye.constructUpdate()}else se.name=$;return J._isShape?S.call("_guiRelayout",H,"shapes["+ne.index+"].name",se.name):S.call("_guiRestyle",H,se,ne.index)}):P(K,I,H,j)}function M(I,H){var j=Math.max(4,H);if(I&&I.trim().length>=j/2)return I;I=I||"";for(var ee=j-I.length;ee>0;ee--)I+=" ";return I}function f(I,H,j){var ee=H._context.doubleClickDelay,te,ne=1,ue=L.ensureSingle(I,"rect",j+"toggle",function(q){H._context.staticPlot||q.style("cursor","pointer").attr("pointer-events","all"),q.call(r.fill,"rgba(0,0,0,0)")});H._context.staticPlot||(ue.on("mousedown",function(){te=new Date().getTime(),te-H._legendMouseDownTime<ee?ne+=1:(ne=1,H._legendMouseDownTime=te)}),ue.on("mouseup",function(){if(!(H._dragged||H._editing)){var q=H._fullLayout[j];new Date().getTime()-H._legendMouseDownTime>ee&&(ne=Math.max(ne-1,1)),x(H,q,I,ne,y.event)}}))}function P(I,H,j,ee,te){ee._inHover&&I.attr("data-notex",!0),t.convertToTspans(I,j,function(){T(H,j,ee,te)})}function T(I,H,j,ee){var te=I.data()[0][0];if(!j._inHover&&te&&!te.trace.showlegend){I.remove();return}var ne=I.select("g[class*=math-group]"),ue=ne.node(),q=k(j);j||(j=H._fullLayout[q]);var Y=j.borderwidth,Z;ee===o?Z=j.title.font:te.groupTitle?Z=te.groupTitle.font:Z=j.font;var G=Z.size*s,K,oe;if(ue){var $=p.bBox(ue);K=$.height,oe=$.width,ee===o?p.setTranslate(ne,Y,Y+K*.75):p.setTranslate(ne,0,K*.25)}else{var J="."+q+(ee===o?"title":"")+"text",se=I.select(J),ie=t.lineCount(se),ce=se.node();if(K=G*ie,oe=ce?p.bBox(ce).width:0,ee===o)j.title.side==="left"&&(oe+=n.itemGap*2),t.positionText(se,Y+n.titlePad,Y+G);else{var ye=n.itemGap*2+j.indentation+j.itemwidth;te.groupTitle&&(ye=n.itemGap,oe-=j.indentation+j.itemwidth),t.positionText(se,ye,-G*((ie-1)/2-.3))}}ee===o?(j._titleWidth=oe,j._titleHeight=K):(te.lineHeight=G,te.height=Math.max(K,16)+3,te.width=oe)}function z(I){var H=0,j=0,ee=I.title.side;return ee&&(ee.indexOf("left")!==-1&&(H=I._titleWidth),ee.indexOf("top")!==-1&&(j=I._titleHeight)),[H,j]}function _(I,H,j,ee){var te=I._fullLayout,ne=k(ee);ee||(ee=te[ne]);var ue=te._size,q=c.isVertical(ee),Y=c.isGrouped(ee),Z=ee.entrywidthmode==="fraction",G=ee.borderwidth,K=2*G,oe=n.itemGap,$=ee.indentation+ee.itemwidth+oe*2,J=2*(G+oe),se=N(ee),ie=ee.y<0||ee.y===0&&se==="top",ce=ee.y>1||ee.y===1&&se==="bottom",ye=ee.tracegroupgap,Se={};ee._maxHeight=Math.max(ie||ce?te.height/2:ue.h,30);var Te=0;ee._width=0,ee._height=0;var ke=z(ee);if(q)j.each(function(Ye){var Ze=Ye[0].height;p.setTranslate(this,G+ke[0],G+ke[1]+ee._height+Ze/2+oe),ee._height+=Ze,ee._width=Math.max(ee._width,Ye[0].width)}),Te=$+ee._width,ee._width+=oe+$+K,ee._height+=J,Y&&(H.each(function(Ye,Ze){p.setTranslate(this,0,Ze*ee.tracegroupgap)}),ee._height+=(ee._lgroupsLength-1)*ee.tracegroupgap);else{var we=F(ee),Ee=ee.x<0||ee.x===0&&we==="right",xe=ee.x>1||ee.x===1&&we==="left",De=ce||ie,Ve=te.width/2;ee._maxWidth=Math.max(Ee?De&&we==="left"?ue.l+ue.w:Ve:xe?De&&we==="right"?ue.r+ue.w:Ve:ue.w,2*$);var Ue=0,Be=0;j.each(function(Ye){var Ze=C(Ye,ee,$);Ue=Math.max(Ue,Ze),Be+=Ze}),Te=null;var Xe=0;if(Y){var ot=0,ut=0,et=0;H.each(function(){var Ye=0,Ze=0;y.select(this).selectAll("g.traces").each(function(_e){var be=C(_e,ee,$),me=_e[0].height;p.setTranslate(this,ke[0],ke[1]+G+oe+me/2+Ze),Ze+=me,Ye=Math.max(Ye,be),Se[_e[0].trace.legendgroup]=Ye});var Ge=Ye+oe;ut>0&&Ge+G+ut>ee._maxWidth?(Xe=Math.max(Xe,ut),ut=0,et+=ot+ye,ot=Ze):ot=Math.max(ot,Ze),p.setTranslate(this,ut,et),ut+=Ge}),ee._width=Math.max(Xe,ut)+G,ee._height=et+ot+J}else{var qe=j.size(),ft=Be+K+(qe-1)*oe<ee._maxWidth,ht=0,dt=0,mt=0,St=0;j.each(function(Ye){var Ze=Ye[0].height,Ge=C(Ye,ee,$),_e=ft?Ge:Ue;Z||(_e+=oe),_e+G+dt-oe>=ee._maxWidth&&(Xe=Math.max(Xe,St),dt=0,mt+=ht,ee._height+=ht,ht=0),p.setTranslate(this,ke[0]+G+dt,ke[1]+G+mt+Ze/2+oe),St=dt+Ge+oe,dt+=_e,ht=Math.max(ht,Ze)}),ft?(ee._width=dt+K,ee._height=ht+J):(ee._width=Math.max(Xe,St)+K,ee._height+=ht+J)}}ee._width=Math.ceil(Math.max(ee._width+ke[0],ee._titleWidth+2*(G+n.titlePad))),ee._height=Math.ceil(Math.max(ee._height+ke[1],ee._titleHeight+2*(G+n.itemGap))),ee._effHeight=Math.min(ee._height,ee._maxHeight);var rt=I._context.edits,Oe=rt.legendText||rt.legendPosition;j.each(function(Ye){var Ze=y.select(this).select("."+ne+"toggle"),Ge=Ye[0].height,_e=Ye[0].trace.legendgroup,be=C(Ye,ee,$);Y&&_e!==""&&(be=Se[_e]);var me=Oe?$:Te||be;!q&&!Z&&(me+=oe/2),p.setRect(Ze,0,-Ge/2,me,Ge)})}function V(I,H,j,ee){var te=I._fullLayout,ne=te[H],ue=F(ne),q=N(ne),Y=ne.xref==="paper",Z=ne.yref==="paper";I._fullLayout._reservedMargin[H]={};var G=ne.y<.5?"b":"t",K=ne.x<.5?"l":"r",oe={r:te.width-j,l:j+ne._width,b:te.height-ee,t:ee+ne._effHeight};if(Y&&Z)return i.autoMargin(I,H,{x:ne.x,y:ne.y,l:ne._width*l[ue],r:ne._width*m[ue],b:ne._effHeight*m[q],t:ne._effHeight*l[q]});Y?I._fullLayout._reservedMargin[H][G]=oe[G]:Z||ne.orientation==="v"?I._fullLayout._reservedMargin[H][K]=oe[K]:I._fullLayout._reservedMargin[H][G]=oe[G]}function F(I){return L.isRightAnchor(I)?"right":L.isCenterAnchor(I)?"center":"left"}function N(I){return L.isBottomAnchor(I)?"bottom":L.isMiddleAnchor(I)?"middle":"top"}function k(I){return I._id||"legend"}},35456:function(U,B,e){var y=e(24040),L=e(42451);U.exports=function(S,b,v){var p=b._inHover,r=L.isGrouped(b),t=L.isReversed(b),a={},n=[],u=!1,s={},l=0,m=0,h,g;function c(I,H,j){if(b.visible!==!1&&!(v&&I!==b._id))if(H===""||!L.isGrouped(b)){var ee="~~i"+l;n.push(ee),a[ee]=[j],l++}else n.indexOf(H)===-1?(n.push(H),u=!0,a[H]=[j]):a[H].push(j)}for(h=0;h<S.length;h++){var o=S[h],d=o[0],w=d.trace,A=w.legend,C=w.legendgroup;if(!(!p&&(!w.visible||!w.showlegend)))if(y.traceIs(w,"pie-like"))for(s[C]||(s[C]={}),g=0;g<o.length;g++){var x=o[g].label;s[C][x]||(c(A,C,{label:x,color:o[g].color,i:o[g].i,trace:w,pts:o[g].pts}),s[C][x]=!0,m=Math.max(m,(x||"").length))}else c(A,C,d),m=Math.max(m,(w.name||"").length)}if(!n.length)return[];var E=!u||!r,M=[];for(h=0;h<n.length;h++){var f=a[n[h]];E?M.push(f[0]):M.push(f)}for(E&&(M=[M]),h=0;h<M.length;h++){var P=1/0;for(g=0;g<M[h].length;g++){var T=M[h][g].trace.legendrank;P>T&&(P=T)}M[h][0]._groupMinRank=P,M[h][0]._preGroupSort=h}var z=function(I,H){return I[0]._groupMinRank-H[0]._groupMinRank||I[0]._preGroupSort-H[0]._preGroupSort},_=function(I,H){return I.trace.legendrank-H.trace.legendrank||I._preSort-H._preSort};for(M.forEach(function(I,H){I[0]._preGroupSort=H}),M.sort(z),h=0;h<M.length;h++){M[h].forEach(function(I,H){I._preSort=H}),M[h].sort(_);var V=M[h][0].trace,F=null;for(g=0;g<M[h].length;g++){var N=M[h][g].trace.legendgrouptitle;if(N&&N.text){F=N,p&&(N.font=b._groupTitleFont);break}}if(t&&M[h].reverse(),F){var k=!1;for(g=0;g<M[h].length;g++)if(y.traceIs(M[h][g].trace,"pie-like")){k=!0;break}M[h].unshift({i:-1,groupTitle:F,noClick:k,trace:{showlegend:V.showlegend,legendgroup:V.legendgroup,visible:b.groupclick==="toggleitem"?!0:V.visible}})}for(g=0;g<M[h].length;g++)M[h][g]=[M[h][g]]}return b._lgroupsLength=M.length,b._maxNameLength=m,M}},33048:function(U,B,e){var y=e(24040),L=e(3400),i=L.pushUnique,S=!0;U.exports=function(v,p,r){var t=p._fullLayout;if(p._dragged||p._editing)return;var a=t.legend.itemclick,n=t.legend.itemdoubleclick,u=t.legend.groupclick;r===1&&a==="toggle"&&n==="toggleothers"&&S&&p.data&&p._context.showTips&&L.notifier(L._(p,"Double-click on legend to isolate one trace"),"long"),S=!1;var s;if(r===1?s=a:r===2&&(s=n),!s)return;var l=u==="togglegroup",m=t.hiddenlabels?t.hiddenlabels.slice():[],h=v.data()[0][0];if(h.groupTitle&&h.noClick)return;var g=p._fullData,c=(t.shapes||[]).filter(function(Ve){return Ve.showlegend}),o=g.concat(c),d=h.trace;d._isShape&&(d=d._fullInput);var w=d.legendgroup,A,C,x,E,M,f,P={},T=[],z=[],_=[];function V(Ve,Ue){var Be=T.indexOf(Ve),Xe=P.visible;return Xe||(Xe=P.visible=[]),T.indexOf(Ve)===-1&&(T.push(Ve),Be=T.length-1),Xe[Be]=Ue,Be}var F=(t.shapes||[]).map(function(Ve){return Ve._input}),N=!1;function k(Ve,Ue){F[Ve].visible=Ue,N=!0}function I(Ve,Ue){if(!(h.groupTitle&&!l)){var Be=Ve._fullInput||Ve,Xe=Be._isShape,ot=Be.index;if(ot===void 0&&(ot=Be._index),y.hasTransform(Be,"groupby")){var ut=z[ot];if(!ut){var et=y.getTransformIndices(Be,"groupby"),qe=et[et.length-1];ut=L.keyedContainer(Be,"transforms["+qe+"].styles","target","value.visible"),z[ot]=ut}var ft=ut.get(Ve._group);ft===void 0&&(ft=!0),ft!==!1&&ut.set(Ve._group,Ue),_[ot]=V(ot,Be.visible!==!1)}else{var ht=Be.visible===!1?!1:Ue;Xe?k(ot,ht):V(ot,ht)}}}var H=d.legend,j=d._fullInput,ee=j&&j._isShape;if(!ee&&y.traceIs(d,"pie-like")){var te=h.label,ne=m.indexOf(te);if(s==="toggle")ne===-1?m.push(te):m.splice(ne,1);else if(s==="toggleothers"){var ue=ne!==-1,q=[];for(A=0;A<p.calcdata.length;A++){var Y=p.calcdata[A];for(C=0;C<Y.length;C++){var Z=Y[C],G=Z.label;H===Y[0].trace.legend&&te!==G&&(m.indexOf(G)===-1&&(ue=!0),i(m,G),q.push(G))}}if(!ue)for(var K=0;K<q.length;K++){var oe=m.indexOf(q[K]);oe!==-1&&m.splice(oe,1)}}y.call("_guiRelayout",p,"hiddenlabels",m)}else{var $=w&&w.length,J=[],se;if($)for(A=0;A<o.length;A++)se=o[A],se.visible&&se.legendgroup===w&&J.push(A);if(s==="toggle"){var ie;switch(d.visible){case!0:ie="legendonly";break;case!1:ie=!1;break;case"legendonly":ie=!0;break}if($)if(l)for(A=0;A<o.length;A++){var ce=o[A];ce.visible!==!1&&ce.legendgroup===w&&I(ce,ie)}else I(d,ie);else I(d,ie)}else if(s==="toggleothers"){var ye,Se,Te,ke,we,Ee=!0;for(A=0;A<o.length;A++)if(we=o[A],ye=we===d,Te=we.showlegend!==!0,!(ye||Te)&&(Se=$&&we.legendgroup===w,!Se&&we.legend===H&&we.visible===!0&&!y.traceIs(we,"notLegendIsolatable"))){Ee=!1;break}for(A=0;A<o.length;A++)if(we=o[A],!(we.visible===!1||we.legend!==H)&&!y.traceIs(we,"notLegendIsolatable"))switch(d.visible){case"legendonly":I(we,!0);break;case!0:ke=Ee?!0:"legendonly",ye=we===d,Te=we.showlegend!==!0&&!we.legendgroup,Se=ye||$&&we.legendgroup===w,I(we,Se||Te?!0:ke);break}}for(A=0;A<z.length;A++)if(x=z[A],!!x){var xe=x.constructUpdate(),De=Object.keys(xe);for(C=0;C<De.length;C++)E=De[C],f=P[E]=P[E]||[],f[_[A]]=xe[E]}for(M=Object.keys(P),A=0;A<M.length;A++)for(E=M[A],C=0;C<T.length;C++)P[E].hasOwnProperty(C)||(P[E][C]=void 0);N?y.call("_guiUpdate",p,P,{shapes:F},T):y.call("_guiRestyle",p,P,T)}}},42451:function(U,B){B.isGrouped=function(y){return(y.traceorder||"").indexOf("grouped")!==-1},B.isVertical=function(y){return y.orientation!=="h"},B.isReversed=function(y){return(y.traceorder||"").indexOf("reversed")!==-1}},2780:function(U,B,e){U.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(U,B,e){var y=e(33428),L=e(24040),i=e(3400),S=i.strTranslate,b=e(43616),v=e(76308),p=e(94288).extractOpts,r=e(43028),t=e(10528),a=e(69656).castOption,n=e(65196),u=12,s=5,l=2,m=10,h=5;U.exports=function(w,A,C){var x=A._fullLayout;C||(C=x.legend);var E=C.itemsizing==="constant",M=C.itemwidth,f=(M+n.itemGap*2)/2,P=S(f,0),T=function(q,Y,Z,G){var K;if(q+1)K=q;else if(Y&&Y.width>0)K=Y.width;else return 0;return E?G:Math.min(K,Z)};w.each(function(q){var Y=y.select(this),Z=i.ensureSingle(Y,"g","layers");Z.style("opacity",q[0].trace.opacity);var G=C.indentation,K=C.valign,oe=q[0].lineHeight,$=q[0].height;if(K==="middle"&&G===0||!oe||!$)Z.attr("transform",null);else{var J={top:1,bottom:-1}[K],se=J*(.5*(oe-$+3))||0,ie=C.indentation;Z.attr("transform",S(ie,se))}var ce=Z.selectAll("g.legendfill").data([q]);ce.enter().append("g").classed("legendfill",!0);var ye=Z.selectAll("g.legendlines").data([q]);ye.enter().append("g").classed("legendlines",!0);var Se=Z.selectAll("g.legendsymbols").data([q]);Se.enter().append("g").classed("legendsymbols",!0),Se.selectAll("g.legendpoints").data([q]).enter().append("g").classed("legendpoints",!0)}).each(ue).each(V).each(N).each(F).each(I).each(te).each(ee).each(z).each(_).each(H).each(j);function z(q){var Y=c(q),Z=Y.showFill,G=Y.showLine,K=Y.showGradientLine,oe=Y.showGradientFill,$=Y.anyFill,J=Y.anyLine,se=q[0],ie=se.trace,ce,ye,Se=p(ie),Te=Se.colorscale,ke=Se.reversescale,we=function(Xe){if(Xe.size())if(Z)b.fillGroupStyle(Xe,A,!0);else{var ot="legendfill-"+ie.uid;b.gradient(Xe,A,ot,g(ke),Te,"fill")}},Ee=function(Xe){if(Xe.size()){var ot="legendline-"+ie.uid;b.lineGroupStyle(Xe),b.gradient(Xe,A,ot,g(ke),Te,"stroke")}},xe=r.hasMarkers(ie)||!$?"M5,0":J?"M5,-2":"M5,-3",De=y.select(this),Ve=De.select(".legendfill").selectAll("path").data(Z||oe?[q]:[]);if(Ve.enter().append("path").classed("js-fill",!0),Ve.exit().remove(),Ve.attr("d",xe+"h"+M+"v6h-"+M+"z").call(we),G||K){var Ue=T(void 0,ie.line,m,s);ye=i.minExtend(ie,{line:{width:Ue}}),ce=[i.minExtend(se,{trace:ye})]}var Be=De.select(".legendlines").selectAll("path").data(G||K?[ce]:[]);Be.enter().append("path").classed("js-line",!0),Be.exit().remove(),Be.attr("d",xe+(K?"l"+M+",0.0001":"h"+M)).call(G?b.lineGroupStyle:Ee)}function _(q){var Y=c(q),Z=Y.anyFill,G=Y.anyLine,K=Y.showLine,oe=Y.showMarker,$=q[0],J=$.trace,se=!oe&&!G&&!Z&&r.hasText(J),ie,ce;function ye(Ve,Ue,Be,Xe){var ot=i.nestedProperty(J,Ve).get(),ut=i.isArrayOrTypedArray(ot)&&Ue?Ue(ot):ot;if(E&&ut&&Xe!==void 0&&(ut=Xe),Be){if(ut<Be[0])return Be[0];if(ut>Be[1])return Be[1]}return ut}function Se(Ve){return $._distinct&&$.index&&Ve[$.index]?Ve[$.index]:Ve[0]}if(oe||se||K){var Te={},ke={};if(oe){Te.mc=ye("marker.color",Se),Te.mx=ye("marker.symbol",Se),Te.mo=ye("marker.opacity",i.mean,[.2,1]),Te.mlc=ye("marker.line.color",Se),Te.mlw=ye("marker.line.width",i.mean,[0,5],l),ke.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var we=ye("marker.size",i.mean,[2,16],u);Te.ms=we,ke.marker.size=we}K&&(ke.line={width:ye("line.width",Se,[0,10],s)}),se&&(Te.tx="Aa",Te.tp=ye("textposition",Se),Te.ts=10,Te.tc=ye("textfont.color",Se),Te.tf=ye("textfont.family",Se)),ie=[i.minExtend($,Te)],ce=i.minExtend(J,ke),ce.selectedpoints=null,ce.texttemplate=null}var Ee=y.select(this).select("g.legendpoints"),xe=Ee.selectAll("path.scatterpts").data(oe?ie:[]);xe.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",P),xe.exit().remove(),xe.call(b.pointStyle,ce,A),oe&&(ie[0].mrc=3);var De=Ee.selectAll("g.pointtext").data(se?ie:[]);De.enter().append("g").classed("pointtext",!0).append("text").attr("transform",P),De.exit().remove(),De.selectAll("text").call(b.textPointStyle,ce,A)}function V(q){var Y=q[0].trace,Z=Y.type==="waterfall";if(q[0]._distinct&&Z){var G=q[0].trace[q[0].dir].marker;return q[0].mc=G.color,q[0].mlw=G.line.width,q[0].mlc=G.line.color,k(q,this,"waterfall")}var K=[];Y.visible&&Z&&(K=q[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var oe=y.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(K);oe.enter().append("path").classed("legendwaterfall",!0).attr("transform",P).style("stroke-miterlimit",1),oe.exit().remove(),oe.each(function($){var J=y.select(this),se=Y[$[0]].marker,ie=T(void 0,se.line,h,l);J.attr("d",$[1]).style("stroke-width",ie+"px").call(v.fill,se.color),ie&&J.call(v.stroke,se.line.color)})}function F(q){k(q,this)}function N(q){k(q,this,"funnel")}function k(q,Y,Z){var G=q[0].trace,K=G.marker||{},oe=K.line||{},$=K.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",J=Z?G.visible&&G.type===Z:L.traceIs(G,"bar"),se=y.select(Y).select("g.legendpoints").selectAll("path.legend"+Z).data(J?[q]:[]);se.enter().append("path").classed("legend"+Z,!0).attr("d",$).attr("transform",P),se.exit().remove(),se.each(function(ie){var ce=y.select(this),ye=ie[0],Se=T(ye.mlw,K.line,h,l);ce.style("stroke-width",Se+"px");var Te=ye.mcc;if(!C._inHover&&"mc"in ye){var ke=p(K),we=ke.mid;we===void 0&&(we=(ke.max+ke.min)/2),Te=b.tryColorscale(K,"")(we)}var Ee=Te||ye.mc||K.color,xe=K.pattern,De=xe&&b.getPatternAttr(xe.shape,0,"");if(De){var Ve=b.getPatternAttr(xe.bgcolor,0,null),Ue=b.getPatternAttr(xe.fgcolor,0,null),Be=xe.fgopacity,Xe=o(xe.size,8,10),ot=o(xe.solidity,.5,1),ut="legend-"+G.uid;ce.call(b.pattern,"legend",A,ut,De,Xe,ot,Te,xe.fillmode,Ve,Ue,Be)}else ce.call(v.fill,Ee);Se&&v.stroke(ce,ye.mlc||oe.color)})}function I(q){var Y=q[0].trace,Z=y.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Y.visible&&L.traceIs(Y,"box-violin")?[q]:[]);Z.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),Z.exit().remove(),Z.each(function(){var G=y.select(this);if((Y.boxpoints==="all"||Y.points==="all")&&v.opacity(Y.fillcolor)===0&&v.opacity((Y.line||{}).color)===0){var K=i.minExtend(Y,{marker:{size:E?u:i.constrain(Y.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});Z.call(b.pointStyle,K,A)}else{var oe=T(void 0,Y.line,h,l);G.style("stroke-width",oe+"px").call(v.fill,Y.fillcolor),oe&&v.stroke(G,Y.line.color)}})}function H(q){var Y=q[0].trace,Z=y.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Y.visible&&Y.type==="candlestick"?[q,q]:[]);Z.enter().append("path").classed("legendcandle",!0).attr("d",function(G,K){return K?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",P).style("stroke-miterlimit",1),Z.exit().remove(),Z.each(function(G,K){var oe=y.select(this),$=Y[K?"increasing":"decreasing"],J=T(void 0,$.line,h,l);oe.style("stroke-width",J+"px").call(v.fill,$.fillcolor),J&&v.stroke(oe,$.line.color)})}function j(q){var Y=q[0].trace,Z=y.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Y.visible&&Y.type==="ohlc"?[q,q]:[]);Z.enter().append("path").classed("legendohlc",!0).attr("d",function(G,K){return K?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",P).style("stroke-miterlimit",1),Z.exit().remove(),Z.each(function(G,K){var oe=y.select(this),$=Y[K?"increasing":"decreasing"],J=T(void 0,$.line,h,l);oe.style("fill","none").call(b.dashLine,$.line.dash,J),J&&v.stroke(oe,$.line.color)})}function ee(q){ne(q,this,"pie")}function te(q){ne(q,this,"funnelarea")}function ne(q,Y,Z){var G=q[0],K=G.trace,oe=Z?K.visible&&K.type===Z:L.traceIs(K,Z),$=y.select(Y).select("g.legendpoints").selectAll("path.legend"+Z).data(oe?[q]:[]);if($.enter().append("path").classed("legend"+Z,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),$.exit().remove(),$.size()){var J=K.marker||{},se=T(a(J.line.width,G.pts),J.line,h,l),ie="pieLike",ce=i.minExtend(K,{marker:{line:{width:se}}},ie),ye=i.minExtend(G,{trace:ce},ie);t($,ye,ce,A)}}function ue(q){var Y=q[0].trace,Z,G=[];if(Y.visible)switch(Y.type){case"histogram2d":case"heatmap":G=[["M-15,-2V4H15V-2Z"]],Z=!0;break;case"choropleth":case"choroplethmapbox":G=[["M-6,-6V6H6V-6Z"]],Z=!0;break;case"densitymapbox":G=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],Z="radial";break;case"cone":G=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],Z=!1;break;case"streamtube":G=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],Z=!1;break;case"surface":G=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],Z=!0;break;case"mesh3d":G=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Z=!1;break;case"volume":G=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Z=!0;break;case"isosurface":G=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],Z=!1;break}var K=y.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(G);K.enter().append("path").classed("legend3dandfriends",!0).attr("transform",P).style("stroke-miterlimit",1),K.exit().remove(),K.each(function(oe,$){var J=y.select(this),se=p(Y),ie=se.colorscale,ce=se.reversescale,ye=function(we){if(we.size()){var Ee="legendfill-"+Y.uid;b.gradient(we,A,Ee,g(ce,Z==="radial"),ie,"fill")}},Se;if(ie){if(!Z){var ke=ie.length;Se=$===0?ie[ce?ke-1:0][1]:$===1?ie[ce?0:ke-1][1]:ie[Math.floor((ke-1)/2)][1]}}else{var Te=Y.vertexcolor||Y.facecolor||Y.color;Se=i.isArrayOrTypedArray(Te)?Te[$]||Te[0]:Te}J.attr("d",oe[0]),Se?J.call(v.fill,Se):J.call(ye)})}};function g(d,w){var A=w?"radial":"horizontal";return A+(d?"":"reversed")}function c(d){var w=d[0].trace,A=w.contours,C=r.hasLines(w),x=r.hasMarkers(w),E=w.visible&&w.fill&&w.fill!=="none",M=!1,f=!1;if(A){var P=A.coloring;P==="lines"?M=!0:C=P==="none"||P==="heatmap"||A.showlines,A.type==="constraint"?E=A._operation!=="=":(P==="fill"||P==="heatmap")&&(f=!0)}return{showMarker:x,showLine:C,showFill:E,showGradientLine:M,showGradientFill:f,anyLine:C||M,anyFill:E||f}}function o(d,w,A){return d&&i.isArrayOrTypedArray(d)?w:d>A?A:d}},66540:function(U,B,e){e(76052),U.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(U,B,e){var y=e(24040),L=e(7316),i=e(79811),S=e(9224),b=e(4016).eraseActiveShape,v=e(3400),p=v._,r=U.exports={};r.toImage={name:"toImage",title:function(d){var w=d._context.toImageButtonOptions||{},A=w.format||"png";return A==="png"?p(d,"Download plot as a png"):p(d,"Download plot")},icon:S.camera,click:function(d){var w=d._context.toImageButtonOptions,A={format:w.format||"png"};v.notifier(p(d,"Taking snapshot - this may take a few seconds"),"long"),A.format!=="svg"&&v.isIE()&&(v.notifier(p(d,"IE only supports svg.  Changing format to svg."),"long"),A.format="svg"),["filename","width","height","scale"].forEach(function(C){C in w&&(A[C]=w[C])}),y.call("downloadImage",d,A).then(function(C){v.notifier(p(d,"Snapshot succeeded")+" - "+C,"long")}).catch(function(){v.notifier(p(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(d){return p(d,"Edit in Chart Studio")},icon:S.disk,click:function(d){L.sendDataToCloud(d)}},r.editInChartStudio={name:"editInChartStudio",title:function(d){return p(d,"Edit in Chart Studio")},icon:S.pencil,click:function(d){L.sendDataToCloud(d)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"dragmode",val:"zoom",icon:S.zoombox,click:t},r.pan2d={name:"pan2d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"dragmode",val:"pan",icon:S.pan,click:t},r.select2d={name:"select2d",_cat:"select",title:function(d){return p(d,"Box Select")},attr:"dragmode",val:"select",icon:S.selectbox,click:t},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return p(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:S.lasso,click:t},r.drawclosedpath={name:"drawclosedpath",title:function(d){return p(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:S.drawclosedpath,click:t},r.drawopenpath={name:"drawopenpath",title:function(d){return p(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:S.drawopenpath,click:t},r.drawline={name:"drawline",title:function(d){return p(d,"Draw line")},attr:"dragmode",val:"drawline",icon:S.drawline,click:t},r.drawrect={name:"drawrect",title:function(d){return p(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:S.drawrect,click:t},r.drawcircle={name:"drawcircle",title:function(d){return p(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:S.drawcircle,click:t},r.eraseshape={name:"eraseshape",title:function(d){return p(d,"Erase active shape")},icon:S.eraseshape,click:b},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:S.zoom_plus,click:t},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:S.zoom_minus,click:t},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return p(d,"Autoscale")},attr:"zoom",val:"auto",icon:S.autoscale,click:t},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return p(d,"Reset axes")},attr:"zoom",val:"reset",icon:S.home,click:t},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return p(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:S.tooltip_basic,gravity:"ne",click:t},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return p(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:S.tooltip_compare,gravity:"ne",click:t};function t(d,w){var A=w.currentTarget,C=A.getAttribute("data-attr"),x=A.getAttribute("data-val")||!0,E=d._fullLayout,M={},f=i.list(d,null,!0),P=E._cartesianSpikesEnabled,T,z;if(C==="zoom"){var _=x==="in"?.5:2,V=(1+_)/2,F=(1-_)/2,N;for(z=0;z<f.length;z++)if(T=f[z],!T.fixedrange)if(N=T._name,x==="auto")M[N+".autorange"]=!0;else if(x==="reset")T._rangeInitial0===void 0&&T._rangeInitial1===void 0?M[N+".autorange"]=!0:T._rangeInitial0===void 0?(M[N+".autorange"]=T._autorangeInitial,M[N+".range"]=[null,T._rangeInitial1]):T._rangeInitial1===void 0?(M[N+".range"]=[T._rangeInitial0,null],M[N+".autorange"]=T._autorangeInitial):M[N+".range"]=[T._rangeInitial0,T._rangeInitial1],T._showSpikeInitial!==void 0&&(M[N+".showspikes"]=T._showSpikeInitial,P==="on"&&!T._showSpikeInitial&&(P="off"));else{var k=[T.r2l(T.range[0]),T.r2l(T.range[1])],I=[V*k[0]+F*k[1],V*k[1]+F*k[0]];M[N+".range[0]"]=T.l2r(I[0]),M[N+".range[1]"]=T.l2r(I[1])}}else C==="hovermode"&&(x==="x"||x==="y")&&(x=E._isHoriz?"y":"x",A.setAttribute("data-val",x)),M[C]=x;E._cartesianSpikesEnabled=P,y.call("_guiRelayout",d,M)}r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:S.zoombox,click:a},r.pan3d={name:"pan3d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:S.pan,click:a},r.orbitRotation={name:"orbitRotation",title:function(d){return p(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:S["3d_rotate"],click:a},r.tableRotation={name:"tableRotation",title:function(d){return p(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:S["z-axis"],click:a};function a(d,w){for(var A=w.currentTarget,C=A.getAttribute("data-attr"),x=A.getAttribute("data-val")||!0,E=d._fullLayout._subplots.gl3d||[],M={},f=C.split("."),P=0;P<E.length;P++)M[E[P]+"."+f[1]]=x;var T=x==="pan"?x:"zoom";M.dragmode=T,y.call("_guiRelayout",d,M)}r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return p(d,"Reset camera to default")},attr:"resetDefault",icon:S.home,click:n},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return p(d,"Reset camera to last save")},attr:"resetLastSave",icon:S.movie,click:n};function n(d,w){for(var A=w.currentTarget,C=A.getAttribute("data-attr"),x=C==="resetLastSave",E=C==="resetDefault",M=d._fullLayout,f=M._subplots.gl3d||[],P={},T=0;T<f.length;T++){var z=f[T],_=z+".camera",V=z+".aspectratio",F=z+".aspectmode",N=M[z]._scene,k;x?(P[_+".up"]=N.viewInitial.up,P[_+".eye"]=N.viewInitial.eye,P[_+".center"]=N.viewInitial.center,k=!0):E&&(P[_+".up"]=null,P[_+".eye"]=null,P[_+".center"]=null,k=!0),k&&(P[V+".x"]=N.viewInitial.aspectratio.x,P[V+".y"]=N.viewInitial.aspectratio.y,P[V+".z"]=N.viewInitial.aspectratio.z,P[F]=N.viewInitial.aspectmode)}y.call("_guiRelayout",d,P)}r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:S.tooltip_basic,gravity:"ne",click:s};function u(d,w){var A=w.currentTarget,C=A._previousVal,x=d._fullLayout,E=x._subplots.gl3d||[],M=["xaxis","yaxis","zaxis"],f={},P={};if(C)P=C,A._previousVal=null;else{for(var T=0;T<E.length;T++){var z=E[T],_=x[z],V=z+".hovermode";f[V]=_.hovermode,P[V]=!1;for(var F=0;F<3;F++){var N=M[F],k=z+"."+N+".showspikes";P[k]=!1,f[k]=_[N].showspikes}}A._previousVal=f}return P}function s(d,w){var A=u(d,w);y.call("_guiRelayout",d,A)}r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:S.zoom_plus,click:l},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:S.zoom_minus,click:l},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return p(d,"Reset")},attr:"reset",val:null,icon:S.autoscale,click:l},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:S.tooltip_basic,gravity:"ne",click:h};function l(d,w){for(var A=w.currentTarget,C=A.getAttribute("data-attr"),x=A.getAttribute("data-val")||!0,E=d._fullLayout,M=E._subplots.geo||[],f=0;f<M.length;f++){var P=M[f],T=E[P];if(C==="zoom"){var z=T.projection.scale,_=x==="in"?2*z:.5*z;y.call("_guiRelayout",d,P+".projection.scale",_)}}C==="reset"&&o(d,"geo")}r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:S.tooltip_basic,gravity:"ne",click:h},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:S.tooltip_basic,gravity:"ne",click:h};function m(d){var w=d._fullLayout;return w.hovermode?!1:w._has("cartesian")?w._isHoriz?"y":"x":"closest"}function h(d){var w=m(d);y.call("_guiRelayout",d,"hovermode",w)}r.resetViewSankey={name:"resetSankeyGroup",title:function(d){return p(d,"Reset view")},icon:S.home,click:function(d){for(var w={"node.groups":[],"node.x":[],"node.y":[]},A=0;A<d._fullData.length;A++){var C=d._fullData[A]._viewInitial;w["node.groups"].push(C.node.groups.slice()),w["node.x"].push(C.node.x.slice()),w["node.y"].push(C.node.y.slice())}y.call("restyle",d,w)}},r.toggleHover={name:"toggleHover",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:S.tooltip_basic,gravity:"ne",click:function(d,w){var A=u(d,w);A.hovermode=m(d),y.call("_guiRelayout",d,A)}},r.resetViews={name:"resetViews",title:function(d){return p(d,"Reset views")},icon:S.home,click:function(d,w){var A=w.currentTarget;A.setAttribute("data-attr","zoom"),A.setAttribute("data-val","reset"),t(d,w),A.setAttribute("data-attr","resetLastSave"),n(d,w),o(d,"geo"),o(d,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(d){return p(d,"Toggle Spike Lines")},icon:S.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var w=d._fullLayout,A=w._cartesianSpikesEnabled;w._cartesianSpikesEnabled=A==="on"?"off":"on",y.call("_guiRelayout",d,g(d))}};function g(d){for(var w=d._fullLayout,A=w._cartesianSpikesEnabled==="on",C=i.list(d,null,!0),x={},E=0;E<C.length;E++){var M=C[E];x[M._name+".showspikes"]=A?!0:M._showSpikeInitial}return x}r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return p(d,"Reset view")},attr:"reset",icon:S.home,click:function(d){o(d,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:S.zoom_plus,click:c},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:S.zoom_minus,click:c};function c(d,w){for(var A=w.currentTarget,C=A.getAttribute("data-val"),x=d._fullLayout,E=x._subplots.mapbox||[],M=1.05,f={},P=0;P<E.length;P++){var T=E[P],z=x[T].zoom,_=C==="in"?M*z:z/M;f[T+".zoom"]=_}y.call("_guiRelayout",d,f)}function o(d,w){for(var A=d._fullLayout,C=A._subplots[w]||[],x={},E=0;E<C.length;E++)for(var M=C[E],f=A[M]._subplot,P=f.viewInitial,T=Object.keys(P),z=0;z<T.length;z++){var _=T[z];x[M+"."+_]=P[_]}y.call("_guiRelayout",d,x)}},76052:function(U,B,e){var y=e(44248),L=Object.keys(y),i=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],S=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(i),b=[],v=function(p){if(S.indexOf(p._cat||p.name)===-1){var r=p.name,t=(p._cat||p.name).toLowerCase();b.indexOf(r)===-1&&b.push(r),b.indexOf(t)===-1&&b.push(t)}};L.forEach(function(p){v(y[p])}),b.sort(),U.exports={DRAW_MODES:i,backButtons:S,foreButtons:b}},90824:function(U,B,e){var y=e(3400),L=e(76308),i=e(31780),S=e(66540);U.exports=function(v,p){var r=v.modebar||{},t=i.newContainer(p,"modebar");function a(u,s){return y.coerce(r,t,S,u,s)}a("orientation"),a("bgcolor",L.addOpacity(p.paper_bgcolor,.5));var n=L.contrast(L.rgb(p.modebar.bgcolor));a("color",L.addOpacity(n,.3)),a("activecolor",L.addOpacity(n,.7)),a("uirevision",p.uirevision),a("add"),a("remove")}},45460:function(U,B,e){U.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(U,B,e){var y=e(79811),L=e(43028),i=e(24040),S=e(10624).isUnifiedHover,b=e(66400),v=e(44248),p=e(76052).DRAW_MODES,r=e(3400).extendDeep;U.exports=function(h){var g=h._fullLayout,c=h._context,o=g._modeBar;if(!c.displayModeBar&&!c.watermark){o&&(o.destroy(),delete g._modeBar);return}if(!Array.isArray(c.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(c.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=c.modeBarButtons,w;Array.isArray(d)&&d.length?w=l(d):!c.displayModeBar&&c.watermark?w=[]:w=t(h),o?o.update(h,w):g._modeBar=b(h,w)};function t(m){var h=m._fullLayout,g=m._fullData,c=m._context;function o($,J){if(typeof J=="string"){if(J.toLowerCase()===$.toLowerCase())return!0}else{var se=J.name,ie=J._cat||J.name;if(se===$||ie===$.toLowerCase())return!0}return!1}var d=h.modebar.add;typeof d=="string"&&(d=[d]);var w=h.modebar.remove;typeof w=="string"&&(w=[w]);var A=c.modeBarButtonsToAdd.concat(d.filter(function($){for(var J=0;J<c.modeBarButtonsToRemove.length;J++)if(o($,c.modeBarButtonsToRemove[J]))return!1;return!0})),C=c.modeBarButtonsToRemove.concat(w.filter(function($){for(var J=0;J<c.modeBarButtonsToAdd.length;J++)if(o($,c.modeBarButtonsToAdd[J]))return!1;return!0})),x=h._has("cartesian"),E=h._has("gl3d"),M=h._has("geo"),f=h._has("pie"),P=h._has("funnelarea"),T=h._has("gl2d"),z=h._has("ternary"),_=h._has("mapbox"),V=h._has("polar"),F=h._has("smith"),N=h._has("sankey"),k=a(h),I=S(h.hovermode),H=[];function j($){if($.length){for(var J=[],se=0;se<$.length;se++){for(var ie=$[se],ce=v[ie],ye=ce.name.toLowerCase(),Se=(ce._cat||ce.name).toLowerCase(),Te=!1,ke=0;ke<C.length;ke++){var we=C[ke].toLowerCase();if(we===ye||we===Se){Te=!0;break}}Te||J.push(v[ie])}H.push(J)}}var ee=["toImage"];c.showEditInChartStudio?ee.push("editInChartStudio"):c.showSendToCloud&&ee.push("sendDataToCloud"),j(ee);var te=[],ne=[],ue=[],q=[];(x||T||f||P||z)+M+E+_+V+F>1?(ne=["toggleHover"],ue=["resetViews"]):M?(te=["zoomInGeo","zoomOutGeo"],ne=["hoverClosestGeo"],ue=["resetGeo"]):E?(ne=["hoverClosest3d"],ue=["resetCameraDefault3d","resetCameraLastSave3d"]):_?(te=["zoomInMapbox","zoomOutMapbox"],ne=["toggleHover"],ue=["resetViewMapbox"]):T?ne=["hoverClosestGl2d"]:f?ne=["hoverClosestPie"]:N?(ne=["hoverClosestCartesian","hoverCompareCartesian"],ue=["resetViewSankey"]):ne=["toggleHover"],x&&(ne=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(u(g)||I)&&(ne=[]),(x||T)&&!k&&(te=["zoomIn2d","zoomOut2d","autoScale2d"],ue[0]!=="resetViews"&&(ue=["resetScale2d"])),E?q=["zoom3d","pan3d","orbitRotation","tableRotation"]:(x||T)&&!k||z?q=["zoom2d","pan2d"]:_||M?q=["pan2d"]:V&&(q=["zoom2d"]),n(g)&&q.push("select2d","lasso2d");var Y=[],Z=function($){Y.indexOf($)===-1&&ne.indexOf($)!==-1&&Y.push($)};if(Array.isArray(A)){for(var G=[],K=0;K<A.length;K++){var oe=A[K];typeof oe=="string"?(oe=oe.toLowerCase(),p.indexOf(oe)!==-1?(h._has("mapbox")||h._has("cartesian"))&&q.push(oe):oe==="togglespikelines"?Z("toggleSpikelines"):oe==="togglehover"?Z("toggleHover"):oe==="hovercompare"?Z("hoverCompareCartesian"):oe==="hoverclosest"?(Z("hoverClosestCartesian"),Z("hoverClosestGeo"),Z("hoverClosest3d"),Z("hoverClosestGl2d"),Z("hoverClosestPie")):oe==="v1hovermode"&&(Z("toggleHover"),Z("hoverClosestCartesian"),Z("hoverCompareCartesian"),Z("hoverClosestGeo"),Z("hoverClosest3d"),Z("hoverClosestGl2d"),Z("hoverClosestPie"))):G.push(oe)}A=G}return j(q),j(te.concat(ue)),j(Y),s(H,A)}function a(m){for(var h=y.list({_fullLayout:m},null,!0),g=0;g<h.length;g++)if(!h[g].fixedrange)return!1;return!0}function n(m){for(var h=!1,g=0;g<m.length&&!h;g++){var c=m[g];!c._module||!c._module.selectPoints||(i.traceIs(c,"scatter-like")?(L.hasMarkers(c)||L.hasText(c))&&(h=!0):i.traceIs(c,"box-violin")?(c.boxpoints==="all"||c.points==="all")&&(h=!0):h=!0)}return h}function u(m){for(var h=0;h<m.length;h++)if(!i.traceIs(m[h],"noHover"))return!1;return!0}function s(m,h){if(h.length)if(Array.isArray(h[0]))for(var g=0;g<h.length;g++)m.push(h[g]);else m.push(h);return m}function l(m){for(var h=r([],m),g=0;g<h.length;g++)for(var c=h[g],o=0;o<c.length;o++){var d=c[o];if(typeof d=="string")if(v[d]!==void 0)h[g][o]=v[d];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return h}},66400:function(U,B,e){var y=e(33428),L=e(38248),i=e(3400),S=e(9224),b=e(25788).version,v=new DOMParser;function p(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var r=p.prototype;r.update=function(n,u){this.graphInfo=n;var s=this.graphInfo._context,l=this.graphInfo._fullLayout,m="modebar-"+l._uid;this.element.setAttribute("id",m),this._uid=m,this.element.className="modebar",s.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),l.modebar.orientation==="v"&&(this.element.className+=" vertical",u=u.reverse());var h=l.modebar,g=s.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";i.deleteRelatedStyleRule(m),i.addRelatedStyleRule(m,g+"#"+m+" .modebar-group","background-color: "+h.bgcolor),i.addRelatedStyleRule(m,"#"+m+" .modebar-btn .icon path","fill: "+h.color),i.addRelatedStyleRule(m,"#"+m+" .modebar-btn:hover .icon path","fill: "+h.activecolor),i.addRelatedStyleRule(m,"#"+m+" .modebar-btn.active .icon path","fill: "+h.activecolor);var c=!this.hasButtons(u),o=this.hasLogo!==s.displaylogo,d=this.locale!==s.locale;if(this.locale=s.locale,(c||o||d)&&(this.removeAllButtons(),this.updateButtons(u),s.watermark||s.displaylogo)){var w=this.getLogo();s.watermark&&(w.className=w.className+" watermark"),l.modebar.orientation==="v"?this.element.insertBefore(w,this.element.childNodes[0]):this.element.appendChild(w),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(n){var u=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(s){var l=u.createGroup();s.forEach(function(m){var h=m.name;if(!h)throw new Error("must provide button 'name' in button config");if(u.buttonsNames.indexOf(h)!==-1)throw new Error("button name '"+h+"' is taken");u.buttonsNames.push(h);var g=u.createButton(m);u.buttonElements.push(g),l.appendChild(g)}),u.element.appendChild(l)})},r.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},r.createButton=function(n){var u=this,s=document.createElement("a");s.setAttribute("rel","tooltip"),s.className="modebar-btn";var l=n.title;l===void 0?l=n.name:typeof l=="function"&&(l=l(this.graphInfo)),(l||l===0)&&s.setAttribute("data-title",l),n.attr!==void 0&&s.setAttribute("data-attr",n.attr);var m=n.val;m!==void 0&&(typeof m=="function"&&(m=m(this.graphInfo)),s.setAttribute("data-val",m));var h=n.click;if(typeof h!="function")throw new Error("must provide button 'click' function in button config");s.addEventListener("click",function(c){n.click(u.graphInfo,c),u.updateActiveButton(c.currentTarget)}),s.setAttribute("data-toggle",n.toggle||!1),n.toggle&&y.select(s).classed("active",!0);var g=n.icon;return typeof g=="function"?s.appendChild(g()):s.appendChild(this.createIcon(g||S.question)),s.setAttribute("data-gravity",n.gravity||"n"),s},r.createIcon=function(n){var u=L(n.height)?Number(n.height):n.ascent-n.descent,s="http://www.w3.org/2000/svg",l;if(n.path){l=document.createElementNS(s,"svg"),l.setAttribute("viewBox",[0,0,n.width,u].join(" ")),l.setAttribute("class","icon");var m=document.createElementNS(s,"path");m.setAttribute("d",n.path),n.transform?m.setAttribute("transform",n.transform):n.ascent!==void 0&&m.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),l.appendChild(m)}if(n.svg){var h=v.parseFromString(n.svg,"application/xml");l=h.childNodes[0]}return l.setAttribute("height","1em"),l.setAttribute("width","1em"),l},r.updateActiveButton=function(n){var u=this.graphInfo._fullLayout,s=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var m=l.getAttribute("data-val")||!0,h=l.getAttribute("data-attr"),g=l.getAttribute("data-toggle")==="true",c=y.select(l);if(g)h===s&&c.classed("active",!c.classed("active"));else{var o=h===null?h:i.nestedProperty(u,h).get();c.classed("active",o===m)}})},r.hasButtons=function(n){var u=this.buttons;if(!u||n.length!==u.length)return!1;for(var s=0;s<n.length;++s){if(n[s].length!==u[s].length)return!1;for(var l=0;l<n[s].length;l++)if(n[s][l].name!==u[s][l].name)return!1}return!0};function t(n){return n+" (v"+b+")"}r.getLogo=function(){var n=this.createGroup(),u=document.createElement("a");return u.href="https://plotly.com/",u.target="_blank",u.setAttribute("data-title",t(i._(this.graphInfo,"Produced with Plotly.js"))),u.className="modebar-btn plotlyjsicon modebar-btn--logo",u.appendChild(this.createIcon(S.newplotlylogo)),n.appendChild(u),n},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){i.removeElement(this.container.querySelector(".modebar")),i.deleteRelatedStyleRule(this._uid)};function a(n,u){var s=n._fullLayout,l=new p({graphInfo:n,container:s._modebardiv.node(),buttons:u});return s._privateplot&&y.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}U.exports=a},26680:function(U,B,e){var y=e(25376),L=e(22548),i=e(31780).templatedArray,S=i("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});U.exports={visible:{valType:"boolean",editType:"plot"},buttons:S,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:y({editType:"plot"}),bgcolor:{valType:"color",dflt:L.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:L.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(U){U.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(U,B,e){var y=e(3400),L=e(76308),i=e(31780),S=e(51272),b=e(26680),v=e(85984);U.exports=function(a,n,u,s,l){var m=a.rangeselector||{},h=i.newContainer(n,"rangeselector");function g(A,C){return y.coerce(m,h,b,A,C)}var c=S(m,h,{name:"buttons",handleItemDefaults:p,calendar:l}),o=g("visible",c.length>0);if(o){var d=r(n,u,s);g("x",d[0]),g("y",d[1]),y.noneOrAll(a,n,["x","y"]),g("xanchor"),g("yanchor"),y.coerceFont(g,"font",u.font);var w=g("bgcolor");g("activecolor",L.contrast(w,v.lightAmount,v.darkAmount)),g("bordercolor"),g("borderwidth")}};function p(t,a,n,u){var s=u.calendar;function l(g,c){return y.coerce(t,a,b.buttons,g,c)}var m=l("visible");if(m){var h=l("step");h!=="all"&&(s&&s!=="gregorian"&&(h==="month"||h==="year")?a.stepmode="backward":l("stepmode"),l("count")),l("label")}}function r(t,a,n){for(var u=n.filter(function(h){return a[h].anchor===t._id}),s=0,l=0;l<u.length;l++){var m=a[u[l]].domain;m&&(s=Math.max(m[1],s))}return[t.domain[0],s+v.yPad]}},50216:function(U,B,e){var y=e(33428),L=e(24040),i=e(7316),S=e(76308),b=e(43616),v=e(3400),p=v.strTranslate,r=e(72736),t=e(79811),a=e(84284),n=a.LINE_SPACING,u=a.FROM_TL,s=a.FROM_BR,l=e(85984),m=e(48040);U.exports=function(E){var M=E._fullLayout,f=M._infolayer.selectAll(".rangeselector").data(h(E),g);f.enter().append("g").classed("rangeselector",!0),f.exit().remove(),f.style({cursor:"pointer","pointer-events":"all"}),f.each(function(P){var T=y.select(this),z=P,_=z.rangeselector,V=T.selectAll("g.button").data(v.filterVisible(_.buttons));V.enter().append("g").classed("button",!0),V.exit().remove(),V.each(function(F){var N=y.select(this),k=m(z,F);F._isActive=c(z,F,k),N.call(o,_,F),N.call(w,_,F,E),N.on("click",function(){E._dragged||L.call("_guiRelayout",E,k)}),N.on("mouseover",function(){F._isHovered=!0,N.call(o,_,F)}),N.on("mouseout",function(){F._isHovered=!1,N.call(o,_,F)})}),C(E,V,_,z._name,T)})};function h(x){for(var E=t.list(x,"x",!0),M=[],f=0;f<E.length;f++){var P=E[f];P.rangeselector&&P.rangeselector.visible&&M.push(P)}return M}function g(x){return x._id}function c(x,E,M){if(E.step==="all")return x.autorange===!0;var f=Object.keys(M);return x.range[0]===M[f[0]]&&x.range[1]===M[f[1]]}function o(x,E,M){var f=v.ensureSingle(x,"rect","selector-rect",function(P){P.attr("shape-rendering","crispEdges")});f.attr({rx:l.rx,ry:l.ry}),f.call(S.stroke,E.bordercolor).call(S.fill,d(E,M)).style("stroke-width",E.borderwidth+"px")}function d(x,E){return E._isActive||E._isHovered?x.activecolor:x.bgcolor}function w(x,E,M,f){function P(z){r.convertToTspans(z,f)}var T=v.ensureSingle(x,"text","selector-text",function(z){z.attr("text-anchor","middle")});T.call(b.font,E.font).text(A(M,f._fullLayout._meta)).call(P)}function A(x,E){return x.label?E?v.templateString(x.label,E):x.label:x.step==="all"?"all":x.count+x.step.charAt(0)}function C(x,E,M,f,P){var T=0,z=0,_=M.borderwidth;E.each(function(){var H=y.select(this),j=H.select(".selector-text"),ee=M.font.size*n,te=Math.max(ee*r.lineCount(j),16)+3;z=Math.max(z,te)}),E.each(function(){var H=y.select(this),j=H.select(".selector-rect"),ee=H.select(".selector-text"),te=ee.node()&&b.bBox(ee.node()).width,ne=M.font.size*n,ue=r.lineCount(ee),q=Math.max(te+10,l.minButtonWidth);H.attr("transform",p(_+T,_)),j.attr({x:0,y:0,width:q,height:z}),r.positionText(ee,q/2,z/2-(ue-1)*ne/2+3),T+=q+5});var V=x._fullLayout._size,F=V.l+V.w*M.x,N=V.t+V.h*(1-M.y),k="left";v.isRightAnchor(M)&&(F-=T,k="right"),v.isCenterAnchor(M)&&(F-=T/2,k="center");var I="top";v.isBottomAnchor(M)&&(N-=z,I="bottom"),v.isMiddleAnchor(M)&&(N-=z/2,I="middle"),T=Math.ceil(T),z=Math.ceil(z),F=Math.round(F),N=Math.round(N),i.autoMargin(x,f+"-range-selector",{x:M.x,y:M.y,l:T*u[k],r:T*s[k],b:z*s[I],t:z*u[I]}),P.attr("transform",p(F,N))}},48040:function(U,B,e){var y=e(73220),L=e(3400).titleCase;U.exports=function(b,v){var p=b._name,r={};if(v.step==="all")r[p+".autorange"]=!0;else{var t=i(b,v);r[p+".range[0]"]=t[0],r[p+".range[1]"]=t[1]}return r};function i(S,b){var v=S.range,p=new Date(S.r2l(v[1])),r=b.step,t=y["utc"+L(r)],a=b.count,n;switch(b.stepmode){case"backward":n=S.l2r(+t.offset(p,-a));break;case"todate":var u=t.offset(p,-a);n=S.l2r(+t.ceil(u));break}var s=v[1];return[n,s]}},41152:function(U,B,e){U.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(U,B,e){var y=e(22548);U.exports={bgcolor:{valType:"color",dflt:y.background,editType:"plot"},bordercolor:{valType:"color",dflt:y.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(U,B,e){var y=e(79811).list,L=e(19280).getAutoRange,i=e(74636);U.exports=function(b){for(var v=y(b,"x",!0),p=0;p<v.length;p++){var r=v[p],t=r[i.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=L(b,r))}}},74636:function(U){U.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(U,B,e){var y=e(3400),L=e(31780),i=e(79811),S=e(11200),b=e(10936);U.exports=function(p,r,t){var a=p[t],n=r[t];if(!(a.rangeslider||r._requestRangeslider[n._id]))return;y.isPlainObject(a.rangeslider)||(a.rangeslider={});var u=a.rangeslider,s=L.newContainer(n,"rangeslider");function l(f,P){return y.coerce(u,s,S,f,P)}var m,h;function g(f,P){return y.coerce(m,h,b,f,P)}var c=l("visible");if(c){l("bgcolor",r.plot_bgcolor),l("bordercolor"),l("borderwidth"),l("thickness"),l("autorange",!n.isValidRange(u.range)),l("range");var o=r._subplots;if(o)for(var d=o.cartesian.filter(function(f){return f.substr(0,f.indexOf("y"))===i.name2id(t)}).map(function(f){return f.substr(f.indexOf("y"),f.length)}),w=y.simpleMap(d,i.id2name),A=0;A<w.length;A++){var C=w[A];m=u[C]||{},h=L.newContainer(s,C,"yaxis");var x=r[C],E;m.range&&x.isValidRange(m.range)&&(E="fixed");var M=g("rangemode",E);M!=="match"&&g("range",x.range.slice())}s._input=u}}},20060:function(U,B,e){var y=e(33428),L=e(24040),i=e(7316),S=e(3400),b=S.strTranslate,v=e(43616),p=e(76308),r=e(81668),t=e(57952),a=e(79811),n=e(86476),u=e(93972),s=e(74636);U.exports=function(E){for(var M=E._fullLayout,f=M._rangeSliderData,P=0;P<f.length;P++){var T=f[P][s.name];T._clipId=T._id+"-"+M._uid}function z(V){return V._name}var _=M._infolayer.selectAll("g."+s.containerClassName).data(f,z);_.exit().each(function(V){var F=V[s.name];M._topdefs.select("#"+F._clipId).remove()}).remove(),f.length!==0&&(_.enter().append("g").classed(s.containerClassName,!0).attr("pointer-events","all"),_.each(function(V){var F=y.select(this),N=V[s.name],k=M[a.id2name(V.anchor)],I=N[a.id2name(V.anchor)];if(N.range){var H=S.simpleMap(N.range,V.r2l),j=S.simpleMap(V.range,V.r2l),ee;j[0]<j[1]?ee=[Math.min(H[0],j[0]),Math.max(H[1],j[1])]:ee=[Math.max(H[0],j[0]),Math.min(H[1],j[1])],N.range=N._input.range=S.simpleMap(ee,V.l2r)}V.cleanRange("rangeslider.range");var te=M._size,ne=V.domain;N._width=te.w*(ne[1]-ne[0]);var ue=Math.round(te.l+te.w*ne[0]),q=Math.round(te.t+te.h*(1-V._counterDomainMin)+(V.side==="bottom"?V._depth:0)+N._offsetShift+s.extraPad);F.attr("transform",b(ue,q)),N._rl=S.simpleMap(N.range,V.r2l);var Y=N._rl[0],Z=N._rl[1],G=Z-Y;if(N.p2d=function(Te){return Te/N._width*G+Y},N.d2p=function(Te){return(Te-Y)/G*N._width},V.rangebreaks){var K=V.locateBreaks(Y,Z);if(K.length){var oe,$,J=0;for(oe=0;oe<K.length;oe++)$=K[oe],J+=$.max-$.min;var se=N._width/(Z-Y-J),ie=[-se*Y];for(oe=0;oe<K.length;oe++)$=K[oe],ie.push(ie[ie.length-1]-se*($.max-$.min));for(N.d2p=function(Te){for(var ke=ie[0],we=0;we<K.length;we++){var Ee=K[we];if(Te>=Ee.max)ke=ie[we+1];else if(Te<Ee.min)break}return ke+se*Te},oe=0;oe<K.length;oe++)$=K[oe],$.pmin=N.d2p($.min),$.pmax=N.d2p($.max);N.p2d=function(Te){for(var ke=ie[0],we=0;we<K.length;we++){var Ee=K[we];if(Te>=Ee.pmax)ke=ie[we+1];else if(Te<Ee.pmin)break}return(Te-ke)/se}}}if(I.rangemode!=="match"){var ce=k.r2l(I.range[0]),ye=k.r2l(I.range[1]),Se=ye-ce;N.d2pOppAxis=function(Te){return(Te-ce)/Se*N._height}}F.call(c,E,V,N).call(o,E,V,N).call(d,E,V,N).call(A,E,V,N,I).call(C,E,V,N).call(x,E,V,N),m(F,E,V,N),g(F,E,V,N,k,I),V.side==="bottom"&&r.draw(E,V._id+"title",{propContainer:V,propName:V._name+".title",placeholder:M._dfltTitle.x,attributes:{x:V._offset+V._length/2,y:q+N._height+N._offsetShift+10+1.5*V.title.font.size,"text-anchor":"middle"}})}))};function l(E){return typeof E.clientX=="number"?E.clientX:E.touches&&E.touches.length>0?E.touches[0].clientX:0}function m(E,M,f,P){if(M._context.staticPlot)return;var T=E.select("rect."+s.slideBoxClassName).node(),z=E.select("rect."+s.grabAreaMinClassName).node(),_=E.select("rect."+s.grabAreaMaxClassName).node();function V(){var F=y.event,N=F.target,k=l(F),I=k-E.node().getBoundingClientRect().left,H=P.d2p(f._rl[0]),j=P.d2p(f._rl[1]),ee=n.coverSlip();this.addEventListener("touchmove",te),this.addEventListener("touchend",ne),ee.addEventListener("mousemove",te),ee.addEventListener("mouseup",ne);function te(ue){var q=l(ue),Y=+q-k,Z,G,K;switch(N){case T:if(K="ew-resize",H+Y>f._length||j+Y<0)return;Z=H+Y,G=j+Y;break;case z:if(K="col-resize",H+Y>f._length)return;Z=H+Y,G=j;break;case _:if(K="col-resize",j+Y<0)return;Z=H,G=j+Y;break;default:K="ew-resize",Z=I,G=I+Y;break}if(G<Z){var oe=G;G=Z,Z=oe}P._pixelMin=Z,P._pixelMax=G,u(y.select(ee),K),h(E,M,f,P)}function ne(){ee.removeEventListener("mousemove",te),ee.removeEventListener("mouseup",ne),this.removeEventListener("touchmove",te),this.removeEventListener("touchend",ne),S.removeElement(ee)}}E.on("mousedown",V),E.on("touchstart",V)}function h(E,M,f,P){function T(V){return f.l2r(S.constrain(V,P._rl[0],P._rl[1]))}var z=T(P.p2d(P._pixelMin)),_=T(P.p2d(P._pixelMax));window.requestAnimationFrame(function(){L.call("_guiRelayout",M,f._name+".range",[z,_])})}function g(E,M,f,P,T,z){var _=s.handleWidth/2;function V(ue){return S.constrain(ue,0,P._width)}function F(ue){return S.constrain(ue,0,P._height)}function N(ue){return S.constrain(ue,-_,P._width+_)}var k=V(P.d2p(f._rl[0])),I=V(P.d2p(f._rl[1]));if(E.select("rect."+s.slideBoxClassName).attr("x",k).attr("width",I-k),E.select("rect."+s.maskMinClassName).attr("width",k),E.select("rect."+s.maskMaxClassName).attr("x",I).attr("width",P._width-I),z.rangemode!=="match"){var H=P._height-F(P.d2pOppAxis(T._rl[1])),j=P._height-F(P.d2pOppAxis(T._rl[0]));E.select("rect."+s.maskMinOppAxisClassName).attr("x",k).attr("height",H).attr("width",I-k),E.select("rect."+s.maskMaxOppAxisClassName).attr("x",k).attr("y",j).attr("height",P._height-j).attr("width",I-k),E.select("rect."+s.slideBoxClassName).attr("y",H).attr("height",j-H)}var ee=.5,te=Math.round(N(k-_))-ee,ne=Math.round(N(I-_))+ee;E.select("g."+s.grabberMinClassName).attr("transform",b(te,ee)),E.select("g."+s.grabberMaxClassName).attr("transform",b(ne,ee))}function c(E,M,f,P){var T=S.ensureSingle(E,"rect",s.bgClassName,function(F){F.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),z=P.borderwidth%2===0?P.borderwidth:P.borderwidth-1,_=-P._offsetShift,V=v.crispRound(M,P.borderwidth);T.attr({width:P._width+z,height:P._height+z,transform:b(_,_),"stroke-width":V}).call(p.stroke,P.bordercolor).call(p.fill,P.bgcolor)}function o(E,M,f,P){var T=M._fullLayout,z=S.ensureSingleById(T._topdefs,"clipPath",P._clipId,function(_){_.append("rect").attr({x:0,y:0})});z.select("rect").attr({width:P._width,height:P._height})}function d(E,M,f,P){var T=M.calcdata,z=E.selectAll("g."+s.rangePlotClassName).data(f._subplotsWith,S.identity);z.enter().append("g").attr("class",function(V){return s.rangePlotClassName+" "+V}).call(v.setClipUrl,P._clipId,M),z.order(),z.exit().remove();var _;z.each(function(V,F){var N=y.select(this),k=F===0,I=a.getFromId(M,V,"y"),H=I._name,j=P[H],ee={data:[],layout:{xaxis:{type:f.type,domain:[0,1],range:P.range.slice(),calendar:f.calendar},width:P._width,height:P._height,margin:{t:0,b:0,l:0,r:0}},_context:M._context};f.rangebreaks&&(ee.layout.xaxis.rangebreaks=f.rangebreaks),ee.layout[H]={type:I.type,domain:[0,1],range:j.rangemode!=="match"?j.range.slice():I.range.slice(),calendar:I.calendar},I.rangebreaks&&(ee.layout[H].rangebreaks=I.rangebreaks),i.supplyDefaults(ee);var te=ee._fullLayout.xaxis,ne=ee._fullLayout[H];te.clearCalc(),te.setScale(),ne.clearCalc(),ne.setScale();var ue={id:V,plotgroup:N,xaxis:te,yaxis:ne,isRangePlot:!0};k?_=ue:(ue.mainplot="xy",ue.mainplotinfo=_),t.rangePlot(M,ue,w(T,V))})}function w(E,M){for(var f=[],P=0;P<E.length;P++){var T=E[P],z=T[0].trace;z.xaxis+z.yaxis===M&&f.push(T)}return f}function A(E,M,f,P,T){var z=S.ensureSingle(E,"rect",s.maskMinClassName,function(N){N.attr({x:0,y:0,"shape-rendering":"crispEdges"})});z.attr("height",P._height).call(p.fill,s.maskColor);var _=S.ensureSingle(E,"rect",s.maskMaxClassName,function(N){N.attr({y:0,"shape-rendering":"crispEdges"})});if(_.attr("height",P._height).call(p.fill,s.maskColor),T.rangemode!=="match"){var V=S.ensureSingle(E,"rect",s.maskMinOppAxisClassName,function(N){N.attr({y:0,"shape-rendering":"crispEdges"})});V.attr("width",P._width).call(p.fill,s.maskOppAxisColor);var F=S.ensureSingle(E,"rect",s.maskMaxOppAxisClassName,function(N){N.attr({y:0,"shape-rendering":"crispEdges"})});F.attr("width",P._width).style("border-top",s.maskOppBorder).call(p.fill,s.maskOppAxisColor)}}function C(E,M,f,P){if(!M._context.staticPlot){var T=S.ensureSingle(E,"rect",s.slideBoxClassName,function(z){z.attr({y:0,cursor:s.slideBoxCursor,"shape-rendering":"crispEdges"})});T.attr({height:P._height,fill:s.slideBoxFill})}}function x(E,M,f,P){var T=S.ensureSingle(E,"g",s.grabberMinClassName),z=S.ensureSingle(E,"g",s.grabberMaxClassName),_={x:0,width:s.handleWidth,rx:s.handleRadius,fill:p.background,stroke:p.defaultLine,"stroke-width":s.handleStrokeWidth,"shape-rendering":"crispEdges"},V={y:Math.round(P._height/4),height:Math.round(P._height/2)},F=S.ensureSingle(T,"rect",s.handleMinClassName,function(j){j.attr(_)});F.attr(V);var N=S.ensureSingle(z,"rect",s.handleMaxClassName,function(j){j.attr(_)});N.attr(V);var k={width:s.grabAreaWidth,x:0,y:0,fill:s.grabAreaFill,cursor:M._context.staticPlot?void 0:s.grabAreaCursor},I=S.ensureSingle(T,"rect",s.grabAreaMinClassName,function(j){j.attr(k)});I.attr("height",P._height);var H=S.ensureSingle(z,"rect",s.grabAreaMaxClassName,function(j){j.attr(k)});H.attr("height",P._height)}},97944:function(U,B,e){var y=e(79811),L=e(72736),i=e(74636),S=e(84284).LINE_SPACING,b=i.name;function v(p){var r=p&&p[b];return r&&r.visible}B.isVisible=v,B.makeData=function(p){var r=y.list({_fullLayout:p},"x",!0),t=p.margin,a=[];if(!p._has("gl2d"))for(var n=0;n<r.length;n++){var u=r[n];if(v(u)){a.push(u);var s=u[b];s._id=b+u._id,s._height=(p.height-t.b-t.t)*s.thickness,s._offsetShift=Math.floor(s.borderwidth/2)}}p._rangeSliderData=a},B.autoMarginOpts=function(p,r){var t=p._fullLayout,a=r[b],n=r._id.charAt(0),u=0,s=0;if(r.side==="bottom"&&(u=r._depth,r.title.text!==t._dfltTitle[n])){s=1.5*r.title.font.size+10+a._offsetShift;var l=(r.title.text.match(L.BR_TAG_ALL)||[]).length;s+=l*r.title.font.size*S}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:a._height+u+Math.max(t.margin.b,s),pad:i.extraPad+a._offsetShift*2}}},49692:function(U,B,e){var y=e(3400),L=e(11200),i=e(10936),S=e(97944);U.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:y.extendFlat({},L,{yaxis:i})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:S.isVisible,makeData:S.makeData,autoMarginOpts:S.autoMarginOpts}},10936:function(U){U.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(U,B,e){var y=e(13916),L=e(52904).line,i=e(98192).u,S=e(92880).extendFlat,b=e(67824).overrideAll,v=e(31780).templatedArray;e(36208),U.exports=b(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:S({},y.xref,{}),yref:S({},y.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:L.color,width:S({},L.width,{min:1,dflt:1}),dash:S({},i,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(U){U.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(U,B,e){var y=e(3400),L=e(54460),i=e(51272),S=e(93956),b=e(65152);U.exports=function(r,t){i(r,t,{name:"selections",handleItemDefaults:v});for(var a=t.selections,n=0;n<a.length;n++){var u=a[n];u&&u.path===void 0&&(u.x0===void 0||u.x1===void 0||u.y0===void 0||u.y1===void 0)&&(t.selections[n]=null)}};function v(p,r,t){function a(T,z){return y.coerce(p,r,S,T,z)}var n=a("path"),u=n?"path":"rect",s=a("type",u),l=s!=="path";l&&delete r.path,a("opacity"),a("line.color"),a("line.width"),a("line.dash");for(var m=["x","y"],h=0;h<2;h++){var g=m[h],c={_fullLayout:t},o,d,w,A=L.coerceRef(p,r,c,g);if(o=L.getFromId(c,A),o._selectionIndices.push(r._index),w=b.rangeToShapePosition(o),d=b.shapePositionToRange(o),l){var C=g+"0",x=g+"1",E=p[C],M=p[x];p[C]=d(p[C],!0),p[x]=d(p[x],!0),L.coercePosition(r,c,a,A,C),L.coercePosition(r,c,a,A,x);var f=r[C],P=r[x];f!==void 0&&P!==void 0&&(r[C]=w(f),r[x]=w(P),p[C]=E,p[x]=M)}}l&&y.noneOrAll(p,r,["x0","x1","y0","y1"])}},23640:function(U,B,e){var y=e(9856).readPaths,L=e(55496),i=e(1936).clearOutlineControllers,S=e(76308),b=e(43616),v=e(31780).arrayEditor,p=e(65152),r=p.getPathString;U.exports={draw:t,drawOne:n,activateLastSelection:l};function t(h){var g=h._fullLayout;i(h),g._selectionLayer.selectAll("path").remove();for(var c in g._plots){var o=g._plots[c].selectionLayer;o&&o.selectAll("path").remove()}for(var d=0;d<g.selections.length;d++)n(h,d)}function a(h){return h._context.editSelection}function n(h,g){h._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+g+'"]').remove();var c=p.makeSelectionsOptionsAndPlotinfo(h,g),o=c.options,d=c.plotinfo;if(!o._input)return;w(h._fullLayout._selectionLayer);function w(A){var C=r(h,o),x={"data-index":g,"fill-rule":"evenodd",d:C},E=o.opacity,M="rgba(0,0,0,0)",f=o.line.color||S.contrast(h._fullLayout.plot_bgcolor),P=o.line.width,T=o.line.dash;P||(P=5,T="solid");var z=a(h)&&h._fullLayout._activeSelectionIndex===g;z&&(M=h._fullLayout.activeselection.fillcolor,E=h._fullLayout.activeselection.opacity);for(var _=[],V=1;V>=0;V--){var F=A.append("path").attr(x).style("opacity",V?.1:E).call(S.stroke,f).call(S.fill,M).call(b.dashLine,V?"solid":T,V?4+P:P);if(u(F,h,o),z){var N=v(h.layout,"selections",o);F.style({cursor:"move"});var k={element:F.node(),plotinfo:d,gd:h,editHelpers:N,isActiveSelection:!0},I=y(C,h);L(I,F,k)}else F.style("pointer-events",V?"all":"none");_[V]=F}var H=_[0],j=_[1];j.node().addEventListener("click",function(){return s(h,H)})}}function u(h,g,c){var o=c.xref+c.yref;b.setClipUrl(h,"clip"+g._fullLayout._uid+o,g)}function s(h,g){if(a(h)){var c=g.node(),o=+c.getAttribute("data-index");if(o>=0){if(o===h._fullLayout._activeSelectionIndex){m(h);return}h._fullLayout._activeSelectionIndex=o,h._fullLayout._deactivateSelection=m,t(h)}}}function l(h){if(a(h)){var g=h._fullLayout.selections.length-1;h._fullLayout._activeSelectionIndex=g,h._fullLayout._deactivateSelection=m,t(h)}}function m(h){if(a(h)){var g=h._fullLayout._activeSelectionIndex;g>=0&&(i(h),delete h._fullLayout._activeSelectionIndex,t(h))}}},34200:function(U,B,e){var y=e(98192).u,L=e(92880).extendFlat;U.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:L({},y,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(U){U.exports=function(e,y,L){L("newselection.mode");var i=L("newselection.line.width");i&&(L("newselection.line.color"),L("newselection.line.dash")),L("activeselection.fillcolor"),L("activeselection.opacity")}},5968:function(U,B,e){var y=e(72760),L=y.selectMode,i=e(1936),S=i.clearOutline,b=e(9856),v=b.readPaths,p=b.writePaths,r=b.fixDatesForPaths;U.exports=function(a,n){if(a.length){var u=a[0][0];if(u){var s=u.getAttribute("d"),l=n.gd,m=l._fullLayout.newselection,h=n.plotinfo,g=h.xaxis,c=h.yaxis,o=n.isActiveSelection,d=n.dragmode,w=(l.layout||{}).selections||[];if(!L(d)&&o!==void 0){var A=l._fullLayout._activeSelectionIndex;if(A<w.length)switch(l._fullLayout.selections[A].type){case"rect":d="select";break;case"path":d="lasso";break}}var C=v(s,l,h,o),x={xref:g._id,yref:c._id,opacity:m.opacity,line:{color:m.line.color,width:m.line.width,dash:m.line.dash}},E;C.length===1&&(E=C[0]),E&&E.length===5&&d==="select"?(x.type="rect",x.x0=E[0][1],x.y0=E[0][2],x.x1=E[2][1],x.y1=E[2][2]):(x.type="path",g&&c&&r(C,g,c),x.path=p(C),E=null),S(l);for(var M=n.editHelpers,f=(M||{}).modifyItem,P=[],T=0;T<w.length;T++){var z=l._fullLayout.selections[T];if(!z){P[T]=z;continue}if(P[T]=z._input,o!==void 0&&T===l._fullLayout._activeSelectionIndex){var _=x;switch(z.type){case"rect":f("x0",_.x0),f("x1",_.x1),f("y0",_.y0),f("y1",_.y1);break;case"path":f("path",_.path);break}}}return o===void 0?(P.push(x),P):M?M.getUpdateObj():{}}}}},5840:function(U,B,e){var y=e(3400).strTranslate;function L(v,p){switch(v.type){case"log":return v.p2d(p);case"date":return v.p2r(p,0,v.calendar);default:return v.p2r(p)}}function i(v,p){switch(v.type){case"log":return v.d2p(p);case"date":return v.r2p(p,0,v.calendar);default:return v.r2p(p)}}function S(v){var p=v._id.charAt(0)==="y"?1:0;return function(r){return L(v,r[p])}}function b(v){return y(v.xaxis._offset,v.yaxis._offset)}U.exports={p2r:L,r2p:i,axValue:S,getTransform:b}},22676:function(U,B,e){var y=e(23640),L=e(43156);U.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:y.draw,drawOne:y.drawOne,reselect:L.reselect,prepSelect:L.prepSelect,clearOutline:L.clearOutline,clearSelectionsCache:L.clearSelectionsCache,selectOnClick:L.selectOnClick}},43156:function(U,B,e){var y=e(14756),L=e(61456),i=e(24040),S=e(43616).dashStyle,b=e(76308),v=e(93024),p=e(10624).makeEventData,r=e(72760),t=r.freeMode,a=r.rectMode,n=r.drawMode,u=r.openMode,s=r.selectMode,l=e(65152),m=e(85448),h=e(55496),g=e(1936).clearOutline,c=e(9856),o=c.handleEllipse,d=c.readPaths,w=e(93940).newShapes,A=e(5968),C=e(23640).activateLastSelection,x=e(3400),E=x.sorterAsc,M=e(92065),f=e(91200),P=e(79811).getFromId,T=e(73696),z=e(39172).redrawReglTraces,_=e(83280),V=_.MINSELECT,F=M.filter,N=M.tester,k=e(5840),I=k.p2r,H=k.axValue,j=k.getTransform;function ee(Ge){return Ge.subplot!==void 0}function te(Ge,_e,be,me,Ce){var Me=!ee(me),Ne=t(Ce),je=a(Ce),tt=u(Ce),ct=n(Ce),pt=s(Ce),Xt=Ce==="drawline",Yt=Ce==="drawcircle",Tt=Xt||Yt,_t=me.gd,Qt=_t._fullLayout,wr=pt&&Qt.newselection.mode==="immediate"&&Me,xt=Qt._zoomlayer,jt=me.element.getBoundingClientRect(),Jt=me.plotinfo,gr=j(Jt),or=_e-jt.left,yt=be-jt.top;Qt._calcInverseTransform(_t);var at=x.apply3DTransform(Qt._invTransform)(or,yt);or=at[0],yt=at[1];var wt=Qt._invScaleX,Et=Qt._invScaleY,Rt=or,Dt=yt,Ut="M"+or+","+yt,Nt=me.xaxes[0],Kt=me.yaxes[0],ur=Nt._length,fr=Kt._length,vr=Ge.altKey&&!(n(Ce)&&tt),We,He,zt,kt,Zt,er,lr;G(Ge,_t,me),Ne&&(We=F([[or,yt]],_.BENDPX));var rr=xt.selectAll("path.select-outline-"+Jt.id).data([1]),Ft=ct?Qt.newshape:Qt.newselection;ct&&(me.hasText=Ft.label.text||Ft.label.texttemplate);var cr=ct&&!tt?Ft.fillcolor:"rgba(0,0,0,0)",pr=Ft.line.color||(Me?b.contrast(_t._fullLayout.plot_bgcolor):"#7f7f7f");rr.enter().append("path").attr("class","select-outline select-outline-"+Jt.id).style({opacity:ct?Ft.opacity/2:1,"stroke-dasharray":S(Ft.line.dash,Ft.line.width),"stroke-width":Ft.line.width+"px","shape-rendering":"crispEdges"}).call(b.stroke,pr).call(b.fill,cr).attr("fill-rule","evenodd").classed("cursor-move",!!ct).attr("transform",gr).attr("d",Ut+"Z");var mr=xt.append("path").attr("class","zoombox-corners").style({fill:b.background,stroke:b.defaultLine,"stroke-width":1}).attr("transform",gr).attr("d","M0,0Z");if(ct&&me.hasText){var hr=xt.select(".label-temp");hr.empty()&&(hr=xt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Gr=Qt._uid+_.SELECTID,Dr=[],Ir=se(_t,me.xaxes,me.yaxes,me.subplot);wr&&!Ge.shiftKey&&(me._clearSubplotSelections=function(){if(Me){var rn=Nt._id,Cn=Kt._id;ut(_t,rn,Cn,Ir);for(var Sn=(_t.layout||{}).selections||[],Tr=[],Lr=!1,Wr=0;Wr<Sn.length;Wr++){var Ur=Qt.selections[Wr];Ur.xref!==rn||Ur.yref!==Cn?Tr.push(Sn[Wr]):Lr=!0}Lr&&(_t._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",_t,{selections:Tr}))}});var cn=rt(me);me.moveFn=function(rn,Cn){me._clearSubplotSelections&&(me._clearSubplotSelections(),me._clearSubplotSelections=void 0),Rt=Math.max(0,Math.min(ur,wt*rn+or)),Dt=Math.max(0,Math.min(fr,Et*Cn+yt));var Sn=Math.abs(Rt-or),Tr=Math.abs(Dt-yt);if(je){var Lr,Wr,Ur;if(pt){var an=Qt.selectdirection;switch(an==="any"?Tr<Math.min(Sn*.6,V)?Lr="h":Sn<Math.min(Tr*.6,V)?Lr="v":Lr="d":Lr=an,Lr){case"h":Wr=Yt?fr/2:0,Ur=fr;break;case"v":Wr=Yt?ur/2:0,Ur=ur;break}}if(ct)switch(Qt.newshape.drawdirection){case"vertical":Lr="h",Wr=Yt?fr/2:0,Ur=fr;break;case"horizontal":Lr="v",Wr=Yt?ur/2:0,Ur=ur;break;case"ortho":Sn<Tr?(Lr="h",Wr=yt,Ur=Dt):(Lr="v",Wr=or,Ur=Rt);break;default:Lr="d"}Lr==="h"?(kt=Tt?o(Yt,[Rt,Wr],[Rt,Ur]):[[or,Wr],[or,Ur],[Rt,Ur],[Rt,Wr]],kt.xmin=Tt?Rt:Math.min(or,Rt),kt.xmax=Tt?Rt:Math.max(or,Rt),kt.ymin=Math.min(Wr,Ur),kt.ymax=Math.max(Wr,Ur),mr.attr("d","M"+kt.xmin+","+(yt-V)+"h-4v"+2*V+"h4ZM"+(kt.xmax-1)+","+(yt-V)+"h4v"+2*V+"h-4Z")):Lr==="v"?(kt=Tt?o(Yt,[Wr,Dt],[Ur,Dt]):[[Wr,yt],[Wr,Dt],[Ur,Dt],[Ur,yt]],kt.xmin=Math.min(Wr,Ur),kt.xmax=Math.max(Wr,Ur),kt.ymin=Tt?Dt:Math.min(yt,Dt),kt.ymax=Tt?Dt:Math.max(yt,Dt),mr.attr("d","M"+(or-V)+","+kt.ymin+"v-4h"+2*V+"v4ZM"+(or-V)+","+(kt.ymax-1)+"v4h"+2*V+"v-4Z")):Lr==="d"&&(kt=Tt?o(Yt,[or,yt],[Rt,Dt]):[[or,yt],[or,Dt],[Rt,Dt],[Rt,yt]],kt.xmin=Math.min(or,Rt),kt.xmax=Math.max(or,Rt),kt.ymin=Math.min(yt,Dt),kt.ymax=Math.max(yt,Dt),mr.attr("d","M0,0Z"))}else Ne&&(We.addPt([Rt,Dt]),kt=We.filtered);if(me.selectionDefs&&me.selectionDefs.length?(zt=xe(me.mergedPolygons,kt,vr),kt.subtract=vr,He=Z(me.selectionDefs.concat([kt]))):(zt=[kt],He=N(kt)),h(Ve(zt,tt),rr,me),pt){var pn=Be(_t,!1),gn=pn.eventData?pn.eventData.points.slice():[];pn=Be(_t,!1,He,Ir,me),He=pn.selectionTesters,lr=pn.eventData;var En;We?En=We.filtered:En=dt(zt),f.throttle(Gr,_.SELECTDELAY,function(){Dr=Ue(He,Ir);for(var On=Dr.slice(),ni=0;ni<gn.length;ni++){for(var ci=gn[ni],di=!1,li=0;li<On.length;li++)if(On[li].curveNumber===ci.curveNumber&&On[li].pointNumber===ci.pointNumber){di=!0;break}di||On.push(ci)}On.length&&(lr||(lr={}),lr.points=On),cn(lr,En),Oe(_t,lr)})}},me.clickFn=function(rn,Cn){if(mr.remove(),_t._fullLayout._activeShapeIndex>=0){_t._fullLayout._deactivateShape(_t);return}if(!ct){var Sn=Qt.clickmode;f.done(Gr).then(function(){if(f.clear(Gr),rn===2){for(rr.remove(),Zt=0;Zt<Ir.length;Zt++)er=Ir[Zt],er._module.selectPoints(er,!1);if(we(_t,Ir),$(me),Ze(_t),Ir.length){var Tr=Ir[0].xaxis,Lr=Ir[0].yaxis;if(Tr&&Lr){for(var Wr=[],Ur=_t._fullLayout.selections,an=0;an<Ur.length;an++){var pn=Ur[an];pn&&(pn.xref!==Tr._id||pn.yref!==Lr._id)&&Wr.push(pn)}Wr.length<Ur.length&&(_t._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",_t,{selections:Wr}))}}}else Sn.indexOf("select")>-1&&ne(Cn,_t,me.xaxes,me.yaxes,me.subplot,me,rr),Sn==="event"&&Ye(_t,void 0);v.click(_t,Cn,Jt.id)}).catch(x.error)}},me.doneFn=function(){mr.remove(),f.done(Gr).then(function(){f.clear(Gr),!wr&&kt&&me.selectionDefs&&(kt.subtract=vr,me.selectionDefs.push(kt),me.mergedPolygons.length=0,[].push.apply(me.mergedPolygons,zt)),(wr||ct)&&$(me,wr),me.doneFnCompleted&&me.doneFnCompleted(Dr),pt&&Ye(_t,lr)}).catch(x.error)}}function ne(Ge,_e,be,me,Ce,Me,Ne){var je=_e._hoverdata,tt=_e._fullLayout,ct=tt.clickmode,pt=ct.indexOf("event")>-1,Xt=[],Yt,Tt,_t,Qt,wr,xt,jt,Jt,gr,or;if(ce(je)){G(Ge,_e,Me),Yt=se(_e,be,me,Ce);var yt=ye(je,Yt),at=yt.pointNumbers.length>0;if(at?Te(Yt,yt):ke(Yt)&&(jt=Se(yt))){for(Ne&&Ne.remove(),or=0;or<Yt.length;or++)Tt=Yt[or],Tt._module.selectPoints(Tt,!1);we(_e,Yt),$(Me),pt&&Ze(_e)}else{Jt=Ge.shiftKey&&(jt!==void 0?jt:Se(yt)),_t=ue(yt.pointNumber,yt.searchInfo,Jt);var wt=Me.selectionDefs.concat([_t]);for(Qt=Z(wt),or=0;or<Yt.length;or++)if(wr=Yt[or]._module.selectPoints(Yt[or],Qt),xt=De(wr,Yt[or]),Xt.length)for(var Et=0;Et<xt.length;Et++)Xt.push(xt[Et]);else Xt=xt;if(gr={points:Xt},we(_e,Yt,gr),_t&&Me&&Me.selectionDefs.push(_t),Ne){var Rt=Me.mergedPolygons,Dt=u(Me.dragmode);h(Ve(Rt,Dt),Ne,Me)}pt&&Ye(_e,gr)}}}function ue(Ge,_e,be){return{pointNumber:Ge,searchInfo:_e,subtract:!!be}}function q(Ge){return"pointNumber"in Ge&&"searchInfo"in Ge}function Y(Ge){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(_e,be,me,Ce){var Me=Ge.searchInfo.cd[0].trace._expandedIndex,Ne=Ce.cd[0].trace._expandedIndex;return Ne===Me&&me===Ge.pointNumber},isRect:!1,degenerate:!1,subtract:!!Ge.subtract}}function Z(Ge){if(!Ge.length)return;for(var _e=[],be=q(Ge[0])?0:Ge[0][0][0],me=be,Ce=q(Ge[0])?0:Ge[0][0][1],Me=Ce,Ne=0;Ne<Ge.length;Ne++)if(q(Ge[Ne]))_e.push(Y(Ge[Ne]));else{var je=N(Ge[Ne]);je.subtract=!!Ge[Ne].subtract,_e.push(je),be=Math.min(be,je.xmin),me=Math.max(me,je.xmax),Ce=Math.min(Ce,je.ymin),Me=Math.max(Me,je.ymax)}function tt(ct,pt,Xt,Yt){for(var Tt=!1,_t=0;_t<_e.length;_t++)_e[_t].contains(ct,pt,Xt,Yt)&&(Tt=!_e[_t].subtract);return Tt}return{xmin:be,xmax:me,ymin:Ce,ymax:Me,pts:[],contains:tt,isRect:!1,degenerate:!1}}function G(Ge,_e,be){var me=_e._fullLayout,Ce=be.plotinfo,Me=be.dragmode,Ne=me._lastSelectedSubplot&&me._lastSelectedSubplot===Ce.id,je=(Ge.shiftKey||Ge.altKey)&&!(n(Me)&&u(Me));Ne&&je&&Ce.selection&&Ce.selection.selectionDefs&&!be.selectionDefs?(be.selectionDefs=Ce.selection.selectionDefs,be.mergedPolygons=Ce.selection.mergedPolygons):(!je||!Ce.selection)&&$(be),Ne||(g(_e),me._lastSelectedSubplot=Ce.id)}function K(Ge){return Ge._fullLayout._activeShapeIndex>=0}function oe(Ge){return Ge._fullLayout._activeSelectionIndex>=0}function $(Ge,_e){var be=Ge.dragmode,me=Ge.plotinfo,Ce=Ge.gd;K(Ce)&&Ce._fullLayout._deactivateShape(Ce),oe(Ce)&&Ce._fullLayout._deactivateSelection(Ce);var Me=Ce._fullLayout,Ne=Me._zoomlayer,je=n(be),tt=s(be);if(je||tt){var ct=Ne.selectAll(".select-outline-"+me.id);if(ct&&Ce._fullLayout._outlining){var pt;je&&(pt=w(ct,Ge)),pt&&i.call("_guiRelayout",Ce,{shapes:pt});var Xt;tt&&!ee(Ge)&&(Xt=A(ct,Ge)),Xt&&(Ce._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",Ce,{selections:Xt}).then(function(){_e&&C(Ce)})),Ce._fullLayout._outlining=!1}}me.selection={},me.selection.selectionDefs=Ge.selectionDefs=[],me.selection.mergedPolygons=Ge.mergedPolygons=[]}function J(Ge){return Ge._id}function se(Ge,_e,be,me){if(!Ge.calcdata)return[];var Ce=[],Me=_e.map(J),Ne=be.map(J),je,tt,ct;for(ct=0;ct<Ge.calcdata.length;ct++)if(je=Ge.calcdata[ct],tt=je[0].trace,!(tt.visible!==!0||!tt._module||!tt._module.selectPoints))if(ee({subplot:me})&&(tt.subplot===me||tt.geo===me))Ce.push(ie(tt._module,je,_e[0],be[0]));else if(tt.type==="splom"){if(tt._xaxes[Me[0]]&&tt._yaxes[Ne[0]]){var pt=ie(tt._module,je,_e[0],be[0]);pt.scene=Ge._fullLayout._splomScenes[tt.uid],Ce.push(pt)}}else if(tt.type==="sankey"){var Xt=ie(tt._module,je,_e[0],be[0]);Ce.push(Xt)}else{if(Me.indexOf(tt.xaxis)===-1&&(!tt._xA||!tt._xA.overlaying)||Ne.indexOf(tt.yaxis)===-1&&(!tt._yA||!tt._yA.overlaying))continue;Ce.push(ie(tt._module,je,P(Ge,tt.xaxis),P(Ge,tt.yaxis)))}return Ce}function ie(Ge,_e,be,me){return{_module:Ge,cd:_e,xaxis:be,yaxis:me}}function ce(Ge){return Ge&&Array.isArray(Ge)&&Ge[0].hoverOnBox!==!0}function ye(Ge,_e){var be=Ge[0],me=-1,Ce=[],Me,Ne;for(Ne=0;Ne<_e.length;Ne++)if(Me=_e[Ne],be.fullData._expandedIndex===Me.cd[0].trace._expandedIndex){if(be.hoverOnBox===!0)break;be.pointNumber!==void 0?me=be.pointNumber:be.binNumber!==void 0&&(me=be.binNumber,Ce=be.pointNumbers);break}return{pointNumber:me,pointNumbers:Ce,searchInfo:Me}}function Se(Ge){var _e=Ge.searchInfo.cd[0].trace,be=Ge.pointNumber,me=Ge.pointNumbers,Ce=me.length>0,Me=Ce?me[0]:be;return _e.selectedpoints?_e.selectedpoints.indexOf(Me)>-1:!1}function Te(Ge,_e){var be=[],me,Ce,Me,Ne;for(Ne=0;Ne<Ge.length;Ne++)me=Ge[Ne],me.cd[0].trace.selectedpoints&&me.cd[0].trace.selectedpoints.length>0&&be.push(me);if(be.length===1&&(Me=be[0]===_e.searchInfo,Me&&(Ce=_e.searchInfo.cd[0].trace,Ce.selectedpoints.length===_e.pointNumbers.length))){for(Ne=0;Ne<_e.pointNumbers.length;Ne++)if(Ce.selectedpoints.indexOf(_e.pointNumbers[Ne])<0)return!1;return!0}return!1}function ke(Ge){var _e=0,be,me,Ce;for(Ce=0;Ce<Ge.length;Ce++)if(be=Ge[Ce],me=be.cd[0].trace,me.selectedpoints&&(me.selectedpoints.length>1||(_e+=me.selectedpoints.length,_e>1)))return!1;return _e===1}function we(Ge,_e,be){var me;for(me=0;me<_e.length;me++){var Ce=_e[me].cd[0].trace._fullInput,Me=Ge._fullLayout._tracePreGUI[Ce.uid]||{};Me.selectedpoints===void 0&&(Me.selectedpoints=Ce._input.selectedpoints||null)}var Ne;if(be){var je=be.points||[];for(me=0;me<_e.length;me++)Ne=_e[me].cd[0].trace,Ne._input.selectedpoints=Ne._fullInput.selectedpoints=[],Ne._fullInput!==Ne&&(Ne.selectedpoints=[]);for(var tt=0;tt<je.length;tt++){var ct=je[tt],pt=ct.data,Xt=ct.fullData,Yt=ct.pointIndex,Tt=ct.pointIndices;Tt?([].push.apply(pt.selectedpoints,Tt),Ne._fullInput!==Ne&&[].push.apply(Xt.selectedpoints,Tt)):(pt.selectedpoints.push(Yt),Ne._fullInput!==Ne&&Xt.selectedpoints.push(Yt))}}else for(me=0;me<_e.length;me++)Ne=_e[me].cd[0].trace,delete Ne.selectedpoints,delete Ne._input.selectedpoints,Ne._fullInput!==Ne&&delete Ne._fullInput.selectedpoints;Ee(Ge,_e)}function Ee(Ge,_e){for(var be=!1,me=0;me<_e.length;me++){var Ce=_e[me],Me=Ce.cd;i.traceIs(Me[0].trace,"regl")&&(be=!0);var Ne=Ce._module,je=Ne.styleOnSelect||Ne.style;je&&(je(Ge,Me,Me[0].node3),Me[0].nodeRangePlot3&&je(Ge,Me,Me[0].nodeRangePlot3))}be&&(T(Ge),z(Ge))}function xe(Ge,_e,be){for(var me=be?y.difference:y.union,Ce=me({regions:Ge},{regions:[_e]}),Me=Ce.regions.reverse(),Ne=0;Ne<Me.length;Ne++){var je=Me[Ne];je.subtract=ft(je,Me.slice(0,Ne))}return Me}function De(Ge,_e){if(Array.isArray(Ge))for(var be=_e.cd,me=_e.cd[0].trace,Ce=0;Ce<Ge.length;Ce++)Ge[Ce]=p(Ge[Ce],me,be);return Ge}function Ve(Ge,_e){for(var be=[],me=0;me<Ge.length;me++){be[me]=[];for(var Ce=0;Ce<Ge[me].length;Ce++){be[me][Ce]=[],be[me][Ce][0]=Ce?"L":"M";for(var Me=0;Me<Ge[me][Ce].length;Me++)be[me][Ce].push(Ge[me][Ce][Me])}_e||be[me].push(["Z",be[me][0][1],be[me][0][2]])}return be}function Ue(Ge,_e){for(var be=[],me,Ce,Me=0;Me<_e.length;Me++){var Ne=_e[Me];Ce=Ne._module.selectPoints(Ne,Ge),me=De(Ce,Ne),be=be.concat(me)}return be}function Be(Ge,_e,be,me,Ce){var Me=!!me,Ne,je,tt;Ce&&(Ne=Ce.plotinfo,je=Ce.xaxes[0]._id,tt=Ce.yaxes[0]._id);var ct=[],pt=[],Xt=qe(Ge),Yt=Ge._fullLayout;if(Ne){var Tt=Yt._zoomlayer,_t=Yt.dragmode,Qt=n(_t),wr=s(_t);if(Qt||wr){var xt=P(Ge,je,"x"),jt=P(Ge,tt,"y");if(xt&&jt){var Jt=Tt.selectAll(".select-outline-"+Ne.id);if(Jt&&Ge._fullLayout._outlining&&Jt.length){for(var gr=Jt[0][0],or=gr.getAttribute("d"),yt=d(or,Ge,Ne),at=[],wt=0;wt<yt.length;wt++){for(var Et=yt[wt],Rt=[],Dt=0;Dt<Et.length;Dt++)Rt.push([ht(xt,Et[Dt][1]),ht(jt,Et[Dt][2])]);Rt.xref=je,Rt.yref=tt,Rt.subtract=ft(Rt,at),at.push(Rt)}Xt=Xt.concat(at)}}}}var Ut=je&&tt?[je+tt]:Yt._subplots.cartesian;Xe(Ge);for(var Nt={},Kt=0;Kt<Ut.length;Kt++){var ur=Ut[Kt],fr=ur.indexOf("y"),vr=ur.slice(0,fr),We=ur.slice(fr),He=je&&tt?be:void 0;if(He=et(Xt,vr,We,He),He){var zt=me;if(!Me){var kt=P(Ge,vr,"x"),Zt=P(Ge,We,"y");zt=se(Ge,[kt],[Zt],ur);for(var er=0;er<zt.length;er++){var lr=zt[er],rr=lr.cd[0],Ft=rr.trace;if(lr._module.name==="scattergl"&&!rr.t.xpx){var cr=Ft.x,pr=Ft.y,mr=Ft._length;rr.t.xpx=[],rr.t.ypx=[];for(var hr=0;hr<mr;hr++)rr.t.xpx[hr]=kt.c2p(cr[hr]),rr.t.ypx[hr]=Zt.c2p(pr[hr])}lr._module.name==="splom"&&(Nt[Ft.uid]||(Nt[Ft.uid]=!0))}}var Gr=Ue(He,zt);ct=ct.concat(Gr),pt=pt.concat(zt)}}var Dr={points:ct};we(Ge,pt,Dr);var Ir=Yt.clickmode,cn=Ir.indexOf("event")>-1&&_e;if(!Ne&&_e){var rn=qe(Ge,!0);if(rn.length){var Cn=rn[0].xref,Sn=rn[0].yref;if(Cn&&Sn){var Tr=dt(rn),Lr=St([P(Ge,Cn,"x"),P(Ge,Sn,"y")]);Lr(Dr,Tr)}}Ge._fullLayout._noEmitSelectedAtStart?Ge._fullLayout._noEmitSelectedAtStart=!1:cn&&Ye(Ge,Dr),Yt._reselect=!1}if(!Ne&&Yt._deselect){var Wr=Yt._deselect;je=Wr.xref,tt=Wr.yref,ot(je,tt,pt)||ut(Ge,je,tt,me),cn&&(Dr.points.length?Ye(Ge,Dr):Ze(Ge)),Yt._deselect=!1}return{eventData:Dr,selectionTesters:be}}function Xe(Ge){var _e=Ge.calcdata;if(_e)for(var be=0;be<_e.length;be++){var me=_e[be][0],Ce=me.trace,Me=Ge._fullLayout._splomScenes;if(Me){var Ne=Me[Ce.uid];Ne&&(Ne.selectBatch=[])}}}function ot(Ge,_e,be){for(var me=0;me<be.length;me++){var Ce=be[me];if(Ce.xaxis&&Ce.xaxis._id===Ge&&Ce.yaxis&&Ce.yaxis._id===_e)return!0}return!1}function ut(Ge,_e,be,me){me=se(Ge,[P(Ge,_e,"x")],[P(Ge,be,"y")],_e+be);for(var Ce=0;Ce<me.length;Ce++){var Me=me[Ce];Me._module.selectPoints(Me,!1)}we(Ge,me)}function et(Ge,_e,be,me){for(var Ce,Me=0;Me<Ge.length;Me++){var Ne=Ge[Me];if(!(_e!==Ne.xref||be!==Ne.yref))if(Ce){var je=!!Ne.subtract;Ce=xe(Ce,Ne,je),me=Z(Ce)}else Ce=[Ne],me=N(Ne)}return me}function qe(Ge,_e){for(var be=[],me=Ge._fullLayout,Ce=me.selections,Me=Ce.length,Ne=0;Ne<Me;Ne++)if(!(_e&&Ne!==me._activeSelectionIndex)){var je=Ce[Ne];if(je){var tt=je.xref,ct=je.yref,pt=P(Ge,tt,"x"),Xt=P(Ge,ct,"y"),Yt,Tt,_t,Qt,wr;if(je.type==="rect"){wr=[];var xt=ht(pt,je.x0),jt=ht(pt,je.x1),Jt=ht(Xt,je.y0),gr=ht(Xt,je.y1);wr=[[xt,Jt],[xt,gr],[jt,gr],[jt,Jt]],Yt=Math.min(xt,jt),Tt=Math.max(xt,jt),_t=Math.min(Jt,gr),Qt=Math.max(Jt,gr),wr.xmin=Yt,wr.xmax=Tt,wr.ymin=_t,wr.ymax=Qt,wr.xref=tt,wr.yref=ct,wr.subtract=!1,wr.isRect=!0,be.push(wr)}else if(je.type==="path")for(var or=je.path.split("Z"),yt=[],at=0;at<or.length;at++){var wt=or[at];if(wt){wt+="Z";var Et=l.extractPathCoords(wt,m.paramIsX,"raw"),Rt=l.extractPathCoords(wt,m.paramIsY,"raw");Yt=1/0,Tt=-1/0,_t=1/0,Qt=-1/0,wr=[];for(var Dt=0;Dt<Et.length;Dt++){var Ut=ht(pt,Et[Dt]),Nt=ht(Xt,Rt[Dt]);wr.push([Ut,Nt]),Yt=Math.min(Ut,Yt),Tt=Math.max(Ut,Tt),_t=Math.min(Nt,_t),Qt=Math.max(Nt,Qt)}wr.xmin=Yt,wr.xmax=Tt,wr.ymin=_t,wr.ymax=Qt,wr.xref=tt,wr.yref=ct,wr.subtract=ft(wr,yt),yt.push(wr),be.push(wr)}}}}return be}function ft(Ge,_e){for(var be=!1,me=0;me<_e.length;me++)for(var Ce=_e[me],Me=0;Me<Ge.length;Me++)if(L(Ge[Me],Ce)){be=!be;break}return be}function ht(Ge,_e){return Ge.type==="date"&&(_e=_e.replace("_"," ")),Ge.type==="log"?Ge.c2p(_e):Ge.r2p(_e,null,Ge.calendar)}function dt(Ge){for(var _e=Ge.length,be=[],me=0;me<_e;me++){var Ce=Ge[me];be=be.concat(Ce),be=be.concat([Ce[0]])}return mt(be)}function mt(Ge){return Ge.isRect=Ge.length===5&&Ge[0][0]===Ge[4][0]&&Ge[0][1]===Ge[4][1]&&Ge[0][0]===Ge[1][0]&&Ge[2][0]===Ge[3][0]&&Ge[0][1]===Ge[3][1]&&Ge[1][1]===Ge[2][1]||Ge[0][1]===Ge[1][1]&&Ge[2][1]===Ge[3][1]&&Ge[0][0]===Ge[3][0]&&Ge[1][0]===Ge[2][0],Ge.isRect&&(Ge.xmin=Math.min(Ge[0][0],Ge[2][0]),Ge.xmax=Math.max(Ge[0][0],Ge[2][0]),Ge.ymin=Math.min(Ge[0][1],Ge[2][1]),Ge.ymax=Math.max(Ge[0][1],Ge[2][1])),Ge}function St(Ge){return function(_e,be){for(var me,Ce,Me=0;Me<Ge.length;Me++){var Ne=Ge[Me],je=Ne._id,tt=je.charAt(0);if(be.isRect){me||(me={});var ct=be[tt+"min"],pt=be[tt+"max"];ct!==void 0&&pt!==void 0&&(me[je]=[I(Ne,ct),I(Ne,pt)].sort(E))}else Ce||(Ce={}),Ce[je]=be.map(H(Ne))}me&&(_e.range=me),Ce&&(_e.lassoPoints=Ce)}}function rt(Ge){var _e=Ge.plotinfo;return _e.fillRangeItems||St(Ge.xaxes.concat(Ge.yaxes))}function Oe(Ge,_e){Ge.emit("plotly_selecting",_e)}function Ye(Ge,_e){_e&&(_e.selections=(Ge.layout||{}).selections||[]),Ge.emit("plotly_selected",_e)}function Ze(Ge){Ge.emit("plotly_deselect",null)}U.exports={reselect:Be,prepSelect:te,clearOutline:g,clearSelectionsCache:$,selectOnClick:ne}},46056:function(U,B,e){var y=e(13916),L=e(25376),i=e(52904).line,S=e(98192).u,b=e(92880).extendFlat,v=e(31780).templatedArray;e(36208);var p=e(45464),r=e(21776).ye,t=e(97728);U.exports=v("shape",{visible:b({},p.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:b({},p.legend,{editType:"calc+arraydraw"}),legendgroup:b({},p.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:b({},p.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:L({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:b({},p.legendrank,{editType:"calc+arraydraw"}),legendwidth:b({},p.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:b({},y.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:b({},y.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:b({},i.color,{editType:"arraydraw"}),width:b({},i.width,{editType:"calc+arraydraw"}),dash:b({},S,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:r({},{keys:Object.keys(t)}),font:L({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(U,B,e){var y=e(3400),L=e(54460),i=e(85448),S=e(65152);U.exports=function(a){var n=a._fullLayout,u=y.filterVisible(n.shapes);if(!(!u.length||!a._fullData.length))for(var s=0;s<u.length;s++){var l=u[s];l._extremes={};var m,h,g=L.getRefType(l.xref),c=L.getRefType(l.yref);if(l.xref!=="paper"&&g!=="domain"){var o=l.xsizemode==="pixel"?l.xanchor:l.x0,d=l.xsizemode==="pixel"?l.xanchor:l.x1;m=L.getFromId(a,l.xref),h=r(m,o,d,l.path,i.paramIsX),h&&(l._extremes[m._id]=L.findExtremes(m,h,b(l)))}if(l.yref!=="paper"&&c!=="domain"){var w=l.ysizemode==="pixel"?l.yanchor:l.y0,A=l.ysizemode==="pixel"?l.yanchor:l.y1;m=L.getFromId(a,l.yref),h=r(m,w,A,l.path,i.paramIsY),h&&(l._extremes[m._id]=L.findExtremes(m,h,v(l)))}}};function b(t){return p(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function v(t){return p(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function p(t,a,n,u,s,l){var m=t/2,h=l;if(a==="pixel"){var g=s?S.extractPathCoords(s,l?i.paramIsY:i.paramIsX):[n,u],c=y.aggNums(Math.max,null,g),o=y.aggNums(Math.min,null,g),d=o<0?Math.abs(o)+m:m,w=c>0?c+m:m;return{ppad:m,ppadplus:h?d:w,ppadminus:h?w:d}}else return{ppad:m}}function r(t,a,n,u,s){var l=t.type==="category"||t.type==="multicategory"?t.r2c:t.d2c;if(a!==void 0)return[l(a),l(n)];if(u){var m=1/0,h=-1/0,g=u.match(i.segmentRE),c,o,d,w,A;for(t.type==="date"&&(l=S.decodeDate(l)),c=0;c<g.length;c++)o=g[c],d=s[o.charAt(0)].drawn,d!==void 0&&(w=g[c].substr(1).match(i.paramRE),!(!w||w.length<d)&&(A=l(w[d]),A<m&&(m=A),A>h&&(h=A)));if(h>=m)return[m,h]}}},85448:function(U){U.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(U,B,e){var y=e(3400),L=e(54460),i=e(51272),S=e(46056),b=e(65152);U.exports=function(t,a){i(t,a,{name:"shapes",handleItemDefaults:p})};function v(r,t){return r?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function p(r,t,a){function n(q,Y){return y.coerce(r,t,S,q,Y)}t._isShape=!0;var u=n("visible");if(u){var s=n("showlegend");s&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),y.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var l=n("path"),m=l?"path":"rect",h=n("type",m),g=h!=="path";g&&delete t.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var c=n("line.width");c&&(n("line.color"),n("line.dash"));for(var o=n("xsizemode"),d=n("ysizemode"),w=["x","y"],A=0;A<2;A++){var C=w[A],x=C+"anchor",E=C==="x"?o:d,M={_fullLayout:a},f,P,T,z=L.coerceRef(r,t,M,C,void 0,"paper"),_=L.getRefType(z);if(_==="range"?(f=L.getFromId(M,z),f._shapeIndices.push(t._index),T=b.rangeToShapePosition(f),P=b.shapePositionToRange(f)):P=T=y.identity,g){var V=.25,F=.75,N=C+"0",k=C+"1",I=r[N],H=r[k];r[N]=P(r[N],!0),r[k]=P(r[k],!0),E==="pixel"?(n(N,0),n(k,10)):(L.coercePosition(t,M,n,z,N,V),L.coercePosition(t,M,n,z,k,F)),t[N]=T(t[N]),t[k]=T(t[k]),r[N]=I,r[k]=H}if(E==="pixel"){var j=r[x];r[x]=P(r[x],!0),L.coercePosition(t,M,n,z,x,.25),t[x]=T(t[x]),r[x]=j}}g&&y.noneOrAll(r,t,["x0","x1","y0","y1"]);var ee=h==="line",te,ne;if(g&&(te=n("label.texttemplate")),te||(ne=n("label.text")),ne||te){n("label.textangle");var ue=n("label.textposition",ee?"middle":"middle center");n("label.xanchor"),n("label.yanchor",v(ee,ue)),n("label.padding"),y.coerceFont(n,"label.font",a.font)}}}},60728:function(U,B,e){var y=e(3400),L=e(54460),i=e(72736),S=e(43616),b=e(9856).readPaths,v=e(65152),p=v.getPathString,r=e(97728),t=e(84284).FROM_TL;U.exports=function(s,l,m,h){if(h.selectAll(".shape-label").remove(),!!(m.label.text||m.label.texttemplate)){var g;if(m.label.texttemplate){var c={};if(m.type!=="path"){var o=L.getFromId(s,m.xref),d=L.getFromId(s,m.yref);for(var w in r){var A=r[w](m,o,d);A!==void 0&&(c[w]=A)}}g=y.texttemplateStringForShapes(m.label.texttemplate,{},s._fullLayout._d3locale,c)}else g=m.label.text;var C={"data-index":l},x=m.label.font,E={"data-notex":1},M=h.append("g").attr(C).classed("shape-label",!0),f=M.append("text").attr(E).classed("shape-label-text",!0).text(g),P,T,z,_;if(m.path){var V=p(s,m),F=b(V,s);P=1/0,z=1/0,T=-1/0,_=-1/0;for(var N=0;N<F.length;N++)for(var k=0;k<F[N].length;k++)for(var I=F[N][k],H=1;H<I.length;H+=2){var j=I[H],ee=I[H+1];P=Math.min(P,j),T=Math.max(T,j),z=Math.min(z,ee),_=Math.max(_,ee)}}else{var te=L.getFromId(s,m.xref),ne=L.getRefType(m.xref),ue=L.getFromId(s,m.yref),q=L.getRefType(m.yref),Y=v.getDataToPixel(s,te,!1,ne),Z=v.getDataToPixel(s,ue,!0,q);P=Y(m.x0),T=Y(m.x1),z=Z(m.y0),_=Z(m.y1)}var G=m.label.textangle;G==="auto"&&(m.type==="line"?G=a(P,z,T,_):G=0),f.call(function(ie){return ie.call(S.font,x).attr({}),i.convertToTspans(ie,s),ie});var K=S.bBox(f.node()),oe=n(P,z,T,_,m,G,K),$=oe.textx,J=oe.texty,se=oe.xanchor;f.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[se],y:J,x:$,transform:"rotate("+G+","+$+","+J+")"}).call(i.positionText,$,J)}};function a(u,s,l,m){var h,g;return g=Math.abs(l-u),l>=u?h=s-m:h=m-s,-180/Math.PI*Math.atan2(h,g)}function n(u,s,l,m,h,g,c){var o=h.label.textposition,d=h.label.textangle,w=h.label.padding,A=h.type,C=Math.PI/180*g,x=Math.sin(C),E=Math.cos(C),M=h.label.xanchor,f=h.label.yanchor,P,T,z,_;if(A==="line"){o==="start"?(P=u,T=s):o==="end"?(P=l,T=m):(P=(u+l)/2,T=(s+m)/2),M==="auto"&&(o==="start"?d==="auto"?l>u?M="left":l<u?M="right":M="center":l>u?M="right":l<u?M="left":M="center":o==="end"?d==="auto"?l>u?M="right":l<u?M="left":M="center":l>u?M="left":l<u?M="right":M="center":M="center");var V={left:1,center:0,right:-1},F={bottom:-1,middle:0,top:1};if(d==="auto"){var N=F[f];z=-w*x*N,_=w*E*N}else{var k=V[M],I=F[f];z=w*k,_=w*I}P=P+z,T=T+_}else z=w+3,o.indexOf("right")!==-1?(P=Math.max(u,l)-z,M==="auto"&&(M="right")):o.indexOf("left")!==-1?(P=Math.min(u,l)+z,M==="auto"&&(M="left")):(P=(u+l)/2,M==="auto"&&(M="center")),o.indexOf("top")!==-1?T=Math.min(s,m):o.indexOf("bottom")!==-1?T=Math.max(s,m):T=(s+m)/2,_=w,f==="bottom"?T=T-_:f==="top"&&(T=T+_);var H=t[f],j=h.label.font.size,ee=c.height,te=(ee*H-j)*x,ne=-(ee*H-j)*E;return{textx:P+te,texty:T+ne,xanchor:M}}},55496:function(U,B,e){var y=e(3400),L=y.strTranslate,i=e(86476),S=e(72760),b=S.drawMode,v=S.selectMode,p=e(24040),r=e(76308),t=e(7e3),a=t.i000,n=t.i090,u=t.i180,s=t.i270,l=e(1936),m=l.clearOutlineControllers,h=e(9856),g=h.pointsOnRectangle,c=h.pointsOnEllipse,o=h.writePaths,d=e(93940).newShapes,w=e(93940).createShapeObj,A=e(5968),C=e(60728);U.exports=function f(P,T,z,_){_||(_=0);var V=z.gd;function F(){f(P,T,z,_++),(c(P[0])||z.hasText)&&N({redrawing:!0})}function N(xe){var De={};z.isActiveShape!==void 0&&(z.isActiveShape=!1,De=d(T,z)),z.isActiveSelection!==void 0&&(z.isActiveSelection=!1,De=A(T,z),V._fullLayout._reselect=!0),Object.keys(De).length&&p.call((xe||{}).redrawing?"relayout":"_guiRelayout",V,De)}var k=V._fullLayout,I=k._zoomlayer,H=z.dragmode,j=b(H),ee=v(H);(j||ee)&&(V._fullLayout._outlining=!0),m(V),T.attr("d",o(P));var te,ne,ue,q,Y;if(!_&&(z.isActiveShape||z.isActiveSelection)){Y=x([],P);var Z=I.append("g").attr("class","outline-controllers");ce(Z),Ee()}if(j&&z.hasText){var G=I.select(".label-temp"),K=w(T,z,z.dragmode);C(V,"label-temp",K,G)}function oe(xe){ue=+xe.srcElement.getAttribute("data-i"),q=+xe.srcElement.getAttribute("data-j"),te[ue][q].moveFn=$}function $(xe,De){if(P.length){var Ve=Y[ue][q][1],Ue=Y[ue][q][2],Be=P[ue],Xe=Be.length;if(g(Be)){var ot=xe,ut=De;if(z.isActiveSelection){var et=E(Be,q);et[1]===Be[q][1]?ut=0:ot=0}for(var qe=0;qe<Xe;qe++)if(qe!==q){var ft=Be[qe];ft[1]===Be[q][1]&&(ft[1]=Ve+ot),ft[2]===Be[q][2]&&(ft[2]=Ue+ut)}if(Be[q][1]=Ve+ot,Be[q][2]=Ue+ut,!g(Be))for(var ht=0;ht<Xe;ht++)for(var dt=0;dt<Be[ht].length;dt++)Be[ht][dt]=Y[ue][ht][dt]}else Be[q][1]=Ve+xe,Be[q][2]=Ue+De;F()}}function J(){N()}function se(){if(P.length&&P[ue]&&P[ue].length){for(var xe=[],De=0;De<P[ue].length;De++)De!==q&&xe.push(P[ue][De]);xe.length>1&&!(xe.length===2&&xe[1][0]==="Z")&&(q===0&&(xe[0][0]="M"),P[ue]=xe,F(),N())}}function ie(xe,De){if(xe===2){ue=+De.srcElement.getAttribute("data-i"),q=+De.srcElement.getAttribute("data-j");var Ve=P[ue];!g(Ve)&&!c(Ve)&&se()}}function ce(xe){te=[];for(var De=0;De<P.length;De++){var Ve=P[De],Ue=g(Ve),Be=!Ue&&c(Ve);te[De]=[];for(var Xe=Ve.length,ot=0;ot<Xe;ot++)if(Ve[ot][0]!=="Z"&&!(Be&&ot!==a&&ot!==n&&ot!==u&&ot!==s)){var ut=Ue&&z.isActiveSelection,et;ut&&(et=E(Ve,ot));var qe=Ve[ot][1],ft=Ve[ot][2],ht=xe.append(ut?"rect":"circle").attr("data-i",De).attr("data-j",ot).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(ut){var dt=et[1]-qe,mt=et[2]-ft,St=mt?5:Math.max(Math.min(25,Math.abs(dt)-5),5),rt=dt?5:Math.max(Math.min(25,Math.abs(mt)-5),5);ht.classed(mt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",St).attr("height",rt).attr("x",qe-St/2).attr("y",ft-rt/2).attr("transform",L(dt/2,mt/2))}else ht.classed("cursor-grab",!0).attr("r",5).attr("cx",qe).attr("cy",ft);te[De][ot]={element:ht.node(),gd:V,prepFn:oe,doneFn:J,clickFn:ie},i.init(te[De][ot])}}}function ye(xe,De){if(P.length)for(var Ve=0;Ve<P.length;Ve++)for(var Ue=0;Ue<P[Ve].length;Ue++)for(var Be=0;Be+2<P[Ve][Ue].length;Be+=2)P[Ve][Ue][Be+1]=Y[Ve][Ue][Be+1]+xe,P[Ve][Ue][Be+2]=Y[Ve][Ue][Be+2]+De}function Se(xe,De){ye(xe,De),F()}function Te(xe){ue=+xe.srcElement.getAttribute("data-i"),ue||(ue=0),ne[ue].moveFn=Se}function ke(){N()}function we(xe){xe===2&&M(V)}function Ee(){if(ne=[],!!P.length){var xe=0;ne[xe]={element:T[0][0],gd:V,prepFn:Te,doneFn:ke,clickFn:we},i.init(ne[xe])}}};function x(f,P){for(var T=0;T<P.length;T++){var z=P[T];f[T]=[];for(var _=0;_<z.length;_++){f[T][_]=[];for(var V=0;V<z[_].length;V++)f[T][_][V]=z[_][V]}}return f}function E(f,P){var T=f[P][1],z=f[P][2],_=f.length,V,F,N;return V=(P+1)%_,F=f[V][1],N=f[V][2],F===T&&N===z&&(V=(P+2)%_,F=f[V][1],N=f[V][2]),[V,F,N]}function M(f){if(v(f._fullLayout.dragmode)){m(f);var P=f._fullLayout._activeSelectionIndex,T=(f.layout||{}).selections||[];if(P<T.length){for(var z=[],_=0;_<T.length;_++)_!==P&&z.push(T[_]);delete f._fullLayout._activeSelectionIndex;var V=f._fullLayout.selections[P];f._fullLayout._deselect={xref:V.xref,yref:V.yref},p.call("_guiRelayout",f,{selections:z})}}}},4016:function(U,B,e){var y=e(33428),L=e(24040),i=e(3400),S=e(54460),b=e(9856).readPaths,v=e(55496),p=e(60728),r=e(1936).clearOutlineControllers,t=e(76308),a=e(43616),n=e(31780).arrayEditor,u=e(86476),s=e(93972),l=e(85448),m=e(65152),h=m.getPathString;U.exports={draw:g,drawOne:d,eraseActiveShape:M,drawLabel:p};function g(f){var P=f._fullLayout;P._shapeUpperLayer.selectAll("path").remove(),P._shapeLowerLayer.selectAll("path").remove(),P._shapeUpperLayer.selectAll("text").remove(),P._shapeLowerLayer.selectAll("text").remove();for(var T in P._plots){var z=P._plots[T].shapelayer;z&&(z.selectAll("path").remove(),z.selectAll("text").remove())}for(var _=0;_<P.shapes.length;_++)P.shapes[_].visible===!0&&d(f,_)}function c(f){return!!f._fullLayout._outlining}function o(f){return!f._context.edits.shapePosition}function d(f,P){f._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+P+'"]').remove();var T=m.makeShapesOptionsAndPlotinfo(f,P),z=T.options,_=T.plotinfo;if(!z._input||z.visible!==!0)return;if(z.layer!=="below")F(f._fullLayout._shapeUpperLayer);else if(z.xref==="paper"||z.yref==="paper")F(f._fullLayout._shapeLowerLayer);else if(_._hadPlotinfo){var V=_.mainplotinfo||_;F(V.shapelayer)}else F(f._fullLayout._shapeLowerLayer);function F(N){var k=h(f,z),I={"data-index":P,"fill-rule":z.fillrule,d:k},H=z.opacity,j=z.fillcolor,ee=z.line.width?z.line.color:"rgba(0,0,0,0)",te=z.line.width,ne=z.line.dash;!te&&z.editable===!0&&(te=5,ne="solid");var ue=k[k.length-1]!=="Z",q=o(f)&&z.editable&&f._fullLayout._activeShapeIndex===P;q&&(j=ue?"rgba(0,0,0,0)":f._fullLayout.activeshape.fillcolor,H=f._fullLayout.activeshape.opacity);var Y=N.append("g").classed("shape-group",!0).attr({"data-index":P}),Z=Y.append("path").attr(I).style("opacity",H).call(t.stroke,ee).call(t.fill,j).call(a.dashLine,ne,te);w(Y,f,z),p(f,P,z,Y);var G;if((q||f._context.edits.shapePosition)&&(G=n(f.layout,"shapes",z)),q){Z.style({cursor:"move"});var K={element:Z.node(),plotinfo:_,gd:f,editHelpers:G,hasText:z.label.text||z.label.texttemplate,isActiveShape:!0},oe=b(k,f);v(oe,Z,K)}else f._context.edits.shapePosition?A(f,Z,z,P,N,G):z.editable===!0&&Z.style("pointer-events",ue||t.opacity(j)*H<=.5?"stroke":"all");Z.node().addEventListener("click",function(){return x(f,Z)})}}function w(f,P,T){var z=(T.xref+T.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");a.setClipUrl(f,z?"clip"+P._fullLayout._uid+z:null,P)}function A(f,P,T,z,_,V){var F=10,N=10,k=T.xsizemode==="pixel",I=T.ysizemode==="pixel",H=T.type==="line",j=T.type==="path",ee=V.modifyItem,te,ne,ue,q,Y,Z,G,K,oe,$,J,se,ie,ce,ye,Se=y.select(P.node().parentNode),Te=S.getFromId(f,T.xref),ke=S.getRefType(T.xref),we=S.getFromId(f,T.yref),Ee=S.getRefType(T.yref),xe=m.getDataToPixel(f,Te,!1,ke),De=m.getDataToPixel(f,we,!0,Ee),Ve=m.getPixelToData(f,Te,!1,ke),Ue=m.getPixelToData(f,we,!0,Ee),Be=ut(),Xe={element:Be.node(),gd:f,prepFn:ft,doneFn:ht,clickFn:dt},ot;u.init(Xe),Be.node().onmousemove=qe;function ut(){return H?et():P}function et(){var Ze=10,Ge=Math.max(T.line.width,Ze),_e=_.append("g").attr("data-index",z).attr("drag-helper",!0);_e.append("path").attr("d",P.attr("d")).style({cursor:"move","stroke-width":Ge,"stroke-opacity":"0"});var be={"fill-opacity":"0"},me=Math.max(Ge/2,Ze);return _e.append("circle").attr({"data-line-point":"start-point",cx:k?xe(T.xanchor)+T.x0:xe(T.x0),cy:I?De(T.yanchor)-T.y0:De(T.y0),r:me}).style(be).classed("cursor-grab",!0),_e.append("circle").attr({"data-line-point":"end-point",cx:k?xe(T.xanchor)+T.x1:xe(T.x1),cy:I?De(T.yanchor)-T.y1:De(T.y1),r:me}).style(be).classed("cursor-grab",!0),_e}function qe(Ze){if(c(f)){ot=null;return}if(H)Ze.target.tagName==="path"?ot="move":ot=Ze.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Ge=Xe.element.getBoundingClientRect(),_e=Ge.right-Ge.left,be=Ge.bottom-Ge.top,me=Ze.clientX-Ge.left,Ce=Ze.clientY-Ge.top,Me=!j&&_e>F&&be>N&&!Ze.shiftKey?u.getCursor(me/_e,1-Ce/be):"move";s(P,Me),ot=Me.split("-")[0]}}function ft(Ze){c(f)||(k&&(Y=xe(T.xanchor)),I&&(Z=De(T.yanchor)),T.type==="path"?ye=T.path:(te=k?T.x0:xe(T.x0),ne=I?T.y0:De(T.y0),ue=k?T.x1:xe(T.x1),q=I?T.y1:De(T.y1)),te<ue?(oe=te,ie="x0",$=ue,ce="x1"):(oe=ue,ie="x1",$=te,ce="x0"),!I&&ne<q||I&&ne>q?(G=ne,J="y0",K=q,se="y1"):(G=q,J="y1",K=ne,se="y0"),qe(Ze),rt(_,T),Ye(P,T,f),Xe.moveFn=ot==="move"?mt:St,Xe.altKey=Ze.altKey)}function ht(){c(f)||(s(P),Oe(_),w(P,f,T),L.call("_guiRelayout",f,V.getUpdateObj()))}function dt(){c(f)||Oe(_)}function mt(Ze,Ge){if(T.type==="path"){var _e=function(Ce){return Ce},be=_e,me=_e;k?ee("xanchor",T.xanchor=Ve(Y+Ze)):(be=function(Me){return Ve(xe(Me)+Ze)},Te&&Te.type==="date"&&(be=m.encodeDate(be))),I?ee("yanchor",T.yanchor=Ue(Z+Ge)):(me=function(Me){return Ue(De(Me)+Ge)},we&&we.type==="date"&&(me=m.encodeDate(me))),ee("path",T.path=C(ye,be,me))}else k?ee("xanchor",T.xanchor=Ve(Y+Ze)):(ee("x0",T.x0=Ve(te+Ze)),ee("x1",T.x1=Ve(ue+Ze))),I?ee("yanchor",T.yanchor=Ue(Z+Ge)):(ee("y0",T.y0=Ue(ne+Ge)),ee("y1",T.y1=Ue(q+Ge)));P.attr("d",h(f,T)),rt(_,T),p(f,z,T,Se)}function St(Ze,Ge){if(j){var _e=function(xt){return xt},be=_e,me=_e;k?ee("xanchor",T.xanchor=Ve(Y+Ze)):(be=function(jt){return Ve(xe(jt)+Ze)},Te&&Te.type==="date"&&(be=m.encodeDate(be))),I?ee("yanchor",T.yanchor=Ue(Z+Ge)):(me=function(jt){return Ue(De(jt)+Ge)},we&&we.type==="date"&&(me=m.encodeDate(me))),ee("path",T.path=C(ye,be,me))}else if(H){if(ot==="resize-over-start-point"){var Ce=te+Ze,Me=I?ne-Ge:ne+Ge;ee("x0",T.x0=k?Ce:Ve(Ce)),ee("y0",T.y0=I?Me:Ue(Me))}else if(ot==="resize-over-end-point"){var Ne=ue+Ze,je=I?q-Ge:q+Ge;ee("x1",T.x1=k?Ne:Ve(Ne)),ee("y1",T.y1=I?je:Ue(je))}}else{var tt=function(xt){return ot.indexOf(xt)!==-1},ct=tt("n"),pt=tt("s"),Xt=tt("w"),Yt=tt("e"),Tt=ct?G+Ge:G,_t=pt?K+Ge:K,Qt=Xt?oe+Ze:oe,wr=Yt?$+Ze:$;I&&(ct&&(Tt=G-Ge),pt&&(_t=K-Ge)),(!I&&_t-Tt>N||I&&Tt-_t>N)&&(ee(J,T[J]=I?Tt:Ue(Tt)),ee(se,T[se]=I?_t:Ue(_t))),wr-Qt>F&&(ee(ie,T[ie]=k?Qt:Ve(Qt)),ee(ce,T[ce]=k?wr:Ve(wr)))}P.attr("d",h(f,T)),rt(_,T),p(f,z,T,Se)}function rt(Ze,Ge){(k||I)&&_e();function _e(){var be=Ge.type!=="path",me=Ze.selectAll(".visual-cue").data([0]),Ce=1;me.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Ce}).classed("visual-cue",!0);var Me=xe(k?Ge.xanchor:i.midRange(be?[Ge.x0,Ge.x1]:m.extractPathCoords(Ge.path,l.paramIsX))),Ne=De(I?Ge.yanchor:i.midRange(be?[Ge.y0,Ge.y1]:m.extractPathCoords(Ge.path,l.paramIsY)));if(Me=m.roundPositionForSharpStrokeRendering(Me,Ce),Ne=m.roundPositionForSharpStrokeRendering(Ne,Ce),k&&I){var je="M"+(Me-1-Ce)+","+(Ne-1-Ce)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";me.attr("d",je)}else if(k){var tt="M"+(Me-1-Ce)+","+(Ne-9-Ce)+"v18 h2 v-18 Z";me.attr("d",tt)}else{var ct="M"+(Me-9-Ce)+","+(Ne-1-Ce)+"h18 v2 h-18 Z";me.attr("d",ct)}}}function Oe(Ze){Ze.selectAll(".visual-cue").remove()}function Ye(Ze,Ge,_e){var be=Ge.xref,me=Ge.yref,Ce=S.getFromId(_e,be),Me=S.getFromId(_e,me),Ne="";be!=="paper"&&!Ce.autorange&&(Ne+=be),me!=="paper"&&!Me.autorange&&(Ne+=me),a.setClipUrl(Ze,Ne?"clip"+_e._fullLayout._uid+Ne:null,_e)}}function C(f,P,T){return f.replace(l.segmentRE,function(z){var _=0,V=z.charAt(0),F=l.paramIsX[V],N=l.paramIsY[V],k=l.numParams[V],I=z.substr(1).replace(l.paramRE,function(H){return _>=k||(F[_]?H=P(H):N[_]&&(H=T(H)),_++),H});return V+I})}function x(f,P){if(o(f)){var T=P.node(),z=+T.getAttribute("data-index");if(z>=0){if(z===f._fullLayout._activeShapeIndex){E(f);return}f._fullLayout._activeShapeIndex=z,f._fullLayout._deactivateShape=E,g(f)}}}function E(f){if(o(f)){var P=f._fullLayout._activeShapeIndex;P>=0&&(r(f),delete f._fullLayout._activeShapeIndex,g(f))}}function M(f){if(o(f)){r(f);var P=f._fullLayout._activeShapeIndex,T=(f.layout||{}).shapes||[];if(P<T.length){for(var z=[],_=0;_<T.length;_++)_!==P&&z.push(T[_]);return delete f._fullLayout._activeShapeIndex,L.call("_guiRelayout",f,{shapes:z})}}}},92872:function(U,B,e){var y=e(67824).overrideAll,L=e(45464),i=e(25376),S=e(98192).u,b=e(92880).extendFlat,v=e(21776).ye,p=e(97728);U.exports=y({newshape:{visible:b({},L.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:b({},L.legend,{}),legendgroup:b({},L.legendgroup,{}),legendgrouptitle:{text:b({},L.legendgrouptitle.text,{}),font:i({})},legendrank:b({},L.legendrank,{}),legendwidth:b({},L.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:b({},S,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:b({},L.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(p)}),font:i({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(U){var B=32;U.exports={CIRCLE_SIDES:B,i000:0,i090:B/4,i180:B/2,i270:B/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(U,B,e){var y=e(76308),L=e(3400);function i(S,b){return S?"bottom":b.indexOf("top")!==-1?"top":b.indexOf("bottom")!==-1?"bottom":"middle"}U.exports=function(b,v,p){p("newshape.visible"),p("newshape.name"),p("newshape.showlegend"),p("newshape.legend"),p("newshape.legendwidth"),p("newshape.legendgroup"),p("newshape.legendgrouptitle.text"),L.coerceFont(p,"newshape.legendgrouptitle.font"),p("newshape.legendrank"),p("newshape.drawdirection"),p("newshape.layer"),p("newshape.fillcolor"),p("newshape.fillrule"),p("newshape.opacity");var r=p("newshape.line.width");if(r){var t=(b||{}).plot_bgcolor||"#FFF";p("newshape.line.color",y.contrast(t)),p("newshape.line.dash")}var a=b.dragmode==="drawline",n=p("newshape.label.text"),u=p("newshape.label.texttemplate");if(n||u){p("newshape.label.textangle");var s=p("newshape.label.textposition",a?"middle":"middle center");p("newshape.label.xanchor"),p("newshape.label.yanchor",i(a,s)),p("newshape.label.padding"),L.coerceFont(p,"newshape.label.font",v.font)}p("activeshape.fillcolor"),p("activeshape.opacity")}},9856:function(U,B,e){var y=e(21984),L=e(7e3),i=L.CIRCLE_SIDES,S=L.SQRT2,b=e(5840),v=b.p2r,p=b.r2p,r=[0,3,4,5,6,1,2],t=[0,3,4,1,2];B.writePaths=function(u){var s=u.length;if(!s)return"M0,0Z";for(var l="",m=0;m<s;m++)for(var h=u[m].length,g=0;g<h;g++){var c=u[m][g][0];if(c==="Z")l+="Z";else for(var o=u[m][g].length,d=0;d<o;d++){var w=d;c==="Q"||c==="S"?w=t[d]:c==="C"&&(w=r[d]),l+=u[m][g][w],d>0&&d<o-1&&(l+=",")}}return l},B.readPaths=function(u,s,l,m){var h=y(u),g=[],c=-1,o=function(){c++,g[c]=[]},d,w=0,A=0,C,x,E=function(){C=w,x=A};E();for(var M=0;M<h.length;M++){var f=[],P,T,z,_,V=h[M][0],F=V;switch(V){case"M":o(),w=+h[M][1],A=+h[M][2],f.push([F,w,A]),E();break;case"Q":case"S":P=+h[M][1],z=+h[M][2],w=+h[M][3],A=+h[M][4],f.push([F,w,A,P,z]);break;case"C":P=+h[M][1],z=+h[M][2],T=+h[M][3],_=+h[M][4],w=+h[M][5],A=+h[M][6],f.push([F,w,A,P,z,T,_]);break;case"T":case"L":w=+h[M][1],A=+h[M][2],f.push([F,w,A]);break;case"H":F="L",w=+h[M][1],f.push([F,w,A]);break;case"V":F="L",A=+h[M][1],f.push([F,w,A]);break;case"A":F="L";var N=+h[M][1],k=+h[M][2];+h[M][4]||(N=-N,k=-k);var I=w-N,H=A;for(d=1;d<=i/2;d++){var j=2*Math.PI*d/i;f.push([F,I+N*Math.cos(j),H+k*Math.sin(j)])}break;case"Z":(w!==C||A!==x)&&(w=C,A=x,f.push([F,w,A]));break}for(var ee=(l||{}).domain,te=s._fullLayout._size,ne=l&&l.xsizemode==="pixel",ue=l&&l.ysizemode==="pixel",q=m===!1,Y=0;Y<f.length;Y++){for(d=0;d+2<7;d+=2){var Z=f[Y][d+1],G=f[Y][d+2];Z===void 0||G===void 0||(w=Z,A=G,l&&(l.xaxis&&l.xaxis.p2r?(q&&(Z-=l.xaxis._offset),ne?Z=p(l.xaxis,l.xanchor)+Z:Z=v(l.xaxis,Z)):(q&&(Z-=te.l),ee?Z=ee.x[0]+Z/te.w:Z=Z/te.w),l.yaxis&&l.yaxis.p2r?(q&&(G-=l.yaxis._offset),ue?G=p(l.yaxis,l.yanchor)-G:G=v(l.yaxis,G)):(q&&(G-=te.t),ee?G=ee.y[1]-G/te.h:G=1-G/te.h)),f[Y][d+1]=Z,f[Y][d+2]=G)}g[c].push(f[Y].slice())}}return g};function a(u,s){return Math.abs(u-s)<=1e-6}function n(u,s){var l=s[1]-u[1],m=s[2]-u[2];return Math.sqrt(l*l+m*m)}B.pointsOnRectangle=function(u){var s=u.length;if(s!==5)return!1;for(var l=1;l<3;l++){var m=u[0][l]-u[1][l],h=u[3][l]-u[2][l];if(!a(m,h))return!1;var g=u[0][l]-u[3][l],c=u[1][l]-u[2][l];if(!a(g,c))return!1}return!a(u[0][1],u[1][1])&&!a(u[0][1],u[3][1])?!1:!!(n(u[0],u[1])*n(u[0],u[3]))},B.pointsOnEllipse=function(u){var s=u.length;if(s!==i+1)return!1;s=i;for(var l=0;l<s;l++){var m=(s*2-l)%s,h=(s/2+m)%s,g=(s/2+l)%s;if(!a(n(u[l],u[g]),n(u[m],u[h])))return!1}return!0},B.handleEllipse=function(u,s,l){if(!u)return[s,l];var m=B.ellipseOver({x0:s[0],y0:s[1],x1:l[0],y1:l[1]}),h=(m.x1+m.x0)/2,g=(m.y1+m.y0)/2,c=(m.x1-m.x0)/2,o=(m.y1-m.y0)/2;c||(c=o=o/S),o||(o=c=c/S);for(var d=[],w=0;w<i;w++){var A=w*2*Math.PI/i;d.push([h+c*Math.cos(A),g+o*Math.sin(A)])}return d},B.ellipseOver=function(u){var s=u.x0,l=u.y0,m=u.x1,h=u.y1,g=m-s,c=h-l;s-=g,l-=c;var o=(s+m)/2,d=(l+h)/2,w=S;return g*=w,c*=w,{x0:o-g,y0:d-c,x1:o+g,y1:d+c}},B.fixDatesForPaths=function(u,s,l){var m=s.type==="date",h=l.type==="date";if(!m&&!h)return u;for(var g=0;g<u.length;g++)for(var c=0;c<u[g].length;c++)for(var o=0;o+2<u[g][c].length;o+=2)m&&(u[g][c][o+1]=u[g][c][o+1].replace(" ","_")),h&&(u[g][c][o+2]=u[g][c][o+2].replace(" ","_"));return u}},93940:function(U,B,e){var y=e(72760),L=y.drawMode,i=y.openMode,S=e(7e3),b=S.i000,v=S.i090,p=S.i180,r=S.i270,t=S.cos45,a=S.sin45,n=e(5840),u=n.p2r,s=n.r2p,l=e(1936),m=l.clearOutline,h=e(9856),g=h.readPaths,c=h.writePaths,o=h.ellipseOver,d=h.fixDatesForPaths;function w(C,x){if(C.length){var E=C[0][0];if(E){var M=x.gd,f=x.isActiveShape,P=x.dragmode,T=(M.layout||{}).shapes||[];if(!L(P)&&f!==void 0){var z=M._fullLayout._activeShapeIndex;if(z<T.length)switch(M._fullLayout.shapes[z].type){case"rect":P="drawrect";break;case"circle":P="drawcircle";break;case"line":P="drawline";break;case"path":var _=T[z].path||"";_[_.length-1]==="Z"?P="drawclosedpath":P="drawopenpath";break}}var V=A(C,x,P);m(M);for(var F=x.editHelpers,N=(F||{}).modifyItem,k=[],I=0;I<T.length;I++){var H=M._fullLayout.shapes[I];if(k[I]=H._input,f!==void 0&&I===M._fullLayout._activeShapeIndex){var j=V;switch(H.type){case"line":case"rect":case"circle":N("x0",j.x0),N("x1",j.x1),N("y0",j.y0),N("y1",j.y1);break;case"path":N("path",j.path);break}}}return f===void 0?(k.push(V),k):F?F.getUpdateObj():{}}}}function A(C,x,E){var M=C[0][0],f=x.gd,P=M.getAttribute("d"),T=f._fullLayout.newshape,z=x.plotinfo,_=x.isActiveShape,V=z.xaxis,F=z.yaxis,N=!!z.domain||!z.xaxis,k=!!z.domain||!z.yaxis,I=i(E),H=g(P,f,z,_),j={editable:!0,visible:T.visible,name:T.name,showlegend:T.showlegend,legend:T.legend,legendwidth:T.legendwidth,legendgroup:T.legendgroup,legendgrouptitle:{text:T.legendgrouptitle.text,font:T.legendgrouptitle.font},legendrank:T.legendrank,label:T.label,xref:N?"paper":V._id,yref:k?"paper":F._id,layer:T.layer,opacity:T.opacity,line:{color:T.line.color,width:T.line.width,dash:T.line.dash}};I||(j.fillcolor=T.fillcolor,j.fillrule=T.fillrule);var ee;if(H.length===1&&(ee=H[0]),ee&&ee.length===5&&E==="drawrect")j.type="rect",j.x0=ee[0][1],j.y0=ee[0][2],j.x1=ee[2][1],j.y1=ee[2][2];else if(ee&&E==="drawline")j.type="line",j.x0=ee[0][1],j.y0=ee[0][2],j.x1=ee[1][1],j.y1=ee[1][2];else if(ee&&E==="drawcircle"){j.type="circle";var te=ee[b][1],ne=ee[v][1],ue=ee[p][1],q=ee[r][1],Y=ee[b][2],Z=ee[v][2],G=ee[p][2],K=ee[r][2],oe=z.xaxis&&(z.xaxis.type==="date"||z.xaxis.type==="log"),$=z.yaxis&&(z.yaxis.type==="date"||z.yaxis.type==="log");oe&&(te=s(z.xaxis,te),ne=s(z.xaxis,ne),ue=s(z.xaxis,ue),q=s(z.xaxis,q)),$&&(Y=s(z.yaxis,Y),Z=s(z.yaxis,Z),G=s(z.yaxis,G),K=s(z.yaxis,K));var J=(ne+q)/2,se=(Y+G)/2,ie=(q-ne+ue-te)/2,ce=(K-Z+G-Y)/2,ye=o({x0:J,y0:se,x1:J+ie*t,y1:se+ce*a});oe&&(ye.x0=u(z.xaxis,ye.x0),ye.x1=u(z.xaxis,ye.x1)),$&&(ye.y0=u(z.yaxis,ye.y0),ye.y1=u(z.yaxis,ye.y1)),j.x0=ye.x0,j.y0=ye.y0,j.x1=ye.x1,j.y1=ye.y1}else j.type="path",V&&F&&d(H,V,F),j.path=c(H),ee=null;return j}U.exports={newShapes:w,createShapeObj:A}},1936:function(U){function B(y){var L=y._fullLayout._zoomlayer;L&&L.selectAll(".outline-controllers").remove()}function e(y){var L=y._fullLayout._zoomlayer;L&&L.selectAll(".select-outline").remove(),y._fullLayout._outlining=!1}U.exports={clearOutlineControllers:B,clearOutline:e}},65152:function(U,B,e){var y=e(85448),L=e(3400),i=e(54460);B.rangeToShapePosition=function(b){return b.type==="log"?b.r2d:function(v){return v}},B.shapePositionToRange=function(b){return b.type==="log"?b.d2r:function(v){return v}},B.decodeDate=function(b){return function(v){return v.replace&&(v=v.replace("_"," ")),b(v)}},B.encodeDate=function(b){return function(v){return b(v).replace(" ","_")}},B.extractPathCoords=function(b,v,p){var r=[],t=b.match(y.segmentRE);return t.forEach(function(a){var n=v[a.charAt(0)].drawn;if(n!==void 0){var u=a.substr(1).match(y.paramRE);if(!(!u||u.length<n)){var s=u[n],l=p?s:L.cleanNumber(s);r.push(l)}}}),r},B.getDataToPixel=function(b,v,p,r){var t=b._fullLayout._size,a;if(v)if(r==="domain")a=function(u){return v._length*(p?1-u:u)+v._offset};else{var n=B.shapePositionToRange(v);a=function(u){return v._offset+v.r2p(n(u,!0))},v.type==="date"&&(a=B.decodeDate(a))}else p?a=function(u){return t.t+t.h*(1-u)}:a=function(u){return t.l+t.w*u};return a},B.getPixelToData=function(b,v,p,r){var t=b._fullLayout._size,a;if(v)if(r==="domain")a=function(u){var s=(u-v._offset)/v._length;return p?1-s:s};else{var n=B.rangeToShapePosition(v);a=function(u){return n(v.p2r(u-v._offset))}}else p?a=function(u){return 1-(u-t.t)/t.h}:a=function(u){return(u-t.l)/t.w};return a},B.roundPositionForSharpStrokeRendering=function(b,v){var p=Math.round(v%2)===1,r=Math.round(b);return p?r+.5:r},B.makeShapesOptionsAndPlotinfo=function(b,v){var p=b._fullLayout.shapes[v]||{},r=b._fullLayout._plots[p.xref+p.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},p.xref&&p.xref!=="paper"&&(r.xaxis=b._fullLayout[p.xref+"axis"]),p.yref&&p.yref!=="paper"&&(r.yaxis=b._fullLayout[p.yref+"axis"])),r.xsizemode=p.xsizemode,r.ysizemode=p.ysizemode,r.xanchor=p.xanchor,r.yanchor=p.yanchor,{options:p,plotinfo:r}},B.makeSelectionsOptionsAndPlotinfo=function(b,v){var p=b._fullLayout.selections[v]||{},r=b._fullLayout._plots[p.xref+p.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},p.xref&&(r.xaxis=b._fullLayout[p.xref+"axis"]),p.yref&&(r.yaxis=b._fullLayout[p.yref+"axis"])),{options:p,plotinfo:r}},B.getPathString=function(b,v){var p=v.type,r=i.getRefType(v.xref),t=i.getRefType(v.yref),a=i.getFromId(b,v.xref),n=i.getFromId(b,v.yref),u=b._fullLayout._size,s,l,m,h,g,c,o,d;if(a?r==="domain"?l=function(z){return a._offset+a._length*z}:(s=B.shapePositionToRange(a),l=function(z){return a._offset+a.r2p(s(z,!0))}):l=function(z){return u.l+u.w*z},n?t==="domain"?h=function(z){return n._offset+n._length*(1-z)}:(m=B.shapePositionToRange(n),h=function(z){return n._offset+n.r2p(m(z,!0))}):h=function(z){return u.t+u.h*(1-z)},p==="path")return a&&a.type==="date"&&(l=B.decodeDate(l)),n&&n.type==="date"&&(h=B.decodeDate(h)),S(v,l,h);if(v.xsizemode==="pixel"){var w=l(v.xanchor);g=w+v.x0,c=w+v.x1}else g=l(v.x0),c=l(v.x1);if(v.ysizemode==="pixel"){var A=h(v.yanchor);o=A-v.y0,d=A-v.y1}else o=h(v.y0),d=h(v.y1);if(p==="line")return"M"+g+","+o+"L"+c+","+d;if(p==="rect")return"M"+g+","+o+"H"+c+"V"+d+"H"+g+"Z";var C=(g+c)/2,x=(o+d)/2,E=Math.abs(C-g),M=Math.abs(x-o),f="A"+E+","+M,P=C+E+","+x,T=C+","+(x-M);return"M"+P+f+" 0 1,1 "+T+f+" 0 0,1 "+P+"Z"};function S(b,v,p){var r=b.path,t=b.xsizemode,a=b.ysizemode,n=b.xanchor,u=b.yanchor;return r.replace(y.segmentRE,function(s){var l=0,m=s.charAt(0),h=y.paramIsX[m],g=y.paramIsY[m],c=y.numParams[m],o=s.substr(1).replace(y.paramRE,function(d){return h[l]?t==="pixel"?d=v(n)+Number(d):d=v(d):g[l]&&(a==="pixel"?d=p(u)-Number(d):d=p(d)),l++,l>c&&(d="X"),d});return l>c&&(o=o.replace(/[\s,]*X.*/,""),L.log("Ignoring extra params in segment "+s)),m+o})}},41592:function(U,B,e){var y=e(4016);U.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:y.draw,drawOne:y.drawOne}},97728:function(U){function B(s,l){return l?l.d2l(s):s}function e(s,l){return l?l.l2d(s):s}function y(s){return s.x0}function L(s){return s.x1}function i(s){return s.y0}function S(s){return s.y1}function b(s,l){return B(s.x1,l)-B(s.x0,l)}function v(s,l,m){return B(s.y1,m)-B(s.y0,m)}function p(s,l){return Math.abs(b(s,l))}function r(s,l,m){return Math.abs(v(s,l,m))}function t(s,l,m){return s.type!=="line"?void 0:Math.sqrt(Math.pow(b(s,l),2)+Math.pow(v(s,l,m),2))}function a(s,l){return e((B(s.x1,l)+B(s.x0,l))/2,l)}function n(s,l,m){return e((B(s.y1,m)+B(s.y0,m))/2,m)}function u(s,l,m){return s.type!=="line"?void 0:v(s,l,m)/b(s,l)}U.exports={x0:y,x1:L,y0:i,y1:S,slope:u,dx:b,dy:v,width:p,height:r,length:t,xcenter:a,ycenter:n}},89861:function(U,B,e){var y=e(25376),L=e(66741),i=e(92880).extendDeepAll,S=e(67824).overrideAll,b=e(85656),v=e(31780).templatedArray,p=e(60876),r=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});U.exports=S(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:i(L({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:b.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:y({})},font:y({}),activebgcolor:{valType:"color",dflt:p.gripBgActiveColor},bgcolor:{valType:"color",dflt:p.railBgColor},bordercolor:{valType:"color",dflt:p.railBorderColor},borderwidth:{valType:"number",min:0,dflt:p.railBorderWidth},ticklen:{valType:"number",min:0,dflt:p.tickLength},tickcolor:{valType:"color",dflt:p.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:p.minorTickLength}}),"arraydraw","from-root")},60876:function(U){U.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(U,B,e){var y=e(3400),L=e(51272),i=e(89861),S=e(60876),b=S.name,v=i.steps;U.exports=function(a,n){L(a,n,{name:b,handleItemDefaults:p})};function p(t,a,n){function u(d,w){return y.coerce(t,a,i,d,w)}for(var s=L(t,a,{name:"steps",handleItemDefaults:r}),l=0,m=0;m<s.length;m++)s[m].visible&&l++;var h;if(l<2?h=a.visible=!1:h=u("visible"),!!h){a._stepCount=l;var g=a._visibleSteps=y.filterVisible(s),c=u("active");(s[c]||{}).visible||(a.active=g[0]._index),u("x"),u("y"),y.noneOrAll(t,a,["x","y"]),u("xanchor"),u("yanchor"),u("len"),u("lenmode"),u("pad.t"),u("pad.r"),u("pad.b"),u("pad.l"),y.coerceFont(u,"font",n.font);var o=u("currentvalue.visible");o&&(u("currentvalue.xanchor"),u("currentvalue.prefix"),u("currentvalue.suffix"),u("currentvalue.offset"),y.coerceFont(u,"currentvalue.font",a.font)),u("transition.duration"),u("transition.easing"),u("bgcolor"),u("activebgcolor"),u("bordercolor"),u("borderwidth"),u("ticklen"),u("tickwidth"),u("tickcolor"),u("minorticklen")}}function r(t,a){function n(l,m){return y.coerce(t,a,v,l,m)}var u;if(t.method!=="skip"&&!Array.isArray(t.args)?u=a.visible=!1:u=n("visible"),u){n("method"),n("args");var s=n("label","step-"+a._index);n("value",s),n("execute")}}},79664:function(U,B,e){var y=e(33428),L=e(7316),i=e(76308),S=e(43616),b=e(3400),v=b.strTranslate,p=e(72736),r=e(31780).arrayEditor,t=e(60876),a=e(84284),n=a.LINE_SPACING,u=a.FROM_TL,s=a.FROM_BR;U.exports=function(N){var k=N._context.staticPlot,I=N._fullLayout,H=m(I,N),j=I._infolayer.selectAll("g."+t.containerClassName).data(H.length>0?[0]:[]);j.enter().append("g").classed(t.containerClassName,!0).style("cursor",k?null:"ew-resize");function ee(q){q._commandObserver&&(q._commandObserver.remove(),delete q._commandObserver),L.autoMargin(N,l(q))}if(j.exit().each(function(){y.select(this).selectAll("g."+t.groupClassName).each(ee)}).remove(),H.length!==0){var te=j.selectAll("g."+t.groupClassName).data(H,h);te.enter().append("g").classed(t.groupClassName,!0),te.exit().each(ee).remove();for(var ne=0;ne<H.length;ne++){var ue=H[ne];g(N,ue)}te.each(function(q){var Y=y.select(this);f(q),L.manageCommandObserver(N,q,q._visibleSteps,function(Z){var G=Y.data()[0];G.active!==Z.index&&(G._dragging||x(N,Y,G,Z.index,!1,!0))}),c(N,y.select(this),q)})}};function l(F){return t.autoMarginIdRoot+F._index}function m(F,N){for(var k=F[t.name],I=[],H=0;H<k.length;H++){var j=k[H];j.visible&&(j._gd=N,I.push(j))}return I}function h(F){return F._index}function g(F,N){var k=S.tester.selectAll("g."+t.labelGroupClass).data(N._visibleSteps);k.enter().append("g").classed(t.labelGroupClass,!0);var I=0,H=0;k.each(function(K){var oe=y.select(this),$=w(oe,{step:K},N),J=$.node();if(J){var se=S.bBox(J);H=Math.max(H,se.height),I=Math.max(I,se.width)}}),k.remove();var j=N._dims={};j.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var ee=F._fullLayout._size;j.lx=ee.l+ee.w*N.x,j.ly=ee.t+ee.h*(1-N.y),N.lenmode==="fraction"?j.outerLength=Math.round(ee.w*N.len):j.outerLength=N.len,j.inputAreaStart=0,j.inputAreaLength=Math.round(j.outerLength-N.pad.l-N.pad.r);var te=j.inputAreaLength-2*t.stepInset,ne=te/(N._stepCount-1),ue=I+t.labelPadding;if(j.labelStride=Math.max(1,Math.ceil(ue/ne)),j.labelHeight=H,j.currentValueMaxWidth=0,j.currentValueHeight=0,j.currentValueTotalHeight=0,j.currentValueMaxLines=1,N.currentvalue.visible){var q=S.tester.append("g");k.each(function(K){var oe=o(q,N,K.label),$=oe.node()&&S.bBox(oe.node())||{width:0,height:0},J=p.lineCount(oe);j.currentValueMaxWidth=Math.max(j.currentValueMaxWidth,Math.ceil($.width)),j.currentValueHeight=Math.max(j.currentValueHeight,Math.ceil($.height)),j.currentValueMaxLines=Math.max(j.currentValueMaxLines,J)}),j.currentValueTotalHeight=j.currentValueHeight+N.currentvalue.offset,q.remove()}j.height=j.currentValueTotalHeight+t.tickOffset+N.ticklen+t.labelOffset+j.labelHeight+N.pad.t+N.pad.b;var Y="left";b.isRightAnchor(N)&&(j.lx-=j.outerLength,Y="right"),b.isCenterAnchor(N)&&(j.lx-=j.outerLength/2,Y="center");var Z="top";b.isBottomAnchor(N)&&(j.ly-=j.height,Z="bottom"),b.isMiddleAnchor(N)&&(j.ly-=j.height/2,Z="middle"),j.outerLength=Math.ceil(j.outerLength),j.height=Math.ceil(j.height),j.lx=Math.round(j.lx),j.ly=Math.round(j.ly);var G={y:N.y,b:j.height*s[Z],t:j.height*u[Z]};N.lenmode==="fraction"?(G.l=0,G.xl=N.x-N.len*u[Y],G.r=0,G.xr=N.x+N.len*s[Y]):(G.x=N.x,G.l=j.outerLength*u[Y],G.r=j.outerLength*s[Y]),L.autoMargin(F,l(N),G)}function c(F,N,k){(k.steps[k.active]||{}).visible||(k.active=k._visibleSteps[0]._index),N.call(o,k).call(V,k).call(A,k).call(M,k).call(_,F,k).call(d,F,k);var I=k._dims;S.setTranslate(N,I.lx+k.pad.l,I.ly+k.pad.t),N.call(P,k,!1),N.call(o,k)}function o(F,N,k){if(N.currentvalue.visible){var I=N._dims,H,j;switch(N.currentvalue.xanchor){case"right":H=I.inputAreaLength-t.currentValueInset-I.currentValueMaxWidth,j="left";break;case"center":H=I.inputAreaLength*.5,j="middle";break;default:H=t.currentValueInset,j="left"}var ee=b.ensureSingle(F,"text",t.labelClass,function(Z){Z.attr({"text-anchor":j,"data-notex":1})}),te=N.currentvalue.prefix?N.currentvalue.prefix:"";if(typeof k=="string")te+=k;else{var ne=N.steps[N.active].label,ue=N._gd._fullLayout._meta;ue&&(ne=b.templateString(ne,ue)),te+=ne}N.currentvalue.suffix&&(te+=N.currentvalue.suffix),ee.call(S.font,N.currentvalue.font).text(te).call(p.convertToTspans,N._gd);var q=p.lineCount(ee),Y=(I.currentValueMaxLines+1-q)*N.currentvalue.font.size*n;return p.positionText(ee,H,Y),ee}}function d(F,N,k){var I=b.ensureSingle(F,"rect",t.gripRectClass,function(H){H.call(E,N,F,k).style("pointer-events","all")});I.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(i.stroke,k.bordercolor).call(i.fill,k.bgcolor).style("stroke-width",k.borderwidth+"px")}function w(F,N,k){var I=b.ensureSingle(F,"text",t.labelClass,function(ee){ee.attr({"text-anchor":"middle","data-notex":1})}),H=N.step.label,j=k._gd._fullLayout._meta;return j&&(H=b.templateString(H,j)),I.call(S.font,k.font).text(H).call(p.convertToTspans,k._gd),I}function A(F,N){var k=b.ensureSingle(F,"g",t.labelsClass),I=N._dims,H=k.selectAll("g."+t.labelGroupClass).data(I.labelSteps);H.enter().append("g").classed(t.labelGroupClass,!0),H.exit().remove(),H.each(function(j){var ee=y.select(this);ee.call(w,j,N),S.setTranslate(ee,T(N,j.fraction),t.tickOffset+N.ticklen+N.font.size*n+t.labelOffset+I.currentValueTotalHeight)})}function C(F,N,k,I,H){var j=Math.round(I*(k._stepCount-1)),ee=k._visibleSteps[j]._index;ee!==k.active&&x(F,N,k,ee,!0,H)}function x(F,N,k,I,H,j){var ee=k.active;k.active=I,r(F.layout,t.name,k).applyUpdate("active",I);var te=k.steps[k.active];N.call(P,k,j),N.call(o,k),F.emit("plotly_sliderchange",{slider:k,step:k.steps[k.active],interaction:H,previousActive:ee}),te&&te.method&&H&&(N._nextMethod?(N._nextMethod.step=te,N._nextMethod.doCallback=H,N._nextMethod.doTransition=j):(N._nextMethod={step:te,doCallback:H,doTransition:j},N._nextMethodRaf=window.requestAnimationFrame(function(){var ne=N._nextMethod.step;ne.method&&(ne.execute&&L.executeAPICommand(F,ne.method,ne.args),N._nextMethod=null,N._nextMethodRaf=null)})))}function E(F,N,k){if(N._context.staticPlot)return;var I=k.node(),H=y.select(N);function j(){return k.data()[0]}function ee(){var te=j();N.emit("plotly_sliderstart",{slider:te});var ne=k.select("."+t.gripRectClass);y.event.stopPropagation(),y.event.preventDefault(),ne.call(i.fill,te.activebgcolor);var ue=z(te,y.mouse(I)[0]);C(N,k,te,ue,!0),te._dragging=!0;function q(){var Z=j(),G=z(Z,y.mouse(I)[0]);C(N,k,Z,G,!1)}H.on("mousemove",q),H.on("touchmove",q);function Y(){var Z=j();Z._dragging=!1,ne.call(i.fill,Z.bgcolor),H.on("mouseup",null),H.on("mousemove",null),H.on("touchend",null),H.on("touchmove",null),N.emit("plotly_sliderend",{slider:Z,step:Z.steps[Z.active]})}H.on("mouseup",Y),H.on("touchend",Y)}F.on("mousedown",ee),F.on("touchstart",ee)}function M(F,N){var k=F.selectAll("rect."+t.tickRectClass).data(N._visibleSteps),I=N._dims;k.enter().append("rect").classed(t.tickRectClass,!0),k.exit().remove(),k.attr({width:N.tickwidth+"px","shape-rendering":"crispEdges"}),k.each(function(H,j){var ee=j%I.labelStride===0,te=y.select(this);te.attr({height:ee?N.ticklen:N.minorticklen}).call(i.fill,N.tickcolor),S.setTranslate(te,T(N,j/(N._stepCount-1))-.5*N.tickwidth,(ee?t.tickOffset:t.minorTickOffset)+I.currentValueTotalHeight)})}function f(F){var N=F._dims;N.labelSteps=[];for(var k=F._stepCount,I=0;I<k;I+=N.labelStride)N.labelSteps.push({fraction:I/(k-1),step:F._visibleSteps[I]})}function P(F,N,k){for(var I=F.select("rect."+t.gripRectClass),H=0,j=0;j<N._stepCount;j++)if(N._visibleSteps[j]._index===N.active){H=j;break}var ee=T(N,H/(N._stepCount-1));if(!N._invokingCommand){var te=I;k&&N.transition.duration>0&&(te=te.transition().duration(N.transition.duration).ease(N.transition.easing)),te.attr("transform",v(ee-t.gripWidth*.5,N._dims.currentValueTotalHeight))}}function T(F,N){var k=F._dims;return k.inputAreaStart+t.stepInset+(k.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,N))}function z(F,N){var k=F._dims;return Math.min(1,Math.max(0,(N-t.stepInset-k.inputAreaStart)/(k.inputAreaLength-2*t.stepInset-2*k.inputAreaStart)))}function _(F,N,k){var I=k._dims,H=b.ensureSingle(F,"rect",t.railTouchRectClass,function(j){j.call(E,N,F,k).style("pointer-events","all")});H.attr({width:I.inputAreaLength,height:Math.max(I.inputAreaWidth,t.tickOffset+k.ticklen+I.labelHeight)}).call(i.fill,k.bgcolor).attr("opacity",0),S.setTranslate(H,0,I.currentValueTotalHeight)}function V(F,N){var k=N._dims,I=k.inputAreaLength-t.railInset*2,H=b.ensureSingle(F,"rect",t.railRectClass);H.attr({width:I,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(i.stroke,N.bordercolor).call(i.fill,N.bgcolor).style("stroke-width",N.borderwidth+"px"),S.setTranslate(H,t.railInset,(k.inputAreaWidth-t.railWidth)*.5+k.currentValueTotalHeight)}},97544:function(U,B,e){var y=e(60876);U.exports={moduleType:"component",name:y.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(U,B,e){var y=e(33428),L=e(38248),i=e(7316),S=e(24040),b=e(3400),v=b.strTranslate,p=e(43616),r=e(76308),t=e(72736),a=e(13448),n=e(84284).OPPOSITE_SIDE,u=/ [XY][0-9]* /;function s(l,m,h){var g=h.propContainer,c=h.propName,o=h.placeholder,d=h.traceIndex,w=h.avoid||{},A=h.attributes,C=h.transform,x=h.containerGroup,E=l._fullLayout,M=1,f=!1,P=g.title,T=(P&&P.text?P.text:"").trim(),z=P&&P.font?P.font:{},_=z.family,V=z.size,F=z.color,N;c==="title.text"?N="titleText":c.indexOf("axis")!==-1?N="axisTitleText":c.indexOf("colorbar"!==-1)&&(N="colorbarTitleText");var k=l._context.edits[N];T===""?M=0:T.replace(u," % ")===o.replace(u," % ")&&(M=.2,f=!0,k||(T="")),h._meta?T=b.templateString(T,h._meta):E._meta&&(T=b.templateString(T,E._meta));var I=T||k,H;x||(x=b.ensureSingle(E._infolayer,"g","g-"+m),H=E._hColorbarMoveTitle);var j=x.selectAll("text").data(I?[0]:[]);if(j.enter().append("text"),j.text(T).attr("class",m),j.exit().remove(),!I)return x;function ee(q){b.syncOrAsync([te,ne],q)}function te(q){var Y;return!C&&H&&(C={}),C?(Y="",C.rotate&&(Y+="rotate("+[C.rotate,A.x,A.y]+")"),(C.offset||H)&&(Y+=v(0,(C.offset||0)-(H||0)))):Y=null,q.attr("transform",Y),q.style({"font-family":_,"font-size":y.round(V,2)+"px",fill:r.rgb(F),opacity:M*r.opacity(F),"font-weight":i.fontWeight}).attr(A).call(t.convertToTspans,l),i.previousPromises(l)}function ne(q){var Y=y.select(q.node().parentNode);if(w&&w.selection&&w.side&&T){Y.attr("transform",null);var Z=n[w.side],G=w.side==="left"||w.side==="top"?-1:1,K=L(w.pad)?w.pad:2,oe=p.bBox(Y.node()),$={t:0,b:0,l:0,r:0},J=l._fullLayout._reservedMargin;for(var se in J)for(var ie in J[se]){var ce=J[se][ie];$[ie]=Math.max($[ie],ce)}var ye={left:$.l,top:$.t,right:E.width-$.r,bottom:E.height-$.b},Se=w.maxShift||G*(ye[w.side]-oe[w.side]),Te=0;if(Se<0)Te=Se;else{var ke=w.offsetLeft||0,we=w.offsetTop||0;oe.left-=ke,oe.right-=ke,oe.top-=we,oe.bottom-=we,w.selection.each(function(){var xe=p.bBox(this);b.bBoxIntersect(oe,xe,K)&&(Te=Math.max(Te,G*(xe[w.side]-oe[Z])+K))}),Te=Math.min(Se,Te),g._titleScoot=Math.abs(Te)}if(Te>0||Se<0){var Ee={left:[-Te,0],right:[Te,0],top:[0,-Te],bottom:[0,Te]}[w.side];Y.attr("transform",v(Ee[0],Ee[1]))}}}j.call(ee);function ue(){M=0,f=!0,j.text(o).on("mouseover.opacity",function(){y.select(this).transition().duration(a.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){y.select(this).transition().duration(a.HIDE_PLACEHOLDER).style("opacity",0)})}return k&&(T?j.on(".opacity",null):ue(),j.call(t.makeEditable,{gd:l}).on("edit",function(q){d!==void 0?S.call("_guiRestyle",l,c,q,d):S.call("_guiRelayout",l,c,q)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ee)}).on("input",function(q){this.text(q||" ").call(t.positionText,A.x,A.y)})),j.classed("js-placeholder",f),x}U.exports={draw:s}},88444:function(U,B,e){var y=e(25376),L=e(22548),i=e(92880).extendFlat,S=e(67824).overrideAll,b=e(66741),v=e(31780).templatedArray,p=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});U.exports=S(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:p,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:i(b({editType:"arraydraw"}),{}),font:y({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:L.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(U){U.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},91384:function(U,B,e){var y=e(3400),L=e(51272),i=e(88444),S=e(73712),b=S.name,v=i.buttons;U.exports=function(a,n){var u={name:b,handleItemDefaults:p};L(a,n,u)};function p(t,a,n){function u(m,h){return y.coerce(t,a,i,m,h)}var s=L(t,a,{name:"buttons",handleItemDefaults:r}),l=u("visible",s.length>0);l&&(u("active"),u("direction"),u("type"),u("showactive"),u("x"),u("y"),y.noneOrAll(t,a,["x","y"]),u("xanchor"),u("yanchor"),u("pad.t"),u("pad.r"),u("pad.b"),u("pad.l"),y.coerceFont(u,"font",n.font),u("bgcolor",n.paper_bgcolor),u("bordercolor"),u("borderwidth"))}function r(t,a){function n(s,l){return y.coerce(t,a,v,s,l)}var u=n("visible",t.method==="skip"||Array.isArray(t.args));u&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},14420:function(U,B,e){var y=e(33428),L=e(7316),i=e(76308),S=e(43616),b=e(3400),v=e(72736),p=e(31780).arrayEditor,r=e(84284).LINE_SPACING,t=e(73712),a=e(37400);U.exports=function(z){var _=z._fullLayout,V=b.filterVisible(_[t.name]);function F(ne){L.autoMargin(z,M(ne))}var N=_._menulayer.selectAll("g."+t.containerClassName).data(V.length>0?[0]:[]);if(N.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),N.exit().each(function(){y.select(this).selectAll("g."+t.headerGroupClassName).each(F)}).remove(),V.length!==0){var k=N.selectAll("g."+t.headerGroupClassName).data(V,n);k.enter().append("g").classed(t.headerGroupClassName,!0);for(var I=b.ensureSingle(N,"g",t.dropdownButtonGroupClassName,function(ne){ne.style("pointer-events","all")}),H=0;H<V.length;H++){var j=V[H];E(z,j)}var ee="updatemenus"+_._uid,te=new a(z,I,ee);k.enter().size()&&(I.node().parentNode.appendChild(I.node()),I.call(P)),k.exit().each(function(ne){I.call(P),F(ne)}).remove(),k.each(function(ne){var ue=y.select(this),q=ne.type==="dropdown"?I:null;L.manageCommandObserver(z,ne,ne.buttons,function(Y){l(z,ne,ne.buttons[Y.index],ue,q,te,Y.index,!0)}),ne.type==="dropdown"?(m(z,ue,I,te,ne),s(I,ne)&&h(z,ue,I,te,ne)):h(z,ue,null,null,ne)})}};function n(T){return T._index}function u(T){return+T.attr(t.menuIndexAttrName)==-1}function s(T,z){return+T.attr(t.menuIndexAttrName)===z._index}function l(T,z,_,V,F,N,k,I){z.active=k,p(T.layout,t.name,z).applyUpdate("active",k),z.type==="buttons"?h(T,V,null,null,z):z.type==="dropdown"&&(F.attr(t.menuIndexAttrName,"-1"),m(T,V,F,N,z),I||h(T,V,F,N,z))}function m(T,z,_,V,F){var N=b.ensureSingle(z,"g",t.headerClassName,function(ne){ne.style("pointer-events","all")}),k=F._dims,I=F.active,H=F.buttons[I]||t.blankHeaderOpts,j={y:F.pad.t,yPad:0,x:F.pad.l,xPad:0,index:0},ee={width:k.headerWidth,height:k.headerHeight};N.call(o,F,H,T).call(f,F,j,ee);var te=b.ensureSingle(z,"text",t.headerArrowClassName,function(ne){ne.attr("text-anchor","end").call(S.font,F.font).text(t.arrowSymbol[F.direction])});te.attr({x:k.headerWidth-t.arrowOffsetX+F.pad.l,y:k.headerHeight/2+t.textOffsetY+F.pad.t}),N.on("click",function(){_.call(P,String(s(_,F)?-1:F._index)),h(T,z,_,V,F)}),N.on("mouseover",function(){N.call(C)}),N.on("mouseout",function(){N.call(x,F)}),S.setTranslate(z,k.lx,k.ly)}function h(T,z,_,V,F){_||(_=z,_.attr("pointer-events","all"));var N=!u(_)||F.type==="buttons"?F.buttons:[],k=F.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,I=_.selectAll("g."+k).data(b.filterVisible(N)),H=I.enter().append("g").classed(k,!0),j=I.exit();F.type==="dropdown"?(H.attr("opacity","0").transition().attr("opacity","1"),j.transition().attr("opacity","0").remove()):j.remove();var ee=0,te=0,ne=F._dims,ue=["up","down"].indexOf(F.direction)!==-1;F.type==="dropdown"&&(ue?te=ne.headerHeight+t.gapButtonHeader:ee=ne.headerWidth+t.gapButtonHeader),F.type==="dropdown"&&F.direction==="up"&&(te=-t.gapButtonHeader+t.gapButton-ne.openHeight),F.type==="dropdown"&&F.direction==="left"&&(ee=-t.gapButtonHeader+t.gapButton-ne.openWidth);var q={x:ne.lx+ee+F.pad.l,y:ne.ly+te+F.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},Y={l:q.x+F.borderwidth,t:q.y+F.borderwidth};I.each(function(Z,G){var K=y.select(this);K.call(o,F,Z,T).call(f,F,q),K.on("click",function(){y.event.defaultPrevented||(Z.execute&&(Z.args2&&F.active===G?(l(T,F,Z,z,_,V,-1),L.executeAPICommand(T,Z.method,Z.args2)):(l(T,F,Z,z,_,V,G),L.executeAPICommand(T,Z.method,Z.args))),T.emit("plotly_buttonclicked",{menu:F,button:Z,active:F.active}))}),K.on("mouseover",function(){K.call(C)}),K.on("mouseout",function(){K.call(x,F),I.call(A,F)})}),I.call(A,F),ue?(Y.w=Math.max(ne.openWidth,ne.headerWidth),Y.h=q.y-Y.t):(Y.w=q.x-Y.l,Y.h=Math.max(ne.openHeight,ne.headerHeight)),Y.direction=F.direction,V&&(I.size()?g(T,z,_,V,F,Y):c(V))}function g(T,z,_,V,F,N){var k=F.direction,I=k==="up"||k==="down",H=F._dims,j=F.active,ee,te,ne;if(I)for(te=0,ne=0;ne<j;ne++)te+=H.heights[ne]+t.gapButton;else for(ee=0,ne=0;ne<j;ne++)ee+=H.widths[ne]+t.gapButton;V.enable(N,ee,te),V.hbar&&V.hbar.attr("opacity","0").transition().attr("opacity","1"),V.vbar&&V.vbar.attr("opacity","0").transition().attr("opacity","1")}function c(T){var z=!!T.hbar,_=!!T.vbar;z&&T.hbar.transition().attr("opacity","0").each("end",function(){z=!1,_||T.disable()}),_&&T.vbar.transition().attr("opacity","0").each("end",function(){_=!1,z||T.disable()})}function o(T,z,_,V){T.call(d,z).call(w,z,_,V)}function d(T,z){var _=b.ensureSingle(T,"rect",t.itemRectClassName,function(V){V.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});_.call(i.stroke,z.bordercolor).call(i.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px")}function w(T,z,_,V){var F=b.ensureSingle(T,"text",t.itemTextClassName,function(I){I.attr({"text-anchor":"start","data-notex":1})}),N=_.label,k=V._fullLayout._meta;k&&(N=b.templateString(N,k)),F.call(S.font,z.font).text(N).call(v.convertToTspans,V)}function A(T,z){var _=z.active;T.each(function(V,F){var N=y.select(this);F===_&&z.showactive&&N.select("rect."+t.itemRectClassName).call(i.fill,t.activeColor)})}function C(T){T.select("rect."+t.itemRectClassName).call(i.fill,t.hoverColor)}function x(T,z){T.select("rect."+t.itemRectClassName).call(i.fill,z.bgcolor)}function E(T,z){var _=z._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},V=S.tester.selectAll("g."+t.dropdownButtonClassName).data(b.filterVisible(z.buttons));V.enter().append("g").classed(t.dropdownButtonClassName,!0);var F=["up","down"].indexOf(z.direction)!==-1;V.each(function(ee,te){var ne=y.select(this);ne.call(o,z,ee,T);var ue=ne.select("."+t.itemTextClassName),q=ue.node()&&S.bBox(ue.node()).width,Y=Math.max(q+t.textPadX,t.minWidth),Z=z.font.size*r,G=v.lineCount(ue),K=Math.max(Z*G,t.minHeight)+t.textOffsetY;K=Math.ceil(K),Y=Math.ceil(Y),_.widths[te]=Y,_.heights[te]=K,_.height1=Math.max(_.height1,K),_.width1=Math.max(_.width1,Y),F?(_.totalWidth=Math.max(_.totalWidth,Y),_.openWidth=_.totalWidth,_.totalHeight+=K+t.gapButton,_.openHeight+=K+t.gapButton):(_.totalWidth+=Y+t.gapButton,_.openWidth+=Y+t.gapButton,_.totalHeight=Math.max(_.totalHeight,K),_.openHeight=_.totalHeight)}),F?_.totalHeight-=t.gapButton:_.totalWidth-=t.gapButton,_.headerWidth=_.width1+t.arrowPadX,_.headerHeight=_.height1,z.type==="dropdown"&&(F?(_.width1+=t.arrowPadX,_.totalHeight=_.height1):_.totalWidth=_.width1,_.totalWidth+=t.arrowPadX),V.remove();var N=_.totalWidth+z.pad.l+z.pad.r,k=_.totalHeight+z.pad.t+z.pad.b,I=T._fullLayout._size;_.lx=I.l+I.w*z.x,_.ly=I.t+I.h*(1-z.y);var H="left";b.isRightAnchor(z)&&(_.lx-=N,H="right"),b.isCenterAnchor(z)&&(_.lx-=N/2,H="center");var j="top";b.isBottomAnchor(z)&&(_.ly-=k,j="bottom"),b.isMiddleAnchor(z)&&(_.ly-=k/2,j="middle"),_.totalWidth=Math.ceil(_.totalWidth),_.totalHeight=Math.ceil(_.totalHeight),_.lx=Math.round(_.lx),_.ly=Math.round(_.ly),L.autoMargin(T,M(z),{x:z.x,y:z.y,l:N*({right:1,center:.5}[H]||0),r:N*({left:1,center:.5}[H]||0),b:k*({top:1,middle:.5}[j]||0),t:k*({bottom:1,middle:.5}[j]||0)})}function M(T){return t.autoMarginIdRoot+T._index}function f(T,z,_,V){V=V||{};var F=T.select("."+t.itemRectClassName),N=T.select("."+t.itemTextClassName),k=z.borderwidth,I=_.index,H=z._dims;S.setTranslate(T,k+_.x,k+_.y);var j=["up","down"].indexOf(z.direction)!==-1,ee=V.height||(j?H.heights[I]:H.height1);F.attr({x:0,y:0,width:V.width||(j?H.width1:H.widths[I]),height:ee});var te=z.font.size*r,ne=v.lineCount(N),ue=(ne-1)*te/2;v.positionText(N,t.textOffsetX,ee/2-ue+t.textOffsetY),j?_.y+=H.heights[I]+_.yPad:_.x+=H.widths[I]+_.xPad,_.index++}function P(T,z){T.attr(t.menuIndexAttrName,z||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},76908:function(U,B,e){var y=e(73712);U.exports={moduleType:"component",name:y.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(U,B,e){U.exports=b;var y=e(33428),L=e(76308),i=e(43616),S=e(3400);function b(v,p,r){this.gd=v,this.container=p,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}b.barWidth=2,b.barLength=20,b.barRadius=2,b.barPad=1,b.barColor="#808BA4",b.prototype.enable=function(p,r,t){var a=this.gd._fullLayout,n=a.width,u=a.height;this.position=p;var s=this.position.l,l=this.position.w,m=this.position.t,h=this.position.h,g=this.position.direction,c=g==="down",o=g==="left",d=g==="right",w=g==="up",A=l,C=h,x,E,M,f;!c&&!o&&!d&&!w&&(this.position.direction="down",c=!0);var P=c||w;P?(x=s,E=x+A,c?(M=m,f=Math.min(M+C,u),C=f-M):(f=m+C,M=Math.max(f-C,0),C=f-M)):(M=m,f=M+C,o?(E=s+A,x=Math.max(E-A,0),A=E-x):(x=s,E=Math.min(x+A,n),A=E-x)),this._box={l:x,t:M,w:A,h:C};var T=l>A,z=b.barLength+2*b.barPad,_=b.barWidth+2*b.barPad,V=s,F=m+h;F+_>u&&(F=u-_);var N=this.container.selectAll("rect.scrollbar-horizontal").data(T?[0]:[]);N.exit().on(".drag",null).remove(),N.enter().append("rect").classed("scrollbar-horizontal",!0).call(L.fill,b.barColor),T?(this.hbar=N.attr({rx:b.barRadius,ry:b.barRadius,x:V,y:F,width:z,height:_}),this._hbarXMin=V+z/2,this._hbarTranslateMax=A-z):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var k=h>C,I=b.barWidth+2*b.barPad,H=b.barLength+2*b.barPad,j=s+l,ee=m;j+I>n&&(j=n-I);var te=this.container.selectAll("rect.scrollbar-vertical").data(k?[0]:[]);te.exit().on(".drag",null).remove(),te.enter().append("rect").classed("scrollbar-vertical",!0).call(L.fill,b.barColor),k?(this.vbar=te.attr({rx:b.barRadius,ry:b.barRadius,x:j,y:ee,width:I,height:H}),this._vbarYMin=ee+H/2,this._vbarTranslateMax=C-H):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ne=this.id,ue=x-.5,q=k?E+I+.5:E+.5,Y=M-.5,Z=T?f+_+.5:f+.5,G=a._topdefs.selectAll("#"+ne).data(T||k?[0]:[]);if(G.exit().remove(),G.enter().append("clipPath").attr("id",ne).append("rect"),T||k?(this._clipRect=G.select("rect").attr({x:Math.floor(ue),y:Math.floor(Y),width:Math.ceil(q)-Math.floor(ue),height:Math.ceil(Z)-Math.floor(Y)}),this.container.call(i.setClipUrl,ne,this.gd),this.bg.attr({x:s,y:m,width:l,height:h})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),T||k){var K=y.behavior.drag().on("dragstart",function(){y.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(K);var oe=y.behavior.drag().on("dragstart",function(){y.event.sourceEvent.preventDefault(),y.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));T&&this.hbar.on(".drag",null).call(oe),k&&this.vbar.on(".drag",null).call(oe)}this.setTranslate(r,t)},b.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},b.prototype._onBoxDrag=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p-=y.event.dx),this.vbar&&(r-=y.event.dy),this.setTranslate(p,r)},b.prototype._onBoxWheel=function(){var p=this.translateX,r=this.translateY;this.hbar&&(p+=y.event.deltaY),this.vbar&&(r+=y.event.deltaY),this.setTranslate(p,r)},b.prototype._onBarDrag=function(){var p=this.translateX,r=this.translateY;if(this.hbar){var t=p+this._hbarXMin,a=t+this._hbarTranslateMax,n=S.constrain(y.event.x,t,a),u=(n-t)/(a-t),s=this.position.w-this._box.w;p=u*s}if(this.vbar){var l=r+this._vbarYMin,m=l+this._vbarTranslateMax,h=S.constrain(y.event.y,l,m),g=(h-l)/(m-l),c=this.position.h-this._box.h;r=g*c}this.setTranslate(p,r)},b.prototype.setTranslate=function(p,r){var t=this.position.w-this._box.w,a=this.position.h-this._box.h;if(p=S.constrain(p||0,0,t),r=S.constrain(r||0,0,a),this.translateX=p,this.translateY=r,this.container.call(i.setTranslate,this._box.l-this.position.l-p,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+p-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar){var n=p/t;this.hbar.call(i.setTranslate,p+n*this._hbarTranslateMax,r)}if(this.vbar){var u=r/a;this.vbar.call(i.setTranslate,p,r+u*this._vbarTranslateMax)}}},84284:function(U){U.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(U){U.exports={axisRefDescription:function(B,e,y){return["If set to a",B,"axis id (e.g. *"+B+"* or","*"+B+"2*), the `"+B+"` position refers to a",B,"coordinate. If set to *paper*, the `"+B+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+y+"). If set to a",B,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+B+"2 domain* refers to the domain of the second",B," axis and a",B,"position of 0.5 refers to the","point between the",e,"and the",y,"of the domain of the","second",B,"axis."].join(" ")}}},48164:function(U){U.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"▲"},DECREASING:{COLOR:"#FF4136",SYMBOL:"▼"}}},26880:function(U){U.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(U){U.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(U){U.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(U){U.exports={circle:"●","circle-open":"○",square:"■","square-open":"□",diamond:"◆","diamond-open":"◇",cross:"+",x:"❌"}},13448:function(U){U.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(U){U.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},2264:function(U,B){B.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],B.STYLE=B.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(U,B){B.xmlns="http://www.w3.org/2000/xmlns/",B.svg="http://www.w3.org/2000/svg",B.xlink="http://www.w3.org/1999/xlink",B.svgAttrs={xmlns:B.svg,"xmlns:xlink":B.xlink}},64884:function(U,B,e){B.version=e(25788).version,e(88324),e(79288);for(var y=e(24040),L=B.register=y.register,i=e(22448),S=Object.keys(i),b=0;b<S.length;b++){var v=S[b];v.charAt(0)!=="_"&&(B[v]=i[v]),L({moduleType:"apiMethod",name:v,fn:i[v]})}L(e(65875)),L([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),L([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(L(window.PlotlyLocales),delete window.PlotlyLocales),B.Icons=e(9224);var p=e(93024),r=e(7316);B.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},B.Fx={hover:p.hover,unhover:p.unhover,loneHover:p.loneHover,loneUnhover:p.loneUnhover},B.Snapshot=e(78904),B.PlotSchema=e(73060)},9224:function(U){U.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(U,B){B.isLeftAnchor=function(y){return y.xanchor==="left"||y.xanchor==="auto"&&y.x<=.3333333333333333},B.isCenterAnchor=function(y){return y.xanchor==="center"||y.xanchor==="auto"&&y.x>.3333333333333333&&y.x<.6666666666666666},B.isRightAnchor=function(y){return y.xanchor==="right"||y.xanchor==="auto"&&y.x>=.6666666666666666},B.isTopAnchor=function(y){return y.yanchor==="top"||y.yanchor==="auto"&&y.y>=.6666666666666666},B.isMiddleAnchor=function(y){return y.yanchor==="middle"||y.yanchor==="auto"&&y.y>.3333333333333333&&y.y<.6666666666666666},B.isBottomAnchor=function(y){return y.yanchor==="bottom"||y.yanchor==="auto"&&y.y<=.3333333333333333}},11864:function(U,B,e){var y=e(20435),L=y.mod,i=y.modHalf,S=Math.PI,b=2*S;function v(g){return g/180*S}function p(g){return g/S*180}function r(g){return Math.abs(g[1]-g[0])>b-1e-14}function t(g,c){return i(c-g,b)}function a(g,c){return Math.abs(t(g,c))}function n(g,c){if(r(c))return!0;var o,d;c[0]<c[1]?(o=c[0],d=c[1]):(o=c[1],d=c[0]),o=L(o,b),d=L(d,b),o>d&&(d+=b);var w=L(g,b),A=w+b;return w>=o&&w<=d||A>=o&&A<=d}function u(g,c,o,d){if(!n(c,d))return!1;var w,A;return o[0]<o[1]?(w=o[0],A=o[1]):(w=o[1],A=o[0]),g>=w&&g<=A}function s(g,c,o,d,w,A,C){w=w||0,A=A||0;var x=r([o,d]),E,M,f,P,T;x?(E=0,M=S,f=b):o<d?(E=o,f=d):(E=d,f=o),g<c?(P=g,T=c):(P=c,T=g);function z(N,k){return[N*Math.cos(k)+w,A-N*Math.sin(k)]}var _=Math.abs(f-E)<=S?0:1;function V(N,k,I){return"A"+[N,N]+" "+[0,_,I]+" "+z(N,k)}var F;return x?P===null?F="M"+z(T,E)+V(T,M,0)+V(T,f,0)+"Z":F="M"+z(P,E)+V(P,M,0)+V(P,f,0)+"ZM"+z(T,E)+V(T,M,1)+V(T,f,1)+"Z":P===null?(F="M"+z(T,E)+V(T,f,0),C&&(F+="L0,0Z")):F="M"+z(P,E)+"L"+z(T,E)+V(T,f,0)+"L"+z(P,f)+V(P,E,1)+"Z",F}function l(g,c,o,d,w){return s(null,g,c,o,d,w,0)}function m(g,c,o,d,w){return s(null,g,c,o,d,w,1)}function h(g,c,o,d,w,A){return s(g,c,o,d,w,A,1)}U.exports={deg2rad:v,rad2deg:p,angleDelta:t,angleDist:a,isFullCircle:r,isAngleInsideSector:n,isPtInsideSector:u,pathArc:l,pathSector:m,pathAnnulus:h}},38116:function(U,B,e){var y=e(83160).decode,L=e(63620),i=Array.isArray,S=ArrayBuffer,b=DataView;function v(s){return S.isView(s)&&!(s instanceof b)}B.isTypedArray=v;function p(s){return i(s)||v(s)}B.isArrayOrTypedArray=p;function r(s){return!p(s[0])}B.isArray1D=r,B.ensureArray=function(s,l){return i(s)||(s=[]),s.length=l,s};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8;function a(s){return s.constructor===ArrayBuffer}B.isArrayBuffer=a,B.decodeTypedArraySpec=function(s){var l=[],m=n(s),h=m.dtype,g=t[h];if(!g)throw new Error('Error in dtype: "'+h+'"');var c=g.BYTES_PER_ELEMENT,o=m.bdata;a(o)||(o=y(o));var d=m.shape===void 0?[o.byteLength/c]:(""+m.shape).split(",");d.reverse();var w=d.length,A,C,x=+d[0],E=c*x,M=0;if(w===1)l=new g(o);else if(w===2)for(A=+d[1],C=0;C<A;C++)l[C]=new g(o,M,x),M+=E;else if(w===3){A=+d[1];for(var f=+d[2],P=0;P<f;P++)for(l[P]=[],C=0;C<A;C++)l[P][C]=new g(o,M,x),M+=E}else throw new Error("ndim: "+w+'is not supported with the shape:"'+m.shape+'"');return l.bdata=m.bdata,l.dtype=m.dtype,l.shape=d.reverse().join(","),s._inputArray=l,l},B.isTypedArraySpec=function(s){return L(s)&&s.hasOwnProperty("dtype")&&typeof s.dtype=="string"&&s.hasOwnProperty("bdata")&&(typeof s.bdata=="string"||a(s.bdata))&&(s.shape===void 0||s.hasOwnProperty("shape")&&(typeof s.shape=="string"||typeof s.shape=="number"))};function n(s){return{bdata:s.bdata,dtype:s.dtype,shape:s.shape}}B.concat=function(){var s=[],l=!0,m=0,h,g,c,o,d,w,A,C;for(c=0;c<arguments.length;c++)o=arguments[c],w=o.length,w&&(g?s.push(o):(g=o,d=w),i(o)?h=!1:(l=!1,m?h!==o.constructor&&(h=!1):h=o.constructor),m+=w);if(!m)return[];if(!s.length)return g;if(l)return g.concat.apply(g,s);if(h){for(A=new h(m),A.set(g),c=0;c<s.length;c++)o=s[c],A.set(o,d),d+=o.length;return A}for(A=new Array(m),C=0;C<g.length;C++)A[C]=g[C];for(c=0;c<s.length;c++){for(o=s[c],C=0;C<o.length;C++)A[d+C]=o[C];d+=C}return A},B.maxRowLength=function(s){return u(s,Math.max,0)},B.minRowLength=function(s){return u(s,Math.min,1/0)};function u(s,l,m){if(p(s))if(p(s[0])){for(var h=m,g=0;g<s.length;g++)h=l(h,s[g].length);return h}else return s.length;return 0}},54037:function(U,B,e){var y=e(38248),L=e(39032).BADNUM,i=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;U.exports=function(b){return typeof b=="string"&&(b=b.replace(i,"")),y(b)?Number(b):L}},73696:function(U){U.exports=function(e){var y=e._fullLayout;y._glcanvas&&y._glcanvas.size()&&y._glcanvas.each(function(L){L.regl&&L.regl.clear({color:!0,depth:!0})})}},75352:function(U){U.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},63064:function(U,B,e){var y=e(38248),L=e(49760),i=e(45464),S=e(88304),b=e(76308),v=e(13448).DESELECTDIM,p=e(22296),r=e(53756).counter,t=e(20435).modHalf,a=e(38116).isArrayOrTypedArray,n=e(38116).isTypedArraySpec,u=e(38116).decodeTypedArraySpec;B.valObjectMeta={data_array:{coerceFunction:function(l,m,h){m.set(a(l)?l:n(l)?u(l):h)}},enumerated:{coerceFunction:function(l,m,h,g){g.coerceNumber&&(l=+l),g.values.indexOf(l)===-1?m.set(h):m.set(l)},validateFunction:function(l,m){m.coerceNumber&&(l=+l);for(var h=m.values,g=0;g<h.length;g++){var c=String(h[g]);if(c.charAt(0)==="/"&&c.charAt(c.length-1)==="/"){var o=new RegExp(c.substr(1,c.length-2));if(o.test(l))return!0}else if(l===h[g])return!0}return!1}},boolean:{coerceFunction:function(l,m,h){l===!0||l===!1?m.set(l):m.set(h)}},number:{coerceFunction:function(l,m,h,g){!y(l)||g.min!==void 0&&l<g.min||g.max!==void 0&&l>g.max?m.set(h):m.set(+l)}},integer:{coerceFunction:function(l,m,h,g){l%1||!y(l)||g.min!==void 0&&l<g.min||g.max!==void 0&&l>g.max?m.set(h):m.set(+l)}},string:{coerceFunction:function(l,m,h,g){if(typeof l!="string"){var c=typeof l=="number";g.strict===!0||!c?m.set(h):m.set(String(l))}else g.noBlank&&!l?m.set(h):m.set(l)}},color:{coerceFunction:function(l,m,h){L(l).isValid()?m.set(l):m.set(h)}},colorlist:{coerceFunction:function(l,m,h){function g(c){return L(c).isValid()}!Array.isArray(l)||!l.length?m.set(h):l.every(g)?m.set(l):m.set(h)}},colorscale:{coerceFunction:function(l,m,h){m.set(S.get(l,h))}},angle:{coerceFunction:function(l,m,h){l==="auto"?m.set("auto"):y(l)?m.set(t(+l,360)):m.set(h)}},subplotid:{coerceFunction:function(l,m,h,g){var c=g.regex||r(h);if(typeof l=="string"&&c.test(l)){m.set(l);return}m.set(h)},validateFunction:function(l,m){var h=m.dflt;return l===h?!0:typeof l!="string"?!1:!!r(h).test(l)}},flaglist:{coerceFunction:function(l,m,h,g){if((g.extras||[]).indexOf(l)!==-1){m.set(l);return}if(typeof l!="string"){m.set(h);return}for(var c=l.split("+"),o=0;o<c.length;){var d=c[o];g.flags.indexOf(d)===-1||c.indexOf(d)<o?c.splice(o,1):o++}c.length?m.set(c.join("+")):m.set(h)}},any:{coerceFunction:function(l,m,h){l===void 0?m.set(h):m.set(n(l)?u(l):l)}},info_array:{coerceFunction:function(l,m,h,g){function c(V,F,N){var k,I={set:function(H){k=H}};return N===void 0&&(N=F.dflt),B.valObjectMeta[F.valType].coerceFunction(V,I,N,F),k}if(n(l)&&(l=u(l)),!a(l)){m.set(h);return}var o=g.dimensions===2||g.dimensions==="1-2"&&Array.isArray(l)&&a(l[0]),d=g.items,w=[],A=Array.isArray(d),C=A&&o&&a(d[0]),x=o&&A&&!C,E=A&&!x?d.length:l.length,M,f,P,T,z,_;if(h=Array.isArray(h)?h:[],o)for(M=0;M<E;M++)for(w[M]=[],P=a(l[M])?l[M]:[],x?z=d.length:A?z=d[M].length:z=P.length,f=0;f<z;f++)x?T=d[f]:A?T=d[M][f]:T=d,_=c(P[f],T,(h[M]||[])[f]),_!==void 0&&(w[M][f]=_);else for(M=0;M<E;M++)_=c(l[M],A?d[M]:d,h[M]),_!==void 0&&(w[M]=_);m.set(w)},validateFunction:function(l,m){if(!a(l))return!1;var h=m.items,g=Array.isArray(h),c=m.dimensions===2;if(!m.freeLength&&l.length!==h.length)return!1;for(var o=0;o<l.length;o++)if(c){if(!a(l[o])||!m.freeLength&&l[o].length!==h[o].length)return!1;for(var d=0;d<l[o].length;d++)if(!s(l[o][d],g?h[o][d]:h))return!1}else if(!s(l[o],g?h[o]:h))return!1;return!0}}},B.coerce=function(l,m,h,g,c){var o=p(h,g).get(),d=p(l,g),w=p(m,g),A=d.get(),C=m._template;if(A===void 0&&C&&(A=p(C,g).get(),C=0),c===void 0&&(c=o.dflt),o.arrayOk){if(a(A))return w.set(A),A;if(n(A))return A=u(A),w.set(A),A}var x=B.valObjectMeta[o.valType].coerceFunction;x(A,w,c,o);var E=w.get();return C&&E===c&&!s(A,o)&&(A=p(C,g).get(),x(A,w,c,o),E=w.get()),E},B.coerce2=function(l,m,h,g,c){var o=p(l,g),d=B.coerce(l,m,h,g,c),w=o.get();return w!=null?d:!1},B.coerceFont=function(l,m,h){var g={};return h=h||{},g.family=l(m+".family",h.family),g.size=l(m+".size",h.size),g.color=l(m+".color",h.color),g},B.coercePattern=function(l,m,h,g){var c=l(m+".shape");if(c){l(m+".solidity"),l(m+".size");var o=l(m+".fillmode"),d=o==="overlay";if(!g){var w=l(m+".bgcolor",d?h:void 0);l(m+".fgcolor",d?b.contrast(w):h)}l(m+".fgopacity",d?.5:1)}},B.coerceHoverinfo=function(l,m,h){var g=m._module.attributes,c=g.hoverinfo?g:i,o=c.hoverinfo,d;if(h._dataLength===1){var w=o.dflt==="all"?o.flags.slice():o.dflt.split("+");w.splice(w.indexOf("name"),1),d=w.join("+")}return B.coerce(l,m,c,"hoverinfo",d)},B.coerceSelectionMarkerOpacity=function(l,m){if(l.marker){var h=l.marker.opacity;if(h!==void 0){var g,c;!a(h)&&!l.selected&&!l.unselected&&(g=h,c=v*h),m("selected.marker.opacity",g),m("unselected.marker.opacity",c)}}};function s(l,m){var h=B.valObjectMeta[m.valType];if(m.arrayOk&&a(l))return!0;if(h.validateFunction)return h.validateFunction(l,m);var g={},c=g,o={set:function(d){c=d}};return h.coerceFunction(l,o,g,m),c!==g}B.validate=s},67555:function(U,B,e){var y=e(94336).Yn,L=e(38248),i=e(24248),S=e(20435).mod,b=e(39032),v=b.BADNUM,p=b.ONEDAY,r=b.ONEHOUR,t=b.ONEMIN,a=b.ONESEC,n=b.EPOCHJD,u=e(24040),s=e(94336).E9,l=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,h=new Date().getFullYear()-70;function g(F){return F&&u.componentsRegistry.calendars&&typeof F=="string"&&F!=="gregorian"}B.dateTick0=function(F,N){var k=c(F,!!N);if(N<2)return k;var I=B.dateTime2ms(k,F);return I+=p*(N-1),B.ms2DateTime(I,0,F)};function c(F,N){return g(F)?N?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[F]:u.getComponentMethod("calendars","CANONICAL_TICK")[F]:N?"2000-01-02":"2000-01-01"}B.dfltRange=function(F){return g(F)?u.getComponentMethod("calendars","DFLTRANGE")[F]:["2000-01-01","2001-01-01"]},B.isJSDate=function(F){return typeof F=="object"&&F!==null&&typeof F.getTime=="function"};var o,d;B.dateTime2ms=function(F,N){if(B.isJSDate(F)){var k=F.getTimezoneOffset()*t,I=(F.getUTCMinutes()-F.getMinutes())*t+(F.getUTCSeconds()-F.getSeconds())*a+(F.getUTCMilliseconds()-F.getMilliseconds());if(I){var H=3*t;k=k-H/2+S(I-k+H/2,H)}return F=Number(F)-k,F>=o&&F<=d?F:v}if(typeof F!="string"&&typeof F!="number")return v;F=String(F);var j=g(N),ee=F.charAt(0);j&&(ee==="G"||ee==="g")&&(F=F.substr(1),N="");var te=j&&N.substr(0,7)==="chinese",ne=F.match(te?m:l);if(!ne)return v;var ue=ne[1],q=ne[3]||"1",Y=Number(ne[5]||1),Z=Number(ne[7]||0),G=Number(ne[9]||0),K=Number(ne[11]||0);if(j){if(ue.length===2)return v;ue=Number(ue);var oe;try{var $=u.getComponentMethod("calendars","getCal")(N);if(te){var J=q.charAt(q.length-1)==="i";q=parseInt(q,10),oe=$.newDate(ue,$.toMonthIndex(ue,q,J),Y)}else oe=$.newDate(ue,Number(q),Y)}catch{return v}return oe?(oe.toJD()-n)*p+Z*r+G*t+K*a:v}ue.length===2?ue=(Number(ue)+2e3-h)%100+h:ue=Number(ue),q-=1;var se=new Date(Date.UTC(2e3,q,Y,Z,G));return se.setUTCFullYear(ue),se.getUTCMonth()!==q||se.getUTCDate()!==Y?v:se.getTime()+K*a},o=B.MIN_MS=B.dateTime2ms("-9999"),d=B.MAX_MS=B.dateTime2ms("9999-12-31 23:59:59.9999"),B.isDateTime=function(F,N){return B.dateTime2ms(F,N)!==v};function w(F,N){return String(F+Math.pow(10,N)).substr(1)}var A=90*p,C=3*r,x=5*t;B.ms2DateTime=function(F,N,k){if(typeof F!="number"||!(F>=o&&F<=d))return v;N||(N=0);var I=Math.floor(S(F+.05,1)*10),H=Math.round(F-I/10),j,ee,te,ne,ue,q;if(g(k)){var Y=Math.floor(H/p)+n,Z=Math.floor(S(F,p));try{j=u.getComponentMethod("calendars","getCal")(k).fromJD(Y).formatDate("yyyy-mm-dd")}catch{j=s("G%Y-%m-%d")(new Date(H))}if(j.charAt(0)==="-")for(;j.length<11;)j="-0"+j.substr(1);else for(;j.length<10;)j="0"+j;ee=N<A?Math.floor(Z/r):0,te=N<A?Math.floor(Z%r/t):0,ne=N<C?Math.floor(Z%t/a):0,ue=N<x?Z%a*10+I:0}else q=new Date(H),j=s("%Y-%m-%d")(q),ee=N<A?q.getUTCHours():0,te=N<A?q.getUTCMinutes():0,ne=N<C?q.getUTCSeconds():0,ue=N<x?q.getUTCMilliseconds()*10+I:0;return E(j,ee,te,ne,ue)},B.ms2DateTimeLocal=function(F){if(!(F>=o+p&&F<=d-p))return v;var N=Math.floor(S(F+.05,1)*10),k=new Date(Math.round(F-N/10)),I=y("%Y-%m-%d")(k),H=k.getHours(),j=k.getMinutes(),ee=k.getSeconds(),te=k.getUTCMilliseconds()*10+N;return E(I,H,j,ee,te)};function E(F,N,k,I,H){if((N||k||I||H)&&(F+=" "+w(N,2)+":"+w(k,2),(I||H)&&(F+=":"+w(I,2),H))){for(var j=4;H%10===0;)j-=1,H/=10;F+="."+w(H,j)}return F}B.cleanDate=function(F,N,k){if(F===v)return N;if(B.isJSDate(F)||typeof F=="number"&&isFinite(F)){if(g(k))return i.error("JS Dates and milliseconds are incompatible with world calendars",F),N;if(F=B.ms2DateTimeLocal(+F),!F&&N!==void 0)return N}else if(!B.isDateTime(F,k))return i.error("unrecognized date",F),N;return F};var M=/%\d?f/g,f=/%h/g,P={1:"1",2:"1",3:"2",4:"2"};function T(F,N,k,I){F=F.replace(M,function(j){var ee=Math.min(+j.charAt(1)||6,6),te=(N/1e3%1+2).toFixed(ee).substr(2).replace(/0+$/,"")||"0";return te});var H=new Date(Math.floor(N+.05));if(F=F.replace(f,function(){return P[k("%q")(H)]}),g(I))try{F=u.getComponentMethod("calendars","worldCalFmt")(F,N,I)}catch{return"Invalid"}return k(F)(H)}var z=[59,59.9,59.99,59.999,59.9999];function _(F,N){var k=S(F+.05,p),I=w(Math.floor(k/r),2)+":"+w(S(Math.floor(k/t),60),2);if(N!=="M"){L(N)||(N=0);var H=Math.min(S(F/a,60),z[N]),j=(100+H).toFixed(N).substr(1);N>0&&(j=j.replace(/0+$/,"").replace(/[\.]$/,"")),I+=":"+j}return I}B.formatDate=function(F,N,k,I,H,j){if(H=g(H)&&H,!N)if(k==="y")N=j.year;else if(k==="m")N=j.month;else if(k==="d")N=j.dayMonth+`
`+j.year;else return _(F,k)+`
`+T(j.dayMonthYear,F,I,H);return T(N,F,I,H)};var V=3*p;B.incrementMonth=function(F,N,k){k=g(k)&&k;var I=S(F,p);if(F=Math.round(F-I),k)try{var H=Math.round(F/p)+n,j=u.getComponentMethod("calendars","getCal")(k),ee=j.fromJD(H);return N%12?j.add(ee,N,"m"):j.add(ee,N/12,"y"),(ee.toJD()-n)*p+I}catch{i.error("invalid ms "+F+" in calendar "+k)}var te=new Date(F+V);return te.setUTCMonth(te.getUTCMonth()+N)+I-V},B.findExactDates=function(F,N){for(var k=0,I=0,H=0,j=0,ee,te,ne=g(N)&&u.getComponentMethod("calendars","getCal")(N),ue=0;ue<F.length;ue++){if(te=F[ue],!L(te)){j++;continue}if(!(te%p))if(ne)try{ee=ne.fromJD(te/p+n),ee.day()===1?ee.month()===1?k++:I++:H++}catch{}else ee=new Date(te),ee.getUTCDate()===1?ee.getUTCMonth()===0?k++:I++:H++}I+=k,H+=I;var q=F.length-j;return{exactYears:k/q,exactMonths:I/q,exactDays:H/q}}},52200:function(U,B,e){var y=e(33428),L=e(24248),i=e(52248),S=e(36524);function b(h){var g;if(typeof h=="string"){if(g=document.getElementById(h),g===null)throw new Error("No DOM element with id '"+h+"' exists on the page.");return g}else if(h==null)throw new Error("DOM element provided is null or undefined");return h}function v(h){var g=y.select(h);return g.node()instanceof HTMLElement&&g.size()&&g.classed("js-plotly-plot")}function p(h){var g=h&&h.parentNode;g&&g.removeChild(h)}function r(h,g){t("global",h,g)}function t(h,g,c){var o="plotly.js-style-"+h,d=document.getElementById(o);d||(d=document.createElement("style"),d.setAttribute("id",o),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var w=d.sheet;w.insertRule?w.insertRule(g+"{"+c+"}",0):w.addRule?w.addRule(g,c,0):L.warn("addStyleRule failed")}function a(h){var g="plotly.js-style-"+h,c=document.getElementById(g);c&&p(c)}function n(h){var g=s(h),c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return g.forEach(function(o){var d=u(o);if(d){var w=i.convertCssMatrix(d);c=S.multiply(c,c,w)}}),c}function u(h){var g=window.getComputedStyle(h,null),c=g.getPropertyValue("-webkit-transform")||g.getPropertyValue("-moz-transform")||g.getPropertyValue("-ms-transform")||g.getPropertyValue("-o-transform")||g.getPropertyValue("transform");return c==="none"?null:c.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(o){return+o})}function s(h){for(var g=[];l(h);)g.push(h),h=h.parentNode;return g}function l(h){return h&&(h instanceof Element||h instanceof HTMLElement)}function m(h,g){return h&&g&&h.top===g.top&&h.left===g.left&&h.right===g.right&&h.bottom===g.bottom}U.exports={getGraphDiv:b,isPlotDiv:v,removeElement:p,addStyleRule:r,addRelatedStyleRule:t,deleteRelatedStyleRule:a,getFullTransformMatrix:n,getElementTransformMatrix:u,getElementAndAncestors:s,equalDomRects:m}},95924:function(U,B,e){var y=e(61252).EventEmitter,L={init:function(i){if(i._ev instanceof y)return i;var S=new y,b=new y;return i._ev=S,i._internalEv=b,i.on=S.on.bind(S),i.once=S.once.bind(S),i.removeListener=S.removeListener.bind(S),i.removeAllListeners=S.removeAllListeners.bind(S),i._internalOn=b.on.bind(b),i._internalOnce=b.once.bind(b),i._removeInternalListener=b.removeListener.bind(b),i._removeAllInternalListeners=b.removeAllListeners.bind(b),i.emit=function(v,p){typeof jQuery<"u"&&jQuery(i).trigger(v,p),S.emit(v,p),b.emit(v,p)},i},triggerHandler:function(i,S,b){var v,p;typeof jQuery<"u"&&(v=jQuery(i).triggerHandler(S,b));var r=i._ev;if(!r)return v;var t=r._events[S];if(!t)return v;function a(u){if(u.listener){if(r.removeListener(S,u.listener),!u.fired)return u.fired=!0,u.listener.apply(r,[b])}else return u.apply(r,[b])}t=Array.isArray(t)?t:[t];var n;for(n=0;n<t.length-1;n++)a(t[n]);return p=a(t[n]),v!==void 0?v:p},purge:function(i){return delete i._ev,delete i.on,delete i.once,delete i.removeListener,delete i.removeAllListeners,delete i.emit,delete i._ev,delete i._internalEv,delete i._internalOn,delete i._internalOnce,delete i._removeInternalListener,delete i._removeAllInternalListeners,i}};U.exports=L},92880:function(U,B,e){var y=e(63620),L=Array.isArray;function i(b,v){var p,r;for(p=0;p<b.length;p++){if(r=b[p],r!==null&&typeof r=="object")return!1;r!==void 0&&(v[p]=r)}return!0}B.extendFlat=function(){return S(arguments,!1,!1,!1)},B.extendDeep=function(){return S(arguments,!0,!1,!1)},B.extendDeepAll=function(){return S(arguments,!0,!0,!1)},B.extendDeepNoArrays=function(){return S(arguments,!0,!1,!0)};function S(b,v,p,r){var t=b[0],a=b.length,n,u,s,l,m,h,g;if(a===2&&L(t)&&L(b[1])&&t.length===0){if(g=i(b[1],t),g)return t;t.splice(0,t.length)}for(var c=1;c<a;c++){n=b[c];for(u in n)s=t[u],l=n[u],r&&L(l)?t[u]=l:v&&l&&(y(l)||(m=L(l)))?(m?(m=!1,h=s&&L(s)?s:[]):h=s&&y(s)?s:{},t[u]=S([h,l],v,p,r)):(typeof l<"u"||p)&&(t[u]=l)}return t}},68944:function(U){U.exports=function(e){for(var y={},L=[],i=0,S=0;S<e.length;S++){var b=e[S];y[b]!==1&&(y[b]=1,L[i++]=b)}return L}},43880:function(U){U.exports=function(i){for(var S=y(i)?e:B,b=[],v=0;v<i.length;v++){var p=i[v];S(p)&&b.push(p)}return b};function B(L){return L.visible===!0}function e(L){var i=L[0].trace;return i.visible===!0&&i._length!==0}function y(L){return Array.isArray(L)&&Array.isArray(L[0])&&L[0][0]&&L[0][0].trace}},27144:function(U,B,e){var y=e(33428),L=e(36116),i=e(40440),S=e(77844),b=e(42428),v=e(35536),p=e(24248),r=e(63620),t=e(22296),a=e(92065),n=Object.keys(L),u={"ISO-3":v,"USA-states":v,"country names":s};function s(w){for(var A=0;A<n.length;A++){var C=n[A],x=new RegExp(L[C]);if(x.test(w.trim().toLowerCase()))return C}return p.log("Unrecognized country name: "+w+"."),!1}function l(w,A,C){if(!A||typeof A!="string")return!1;var x=u[w](A),E,M,f;if(x){if(w==="USA-states")for(E=[],f=0;f<C.length;f++)M=C[f],M.properties&&M.properties.gu&&M.properties.gu==="USA"&&E.push(M);else E=C;for(f=0;f<E.length;f++)if(M=E[f],M.id===x)return M;p.log(["Location with id",x,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function m(w){var A=w.geometry,C=A.coordinates,x=w.id,E=[],M,f,P,T;function z(_){for(var V=0;V<_.length-1;V++)if(_[V][0]>0&&_[V+1][0]<0)return V;return null}switch(x==="RUS"||x==="FJI"?M=function(_){var V;if(z(_)===null)V=_;else for(V=new Array(_.length),T=0;T<_.length;T++)V[T]=[_[T][0]<0?_[T][0]+360:_[T][0],_[T][1]];E.push(a.tester(V))}:x==="ATA"?M=function(_){var V=z(_);if(V===null)return E.push(a.tester(_));var F=new Array(_.length+1),N=0;for(T=0;T<_.length;T++)T>V?F[N++]=[_[T][0]+360,_[T][1]]:T===V?(F[N++]=_[T],F[N++]=[_[T][0],-90]):F[N++]=_[T];var k=a.tester(F);k.pts.pop(),E.push(k)}:M=function(_){E.push(a.tester(_))},A.type){case"MultiPolygon":for(f=0;f<C.length;f++)for(P=0;P<C[f].length;P++)M(C[f][P]);break;case"Polygon":for(f=0;f<C.length;f++)M(C[f]);break}return E}function h(w){var A=w.geojson,C=window.PlotlyGeoAssets||{},x=typeof A=="string"?C[A]:A;return r(x)?x:(p.error("Oops ... something went wrong when fetching "+A),!1)}function g(w){var A=w[0].trace,C=h(A);if(!C)return!1;var x={},E=[],M;for(M=0;M<A._length;M++){var f=w[M];(f.loc||f.loc===0)&&(x[f.loc]=f)}function P(_){var V=t(_,A.featureidkey||"id").get(),F=x[V];if(F){var N=_.geometry;if(N.type==="Polygon"||N.type==="MultiPolygon"){var k={type:"Feature",id:V,geometry:N,properties:{}};k.properties.ct=c(k),F.fIn=_,F.fOut=k,E.push(k)}else p.log(["Location",F.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete x[V]}switch(C.type){case"FeatureCollection":var T=C.features;for(M=0;M<T.length;M++)P(T[M]);break;case"Feature":P(C);break;default:return p.warn(["Invalid GeoJSON type",(C.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var z in x)p.log(["Location *"+z+"*","does not have a matching feature with id-key","*"+A.featureidkey+"*."].join(" "));return E}function c(w){var A=w.geometry,C;if(A.type==="MultiPolygon")for(var x=A.coordinates,E=0,M=0;M<x.length;M++){var f={type:"Polygon",coordinates:x[M]},P=i.default(f);P>E&&(E=P,C=f)}else C=A;return S.default(C).geometry.coordinates}function o(w){var A=window.PlotlyGeoAssets||{},C=[];function x(T){return new Promise(function(z,_){y.json(T,function(V,F){if(V){delete A[T];var N=V.status===404?'GeoJSON at URL "'+T+'" does not exist.':"Unexpected error while fetching from "+T;return _(new Error(N))}return A[T]=F,z(F)})})}function E(T){return new Promise(function(z,_){var V=0,F=setInterval(function(){if(A[T]&&A[T]!=="pending")return clearInterval(F),z(A[T]);if(V>100)return clearInterval(F),_("Unexpected error while fetching from "+T);V++},50)})}for(var M=0;M<w.length;M++){var f=w[M][0].trace,P=f.geojson;typeof P=="string"&&(A[P]?A[P]==="pending"&&C.push(E(P)):(A[P]="pending",C.push(x(P))))}return C}function d(w){return b.default(w)}U.exports={locationToFeature:l,feature2polygons:m,getTraceGeojson:h,extractTraceFeature:g,fetchTraceGeoData:o,computeBbox:d}},44808:function(U,B,e){var y=e(39032).BADNUM;B.calcTraceToLineCoords=function(L){for(var i=L[0].trace,S=i.connectgaps,b=[],v=[],p=0;p<L.length;p++){var r=L[p],t=r.lonlat;t[0]!==y?v.push(t):!S&&v.length>0&&(b.push(v),v=[])}return v.length>0&&b.push(v),b},B.makeLine=function(L){return L.length===1?{type:"LineString",coordinates:L[0]}:{type:"MultiLineString",coordinates:L}},B.makePolygon=function(L){if(L.length===1)return{type:"Polygon",coordinates:L};for(var i=new Array(L.length),S=0;S<L.length;S++)i[S]=[L[S]];return{type:"MultiPolygon",coordinates:i}},B.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(U,B,e){var y=e(20435).mod;B.segmentsIntersect=L;function L(p,r,t,a,n,u,s,l){var m=t-p,h=n-p,g=s-n,c=a-r,o=u-r,d=l-u,w=m*d-g*c;if(w===0)return null;var A=(h*d-g*o)/w,C=(h*c-m*o)/w;return C<0||C>1||A<0||A>1?null:{x:p+m*A,y:r+c*A}}B.segmentDistance=function(r,t,a,n,u,s,l,m){if(L(r,t,a,n,u,s,l,m))return 0;var h=a-r,g=n-t,c=l-u,o=m-s,d=h*h+g*g,w=c*c+o*o,A=Math.min(i(h,g,d,u-r,s-t),i(h,g,d,l-r,m-t),i(c,o,w,r-u,t-s),i(c,o,w,a-u,n-s));return Math.sqrt(A)};function i(p,r,t,a,n){var u=a*p+n*r;if(u<0)return a*a+n*n;if(u>t){var s=a-p,l=n-r;return s*s+l*l}else{var m=a*r-n*p;return m*m/t}}var S,b,v;B.getTextLocation=function(r,t,a,n){if((r!==b||n!==v)&&(S={},b=r,v=n),S[a])return S[a];var u=r.getPointAtLength(y(a-n/2,t)),s=r.getPointAtLength(y(a+n/2,t)),l=Math.atan((s.y-u.y)/(s.x-u.x)),m=r.getPointAtLength(y(a,t)),h=(m.x*4+u.x+s.x)/6,g=(m.y*4+u.y+s.y)/6,c={x:h,y:g,theta:l};return S[a]=c,c},B.clearLocationCache=function(){b=null},B.getVisibleSegment=function(r,t,a){var n=t.left,u=t.right,s=t.top,l=t.bottom,m=0,h=r.getTotalLength(),g=h,c,o;function d(A){var C=r.getPointAtLength(A);A===0?c=C:A===h&&(o=C);var x=C.x<n?n-C.x:C.x>u?C.x-u:0,E=C.y<s?s-C.y:C.y>l?C.y-l:0;return Math.sqrt(x*x+E*E)}for(var w=d(m);w;){if(m+=w+a,m>g)return;w=d(m)}for(w=d(g);w;){if(g-=w+a,m>g)return;w=d(g)}return{min:m,max:g,len:g-m,total:h,isClosed:m===0&&g===h&&Math.abs(c.x-o.x)<.1&&Math.abs(c.y-o.y)<.1}},B.findPointOnPath=function(r,t,a,n){n=n||{};for(var u=n.pathLength||r.getTotalLength(),s=n.tolerance||.001,l=n.iterationLimit||30,m=r.getPointAtLength(0)[a]>r.getPointAtLength(u)[a]?-1:1,h=0,g=0,c=u,o,d,w;h<l;){if(o=(g+c)/2,d=r.getPointAtLength(o),w=d[a]-t,Math.abs(w)<s)return d;m*w>0?c=o:g=o,h++}return d}},33040:function(U,B,e){var y=e(38248),L=e(49760),i=e(72160),S=e(8932),b=e(22548).defaultLine,v=e(38116).isArrayOrTypedArray,p=i(b),r=1;function t(l,m){var h=l;return h[3]*=m,h}function a(l){if(y(l))return p;var m=i(l);return m.length?m:p}function n(l){return y(l)?l:r}function u(l,m,h){var g=l.color;g&&g._inputArray&&(g=g._inputArray);var c=v(g),o=v(m),d=S.extractOpts(l),w=[],A,C,x,E,M;if(d.colorscale!==void 0?A=S.makeColorScaleFuncFromTrace(l):A=a,c?C=function(P,T){return P[T]===void 0?p:i(A(P[T]))}:C=a,o?x=function(P,T){return P[T]===void 0?r:n(P[T])}:x=n,c||o)for(var f=0;f<h;f++)E=C(g,f),M=x(m,f),w[f]=t(E,M);else w=t(i(g),m);return w}function s(l){var m=S.extractOpts(l),h=m.colorscale;return m.reversescale&&(h=S.flipScale(m.colorscale)),h.map(function(g){var c=g[0],o=L(g[1]),d=o.toRgb();return{index:c,rgb:[d.r,d.g,d.b,d.a]}})}U.exports={formatColor:u,parseColorScale:s}},71688:function(U,B,e){var y=e(35536);function L(i){return[i]}U.exports={keyFun:function(i){return i.key},repeat:L,descend:y,wrap:L,unwrap:function(i){return i[0]}}},35536:function(U){U.exports=function(e){return e}},1396:function(U){U.exports=function(e,y){if(!y)return e;var L=1/Math.abs(y),i=L>1?(L*e+L*y)/L:e+y,S=String(i).length;if(S>16){var b=String(y).length,v=String(e).length;if(S>=v+b){var p=parseFloat(i).toPrecision(12);p.indexOf("e+")===-1&&(i=+p)}}return i}},3400:function(U,B,e){var y=e(33428),L=e(94336).E9,i=e(57624).E9,S=e(38248),b=e(39032),v=b.FP_SAFE,p=-v,r=b.BADNUM,t=U.exports={};t.adjustFormat=function(oe){return!oe||/^\d[.]\df/.test(oe)||/[.]\d%/.test(oe)?oe:oe==="0.f"?"~f":/^\d%/.test(oe)?"~%":/^\ds/.test(oe)?"~s":!/^[~,.0$]/.test(oe)&&/[&fps]/.test(oe)?"~"+oe:oe};var a={};t.warnBadFormat=function(K){var oe=String(K);a[oe]||(a[oe]=1,t.warn('encountered bad format: "'+oe+'"'))},t.noFormat=function(K){return String(K)},t.numberFormat=function(K){var oe;try{oe=i(t.adjustFormat(K))}catch{return t.warnBadFormat(K),t.noFormat}return oe},t.nestedProperty=e(22296),t.keyedContainer=e(37804),t.relativeAttr=e(23193),t.isPlainObject=e(63620),t.toLogRange=e(36896),t.relinkPrivateKeys=e(51528);var n=e(38116);t.isArrayBuffer=n.isArrayBuffer,t.isTypedArray=n.isTypedArray,t.isArrayOrTypedArray=n.isArrayOrTypedArray,t.isArray1D=n.isArray1D,t.ensureArray=n.ensureArray,t.concat=n.concat,t.maxRowLength=n.maxRowLength,t.minRowLength=n.minRowLength;var u=e(20435);t.mod=u.mod,t.modHalf=u.modHalf;var s=e(63064);t.valObjectMeta=s.valObjectMeta,t.coerce=s.coerce,t.coerce2=s.coerce2,t.coerceFont=s.coerceFont,t.coercePattern=s.coercePattern,t.coerceHoverinfo=s.coerceHoverinfo,t.coerceSelectionMarkerOpacity=s.coerceSelectionMarkerOpacity,t.validate=s.validate;var l=e(67555);t.dateTime2ms=l.dateTime2ms,t.isDateTime=l.isDateTime,t.ms2DateTime=l.ms2DateTime,t.ms2DateTimeLocal=l.ms2DateTimeLocal,t.cleanDate=l.cleanDate,t.isJSDate=l.isJSDate,t.formatDate=l.formatDate,t.incrementMonth=l.incrementMonth,t.dateTick0=l.dateTick0,t.dfltRange=l.dfltRange,t.findExactDates=l.findExactDates,t.MIN_MS=l.MIN_MS,t.MAX_MS=l.MAX_MS;var m=e(14952);t.findBin=m.findBin,t.sorterAsc=m.sorterAsc,t.sorterDes=m.sorterDes,t.distinctVals=m.distinctVals,t.roundUp=m.roundUp,t.sort=m.sort,t.findIndexOfMin=m.findIndexOfMin,t.sortObjectKeys=e(95376);var h=e(63084);t.aggNums=h.aggNums,t.len=h.len,t.mean=h.mean,t.median=h.median,t.midRange=h.midRange,t.variance=h.variance,t.stdev=h.stdev,t.interp=h.interp;var g=e(52248);t.init2dArray=g.init2dArray,t.transposeRagged=g.transposeRagged,t.dot=g.dot,t.translationMatrix=g.translationMatrix,t.rotationMatrix=g.rotationMatrix,t.rotationXYMatrix=g.rotationXYMatrix,t.apply3DTransform=g.apply3DTransform,t.apply2DTransform=g.apply2DTransform,t.apply2DTransform2=g.apply2DTransform2,t.convertCssMatrix=g.convertCssMatrix,t.inverseTransformMatrix=g.inverseTransformMatrix;var c=e(11864);t.deg2rad=c.deg2rad,t.rad2deg=c.rad2deg,t.angleDelta=c.angleDelta,t.angleDist=c.angleDist,t.isFullCircle=c.isFullCircle,t.isAngleInsideSector=c.isAngleInsideSector,t.isPtInsideSector=c.isPtInsideSector,t.pathArc=c.pathArc,t.pathSector=c.pathSector,t.pathAnnulus=c.pathAnnulus;var o=e(98308);t.isLeftAnchor=o.isLeftAnchor,t.isCenterAnchor=o.isCenterAnchor,t.isRightAnchor=o.isRightAnchor,t.isTopAnchor=o.isTopAnchor,t.isMiddleAnchor=o.isMiddleAnchor,t.isBottomAnchor=o.isBottomAnchor;var d=e(92348);t.segmentsIntersect=d.segmentsIntersect,t.segmentDistance=d.segmentDistance,t.getTextLocation=d.getTextLocation,t.clearLocationCache=d.clearLocationCache,t.getVisibleSegment=d.getVisibleSegment,t.findPointOnPath=d.findPointOnPath;var w=e(92880);t.extendFlat=w.extendFlat,t.extendDeep=w.extendDeep,t.extendDeepAll=w.extendDeepAll,t.extendDeepNoArrays=w.extendDeepNoArrays;var A=e(24248);t.log=A.log,t.warn=A.warn,t.error=A.error;var C=e(53756);t.counterRegex=C.counter;var x=e(91200);t.throttle=x.throttle,t.throttleDone=x.done,t.clearThrottle=x.clear;var E=e(52200);t.getGraphDiv=E.getGraphDiv,t.isPlotDiv=E.isPlotDiv,t.removeElement=E.removeElement,t.addStyleRule=E.addStyleRule,t.addRelatedStyleRule=E.addRelatedStyleRule,t.deleteRelatedStyleRule=E.deleteRelatedStyleRule,t.getFullTransformMatrix=E.getFullTransformMatrix,t.getElementTransformMatrix=E.getElementTransformMatrix,t.getElementAndAncestors=E.getElementAndAncestors,t.equalDomRects=E.equalDomRects,t.clearResponsive=e(75352),t.preserveDrawingBuffer=e(34296),t.makeTraceGroups=e(30988),t._=e(98356),t.notifier=e(41792),t.filterUnique=e(68944),t.filterVisible=e(43880),t.pushUnique=e(52416),t.increment=e(1396),t.cleanNumber=e(54037),t.ensureNumber=function(oe){return S(oe)?(oe=Number(oe),oe>v||oe<p?r:oe):r},t.isIndex=function(K,oe){return oe!==void 0&&K>=oe?!1:S(K)&&K>=0&&K%1===0},t.noop=e(16628),t.identity=e(35536),t.repeat=function(K,oe){for(var $=new Array(oe),J=0;J<oe;J++)$[J]=K;return $},t.swapAttrs=function(K,oe,$,J){$||($="x"),J||(J="y");for(var se=0;se<oe.length;se++){var ie=oe[se],ce=t.nestedProperty(K,ie.replace("?",$)),ye=t.nestedProperty(K,ie.replace("?",J)),Se=ce.get();ce.set(ye.get()),ye.set(Se)}},t.raiseToTop=function(oe){oe.parentNode.appendChild(oe)},t.cancelTransition=function(K){return K.transition().duration(0)},t.constrain=function(K,oe,$){return oe>$?Math.max($,Math.min(oe,K)):Math.max(oe,Math.min($,K))},t.bBoxIntersect=function(K,oe,$){return $=$||0,K.left<=oe.right+$&&oe.left<=K.right+$&&K.top<=oe.bottom+$&&oe.top<=K.bottom+$},t.simpleMap=function(K,oe,$,J,se){for(var ie=K.length,ce=new Array(ie),ye=0;ye<ie;ye++)ce[ye]=oe(K[ye],$,J,se);return ce},t.randstr=function K(oe,$,J,se){if(J||(J=16),$===void 0&&($=24),$<=0)return"0";var ie=Math.log(Math.pow(2,$))/Math.log(J),ce="",ye,Se,Te;for(ye=2;ie===1/0;ye*=2)ie=Math.log(Math.pow(2,$/ye))/Math.log(J)*ye;var ke=ie-Math.floor(ie);for(ye=0;ye<Math.floor(ie);ye++)Te=Math.floor(Math.random()*J).toString(J),ce=Te+ce;ke&&(Se=Math.pow(J,ke),Te=Math.floor(Math.random()*Se).toString(J),ce=Te+ce);var we=parseInt(ce,J);return oe&&oe[ce]||we!==1/0&&we>=Math.pow(2,$)?se>10?(t.warn("randstr failed uniqueness"),ce):K(oe,$,J,(se||0)+1):ce},t.OptionControl=function(K,oe){K||(K={}),oe||(oe="opt");var $={};return $.optionList=[],$._newoption=function(J){J[oe]=K,$[J.name]=J,$.optionList.push(J)},$["_"+oe]=K,$},t.smooth=function(K,oe){if(oe=Math.round(oe)||0,oe<2)return K;var $=K.length,J=2*$,se=2*oe-1,ie=new Array(se),ce=new Array($),ye,Se,Te,ke;for(ye=0;ye<se;ye++)ie[ye]=(1-Math.cos(Math.PI*(ye+1)/oe))/(2*oe);for(ye=0;ye<$;ye++){for(ke=0,Se=0;Se<se;Se++)Te=ye+Se+1-oe,Te<-$?Te-=J*Math.round(Te/J):Te>=J&&(Te-=J*Math.floor(Te/J)),Te<0?Te=-1-Te:Te>=$&&(Te=J-1-Te),ke+=K[Te]*ie[Se];ce[ye]=ke}return ce},t.syncOrAsync=function(K,oe,$){var J,se;function ie(){return t.syncOrAsync(K,oe,$)}for(;K.length;)if(se=K.splice(0,1)[0],J=se(oe),J&&J.then)return J.then(ie);return $&&$(oe)},t.stripTrailingSlash=function(K){return K.substr(-1)==="/"?K.substr(0,K.length-1):K},t.noneOrAll=function(K,oe,$){if(K){var J=!1,se=!0,ie,ce;for(ie=0;ie<$.length;ie++)ce=K[$[ie]],ce!=null?J=!0:se=!1;if(J&&!se)for(ie=0;ie<$.length;ie++)K[$[ie]]=oe[$[ie]]}},t.mergeArray=function(K,oe,$,J){var se=typeof J=="function";if(t.isArrayOrTypedArray(K))for(var ie=Math.min(K.length,oe.length),ce=0;ce<ie;ce++){var ye=K[ce];oe[ce][$]=se?J(ye):ye}},t.mergeArrayCastPositive=function(K,oe,$){return t.mergeArray(K,oe,$,function(J){var se=+J;return isFinite(se)&&se>0?se:0})},t.fillArray=function(K,oe,$,J){if(J=J||t.identity,t.isArrayOrTypedArray(K))for(var se=0;se<oe.length;se++)oe[se][$]=J(K[se])},t.castOption=function(K,oe,$,J){J=J||t.identity;var se=t.nestedProperty(K,$).get();return t.isArrayOrTypedArray(se)?Array.isArray(oe)&&t.isArrayOrTypedArray(se[oe[0]])?J(se[oe[0]][oe[1]]):J(se[oe]):se},t.extractOption=function(K,oe,$,J){if($ in K)return K[$];var se=t.nestedProperty(oe,J).get();if(!Array.isArray(se))return se};function M(K){var oe={};for(var $ in K)for(var J=K[$],se=0;se<J.length;se++)oe[J[se]]=+$;return oe}t.tagSelected=function(K,oe,$){var J=oe.selectedpoints,se=oe._indexToPoints,ie;se&&(ie=M(se));function ce(we){return we!==void 0&&we<K.length}for(var ye=0;ye<J.length;ye++){var Se=J[ye];if(t.isIndex(Se)||t.isArrayOrTypedArray(Se)&&t.isIndex(Se[0])&&t.isIndex(Se[1])){var Te=ie?ie[Se]:Se,ke=$?$[Te]:Te;ce(ke)&&(K[ke].selected=1)}}},t.selIndices2selPoints=function(K){var oe=K.selectedpoints,$=K._indexToPoints;if($){for(var J=M($),se=[],ie=0;ie<oe.length;ie++){var ce=oe[ie];if(t.isIndex(ce)){var ye=J[ce];t.isIndex(ye)&&se.push(ye)}}return se}else return oe},t.getTargetArray=function(K,oe){var $=oe.target;if(typeof $=="string"&&$){var J=t.nestedProperty(K,$).get();return t.isArrayOrTypedArray(J)?J:!1}else if(t.isArrayOrTypedArray($))return $;return!1};function f(K,oe,$){var J={};typeof oe!="object"&&(oe={});var se=$==="pieLike"?-1:3,ie=Object.keys(K),ce,ye,Se;for(ce=0;ce<ie.length;ce++)ye=ie[ce],Se=K[ye],!(ye.charAt(0)==="_"||typeof Se=="function")&&(ye==="module"?J[ye]=Se:Array.isArray(Se)?ye==="colorscale"||se===-1?J[ye]=Se.slice():J[ye]=Se.slice(0,se):t.isTypedArray(Se)?se===-1?J[ye]=Se.subarray():J[ye]=Se.subarray(0,se):Se&&typeof Se=="object"?J[ye]=f(K[ye],oe[ye],$):J[ye]=Se);for(ie=Object.keys(oe),ce=0;ce<ie.length;ce++)ye=ie[ce],Se=oe[ye],(typeof Se!="object"||!(ye in J)||typeof J[ye]!="object")&&(J[ye]=Se);return J}t.minExtend=f,t.titleCase=function(K){return K.charAt(0).toUpperCase()+K.substr(1)},t.containsAny=function(K,oe){for(var $=0;$<oe.length;$++)if(K.indexOf(oe[$])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var P=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return P.test(window.navigator.userAgent)};var T=/iPad|iPhone|iPod/;t.isIOS=function(){return T.test(window.navigator.userAgent)};var z=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var K=z.exec(window.navigator.userAgent);if(K&&K.length===2){var oe=parseInt(K[1]);if(!isNaN(oe))return oe}return null},t.isD3Selection=function(K){return K instanceof y.selection},t.ensureSingle=function(K,oe,$,J){var se=K.select(oe+($?"."+$:""));if(se.size())return se;var ie=K.append(oe);return $&&ie.classed($,!0),J&&ie.call(J),ie},t.ensureSingleById=function(K,oe,$,J){var se=K.select(oe+"#"+$);if(se.size())return se;var ie=K.append(oe).attr("id",$);return J&&ie.call(J),ie},t.objectFromPath=function(K,oe){for(var $=K.split("."),J,se=J={},ie=0;ie<$.length;ie++){var ce=$[ie],ye=null,Se=$[ie].match(/(.*)\[([0-9]+)\]/);Se?(ce=Se[1],ye=Se[2],J=J[ce]=[],ie===$.length-1?J[ye]=oe:J[ye]={},J=J[ye]):(ie===$.length-1?J[ce]=oe:J[ce]={},J=J[ce])}return se};var _=/^([^\[\.]+)\.(.+)?/,V=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function F(K){return K.slice(0,2)==="__"}t.expandObjectPaths=function(K){var oe,$,J,se,ie,ce,ye;if(typeof K=="object"&&!Array.isArray(K)){for($ in K)if(K.hasOwnProperty($))if(oe=$.match(_)){if(se=K[$],J=oe[1],F(J))continue;delete K[$],K[J]=t.extendDeepNoArrays(K[J]||{},t.objectFromPath($,t.expandObjectPaths(se))[J])}else if(oe=$.match(V)){if(se=K[$],J=oe[1],F(J))continue;if(ie=parseInt(oe[2]),delete K[$],K[J]=K[J]||[],oe[3]===".")ye=oe[4],ce=K[J][ie]=K[J][ie]||{},t.extendDeepNoArrays(ce,t.objectFromPath(ye,t.expandObjectPaths(se)));else{if(F(J))continue;K[J][ie]=t.expandObjectPaths(se)}}else{if(F($))continue;K[$]=t.expandObjectPaths(K[$])}}return K},t.numSeparate=function(K,oe,$){if($||($=!1),typeof oe!="string"||oe.length===0)throw new Error("Separator string required for formatting!");typeof K=="number"&&(K=String(K));var J=/(\d+)(\d{3})/,se=oe.charAt(0),ie=oe.charAt(1),ce=K.split("."),ye=ce[0],Se=ce.length>1?se+ce[1]:"";if(ie&&(ce.length>1||ye.length>4||$))for(;J.test(ye);)ye=ye.replace(J,"$1"+ie+"$2");return ye+Se},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var N=/^\w*$/;t.templateString=function(K,oe){var $={};return K.replace(t.TEMPLATE_STRING_REGEX,function(J,se){var ie;return N.test(se)?ie=oe[se]:($[se]=$[se]||t.nestedProperty(oe,se).get,ie=$[se]()),t.isValidTextValue(ie)?ie:""})};var k={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return ne.apply(k,arguments)};var I={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return ne.apply(I,arguments)};var H=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function j(K){var oe=K.match(H);return oe?{key:oe[1],op:oe[2],number:Number(oe[3])}:{key:K,op:null,number:null}}var ee={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return ne.apply(ee,arguments)};var te=/^[:|\|]/;function ne(K,oe,$){var J=this,se=arguments;oe||(oe={});var ie={};return K.replace(t.TEMPLATE_STRING_REGEX,function(ce,ye,Se){var Te=ye==="xother"||ye==="yother",ke=ye==="_xother"||ye==="_yother",we=ye==="_xother_"||ye==="_yother_",Ee=ye==="xother_"||ye==="yother_",xe=Te||ke||Ee||we,De=ye;(ke||we)&&(De=De.substring(1)),(Ee||we)&&(De=De.substring(0,De.length-1));var Ve=null,Ue=null;if(J.parseMultDiv){var Be=j(De);De=Be.key,Ve=Be.op,Ue=Be.number}var Xe;if(xe){if(Xe=oe[De],Xe===void 0)return""}else{var ot,ut;for(ut=3;ut<se.length;ut++)if(ot=se[ut],!!ot){if(ot.hasOwnProperty(De)){Xe=ot[De];break}if(N.test(De)||(Xe=t.nestedProperty(ot,De).get(),Xe=ie[De]||t.nestedProperty(ot,De).get(),Xe&&(ie[De]=Xe)),Xe!==void 0)break}}if(Xe!==void 0&&(Ve==="*"&&(Xe*=Ue),Ve==="/"&&(Xe/=Ue)),Xe===void 0&&J)return J.count<J.max&&(t.warn("Variable '"+De+"' in "+J.name+" could not be found!"),Xe=ce),J.count===J.max&&t.warn("Too many "+J.name+" warnings - additional warnings will be suppressed"),J.count++,ce;if(Se){var et;if(Se[0]===":"&&(et=$?$.numberFormat:t.numberFormat,Xe!==""&&(Xe=et(Se.replace(te,""))(Xe))),Se[0]==="|"){et=$?$.timeFormat:L;var qe=t.dateTime2ms(Xe);Xe=t.formatDate(qe,Se.replace(te,""),!1,et)}}else{var ft=De+"Label";oe.hasOwnProperty(ft)&&(Xe=oe[ft])}return xe&&(Xe="("+Xe+")",(ke||we)&&(Xe=" "+Xe),(Ee||we)&&(Xe=Xe+" ")),Xe})}var ue=48,q=57;t.subplotSort=function(K,oe){for(var $=Math.min(K.length,oe.length)+1,J=0,se=0,ie=0;ie<$;ie++){var ce=K.charCodeAt(ie)||0,ye=oe.charCodeAt(ie)||0,Se=ce>=ue&&ce<=q,Te=ye>=ue&&ye<=q;if(Se&&(J=10*J+ce-ue),Te&&(se=10*se+ye-ue),!Se||!Te){if(J!==se)return J-se;if(ce!==ye)return ce-ye}}return se-J};var Y=2e9;t.seedPseudoRandom=function(){Y=2e9},t.pseudoRandom=function(){var K=Y;return Y=(69069*Y+1)%4294967296,Math.abs(Y-K)<429496729?t.pseudoRandom():Y/4294967296},t.fillText=function(K,oe,$){var J=Array.isArray($)?function(ce){$.push(ce)}:function(ce){$.text=ce},se=t.extractOption(K,oe,"htx","hovertext");if(t.isValidTextValue(se))return J(se);var ie=t.extractOption(K,oe,"tx","text");if(t.isValidTextValue(ie))return J(ie)},t.isValidTextValue=function(K){return K||K===0},t.formatPercent=function(K,oe){oe=oe||0;for(var $=(Math.round(100*K*Math.pow(10,oe))*Math.pow(.1,oe)).toFixed(oe)+"%",J=0;J<oe;J++)$.indexOf(".")!==-1&&($=$.replace("0%","%"),$=$.replace(".%","%"));return $},t.isHidden=function(K){var oe=window.getComputedStyle(K).display;return!oe||oe==="none"},t.strTranslate=function(K,oe){return K||oe?"translate("+K+","+oe+")":""},t.strRotate=function(K){return K?"rotate("+K+")":""},t.strScale=function(K){return K!==1?"scale("+K+")":""},t.getTextTransform=function(K){var oe=K.noCenter,$=K.textX,J=K.textY,se=K.targetX,ie=K.targetY,ce=K.anchorX||0,ye=K.anchorY||0,Se=K.rotate,Te=K.scale;return Te?Te>1&&(Te=1):Te=0,t.strTranslate(se-Te*($+ce),ie-Te*(J+ye))+t.strScale(Te)+(Se?"rotate("+Se+(oe?"":" "+$+" "+J)+")":"")},t.setTransormAndDisplay=function(K,oe){K.attr("transform",t.getTextTransform(oe)),K.style("display",oe.scale?null:"none")},t.ensureUniformFontSize=function(K,oe){var $=t.extendFlat({},oe);return $.size=Math.max(oe.size,K._fullLayout.uniformtext.minsize||0),$},t.join2=function(K,oe,$){var J=K.length;return J>1?K.slice(0,-1).join(oe)+$+K[J-1]:K.join(oe)},t.bigFont=function(K){return Math.round(1.2*K)};var Z=t.getFirefoxVersion(),G=Z!==null&&Z<86;t.getPositionFromD3Event=function(){return G?[y.event.layerX,y.event.layerY]:[y.event.offsetX,y.event.offsetY]}},63620:function(U){U.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},37804:function(U,B,e){var y=e(22296),L=/^\w*$/,i=0,S=1,b=2,v=3,p=4;U.exports=function(t,a,n,u){n=n||"name",u=u||"value";var s,l,m,h={};a&&a.length?(m=y(t,a),l=m.get()):l=t,a=a||"";var g={};if(l)for(s=0;s<l.length;s++)g[l[s][n]]=s;var c=L.test(u),o={set:function(d,w){var A=w===null?p:i;if(!l){if(!m||A===p)return;l=[],m.set(l)}var C=g[d];if(C===void 0){if(A===p)return;A=A|v,C=l.length,g[d]=C}else w!==(c?l[C][u]:y(l[C],u).get())&&(A=A|b);var x=l[C]=l[C]||{};return x[n]=d,c?x[u]=w:y(x,u).set(w),w!==null&&(A=A&~p),h[C]=h[C]|A,o},get:function(d){if(l){var w=g[d];if(w!==void 0)return c?l[w][u]:y(l[w],u).get()}},rename:function(d,w){var A=g[d];return A===void 0||(h[A]=h[A]|S,g[w]=A,delete g[d],l[A][n]=w),o},remove:function(d){var w=g[d];if(w===void 0)return o;var A=l[w];if(Object.keys(A).length>2)return h[w]=h[w]|b,o.set(d,null);if(c){for(s=w;s<l.length;s++)h[s]=h[s]|v;for(s=w;s<l.length;s++)g[l[s][n]]--;l.splice(w,1),delete g[d]}else y(A,u).set(null),h[w]=h[w]|b|p;return o},constructUpdate:function(){for(var d,w,A={},C=Object.keys(h),x=0;x<C.length;x++)w=C[x],d=a+"["+w+"]",l[w]?(h[w]&S&&(A[d+"."+n]=l[w][n]),h[w]&b&&(c?A[d+"."+u]=h[w]&p?null:l[w][u]:A[d+"."+u]=h[w]&p?null:y(l[w],u).get())):A[d]=null;return A}};return o}},98356:function(U,B,e){var y=e(24040);U.exports=function(i,S){for(var b=i._context.locale,v=0;v<2;v++){for(var p=i._context.locales,r=0;r<2;r++){var t=(p[b]||{}).dictionary;if(t){var a=t[S];if(a)return a}p=y.localeRegistry}var n=b.split("-")[0];if(n===b)break;b=n}return S}},24248:function(U,B,e){var y=e(20556).dfltConfig,L=e(41792),i=U.exports={};i.log=function(){var S;if(y.logging>1){var b=["LOG:"];for(S=0;S<arguments.length;S++)b.push(arguments[S]);console.trace.apply(console,b)}if(y.notifyOnLogging>1){var v=[];for(S=0;S<arguments.length;S++)v.push(arguments[S]);L(v.join("<br>"),"long")}},i.warn=function(){var S;if(y.logging>0){var b=["WARN:"];for(S=0;S<arguments.length;S++)b.push(arguments[S]);console.trace.apply(console,b)}if(y.notifyOnLogging>0){var v=[];for(S=0;S<arguments.length;S++)v.push(arguments[S]);L(v.join("<br>"),"stick")}},i.error=function(){var S;if(y.logging>0){var b=["ERROR:"];for(S=0;S<arguments.length;S++)b.push(arguments[S]);console.error.apply(console,b)}if(y.notifyOnLogging>0){var v=[];for(S=0;S<arguments.length;S++)v.push(arguments[S]);L(v.join("<br>"),"stick")}}},30988:function(U,B,e){var y=e(33428);U.exports=function(i,S,b){var v=i.selectAll("g."+b.replace(/\s/g,".")).data(S,function(r){return r[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",b),v.order();var p=i.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(r){r[0][p]=y.select(this)}),v}},52248:function(U,B,e){var y=e(36524);B.init2dArray=function(L,i){for(var S=new Array(L),b=0;b<L;b++)S[b]=new Array(i);return S},B.transposeRagged=function(L){var i=0,S=L.length,b,v;for(b=0;b<S;b++)i=Math.max(i,L[b].length);var p=new Array(i);for(b=0;b<i;b++)for(p[b]=new Array(S),v=0;v<S;v++)p[b][v]=L[v][b];return p},B.dot=function(L,i){if(!(L.length&&i.length)||L.length!==i.length)return null;var S=L.length,b,v;if(L[0].length)for(b=new Array(S),v=0;v<S;v++)b[v]=B.dot(L[v],i);else if(i[0].length){var p=B.transposeRagged(i);for(b=new Array(p.length),v=0;v<p.length;v++)b[v]=B.dot(L,p[v])}else for(b=0,v=0;v<S;v++)b+=L[v]*i[v];return b},B.translationMatrix=function(L,i){return[[1,0,L],[0,1,i],[0,0,1]]},B.rotationMatrix=function(L){var i=L*Math.PI/180;return[[Math.cos(i),-Math.sin(i),0],[Math.sin(i),Math.cos(i),0],[0,0,1]]},B.rotationXYMatrix=function(L,i,S){return B.dot(B.dot(B.translationMatrix(i,S),B.rotationMatrix(L)),B.translationMatrix(-i,-S))},B.apply3DTransform=function(L){return function(){var i=arguments,S=arguments.length===1?i[0]:[i[0],i[1],i[2]||0];return B.dot(L,[S[0],S[1],S[2],1]).slice(0,3)}},B.apply2DTransform=function(L){return function(){var i=arguments;i.length===3&&(i=i[0]);var S=arguments.length===1?i[0]:[i[0],i[1]];return B.dot(L,[S[0],S[1],1]).slice(0,2)}},B.apply2DTransform2=function(L){var i=B.apply2DTransform(L);return function(S){return i(S.slice(0,2)).concat(i(S.slice(2,4)))}},B.convertCssMatrix=function(L){if(L){var i=L.length;if(i===16)return L;if(i===6)return[L[0],L[1],0,0,L[2],L[3],0,0,0,0,1,0,L[4],L[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},B.inverseTransformMatrix=function(L){var i=[];return y.invert(i,L),[[i[0],i[1],i[2],i[3]],[i[4],i[5],i[6],i[7]],[i[8],i[9],i[10],i[11]],[i[12],i[13],i[14],i[15]]]}},20435:function(U){function B(y,L){var i=y%L;return i<0?i+L:i}function e(y,L){return Math.abs(y)>L/2?y-Math.round(y/L)*L:y}U.exports={mod:B,modHalf:e}},22296:function(U,B,e){var y=e(38248),L=e(38116).isArrayOrTypedArray;U.exports=function(u,s){if(y(s))s=String(s);else if(typeof s!="string"||s.substr(s.length-4)==="[-1]")throw"bad property string";var l=s.split("."),m,h,g,c;for(c=0;c<l.length;c++)if(String(l[c]).slice(0,2)==="__")throw"bad property string";for(c=0;c<l.length;){if(m=String(l[c]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),m){if(m[1])l[c]=m[1];else if(c===0)l.splice(0,1);else throw"bad property string";for(h=m[2].substr(1,m[2].length-2).split("]["),g=0;g<h.length;g++)c++,l.splice(c,0,Number(h[g]))}c++}return typeof u!="object"?a(u,s,l):{set:v(u,l,s),get:i(u,l),astr:s,parts:l,obj:u}};function i(n,u){return function(){var s=n,l,m,h,g,c;for(g=0;g<u.length-1;g++){if(l=u[g],l===-1){for(m=!0,h=[],c=0;c<s.length;c++)h[c]=i(s[c],u.slice(g+1))(),h[c]!==h[0]&&(m=!1);return m?h[0]:h}if(typeof l=="number"&&!L(s)||(s=s[l],typeof s!="object"||s===null))return}if(!(typeof s!="object"||s===null)&&(h=s[u[g]],h!==null))return h}}var S=/(^|\.)args\[/;function b(n,u){return n===void 0||n===null&&!u.match(S)}function v(n,u,s){return function(l){var m=n,h="",g=b(l,s),c,o;for(o=0;o<u.length-1;o++){if(c=u[o],typeof c=="number"&&!L(m))throw"array index but container is not an array";if(c===-1){if(g=!r(m,u.slice(o+1),l,s),g)break;return}if(!t(m,c,u[o+1],g))break;if(m=m[c],typeof m!="object"||m===null)throw"container is not an object";h=p(h,c)}if(g){if(o===u.length-1&&(delete m[u[o]],Array.isArray(m)&&+u[o]===m.length-1))for(;m.length&&m[m.length-1]===void 0;)m.pop()}else m[u[o]]=l}}function p(n,u){var s=u;return y(u)?s="["+u+"]":n&&(s="."+u),n+s}function r(n,u,s,l){var m=L(s),h=!0,g=s,c=l.replace("-1",0),o=m?!1:b(s,c),d=u[0],w;for(w=0;w<n.length;w++)c=l.replace("-1",w),m&&(g=s[w%s.length],o=b(g,c)),o&&(h=!1),t(n,w,d,o)&&v(n[w],u,l.replace("-1",w))(g);return h}function t(n,u,s,l){if(n[u]===void 0){if(l)return!1;typeof s=="number"?n[u]=[]:n[u]={}}return!0}function a(n,u,s){return{set:function(){throw"bad container"},get:function(){},astr:u,parts:s,obj:n}}},16628:function(U){U.exports=function(){}},41792:function(U,B,e){var y=e(33428),L=e(38248),i=[];U.exports=function(S,b){if(i.indexOf(S)!==-1)return;i.push(S);var v=1e3;L(b)?v=b:b==="long"&&(v=3e3);var p=y.select("body").selectAll(".plotly-notifier").data([0]);p.enter().append("div").classed("plotly-notifier",!0);var r=p.selectAll(".notifier-note").data(i);function t(a){a.duration(700).style("opacity",0).each("end",function(n){var u=i.indexOf(n);u!==-1&&i.splice(u,1),y.select(this).remove()})}r.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(a){var n=y.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(t)});for(var u=n.append("p"),s=a.split(/<br\s*\/?>/g),l=0;l<s.length;l++)l&&u.append("br"),u.append("span").text(s[l]);b==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(v).call(t)})}},72213:function(U,B,e){var y=e(93972),L="data-savedcursor",i="!!";U.exports=function(b,v){var p=b.attr(L);if(v){if(!p){for(var r=(b.attr("class")||"").split(" "),t=0;t<r.length;t++){var a=r[t];a.indexOf("cursor-")===0&&b.attr(L,a.substr(7)).classed(a,!1)}b.attr(L)||b.attr(L,i)}y(b,v)}else p&&(b.attr(L,null),p===i?y(b):y(b,p))}},92065:function(U,B,e){var y=e(52248).dot,L=e(39032).BADNUM,i=U.exports={};i.tester=function(b){var v=b.slice(),p=v[0][0],r=p,t=v[0][1],a=t,n;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),n=1;n<v.length;n++)p=Math.min(p,v[n][0]),r=Math.max(r,v[n][0]),t=Math.min(t,v[n][1]),a=Math.max(a,v[n][1]);var u=!1,s;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(u=!0,s=function(c){return c[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(u=!0,s=function(c){return c[1]===v[0][1]}));function l(c,o){var d=c[0],w=c[1];return!(d===L||d<p||d>r||w===L||w<t||w>a||o&&s(c))}function m(c,o){var d=c[0],w=c[1];if(d===L||d<p||d>r||w===L||w<t||w>a)return!1;var A=v.length,C=v[0][0],x=v[0][1],E=0,M,f,P,T,z;for(M=1;M<A;M++)if(f=C,P=x,C=v[M][0],x=v[M][1],T=Math.min(f,C),!(d<T||d>Math.max(f,C)||w>Math.max(P,x)))if(w<Math.min(P,x))d!==T&&E++;else{if(C===f?z=w:z=P+(d-f)*(x-P)/(C-f),w===z)return!(M===1&&o);w<=z&&d!==T&&E++}return E%2===1}var h=!0,g=v[0];for(n=1;n<v.length;n++)if(g[0]!==v[n][0]||g[1]!==v[n][1]){h=!1;break}return{xmin:p,xmax:r,ymin:t,ymax:a,pts:v,contains:u?l:m,isRect:u,degenerate:h}},i.isSegmentBent=function(b,v,p,r){var t=b[v],a=[b[p][0]-t[0],b[p][1]-t[1]],n=y(a,a),u=Math.sqrt(n),s=[-a[1]/u,a[0]/u],l,m,h;for(l=v+1;l<p;l++)if(m=[b[l][0]-t[0],b[l][1]-t[1]],h=y(m,a),h<0||h>n||Math.abs(y(m,s))>r)return!0;return!1},i.filter=function(b,v){var p=[b[0]],r=0,t=0;function a(u){b.push(u);var s=p.length,l=r;p.splice(t+1);for(var m=l+1;m<b.length;m++)(m===b.length-1||i.isSegmentBent(b,l,m+1,v))&&(p.push(b[m]),p.length<s-2&&(r=m,t=p.length-1),l=m)}if(b.length>1){var n=b.pop();a(n)}return{addPt:a,raw:b,filtered:p}}},5048:function(U,B,e){var y=e(16576),L=e(28624);U.exports=function(S,b,v){var p=S._fullLayout,r=!0;return p._glcanvas.each(function(t){if(t.regl){t.regl.preloadCachedCode(v);return}if(!(t.pick&&!p._has("parcoords"))){try{t.regl=L({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:S._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:b||[],cachedCode:v||{}})}catch{r=!1}t.regl||(r=!1),r&&this.addEventListener("webglcontextlost",function(a){S&&S.emit&&S.emit("plotly_webglcontextlost",{event:a,layer:t.key})},!1)}}),r||y({container:p._glcontainer.node()}),r}},34296:function(U,B,e){var y=e(38248),L=e(25928);U.exports=function(b){var v;if(b&&b.hasOwnProperty("userAgent")?v=b.userAgent:v=i(),typeof v!="string")return!0;var p=L({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!p)for(var r=v.split(" "),t=1;t<r.length;t++){var a=r[t];if(a.indexOf("Safari")!==-1)for(var n=t-1;n>-1;n--){var u=r[n];if(u.substr(0,8)==="Version/"){var s=u.substr(8).split(".")[0];if(y(s)&&(s=+s),s>=13)return!0}}}return p};function i(){var S;return typeof navigator<"u"&&(S=navigator.userAgent),S&&S.headers&&typeof S.headers["user-agent"]=="string"&&(S=S.headers["user-agent"]),S}},52416:function(U){U.exports=function(e,y){if(y instanceof RegExp){for(var L=y.toString(),i=0;i<e.length;i++)if(e[i]instanceof RegExp&&e[i].toString()===L)return e;e.push(y)}else(y||y===0)&&e.indexOf(y)===-1&&e.push(y);return e}},94552:function(U,B,e){var y=e(3400),L=e(20556).dfltConfig;function i(b,v){for(var p=[],r,t=0;t<v.length;t++)r=v[t],r===b?p[t]=r:typeof r=="object"?p[t]=Array.isArray(r)?y.extendDeep([],r):y.extendDeepAll({},r):p[t]=r;return p}var S={};S.add=function(b,v,p,r,t){var a,n;if(b.undoQueue=b.undoQueue||{index:0,queue:[],sequence:!1},n=b.undoQueue.index,b.autoplay){b.undoQueue.inSequence||(b.autoplay=!1);return}!b.undoQueue.sequence||b.undoQueue.beginSequence?(a={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},b.undoQueue.queue.splice(n,b.undoQueue.queue.length-n,a),b.undoQueue.index+=1):a=b.undoQueue.queue[n-1],b.undoQueue.beginSequence=!1,a&&(a.undo.calls.unshift(v),a.undo.args.unshift(p),a.redo.calls.push(r),a.redo.args.push(t)),b.undoQueue.queue.length>L.queueLength&&(b.undoQueue.queue.shift(),b.undoQueue.index--)},S.startSequence=function(b){b.undoQueue=b.undoQueue||{index:0,queue:[],sequence:!1},b.undoQueue.sequence=!0,b.undoQueue.beginSequence=!0},S.stopSequence=function(b){b.undoQueue=b.undoQueue||{index:0,queue:[],sequence:!1},b.undoQueue.sequence=!1,b.undoQueue.beginSequence=!1},S.undo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.undo.calls.length;r++)S.plotDo(v,p.undo.calls[r],p.undo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1}},S.redo=function(v){var p,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<p.redo.calls.length;r++)S.plotDo(v,p.redo.calls[r],p.redo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},S.plotDo=function(b,v,p){b.autoplay=!0,p=i(b,p),v.apply(null,p)},U.exports=S},53756:function(U,B){B.counter=function(e,y,L,i){var S=(y||"")+(L?"":"$"),b=i===!1?"":"^";return e==="xy"?new RegExp(b+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+S):new RegExp(b+e+"([2-9]|[1-9][0-9]+)?"+S)}},23193:function(U){var B=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;U.exports=function(y,L){for(;L;){var i=y.match(B);if(i)y=i[1];else if(y.match(e))y="";else throw new Error("bad relativeAttr call:"+[y,L]);if(L.charAt(0)==="^")L=L.slice(1);else break}return y&&L.charAt(0)!=="["?y+"."+L:y+L}},51528:function(U,B,e){var y=e(38116).isArrayOrTypedArray,L=e(63620);U.exports=function i(S,b){for(var v in b){var p=b[v],r=S[v];if(r!==p)if(v.charAt(0)==="_"||typeof p=="function"){if(v in S)continue;S[v]=p}else if(y(p)&&y(r)&&L(p[0])){if(v==="customdata"||v==="ids")continue;for(var t=Math.min(p.length,r.length),a=0;a<t;a++)r[a]!==p[a]&&L(p[a])&&L(r[a])&&i(r[a],p[a])}else L(p)&&L(r)&&(i(r,p),Object.keys(r).length||delete S[v])}}},14952:function(U,B,e){var y=e(38248),L=e(24248),i=e(35536),S=e(39032).BADNUM,b=1e-9;B.findBin=function(a,n,u){if(y(n.start))return u?Math.ceil((a-n.start)/n.size-b)-1:Math.floor((a-n.start)/n.size+b);var s=0,l=n.length,m=0,h=l>1?(n[l-1]-n[0])/(l-1):1,g,c;for(h>=0?c=u?v:p:c=u?t:r,a+=h*b*(u?-1:1)*(h>=0?1:-1);s<l&&m++<100;)g=Math.floor((s+l)/2),c(n[g],a)?s=g+1:l=g;return m>90&&L.log("Long binary search..."),s-1};function v(a,n){return a<n}function p(a,n){return a<=n}function r(a,n){return a>n}function t(a,n){return a>=n}B.sorterAsc=function(a,n){return a-n},B.sorterDes=function(a,n){return n-a},B.distinctVals=function(a){var n=a.slice();n.sort(B.sorterAsc);var u;for(u=n.length-1;u>-1&&n[u]===S;u--);for(var s=n[u]-n[0]||1,l=s/(u||1)/1e4,m=[],h,g=0;g<=u;g++){var c=n[g],o=c-h;h===void 0?(m.push(c),h=c):o>l&&(s=Math.min(s,o),m.push(c),h=c)}return{vals:m,minDiff:s}},B.roundUp=function(a,n,u){for(var s=0,l=n.length-1,m,h=0,g=u?0:1,c=u?1:0,o=u?Math.ceil:Math.floor;s<l&&h++<100;)m=o((s+l)/2),n[m]<=a?s=m+g:l=m-c;return n[s]},B.sort=function(a,n){for(var u=0,s=0,l=1;l<a.length;l++){var m=n(a[l],a[l-1]);if(m<0?u=1:m>0&&(s=1),u&&s)return a.sort(n)}return s?a:a.reverse()},B.findIndexOfMin=function(a,n){n=n||i;for(var u=1/0,s,l=0;l<a.length;l++){var m=n(a[l]);m<u&&(u=m,s=l)}return s}},93972:function(U){U.exports=function(e,y){(e.attr("class")||"").split(" ").forEach(function(L){L.indexOf("cursor-")===0&&e.classed(L,!1)}),y&&e.classed("cursor-"+y,!0)}},16576:function(U,B,e){var y=e(76308),L=function(){};U.exports=function(S){for(var b in S)typeof S[b]=="function"&&(S[b]=L);S.destroy=function(){S.container.parentNode.removeChild(S.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=y.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=y.lightLine,v.style["z-index"]=30;var p=document.createElement("p");return p.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",p.style.position="relative",p.style.top="50%",p.style.left="50%",p.style.height="30%",p.style.width="50%",p.style.margin="-15% 0 0 -25%",v.appendChild(p),S.container.appendChild(v),S.container.style.background="#FFFFFF",S.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(U){U.exports=function(e){return Object.keys(e).sort()}},63084:function(U,B,e){var y=e(38248),L=e(38116).isArrayOrTypedArray;B.aggNums=function(i,S,b,v){var p,r;if((!v||v>b.length)&&(v=b.length),y(S)||(S=!1),L(b[0])){for(r=new Array(v),p=0;p<v;p++)r[p]=B.aggNums(i,S,b[p]);b=r}for(p=0;p<v;p++)y(S)?y(b[p])&&(S=i(+S,+b[p])):S=b[p];return S},B.len=function(i){return B.aggNums(function(S){return S+1},0,i)},B.mean=function(i,S){return S||(S=B.len(i)),B.aggNums(function(b,v){return b+v},0,i)/S},B.midRange=function(i){if(!(i===void 0||i.length===0))return(B.aggNums(Math.max,null,i)+B.aggNums(Math.min,null,i))/2},B.variance=function(i,S,b){return S||(S=B.len(i)),y(b)||(b=B.mean(i,S)),B.aggNums(function(v,p){return v+Math.pow(p-b,2)},0,i)/S},B.stdev=function(i,S,b){return Math.sqrt(B.variance(i,S,b))},B.median=function(i){var S=i.slice().sort();return B.interp(S,.5)},B.interp=function(i,S){if(!y(S))throw"n should be a finite number";if(S=S*i.length-.5,S<0)return i[0];if(S>i.length-1)return i[i.length-1];var b=S%1;return b*i[Math.ceil(S)]+(1-b)*i[Math.floor(S)]}},43080:function(U,B,e){var y=e(72160);function L(i){return i?y(i):[0,0,0,1]}U.exports=L},9188:function(U,B,e){var y=e(2264),L=e(43616),i=e(3400),S=null;function b(){if(S!==null)return S;S=!1;var v=i.isIE()||i.isSafari()||i.isIOS();if(window.navigator.userAgent&&!v){var p=Array.from(y.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")S=p.some(function(u){return r.apply(null,u)});else{var t=L.tester.append("image").attr("style",y.STYLE),a=window.getComputedStyle(t.node()),n=a.imageRendering;S=p.some(function(u){var s=u[1];return n===s||n===s.toLowerCase()}),t.remove()}}return S}U.exports=b},72736:function(U,B,e){var y=e(33428),L=e(3400),i=L.strTranslate,S=e(9616),b=e(84284).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;B.convertToTspans=function(k,I,H){var j=k.text(),ee=!k.attr("data-notex")&&I&&I._context.typesetMath&&typeof MathJax<"u"&&j.match(v),te=y.select(k.node().parentNode);if(te.empty())return;var ne=k.attr("class")?k.attr("class").split(" ")[0]:"text";ne+="-math",te.selectAll("svg."+ne).remove(),te.selectAll("g."+ne+"-group").remove(),k.style("display",null).attr({"data-unformatted":j,"data-math":"N"});function ue(){te.empty()||(ne=k.attr("class")+"-math",te.select("svg."+ne).remove()),k.text("").style("white-space","pre");var q=_(k.node(),j);q&&k.style("pointer-events","all"),B.positionText(k),H&&H.call(k)}return ee?(I&&I._promises||[]).push(new Promise(function(q){k.style("display","none");var Y=parseInt(k.node().style.fontSize,10),Z={fontSize:Y};n(ee[2],Z,function(G,K,oe){te.selectAll("svg."+ne).remove(),te.selectAll("g."+ne+"-group").remove();var $=G&&G.select("svg");if(!$||!$.node()){ue(),q();return}var J=te.append("g").classed(ne+"-group",!0).attr({"pointer-events":"none","data-unformatted":j,"data-math":"Y"});J.node().appendChild($.node()),K&&K.node()&&$.node().insertBefore(K.node().cloneNode(!0),$.node().firstChild);var se=oe.width,ie=oe.height;$.attr({class:ne,height:ie,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ce=k.node().style.fill||"black",ye=$.select("g");ye.attr({fill:ce,stroke:ce});var Se=ye.node().getBoundingClientRect(),Te=Se.width,ke=Se.height;(Te>se||ke>ie)&&($.style("overflow","hidden"),Se=$.node().getBoundingClientRect(),Te=Se.width,ke=Se.height);var we=+k.attr("x"),Ee=+k.attr("y"),xe=Y||k.node().getBoundingClientRect().height,De=-xe/4;if(ne[0]==="y")J.attr({transform:"rotate("+[-90,we,Ee]+")"+i(-Te/2,De-ke/2)});else if(ne[0]==="l")Ee=De-ke/2;else if(ne[0]==="a"&&ne.indexOf("atitle")!==0)we=0,Ee=De;else{var Ve=k.attr("text-anchor");we=we-Te*(Ve==="middle"?.5:Ve==="end"?1:0),Ee=Ee+De-ke/2}$.attr({x:we,y:Ee}),H&&H.call(k,J),q(J)})})):ue(),k};var p=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;function t(k){return k.replace(p,"\\lt ").replace(r,"\\gt ")}var a=[["$","$"],["\\(","\\)"]];function n(k,I,H){var j=parseInt((MathJax.version||"").split(".")[0]);if(j!==2&&j!==3){L.warn("No MathJax version:",MathJax.version);return}var ee,te,ne,ue,q=function(){return te=L.extendDeepAll({},MathJax.Hub.config),ne=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:a},displayAlign:"left"})},Y=function(){te=L.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=a},Z=function(){if(ee=MathJax.Hub.config.menuSettings.renderer,ee!=="SVG")return MathJax.Hub.setRenderer("SVG")},G=function(){ee=MathJax.config.startup.output,ee!=="svg"&&(MathJax.config.startup.output="svg")},K=function(){var ce="math-output-"+L.randstr({},64);ue=y.select("body").append("div").attr({id:ce}).style({visibility:"hidden",position:"absolute","font-size":I.fontSize+"px"}).text(t(k));var ye=ue.node();return j===2?MathJax.Hub.Typeset(ye):MathJax.typeset([ye])},oe=function(){var ce=ue.select(j===2?".MathJax_SVG":".MathJax"),ye=!ce.empty()&&ue.select("svg").node();if(!ye)L.log("There was an error in the tex syntax.",k),H();else{var Se=ye.getBoundingClientRect(),Te;j===2?Te=y.select("body").select("#MathJax_SVG_glyphs"):Te=ce.select("defs"),H(ce,Te,Se)}ue.remove()},$=function(){if(ee!=="SVG")return MathJax.Hub.setRenderer(ee)},J=function(){ee!=="svg"&&(MathJax.config.startup.output=ee)},se=function(){return ne!==void 0&&(MathJax.Hub.processSectionDelay=ne),MathJax.Hub.Config(te)},ie=function(){MathJax.config=te};j===2?MathJax.Hub.Queue(q,Z,K,oe,$,se):j===3&&(Y(),G(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){K(),oe(),J(),ie()}))}var u={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},s={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},m="​",h=["http:","https:","mailto:","",void 0,":"],g=B.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,o=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;B.BR_TAG_ALL=/<br(\s+.*)?>/gi;var w=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,A=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,C=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,x=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function E(k,I){if(!k)return null;var H=k.match(I),j=H&&(H[3]||H[4]);return j&&T(j)}var M=/(^|;)\s*color:/;B.plainText=function(k,I){I=I||{};for(var H=I.len!==void 0&&I.len!==-1?I.len:1/0,j=I.allowedTags!==void 0?I.allowedTags:["br"],ee="...",te=ee.length,ne=k.split(c),ue=[],q="",Y=0,Z=0;Z<ne.length;Z++){var G=ne[Z],K=G.match(o),oe=K&&K[2].toLowerCase();if(oe)j.indexOf(oe)!==-1&&(ue.push(G),q=oe);else{var $=G.length;if(Y+$<H)ue.push(G),Y+=$;else if(Y<H){var J=H-Y;q&&(q!=="br"||J<=te||$<=te)&&ue.pop(),H>te?ue.push(G.substr(0,J-te)+ee):ue.push(G.substr(0,J));break}q=""}}return ue.join("")};var f={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},P=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function T(k){return k.replace(P,function(I,H){var j;return H.charAt(0)==="#"?j=z(H.charAt(1)==="x"?parseInt(H.substr(2),16):parseInt(H.substr(1),10)):j=f[H],j||I})}B.convertEntities=T;function z(k){if(!(k>1114111)){var I=String.fromCodePoint;if(I)return I(k);var H=String.fromCharCode;return k<=65535?H(k):H((k>>10)+55232,k%1024+56320)}}function _(k,I){I=I.replace(g," ");var H=!1,j=[],ee,te=-1;function ne(){te++;var ke=document.createElementNS(S.svg,"tspan");y.select(ke).attr({class:"line",dy:te*b+"em"}),k.appendChild(ke),ee=ke;var we=j;if(j=[{node:ke}],we.length>1)for(var Ee=1;Ee<we.length;Ee++)ue(we[Ee])}function ue(ke){var we=ke.type,Ee={},xe;if(we==="a"){xe="a";var De=ke.target,Ve=ke.href,Ue=ke.popup;Ve&&(Ee={"xlink:xlink:show":De==="_blank"||De.charAt(0)!=="_"?"new":"replace",target:De,"xlink:xlink:href":Ve},Ue&&(Ee.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ue+'");return false;'))}else xe="tspan";ke.style&&(Ee.style=ke.style);var Be=document.createElementNS(S.svg,xe);if(we==="sup"||we==="sub"){q(ee,m),ee.appendChild(Be);var Xe=document.createElementNS(S.svg,"tspan");q(Xe,m),y.select(Xe).attr("dy",l[we]),Ee.dy=s[we],ee.appendChild(Be),ee.appendChild(Xe)}else ee.appendChild(Be);y.select(Be).attr(Ee),ee=ke.node=Be,j.push(ke)}function q(ke,we){ke.appendChild(document.createTextNode(we))}function Y(ke){if(j.length===1){L.log("Ignoring unexpected end tag </"+ke+">.",I);return}var we=j.pop();ke!==we.type&&L.log("Start tag <"+we.type+"> doesnt match end tag <"+ke+">. Pretending it did match.",I),ee=j[j.length-1].node}var Z=d.test(I);Z?ne():(ee=k,j=[{node:k}]);for(var G=I.split(c),K=0;K<G.length;K++){var oe=G[K],$=oe.match(o),J=$&&$[2].toLowerCase(),se=u[J];if(J==="br")ne();else if(se===void 0)q(ee,T(oe));else if($[1])Y(J);else{var ie=$[4],ce={type:J},ye=E(ie,w);if(ye?(ye=ye.replace(M,"$1 fill:"),se&&(ye+=";"+se)):se&&(ye=se),ye&&(ce.style=ye),J==="a"){H=!0;var Se=E(ie,A);if(Se){var Te=V(Se);Te&&(ce.href=Te,ce.target=E(ie,C)||"_blank",ce.popup=E(ie,x))}}ue(ce)}}return H}function V(k){var I=encodeURI(decodeURI(k)),H=document.createElement("a"),j=document.createElement("a");H.href=k,j.href=I;var ee=H.protocol,te=j.protocol;return h.indexOf(ee)!==-1&&h.indexOf(te)!==-1?I:""}B.sanitizeHTML=function(I){I=I.replace(g," ");for(var H=document.createElement("p"),j=H,ee=[],te=I.split(c),ne=0;ne<te.length;ne++){var ue=te[ne],q=ue.match(o),Y=q&&q[2].toLowerCase();if(Y in u)if(q[1])ee.length&&(j=ee.pop());else{var Z=q[4],G=E(Z,w),K=G?{style:G}:{};if(Y==="a"){var oe=E(Z,A);if(oe){var $=V(oe);if($){K.href=$;var J=E(Z,C);J&&(K.target=J)}}}var se=document.createElement(Y);j.appendChild(se),y.select(se).attr(K),j=se,ee.push(se)}else j.appendChild(document.createTextNode(T(ue)))}var ie="innerHTML";return H[ie]},B.lineCount=function(I){return I.selectAll("tspan.line").size()||1},B.positionText=function(I,H,j){return I.each(function(){var ee=y.select(this);function te(q,Y){return Y===void 0?(Y=ee.attr(q),Y===null&&(ee.attr(q,0),Y=0)):ee.attr(q,Y),Y}var ne=te("x",H),ue=te("y",j);this.nodeName==="text"&&ee.selectAll("tspan.line").attr({x:ne,y:ue})})};function F(k,I,H){var j=H.horizontalAlign,ee=H.verticalAlign||"top",te=k.node().getBoundingClientRect(),ne=I.node().getBoundingClientRect(),ue,q,Y;return ee==="bottom"?q=function(){return te.bottom-ue.height}:ee==="middle"?q=function(){return te.top+(te.height-ue.height)/2}:q=function(){return te.top},j==="right"?Y=function(){return te.right-ue.width}:j==="center"?Y=function(){return te.left+(te.width-ue.width)/2}:Y=function(){return te.left},function(){ue=this.node().getBoundingClientRect();var Z=Y()-ne.left,G=q()-ne.top,K=H.gd||{};if(H.gd){K._fullLayout._calcInverseTransform(K);var oe=L.apply3DTransform(K._fullLayout._invTransform)(Z,G);Z=oe[0],G=oe[1]}return this.style({top:G+"px",left:Z+"px","z-index":1e3}),this}}var N="1px ";B.makeTextShadow=function(k){var I=N,H=N,j=N;return I+H+j+k+", -"+I+"-"+H+j+k+", "+I+"-"+H+j+k+", -"+I+H+j+k},B.makeEditable=function(k,I){var H=I.gd,j=I.delegate,ee=y.dispatch("edit","input","cancel"),te=j||k;if(k.style({"pointer-events":j?"none":"all"}),k.size()!==1)throw new Error("boo");function ne(){q(),k.style({opacity:0});var Y=te.attr("class"),Z;Y?Z="."+Y.split(" ")[0]+"-math-group":Z="[class*=-math-group]",Z&&y.select(k.node().parentNode).select(Z).style({opacity:0})}function ue(Y){var Z=Y.node(),G=document.createRange();G.selectNodeContents(Z);var K=window.getSelection();K.removeAllRanges(),K.addRange(G),Z.focus()}function q(){var Y=y.select(H),Z=Y.select(".svg-container"),G=Z.append("div"),K=k.node().style,oe=parseFloat(K.fontSize||12),$=I.text;$===void 0&&($=k.attr("data-unformatted")),G.classed("plugin-editable editable",!0).style({position:"absolute","font-family":K.fontFamily||"Arial","font-size":oe,color:I.fill||K.fill||"black",opacity:1,"background-color":I.background||"transparent",outline:"#ffffff33 1px solid",margin:[-oe/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text($).call(F(k,Z,I)).on("blur",function(){H._editing=!1,k.text(this.textContent).style({opacity:1});var J=y.select(this).attr("class"),se;J?se="."+J.split(" ")[0]+"-math-group":se="[class*=-math-group]",se&&y.select(k.node().parentNode).select(se).style({opacity:0});var ie=this.textContent;y.select(this).transition().duration(0).remove(),y.select(document).on("mouseup",null),ee.edit.call(k,ie)}).on("focus",function(){var J=this;H._editing=!0,y.select(document).on("mouseup",function(){if(y.event.target===J)return!1;document.activeElement===G.node()&&G.node().blur()})}).on("keyup",function(){y.event.which===27?(H._editing=!1,k.style({opacity:1}),y.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),ee.cancel.call(k,this.textContent)):(ee.input.call(k,this.textContent),y.select(this).call(F(k,Z,I)))}).on("keydown",function(){y.event.which===13&&this.blur()}).call(ue)}return I.immediate?ne():te.on("click",ne),y.rebind(k,ee,"on")}},91200:function(U,B){var e={};B.throttle=function(i,S,b){var v=e[i],p=Date.now();if(!v){for(var r in e)e[r].ts<p-6e4&&delete e[r];v=e[i]={ts:0,timer:null}}y(v);function t(){b(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(p>v.ts+S){t();return}v.timer=setTimeout(function(){t(),v.timer=null},S)},B.done=function(L){var i=e[L];return!i||!i.timer?Promise.resolve():new Promise(function(S){var b=i.onDone;i.onDone=function(){b&&b(),S(),i.onDone=null}})},B.clear=function(L){if(L)y(e[L]),delete e[L];else for(var i in e)B.clear(i)};function y(L){L&&L.timer!==null&&(clearTimeout(L.timer),L.timer=null)}},36896:function(U,B,e){var y=e(38248);U.exports=function(i,S){if(i>0)return Math.log(i)/Math.LN10;var b=Math.log(Math.min(S[0],S[1]))/Math.LN10;return y(b)||(b=Math.log(Math.max(S[0],S[1]))/Math.LN10-6),b}},59972:function(U,B,e){var y=U.exports={},L=e(79552).locationmodeToLayer,i=e(55712).NO;y.getTopojsonName=function(S){return[S.scope.replace(/ /g,"-"),"_",S.resolution.toString(),"m"].join("")},y.getTopojsonPath=function(S,b){return S+b+".json"},y.getTopojsonFeatures=function(S,b){var v=L[S.locationmode],p=b.objects[v];return i(b,p).features}},11680:function(U){U.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(U){U.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(U,B,e){var y=e(24040);U.exports=function(i){for(var S=y.layoutArrayContainers,b=y.layoutArrayRegexes,v=i.split("[")[0],p,r,t=0;t<b.length;t++)if(r=i.match(b[t]),r&&r.index===0){p=r[0];break}if(p||(p=S[S.indexOf(v)]),!p)return!1;var a=i.substr(p.length);return a?(r=a.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),r?{array:p,index:Number(r[1]),property:r[3]||""}:!1):{array:p,index:"",property:""}}},67824:function(U,B,e){var y=e(92880).extendFlat,L=e(63620),i={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},S={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},b=i.flags.slice().concat(["fullReplot"]),v=S.flags.slice().concat("layoutReplot");U.exports={traces:i,layout:S,traceFlags:function(){return p(b)},layoutFlags:function(){return p(v)},update:function(a,n){var u=n.editType;if(u&&u!=="none")for(var s=u.split("+"),l=0;l<s.length;l++)a[s[l]]=!0},overrideAll:r};function p(a){for(var n={},u=0;u<a.length;u++)n[a[u]]=!1;return n}function r(a,n,u){var s=y({},a);for(var l in s){var m=s[l];L(m)&&(s[l]=t(m,n,u,l))}return u==="from-root"&&(s.editType=n),s}function t(a,n,u,s){if(a.valType){var l=y({},a);if(l.editType=n,Array.isArray(a.items)){l.items=new Array(a.items.length);for(var m=0;m<a.items.length;m++)l.items[m]=t(a.items[m],n)}return l}else return r(a,n,s.charAt(0)==="_"?"nested":"from-root")}},93404:function(U,B,e){var y=e(38248),L=e(61784),i=e(24040),S=e(3400),b=e(7316),v=e(79811),p=e(76308),r=v.cleanId,t=v.getFromTrace,a=i.traceIs;B.clearPromiseQueue=function(d){Array.isArray(d._promises)&&d._promises.length>0&&S.log("Clearing previous rejected promises from queue."),d._promises=[]},B.cleanLayout=function(d){var w,A;d||(d={}),d.xaxis1&&(d.xaxis||(d.xaxis=d.xaxis1),delete d.xaxis1),d.yaxis1&&(d.yaxis||(d.yaxis=d.yaxis1),delete d.yaxis1),d.scene1&&(d.scene||(d.scene=d.scene1),delete d.scene1);var C=(b.subplotsRegistry.cartesian||{}).attrRegex,x=(b.subplotsRegistry.polar||{}).attrRegex,E=(b.subplotsRegistry.ternary||{}).attrRegex,M=(b.subplotsRegistry.gl3d||{}).attrRegex,f=Object.keys(d);for(w=0;w<f.length;w++){var P=f[w];if(C&&C.test(P)){var T=d[P];T.anchor&&T.anchor!=="free"&&(T.anchor=r(T.anchor)),T.overlaying&&(T.overlaying=r(T.overlaying)),T.type||(T.isdate?T.type="date":T.islog?T.type="log":T.isdate===!1&&T.islog===!1&&(T.type="linear")),(T.autorange==="withzero"||T.autorange==="tozero")&&(T.autorange=!0,T.rangemode="tozero"),T.insiderange&&delete T.range,delete T.islog,delete T.isdate,delete T.categories,h(T,"domain")&&delete T.domain,T.autotick!==void 0&&(T.tickmode===void 0&&(T.tickmode=T.autotick?"auto":"linear"),delete T.autotick),u(T)}else if(x&&x.test(P)){var z=d[P];u(z.radialaxis)}else if(E&&E.test(P)){var _=d[P];u(_.aaxis),u(_.baxis),u(_.caxis)}else if(M&&M.test(P)){var V=d[P],F=V.cameraposition;if(Array.isArray(F)&&F[0].length===4){var N=F[0],k=F[1],I=F[2],H=L([],N),j=[];for(A=0;A<3;++A)j[A]=k[A]+I*H[2+4*A];V.camera={eye:{x:j[0],y:j[1],z:j[2]},center:{x:k[0],y:k[1],z:k[2]},up:{x:0,y:0,z:1}},delete V.cameraposition}u(V.xaxis),u(V.yaxis),u(V.zaxis)}}var ee=Array.isArray(d.annotations)?d.annotations.length:0;for(w=0;w<ee;w++){var te=d.annotations[w];S.isPlainObject(te)&&(te.ref&&(te.ref==="paper"?(te.xref="paper",te.yref="paper"):te.ref==="data"&&(te.xref="x",te.yref="y"),delete te.ref),n(te,"xref"),n(te,"yref"))}var ne=Array.isArray(d.shapes)?d.shapes.length:0;for(w=0;w<ne;w++){var ue=d.shapes[w];S.isPlainObject(ue)&&(n(ue,"xref"),n(ue,"yref"))}var q=Array.isArray(d.images)?d.images.length:0;for(w=0;w<q;w++){var Y=d.images[w];S.isPlainObject(Y)&&(n(Y,"xref"),n(Y,"yref"))}var Z=d.legend;return Z&&(Z.x>3?(Z.x=1.02,Z.xanchor="left"):Z.x<-2&&(Z.x=-.02,Z.xanchor="right"),Z.y>3?(Z.y=1.02,Z.yanchor="bottom"):Z.y<-2&&(Z.y=-.02,Z.yanchor="top")),u(d),d.dragmode==="rotate"&&(d.dragmode="orbit"),p.clean(d),d.template&&d.template.layout&&B.cleanLayout(d.template.layout),d};function n(d,w){var A=d[w],C=w.charAt(0);A&&A!=="paper"&&(d[w]=r(A,C,!0))}function u(d){d&&((typeof d.title=="string"||typeof d.title=="number")&&(d.title={text:d.title}),w("titlefont","font"),w("titleposition","position"),w("titleside","side"),w("titleoffset","offset"));function w(A,C){var x=d[A],E=d.title&&d.title[C];x&&!E&&(d.title||(d.title={}),d.title[C]=d[A],delete d[A])}}B.cleanData=function(d){for(var w=0;w<d.length;w++){var A=d[w],C;if(A.type==="histogramy"&&"xbins"in A&&!("ybins"in A)&&(A.ybins=A.xbins,delete A.xbins),A.error_y&&"opacity"in A.error_y){var x=p.defaults,E=A.error_y.color||(a(A,"bar")?p.defaultLine:x[w%x.length]);A.error_y.color=p.addOpacity(p.rgb(E),p.opacity(E)*A.error_y.opacity),delete A.error_y.opacity}if("bardir"in A&&(A.bardir==="h"&&(a(A,"bar")||A.type.substr(0,9)==="histogram")&&(A.orientation="h",B.swapXYData(A)),delete A.bardir),A.type==="histogramy"&&B.swapXYData(A),(A.type==="histogramx"||A.type==="histogramy")&&(A.type="histogram"),"scl"in A&&!("colorscale"in A)&&(A.colorscale=A.scl,delete A.scl),"reversescl"in A&&!("reversescale"in A)&&(A.reversescale=A.reversescl,delete A.reversescl),A.xaxis&&(A.xaxis=r(A.xaxis,"x")),A.yaxis&&(A.yaxis=r(A.yaxis,"y")),a(A,"gl3d")&&A.scene&&(A.scene=b.subplotsRegistry.gl3d.cleanId(A.scene)),!a(A,"pie-like")&&!a(A,"bar-like"))if(Array.isArray(A.textposition))for(C=0;C<A.textposition.length;C++)A.textposition[C]=m(A.textposition[C]);else A.textposition&&(A.textposition=m(A.textposition));var M=i.getModule(A);if(M&&M.colorbar){var f=M.colorbar.container,P=f?A[f]:A;P&&P.colorscale&&(P.colorscale==="YIGnBu"&&(P.colorscale="YlGnBu"),P.colorscale==="YIOrRd"&&(P.colorscale="YlOrRd"))}if(A.type==="surface"&&S.isPlainObject(A.contours)){var T=["x","y","z"];for(C=0;C<T.length;C++){var z=A.contours[T[C]];S.isPlainObject(z)&&(z.highlightColor&&(z.highlightcolor=z.highlightColor,delete z.highlightColor),z.highlightWidth&&(z.highlightwidth=z.highlightWidth,delete z.highlightWidth))}}if(A.type==="candlestick"||A.type==="ohlc"){var _=(A.increasing||{}).showlegend!==!1,V=(A.decreasing||{}).showlegend!==!1,F=s(A.increasing),N=s(A.decreasing);if(F!==!1&&N!==!1){var k=l(F,N,_,V);k&&(A.name=k)}else(F||N)&&!A.name&&(A.name=F||N)}if(Array.isArray(A.transforms)){var I=A.transforms;for(C=0;C<I.length;C++){var H=I[C];if(S.isPlainObject(H))switch(H.type){case"filter":H.filtersrc&&(H.target=H.filtersrc,delete H.filtersrc),H.calendar&&(H.valuecalendar||(H.valuecalendar=H.calendar),delete H.calendar);break;case"groupby":if(H.styles=H.styles||H.style,H.styles&&!Array.isArray(H.styles)){var j=H.styles,ee=Object.keys(j);H.styles=[];for(var te=0;te<ee.length;te++)H.styles.push({target:ee[te],value:j[ee[te]]})}break}}}h(A,"line")&&delete A.line,"marker"in A&&(h(A.marker,"line")&&delete A.marker.line,h(A,"marker")&&delete A.marker),p.clean(A),A.autobinx&&(delete A.autobinx,delete A.xbins),A.autobiny&&(delete A.autobiny,delete A.ybins),u(A),A.colorbar&&u(A.colorbar),A.marker&&A.marker.colorbar&&u(A.marker.colorbar),A.line&&A.line.colorbar&&u(A.line.colorbar),A.aaxis&&u(A.aaxis),A.baxis&&u(A.baxis)}};function s(d){if(!S.isPlainObject(d))return!1;var w=d.name;return delete d.name,delete d.showlegend,(typeof w=="string"||typeof w=="number")&&String(w)}function l(d,w,A,C){if(A&&!C)return d;if(C&&!A||!d.trim())return w;if(!w.trim())return d;var x=Math.min(d.length,w.length),E;for(E=0;E<x&&d.charAt(E)===w.charAt(E);E++);var M=d.substr(0,E);return M.trim()}function m(d){var w="middle",A="center";return typeof d=="string"&&(d.indexOf("top")!==-1?w="top":d.indexOf("bottom")!==-1&&(w="bottom"),d.indexOf("left")!==-1?A="left":d.indexOf("right")!==-1&&(A="right")),w+" "+A}function h(d,w){return w in d&&typeof d[w]=="object"&&Object.keys(d[w]).length===0}B.swapXYData=function(d){var w;if(S.swapAttrs(d,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(d.z)&&Array.isArray(d.z[0])&&(d.transpose?delete d.transpose:d.transpose=!0),d.error_x&&d.error_y){var A=d.error_y,C="copy_ystyle"in A?A.copy_ystyle:!(A.color||A.thickness||A.width);S.swapAttrs(d,["error_?.copy_ystyle"]),C&&S.swapAttrs(d,["error_?.color","error_?.thickness","error_?.width"])}if(typeof d.hoverinfo=="string"){var x=d.hoverinfo.split("+");for(w=0;w<x.length;w++)x[w]==="x"?x[w]="y":x[w]==="y"&&(x[w]="x");d.hoverinfo=x.join("+")}},B.coerceTraceIndices=function(d,w){if(y(w))return[w];if(!Array.isArray(w)||!w.length)return d.data.map(function(x,E){return E});if(Array.isArray(w)){for(var A=[],C=0;C<w.length;C++)S.isIndex(w[C],d.data.length)?A.push(w[C]):S.warn("trace index (",w[C],") is not a number or is out of bounds");return A}return w},B.manageArrayContainers=function(d,w,A){var C=d.obj,x=d.parts,E=x.length,M=x[E-1],f=y(M);if(f&&w===null){var P=x.slice(0,E-1).join("."),T=S.nestedProperty(C,P).get();T.splice(M,1)}else f&&d.get()===void 0&&d.get()===void 0&&(A[d.astr]=null),d.set(w)};var g=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function c(d){var w=d.search(g);if(w>0)return d.substr(0,w)}B.hasParent=function(d,w){for(var A=c(w);A;){if(A in d)return!0;A=c(A)}return!1};var o=["x","y","z"];B.clearAxisTypes=function(d,w,A){for(var C=0;C<w.length;C++)for(var x=d._fullData[C],E=0;E<3;E++){var M=t(d,x,o[E]);if(M&&M.type!=="log"){var f=M._name,P=M._id.substr(1);if(P.substr(0,5)==="scene"){if(A[P]!==void 0)continue;f=P+"."+f}var T=f+".type";A[f]===void 0&&A[T]===void 0&&S.nestedProperty(d.layout,T).set(null)}}}},22448:function(U,B,e){var y=e(36424);B._doPlot=y._doPlot,B.newPlot=y.newPlot,B.restyle=y.restyle,B.relayout=y.relayout,B.redraw=y.redraw,B.update=y.update,B._guiRestyle=y._guiRestyle,B._guiRelayout=y._guiRelayout,B._guiUpdate=y._guiUpdate,B._storeDirectGUIEdit=y._storeDirectGUIEdit,B.react=y.react,B.extendTraces=y.extendTraces,B.prependTraces=y.prependTraces,B.addTraces=y.addTraces,B.deleteTraces=y.deleteTraces,B.moveTraces=y.moveTraces,B.purge=y.purge,B.addFrames=y.addFrames,B.deleteFrames=y.deleteFrames,B.animate=y.animate,B.setPlotConfig=y.setPlotConfig;var L=e(52200).getGraphDiv,i=e(4016).eraseActiveShape;B.deleteActiveShape=function(b){return i(L(b))},B.toImage=e(67024),B.validate=e(21480),B.downloadImage=e(39792);var S=e(94828);B.makeTemplate=S.makeTemplate,B.validateTemplate=S.validateTemplate},17680:function(U,B,e){var y=e(63620),L=e(16628),i=e(24248),S=e(14952).sorterAsc,b=e(24040);B.containerArrayMatch=e(69820);var v=B.isAddVal=function(t){return t==="add"||y(t)},p=B.isRemoveVal=function(t){return t===null||t==="remove"};B.applyContainerArrayChanges=function(t,a,n,u,s){var l=a.astr,m=b.getComponentMethod(l,"supplyLayoutDefaults"),h=b.getComponentMethod(l,"draw"),g=b.getComponentMethod(l,"drawOne"),c=u.replot||u.recalc||m===L||h===L,o=t.layout,d=t._fullLayout;if(n[""]){Object.keys(n).length>1&&i.warn("Full array edits are incompatible with other edits",l);var w=n[""][""];if(p(w))a.set(null);else if(Array.isArray(w))a.set(w);else return i.warn("Unrecognized full array edit value",l,w),!0;return c?!1:(m(o,d),h(t),!0)}var A=Object.keys(n).map(Number).sort(S),C=a.get(),x=C||[],E=s(d,l).get(),M=[],f=-1,P=x.length,T,z,_,V,F,N,k,I;for(T=0;T<A.length;T++){if(_=A[T],V=n[_],F=Object.keys(V),N=V[""],k=v(N),_<0||_>x.length-(k?0:1)){i.warn("index out of range",l,_);continue}if(N!==void 0)F.length>1&&i.warn("Insertion & removal are incompatible with edits to the same index.",l,_),p(N)?M.push(_):k?(N==="add"&&(N={}),x.splice(_,0,N),E&&E.splice(_,0,{})):i.warn("Unrecognized full object edit value",l,_,N),f===-1&&(f=_);else for(z=0;z<F.length;z++)I=l+"["+_+"].",s(x[_],F[z],I).set(V[F[z]])}for(T=M.length-1;T>=0;T--)x.splice(M[T],1),E&&E.splice(M[T],1);if(x.length?C||a.set(x):a.set(null),c)return!1;if(m(o,d),g!==L){var H;if(f===-1)H=A;else{for(P=Math.max(x.length,P),H=[],T=0;T<A.length&&(_=A[T],!(_>=f));T++)H.push(_);for(T=f;T<P;T++)H.push(T)}for(T=0;T<H.length;T++)g(t,H[T])}else h(t);return!0}},36424:function(U,B,e){var y=e(33428),L=e(38248),i=e(52264),S=e(3400),b=S.nestedProperty,v=e(95924),p=e(94552),r=e(24040),t=e(73060),a=e(7316),n=e(54460),u=e(96312),s=e(94724),l=e(43616),m=e(76308),h=e(42464).initInteractions,g=e(9616),c=e(22676).clearOutline,o=e(20556).dfltConfig,d=e(17680),w=e(93404),A=e(39172),C=e(67824),x=e(33816).AX_NAME_PATTERN,E=0,M=5;function f(Me,Ne,je,tt){var ct;if(Me=S.getGraphDiv(Me),v.init(Me),S.isPlainObject(Ne)){var pt=Ne;Ne=pt.data,je=pt.layout,tt=pt.config,ct=pt.frames}var Xt=v.triggerHandler(Me,"plotly_beforeplot",[Ne,je,tt]);if(Xt===!1)return Promise.reject();!Ne&&!je&&!S.isPlotDiv(Me)&&S.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Me);function Yt(){if(ct)return B.addFrames(Me,ct)}V(Me,tt),je||(je={}),y.select(Me).classed("js-plotly-plot",!0),l.makeTester(),Array.isArray(Me._promises)||(Me._promises=[]);var Tt=(Me.data||[]).length===0&&Array.isArray(Ne);Array.isArray(Ne)&&(w.cleanData(Ne),Tt?Me.data=Ne:Me.data.push.apply(Me.data,Ne),Me.empty=!1),(!Me.layout||Tt)&&(Me.layout=w.cleanLayout(je)),a.supplyDefaults(Me);var _t=Me._fullLayout,Qt=_t._has("cartesian");_t._replotting=!0,(Tt||_t._shouldCreateBgLayer)&&(Ce(Me),_t._shouldCreateBgLayer&&delete _t._shouldCreateBgLayer),l.initGradients(Me),l.initPatterns(Me),Tt&&n.saveShowSpikeInitial(Me);var wr=!Me.calcdata||Me.calcdata.length!==(Me._fullData||[]).length;wr&&a.doCalcdata(Me);for(var xt=0;xt<Me.calcdata.length;xt++)Me.calcdata[xt][0].trace=Me._fullData[xt];Me._context.responsive?Me._responsiveChartHandler||(Me._responsiveChartHandler=function(){S.isHidden(Me)||a.resize(Me)},window.addEventListener("resize",Me._responsiveChartHandler)):S.clearResponsive(Me);var jt=S.extendFlat({},_t._size),Jt=0;function gr(){for(var Ut=_t._basePlotModules,Nt=0;Nt<Ut.length;Nt++)Ut[Nt].drawFramework&&Ut[Nt].drawFramework(Me);!_t._glcanvas&&_t._has("gl")&&(_t._glcanvas=_t._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(vr){return vr.key}),_t._glcanvas.enter().append("canvas").attr("class",function(vr){return"gl-canvas gl-canvas-"+vr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Kt=Me._context.plotGlPixelRatio;if(_t._glcanvas){_t._glcanvas.attr("width",_t.width*Kt).attr("height",_t.height*Kt).style("width",_t.width+"px").style("height",_t.height+"px");var ur=_t._glcanvas.data()[0].regl;if(ur&&(Math.floor(_t.width*Kt)!==ur._gl.drawingBufferWidth||Math.floor(_t.height*Kt)!==ur._gl.drawingBufferHeight)){var fr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Jt)S.error(fr);else return S.log(fr+" Clearing graph and plotting again."),a.cleanPlot([],{},Me._fullData,_t),a.supplyDefaults(Me),_t=Me._fullLayout,a.doCalcdata(Me),Jt++,gr()}}return _t.modebar.orientation==="h"?_t._modebardiv.style("height",null).style("width","100%"):_t._modebardiv.style("width",null).style("height",_t.height+"px"),a.previousPromises(Me)}function or(){if(a.clearAutoMarginIds(Me),A.drawMarginPushers(Me),n.allowAutoMargin(Me),Me._fullLayout.title.text&&Me._fullLayout.title.automargin&&a.allowAutoMargin(Me,"title.automargin"),_t._has("pie"))for(var Ut=Me._fullData,Nt=0;Nt<Ut.length;Nt++){var Kt=Ut[Nt];Kt.type==="pie"&&Kt.automargin&&a.allowAutoMargin(Me,"pie."+Kt.uid+".automargin")}return a.doAutoMargin(Me),a.previousPromises(Me)}function yt(){if(a.didMarginChange(jt,_t._size))return S.syncOrAsync([or,A.layoutStyles],Me)}function at(){if(!wr){wt();return}return S.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),wt],Me)}function wt(){Me._transitioning||(A.doAutoRangeAndConstraints(Me),Tt&&n.saveRangeInitial(Me),r.getComponentMethod("rangeslider","calcAutorange")(Me))}function Et(){return n.draw(Me,Tt?"":"redraw")}var Rt=[a.previousPromises,Yt,gr,or,yt];Qt&&Rt.push(at),Rt.push(A.layoutStyles),Qt&&Rt.push(Et,function(Nt){var Kt=Nt._fullLayout._insideTickLabelsUpdaterange;if(Kt)return Nt._fullLayout._insideTickLabelsUpdaterange=void 0,Se(Nt,Kt).then(function(){n.saveRangeInitial(Nt,!0)})}),Rt.push(A.drawData,A.finalDraw,h,a.addLinks,a.rehover,a.redrag,a.reselect,a.doAutoMargin,a.previousPromises);var Dt=S.syncOrAsync(Rt,Me);return(!Dt||!Dt.then)&&(Dt=Promise.resolve()),Dt.then(function(){return P(Me),Me})}function P(Me){var Ne=Me._fullLayout;Ne._redrawFromAutoMarginCount?Ne._redrawFromAutoMarginCount--:Me.emit("plotly_afterplot")}function T(Me){return S.extendFlat(o,Me)}function z(Me,Ne){try{Me._fullLayout._paper.style("background",Ne)}catch(je){S.error(je)}}function _(Me,Ne){var je=m.combine(Ne,"white");z(Me,je)}function V(Me,Ne){if(!Me._context){Me._context=S.extendDeep({},o);var je=y.select("base");Me._context._baseUrl=je.size()&&je.attr("href")?window.location.href.split("#")[0]:""}var tt=Me._context,ct,pt,Xt;if(Ne){for(pt=Object.keys(Ne),ct=0;ct<pt.length;ct++)Xt=pt[ct],!(Xt==="editable"||Xt==="edits")&&Xt in tt&&(Xt==="setBackground"&&Ne[Xt]==="opaque"?tt[Xt]=_:tt[Xt]=Ne[Xt]);Ne.plot3dPixelRatio&&!tt.plotGlPixelRatio&&(tt.plotGlPixelRatio=tt.plot3dPixelRatio);var Yt=Ne.editable;if(Yt!==void 0)for(tt.editable=Yt,pt=Object.keys(tt.edits),ct=0;ct<pt.length;ct++)tt.edits[pt[ct]]=Yt;if(Ne.edits)for(pt=Object.keys(Ne.edits),ct=0;ct<pt.length;ct++)Xt=pt[ct],Xt in tt.edits&&(tt.edits[Xt]=Ne.edits[Xt]);tt._exportedPlot=Ne._exportedPlot}tt.staticPlot&&(tt.editable=!1,tt.edits={},tt.autosizable=!1,tt.scrollZoom=!1,tt.doubleClick=!1,tt.showTips=!1,tt.showLink=!1,tt.displayModeBar=!1),tt.displayModeBar==="hover"&&!i&&(tt.displayModeBar=!0),(tt.setBackground==="transparent"||typeof tt.setBackground!="function")&&(tt.setBackground=z),tt._hasZeroHeight=tt._hasZeroHeight||Me.clientHeight===0,tt._hasZeroWidth=tt._hasZeroWidth||Me.clientWidth===0;var Tt=tt.scrollZoom,_t=tt._scrollZoom={};if(Tt===!0)_t.cartesian=1,_t.gl3d=1,_t.geo=1,_t.mapbox=1;else if(typeof Tt=="string"){var Qt=Tt.split("+");for(ct=0;ct<Qt.length;ct++)_t[Qt[ct]]=1}else Tt!==!1&&(_t.gl3d=1,_t.geo=1,_t.mapbox=1)}function F(Me){if(Me=S.getGraphDiv(Me),!S.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me);return w.cleanData(Me.data),w.cleanLayout(Me.layout),Me.calcdata=void 0,B._doPlot(Me).then(function(){return Me.emit("plotly_redraw"),Me})}function N(Me,Ne,je,tt){return Me=S.getGraphDiv(Me),a.cleanPlot([],{},Me._fullData||[],Me._fullLayout||{}),a.purge(Me),B._doPlot(Me,Ne,je,tt)}function k(Me,Ne){var je=Ne+1,tt=[],ct,pt;for(ct=0;ct<Me.length;ct++)pt=Me[ct],pt<0?tt.push(je+pt):tt.push(pt);return tt}function I(Me,Ne,je){var tt,ct;for(tt=0;tt<Ne.length;tt++){if(ct=Ne[tt],ct!==parseInt(ct,10))throw new Error("all values in "+je+" must be integers");if(ct>=Me.data.length||ct<-Me.data.length)throw new Error(je+" must be valid indices for gd.data.");if(Ne.indexOf(ct,tt+1)>-1||ct>=0&&Ne.indexOf(-Me.data.length+ct)>-1||ct<0&&Ne.indexOf(Me.data.length+ct)>-1)throw new Error("each index in "+je+" must be unique.")}}function H(Me,Ne,je){if(!Array.isArray(Me.data))throw new Error("gd.data must be an array.");if(typeof Ne>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(Ne)||(Ne=[Ne]),I(Me,Ne,"currentIndices"),typeof je<"u"&&!Array.isArray(je)&&(je=[je]),typeof je<"u"&&I(Me,je,"newIndices"),typeof je<"u"&&Ne.length!==je.length)throw new Error("current and new indices must be of equal length.")}function j(Me,Ne,je){var tt,ct;if(!Array.isArray(Me.data))throw new Error("gd.data must be an array.");if(typeof Ne>"u")throw new Error("traces must be defined.");for(Array.isArray(Ne)||(Ne=[Ne]),tt=0;tt<Ne.length;tt++)if(ct=Ne[tt],typeof ct!="object"||Array.isArray(ct)||ct===null)throw new Error("all values in traces array must be non-array objects");if(typeof je<"u"&&!Array.isArray(je)&&(je=[je]),typeof je<"u"&&je.length!==Ne.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function ee(Me,Ne,je,tt){var ct=S.isPlainObject(tt);if(!Array.isArray(Me.data))throw new Error("gd.data must be an array");if(!S.isPlainObject(Ne))throw new Error("update must be a key:value object");if(typeof je>"u")throw new Error("indices must be an integer or array of integers");I(Me,je,"indices");for(var pt in Ne){if(!Array.isArray(Ne[pt])||Ne[pt].length!==je.length)throw new Error("attribute "+pt+" must be an array of length equal to indices array length");if(ct&&(!(pt in tt)||!Array.isArray(tt[pt])||tt[pt].length!==Ne[pt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function te(Me,Ne,je,tt){var ct=S.isPlainObject(tt),pt=[],Xt,Yt,Tt,_t,Qt;Array.isArray(je)||(je=[je]),je=k(je,Me.data.length-1);for(var wr in Ne)for(var xt=0;xt<je.length;xt++){if(Xt=Me.data[je[xt]],Tt=b(Xt,wr),Yt=Tt.get(),_t=Ne[wr][xt],!S.isArrayOrTypedArray(_t))throw new Error("attribute: "+wr+" index: "+xt+" must be an array");if(!S.isArrayOrTypedArray(Yt))throw new Error("cannot extend missing or non-array attribute: "+wr);if(Yt.constructor!==_t.constructor)throw new Error("cannot extend array with an array of a different type: "+wr);Qt=ct?tt[wr][xt]:tt,L(Qt)||(Qt=-1),pt.push({prop:Tt,target:Yt,insert:_t,maxp:Math.floor(Qt)})}return pt}function ne(Me,Ne,je,tt,ct){ee(Me,Ne,je,tt);for(var pt=te(Me,Ne,je,tt),Xt={},Yt={},Tt=0;Tt<pt.length;Tt++){var _t=pt[Tt].prop,Qt=pt[Tt].maxp,wr=ct(pt[Tt].target,pt[Tt].insert,Qt);_t.set(wr[0]),Array.isArray(Xt[_t.astr])||(Xt[_t.astr]=[]),Xt[_t.astr].push(wr[1]),Array.isArray(Yt[_t.astr])||(Yt[_t.astr]=[]),Yt[_t.astr].push(pt[Tt].target.length)}return{update:Xt,maxPoints:Yt}}function ue(Me,Ne){var je=new Me.constructor(Me.length+Ne.length);return je.set(Me),je.set(Ne,Me.length),je}function q(Me,Ne,je,tt){Me=S.getGraphDiv(Me);function ct(Tt,_t,Qt){var wr,xt;if(S.isTypedArray(Tt))if(Qt<0){var jt=new Tt.constructor(0),Jt=ue(Tt,_t);Qt<0?(wr=Jt,xt=jt):(wr=jt,xt=Jt)}else if(wr=new Tt.constructor(Qt),xt=new Tt.constructor(Tt.length+_t.length-Qt),Qt===_t.length)wr.set(_t),xt.set(Tt);else if(Qt<_t.length){var gr=_t.length-Qt;wr.set(_t.subarray(gr)),xt.set(Tt),xt.set(_t.subarray(0,gr),Tt.length)}else{var or=Qt-_t.length,yt=Tt.length-or;wr.set(Tt.subarray(yt)),wr.set(_t,or),xt.set(Tt.subarray(0,yt))}else wr=Tt.concat(_t),xt=Qt>=0&&Qt<wr.length?wr.splice(0,wr.length-Qt):[];return[wr,xt]}var pt=ne(Me,Ne,je,tt,ct),Xt=B.redraw(Me),Yt=[Me,pt.update,je,pt.maxPoints];return p.add(Me,B.prependTraces,Yt,q,arguments),Xt}function Y(Me,Ne,je,tt){Me=S.getGraphDiv(Me);function ct(Tt,_t,Qt){var wr,xt;if(S.isTypedArray(Tt))if(Qt<=0){var jt=new Tt.constructor(0),Jt=ue(_t,Tt);Qt<0?(wr=Jt,xt=jt):(wr=jt,xt=Jt)}else if(wr=new Tt.constructor(Qt),xt=new Tt.constructor(Tt.length+_t.length-Qt),Qt===_t.length)wr.set(_t),xt.set(Tt);else if(Qt<_t.length){var gr=_t.length-Qt;wr.set(_t.subarray(0,gr)),xt.set(_t.subarray(gr)),xt.set(Tt,gr)}else{var or=Qt-_t.length;wr.set(_t),wr.set(Tt.subarray(0,or),_t.length),xt.set(Tt.subarray(or))}else wr=_t.concat(Tt),xt=Qt>=0&&Qt<wr.length?wr.splice(Qt,wr.length):[];return[wr,xt]}var pt=ne(Me,Ne,je,tt,ct),Xt=B.redraw(Me),Yt=[Me,pt.update,je,pt.maxPoints];return p.add(Me,B.extendTraces,Yt,Y,arguments),Xt}function Z(Me,Ne,je){Me=S.getGraphDiv(Me);var tt=[],ct=B.deleteTraces,pt=Z,Xt=[Me,tt],Yt=[Me,Ne],Tt,_t;for(j(Me,Ne,je),Array.isArray(Ne)||(Ne=[Ne]),Ne=Ne.map(function(Qt){return S.extendFlat({},Qt)}),w.cleanData(Ne),Tt=0;Tt<Ne.length;Tt++)Me.data.push(Ne[Tt]);for(Tt=0;Tt<Ne.length;Tt++)tt.push(-Ne.length+Tt);if(typeof je>"u")return _t=B.redraw(Me),p.add(Me,ct,Xt,pt,Yt),_t;Array.isArray(je)||(je=[je]);try{H(Me,tt,je)}catch(Qt){throw Me.data.splice(Me.data.length-Ne.length,Ne.length),Qt}return p.startSequence(Me),p.add(Me,ct,Xt,pt,Yt),_t=B.moveTraces(Me,tt,je),p.stopSequence(Me),_t}function G(Me,Ne){Me=S.getGraphDiv(Me);var je=[],tt=B.addTraces,ct=G,pt=[Me,je,Ne],Xt=[Me,Ne],Yt,Tt;if(typeof Ne>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Ne)||(Ne=[Ne]),I(Me,Ne,"indices"),Ne=k(Ne,Me.data.length-1),Ne.sort(S.sorterDes),Yt=0;Yt<Ne.length;Yt+=1)Tt=Me.data.splice(Ne[Yt],1)[0],je.push(Tt);var _t=B.redraw(Me);return p.add(Me,tt,pt,ct,Xt),_t}function K(Me,Ne,je){Me=S.getGraphDiv(Me);var tt=[],ct=[],pt=K,Xt=K,Yt=[Me,je,Ne],Tt=[Me,Ne,je],_t;if(H(Me,Ne,je),Ne=Array.isArray(Ne)?Ne:[Ne],typeof je>"u")for(je=[],_t=0;_t<Ne.length;_t++)je.push(-Ne.length+_t);for(je=Array.isArray(je)?je:[je],Ne=k(Ne,Me.data.length-1),je=k(je,Me.data.length-1),_t=0;_t<Me.data.length;_t++)Ne.indexOf(_t)===-1&&tt.push(Me.data[_t]);for(_t=0;_t<Ne.length;_t++)ct.push({newIndex:je[_t],trace:Me.data[Ne[_t]]});for(ct.sort(function(wr,xt){return wr.newIndex-xt.newIndex}),_t=0;_t<ct.length;_t+=1)tt.splice(ct[_t].newIndex,0,ct[_t].trace);Me.data=tt;var Qt=B.redraw(Me);return p.add(Me,pt,Yt,Xt,Tt),Qt}function oe(Me,Ne,je,tt){Me=S.getGraphDiv(Me),w.clearPromiseQueue(Me);var ct={};if(typeof Ne=="string")ct[Ne]=je;else if(S.isPlainObject(Ne))ct=S.extendFlat({},Ne),tt===void 0&&(tt=je);else return S.warn("Restyle fail.",Ne,je,tt),Promise.reject();Object.keys(ct).length&&(Me.changed=!0);var pt=w.coerceTraceIndices(Me,tt),Xt=ce(Me,ct,pt),Yt=Xt.flags;Yt.calc&&(Me.calcdata=void 0),Yt.clearAxisTypes&&w.clearAxisTypes(Me,pt,{});var Tt=[];Yt.fullReplot?Tt.push(B._doPlot):(Tt.push(a.previousPromises),a.supplyDefaults(Me),Yt.markerSize&&(a.doCalcdata(Me),ke(Tt)),Yt.style&&Tt.push(A.doTraceStyle),Yt.colorbars&&Tt.push(A.doColorBars),Tt.push(P)),Tt.push(a.rehover,a.redrag,a.reselect),p.add(Me,oe,[Me,Xt.undoit,Xt.traces],oe,[Me,Xt.redoit,Xt.traces]);var _t=S.syncOrAsync(Tt,Me);return(!_t||!_t.then)&&(_t=Promise.resolve()),_t.then(function(){return Me.emit("plotly_restyle",Xt.eventData),Me})}function $(Me){return Me===void 0?null:Me}function J(Me,Ne){return Ne?function(je,tt,ct){var pt=b(je,tt),Xt=pt.set;return pt.set=function(Yt){var Tt=(ct||"")+tt;se(Tt,pt.get(),Yt,Me),Xt(Yt)},pt}:b}function se(Me,Ne,je,tt){if(Array.isArray(Ne)||Array.isArray(je))for(var ct=Array.isArray(Ne)?Ne:[],pt=Array.isArray(je)?je:[],Xt=Math.max(ct.length,pt.length),Yt=0;Yt<Xt;Yt++)se(Me+"["+Yt+"]",ct[Yt],pt[Yt],tt);else if(S.isPlainObject(Ne)||S.isPlainObject(je)){var Tt=S.isPlainObject(Ne)?Ne:{},_t=S.isPlainObject(je)?je:{},Qt=S.extendFlat({},Tt,_t);for(var wr in Qt)se(Me+"."+wr,Tt[wr],_t[wr],tt)}else tt[Me]===void 0&&(tt[Me]=$(Ne))}function ie(Me,Ne,je){for(var tt in je){var ct=b(Me,tt);se(tt,ct.get(),je[tt],Ne)}}function ce(Me,Ne,je){var tt=Me._fullLayout,ct=Me._fullData,pt=Me.data,Xt=tt._guiEditing,Yt=J(tt._preGUI,Xt),Tt=S.extendDeepAll({},Ne),_t;ye(Ne);var Qt=C.traceFlags(),wr={},xt={},jt;function Jt(){return je.map(function(){})}function gr(Sn){var Tr=n.id2name(Sn);jt.indexOf(Tr)===-1&&jt.push(Tr)}function or(Sn){return"LAYOUT"+Sn+".autorange"}function yt(Sn){return"LAYOUT"+Sn+".range"}function at(Sn){for(var Tr=Sn;Tr<ct.length;Tr++)if(ct[Tr]._input===pt[Sn])return ct[Tr]}function wt(Sn,Tr,Lr){if(Array.isArray(Sn)){Sn.forEach(function(pn){wt(pn,Tr,Lr)});return}if(!(Sn in Ne||w.hasParent(Ne,Sn))){var Wr;if(Sn.substr(0,6)==="LAYOUT")Wr=Yt(Me.layout,Sn.replace("LAYOUT",""));else{var Ur=je[Lr],an=tt._tracePreGUI[at(Ur)._fullInput.uid];Wr=J(an,Xt)(pt[Ur],Sn)}Sn in xt||(xt[Sn]=Jt()),xt[Sn][Lr]===void 0&&(xt[Sn][Lr]=$(Wr.get())),Tr!==void 0&&Wr.set(Tr)}}function Et(Sn){return function(Tr){return ct[Tr][Sn]}}function Rt(Sn){return function(Tr,Lr){return Tr===!1?ct[je[Lr]][Sn]:null}}for(var Dt in Ne){if(w.hasParent(Ne,Dt))throw new Error("cannot set "+Dt+" and a parent attribute simultaneously");var Ut=Ne[Dt],Nt,Kt,ur,fr,vr,We;if((Dt==="autobinx"||Dt==="autobiny")&&(Dt=Dt.charAt(Dt.length-1)+"bins",Array.isArray(Ut)?Ut=Ut.map(Rt(Dt)):Ut===!1?Ut=je.map(Et(Dt)):Ut=null),wr[Dt]=Ut,Dt.substr(0,6)==="LAYOUT"){ur=Yt(Me.layout,Dt.replace("LAYOUT","")),xt[Dt]=[$(ur.get())],ur.set(Array.isArray(Ut)?Ut[0]:Ut),Qt.calc=!0;continue}for(xt[Dt]=Jt(),_t=0;_t<je.length;_t++){Nt=pt[je[_t]],Kt=at(je[_t]);var He=tt._tracePreGUI[Kt._fullInput.uid];if(ur=J(He,Xt)(Nt,Dt),fr=ur.get(),vr=Array.isArray(Ut)?Ut[_t%Ut.length]:Ut,vr!==void 0){var zt=ur.parts[ur.parts.length-1],kt=Dt.substr(0,Dt.length-zt.length-1),Zt=kt?kt+".":"",er=kt?b(Kt,kt).get():Kt;if(We=t.getTraceValObject(Kt,ur.parts),We&&We.impliedEdits&&vr!==null)for(var lr in We.impliedEdits)wt(S.relativeAttr(Dt,lr),We.impliedEdits[lr],_t);else if((zt==="thicknessmode"||zt==="lenmode")&&fr!==vr&&(vr==="fraction"||vr==="pixels")&&er){var rr=tt._size,Ft=er.orient,cr=Ft==="top"||Ft==="bottom";if(zt==="thicknessmode"){var pr=cr?rr.h:rr.w;wt(Zt+"thickness",er.thickness*(vr==="fraction"?1/pr:pr),_t)}else{var mr=cr?rr.w:rr.h;wt(Zt+"len",er.len*(vr==="fraction"?1/mr:mr),_t)}}else if(Dt==="type"&&(vr==="pie"!=(fr==="pie")||vr==="funnelarea"!=(fr==="funnelarea"))){var hr="x",Gr="y";(vr==="bar"||fr==="bar")&&Nt.orientation==="h"&&(hr="y",Gr="x"),S.swapAttrs(Nt,["?","?src"],"labels",hr),S.swapAttrs(Nt,["d?","?0"],"label",hr),S.swapAttrs(Nt,["?","?src"],"values",Gr),fr==="pie"||fr==="funnelarea"?(b(Nt,"marker.color").set(b(Nt,"marker.colors").get()),tt._pielayer.selectAll("g.trace").remove()):r.traceIs(Nt,"cartesian")&&b(Nt,"marker.colors").set(b(Nt,"marker.color").get())}xt[Dt][_t]=$(fr);var Dr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Dr.indexOf(Dt)!==-1){if(Dt==="orientation"){ur.set(vr);var Ir=Nt.x&&!Nt.y?"h":"v";if((ur.get()||Ir)===Kt.orientation)continue}else Dt==="orientationaxes"&&(Nt.orientation={v:"h",h:"v"}[Kt.orientation]);w.swapXYData(Nt),Qt.calc=Qt.clearAxisTypes=!0}else a.dataArrayContainers.indexOf(ur.parts[0])!==-1?(w.manageArrayContainers(ur,vr,xt),Qt.calc=!0):(We?We.arrayOk&&!r.traceIs(Kt,"regl")&&(S.isArrayOrTypedArray(vr)||S.isArrayOrTypedArray(fr))?Qt.calc=!0:C.update(Qt,We):Qt.calc=!0,ur.set(vr))}}if(["swapxyaxes","orientationaxes"].indexOf(Dt)!==-1&&n.swap(Me,je),Dt==="orientationaxes"){var cn=b(Me.layout,"hovermode"),rn=cn.get();rn==="x"?cn.set("y"):rn==="y"?cn.set("x"):rn==="x unified"?cn.set("y unified"):rn==="y unified"&&cn.set("x unified")}if(["orientation","type"].indexOf(Dt)!==-1){for(jt=[],_t=0;_t<je.length;_t++){var Cn=pt[je[_t]];r.traceIs(Cn,"cartesian")&&(gr(Cn.xaxis||"x"),gr(Cn.yaxis||"y"))}wt(jt.map(or),!0,0),wt(jt.map(yt),[0,1],0)}}return(Qt.calc||Qt.plot)&&(Qt.fullReplot=!0),{flags:Qt,undoit:xt,redoit:wr,traces:je,eventData:S.extendDeepNoArrays([],[Tt,je])}}function ye(Me){var Ne=S.counterRegex("axis",".title",!1,!1),je=/colorbar\.title$/,tt=Object.keys(Me),ct,pt,Xt;for(ct=0;ct<tt.length;ct++)pt=tt[ct],Xt=Me[pt],(pt==="title"||Ne.test(pt)||je.test(pt))&&(typeof Xt=="string"||typeof Xt=="number")?Yt(pt,pt.replace("title","title.text")):pt.indexOf("titlefont")>-1&&pt.indexOf("grouptitlefont")===-1?Yt(pt,pt.replace("titlefont","title.font")):pt.indexOf("titleposition")>-1?Yt(pt,pt.replace("titleposition","title.position")):pt.indexOf("titleside")>-1?Yt(pt,pt.replace("titleside","title.side")):pt.indexOf("titleoffset")>-1&&Yt(pt,pt.replace("titleoffset","title.offset"));function Yt(Tt,_t){Me[_t]=Me[Tt],delete Me[Tt]}}function Se(Me,Ne,je){Me=S.getGraphDiv(Me),w.clearPromiseQueue(Me);var tt={};if(typeof Ne=="string")tt[Ne]=je;else if(S.isPlainObject(Ne))tt=S.extendFlat({},Ne);else return S.warn("Relayout fail.",Ne,je),Promise.reject();Object.keys(tt).length&&(Me.changed=!0);var ct=De(Me,tt),pt=ct.flags;pt.calc&&(Me.calcdata=void 0);var Xt=[a.previousPromises];pt.layoutReplot?Xt.push(A.layoutReplot):Object.keys(tt).length&&(Te(Me,pt,ct)||a.supplyDefaults(Me),pt.legend&&Xt.push(A.doLegend),pt.layoutstyle&&Xt.push(A.layoutStyles),pt.axrange&&ke(Xt,ct.rangesAltered),pt.ticks&&Xt.push(A.doTicksRelayout),pt.modebar&&Xt.push(A.doModeBar),pt.camera&&Xt.push(A.doCamera),pt.colorbars&&Xt.push(A.doColorBars),Xt.push(P)),Xt.push(a.rehover,a.redrag,a.reselect),p.add(Me,Se,[Me,ct.undoit],Se,[Me,ct.redoit]);var Yt=S.syncOrAsync(Xt,Me);return(!Yt||!Yt.then)&&(Yt=Promise.resolve(Me)),Yt.then(function(){return Me.emit("plotly_relayout",ct.eventData),Me})}function Te(Me,Ne,je){var tt=Me._fullLayout;if(!Ne.axrange)return!1;for(var ct in Ne)if(ct!=="axrange"&&Ne[ct])return!1;var pt,Xt,Yt=function(jt,Jt){return S.coerce(pt,Xt,s,jt,Jt)},Tt={};for(var _t in je.rangesAltered){var Qt=n.id2name(_t);if(pt=Me.layout[Qt],Xt=tt[Qt],u(pt,Xt,Yt,Tt),Xt._matchGroup){for(var wr in Xt._matchGroup)if(wr!==_t){var xt=tt[n.id2name(wr)];xt.autorange=Xt.autorange,xt.range=Xt.range.slice(),xt._input.range=Xt.range.slice()}}}return!0}function ke(Me,Ne){var je=Ne?function(tt){var ct=[],pt=!0;for(var Xt in Ne){var Yt=n.getFromId(tt,Xt);if(ct.push(Xt),(Yt.ticklabelposition||"").indexOf("inside")!==-1&&Yt._anchorAxis&&ct.push(Yt._anchorAxis._id),Yt._matchGroup)for(var Tt in Yt._matchGroup)Ne[Tt]||ct.push(Tt)}return n.draw(tt,ct,{skipTitle:pt})}:function(tt){return n.draw(tt,"redraw")};Me.push(c,A.doAutoRangeAndConstraints,je,A.drawData,A.finalDraw)}var we=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Ee=/^[xyz]axis[0-9]*\.autorange$/,xe=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function De(Me,Ne){var je=Me.layout,tt=Me._fullLayout,ct=tt._guiEditing,pt=J(tt._preGUI,ct),Xt=Object.keys(Ne),Yt=n.list(Me),Tt=S.extendDeepAll({},Ne),_t={},Qt,wr,xt;for(ye(Ne),Xt=Object.keys(Ne),wr=0;wr<Xt.length;wr++)if(Xt[wr].indexOf("allaxes")===0){for(xt=0;xt<Yt.length;xt++){var jt=Yt[xt]._id.substr(1),Jt=jt.indexOf("scene")!==-1?jt+".":"",gr=Xt[wr].replace("allaxes",Jt+Yt[xt]._name);Ne[gr]||(Ne[gr]=Ne[Xt[wr]])}delete Ne[Xt[wr]]}var or=C.layoutFlags(),yt={},at={};function wt(an,pn){if(Array.isArray(an)){an.forEach(function(En){wt(En,pn)});return}if(!(an in Ne||w.hasParent(Ne,an))){var gn=pt(je,an);an in at||(at[an]=$(gn.get())),pn!==void 0&&gn.set(pn)}}var Et={},Rt;function Dt(an){var pn=n.name2id(an.split(".")[0]);return Et[pn]=1,pn}for(var Ut in Ne){if(w.hasParent(Ne,Ut))throw new Error("cannot set "+Ut+" and a parent attribute simultaneously");for(var Nt=pt(je,Ut),Kt=Ne[Ut],ur=Nt.parts.length,fr=ur-1;fr>0&&typeof Nt.parts[fr]!="string";)fr--;var vr=Nt.parts[fr],We=Nt.parts[fr-1]+"."+vr,He=Nt.parts.slice(0,fr).join("."),zt=b(Me.layout,He).get(),kt=b(tt,He).get(),Zt=Nt.get();if(Kt!==void 0){yt[Ut]=Kt,at[Ut]=vr==="reverse"?Kt:$(Zt);var er=t.getLayoutValObject(tt,Nt.parts);if(er&&er.impliedEdits&&Kt!==null)for(var lr in er.impliedEdits)wt(S.relativeAttr(Ut,lr),er.impliedEdits[lr]);if(["width","height"].indexOf(Ut)!==-1)if(Kt){wt("autosize",null);var rr=Ut==="height"?"width":"height";wt(rr,tt[rr])}else tt[Ut]=Me._initialAutoSize[Ut];else if(Ut==="autosize")wt("width",Kt?null:tt.width),wt("height",Kt?null:tt.height);else if(We.match(we))Dt(We),b(tt,He+"._inputRange").set(null);else if(We.match(Ee)){Dt(We),b(tt,He+"._inputRange").set(null);var Ft=b(tt,He).get();Ft._inputDomain&&(Ft._input.domain=Ft._inputDomain.slice())}else We.match(xe)&&b(tt,He+"._inputDomain").set(null);if(vr==="type"){Rt=zt;var cr=kt.type==="linear"&&Kt==="log",pr=kt.type==="log"&&Kt==="linear";if(cr||pr){if(!Rt||!Rt.range)wt(He+".autorange",!0);else if(kt.autorange)cr&&(Rt.range=Rt.range[1]>Rt.range[0]?[1,2]:[2,1]);else{var mr=Rt.range[0],hr=Rt.range[1];cr?(mr<=0&&hr<=0&&wt(He+".autorange",!0),mr<=0?mr=hr/1e6:hr<=0&&(hr=mr/1e6),wt(He+".range[0]",Math.log(mr)/Math.LN10),wt(He+".range[1]",Math.log(hr)/Math.LN10)):(wt(He+".range[0]",Math.pow(10,mr)),wt(He+".range[1]",Math.pow(10,hr)))}Array.isArray(tt._subplots.polar)&&tt._subplots.polar.length&&tt[Nt.parts[0]]&&Nt.parts[1]==="radialaxis"&&delete tt[Nt.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(Me,kt,Kt,wt),r.getComponentMethod("images","convertCoords")(Me,kt,Kt,wt)}else wt(He+".autorange",!0),wt(He+".range",null);b(tt,He+"._inputRange").set(null)}else if(vr.match(x)){var Gr=b(tt,Ut).get(),Dr=(Kt||{}).type;(!Dr||Dr==="-")&&(Dr="linear"),r.getComponentMethod("annotations","convertCoords")(Me,Gr,Dr,wt),r.getComponentMethod("images","convertCoords")(Me,Gr,Dr,wt)}var Ir=d.containerArrayMatch(Ut);if(Ir){Qt=Ir.array,wr=Ir.index;var cn=Ir.property,rn=er||{editType:"calc"};wr!==""&&cn===""&&(d.isAddVal(Kt)?at[Ut]=null:d.isRemoveVal(Kt)?at[Ut]=(b(je,Qt).get()||[])[wr]:S.warn("unrecognized full object value",Ne)),C.update(or,rn),_t[Qt]||(_t[Qt]={});var Cn=_t[Qt][wr];Cn||(Cn=_t[Qt][wr]={}),Cn[cn]=Kt,delete Ne[Ut]}else vr==="reverse"?(zt.range?zt.range.reverse():(wt(He+".autorange",!0),zt.range=[1,0]),kt.autorange?or.calc=!0:or.plot=!0):(Ut==="dragmode"&&(Kt===!1&&Zt!==!1||Kt!==!1&&Zt===!1)||tt._has("scatter-like")&&tt._has("regl")&&Ut==="dragmode"&&(Kt==="lasso"||Kt==="select")&&!(Zt==="lasso"||Zt==="select")||tt._has("gl2d")?or.plot=!0:er?C.update(or,er):or.calc=!0,Nt.set(Kt))}}for(Qt in _t){var Sn=d.applyContainerArrayChanges(Me,pt(je,Qt),_t[Qt],or,pt);Sn||(or.plot=!0)}for(var Tr in Et){Rt=n.getFromId(Me,Tr);var Lr=Rt&&Rt._constraintGroup;if(Lr){or.calc=!0;for(var Wr in Lr)Et[Wr]||(n.getFromId(Me,Wr)._constraintShrinkable=!0)}}(Ve(Me)||Ne.height||Ne.width)&&(or.plot=!0);var Ur=tt.shapes;for(wr=0;wr<Ur.length;wr++)if(Ur[wr].showlegend){or.calc=!0;break}return(or.plot||or.calc)&&(or.layoutReplot=!0),{flags:or,rangesAltered:Et,undoit:at,redoit:yt,eventData:Tt}}function Ve(Me){var Ne=Me._fullLayout,je=Ne.width,tt=Ne.height;return Me.layout.autosize&&a.plotAutoSize(Me,Me.layout,Ne),Ne.width!==je||Ne.height!==tt}function Ue(Me,Ne,je,tt){Me=S.getGraphDiv(Me),w.clearPromiseQueue(Me),S.isPlainObject(Ne)||(Ne={}),S.isPlainObject(je)||(je={}),Object.keys(Ne).length&&(Me.changed=!0),Object.keys(je).length&&(Me.changed=!0);var ct=w.coerceTraceIndices(Me,tt),pt=ce(Me,S.extendFlat({},Ne),ct),Xt=pt.flags,Yt=De(Me,S.extendFlat({},je)),Tt=Yt.flags;(Xt.calc||Tt.calc)&&(Me.calcdata=void 0),Xt.clearAxisTypes&&w.clearAxisTypes(Me,ct,je);var _t=[];Tt.layoutReplot?_t.push(A.layoutReplot):Xt.fullReplot?_t.push(B._doPlot):(_t.push(a.previousPromises),Te(Me,Tt,Yt)||a.supplyDefaults(Me),Xt.style&&_t.push(A.doTraceStyle),(Xt.colorbars||Tt.colorbars)&&_t.push(A.doColorBars),Tt.legend&&_t.push(A.doLegend),Tt.layoutstyle&&_t.push(A.layoutStyles),Tt.axrange&&ke(_t,Yt.rangesAltered),Tt.ticks&&_t.push(A.doTicksRelayout),Tt.modebar&&_t.push(A.doModeBar),Tt.camera&&_t.push(A.doCamera),_t.push(P)),_t.push(a.rehover,a.redrag,a.reselect),p.add(Me,Ue,[Me,pt.undoit,Yt.undoit,pt.traces],Ue,[Me,pt.redoit,Yt.redoit,pt.traces]);var Qt=S.syncOrAsync(_t,Me);return(!Qt||!Qt.then)&&(Qt=Promise.resolve(Me)),Qt.then(function(){return Me.emit("plotly_update",{data:pt.eventData,layout:Yt.eventData}),Me})}function Be(Me){return function(je){je._fullLayout._guiEditing=!0;var tt=Me.apply(null,arguments);return je._fullLayout._guiEditing=!1,tt}}var Xe=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ot=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function ut(Me,Ne){for(var je=0;je<Ne.length;je++){var tt=Ne[je],ct=Me.match(tt.pattern);if(ct){var pt=ct[1]||"";return{head:pt,tail:Me.substr(pt.length+1),attr:tt.attr}}}}function et(Me,Ne){var je=b(Ne,Me).get();if(je!==void 0)return je;var tt=Me.split(".");for(tt.pop();tt.length>1;)if(tt.pop(),je=b(Ne,tt.join(".")+".uirevision").get(),je!==void 0)return je;return Ne.uirevision}function qe(Me,Ne){for(var je=0;je<Ne.length;je++)if(Ne[je]._fullInput.uid===Me)return je;return-1}function ft(Me,Ne,je){for(var tt=0;tt<Ne.length;tt++)if(Ne[tt].uid===Me)return tt;return!Ne[je]||Ne[je].uid?-1:je}function ht(Me,Ne){var je=S.isPlainObject(Me),tt=Array.isArray(Me);return je||tt?(je&&S.isPlainObject(Ne)||tt&&Array.isArray(Ne))&&JSON.stringify(Me)===JSON.stringify(Ne):Me===Ne}function dt(Me,Ne,je,tt){var ct=tt._preGUI,pt,Xt,Yt,Tt,_t,Qt,wr,xt,jt,Jt,gr=[],or={},yt={};for(pt in ct){if(_t=ut(pt,Xe),_t){if(jt=_t.head,Jt=_t.tail,Xt=_t.attr||jt+".uirevision",Yt=b(tt,Xt).get(),Tt=Yt&&et(Xt,Ne),Tt&&Tt===Yt){if(Qt=ct[pt],Qt===null&&(Qt=void 0),wr=b(Ne,pt),xt=wr.get(),ht(xt,Qt)){xt===void 0&&Jt==="autorange"&&gr.push(jt),wr.set($(b(tt,pt).get()));continue}else if(Jt==="autorange"||Jt.substr(0,6)==="range["){var at=ct[jt+".range[0]"],wt=ct[jt+".range[1]"],Et=ct[jt+".autorange"];if(Et||Et===null&&at===null&&wt===null){if(!(jt in or)){var Rt=b(Ne,jt).get();or[jt]=Rt&&(Rt.autorange||Rt.autorange!==!1&&(!Rt.range||Rt.range.length!==2))}if(or[jt]){wr.set($(b(tt,pt).get()));continue}}}}}else S.warn("unrecognized GUI edit: "+pt);delete ct[pt],_t&&_t.tail.substr(0,6)==="range["&&(yt[_t.head]=1)}for(var Dt=0;Dt<gr.length;Dt++){var Ut=gr[Dt];if(yt[Ut]){var Nt=b(Ne,Ut).get();Nt&&delete Nt.autorange}}var Kt=tt._tracePreGUI;for(var ur in Kt){var fr=Kt[ur],vr=null,We;for(pt in fr){if(!vr){var He=qe(ur,je);if(He<0){delete Kt[ur];break}var zt=je[He];We=zt._fullInput;var kt=ft(ur,Me,We.index);if(kt<0){delete Kt[ur];break}vr=Me[kt]}if(_t=ut(pt,ot),_t){if(_t.attr?(Yt=b(tt,_t.attr).get(),Tt=Yt&&et(_t.attr,Ne)):(Yt=We.uirevision,Tt=vr.uirevision,Tt===void 0&&(Tt=Ne.uirevision)),Tt&&Tt===Yt&&(Qt=fr[pt],Qt===null&&(Qt=void 0),wr=b(vr,pt),xt=wr.get(),ht(xt,Qt))){wr.set($(b(We,pt).get()));continue}}else S.warn("unrecognized GUI edit: "+pt+" in trace uid "+ur);delete fr[pt]}}}function mt(Me,Ne,je,tt){var ct,pt;function Xt(){return B.addFrames(Me,ct)}Me=S.getGraphDiv(Me),w.clearPromiseQueue(Me);var Yt=Me._fullData,Tt=Me._fullLayout;if(!S.isPlotDiv(Me)||!Yt||!Tt)pt=B.newPlot(Me,Ne,je,tt);else{if(S.isPlainObject(Ne)){var _t=Ne;Ne=_t.data,je=_t.layout,tt=_t.config,ct=_t.frames}var Qt=!1;if(tt){var wr=S.extendDeep({},Me._context);Me._context=void 0,V(Me,tt),Qt=Ye(wr,Me._context)}Me.data=Ne||[],w.cleanData(Me.data),Me.layout=je||{},w.cleanLayout(Me.layout),dt(Me.data,Me.layout,Yt,Tt),a.supplyDefaults(Me,{skipUpdateCalc:!0});var xt=Me._fullData,jt=Me._fullLayout,Jt=jt.datarevision===void 0,gr=jt.transition,or=rt(Me,Tt,jt,Jt,gr),yt=or.newDataRevision,at=St(Me,Yt,xt,Jt,gr,yt);if(Ve(Me)&&(or.layoutReplot=!0),at.calc||or.calc){Me.calcdata=void 0;for(var wt=Object.getOwnPropertyNames(jt),Et=0;Et<wt.length;Et++){var Rt=wt[Et],Dt=Rt.substring(0,5);if(Dt==="xaxis"||Dt==="yaxis"){var Ut=jt[Rt]._emptyCategories;Ut&&Ut()}}}else a.supplyDefaultsUpdateCalc(Me.calcdata,xt);var Nt=[];if(ct&&(Me._transitionData={},a.createTransitionData(Me),Nt.push(Xt)),jt.transition&&!Qt&&(at.anim||or.anim))or.ticks&&Nt.push(A.doTicksRelayout),a.doCalcdata(Me),A.doAutoRangeAndConstraints(Me),Nt.push(function(){return a.transitionFromReact(Me,at,or,Tt)});else if(at.fullReplot||or.layoutReplot||Qt)Me._fullLayout._skipDefaults=!0,Nt.push(B._doPlot);else{for(var Kt in or.arrays){var ur=or.arrays[Kt];if(ur.length){var fr=r.getComponentMethod(Kt,"drawOne");if(fr!==S.noop)for(var vr=0;vr<ur.length;vr++)fr(Me,ur[vr]);else{var We=r.getComponentMethod(Kt,"draw");if(We===S.noop)throw new Error("cannot draw components: "+Kt);We(Me)}}}Nt.push(a.previousPromises),at.style&&Nt.push(A.doTraceStyle),(at.colorbars||or.colorbars)&&Nt.push(A.doColorBars),or.legend&&Nt.push(A.doLegend),or.layoutstyle&&Nt.push(A.layoutStyles),or.axrange&&ke(Nt),or.ticks&&Nt.push(A.doTicksRelayout),or.modebar&&Nt.push(A.doModeBar),or.camera&&Nt.push(A.doCamera),Nt.push(P)}Nt.push(a.rehover,a.redrag,a.reselect),pt=S.syncOrAsync(Nt,Me),(!pt||!pt.then)&&(pt=Promise.resolve(Me))}return pt.then(function(){return Me.emit("plotly_react",{data:Ne,layout:je}),Me})}function St(Me,Ne,je,tt,ct,pt){var Xt=Ne.length===je.length;if(!ct&&!Xt)return{fullReplot:!0,calc:!0};var Yt=C.traceFlags();Yt.arrays={},Yt.nChanges=0,Yt.nChangesAnim=0;var Tt,_t;function Qt(jt){var Jt=t.getTraceValObject(_t,jt);return!_t._module.animatable&&Jt.anim&&(Jt.anim=!1),Jt}var wr={getValObject:Qt,flags:Yt,immutable:tt,transition:ct,newDataRevision:pt,gd:Me},xt={};for(Tt=0;Tt<Ne.length;Tt++)if(je[Tt]){if(_t=je[Tt]._fullInput,a.hasMakesDataTransform(_t)&&(_t=je[Tt]),xt[_t.uid])continue;xt[_t.uid]=1,Oe(Ne[Tt]._fullInput,_t,[],wr)}return(Yt.calc||Yt.plot)&&(Yt.fullReplot=!0),ct&&Yt.nChanges&&Yt.nChangesAnim&&(Yt.anim=Yt.nChanges===Yt.nChangesAnim&&Xt?"all":"some"),Yt}function rt(Me,Ne,je,tt,ct){var pt=C.layoutFlags();pt.arrays={},pt.rangesAltered={},pt.nChanges=0,pt.nChangesAnim=0;function Xt(Tt){return t.getLayoutValObject(je,Tt)}var Yt={getValObject:Xt,flags:pt,immutable:tt,transition:ct,gd:Me};return Oe(Ne,je,[],Yt),(pt.plot||pt.calc)&&(pt.layoutReplot=!0),ct&&pt.nChanges&&pt.nChangesAnim&&(pt.anim=pt.nChanges===pt.nChangesAnim?"all":"some"),pt}function Oe(Me,Ne,je,tt){var ct,pt,Xt,Yt=tt.getValObject,Tt=tt.flags,_t=tt.immutable,Qt=tt.inArray,wr=tt.arrayIndex;function xt(){var He=ct.editType;if(Qt&&He.indexOf("arraydraw")!==-1){S.pushUnique(Tt.arrays[Qt],wr);return}C.update(Tt,ct),He!=="none"&&Tt.nChanges++,tt.transition&&ct.anim&&Tt.nChangesAnim++,(we.test(Xt)||Ee.test(Xt))&&(Tt.rangesAltered[je[0]]=1),xe.test(Xt)&&b(Ne,"_inputDomain").set(null),pt==="datarevision"&&(Tt.newDataRevision=1)}function jt(He){return He.valType==="data_array"||He.arrayOk}for(pt in Me){if(Tt.calc&&!tt.transition)return;var Jt=Me[pt],gr=Ne[pt],or=je.concat(pt);if(Xt=or.join("."),!(pt.charAt(0)==="_"||typeof Jt=="function"||Jt===gr)){if((pt==="tick0"||pt==="dtick")&&je[0]!=="geo"){var yt=Ne.tickmode;if(yt==="auto"||yt==="array"||!yt)continue}if(!(pt==="range"&&Ne.autorange)&&!((pt==="zmin"||pt==="zmax")&&Ne.type==="contourcarpet")&&(ct=Yt(or),!!ct&&!(ct._compareAsJSON&&JSON.stringify(Jt)===JSON.stringify(gr)))){var at=ct.valType,wt,Et=jt(ct),Rt=Array.isArray(Jt),Dt=Array.isArray(gr);if(Rt&&Dt){var Ut="_input_"+pt,Nt=Me[Ut],Kt=Ne[Ut];if(Array.isArray(Nt)&&Nt===Kt)continue}if(gr===void 0)Et&&Rt?Tt.calc=!0:xt();else if(ct._isLinkedToArray){var ur=[],fr=!1;Qt||(Tt.arrays[pt]=ur);var vr=Math.min(Jt.length,gr.length),We=Math.max(Jt.length,gr.length);if(vr!==We)if(ct.editType==="arraydraw")fr=!0;else{xt();continue}for(wt=0;wt<vr;wt++)Oe(Jt[wt],gr[wt],or.concat(wt),S.extendFlat({inArray:pt,arrayIndex:wt},tt));if(fr)for(wt=vr;wt<We;wt++)ur.push(wt)}else!at&&S.isPlainObject(Jt)?Oe(Jt,gr,or,tt):Et?Rt&&Dt?(_t&&(Tt.calc=!0),(_t||tt.newDataRevision)&&xt()):Rt!==Dt?Tt.calc=!0:xt():Rt&&Dt?(Jt.length!==gr.length||String(Jt)!==String(gr))&&xt():xt()}}}for(pt in Ne)if(!(pt in Me||pt.charAt(0)==="_"||typeof Ne[pt]=="function"))if(ct=Yt(je.concat(pt)),jt(ct)&&Array.isArray(Ne[pt])){Tt.calc=!0;return}else xt()}function Ye(Me,Ne){var je;for(je in Me)if(je.charAt(0)!=="_"){var tt=Me[je],ct=Ne[je];if(tt!==ct)if(S.isPlainObject(tt)&&S.isPlainObject(ct)){if(Ye(tt,ct))return!0}else if(Array.isArray(tt)&&Array.isArray(ct)){if(tt.length!==ct.length)return!0;for(var pt=0;pt<tt.length;pt++)if(tt[pt]!==ct[pt])if(S.isPlainObject(tt[pt])&&S.isPlainObject(ct[pt])){if(Ye(tt[pt],ct[pt]))return!0}else return!0}else return!0}}function Ze(Me,Ne,je){if(Me=S.getGraphDiv(Me),!S.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var tt=Me._transitionData;tt._frameQueue||(tt._frameQueue=[]),je=a.supplyAnimationDefaults(je);var ct=je.transition,pt=je.frame;tt._frameWaitingCnt===void 0&&(tt._frameWaitingCnt=0);function Xt(_t){return Array.isArray(ct)?_t>=ct.length?ct[0]:ct[_t]:ct}function Yt(_t){return Array.isArray(pt)?_t>=pt.length?pt[0]:pt[_t]:pt}function Tt(_t,Qt){var wr=0;return function(){if(_t&&++wr===Qt)return _t()}}return new Promise(function(_t,Qt){function wr(){if(tt._frameQueue.length!==0){for(;tt._frameQueue.length;){var vr=tt._frameQueue.pop();vr.onInterrupt&&vr.onInterrupt()}Me.emit("plotly_animationinterrupted",[])}}function xt(vr){if(vr.length!==0){for(var We=0;We<vr.length;We++){var He;vr[We].type==="byname"?He=a.computeFrame(Me,vr[We].name):He=vr[We].data;var zt=Yt(We),kt=Xt(We);kt.duration=Math.min(kt.duration,zt.duration);var Zt={frame:He,name:vr[We].name,frameOpts:zt,transitionOpts:kt};We===vr.length-1&&(Zt.onComplete=Tt(_t,2),Zt.onInterrupt=Qt),tt._frameQueue.push(Zt)}je.mode==="immediate"&&(tt._lastFrameAt=-1/0),tt._animationRaf||gr()}}function jt(){Me.emit("plotly_animated"),window.cancelAnimationFrame(tt._animationRaf),tt._animationRaf=null}function Jt(){tt._currentFrame&&tt._currentFrame.onComplete&&tt._currentFrame.onComplete();var vr=tt._currentFrame=tt._frameQueue.shift();if(vr){var We=vr.name?vr.name.toString():null;Me._fullLayout._currentFrame=We,tt._lastFrameAt=Date.now(),tt._timeToNext=vr.frameOpts.duration,a.transition(Me,vr.frame.data,vr.frame.layout,w.coerceTraceIndices(Me,vr.frame.traces),vr.frameOpts,vr.transitionOpts).then(function(){vr.onComplete&&vr.onComplete()}),Me.emit("plotly_animatingframe",{name:We,frame:vr.frame,animation:{frame:vr.frameOpts,transition:vr.transitionOpts}})}else jt()}function gr(){Me.emit("plotly_animating"),tt._lastFrameAt=-1/0,tt._timeToNext=0,tt._runningTransitions=0,tt._currentFrame=null;var vr=function(){tt._animationRaf=window.requestAnimationFrame(vr),Date.now()-tt._lastFrameAt>tt._timeToNext&&Jt()};vr()}var or=0;function yt(vr){return Array.isArray(ct)?or>=ct.length?vr.transitionOpts=ct[or]:vr.transitionOpts=ct[0]:vr.transitionOpts=ct,or++,vr}var at,wt,Et=[],Rt=Ne==null,Dt=Array.isArray(Ne),Ut=!Rt&&!Dt&&S.isPlainObject(Ne);if(Ut)Et.push({type:"object",data:yt(S.extendFlat({},Ne))});else if(Rt||["string","number"].indexOf(typeof Ne)!==-1)for(at=0;at<tt._frames.length;at++)wt=tt._frames[at],wt&&(Rt||String(wt.group)===String(Ne))&&Et.push({type:"byname",name:String(wt.name),data:yt({name:wt.name})});else if(Dt)for(at=0;at<Ne.length;at++){var Nt=Ne[at];["number","string"].indexOf(typeof Nt)!==-1?(Nt=String(Nt),Et.push({type:"byname",name:Nt,data:yt({name:Nt})})):S.isPlainObject(Nt)&&Et.push({type:"object",data:yt(S.extendFlat({},Nt))})}for(at=0;at<Et.length;at++)if(wt=Et[at],wt.type==="byname"&&!tt._frameHash[wt.data.name]){S.warn('animate failure: frame not found: "'+wt.data.name+'"'),Qt();return}["next","immediate"].indexOf(je.mode)!==-1&&wr(),je.direction==="reverse"&&Et.reverse();var Kt=Me._fullLayout._currentFrame;if(Kt&&je.fromcurrent){var ur=-1;for(at=0;at<Et.length;at++)if(wt=Et[at],wt.type==="byname"&&wt.name===Kt){ur=at;break}if(ur>0&&ur<Et.length-1){var fr=[];for(at=0;at<Et.length;at++)wt=Et[at],(Et[at].type!=="byname"||at>ur)&&fr.push(wt);Et=fr}}Et.length>0?xt(Et):(Me.emit("plotly_animated"),_t())})}function Ge(Me,Ne,je){if(Me=S.getGraphDiv(Me),Ne==null)return Promise.resolve();if(!S.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var tt,ct,pt,Xt,Yt=Me._transitionData._frames,Tt=Me._transitionData._frameHash;if(!Array.isArray(Ne))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Ne);var _t=Yt.length+Ne.length*2,Qt=[],wr={};for(tt=Ne.length-1;tt>=0;tt--)if(S.isPlainObject(Ne[tt])){var xt=Ne[tt].name,jt=(Tt[xt]||wr[xt]||{}).name,Jt=Ne[tt].name,gr=Tt[jt]||wr[jt];jt&&Jt&&typeof Jt=="number"&&gr&&E<M&&(E++,S.warn('addFrames: overwriting frame "'+(Tt[jt]||wr[jt]).name+'" with a frame whose name of type "number" also equates to "'+jt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),E===M&&S.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),wr[xt]={name:xt},Qt.push({frame:a.supplyFrameDefaults(Ne[tt]),index:je&&je[tt]!==void 0&&je[tt]!==null?je[tt]:_t+tt})}Qt.sort(function(Ut,Nt){return Ut.index>Nt.index?-1:Ut.index<Nt.index?1:0});var or=[],yt=[],at=Yt.length;for(tt=Qt.length-1;tt>=0;tt--){if(ct=Qt[tt].frame,typeof ct.name=="number"&&S.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!ct.name)for(;Tt[ct.name="frame "+Me._transitionData._counter++];);if(Tt[ct.name]){for(pt=0;pt<Yt.length&&(Yt[pt]||{}).name!==ct.name;pt++);or.push({type:"replace",index:pt,value:ct}),yt.unshift({type:"replace",index:pt,value:Yt[pt]})}else Xt=Math.max(0,Math.min(Qt[tt].index,at)),or.push({type:"insert",index:Xt,value:ct}),yt.unshift({type:"delete",index:Xt}),at++}var wt=a.modifyFrames,Et=a.modifyFrames,Rt=[Me,yt],Dt=[Me,or];return p&&p.add(Me,wt,Rt,Et,Dt),a.modifyFrames(Me,or)}function _e(Me,Ne){if(Me=S.getGraphDiv(Me),!S.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me);var je,tt,ct=Me._transitionData._frames,pt=[],Xt=[];if(!Ne)for(Ne=[],je=0;je<ct.length;je++)Ne.push(je);for(Ne=Ne.slice(),Ne.sort(),je=Ne.length-1;je>=0;je--)tt=Ne[je],pt.push({type:"delete",index:tt}),Xt.unshift({type:"insert",index:tt,value:ct[tt]});var Yt=a.modifyFrames,Tt=a.modifyFrames,_t=[Me,Xt],Qt=[Me,pt];return p&&p.add(Me,Yt,_t,Tt,Qt),a.modifyFrames(Me,pt)}function be(Me){Me=S.getGraphDiv(Me);var Ne=Me._fullLayout||{},je=Me._fullData||[];return a.cleanPlot([],{},je,Ne),a.purge(Me),v.purge(Me),Ne._container&&Ne._container.remove(),delete Me._context,Me}function me(Me){var Ne=Me._fullLayout,je=Me.getBoundingClientRect();if(!S.equalDomRects(je,Ne._lastBBox)){var tt=Ne._invTransform=S.inverseTransformMatrix(S.getFullTransformMatrix(Me));Ne._invScaleX=Math.sqrt(tt[0][0]*tt[0][0]+tt[0][1]*tt[0][1]+tt[0][2]*tt[0][2]),Ne._invScaleY=Math.sqrt(tt[1][0]*tt[1][0]+tt[1][1]*tt[1][1]+tt[1][2]*tt[1][2]),Ne._lastBBox=je}}function Ce(Me){var Ne=y.select(Me),je=Me._fullLayout;if(je._calcInverseTransform=me,je._calcInverseTransform(Me),je._container=Ne.selectAll(".plot-container").data([0]),je._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),je._paperdiv=je._container.selectAll(".svg-container").data([0]),je._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),je._glcontainer=je._paperdiv.selectAll(".gl-container").data([{}]),je._glcontainer.enter().append("div").classed("gl-container",!0),je._paperdiv.selectAll(".main-svg").remove(),je._paperdiv.select(".modebar-container").remove(),je._paper=je._paperdiv.insert("svg",":first-child").classed("main-svg",!0),je._toppaper=je._paperdiv.append("svg").classed("main-svg",!0),je._modebardiv=je._paperdiv.append("div"),delete je._modeBar,je._hoverpaper=je._paperdiv.append("svg").classed("main-svg",!0),!je._uid){var tt={};y.selectAll("defs").each(function(){this.id&&(tt[this.id.split("-")[1]]=1)}),je._uid=S.randstr(tt)}je._paperdiv.selectAll(".main-svg").attr(g.svgAttrs),je._defs=je._paper.append("defs").attr("id","defs-"+je._uid),je._clips=je._defs.append("g").classed("clips",!0),je._topdefs=je._toppaper.append("defs").attr("id","topdefs-"+je._uid),je._topclips=je._topdefs.append("g").classed("clips",!0),je._bgLayer=je._paper.append("g").classed("bglayer",!0),je._draggers=je._paper.append("g").classed("draglayer",!0);var ct=je._paper.append("g").classed("layer-below",!0);je._imageLowerLayer=ct.append("g").classed("imagelayer",!0),je._shapeLowerLayer=ct.append("g").classed("shapelayer",!0),je._cartesianlayer=je._paper.append("g").classed("cartesianlayer",!0),je._polarlayer=je._paper.append("g").classed("polarlayer",!0),je._smithlayer=je._paper.append("g").classed("smithlayer",!0),je._ternarylayer=je._paper.append("g").classed("ternarylayer",!0),je._geolayer=je._paper.append("g").classed("geolayer",!0),je._funnelarealayer=je._paper.append("g").classed("funnelarealayer",!0),je._pielayer=je._paper.append("g").classed("pielayer",!0),je._iciclelayer=je._paper.append("g").classed("iciclelayer",!0),je._treemaplayer=je._paper.append("g").classed("treemaplayer",!0),je._sunburstlayer=je._paper.append("g").classed("sunburstlayer",!0),je._indicatorlayer=je._toppaper.append("g").classed("indicatorlayer",!0),je._glimages=je._paper.append("g").classed("glimages",!0);var pt=je._toppaper.append("g").classed("layer-above",!0);je._imageUpperLayer=pt.append("g").classed("imagelayer",!0),je._shapeUpperLayer=pt.append("g").classed("shapelayer",!0),je._selectionLayer=je._toppaper.append("g").classed("selectionlayer",!0),je._infolayer=je._toppaper.append("g").classed("infolayer",!0),je._menulayer=je._toppaper.append("g").classed("menulayer",!0),je._zoomlayer=je._toppaper.append("g").classed("zoomlayer",!0),je._hoverlayer=je._hoverpaper.append("g").classed("hoverlayer",!0),je._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Me.emit("plotly_framework")}B.animate=Ze,B.addFrames=Ge,B.deleteFrames=_e,B.addTraces=Z,B.deleteTraces=G,B.extendTraces=q,B.moveTraces=K,B.prependTraces=Y,B.newPlot=N,B._doPlot=f,B.purge=be,B.react=mt,B.redraw=F,B.relayout=Se,B.restyle=oe,B.setPlotConfig=T,B.update=Ue,B._guiRelayout=Be(Se),B._guiRestyle=Be(oe),B._guiUpdate=Be(Ue),B._storeDirectGUIEdit=ie},20556:function(U){var B={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function y(L,i){for(var S in L){var b=L[S];b.valType?i[S]=b.dflt:(i[S]||(i[S]={}),y(b,i[S]))}}y(B,e),U.exports={configAttributes:B,dfltConfig:e}},73060:function(U,B,e){var y=e(24040),L=e(3400),i=e(45464),S=e(64859),b=e(16672),v=e(85656),p=e(20556).configAttributes,r=e(67824),t=L.extendDeepAll,a=L.isPlainObject,n=L.isArrayOrTypedArray,u=L.nestedProperty,s=L.valObjectMeta,l="_isSubplotObj",m="_isLinkedToArray",h="_arrayAttrRegexps",g="_deprecated",c=[l,m,h,g];B.IS_SUBPLOT_OBJ=l,B.IS_LINKED_TO_ARRAY=m,B.DEPRECATED=g,B.UNDERSCORE_ATTRS=c,B.get=function(){var V={};y.allTypes.forEach(function(N){V[N]=A(N)});var F={};return Object.keys(y.transformsRegistry).forEach(function(N){F[N]=x(N)}),{defs:{valObjects:s,metaKeys:c.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:V,layout:C(),transforms:F,frames:E(),animation:M(v),config:M(p)}},B.crawl=function(V,F,N,k){var I=N||0;k=k||"",Object.keys(V).forEach(function(H){var j=V[H];if(c.indexOf(H)===-1){var ee=(k?k+".":"")+H;F(j,H,V,I,ee),!B.isValObject(j)&&a(j)&&H!=="impliedEdits"&&B.crawl(j,F,I+1,ee)}})},B.isValObject=function(V){return V&&V.valType!==void 0},B.findArrayAttributes=function(V){var F=[],N=[],k=[],I,H;function j(Y,Z,G,K){N=N.slice(0,K).concat([Z]),k=k.slice(0,K).concat([Y&&Y._isLinkedToArray]);var oe=Y&&(Y.valType==="data_array"||Y.arrayOk===!0)&&!(N[K-1]==="colorbar"&&(Z==="ticktext"||Z==="tickvals"));oe&&ee(I,0,"")}function ee(Y,Z,G){var K=Y[N[Z]],oe=G+N[Z];if(Z===N.length-1)n(K)&&F.push(H+oe);else if(k[Z]){if(Array.isArray(K))for(var $=0;$<K.length;$++)a(K[$])&&ee(K[$],Z+1,oe+"["+$+"].")}else a(K)&&ee(K,Z+1,oe+".")}I=V,H="",B.crawl(i,j),V._module&&V._module.attributes&&B.crawl(V._module.attributes,j);var te=V.transforms;if(te)for(var ne=0;ne<te.length;ne++){var ue=te[ne],q=ue._module;q&&(H="transforms["+ne+"].",I=ue,B.crawl(q.attributes,j))}return F},B.getTraceValObject=function(V,F){var N=F[0],k=1,I,H;if(N==="transforms"){if(F.length===1)return i.transforms;var j=V.transforms;if(!Array.isArray(j)||!j.length)return!1;var ee=F[1];if(!w(ee)||ee>=j.length)return!1;I=(y.transformsRegistry[j[ee].type]||{}).attributes,H=I&&I[F[2]],k=3}else{var te=V._module;if(te||(te=(y.modules[V.type||i.type.dflt]||{})._module),!te)return!1;if(I=te.attributes,H=I&&I[N],!H){var ne=te.basePlotModule;ne&&ne.attributes&&(H=ne.attributes[N])}H||(H=i[N])}return d(H,F,k)},B.getLayoutValObject=function(V,F){var N=o(V,F[0]);return d(N,F,1)};function o(V,F){var N,k,I,H,j=V._basePlotModules;if(j){var ee;for(N=0;N<j.length;N++){if(I=j[N],I.attrRegex&&I.attrRegex.test(F)){if(I.layoutAttrOverrides)return I.layoutAttrOverrides;!ee&&I.layoutAttributes&&(ee=I.layoutAttributes)}var te=I.baseLayoutAttrOverrides;if(te&&F in te)return te[F]}if(ee)return ee}var ne=V._modules;if(ne){for(N=0;N<ne.length;N++)if(H=ne[N].layoutAttributes,H&&F in H)return H[F]}for(k in y.componentsRegistry){if(I=y.componentsRegistry[k],I.name==="colorscale"&&F.indexOf("coloraxis")===0)return I.layoutAttributes[F];if(!I.schema&&F===I.name)return I.layoutAttributes}return F in S?S[F]:!1}function d(V,F,N){if(!V)return!1;if(V._isLinkedToArray){if(w(F[N]))N++;else if(N<F.length)return!1}for(;N<F.length;N++){var k=V[F[N]];if(a(k))V=k;else break;if(N===F.length-1)break;if(V._isLinkedToArray){if(N++,!w(F[N]))return!1}else if(V.valType==="info_array"){N++;var I=F[N];if(!w(I))return!1;var H=V.items;if(Array.isArray(H)){if(I>=H.length)return!1;if(V.dimensions===2){if(N++,F.length===N)return V;var j=F[N];if(!w(j))return!1;V=H[I][j]}else V=H[I]}else V=H}}return V}function w(V){return V===Math.round(V)&&V>=0}function A(V){var F,N;F=y.modules[V]._module,N=F.basePlotModule;var k={};k.type=null;var I=t({},i),H=t({},F.attributes);B.crawl(H,function(te,ne,ue,q,Y){u(I,Y).set(void 0),te===void 0&&u(H,Y).set(void 0)}),t(k,I),y.traceIs(V,"noOpacity")&&delete k.opacity,y.traceIs(V,"showLegend")||(delete k.showlegend,delete k.legendgroup),y.traceIs(V,"noHover")&&(delete k.hoverinfo,delete k.hoverlabel),F.selectPoints||delete k.selectedpoints,t(k,H),N.attributes&&t(k,N.attributes),k.type=V;var j={meta:F.meta||{},categories:F.categories||{},animatable:!!F.animatable,type:V,attributes:M(k)};if(F.layoutAttributes){var ee={};t(ee,F.layoutAttributes),j.layoutAttributes=M(ee)}return F.animatable||B.crawl(j,function(te){B.isValObject(te)&&"anim"in te&&delete te.anim}),j}function C(){var V={},F,N;t(V,S);for(F in y.subplotsRegistry)if(N=y.subplotsRegistry[F],!!N.layoutAttributes)if(Array.isArray(N.attr))for(var k=0;k<N.attr.length;k++)z(V,N,N.attr[k]);else{var I=N.attr==="subplot"?N.name:N.attr;z(V,N,I)}for(F in y.componentsRegistry){N=y.componentsRegistry[F];var H=N.schema;if(H&&(H.subplots||H.layout)){var j=H.subplots;if(j&&j.xaxis&&!j.yaxis)for(var ee in j.xaxis)delete V.yaxis[ee];delete V.xaxis.shift,delete V.xaxis.autoshift}else N.name==="colorscale"?t(V,N.layoutAttributes):N.layoutAttributes&&_(V,N.layoutAttributes,N.name)}return{layoutAttributes:M(V)}}function x(V){var F=y.transformsRegistry[V],N=t({},F.attributes);return Object.keys(y.componentsRegistry).forEach(function(k){var I=y.componentsRegistry[k];I.schema&&I.schema.transforms&&I.schema.transforms[V]&&Object.keys(I.schema.transforms[V]).forEach(function(H){_(N,I.schema.transforms[V][H],H)})}),{attributes:M(N)}}function E(){var V={frames:t({},b)};return M(V),V.frames}function M(V){return f(V),P(V),T(V),V}function f(V){function F(k){return{valType:"string",editType:"none"}}function N(k,I,H){B.isValObject(k)?(k.arrayOk===!0||k.valType==="data_array")&&(H[I+"src"]=F()):a(k)&&(k.role="object")}B.crawl(V,N)}function P(V){function F(N,k,I){if(N){var H=N[m];H&&(delete N[m],I[k]={items:{}},I[k].items[H]=N,I[k].role="object")}}B.crawl(V,F)}function T(V){function F(N){for(var k in N)if(a(N[k]))F(N[k]);else if(Array.isArray(N[k]))for(var I=0;I<N[k].length;I++)F(N[k][I]);else N[k]instanceof RegExp&&(N[k]=N[k].toString())}F(V)}function z(V,F,N){var k=u(V,N),I=t({},F.layoutAttributes);I[l]=!0,k.set(I)}function _(V,F,N){var k=u(V,N);k.set(t(k.get()||{},F))}},31780:function(U,B,e){var y=e(3400),L=e(45464),i="templateitemname",S={name:{valType:"string",editType:"none"}};S[i]={valType:"string",editType:"calc"},B.templatedArray=function(p,r){return r._isLinkedToArray=p,r.name=S.name,r[i]=S[i],r},B.traceTemplater=function(p){var r={},t,a;for(t in p)a=p[t],Array.isArray(a)&&a.length&&(r[t]=0);function n(u){t=y.coerce(u,{},L,"type");var s={type:t,_template:null};if(t in r){a=p[t];var l=r[t]%a.length;r[t]++,s._template=a[l]}return s}return{newTrace:n}},B.newContainer=function(p,r,t){var a=p._template,n=a&&(a[r]||t&&a[t]);y.isPlainObject(n)||(n=null);var u=p[r]={_template:n};return u},B.arrayTemplater=function(p,r,t){var a=p._template,n=a&&a[v(r)],u=a&&a[r];(!Array.isArray(u)||!u.length)&&(u=[]);var s={};function l(h){var g={name:h.name,_input:h},c=g[i]=h[i];if(!b(c))return g._template=n,g;for(var o=0;o<u.length;o++){var d=u[o];if(d.name===c)return s[c]=1,g._template=d,g}return g[t]=h[t]||!1,g._template=!1,g}function m(){for(var h=[],g=0;g<u.length;g++){var c=u[g],o=c.name;if(b(o)&&!s[o]){var d={_template:c,name:o,_input:{_templateitemname:o}};d[i]=c[i],h.push(d),s[o]=1}}return h}return{newItem:l,defaultItems:m}};function b(p){return p&&typeof p=="string"}function v(p){var r=p.length-1;return p.charAt(r)!=="s"&&y.warn("bad argument to arrayDefaultKey: "+p),p.substr(0,p.length-1)+"defaults"}B.arrayDefaultKey=v,B.arrayEditor=function(p,r,t){var a=(y.nestedProperty(p,r).get()||[]).length,n=t._index,u=n>=a&&(t._input||{})._templateitemname;u&&(n=a);var s=r+"["+n+"]",l;function m(){l={},u&&(l[s]={},l[s][i]=u)}m();function h(d,w){l[d]=w}function g(d,w){u?y.nestedProperty(l[s],d).set(w):l[s+"."+d]=w}function c(){var d=l;return m(),d}function o(d,w){d&&g(d,w);var A=c();for(var C in A)y.nestedProperty(p,C).set(A[C])}return{modifyBase:h,modifyItem:g,getUpdateObj:c,applyUpdate:o}}},39172:function(U,B,e){var y=e(33428),L=e(24040),i=e(7316),S=e(3400),b=e(72736),v=e(73696),p=e(76308),r=e(43616),t=e(81668),a=e(45460),n=e(54460),u=e(84284),s=e(71888),l=s.enforce,m=s.clean,h=e(19280).doAutoRange,g="start",c="middle",o="end";B.layoutStyles=function(N){return S.syncOrAsync([i.doAutoMargin,w],N)};function d(N,k,I){for(var H=0;H<I.length;H++){var j=I[H][0],ee=I[H][1];if(!(j[0]>=N[1]||j[1]<=N[0])&&ee[0]<k[1]&&ee[1]>k[0])return!0}return!1}function w(N){var k=N._fullLayout,I=k._size,H=I.p,j=n.list(N,"",!0),ee,te,ne,ue,q,Y;if(k._paperdiv.style({width:N._context.responsive&&k.autosize&&!N._context._hasZeroWidth&&!N.layout.width?"100%":k.width+"px",height:N._context.responsive&&k.autosize&&!N._context._hasZeroHeight&&!N.layout.height?"100%":k.height+"px"}).selectAll(".main-svg").call(r.setSize,k.width,k.height),N._context.setBackground(N,k.paper_bgcolor),B.drawMainTitle(N),a.manage(N),!k._has("cartesian"))return i.previousPromises(N);function Z(be,me,Ce){var Me=be._lw/2;if(be._id.charAt(0)==="x"){if(me){if(Ce==="top")return me._offset-H-Me}else return I.t+I.h*(1-(be.position||0))+Me%1;return me._offset+me._length+H+Me}if(me){if(Ce==="right")return me._offset+me._length+H+Me}else return I.l+I.w*(be.position||0)+Me%1;return me._offset-H-Me}for(ee=0;ee<j.length;ee++){ue=j[ee];var G=ue._anchorAxis;ue._linepositions={},ue._lw=r.crispRound(N,ue.linewidth,1),ue._mainLinePosition=Z(ue,G,ue.side),ue._mainMirrorPosition=ue.mirror&&G?Z(ue,G,u.OPPOSITE_SIDE[ue.side]):null}var K=[],oe=[],$=[],J=p.opacity(k.paper_bgcolor)===1&&p.opacity(k.plot_bgcolor)===1&&k.paper_bgcolor===k.plot_bgcolor;for(te in k._plots)if(ne=k._plots[te],ne.mainplot)ne.bg&&ne.bg.remove(),ne.bg=void 0;else{var se=ne.xaxis.domain,ie=ne.yaxis.domain,ce=ne.plotgroup;if(d(se,ie,$)){var ye=ce.node(),Se=ne.bg=S.ensureSingle(ce,"rect","bg");ye.insertBefore(Se.node(),ye.childNodes[0]),oe.push(te)}else ce.select("rect.bg").remove(),$.push([se,ie]),J||(K.push(te),oe.push(te))}var Te=k._bgLayer.selectAll(".bg").data(K);for(Te.enter().append("rect").classed("bg",!0),Te.exit().remove(),Te.each(function(be){k._plots[be].bg=y.select(this)}),ee=0;ee<oe.length;ee++)ne=k._plots[oe[ee]],q=ne.xaxis,Y=ne.yaxis,ne.bg&&q._offset!==void 0&&Y._offset!==void 0&&ne.bg.call(r.setRect,q._offset-H,Y._offset-H,q._length+2*H,Y._length+2*H).call(p.fill,k.plot_bgcolor).style("stroke-width",0);if(!k._hasOnlyLargeSploms)for(te in k._plots){ne=k._plots[te],q=ne.xaxis,Y=ne.yaxis;var ke=ne.clipId="clip"+k._uid+te+"plot",we=S.ensureSingleById(k._clips,"clipPath",ke,function(be){be.classed("plotclip",!0).append("rect")});ne.clipRect=we.select("rect").attr({width:q._length,height:Y._length}),r.setTranslate(ne.plot,q._offset,Y._offset);var Ee,xe;ne._hasClipOnAxisFalse?(Ee=null,xe=ke):(Ee=ke,xe=null),r.setClipUrl(ne.plot,Ee,N),ne.layerClipId=xe}var De,Ve,Ue,Be,Xe,ot,ut,et,qe,ft,ht,dt,mt;function St(be){return"M"+De+","+be+"H"+Ve}function rt(be){return"M"+q._offset+","+be+"h"+q._length}function Oe(be){return"M"+be+","+et+"V"+ut}function Ye(be){return Y._shift!==void 0&&(be+=Y._shift),"M"+be+","+Y._offset+"v"+Y._length}function Ze(be,me,Ce){if(!be.showline||te!==be._mainSubplot)return"";if(!be._anchorAxis)return Ce(be._mainLinePosition);var Me=me(be._mainLinePosition);return be.mirror&&(Me+=me(be._mainMirrorPosition)),Me}for(te in k._plots){ne=k._plots[te],q=ne.xaxis,Y=ne.yaxis;var Ge="M0,0";A(q,te)&&(Xe=x(q,"left",Y,j),De=q._offset-(Xe?H+Xe:0),ot=x(q,"right",Y,j),Ve=q._offset+q._length+(ot?H+ot:0),Ue=Z(q,Y,"bottom"),Be=Z(q,Y,"top"),mt=!q._anchorAxis||te!==q._mainSubplot,mt&&(q.mirror==="allticks"||q.mirror==="all")&&(q._linepositions[te]=[Ue,Be]),Ge=Ze(q,St,rt),mt&&q.showline&&(q.mirror==="all"||q.mirror==="allticks")&&(Ge+=St(Ue)+St(Be)),ne.xlines.style("stroke-width",q._lw+"px").call(p.stroke,q.showline?q.linecolor:"rgba(0,0,0,0)")),ne.xlines.attr("d",Ge);var _e="M0,0";A(Y,te)&&(ht=x(Y,"bottom",q,j),ut=Y._offset+Y._length+(ht?H:0),dt=x(Y,"top",q,j),et=Y._offset-(dt?H:0),qe=Z(Y,q,"left"),ft=Z(Y,q,"right"),mt=!Y._anchorAxis||te!==Y._mainSubplot,mt&&(Y.mirror==="allticks"||Y.mirror==="all")&&(Y._linepositions[te]=[qe,ft]),_e=Ze(Y,Oe,Ye),mt&&Y.showline&&(Y.mirror==="all"||Y.mirror==="allticks")&&(_e+=Oe(qe)+Oe(ft)),ne.ylines.style("stroke-width",Y._lw+"px").call(p.stroke,Y.showline?Y.linecolor:"rgba(0,0,0,0)")),ne.ylines.attr("d",_e)}return n.makeClipPaths(N),i.previousPromises(N)}function A(N,k){return(N.ticks||N.showline)&&(k===N._mainSubplot||N.mirror==="all"||N.mirror==="allticks")}function C(N,k,I){if(!I.showline||!I._lw)return!1;if(I.mirror==="all"||I.mirror==="allticks")return!0;var H=I._anchorAxis;if(!H)return!1;var j=u.FROM_BL[k];return I.side===k?H.domain[j]===N.domain[j]:I.mirror&&H.domain[1-j]===N.domain[1-j]}function x(N,k,I,H){if(C(N,k,I))return I._lw;for(var j=0;j<H.length;j++){var ee=H[j];if(ee._mainAxis===I._mainAxis&&C(N,k,ee))return ee._lw}return 0}B.drawMainTitle=function(N){var k=N._fullLayout.title,I=N._fullLayout,H=V(I),j=F(I),ee=z(I,j),te=T(I,H);if(t.draw(N,"gtitle",{propContainer:I,propName:"title.text",placeholder:I._dfltTitle.plot,attributes:{x:te,y:ee,"text-anchor":H,dy:j}}),k.text&&k.automargin){var ne=y.selectAll(".gtitle"),ue=r.bBox(ne.node()).height,q=f(N,k,ue);if(q>0){P(N,ee,q,ue),ne.attr({x:te,y:ee,"text-anchor":H,dy:_(k.yanchor)}).call(b.positionText,te,ee);var Y=(k.text.match(b.BR_TAG_ALL)||[]).length;if(Y){var Z=u.LINE_SPACING*Y+u.MID_SHIFT;k.y===0&&(Z=-Z),ne.selectAll(".line").each(function(){var G=+this.getAttribute("dy").slice(0,-2)-Z+"em";this.setAttribute("dy",G)})}}}};function E(N,k,I,H,j){var ee=k.yref==="paper"?N._fullLayout._size.h:N._fullLayout.height,te=S.isTopAnchor(k)?H:H-j,ne=I==="b"?ee-te:te;return S.isTopAnchor(k)&&I==="t"||S.isBottomAnchor(k)&&I==="b"?!1:ne<j}function M(N,k,I,H,j){var ee=0;return I==="middle"&&(ee+=j/2),N==="t"?(I==="top"&&(ee+=j),ee+=H-k*H):(I==="bottom"&&(ee+=j),ee+=k*H),ee}function f(N,k,I){var H=k.y,j=k.yanchor,ee=H>.5?"t":"b",te=N._fullLayout.margin[ee],ne=0;return k.yref==="paper"?ne=I+k.pad.t+k.pad.b:k.yref==="container"&&(ne=M(ee,H,j,N._fullLayout.height,I)+k.pad.t+k.pad.b),ne>te?ne:0}function P(N,k,I,H){var j="title.automargin",ee=N._fullLayout.title,te=ee.y>.5?"t":"b",ne={x:ee.x,y:ee.y,t:0,b:0},ue={};ee.yref==="paper"&&E(N,ee,te,k,H)?ne[te]=I:ee.yref==="container"&&(ue[te]=I,N._fullLayout._reservedMargin[j]=ue),i.allowAutoMargin(N,j),i.autoMargin(N,j,ne)}function T(N,k){var I=N.title,H=N._size,j=0;switch(k===g?j=I.pad.l:k===o&&(j=-I.pad.r),I.xref){case"paper":return H.l+H.w*I.x+j;case"container":default:return N.width*I.x+j}}function z(N,k){var I=N.title,H=N._size,j=0;if(k==="0em"||!k?j=-I.pad.b:k===u.CAP_SHIFT+"em"&&(j=I.pad.t),I.y==="auto")return H.t/2;switch(I.yref){case"paper":return H.t+H.h-H.h*I.y+j;case"container":default:return N.height-N.height*I.y+j}}function _(N){return N==="top"?u.CAP_SHIFT+.3+"em":N==="bottom"?"-0.3em":u.MID_SHIFT+"em"}function V(N){var k=N.title,I=c;return S.isRightAnchor(k)?I=o:S.isLeftAnchor(k)&&(I=g),I}function F(N){var k=N.title,I="0em";return S.isTopAnchor(k)?I=u.CAP_SHIFT+"em":S.isMiddleAnchor(k)&&(I=u.MID_SHIFT+"em"),I}B.doTraceStyle=function(N){var k=N.calcdata,I=[],H;for(H=0;H<k.length;H++){var j=k[H],ee=j[0]||{},te=ee.trace||{},ne=te._module||{},ue=ne.arraysToCalcdata;ue&&ue(j,te);var q=ne.editStyle;q&&I.push({fn:q,cd0:ee})}if(I.length){for(H=0;H<I.length;H++){var Y=I[H];Y.fn(N,Y.cd0)}v(N),B.redrawReglTraces(N)}return i.style(N),L.getComponentMethod("legend","draw")(N),i.previousPromises(N)},B.doColorBars=function(N){return L.getComponentMethod("colorbar","draw")(N),i.previousPromises(N)},B.layoutReplot=function(N){var k=N.layout;return N.layout=void 0,L.call("_doPlot",N,"",k)},B.doLegend=function(N){return L.getComponentMethod("legend","draw")(N),i.previousPromises(N)},B.doTicksRelayout=function(N){return n.draw(N,"redraw"),N._fullLayout._hasOnlyLargeSploms&&(L.subplotsRegistry.splom.updateGrid(N),v(N),B.redrawReglTraces(N)),B.drawMainTitle(N),i.previousPromises(N)},B.doModeBar=function(N){var k=N._fullLayout;a.manage(N);for(var I=0;I<k._basePlotModules.length;I++){var H=k._basePlotModules[I].updateFx;H&&H(N)}return i.previousPromises(N)},B.doCamera=function(N){for(var k=N._fullLayout,I=k._subplots.gl3d,H=0;H<I.length;H++){var j=k[I[H]],ee=j._scene;ee.setViewport(j)}},B.drawData=function(N){var k=N._fullLayout;v(N);for(var I=k._basePlotModules,H=0;H<I.length;H++)I[H].plot(N);return B.redrawReglTraces(N),i.style(N),L.getComponentMethod("selections","draw")(N),L.getComponentMethod("shapes","draw")(N),L.getComponentMethod("annotations","draw")(N),L.getComponentMethod("images","draw")(N),k._replotting=!1,i.previousPromises(N)},B.redrawReglTraces=function(N){var k=N._fullLayout;if(k._has("regl")){var I=N._fullData,H=[],j=[],ee,te;for(k._hasOnlyLargeSploms&&k._splomGrid.draw(),ee=0;ee<I.length;ee++){var ne=I[ee];ne.visible===!0&&ne._length!==0&&(ne.type==="splom"?k._splomScenes[ne.uid].draw():ne.type==="scattergl"?S.pushUnique(H,ne.xaxis+ne.yaxis):ne.type==="scatterpolargl"&&S.pushUnique(j,ne.subplot))}for(ee=0;ee<H.length;ee++)te=k._plots[H[ee]],te._scene&&te._scene.draw();for(ee=0;ee<j.length;ee++)te=k[j[ee]]._subplot,te._scene&&te._scene.draw()}},B.doAutoRangeAndConstraints=function(N){for(var k=n.list(N,"",!0),I,H={},j=0;j<k.length;j++)if(I=k[j],!H[I._id]){H[I._id]=1,m(N,I),h(N,I);var ee=I._matchGroup;if(ee)for(var te in ee){var ne=n.getFromId(N,te);h(N,ne,I.range),H[te]=1}}l(N)},B.finalDraw=function(N){L.getComponentMethod("rangeslider","draw")(N),L.getComponentMethod("rangeselector","draw")(N)},B.drawMarginPushers=function(N){L.getComponentMethod("legend","draw")(N),L.getComponentMethod("rangeselector","draw")(N),L.getComponentMethod("sliders","draw")(N),L.getComponentMethod("updatemenus","draw")(N),L.getComponentMethod("colorbar","draw")(N)}},94828:function(U,B,e){var y=e(3400),L=y.isPlainObject,i=e(73060),S=e(7316),b=e(45464),v=e(31780),p=e(20556).dfltConfig;B.makeTemplate=function(h){h=y.isPlainObject(h)?h:y.getGraphDiv(h),h=y.extendDeep({_context:p},{data:h.data,layout:h.layout}),S.supplyDefaults(h);var g=h.data||[],c=h.layout||{};c._basePlotModules=h._fullLayout._basePlotModules,c._modules=h._fullLayout._modules;var o={data:{},layout:{}};g.forEach(function(T){var z={};a(T,z,u.bind(null,T));var _=y.coerce(T,{},b,"type"),V=o.data[_];V||(V=o.data[_]=[]),V.push(z)}),a(c,o.layout,n.bind(null,c)),delete o.layout.template;var d=c.template;if(L(d)){var w=d.layout,A,C,x,E,M,f;L(w)&&r(w,o.layout);var P=d.data;if(L(P)){for(C in o.data)if(x=P[C],Array.isArray(x)){for(M=o.data[C],f=M.length,E=x.length,A=0;A<f;A++)r(x[A%E],M[A]);for(A=f;A<E;A++)M.push(y.extendDeep({},x[A]))}for(C in P)C in o.data||(o.data[C]=y.extendDeep([],P[C]))}}return o};function r(h,g){h=y.extendDeep({},h);var c=Object.keys(h).sort(),o,d;function w(M,f,P){if(L(f)&&L(M))r(M,f);else if(Array.isArray(f)&&Array.isArray(M)){var T=v.arrayTemplater({_template:h},P);for(d=0;d<f.length;d++){var z=f[d],_=T.newItem(z)._template;_&&r(_,z)}var V=T.defaultItems();for(d=0;d<V.length;d++)f.push(V[d]._template);for(d=0;d<f.length;d++)delete f[d].templateitemname}}for(o=0;o<c.length;o++){var A=c[o],C=h[A];if(A in g?w(C,g[A],A):g[A]=C,t(A)===A)for(var x in g){var E=t(x);x!==E&&E===A&&!(x in h)&&w(C,g[x],A)}}}function t(h){return h.replace(/[0-9]+$/,"")}function a(h,g,c,o,d){var w=d&&c(d);for(var A in h){var C=h[A],x=s(h,A,o),E=s(h,A,d),M=c(E);if(!M){var f=t(A);f!==A&&(E=s(h,f,d),M=c(E))}if(!(w&&w===M)&&!(!M||M._noTemplating||M.valType==="data_array"||M.arrayOk&&Array.isArray(C)))if(!M.valType&&L(C))a(C,g,c,x,E);else if(M._isLinkedToArray&&Array.isArray(C))for(var P=!1,T=0,z={},_=0;_<C.length;_++){var V=C[_];if(L(V)){var F=V.name;if(F)z[F]||(a(V,g,c,s(C,T,x),s(C,T,E)),T++,z[F]=1);else if(!P){var N=v.arrayDefaultKey(A),k=s(h,N,o),I=s(C,T,x);a(V,g,c,I,s(C,T,E));var H=y.nestedProperty(g,I),j=y.nestedProperty(g,k);j.set(H.get()),H.set(null),P=!0}}}else{var ee=y.nestedProperty(g,x);ee.set(C)}}}function n(h,g){return i.getLayoutValObject(h,y.nestedProperty({},g).parts)}function u(h,g){return i.getTraceValObject(h,y.nestedProperty({},g).parts)}function s(h,g,c){var o;return c?Array.isArray(h)?o=c+"["+g+"]":o=c+"."+g:o=g,o}B.validateTemplate=function(h,g){var c=y.extendDeep({},{_context:p,data:h.data,layout:h.layout}),o=c.layout||{};L(g)||(g=o.template||{});var d=g.layout,w=g.data,A=[];c.layout=o,c.layout.template=g,S.supplyDefaults(c);var C=c._fullLayout,x=c._fullData,E={};function M(k,I){for(var H in k)if(H.charAt(0)!=="_"&&L(k[H])){var j=t(H),ee=[],te;for(te=0;te<I.length;te++)ee.push(s(k,H,I[te])),j!==H&&ee.push(s(k,j,I[te]));for(te=0;te<ee.length;te++)E[ee[te]]=1;M(k[H],ee)}}function f(k,I){for(var H in k)if(H.indexOf("defaults")===-1&&L(k[H])){var j=s(k,H,I);E[j]?f(k[H],j):A.push({code:"unused",path:j})}}if(L(d)?(M(C,["layout"]),f(d,"layout")):A.push({code:"layout"}),!L(w))A.push({code:"data"});else{for(var P={},T,z=0;z<x.length;z++){var _=x[z];T=_.type,P[T]=(P[T]||0)+1,_._fullInput._template||A.push({code:"missing",index:_._fullInput.index,traceType:T})}for(T in w){var V=w[T].length,F=P[T]||0;V>F?A.push({code:"unused",traceType:T,templateCount:V,dataCount:F}):F>V&&A.push({code:"reused",traceType:T,templateCount:V,dataCount:F})}}function N(k,I){for(var H in k)if(H.charAt(0)!=="_"){var j=k[H],ee=s(k,H,I);L(j)?(Array.isArray(k)&&j._template===!1&&j.templateitemname&&A.push({code:"missing",path:ee,templateitemname:j.templateitemname}),N(j,ee)):Array.isArray(j)&&l(j)&&N(j,ee)}}if(N({data:x,layout:C},""),A.length)return A.map(m)};function l(h){for(var g=0;g<h.length;g++)if(L(h[g]))return!0}function m(h){var g;switch(h.code){case"data":g="The template has no key data.";break;case"layout":g="The template has no key layout.";break;case"missing":h.path?g="There are no templates for item "+h.path+" with name "+h.templateitemname:g="There are no templates for trace "+h.index+", of type "+h.traceType+".";break;case"unused":h.path?g="The template item at "+h.path+" was not used in constructing the plot.":h.dataCount?g="Some of the templates of type "+h.traceType+" were not used. The template has "+h.templateCount+" traces, the data only has "+h.dataCount+" of this type.":g="The template has "+h.templateCount+" traces of type "+h.traceType+" but there are none in the data.";break;case"reused":g="Some of the templates of type "+h.traceType+" were used more than once. The template has "+h.templateCount+" traces, the data has "+h.dataCount+" of this type.";break}return h.msg=g,h}},67024:function(U,B,e){var y=e(38248),L=e(36424),i=e(7316),S=e(3400),b=e(81792),v=e(37164),p=e(63268),r=e(25788).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function a(n,u){u=u||{};var s,l,m,h;S.isPlainObject(n)?(s=n.data||[],l=n.layout||{},m=n.config||{},h={}):(n=S.getGraphDiv(n),s=S.extendDeep([],n.data),l=S.extendDeep({},n.layout),m=n._context,h=n._fullLayout||{});function g(F){return!(F in u)||S.validate(u[F],t[F])}if(!g("width")&&u.width!==null||!g("height")&&u.height!==null)throw new Error("Height and width should be pixel values.");if(!g("format"))throw new Error("Export format is not "+S.join2(t.format.values,", "," or ")+".");var c={};function o(F,N){return S.coerce(u,c,t,F,N)}var d=o("format"),w=o("width"),A=o("height"),C=o("scale"),x=o("setBackground"),E=o("imageDataOnly"),M=document.createElement("div");M.style.position="absolute",M.style.left="-5000px",document.body.appendChild(M);var f=S.extendFlat({},l);w?f.width=w:u.width===null&&y(h.width)&&(f.width=h.width),A?f.height=A:u.height===null&&y(h.height)&&(f.height=h.height);var P=S.extendFlat({},m,{_exportedPlot:!0,staticPlot:!0,setBackground:x}),T=b.getRedrawFunc(M);function z(){return new Promise(function(F){setTimeout(F,b.getDelay(M._fullLayout))})}function _(){return new Promise(function(F,N){var k=v(M,d,C),I=M._fullLayout.width,H=M._fullLayout.height;function j(){L.purge(M),document.body.removeChild(M)}if(d==="full-json"){var ee=i.graphJson(M,!1,"keepdata","object",!0,!0);return ee.version=r,ee=JSON.stringify(ee),j(),F(E?ee:b.encodeJSON(ee))}if(j(),d==="svg")return F(E?k:b.encodeSVG(k));var te=document.createElement("canvas");te.id=S.randstr(),p({format:d,width:I,height:H,scale:C,canvas:te,svg:k,promise:!0}).then(F).catch(N)})}function V(F){return E?F.replace(b.IMAGE_URL_PREFIX,""):F}return new Promise(function(F,N){L.newPlot(M,s,f,P).then(T).then(z).then(_).then(function(k){F(V(k))}).catch(function(k){N(k)})})}U.exports=a},21480:function(U,B,e){var y=e(3400),L=e(7316),i=e(73060),S=e(20556).dfltConfig,b=y.isPlainObject,v=Array.isArray,p=y.isArrayOrTypedArray;U.exports=function(o,d){o===void 0&&(o=[]),d===void 0&&(d={});var w=i.get(),A=[],C={_context:y.extendFlat({},S)},x,E;v(o)?(C.data=y.extendDeep([],o),x=o):(C.data=[],x=[],A.push(u("array","data"))),b(d)?(C.layout=y.extendDeep({},d),E=d):(C.layout={},E={},arguments.length>1&&A.push(u("object","layout"))),L.supplyDefaults(C);for(var M=C._fullData,f=x.length,P=0;P<f;P++){var T=x[P],z=["data",P];if(!b(T)){A.push(u("object",z));continue}var _=M[P],V=_.type,F=w.traces[V].attributes;F.type={valType:"enumerated",values:[V]},_.visible===!1&&T.visible!==!1&&A.push(u("invisible",z)),r(T,_,F,A,z);var N=T.transforms,k=_.transforms;if(N){v(N)||A.push(u("array",z,["transforms"])),z.push("transforms");for(var I=0;I<N.length;I++){var H=["transforms",I],j=N[I].type;if(!b(N[I])){A.push(u("object",z,H));continue}var ee=w.transforms[j]?w.transforms[j].attributes:{};ee.type={valType:"enumerated",values:Object.keys(w.transforms)},r(N[I],k[I],ee,A,z,H)}}}var te=C._fullLayout,ne=t(w,M);return r(E,te,ne,A,"layout"),A.length===0?void 0:A};function r(c,o,d,w,A,C){C=C||[];for(var x=Object.keys(c),E=0;E<x.length;E++){var M=x[E];if(M!=="transforms"){var f=C.slice();f.push(M);var P=c[M],T=o[M],z=l(d,M),_=(z||{}).valType,V=_==="info_array",F=_==="colorscale",N=(z||{}).items;if(!s(d,M))w.push(u("schema",A,f));else if(b(P)&&b(T)&&_!=="any")r(P,T,z,w,A,f);else if(V&&v(P)){P.length>T.length&&w.push(u("unused",A,f.concat(T.length)));var k=T.length,I=Array.isArray(N);I&&(k=Math.min(k,N.length));var H,j,ee,te,ne;if(z.dimensions===2)for(j=0;j<k;j++)if(v(P[j])){P[j].length>T[j].length&&w.push(u("unused",A,f.concat(j,T[j].length)));var ue=T[j].length;for(H=0;H<(I?Math.min(ue,N[j].length):ue);H++)ee=I?N[j][H]:N,te=P[j][H],ne=T[j][H],y.validate(te,ee)?ne!==te&&ne!==+te&&w.push(u("dynamic",A,f.concat(j,H),te,ne)):w.push(u("value",A,f.concat(j,H),te))}else w.push(u("array",A,f.concat(j),P[j]));else for(j=0;j<k;j++)ee=I?N[j]:N,te=P[j],ne=T[j],y.validate(te,ee)?ne!==te&&ne!==+te&&w.push(u("dynamic",A,f.concat(j),te,ne)):w.push(u("value",A,f.concat(j),te))}else if(z.items&&!V&&v(P)){var q=N[Object.keys(N)[0]],Y=[],Z,G;for(Z=0;Z<T.length;Z++){var K=T[Z]._index||Z;if(G=f.slice(),G.push(K),b(P[K])&&b(T[Z])){Y.push(K);var oe=P[K],$=T[Z];b(oe)&&oe.visible!==!1&&$.visible===!1?w.push(u("invisible",A,G)):r(oe,$,q,w,A,G)}}for(Z=0;Z<P.length;Z++)G=f.slice(),G.push(Z),b(P[Z])?Y.indexOf(Z)===-1&&w.push(u("unused",A,G)):w.push(u("object",A,G,P[Z]))}else!b(P)&&b(T)?w.push(u("object",A,f,P)):!p(P)&&p(T)&&!V&&!F?w.push(u("array",A,f,P)):M in o?y.validate(P,z)?z.valType==="enumerated"&&(z.coerceNumber&&P!==+T||P!==T)&&w.push(u("dynamic",A,f,P,T)):w.push(u("value",A,f,P)):w.push(u("unused",A,f,P))}}return w}function t(c,o){for(var d=c.layout.layoutAttributes,w=0;w<o.length;w++){var A=o[w],C=c.traces[A.type],x=C.layoutAttributes;x&&(A.subplot?y.extendFlat(d[C.attributes.subplot.dflt],x):y.extendFlat(d,x))}return d}var a={object:function(c,o){var d;return c==="layout"&&o===""?d="The layout argument":c[0]==="data"&&o===""?d="Trace "+c[1]+" in the data argument":d=n(c)+"key "+o,d+" must be linked to an object container"},array:function(c,o){var d;return c==="data"?d="The data argument":d=n(c)+"key "+o,d+" must be linked to an array container"},schema:function(c,o){return n(c)+"key "+o+" is not part of the schema"},unused:function(c,o,d){var w=b(d)?"container":"key";return n(c)+w+" "+o+" did not get coerced"},dynamic:function(c,o,d,w){return[n(c)+"key",o,"(set to '"+d+"')","got reset to","'"+w+"'","during defaults."].join(" ")},invisible:function(c,o){return(o?n(c)+"item "+o:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,o,d){return[n(c)+"key "+o,"is set to an invalid value ("+d+")"].join(" ")}};function n(c){return v(c)?"In data trace "+c[1]+", ":"In "+c+", "}function u(c,o,d,w,A){d=d||"";var C,x;v(o)?(C=o[0],x=o[1]):(C=o,x=null);var E=g(d),M=a[c](o,E,w,A);return y.log(M),{code:c,container:C,trace:x,path:d,astr:E,msg:M}}function s(c,o){var d=h(o),w=d.keyMinusId,A=d.id;return w in c&&c[w]._isSubplotObj&&A?!0:o in c}function l(c,o){if(o in c)return c[o];var d=h(o);return c[d.keyMinusId]}var m=y.counterRegex("([a-z]+)");function h(c){var o=c.match(m);return{keyMinusId:o&&o[1],id:o&&o[2]}}function g(c){if(!v(c))return String(c);for(var o="",d=0;d<c.length;d++){var w=c[d];typeof w=="number"?o=o.substr(0,o.length-1)+"["+w+"]":o+=w,d<c.length-1&&(o+=".")}return o}},85656:function(U){U.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(U,B,e){var y=e(3400),L=e(31780);U.exports=function(S,b,v){var p=v.name,r=v.inclusionAttr||"visible",t=b[p],a=y.isArrayOrTypedArray(S[p])?S[p]:[],n=b[p]=[],u=L.arrayTemplater(b,p,r),s,l;for(s=0;s<a.length;s++){var m=a[s];y.isPlainObject(m)?l=u.newItem(m):(l=u.newItem({}),l[r]=!1),l._index=s,l[r]!==!1&&v.handleItemDefaults(m,l,b,v),n.push(l)}var h=u.defaultItems();for(s=0;s<h.length;s++)l=h[s],l._index=n.length,v.handleItemDefaults({},l,b,v,{}),n.push(l);if(y.isArrayOrTypedArray(t)){var g=Math.min(t.length,n.length);for(s=0;s<g;s++)y.relinkPrivateKeys(n[s],t[s])}return n}},45464:function(U,B,e){var y=e(25376),L=e(55756);U.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:y({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:L.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(U,B,e){var y=e(38248),L=e(3400),i=L.dateTime2ms,S=L.incrementMonth,b=e(39032),v=b.ONEAVGMONTH;U.exports=function(r,t,a,n){if(t.type!=="date")return{vals:n};var u=r[a+"periodalignment"];if(!u)return{vals:n};var s=r[a+"period"],l;if(y(s)){if(s=+s,s<=0)return{vals:n}}else if(typeof s=="string"&&s.charAt(0)==="M"){var m=+s.substring(1);if(m>0&&Math.round(m)===m)l=m;else return{vals:n}}for(var h=t.calendar,g=u==="start",c=u==="end",o=r[a+"period0"],d=i(o,h)||0,w=[],A=[],C=[],x=n.length,E=0;E<x;E++){var M=n[E],f,P,T;if(l){for(f=Math.round((M-d)/(l*v)),T=S(d,l*f,h);T>M;)T=S(T,-l,h);for(;T<=M;)T=S(T,l,h);P=S(T,-l,h)}else{for(f=Math.round((M-d)/s),T=d+f*s;T>M;)T-=s;for(;T<=M;)T+=s;P=T-s}w[E]=g?P:c?T:(P+T)/2,A[E]=P,C[E]=T}return{vals:w,starts:A,ends:C}}},26720:function(U){U.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(U,B,e){var y=e(33428),L=e(38248),i=e(3400),S=e(39032).FP_SAFE,b=e(24040),v=e(43616),p=e(79811),r=p.getFromId,t=p.isLinked;U.exports={applyAutorangeOptions:f,getAutoRange:a,makePadFn:u,doAutoRange:h,findExtremes:g,concatExtremes:m};function a(P,T){var z,_,V=[],F=P._fullLayout,N=u(F,T,0),k=u(F,T,1),I=m(P,T),H=I.min,j=I.max;if(H.length===0||j.length===0)return i.simpleMap(T.range,T.r2l);var ee=H[0].val,te=j[0].val;for(z=1;z<H.length&&ee===te;z++)ee=Math.min(ee,H[z].val);for(z=1;z<j.length&&ee===te;z++)te=Math.max(te,j[z].val);var ne=T.autorange,ue=ne==="reversed"||ne==="min reversed"||ne==="max reversed";if(!ue&&T.range){var q=i.simpleMap(T.range,T.r2l);ue=q[1]<q[0]}T.autorange==="reversed"&&(T.autorange=!0);var Y=T.rangemode,Z=Y==="tozero",G=Y==="nonnegative",K=T._length,oe=K/10,$=0,J,se,ie,ce,ye,Se;for(z=0;z<H.length;z++)for(J=H[z],_=0;_<j.length;_++)se=j[_],Se=se.val-J.val-n(T,J.val,se.val),Se>0&&(ye=K-N(J)-k(se),ye>oe?Se/ye>$&&(ie=J,ce=se,$=Se/ye):Se/K>$&&(ie={val:J.val,nopad:1},ce={val:se.val,nopad:1},$=Se/K));function Te(De,Ve){return Math.max(De,k(Ve))}if(ee===te){var ke=ee-1,we=ee+1;if(Z)if(ee===0)V=[0,1];else{var Ee=(ee>0?j:H).reduce(Te,0),xe=ee/(1-Math.min(.5,Ee/K));V=ee>0?[0,xe]:[xe,0]}else G?V=[Math.max(0,ke),Math.max(1,we)]:V=[ke,we]}else Z?(ie.val>=0&&(ie={val:0,nopad:1}),ce.val<=0&&(ce={val:0,nopad:1})):G&&(ie.val-$*N(ie)<0&&(ie={val:0,nopad:1}),ce.val<=0&&(ce={val:1,nopad:1})),$=(ce.val-ie.val-n(T,J.val,se.val))/(K-N(ie)-k(ce)),V=[ie.val-$*N(ie),ce.val+$*k(ce)];return V=f(V,T),T.limitRange&&T.limitRange(),ue&&V.reverse(),i.simpleMap(V,T.l2r||Number)}function n(P,T,z){var _=0;if(P.rangebreaks)for(var V=P.locateBreaks(T,z),F=0;F<V.length;F++){var N=V[F];_+=N.max-N.min}return _}function u(P,T,z){var _=.05*T._length,V=T._anchorAxis||{};if((T.ticklabelposition||"").indexOf("inside")!==-1||(V.ticklabelposition||"").indexOf("inside")!==-1){var F=T.isReversed();if(!F){var N=i.simpleMap(T.range,T.r2l);F=N[1]<N[0]}F&&(z=!z)}var k=0;return t(P,T._id)||(k=l(P,T,z)),_=Math.max(k,_),T.constrain==="domain"&&T._inputDomain&&(_*=(T._inputDomain[1]-T._inputDomain[0])/(T.domain[1]-T.domain[0])),function(H){return H.nopad?0:H.pad+(H.extrapad?_:k)}}var s=3;function l(P,T,z){var _=0,V=T._id.charAt(0)==="x";for(var F in P._plots){var N=P._plots[F];if(!(T._id!==N.xaxis._id&&T._id!==N.yaxis._id)){var k=(V?N.yaxis:N.xaxis)||{};if((k.ticklabelposition||"").indexOf("inside")!==-1&&(!z&&(k.side==="left"||k.side==="bottom")||z&&(k.side==="top"||k.side==="right"))){if(k._vals){var I=i.deg2rad(k._tickAngles[k._id+"tick"]||0),H=Math.abs(Math.cos(I)),j=Math.abs(Math.sin(I));if(!k._vals[0].bb){var ee=k._id+"tick",te=k._selections[ee];te.each(function(G){var K=y.select(this),oe=K.select(".text-math-group");oe.empty()&&(G.bb=v.bBox(K.node()))})}for(var ne=0;ne<k._vals.length;ne++){var ue=k._vals[ne],q=ue.bb;if(q){var Y=2*s+q.width,Z=2*s+q.height;_=Math.max(_,V?Math.max(Y*H,Z*j):Math.max(Z*H,Y*j))}}}k.ticks==="inside"&&k.ticklabelposition==="inside"&&(_+=k.ticklen||0)}}}return _}function m(P,T,z){var _=T._id,V=P._fullData,F=P._fullLayout,N=[],k=[],I,H,j;function ee(Y,Z){for(I=0;I<Z.length;I++){var G=Y[Z[I]],K=(G._extremes||{})[_];if(G.visible===!0&&K){for(H=0;H<K.min.length;H++)j=K.min[H],c(N,j.val,j.pad,{extrapad:j.extrapad});for(H=0;H<K.max.length;H++)j=K.max[H],o(k,j.val,j.pad,{extrapad:j.extrapad})}}}if(ee(V,T._traceIndices),ee(F.annotations||[],T._annIndices||[]),ee(F.shapes||[],T._shapeIndices||[]),T._matchGroup&&!z){for(var te in T._matchGroup)if(te!==T._id){var ne=r(P,te),ue=m(P,ne,!0),q=T._length/ne._length;for(H=0;H<ue.min.length;H++)j=ue.min[H],c(N,j.val,j.pad*q,{extrapad:j.extrapad});for(H=0;H<ue.max.length;H++)j=ue.max[H],o(k,j.val,j.pad*q,{extrapad:j.extrapad})}}return{min:N,max:k}}function h(P,T,z){if(T.setScale(),T.autorange){T.range=z?z.slice():a(P,T),T._r=T.range.slice(),T._rl=i.simpleMap(T._r,T.r2l);var _=T._input,V={};V[T._attr+".range"]=T.range,V[T._attr+".autorange"]=T.autorange,b.call("_storeDirectGUIEdit",P.layout,P._fullLayout._preGUI,V),_.range=T.range.slice(),_.autorange=T.autorange}var F=T._anchorAxis;if(F&&F.rangeslider){var N=F.rangeslider[T._name];N&&N.rangemode==="auto"&&(N.range=a(P,T)),F._input.rangeslider[T._name]=i.extendFlat({},N)}}function g(P,T,z){z||(z={}),P._m||P.setScale();var _=[],V=[],F=T.length,N=z.padded||!1,k=z.tozero&&(P.type==="linear"||P.type==="-"),I=P.type==="log",H=!1,j=z.vpadLinearized||!1,ee,te,ne,ue,q,Y,Z,G,K;function oe(Te){if(Array.isArray(Te))return H=!0,function(we){return Math.max(Number(Te[we]||0),0)};var ke=Math.max(Number(Te||0),0);return function(){return ke}}var $=oe((P._m>0?z.ppadplus:z.ppadminus)||z.ppad||0),J=oe((P._m>0?z.ppadminus:z.ppadplus)||z.ppad||0),se=oe(z.vpadplus||z.vpad),ie=oe(z.vpadminus||z.vpad);if(!H){if(G=1/0,K=-1/0,I)for(ee=0;ee<F;ee++)te=T[ee],te<G&&te>0&&(G=te),te>K&&te<S&&(K=te);else for(ee=0;ee<F;ee++)te=T[ee],te<G&&te>-S&&(G=te),te>K&&te<S&&(K=te);T=[G,K],F=2}var ce={tozero:k,extrapad:N};function ye(Te){ne=T[Te],L(ne)&&(Y=$(Te),Z=J(Te),j?(ue=P.c2l(ne)-ie(Te),q=P.c2l(ne)+se(Te)):(G=ne-ie(Te),K=ne+se(Te),I&&G<K/10&&(G=K/10),ue=P.c2l(G),q=P.c2l(K)),k&&(ue=Math.min(0,ue),q=Math.max(0,q)),w(ue)&&c(_,ue,Z,ce),w(q)&&o(V,q,Y,ce))}var Se=Math.min(6,F);for(ee=0;ee<Se;ee++)ye(ee);for(ee=F-1;ee>=Se;ee--)ye(ee);return{min:_,max:V,opts:z}}function c(P,T,z,_){d(P,T,z,_,A)}function o(P,T,z,_){d(P,T,z,_,C)}function d(P,T,z,_,V){for(var F=_.tozero,N=_.extrapad,k=!0,I=0;I<P.length&&k;I++){var H=P[I];if(V(H.val,T)&&H.pad>=z&&(H.extrapad||!N)){k=!1;break}else V(T,H.val)&&H.pad<=z&&(N||!H.extrapad)&&(P.splice(I,1),I--)}if(k){var j=F&&T===0;P.push({val:T,pad:j?0:z,extrapad:j?!1:N})}}function w(P){return L(P)&&Math.abs(P)<S}function A(P,T){return P<=T}function C(P,T){return P>=T}function x(P,T){var z=T.autorangeoptions;return z&&z.minallowed!==void 0&&M(T,z.minallowed,z.maxallowed)?z.minallowed:z&&z.clipmin!==void 0&&M(T,z.clipmin,z.clipmax)?Math.max(P,T.d2l(z.clipmin)):P}function E(P,T){var z=T.autorangeoptions;return z&&z.maxallowed!==void 0&&M(T,z.minallowed,z.maxallowed)?z.maxallowed:z&&z.clipmax!==void 0&&M(T,z.clipmin,z.clipmax)?Math.min(P,T.d2l(z.clipmax)):P}function M(P,T,z){return T!==void 0&&z!==void 0?(T=P.d2l(T),z=P.d2l(z),T<z):!0}function f(P,T){if(!T||!T.autorangeoptions)return P;var z=P[0],_=P[1],V=T.autorangeoptions.include;if(V!==void 0){var F=T.d2l(z),N=T.d2l(_);i.isArrayOrTypedArray(V)||(V=[V]);for(var k=0;k<V.length;k++){var I=T.d2l(V[k]);F>=I&&(F=I,z=I),N<=I&&(N=I,_=I)}}return z=x(z,T),_=E(_,T),[z,_]}},76808:function(U){U.exports=function(e,y,L){var i,S;if(L){var b=y==="reversed"||y==="min reversed"||y==="max reversed";i=L[b?1:0],S=L[b?0:1]}var v=e("autorangeoptions.minallowed",S===null?i:void 0),p=e("autorangeoptions.maxallowed",i===null?S:void 0);v===void 0&&e("autorangeoptions.clipmin"),p===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},54460:function(U,B,e){var y=e(33428),L=e(38248),i=e(7316),S=e(24040),b=e(3400),v=b.strTranslate,p=e(72736),r=e(81668),t=e(76308),a=e(43616),n=e(94724),u=e(98728),s=e(39032),l=s.ONEMAXYEAR,m=s.ONEAVGYEAR,h=s.ONEMINYEAR,g=s.ONEMAXQUARTER,c=s.ONEAVGQUARTER,o=s.ONEMINQUARTER,d=s.ONEMAXMONTH,w=s.ONEAVGMONTH,A=s.ONEMINMONTH,C=s.ONEWEEK,x=s.ONEDAY,E=x/2,M=s.ONEHOUR,f=s.ONEMIN,P=s.ONESEC,T=s.MINUS_SIGN,z=s.BADNUM,_={K:"zeroline"},V={K:"gridline",L:"path"},F={K:"minor-gridline",L:"path"},N={K:"tick",L:"path"},k={K:"tick",L:"text"},I={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},H=e(84284),j=H.MID_SHIFT,ee=H.CAP_SHIFT,te=H.LINE_SPACING,ne=H.OPPOSITE_SIDE,ue=3,q=U.exports={};q.setConvert=e(78344);var Y=e(52976),Z=e(79811),G=Z.idSort,K=Z.isLinked;q.id2name=Z.id2name,q.name2id=Z.name2id,q.cleanId=Z.cleanId,q.list=Z.list,q.listIds=Z.listIds,q.getFromId=Z.getFromId,q.getFromTrace=Z.getFromTrace;var oe=e(19280);q.getAutoRange=oe.getAutoRange,q.findExtremes=oe.findExtremes;var $=1e-4;function J(We){var He=(We[1]-We[0])*$;return[We[0]-He,We[1]+He]}q.coerceRef=function(We,He,zt,kt,Zt,er){var lr=kt.charAt(kt.length-1),rr=zt._fullLayout._subplots[lr+"axis"],Ft=kt+"ref",cr={};return Zt||(Zt=rr[0]||(typeof er=="string"?er:er[0])),er||(er=Zt),rr=rr.concat(rr.map(function(pr){return pr+" domain"})),cr[Ft]={valType:"enumerated",values:rr.concat(er?typeof er=="string"?[er]:er:[]),dflt:Zt},b.coerce(We,He,cr,Ft)},q.getRefType=function(We){return We===void 0?We:We==="paper"?"paper":We==="pixel"?"pixel":/( domain)$/.test(We)?"domain":"range"},q.coercePosition=function(We,He,zt,kt,Zt,er){var lr,rr,Ft=q.getRefType(kt);if(Ft!=="range")lr=b.ensureNumber,rr=zt(Zt,er);else{var cr=q.getFromId(He,kt);er=cr.fraction2r(er),rr=zt(Zt,er),lr=cr.cleanPos}We[Zt]=lr(rr)},q.cleanPosition=function(We,He,zt){var kt=zt==="paper"||zt==="pixel"?b.ensureNumber:q.getFromId(He,zt).cleanPos;return kt(We)},q.redrawComponents=function(We,He){He=He||q.listIds(We);var zt=We._fullLayout;function kt(Zt,er,lr,rr){for(var Ft=S.getComponentMethod(Zt,er),cr={},pr=0;pr<He.length;pr++)for(var mr=zt[q.id2name(He[pr])],hr=mr[lr],Gr=0;Gr<hr.length;Gr++){var Dr=hr[Gr];if(!cr[Dr]&&(Ft(We,Dr),cr[Dr]=1,rr))return}}kt("annotations","drawOne","_annIndices"),kt("shapes","drawOne","_shapeIndices"),kt("images","draw","_imgIndices",!0),kt("selections","drawOne","_selectionIndices")};var se=q.getDataConversions=function(We,He,zt,kt){var Zt,er=zt==="x"||zt==="y"||zt==="z"?zt:kt;if(b.isArrayOrTypedArray(er)){if(Zt={type:Y(kt,void 0,{autotypenumbers:We._fullLayout.autotypenumbers}),_categories:[]},q.setConvert(Zt),Zt.type==="category")for(var lr=0;lr<kt.length;lr++)Zt.d2c(kt[lr])}else Zt=q.getFromTrace(We,He,er);return Zt?{d2c:Zt.d2c,c2d:Zt.c2d}:er==="ids"?{d2c:ce,c2d:ce}:{d2c:ie,c2d:ie}};function ie(We){return+We}function ce(We){return String(We)}q.getDataToCoordFunc=function(We,He,zt,kt){return se(We,He,zt,kt).d2c},q.counterLetter=function(We){var He=We.charAt(0);if(He==="x")return"y";if(He==="y")return"x"},q.minDtick=function(We,He,zt,kt){["log","category","multicategory"].indexOf(We.type)!==-1||!kt?We._minDtick=0:We._minDtick===void 0?(We._minDtick=He,We._forceTick0=zt):We._minDtick&&((We._minDtick/He+1e-6)%1<2e-6&&((zt-We._forceTick0)/He%1+1.000001)%1<2e-6?(We._minDtick=He,We._forceTick0=zt):((He/We._minDtick+1e-6)%1>2e-6||((zt-We._forceTick0)/We._minDtick%1+1.000001)%1>2e-6)&&(We._minDtick=0))},q.saveRangeInitial=function(We,He){for(var zt=q.list(We,"",!0),kt=!1,Zt=0;Zt<zt.length;Zt++){var er=zt[Zt],lr=er._rangeInitial0===void 0&&er._rangeInitial1===void 0,rr=lr||er.range[0]!==er._rangeInitial0||er.range[1]!==er._rangeInitial1,Ft=er.autorange;(lr&&Ft!==!0||He&&rr)&&(er._rangeInitial0=Ft==="min"||Ft==="max reversed"?void 0:er.range[0],er._rangeInitial1=Ft==="max"||Ft==="min reversed"?void 0:er.range[1],er._autorangeInitial=Ft,kt=!0)}return kt},q.saveShowSpikeInitial=function(We,He){for(var zt=q.list(We,"",!0),kt=!1,Zt="on",er=0;er<zt.length;er++){var lr=zt[er],rr=lr._showSpikeInitial===void 0,Ft=rr||lr.showspikes!==lr._showspikes;(rr||He&&Ft)&&(lr._showSpikeInitial=lr.showspikes,kt=!0),Zt==="on"&&!lr.showspikes&&(Zt="off")}return We._fullLayout._cartesianSpikesEnabled=Zt,kt},q.autoBin=function(We,He,zt,kt,Zt,er){var lr=b.aggNums(Math.min,null,We),rr=b.aggNums(Math.max,null,We);if(He.type==="category"||He.type==="multicategory")return{start:lr-.5,end:rr+.5,size:Math.max(1,Math.round(er)||1),_dataSpan:rr-lr};Zt||(Zt=He.calendar);var Ft;if(He.type==="log"?Ft={type:"linear",range:[lr,rr]}:Ft={type:He.type,range:b.simpleMap([lr,rr],He.c2r,0,Zt),calendar:Zt},q.setConvert(Ft),er=er&&u.dtick(er,Ft.type),er)Ft.dtick=er,Ft.tick0=u.tick0(void 0,Ft.type,Zt);else{var cr;if(zt)cr=(rr-lr)/zt;else{var pr=b.distinctVals(We),mr=Math.pow(10,Math.floor(Math.log(pr.minDiff)/Math.LN10)),hr=mr*b.roundUp(pr.minDiff/mr,[.9,1.9,4.9,9.9],!0);cr=Math.max(hr,2*b.stdev(We)/Math.pow(We.length,kt?.25:.4)),L(cr)||(cr=1)}q.autoTicks(Ft,cr)}var Gr=Ft.dtick,Dr=q.tickIncrement(q.tickFirst(Ft),Gr,"reverse",Zt),Ir,cn;if(typeof Gr=="number")Dr=ye(Dr,We,Ft,lr,rr),cn=1+Math.floor((rr-Dr)/Gr),Ir=Dr+cn*Gr;else for(Ft.dtick.charAt(0)==="M"&&(Dr=Se(Dr,We,Gr,lr,Zt)),Ir=Dr,cn=0;Ir<=rr;)Ir=q.tickIncrement(Ir,Gr,!1,Zt),cn++;return{start:He.c2r(Dr,0,Zt),end:He.c2r(Ir,0,Zt),size:Gr,_dataSpan:rr-lr}};function ye(We,He,zt,kt,Zt){var er=0,lr=0,rr=0,Ft=0;function cr(Gr){return(1+(Gr-We)*100/zt.dtick)%100<2}for(var pr=0;pr<He.length;pr++)He[pr]%1===0?rr++:L(He[pr])||Ft++,cr(He[pr])&&er++,cr(He[pr]+zt.dtick/2)&&lr++;var mr=He.length-Ft;if(rr===mr&&zt.type!=="date")zt.dtick<1?We=kt-.5*zt.dtick:(We-=.5,We+zt.dtick<kt&&(We+=zt.dtick));else if(lr<mr*.1&&(er>mr*.3||cr(kt)||cr(Zt))){var hr=zt.dtick/2;We+=We+hr<kt?hr:-hr}return We}function Se(We,He,zt,kt,Zt){var er=b.findExactDates(He,Zt),lr=.8;if(er.exactDays>lr){var rr=Number(zt.substr(1));er.exactYears>lr&&rr%12===0?We=q.tickIncrement(We,"M6","reverse")+x*1.5:er.exactMonths>lr?We=q.tickIncrement(We,"M1","reverse")+x*15.5:We-=E;var Ft=q.tickIncrement(We,zt);if(Ft<=kt)return Ft}return We}q.prepMinorTicks=function(We,He,zt){if(!He.minor.dtick){delete We.dtick;var kt=He.dtick&&L(He._tmin),Zt;if(kt){var er=q.tickIncrement(He._tmin,He.dtick,!0);Zt=[He._tmin,er*.99+He._tmin*.01]}else{var lr=b.simpleMap(He.range,He.r2l);Zt=[lr[0],.8*lr[0]+.2*lr[1]]}if(We.range=b.simpleMap(Zt,He.l2r),We._isMinor=!0,q.prepTicks(We,zt),kt){var rr=L(He.dtick),Ft=L(We.dtick),cr=rr?He.dtick:+He.dtick.substring(1),pr=Ft?We.dtick:+We.dtick.substring(1);rr&&Ft?Te(cr,pr)?cr===2*C&&pr===2*x&&(We.dtick=C):cr===2*C&&pr===3*x?We.dtick=C:cr===C&&!(He._input.minor||{}).nticks?We.dtick=x:ke(cr/pr,2.5)?We.dtick=cr/2:We.dtick=cr:String(He.dtick).charAt(0)==="M"?Ft?We.dtick="M1":Te(cr,pr)?cr>=12&&pr===2&&(We.dtick="M3"):We.dtick=He.dtick:String(We.dtick).charAt(0)==="L"?String(He.dtick).charAt(0)==="L"?Te(cr,pr)||(We.dtick=ke(cr/pr,2.5)?He.dtick/2:He.dtick):We.dtick="D1":We.dtick==="D2"&&+He.dtick>1&&(We.dtick=1)}We.range=He.range}He.minor._tick0Init===void 0&&(We.tick0=He.tick0)};function Te(We,He){return Math.abs((We/He+.5)%1-.5)<.001}function ke(We,He){return Math.abs(We/He-1)<.001}q.prepTicks=function(We,He){var zt=b.simpleMap(We.range,We.r2l,void 0,void 0,He);if(We.tickmode==="auto"||!We.dtick){var kt=We.nticks,Zt;kt||(We.type==="category"||We.type==="multicategory"?(Zt=We.tickfont?b.bigFont(We.tickfont.size||12):15,kt=We._length/Zt):(Zt=We._id.charAt(0)==="y"?40:80,kt=b.constrain(We._length/Zt,4,9)+1),We._name==="radialaxis"&&(kt*=2)),We.minor&&We.minor.tickmode!=="array"||We.tickmode==="array"&&(kt*=100),We._roughDTick=Math.abs(zt[1]-zt[0])/kt,q.autoTicks(We,We._roughDTick),We._minDtick>0&&We.dtick<We._minDtick*2&&(We.dtick=We._minDtick,We.tick0=We.l2r(We._forceTick0))}We.ticklabelmode==="period"&&Ee(We),We.tick0||(We.tick0=We.type==="date"?"2000-01-01":0),We.type==="date"&&We.dtick<.1&&(We.dtick=.1),dt(We)};function we(We){return+We.substring(1)}function Ee(We){var He;function zt(){return!(L(We.dtick)||We.dtick.charAt(0)!=="M")}var kt=zt(),Zt=q.getTickFormat(We);if(Zt){var er=We._dtickInit!==We.dtick;/%[fLQsSMX]/.test(Zt)||(/%[HI]/.test(Zt)?(He=M,er&&!kt&&We.dtick<M&&(We.dtick=M)):/%p/.test(Zt)?(He=E,er&&!kt&&We.dtick<E&&(We.dtick=E)):/%[Aadejuwx]/.test(Zt)?(He=x,er&&!kt&&We.dtick<x&&(We.dtick=x)):/%[UVW]/.test(Zt)?(He=C,er&&!kt&&We.dtick<C&&(We.dtick=C)):/%[Bbm]/.test(Zt)?(He=w,er&&(kt?we(We.dtick)<1:We.dtick<A)&&(We.dtick="M1")):/%[q]/.test(Zt)?(He=c,er&&(kt?we(We.dtick)<3:We.dtick<o)&&(We.dtick="M3")):/%[Yy]/.test(Zt)&&(He=m,er&&(kt?we(We.dtick)<12:We.dtick<h)&&(We.dtick="M12")))}kt=zt(),kt&&We.tick0===We._dowTick0&&(We.tick0=We._rawTick0),We._definedDelta=He}function xe(We,He,zt){for(var kt=0;kt<We.length;kt++){var Zt=We[kt].value,er=kt,lr=kt+1;kt<We.length-1?(er=kt,lr=kt+1):kt>0?(er=kt-1,lr=kt):(er=kt,lr=kt);var rr=We[er].value,Ft=We[lr].value,cr=Math.abs(Ft-rr),pr=zt||cr,mr=0;pr>=h?cr>=h&&cr<=l?mr=cr:mr=m:zt===c&&pr>=o?cr>=o&&cr<=g?mr=cr:mr=c:pr>=A?cr>=A&&cr<=d?mr=cr:mr=w:zt===C&&pr>=C?mr=C:pr>=x?mr=x:zt===E&&pr>=E?mr=E:zt===M&&pr>=M&&(mr=M);var hr;mr>=cr&&(mr=cr,hr=!0);var Gr=Zt+mr;if(He.rangebreaks&&mr>0){for(var Dr=84,Ir=0,cn=0;cn<Dr;cn++){var rn=(cn+.5)/Dr;He.maskBreaks(Zt*(1-rn)+rn*Gr)!==z&&Ir++}mr*=Ir/Dr,mr||(We[kt].drop=!0),hr&&cr>C&&(mr=cr)}(mr>0||kt===0)&&(We[kt].periodX=Zt+mr/2)}}q.calcTicks=function(He,zt){for(var kt=He.type,Zt=He.calendar,er=He.ticklabelstep,lr=He.ticklabelmode==="period",rr=b.simpleMap(He.range,He.r2l,void 0,void 0,zt),Ft=rr[1]<rr[0],cr=Math.min(rr[0],rr[1]),pr=Math.max(rr[0],rr[1]),mr=Math.max(1e3,He._length||0),hr=[],Gr=[],Dr=[],Ir=[],cn=He.minor&&(He.minor.ticks||He.minor.showgrid),rn=1;rn>=(cn?0:1);rn--){var Cn=!rn;rn?(He._dtickInit=He.dtick,He._tick0Init=He.tick0):(He.minor._dtickInit=He.minor.dtick,He.minor._tick0Init=He.minor.tick0);var Sn=rn?He:b.extendFlat({},He,He.minor);if(Cn?q.prepMinorTicks(Sn,He,zt):q.prepTicks(Sn,zt),Sn.tickmode==="array"){rn?(Dr=[],hr=Ue(He,!Cn)):(Ir=[],Gr=Ue(He,!Cn));continue}if(Sn.tickmode==="sync"){Dr=[],hr=Ve(He);continue}var Tr=J(rr),Lr=Tr[0],Wr=Tr[1],Ur=L(Sn.dtick),an=kt==="log"&&!(Ur||Sn.dtick.charAt(0)==="L"),pn=q.tickFirst(Sn,zt);if(rn){if(He._tmin=pn,pn<Lr!==Ft)break;(kt==="category"||kt==="multicategory")&&(Wr=Ft?Math.max(-.5,Wr):Math.min(He._categories.length-.5,Wr))}var gn=null,En=pn,On;if(rn){var ni;Ur?ni=He.dtick:kt==="date"?typeof He.dtick=="string"&&He.dtick.charAt(0)==="M"&&(ni=w*He.dtick.substring(1)):ni=He._roughDTick,On=Math.round((He.r2l(En)-He.r2l(He.tick0))/ni)-1}var ci=Sn.dtick;for(Sn.rangebreaks&&Sn._tick0Init!==Sn.tick0&&(En=Nt(En,He),Ft||(En=q.tickIncrement(En,ci,!Ft,Zt))),rn&&lr&&(En=q.tickIncrement(En,ci,!Ft,Zt),On--);Ft?En>=Wr:En<=Wr;En=q.tickIncrement(En,ci,Ft,Zt)){if(rn&&On++,Sn.rangebreaks&&!Ft){if(En<Lr)continue;if(Sn.maskBreaks(En)===z&&Nt(En,Sn)>=pr)break}if(Dr.length>mr||En===gn)break;gn=En;var di={value:En};rn?(an&&En!==(En|0)&&(di.simpleLabel=!0),er>1&&On%er&&(di.skipLabel=!0),Dr.push(di)):(di.minor=!0,Ir.push(di))}}if(cn){var li=He.minor.ticks==="inside"&&He.ticks==="outside"||He.minor.ticks==="outside"&&He.ticks==="inside";if(!li){for(var ri=Dr.map(function(hn){return hn.value}),br=[],nn=0;nn<Ir.length;nn++){var $r=Ir[nn],dn=$r.value;if(ri.indexOf(dn)===-1){for(var Vn=!1,wn=0;!Vn&&wn<Dr.length;wn++)1e7+Dr[wn].value===1e7+dn&&(Vn=!0);Vn||br.push($r)}}Ir=br}}lr&&xe(Dr,He,He._definedDelta);var Tn;if(He.rangebreaks){var Nn=He._id.charAt(0)==="y",Jn=1;He.tickmode==="auto"&&(Jn=He.tickfont?He.tickfont.size:12);var gi=NaN;for(Tn=Dr.length-1;Tn>-1;Tn--){if(Dr[Tn].drop){Dr.splice(Tn,1);continue}Dr[Tn].value=Nt(Dr[Tn].value,He);var _i=He.c2p(Dr[Tn].value);(Nn?gi>_i-Jn:gi<_i+Jn)?Dr.splice(Ft?Tn+1:Tn,1):gi=_i}}Ut(He)&&Math.abs(rr[1]-rr[0])===360&&Dr.pop(),He._tmax=(Dr[Dr.length-1]||{}).value,He._prevDateHead="",He._inCalcTicks=!0;var Sr,zr=function(hn){hn.text="",He._prevDateHead=Sr};Dr=Dr.concat(Ir);var Ar,Fr;for(Tn=0;Tn<Dr.length;Tn++){var xn=Dr[Tn].minor,In=Dr[Tn].value;xn?Gr.push({x:In,minor:!0}):(Sr=He._prevDateHead,Ar=q.tickText(He,In,!1,Dr[Tn].simpleLabel),Fr=Dr[Tn].periodX,Fr!==void 0&&(Ar.periodX=Fr,(Fr>pr||Fr<cr)&&(Fr>pr&&(Ar.periodX=pr),Fr<cr&&(Ar.periodX=cr),zr(Ar))),Dr[Tn].skipLabel&&zr(Ar),hr.push(Ar))}return hr=hr.concat(Gr),He._inCalcTicks=!1,lr&&hr.length&&(hr[0].noTick=!0),hr};function De(We,He){return We.rangebreaks&&(He=He.filter(function(zt){return We.maskBreaks(zt.x)!==z})),He}function Ve(We){var He=We._mainAxis,zt=[];if(He._vals){for(var kt=0;kt<He._vals.length;kt++)if(!He._vals[kt].noTick){var Zt=He.l2p(He._vals[kt].x),er=We.p2l(Zt),lr=q.tickText(We,er);He._vals[kt].minor&&(lr.minor=!0,lr.text=""),zt.push(lr)}}return zt=De(We,zt),zt}function Ue(We,He){var zt=b.simpleMap(We.range,We.r2l),kt=J(zt),Zt=Math.min(kt[0],kt[1]),er=Math.max(kt[0],kt[1]),lr=We.type==="category"?We.d2l_noadd:We.d2l;We.type==="log"&&String(We.dtick).charAt(0)!=="L"&&(We.dtick="L"+Math.pow(10,Math.floor(Math.min(We.range[0],We.range[1]))-1));for(var rr=[],Ft=0;Ft<=1;Ft++)if(!(He!==void 0&&(He&&Ft||He===!1&&!Ft))&&!(Ft&&!We.minor)){var cr=Ft?We.minor.tickvals:We.tickvals,pr=Ft?[]:We.ticktext;if(cr){b.isArrayOrTypedArray(pr)||(pr=[]);for(var mr=0;mr<cr.length;mr++){var hr=lr(cr[mr]);if(hr>Zt&&hr<er){var Gr=q.tickText(We,hr,!1,String(pr[mr]));Ft&&(Gr.minor=!0,Gr.text=""),rr.push(Gr)}}}}return rr=De(We,rr),rr}var Be=[2,5,10],Xe=[1,2,3,6,12],ot=[1,2,5,10,15,30],ut=[1,2,3,7,14],et=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],qe=[-.301,0,.301,.699,1],ft=[15,30,45,90,180];function ht(We,He,zt){return He*b.roundUp(We/He,zt)}q.autoTicks=function(We,He,zt){var kt;function Zt(mr){return Math.pow(mr,Math.floor(Math.log(He)/Math.LN10))}if(We.type==="date"){We.tick0=b.dateTick0(We.calendar,0);var er=2*He;if(er>m)He/=m,kt=Zt(10),We.dtick="M"+12*ht(He,kt,Be);else if(er>w)He/=w,We.dtick="M"+ht(He,1,Xe);else if(er>x){if(We.dtick=ht(He,x,We._hasDayOfWeekBreaks?[1,2,7,14]:ut),!zt){var lr=q.getTickFormat(We),rr=We.ticklabelmode==="period";rr&&(We._rawTick0=We.tick0),/%[uVW]/.test(lr)?We.tick0=b.dateTick0(We.calendar,2):We.tick0=b.dateTick0(We.calendar,1),rr&&(We._dowTick0=We.tick0)}}else er>M?We.dtick=ht(He,M,Xe):er>f?We.dtick=ht(He,f,ot):er>P?We.dtick=ht(He,P,ot):(kt=Zt(10),We.dtick=ht(He,kt,Be))}else if(We.type==="log"){We.tick0=0;var Ft=b.simpleMap(We.range,We.r2l);if(We._isMinor&&(He*=1.5),He>.7)We.dtick=Math.ceil(He);else if(Math.abs(Ft[1]-Ft[0])<1){var cr=1.5*Math.abs((Ft[1]-Ft[0])/He);He=Math.abs(Math.pow(10,Ft[1])-Math.pow(10,Ft[0]))/cr,kt=Zt(10),We.dtick="L"+ht(He,kt,Be)}else We.dtick=He>.3?"D2":"D1"}else We.type==="category"||We.type==="multicategory"?(We.tick0=0,We.dtick=Math.ceil(Math.max(He,1))):Ut(We)?(We.tick0=0,kt=1,We.dtick=ht(He,kt,ft)):(We.tick0=0,kt=Zt(10),We.dtick=ht(He,kt,Be));if(We.dtick===0&&(We.dtick=1),!L(We.dtick)&&typeof We.dtick!="string"){var pr=We.dtick;throw We.dtick=1,"ax.dtick error: "+String(pr)}};function dt(We){var He=We.dtick;if(We._tickexponent=0,!L(He)&&typeof He!="string"&&(He=1),(We.type==="category"||We.type==="multicategory")&&(We._tickround=null),We.type==="date"){var zt=We.r2l(We.tick0),kt=We.l2r(zt).replace(/(^-|i)/g,""),Zt=kt.length;if(String(He).charAt(0)==="M")Zt>10||kt.substr(5)!=="01-01"?We._tickround="d":We._tickround=+He.substr(1)%12===0?"y":"m";else if(He>=x&&Zt<=10||He>=x*15)We._tickround="d";else if(He>=f&&Zt<=16||He>=M)We._tickround="M";else if(He>=P&&Zt<=19||He>=f)We._tickround="S";else{var er=We.l2r(zt+He).replace(/^-/,"").length;We._tickround=Math.max(Zt,er)-20,We._tickround<0&&(We._tickround=4)}}else if(L(He)||He.charAt(0)==="L"){var lr=We.range.map(We.r2d||Number);L(He)||(He=Number(He.substr(1))),We._tickround=2-Math.floor(Math.log(He)/Math.LN10+.01);var rr=Math.max(Math.abs(lr[0]),Math.abs(lr[1])),Ft=Math.floor(Math.log(rr)/Math.LN10+.01),cr=We.minexponent===void 0?3:We.minexponent;Math.abs(Ft)>cr&&(me(We.exponentformat)&&!Ce(Ft)?We._tickexponent=3*Math.round((Ft-1)/3):We._tickexponent=Ft)}else We._tickround=null}q.tickIncrement=function(We,He,zt,kt){var Zt=zt?-1:1;if(L(He))return b.increment(We,Zt*He);var er=He.charAt(0),lr=Zt*Number(He.substr(1));if(er==="M")return b.incrementMonth(We,lr,kt);if(er==="L")return Math.log(Math.pow(10,We)+lr)/Math.LN10;if(er==="D"){var rr=He==="D2"?qe:et,Ft=We+Zt*.01,cr=b.roundUp(b.mod(Ft,1),rr,zt);return Math.floor(Ft)+Math.log(y.round(Math.pow(10,cr),1))/Math.LN10}throw"unrecognized dtick "+String(He)},q.tickFirst=function(We,He){var zt=We.r2l||Number,kt=b.simpleMap(We.range,zt,void 0,void 0,He),Zt=kt[1]<kt[0],er=Zt?Math.floor:Math.ceil,lr=J(kt)[0],rr=We.dtick,Ft=zt(We.tick0);if(L(rr)){var cr=er((lr-Ft)/rr)*rr+Ft;return(We.type==="category"||We.type==="multicategory")&&(cr=b.constrain(cr,0,We._categories.length-1)),cr}var pr=rr.charAt(0),mr=Number(rr.substr(1));if(pr==="M"){for(var hr=0,Gr=Ft,Dr,Ir,cn;hr<10;){if(Dr=q.tickIncrement(Gr,rr,Zt,We.calendar),(Dr-lr)*(Gr-lr)<=0)return Zt?Math.min(Gr,Dr):Math.max(Gr,Dr);Ir=(lr-(Gr+Dr)/2)/(Dr-Gr),cn=pr+(Math.abs(Math.round(Ir))||1)*mr,Gr=q.tickIncrement(Gr,cn,Ir<0?!Zt:Zt,We.calendar),hr++}return b.error("tickFirst did not converge",We),Gr}else{if(pr==="L")return Math.log(er((Math.pow(10,lr)-Ft)/mr)*mr+Ft)/Math.LN10;if(pr==="D"){var rn=rr==="D2"?qe:et,Cn=b.roundUp(b.mod(lr,1),rn,Zt);return Math.floor(lr)+Math.log(y.round(Math.pow(10,Cn),1))/Math.LN10}else throw"unrecognized dtick "+String(rr)}},q.tickText=function(We,He,zt,kt){var Zt=mt(We,He),er=We.tickmode==="array",lr=zt||er,rr=We.type,Ft=rr==="category"?We.d2l_noadd:We.d2l,cr,pr=function(cn){var rn=We.l2p(cn);return rn>=0&&rn<=We._length?cn:null};if(er&&b.isArrayOrTypedArray(We.ticktext)){var mr=b.simpleMap(We.range,We.r2l),hr=(Math.abs(mr[1]-mr[0])-(We._lBreaks||0))/1e4;for(cr=0;cr<We.ticktext.length&&!(Math.abs(He-Ft(We.tickvals[cr]))<hr);cr++);if(cr<We.ticktext.length)return Zt.text=String(We.ticktext[cr]),Zt.xbnd=[pr(Zt.x-.5),pr(Zt.x+We.dtick-.5)],Zt}function Gr(cn){if(cn===void 0)return!0;if(zt)return cn==="none";var rn={first:We._tmin,last:We._tmax}[cn];return cn!=="all"&&He!==rn}var Dr=zt?"never":We.exponentformat!=="none"&&Gr(We.showexponent)?"hide":"";if(rr==="date"?St(We,Zt,zt,lr):rr==="log"?rt(We,Zt,zt,lr,Dr):rr==="category"?Oe(We,Zt):rr==="multicategory"?Ye(We,Zt,zt):Ut(We)?Ge(We,Zt,zt,lr,Dr):Ze(We,Zt,zt,lr,Dr),kt||(We.tickprefix&&!Gr(We.showtickprefix)&&(Zt.text=We.tickprefix+Zt.text),We.ticksuffix&&!Gr(We.showticksuffix)&&(Zt.text+=We.ticksuffix)),We.labelalias&&We.labelalias.hasOwnProperty(Zt.text)){var Ir=We.labelalias[Zt.text];typeof Ir=="string"&&(Zt.text=Ir)}return(We.tickson==="boundaries"||We.showdividers)&&(Zt.xbnd=[pr(Zt.x-.5),pr(Zt.x+We.dtick-.5)]),Zt},q.hoverLabelText=function(We,He,zt){zt&&(We=b.extendFlat({},We,{hoverformat:zt}));var kt=b.isArrayOrTypedArray(He)?He[0]:He,Zt=b.isArrayOrTypedArray(He)?He[1]:void 0;if(Zt!==void 0&&Zt!==kt)return q.hoverLabelText(We,kt,zt)+" - "+q.hoverLabelText(We,Zt,zt);var er=We.type==="log"&&kt<=0,lr=q.tickText(We,We.c2l(er?-kt:kt),"hover").text;return er?kt===0?"0":T+lr:lr};function mt(We,He,zt){var kt=We.tickfont||{};return{x:He,dx:0,dy:0,text:zt||"",fontSize:kt.size,font:kt.family,fontColor:kt.color}}function St(We,He,zt,kt){var Zt=We._tickround,er=zt&&We.hoverformat||q.getTickFormat(We);kt=!er&&kt,kt&&(L(Zt)?Zt=4:Zt={y:"m",m:"d",d:"M",M:"S",S:4}[Zt]);var lr=b.formatDate(He.x,er,Zt,We._dateFormat,We.calendar,We._extraFormat),rr,Ft=lr.indexOf(`
`);if(Ft!==-1&&(rr=lr.substr(Ft+1),lr=lr.substr(0,Ft)),kt&&(rr!==void 0&&(lr==="00:00:00"||lr==="00:00")?(lr=rr,rr=""):lr.length===8&&(lr=lr.replace(/:00$/,""))),rr)if(zt)Zt==="d"?lr+=", "+rr:lr=rr+(lr?", "+lr:"");else if(!We._inCalcTicks||We._prevDateHead!==rr)We._prevDateHead=rr,lr+="<br>"+rr;else{var cr=Kt(We),pr=We._trueSide||We.side;(!cr&&pr==="top"||cr&&pr==="bottom")&&(lr+="<br> ")}He.text=lr}function rt(We,He,zt,kt,Zt){var er=We.dtick,lr=He.x,rr=We.tickformat,Ft=typeof er=="string"&&er.charAt(0);if(Zt==="never"&&(Zt=""),kt&&Ft!=="L"&&(er="L3",Ft="L"),rr||Ft==="L")He.text=Me(Math.pow(10,lr),We,Zt,kt);else if(L(er)||Ft==="D"&&b.mod(lr+.01,1)<.1){var cr=Math.round(lr),pr=Math.abs(cr),mr=We.exponentformat;mr==="power"||me(mr)&&Ce(cr)?(cr===0?He.text=1:cr===1?He.text="10":He.text="10<sup>"+(cr>1?"":T)+pr+"</sup>",He.fontSize*=1.25):(mr==="e"||mr==="E")&&pr>2?He.text="1"+mr+(cr>0?"+":T)+pr:(He.text=Me(Math.pow(10,lr),We,"","fakehover"),er==="D1"&&We._id.charAt(0)==="y"&&(He.dy-=He.fontSize/6))}else if(Ft==="D")He.text=String(Math.round(Math.pow(10,b.mod(lr,1)))),He.fontSize*=.75;else throw"unrecognized dtick "+String(er);if(We.dtick==="D1"){var hr=String(He.text).charAt(0);(hr==="0"||hr==="1")&&(We._id.charAt(0)==="y"?He.dx-=He.fontSize/4:(He.dy+=He.fontSize/2,He.dx+=(We.range[1]>We.range[0]?1:-1)*He.fontSize*(lr<0?.5:.25)))}}function Oe(We,He){var zt=We._categories[Math.round(He.x)];zt===void 0&&(zt=""),He.text=String(zt)}function Ye(We,He,zt){var kt=Math.round(He.x),Zt=We._categories[kt]||[],er=Zt[1]===void 0?"":String(Zt[1]),lr=Zt[0]===void 0?"":String(Zt[0]);zt?He.text=lr+" - "+er:(He.text=er,He.text2=lr)}function Ze(We,He,zt,kt,Zt){Zt==="never"?Zt="":We.showexponent==="all"&&Math.abs(He.x/We.dtick)<1e-6&&(Zt="hide"),He.text=Me(He.x,We,Zt,kt)}function Ge(We,He,zt,kt,Zt){if(We.thetaunit==="radians"&&!zt){var er=He.x/180;if(er===0)He.text="0";else{var lr=_e(er);if(lr[1]>=100)He.text=Me(b.deg2rad(He.x),We,Zt,kt);else{var rr=He.x<0;lr[1]===1?lr[0]===1?He.text="π":He.text=lr[0]+"π":He.text=["<sup>",lr[0],"</sup>","⁄","<sub>",lr[1],"</sub>","π"].join(""),rr&&(He.text=T+He.text)}}}else He.text=Me(He.x,We,Zt,kt)}function _e(We){function He(rr,Ft){return Math.abs(rr-Ft)<=1e-6}function zt(rr,Ft){return He(Ft,0)?rr:zt(Ft,rr%Ft)}function kt(rr){for(var Ft=1;!He(Math.round(rr*Ft)/Ft,rr);)Ft*=10;return Ft}var Zt=kt(We),er=We*Zt,lr=Math.abs(zt(er,Zt));return[Math.round(er/lr),Math.round(Zt/lr)]}var be=["f","p","n","μ","m","","k","M","G","T"];function me(We){return We==="SI"||We==="B"}function Ce(We){return We>14||We<-15}function Me(We,He,zt,kt){var Zt=We<0,er=He._tickround,lr=zt||He.exponentformat||"B",rr=He._tickexponent,Ft=q.getTickFormat(He),cr=He.separatethousands;if(kt){var pr={exponentformat:lr,minexponent:He.minexponent,dtick:He.showexponent==="none"?He.dtick:L(We)&&Math.abs(We)||1,range:He.showexponent==="none"?He.range.map(He.r2d):[0,We||1]};dt(pr),er=(Number(pr._tickround)||0)+4,rr=pr._tickexponent,He.hoverformat&&(Ft=He.hoverformat)}if(Ft)return He._numFormat(Ft)(We).replace(/-/g,T);var mr=Math.pow(10,-er)/2;if(lr==="none"&&(rr=0),We=Math.abs(We),We<mr)We="0",Zt=!1;else{if(We+=mr,rr&&(We*=Math.pow(10,-rr),er+=rr),er===0)We=String(Math.floor(We));else if(er<0){We=String(Math.round(We)),We=We.substr(0,We.length+er);for(var hr=er;hr<0;hr++)We+="0"}else{We=String(We);var Gr=We.indexOf(".")+1;Gr&&(We=We.substr(0,Gr+er).replace(/\.?0+$/,""))}We=b.numSeparate(We,He._separators,cr)}if(rr&&lr!=="hide"){me(lr)&&Ce(rr)&&(lr="power");var Dr;rr<0?Dr=T+-rr:lr!=="power"?Dr="+"+rr:Dr=String(rr),lr==="e"||lr==="E"?We+=lr+Dr:lr==="power"?We+="×10<sup>"+Dr+"</sup>":lr==="B"&&rr===9?We+="B":me(lr)&&(We+=be[rr/3+5])}return Zt?T+We:We}q.getTickFormat=function(We){var He;function zt(Ft){return typeof Ft!="string"?Ft:Number(Ft.replace("M",""))*w}function kt(Ft,cr){var pr=["L","D"];if(typeof Ft==typeof cr){if(typeof Ft=="number")return Ft-cr;var mr=pr.indexOf(Ft.charAt(0)),hr=pr.indexOf(cr.charAt(0));return mr===hr?Number(Ft.replace(/(L|D)/g,""))-Number(cr.replace(/(L|D)/g,"")):mr-hr}else return typeof Ft=="number"?1:-1}function Zt(Ft,cr,pr){var mr=pr||function(Dr){return Dr},hr=cr[0],Gr=cr[1];return(!hr&&typeof hr!="number"||mr(hr)<=mr(Ft))&&(!Gr&&typeof Gr!="number"||mr(Gr)>=mr(Ft))}function er(Ft,cr){var pr=cr[0]===null,mr=cr[1]===null,hr=kt(Ft,cr[0])>=0,Gr=kt(Ft,cr[1])<=0;return(pr||hr)&&(mr||Gr)}var lr,rr;if(We.tickformatstops&&We.tickformatstops.length>0)switch(We.type){case"date":case"linear":{for(He=0;He<We.tickformatstops.length;He++)if(rr=We.tickformatstops[He],rr.enabled&&Zt(We.dtick,rr.dtickrange,zt)){lr=rr;break}break}case"log":{for(He=0;He<We.tickformatstops.length;He++)if(rr=We.tickformatstops[He],rr.enabled&&er(We.dtick,rr.dtickrange)){lr=rr;break}break}}return lr?lr.value:We.tickformat},q.getSubplots=function(We,He){var zt=We._fullLayout._subplots,kt=zt.cartesian.concat(zt.gl2d||[]),Zt=He?q.findSubplotsWithAxis(kt,He):kt;return Zt.sort(function(er,lr){var rr=er.substr(1).split("y"),Ft=lr.substr(1).split("y");return rr[0]===Ft[0]?+rr[1]-+Ft[1]:+rr[0]-+Ft[0]}),Zt},q.findSubplotsWithAxis=function(We,He){for(var zt=new RegExp(He._id.charAt(0)==="x"?"^"+He._id+"y":He._id+"$"),kt=[],Zt=0;Zt<We.length;Zt++){var er=We[Zt];zt.test(er)&&kt.push(er)}return kt},q.makeClipPaths=function(We){var He=We._fullLayout;if(!He._hasOnlyLargeSploms){var zt={_offset:0,_length:He.width,_id:""},kt={_offset:0,_length:He.height,_id:""},Zt=q.list(We,"x",!0),er=q.list(We,"y",!0),lr=[],rr,Ft;for(rr=0;rr<Zt.length;rr++)for(lr.push({x:Zt[rr],y:kt}),Ft=0;Ft<er.length;Ft++)rr===0&&lr.push({x:zt,y:er[Ft]}),lr.push({x:Zt[rr],y:er[Ft]});var cr=He._clips.selectAll(".axesclip").data(lr,function(pr){return pr.x._id+pr.y._id});cr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(pr){return"clip"+He._uid+pr.x._id+pr.y._id}).append("rect"),cr.exit().remove(),cr.each(function(pr){y.select(this).select("rect").attr({x:pr.x._offset||0,y:pr.y._offset||0,width:pr.x._length||1,height:pr.y._length||1})})}},q.draw=function(We,He,zt){var kt=We._fullLayout;He==="redraw"&&kt._paper.selectAll("g.subplot").each(function(Ft){var cr=Ft[0],pr=kt._plots[cr];if(pr){var mr=pr.xaxis,hr=pr.yaxis;pr.xaxislayer.selectAll("."+mr._id+"tick").remove(),pr.yaxislayer.selectAll("."+hr._id+"tick").remove(),pr.xaxislayer.selectAll("."+mr._id+"tick2").remove(),pr.yaxislayer.selectAll("."+hr._id+"tick2").remove(),pr.xaxislayer.selectAll("."+mr._id+"divider").remove(),pr.yaxislayer.selectAll("."+hr._id+"divider").remove(),pr.minorGridlayer&&pr.minorGridlayer.selectAll("path").remove(),pr.gridlayer&&pr.gridlayer.selectAll("path").remove(),pr.zerolinelayer&&pr.zerolinelayer.selectAll("path").remove(),kt._infolayer.select(".g-"+mr._id+"title").remove(),kt._infolayer.select(".g-"+hr._id+"title").remove()}});var Zt=!He||He==="redraw"?q.listIds(We):He,er=q.list(We),lr=er.filter(function(Ft){return Ft.autoshift}).map(function(Ft){return Ft.overlaying});Zt.map(function(Ft){var cr=q.getFromId(We,Ft);if(cr.tickmode==="sync"&&cr.overlaying){var pr=Zt.findIndex(function(mr){return mr===cr.overlaying});pr>=0&&Zt.unshift(Zt.splice(pr,1).shift())}});var rr={false:{left:0,right:0}};return b.syncOrAsync(Zt.map(function(Ft){return function(){if(Ft){var cr=q.getFromId(We,Ft);zt||(zt={}),zt.axShifts=rr,zt.overlayingShiftedAx=lr;var pr=q.drawOne(We,cr,zt);return cr._shiftPusher&&fr(cr,cr._fullDepth||0,rr,!0),cr._r=cr.range.slice(),cr._rl=b.simpleMap(cr._r,cr.r2l),pr}}}))},q.drawOne=function(We,He,zt){zt=zt||{};var kt=zt.axShifts||{},Zt=zt.overlayingShiftedAx||[],er,lr,rr;He.setScale();var Ft=We._fullLayout,cr=He._id,pr=cr.charAt(0),mr=q.counterLetter(cr),hr=Ft._plots[He._mainSubplot];if(!hr)return;if(He._shiftPusher=He.autoshift||Zt.indexOf(He._id)!==-1||Zt.indexOf(He.overlaying)!==-1,He._shiftPusher&He.anchor==="free"){var Gr=He.linewidth/2||0;He.ticks==="inside"&&(Gr+=He.ticklen),fr(He,Gr,kt,!0),fr(He,He.shift||0,kt,!1)}(zt.skipTitle!==!0||He._shift===void 0)&&(He._shift=vr(He,kt));var Dr=hr[pr+"axislayer"],Ir=He._mainLinePosition,cn=Ir+=He._shift,rn=He._mainMirrorPosition,Cn=He._vals=q.calcTicks(He),Sn=[He.mirror,cn,rn].join("_");for(er=0;er<Cn.length;er++)Cn[er].axInfo=Sn;He._selections={},He._tickAngles&&(He._prevTickAngles=He._tickAngles),He._tickAngles={},He._depth=null;var Tr={};function Lr(Vr){var Qr=cr+(Vr||"tick");return Tr[Qr]||(Tr[Qr]=pt(He,Qr,cn)),Tr[Qr]}if(He.visible){var Wr=q.makeTransTickFn(He),Ur=q.makeTransTickLabelFn(He),an,pn,gn=He.ticks==="inside",En=He.ticks==="outside";if(He.tickson==="boundaries"){var On=je(He,Cn);pn=q.clipEnds(He,On),an=gn?pn:On}else pn=q.clipEnds(He,Cn),an=gn&&He.ticklabelmode!=="period"?pn:Cn;var ni=He._gridVals=pn,ci=ct(He,Cn);if(!Ft._hasOnlyLargeSploms){var di=He._subplotsWith,li={};for(er=0;er<di.length;er++){lr=di[er],rr=Ft._plots[lr];var ri=rr[mr+"axis"],br=ri._mainAxis._id;if(!li[br]){li[br]=1;var nn=pr==="x"?"M0,"+ri._offset+"v"+ri._length:"M"+ri._offset+",0h"+ri._length;q.drawGrid(We,He,{vals:ni,counterAxis:ri,layer:rr.gridlayer.select("."+cr),minorLayer:rr.minorGridlayer.select("."+cr),path:nn,transFn:Wr}),q.drawZeroLine(We,He,{counterAxis:ri,layer:rr.zerolinelayer,path:nn,transFn:Wr})}}}var $r,dn=q.getTickSigns(He),Vn=q.getTickSigns(He,"minor");if(He.ticks||He.minor&&He.minor.ticks){var wn=q.makeTickPath(He,cn,dn[2]),Tn=q.makeTickPath(He,cn,Vn[2],{minor:!0}),Nn,Jn,gi,_i;if(He._anchorAxis&&He.mirror&&He.mirror!==!0?(Nn=q.makeTickPath(He,rn,dn[3]),Jn=q.makeTickPath(He,rn,Vn[3],{minor:!0}),gi=wn+Nn,_i=Tn+Jn):(Nn="",Jn="",gi=wn,_i=Tn),He.showdividers&&En&&He.tickson==="boundaries"){var Sr={};for(er=0;er<ci.length;er++)Sr[ci[er].x]=1;$r=function(Vr){return Sr[Vr.x]?Nn:gi}}else $r=function(Vr){return Vr.minor?_i:gi}}if(q.drawTicks(We,He,{vals:an,layer:Dr,path:$r,transFn:Wr}),He.mirror==="allticks"){var zr=Object.keys(He._linepositions||{});for(er=0;er<zr.length;er++){lr=zr[er],rr=Ft._plots[lr];var Ar=He._linepositions[lr]||[],Fr=Ar[0],xn=Ar[1],In=Ar[2],hn=q.makeTickPath(He,Fr,In?dn[0]:Vn[0],{minor:In})+q.makeTickPath(He,xn,In?dn[1]:Vn[1],{minor:In});q.drawTicks(We,He,{vals:an,layer:rr[pr+"axislayer"],path:hn,transFn:Wr})}}var sn=[];if(sn.push(function(){return q.drawLabels(We,He,{vals:Cn,layer:Dr,plotinfo:rr,transFn:Ur,labelFns:q.makeLabelFns(He,cn)})}),He.type==="multicategory"){var Er={x:2,y:10}[pr];sn.push(function(){var Vr={x:"height",y:"width"}[pr],Qr=Lr()[Vr]+Er+(He._tickAngles[cr+"tick"]?He.tickfont.size*te:0);return q.drawLabels(We,He,{vals:tt(He,Cn),layer:Dr,cls:cr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Wr,labelFns:q.makeLabelFns(He,cn+Qr*dn[4])})}),sn.push(function(){return He._depth=dn[4]*(Lr("tick2")[He.side]-cn),_t(We,He,{vals:ci,layer:Dr,path:q.makeTickPath(He,cn,dn[4],{len:He._depth}),transFn:Wr})})}else He.title.hasOwnProperty("standoff")&&sn.push(function(){He._depth=dn[4]*(Lr()[He.side]-cn)});var jr=S.getComponentMethod("rangeslider","isVisible")(He);return!zt.skipTitle&&!(jr&&He.side==="bottom")&&sn.push(function(){return wr(We,He)}),sn.push(function(){var Vr=He.side.charAt(0),Qr=ne[He.side].charAt(0),bn=q.getPxPosition(We,He),Ln=En?He.ticklen:0,Pn,Bn,zn,yi;(He.automargin||jr||He._shiftPusher)&&(He.type==="multicategory"?Pn=Lr("tick2"):(Pn=Lr(),pr==="x"&&Vr==="b"&&(He._depth=Math.max(Pn.width>0?Pn.bottom-bn:0,Ln))));var ai=0,pi=0;if(He._shiftPusher&&(ai=Math.max(Ln,Pn.height>0?Vr==="l"?bn-Pn.left:Pn.right-bn:0),He.title.text!==Ft._dfltTitle[pr]&&(pi=(He._titleStandoff||0)+(He._titleScoot||0),Vr==="l"&&(pi+=Qt(He))),He._fullDepth=Math.max(ai,pi)),He.automargin){Bn={x:0,y:0,r:0,l:0,t:0,b:0};var Pi=[0,1],ga=typeof He._shift=="number"?He._shift:0;if(pr==="x"){if(Vr==="b"?Bn[Vr]=He._depth:(Bn[Vr]=He._depth=Math.max(Pn.width>0?bn-Pn.top:0,Ln),Pi.reverse()),Pn.width>0){var na=Pn.right-(He._offset+He._length);na>0&&(Bn.xr=1,Bn.r=na);var No=He._offset-Pn.left;No>0&&(Bn.xl=0,Bn.l=No)}}else if(Vr==="l"?(He._depth=Math.max(Pn.height>0?bn-Pn.left:0,Ln),Bn[Vr]=He._depth-ga):(He._depth=Math.max(Pn.height>0?Pn.right-bn:0,Ln),Bn[Vr]=He._depth+ga,Pi.reverse()),Pn.height>0){var Do=Pn.bottom-(He._offset+He._length);Do>0&&(Bn.yb=0,Bn.b=Do);var ro=He._offset-Pn.top;ro>0&&(Bn.yt=1,Bn.t=ro)}Bn[mr]=He.anchor==="free"?He.position:He._anchorAxis.domain[Pi[0]],He.title.text!==Ft._dfltTitle[pr]&&(Bn[Vr]+=Qt(He)+(He.title.standoff||0)),He.mirror&&He.anchor!=="free"&&(zn={x:0,y:0,r:0,l:0,t:0,b:0},zn[Qr]=He.linewidth,He.mirror&&He.mirror!==!0&&(zn[Qr]+=Ln),He.mirror===!0||He.mirror==="ticks"?zn[mr]=He._anchorAxis.domain[Pi[1]]:(He.mirror==="all"||He.mirror==="allticks")&&(zn[mr]=[He._counterDomainMin,He._counterDomainMax][Pi[1]]))}jr&&(yi=S.getComponentMethod("rangeslider","autoMarginOpts")(We,He)),typeof He.automargin=="string"&&(Ne(Bn,He.automargin),Ne(zn,He.automargin)),i.autoMargin(We,or(He),Bn),i.autoMargin(We,yt(He),zn),i.autoMargin(We,at(He),yi)}),b.syncOrAsync(sn)}};function Ne(We,He){if(We){var zt=Object.keys(I).reduce(function(kt,Zt){return He.indexOf(Zt)!==-1&&I[Zt].forEach(function(er){kt[er]=1}),kt},{});Object.keys(We).forEach(function(kt){zt[kt]||(kt.length===1?We[kt]=0:delete We[kt])})}}function je(We,He){var zt=[],kt,Zt=function(er,lr){var rr=er.xbnd[lr];rr!==null&&zt.push(b.extendFlat({},er,{x:rr}))};if(He.length){for(kt=0;kt<He.length;kt++)Zt(He[kt],0);Zt(He[kt-1],1)}return zt}function tt(We,He){for(var zt=[],kt={},Zt=0;Zt<He.length;Zt++){var er=He[Zt];kt[er.text2]?kt[er.text2].push(er.x):kt[er.text2]=[er.x]}for(var lr in kt)zt.push(mt(We,b.interp(kt[lr],.5),lr));return zt}function ct(We,He){var zt=[],kt,Zt,er=He.length&&He[He.length-1].x<He[0].x,lr=function(Ft,cr){var pr=Ft.xbnd[cr];pr!==null&&zt.push(b.extendFlat({},Ft,{x:pr}))};if(We.showdividers&&He.length){for(kt=0;kt<He.length;kt++){var rr=He[kt];rr.text2!==Zt&&lr(rr,er?1:0),Zt=rr.text2}lr(He[kt-1],er?0:1)}return zt}function pt(We,He,zt){var kt,Zt,er,lr;if(We._selections[He].size())kt=1/0,Zt=-1/0,er=1/0,lr=-1/0,We._selections[He].each(function(){var Ft=gr(this),cr=a.bBox(Ft.node().parentNode);kt=Math.min(kt,cr.top),Zt=Math.max(Zt,cr.bottom),er=Math.min(er,cr.left),lr=Math.max(lr,cr.right)});else{var rr=q.makeLabelFns(We,zt);kt=Zt=rr.yFn({dx:0,dy:0,fontSize:0}),er=lr=rr.xFn({dx:0,dy:0,fontSize:0})}return{top:kt,bottom:Zt,left:er,right:lr,height:Zt-kt,width:lr-er}}q.getTickSigns=function(We,He){var zt=We._id.charAt(0),kt={x:"top",y:"right"}[zt],Zt=We.side===kt?1:-1,er=[-1,1,Zt,-Zt],lr=He?(We.minor||{}).ticks:We.ticks;return lr!=="inside"==(zt==="x")&&(er=er.map(function(rr){return-rr})),We.side&&er.push({l:-1,t:-1,r:1,b:1}[We.side.charAt(0)]),er},q.makeTransTickFn=function(We){return We._id.charAt(0)==="x"?function(He){return v(We._offset+We.l2p(He.x),0)}:function(He){return v(0,We._offset+We.l2p(He.x))}},q.makeTransTickLabelFn=function(We){var He=Yt(We),zt=He[0],kt=He[1];return We._id.charAt(0)==="x"?function(Zt){return v(zt+We._offset+We.l2p(Xt(Zt)),kt)}:function(Zt){return v(kt,zt+We._offset+We.l2p(Xt(Zt)))}};function Xt(We){return We.periodX!==void 0?We.periodX:We.x}function Yt(We){var He=We.ticklabelposition||"",zt=function(Gr){return He.indexOf(Gr)!==-1},kt=zt("top"),Zt=zt("left"),er=zt("right"),lr=zt("bottom"),rr=zt("inside"),Ft=lr||Zt||kt||er;if(!Ft&&!rr)return[0,0];var cr=We.side,pr=Ft?(We.tickwidth||0)/2:0,mr=ue,hr=We.tickfont?We.tickfont.size:12;return(lr||kt)&&(pr+=hr*ee,mr+=(We.linewidth||0)/2),(Zt||er)&&(pr+=(We.linewidth||0)/2,mr+=ue),rr&&cr==="top"&&(mr-=hr*(1-ee)),(Zt||kt)&&(pr=-pr),(cr==="bottom"||cr==="right")&&(mr=-mr),[Ft?pr:0,rr?mr:0]}q.makeTickPath=function(We,He,zt,kt){kt||(kt={});var Zt=kt.minor;if(Zt&&!We.minor)return"";var er=kt.len!==void 0?kt.len:Zt?We.minor.ticklen:We.ticklen,lr=We._id.charAt(0),rr=(We.linewidth||1)/2;return lr==="x"?"M0,"+(He+rr*zt)+"v"+er*zt:"M"+(He+rr*zt)+",0h"+er*zt},q.makeLabelFns=function(We,He,zt){var kt=We.ticklabelposition||"",Zt=function(On){return kt.indexOf(On)!==-1},er=Zt("top"),lr=Zt("left"),rr=Zt("right"),Ft=Zt("bottom"),cr=Ft||lr||er||rr,pr=Zt("inside"),mr=kt==="inside"&&We.ticks==="inside"||!pr&&We.ticks==="outside"&&We.tickson!=="boundaries",hr=0,Gr=0,Dr=mr?We.ticklen:0;if(pr?Dr*=-1:cr&&(Dr=0),mr&&(hr+=Dr,zt)){var Ir=b.deg2rad(zt);hr=Dr*Math.cos(Ir)+1,Gr=Dr*Math.sin(Ir)}We.showticklabels&&(mr||We.showline)&&(hr+=.2*We.tickfont.size),hr+=(We.linewidth||1)/2*(pr?-1:1);var cn={labelStandoff:hr,labelShift:Gr},rn,Cn,Sn,Tr,Lr=0,Wr=We.side,Ur=We._id.charAt(0),an=We.tickangle,pn;if(Ur==="x")pn=!pr&&Wr==="bottom"||pr&&Wr==="top",Tr=pn?1:-1,pr&&(Tr*=-1),rn=Gr*Tr,Cn=He+hr*Tr,Sn=pn?1:-.2,Math.abs(an)===90&&(pr?Sn+=j:an===-90&&Wr==="bottom"?Sn=ee:an===90&&Wr==="top"?Sn=j:Sn=.5,Lr=j/2*(an/90)),cn.xFn=function(On){return On.dx+rn+Lr*On.fontSize},cn.yFn=function(On){return On.dy+Cn+On.fontSize*Sn},cn.anchorFn=function(On,ni){if(cr){if(lr)return"end";if(rr)return"start"}return!L(ni)||ni===0||ni===180?"middle":ni*Tr<0!==pr?"end":"start"},cn.heightFn=function(On,ni,ci){return ni<-60||ni>60?-.5*ci:We.side==="top"!==pr?-ci:0};else if(Ur==="y"){if(pn=!pr&&Wr==="left"||pr&&Wr==="right",Tr=pn?1:-1,pr&&(Tr*=-1),rn=hr,Cn=Gr*Tr,Sn=0,!pr&&Math.abs(an)===90&&(an===-90&&Wr==="left"||an===90&&Wr==="right"?Sn=ee:Sn=.5),pr){var gn=L(an)?+an:0;if(gn!==0){var En=b.deg2rad(gn);Lr=Math.abs(Math.sin(En))*ee*Tr,Sn=0}}cn.xFn=function(On){return On.dx+He-(rn+On.fontSize*Sn)*Tr+Lr*On.fontSize},cn.yFn=function(On){return On.dy+Cn+On.fontSize*j},cn.anchorFn=function(On,ni){return L(ni)&&Math.abs(ni)===90?"middle":pn?"end":"start"},cn.heightFn=function(On,ni,ci){return We.side==="right"&&(ni*=-1),ni<-30?-ci:ni<30?-.5*ci:0}}return cn};function Tt(We){return[We.text,We.x,We.axInfo,We.font,We.fontSize,We.fontColor].join("_")}q.drawTicks=function(We,He,zt){zt=zt||{};var kt=He._id+"tick",Zt=[].concat(He.minor&&He.minor.ticks?zt.vals.filter(function(lr){return lr.minor&&!lr.noTick}):[]).concat(He.ticks?zt.vals.filter(function(lr){return!lr.minor&&!lr.noTick}):[]),er=zt.layer.selectAll("path."+kt).data(Zt,Tt);er.exit().remove(),er.enter().append("path").classed(kt,1).classed("ticks",1).classed("crisp",zt.crisp!==!1).each(function(lr){return t.stroke(y.select(this),lr.minor?He.minor.tickcolor:He.tickcolor)}).style("stroke-width",function(lr){return a.crispRound(We,lr.minor?He.minor.tickwidth:He.tickwidth,1)+"px"}).attr("d",zt.path).style("display",null),ur(He,[N]),er.attr("transform",zt.transFn)},q.drawGrid=function(We,He,zt){if(zt=zt||{},He.tickmode!=="sync"){var kt=He._id+"grid",Zt=He.minor&&He.minor.showgrid,er=Zt?zt.vals.filter(function(rn){return rn.minor}):[],lr=He.showgrid?zt.vals.filter(function(rn){return!rn.minor}):[],rr=zt.counterAxis;if(rr&&q.shouldShowZeroLine(We,He,rr))for(var Ft=He.tickmode==="array",cr=0;cr<lr.length;cr++){var pr=lr[cr].x;if(Ft?!pr:Math.abs(pr)<He.dtick/100)if(lr=lr.slice(0,cr).concat(lr.slice(cr+1)),Ft)cr--;else break}He._gw=a.crispRound(We,He.gridwidth,1);for(var mr=Zt?a.crispRound(We,He.minor.gridwidth,1):0,hr=zt.layer,Gr=zt.minorLayer,Dr=1;Dr>=0;Dr--){var Ir=Dr?hr:Gr;if(Ir){var cn=Ir.selectAll("path."+kt).data(Dr?lr:er,Tt);cn.exit().remove(),cn.enter().append("path").classed(kt,1).classed("crisp",zt.crisp!==!1),cn.attr("transform",zt.transFn).attr("d",zt.path).each(function(rn){return t.stroke(y.select(this),rn.minor?He.minor.gridcolor:He.gridcolor||"#ddd")}).style("stroke-dasharray",function(rn){return a.dashStyle(rn.minor?He.minor.griddash:He.griddash,rn.minor?He.minor.gridwidth:He.gridwidth)}).style("stroke-width",function(rn){return(rn.minor?mr:He._gw)+"px"}).style("display",null),typeof zt.path=="function"&&cn.attr("d",zt.path)}}ur(He,[V,F])}},q.drawZeroLine=function(We,He,zt){zt=zt||zt;var kt=He._id+"zl",Zt=q.shouldShowZeroLine(We,He,zt.counterAxis),er=zt.layer.selectAll("path."+kt).data(Zt?[{x:0,id:He._id}]:[]);er.exit().remove(),er.enter().append("path").classed(kt,1).classed("zl",1).classed("crisp",zt.crisp!==!1).each(function(){zt.layer.selectAll("path").sort(function(lr,rr){return G(lr.id,rr.id)})}),er.attr("transform",zt.transFn).attr("d",zt.path).call(t.stroke,He.zerolinecolor||t.defaultLine).style("stroke-width",a.crispRound(We,He.zerolinewidth,He._gw||1)+"px").style("display",null),ur(He,[_])},q.drawLabels=function(We,He,zt){zt=zt||{};var kt=We._fullLayout,Zt=He._id,er=zt.cls||Zt+"tick",lr=zt.vals.filter(function(br){return br.text}),rr=zt.labelFns,Ft=zt.secondary?0:He.tickangle,cr=(He._prevTickAngles||{})[er],pr=zt.layer.selectAll("g."+er).data(He.showticklabels?lr:[],Tt),mr=[];pr.enter().append("g").classed(er,1).append("text").attr("text-anchor","middle").each(function(br){var nn=y.select(this),$r=We._promises.length;nn.call(p.positionText,rr.xFn(br),rr.yFn(br)).call(a.font,br.font,br.fontSize,br.fontColor).text(br.text).call(p.convertToTspans,We),We._promises[$r]?mr.push(We._promises.pop().then(function(){hr(nn,Ft)})):hr(nn,Ft)}),ur(He,[k]),pr.exit().remove(),zt.repositionOnUpdate&&pr.each(function(br){y.select(this).select("text").call(p.positionText,rr.xFn(br),rr.yFn(br))});function hr(br,nn){br.each(function($r){var dn=y.select(this),Vn=dn.select(".text-math-group"),wn=rr.anchorFn($r,nn),Tn=zt.transFn.call(dn.node(),$r)+(L(nn)&&+nn!=0?" rotate("+nn+","+rr.xFn($r)+","+(rr.yFn($r)-$r.fontSize/2)+")":""),Nn=p.lineCount(dn),Jn=te*$r.fontSize,gi=rr.heightFn($r,L(nn)?+nn:0,(Nn-1)*Jn);if(gi&&(Tn+=v(0,gi)),Vn.empty()){var _i=dn.select("text");_i.attr({transform:Tn,"text-anchor":wn}),_i.style("opacity",1),He._adjustTickLabelsOverflow&&He._adjustTickLabelsOverflow()}else{var Sr=a.bBox(Vn.node()).width,zr=Sr*{end:-.5,start:.5}[wn];Vn.attr("transform",Tn+v(zr,0))}})}He._adjustTickLabelsOverflow=function(){var br=He.ticklabeloverflow;if(!(!br||br==="allow")){var nn=br.indexOf("hide")!==-1,$r=He._id.charAt(0)==="x",dn=0,Vn=$r?We._fullLayout.width:We._fullLayout.height;if(br.indexOf("domain")!==-1){var wn=b.simpleMap(He.range,He.r2l);dn=He.l2p(wn[0])+He._offset,Vn=He.l2p(wn[1])+He._offset}var Tn=Math.min(dn,Vn),Nn=Math.max(dn,Vn),Jn=He.side,gi=1/0,_i=-1/0;pr.each(function(Fr){var xn=y.select(this),In=xn.select(".text-math-group");if(In.empty()){var hn=a.bBox(xn.node()),sn=0;$r?(hn.right>Nn||hn.left<Tn)&&(sn=1):(hn.bottom>Nn||hn.top+(He.tickangle?0:Fr.fontSize/4)<Tn)&&(sn=1);var Er=xn.select("text");sn?nn&&Er.style("opacity",0):(Er.style("opacity",1),Jn==="bottom"||Jn==="right"?gi=Math.min(gi,$r?hn.top:hn.left):gi=-1/0,Jn==="top"||Jn==="left"?_i=Math.max(_i,$r?hn.bottom:hn.right):_i=1/0)}});for(var Sr in kt._plots){var zr=kt._plots[Sr];if(!(He._id!==zr.xaxis._id&&He._id!==zr.yaxis._id)){var Ar=$r?zr.yaxis:zr.xaxis;Ar&&(Ar["_visibleLabelMin_"+He._id]=gi,Ar["_visibleLabelMax_"+He._id]=_i)}}}},He._hideCounterAxisInsideTickLabels=function(br){var nn=He._id.charAt(0)==="x",$r=[];for(var dn in kt._plots){var Vn=kt._plots[dn];He._id!==Vn.xaxis._id&&He._id!==Vn.yaxis._id||$r.push(nn?Vn.yaxis:Vn.xaxis)}$r.forEach(function(wn,Tn){wn&&Kt(wn)&&(br||[_,F,V,N,k]).forEach(function(Nn){var Jn=Nn.K==="tick"&&Nn.L==="text"&&He.ticklabelmode==="period",gi=kt._plots[He._mainSubplot],_i;Nn.K===_.K?_i=gi.zerolinelayer.selectAll("."+He._id+"zl"):Nn.K===F.K?_i=gi.minorGridlayer.selectAll("."+He._id):Nn.K===V.K?_i=gi.gridlayer.selectAll("."+He._id):_i=gi[He._id.charAt(0)+"axislayer"],_i.each(function(){var Sr=y.select(this);Nn.L&&(Sr=Sr.selectAll(Nn.L)),Sr.each(function(zr){var Ar=He.l2p(Jn?Xt(zr):zr.x)+He._offset,Fr=y.select(this);Ar<He["_visibleLabelMax_"+wn._id]&&Ar>He["_visibleLabelMin_"+wn._id]?Fr.style("display","none"):Nn.K==="tick"&&!Tn&&Fr.style("display",null)})})})})},hr(pr,cr+1?cr:Ft);function Gr(){return mr.length&&Promise.all(mr)}var Dr=null;function Ir(){if(hr(pr,Ft),lr.length&&He.autotickangles&&(He.type!=="log"||String(He.dtick).charAt(0)!=="D")){Dr=He.autotickangles[0];var br=0,nn=[],$r,dn=1;if(pr.each(function(Ln){br=Math.max(br,Ln.fontSize);var Pn=He.l2p(Ln.x),Bn=gr(this),zn=a.bBox(Bn.node());dn=Math.max(dn,p.lineCount(Bn)),nn.push({top:0,bottom:10,height:10,left:Pn-zn.width/2,right:Pn+zn.width/2+2,width:zn.width+2})}),(He.tickson==="boundaries"||He.showdividers)&&!zt.secondary){var Vn=2;for(He.ticks&&(Vn+=He.tickwidth/2),$r=0;$r<nn.length;$r++){var wn=lr[$r].xbnd,Tn=nn[$r];if(wn[0]!==null&&Tn.left-He.l2p(wn[0])<Vn||wn[1]!==null&&He.l2p(wn[1])-Tn.right<Vn){Dr=90;break}}}else{var Nn=lr.length,Jn=Math.abs((lr[Nn-1].x-lr[0].x)*He._m)/(Nn-1),gi=He.ticklabelposition||"",_i=function(Ln){return gi.indexOf(Ln)!==-1},Sr=_i("top"),zr=_i("left"),Ar=_i("right"),Fr=_i("bottom"),xn=Fr||zr||Sr||Ar,In=xn?(He.tickwidth||0)+2*ue:0,hn=Jn,sn=br*1.25*dn,Er=Math.sqrt(Math.pow(hn,2)+Math.pow(sn,2)),jr=hn/Er,Vr=He.autotickangles.map(function(Ln){return Ln*Math.PI/180}),Qr=Vr.find(function(Ln){return Math.abs(Math.cos(Ln))<=jr});Qr===void 0&&(Qr=Vr.reduce(function(Ln,Pn){return Math.abs(Math.cos(Ln))<Math.abs(Math.cos(Pn))?Ln:Pn},Vr[0]));var bn=Qr*(180/Math.PI);for($r=0;$r<nn.length-1;$r++)if(b.bBoxIntersect(nn[$r],nn[$r+1],In)){Dr=bn;break}}Dr&&hr(pr,Dr)}}He._selections&&(He._selections[er]=pr);var cn=[Gr];He.automargin&&kt._redrawFromAutoMarginCount&&cr===90?(Dr=cr,cn.push(function(){hr(pr,cr)})):cn.push(Ir),He._tickAngles&&cn.push(function(){He._tickAngles[er]=Dr===null?L(Ft)?Ft:0:Dr});var rn=function(){var br=0,nn=0;return pr.each(function($r,dn){var Vn=gr(this),wn=Vn.select(".text-math-group");if(wn.empty()){var Tn;He._vals[dn]&&(Tn=He._vals[dn].bb||a.bBox(Vn.node()),He._vals[dn].bb=Tn),br=Math.max(br,Tn.width),nn=Math.max(nn,Tn.height)}}),{labelsMaxW:br,labelsMaxH:nn}},Cn=He._anchorAxis;if(Cn&&(Cn.autorange||Cn.insiderange)&&Kt(He)&&!K(kt,He._id)&&(kt._insideTickLabelsUpdaterange||(kt._insideTickLabelsUpdaterange={}),Cn.autorange&&(kt._insideTickLabelsUpdaterange[Cn._name+".autorange"]=Cn.autorange,cn.push(rn)),Cn.insiderange)){var Sn=rn(),Tr=He._id.charAt(0)==="y"?Sn.labelsMaxW:Sn.labelsMaxH;Tr+=2*ue,He.ticklabelposition==="inside"&&(Tr+=He.ticklen||0);var Lr=He.side==="right"||He.side==="top"?1:-1,Wr=Lr===1?1:0,Ur=Lr===1?0:1,an=[];an[Ur]=Cn.range[Ur];var pn=Cn.range,gn=Cn.r2p(pn[Wr]),En=Cn.r2p(pn[Ur]),On=kt._insideTickLabelsUpdaterange[Cn._name+".range"];if(On){var ni=Cn.r2p(On[Wr]),ci=Cn.r2p(On[Ur]),di=Lr*(He._id.charAt(0)==="y"?1:-1);di*gn<di*ni&&(gn=ni,an[Wr]=pn[Wr]=On[Wr]),di*En>di*ci&&(En=ci,an[Ur]=pn[Ur]=On[Ur])}var li=Math.abs(En-gn);li-Tr>0?(li-=Tr,Tr*=1+Tr/li):Tr=0,He._id.charAt(0)!=="y"&&(Tr=-Tr),an[Wr]=Cn.p2r(Cn.r2p(pn[Wr])+Lr*Tr),Cn.autorange==="min"||Cn.autorange==="max reversed"?(an[0]=null,Cn._rangeInitial0=void 0,Cn._rangeInitial1=void 0):(Cn.autorange==="max"||Cn.autorange==="min reversed")&&(an[1]=null,Cn._rangeInitial0=void 0,Cn._rangeInitial1=void 0),kt._insideTickLabelsUpdaterange[Cn._name+".range"]=an}var ri=b.syncOrAsync(cn);return ri&&ri.then&&We._promises.push(ri),ri};function _t(We,He,zt){var kt=He._id+"divider",Zt=zt.vals,er=zt.layer.selectAll("path."+kt).data(Zt,Tt);er.exit().remove(),er.enter().insert("path",":first-child").classed(kt,1).classed("crisp",1).call(t.stroke,He.dividercolor).style("stroke-width",a.crispRound(We,He.dividerwidth,1)+"px"),er.attr("transform",zt.transFn).attr("d",zt.path)}q.getPxPosition=function(We,He){var zt=We._fullLayout._size,kt=He._id.charAt(0),Zt=He.side,er;if(He.anchor!=="free"?er=He._anchorAxis:kt==="x"?er={_offset:zt.t+(1-(He.position||0))*zt.h,_length:0}:kt==="y"&&(er={_offset:zt.l+(He.position||0)*zt.w+He._shift,_length:0}),Zt==="top"||Zt==="left")return er._offset;if(Zt==="bottom"||Zt==="right")return er._offset+er._length};function Qt(We){var He=We.title.font.size,zt=(We.title.text.match(p.BR_TAG_ALL)||[]).length;return We.title.hasOwnProperty("standoff")?zt?He*(ee+zt*te):He*ee:zt?He*(zt+1)*te:He}function wr(We,He){var zt=We._fullLayout,kt=He._id,Zt=kt.charAt(0),er=He.title.font.size,lr;if(He.title.hasOwnProperty("standoff"))lr=He._depth+He.title.standoff+Qt(He);else{var rr=Kt(He);if(He.type==="multicategory")lr=He._depth;else{var Ft=1.5*er;rr&&(Ft=.5*er,He.ticks==="outside"&&(Ft+=He.ticklen)),lr=10+Ft+(He.linewidth?He.linewidth-1:0)}rr||(Zt==="x"?lr+=He.side==="top"?er*(He.showticklabels?1:0):er*(He.showticklabels?1.5:.5):lr+=He.side==="right"?er*(He.showticklabels?1:.5):er*(He.showticklabels?.5:0))}var cr=q.getPxPosition(We,He),pr,mr,hr;Zt==="x"?(mr=He._offset+He._length/2,hr=He.side==="top"?cr-lr:cr+lr):(hr=He._offset+He._length/2,mr=He.side==="right"?cr+lr:cr-lr,pr={rotate:"-90",offset:0});var Gr;if(He.type!=="multicategory"){var Dr=He._selections[He._id+"tick"];if(Gr={selection:Dr,side:He.side},Dr&&Dr.node()&&Dr.node().parentNode){var Ir=a.getTranslate(Dr.node().parentNode);Gr.offsetLeft=Ir.x,Gr.offsetTop=Ir.y}He.title.hasOwnProperty("standoff")&&(Gr.pad=0)}return He._titleStandoff=lr,r.draw(We,kt+"title",{propContainer:He,propName:He._name+".title.text",placeholder:zt._dfltTitle[Zt],avoid:Gr,transform:pr,attributes:{x:mr,y:hr,"text-anchor":"middle"}})}q.shouldShowZeroLine=function(We,He,zt){var kt=b.simpleMap(He.range,He.r2l);return kt[0]*kt[1]<=0&&He.zeroline&&(He.type==="linear"||He.type==="-")&&!(He.rangebreaks&&He.maskBreaks(0)===z)&&(xt(He,0)||!jt(We,He,zt,kt)||Jt(We,He))},q.clipEnds=function(We,He){return He.filter(function(zt){return xt(We,zt.x)})};function xt(We,He){var zt=We.l2p(He);return zt>1&&zt<We._length-1}function jt(We,He,zt,kt){var Zt=zt._mainAxis;if(!Zt)return;var er=We._fullLayout,lr=He._id.charAt(0),rr=q.counterLetter(He._id),Ft=He._offset+(Math.abs(kt[0])<Math.abs(kt[1])==(lr==="x")?0:He._length);function cr(Dr){if(!Dr.showline||!Dr.linewidth)return!1;var Ir=Math.max((Dr.linewidth+He.zerolinewidth)/2,1);function cn(Sn){return typeof Sn=="number"&&Math.abs(Sn-Ft)<Ir}if(cn(Dr._mainLinePosition)||cn(Dr._mainMirrorPosition))return!0;var rn=Dr._linepositions||{};for(var Cn in rn)if(cn(rn[Cn][0])||cn(rn[Cn][1]))return!0}var pr=er._plots[zt._mainSubplot];if(!(pr.mainplotinfo||pr).overlays.length)return cr(zt);for(var mr=q.list(We,rr),hr=0;hr<mr.length;hr++){var Gr=mr[hr];if(Gr._mainAxis===Zt&&cr(Gr))return!0}}function Jt(We,He){for(var zt=We._fullData,kt=He._mainSubplot,Zt=He._id.charAt(0),er=0;er<zt.length;er++){var lr=zt[er];if(lr.visible===!0&&lr.xaxis+lr.yaxis===kt&&(S.traceIs(lr,"bar-like")&&lr.orientation==={x:"h",y:"v"}[Zt]||lr.fill&&lr.fill.charAt(lr.fill.length-1)===Zt))return!0}return!1}function gr(We){var He=y.select(We),zt=He.select(".text-math-group");return zt.empty()?He.select("text"):zt}q.allowAutoMargin=function(We){for(var He=q.list(We,"",!0),zt=0;zt<He.length;zt++){var kt=He[zt];kt.automargin&&(i.allowAutoMargin(We,or(kt)),kt.mirror&&i.allowAutoMargin(We,yt(kt))),S.getComponentMethod("rangeslider","isVisible")(kt)&&i.allowAutoMargin(We,at(kt))}};function or(We){return We._id+".automargin"}function yt(We){return or(We)+".mirror"}function at(We){return We._id+".rangeslider"}q.swap=function(We,He){for(var zt=wt(We,He),kt=0;kt<zt.length;kt++)Rt(We,zt[kt].x,zt[kt].y)};function wt(We,He){var zt=[],kt,Zt;for(kt=0;kt<He.length;kt++){var er=[],lr=We._fullData[He[kt]].xaxis,rr=We._fullData[He[kt]].yaxis;if(!(!lr||!rr)){for(Zt=0;Zt<zt.length;Zt++)(zt[Zt].x.indexOf(lr)!==-1||zt[Zt].y.indexOf(rr)!==-1)&&er.push(Zt);if(!er.length){zt.push({x:[lr],y:[rr]});continue}var Ft=zt[er[0]],cr;if(er.length>1)for(Zt=1;Zt<er.length;Zt++)cr=zt[er[Zt]],Et(Ft.x,cr.x),Et(Ft.y,cr.y);Et(Ft.x,[lr]),Et(Ft.y,[rr])}}return zt}function Et(We,He){for(var zt=0;zt<He.length;zt++)We.indexOf(He[zt])===-1&&We.push(He[zt])}function Rt(We,He,zt){var kt=[],Zt=[],er=We.layout,lr,rr;for(lr=0;lr<He.length;lr++)kt.push(q.getFromId(We,He[lr]));for(lr=0;lr<zt.length;lr++)Zt.push(q.getFromId(We,zt[lr]));var Ft=Object.keys(n),cr=["anchor","domain","overlaying","position","side","tickangle","editType"],pr=["linear","log"];for(lr=0;lr<Ft.length;lr++){var mr=Ft[lr],hr=kt[0][mr],Gr=Zt[0][mr],Dr=!0,Ir=!1,cn=!1;if(!(mr.charAt(0)==="_"||typeof hr=="function"||cr.indexOf(mr)!==-1)){for(rr=1;rr<kt.length&&Dr;rr++){var rn=kt[rr][mr];mr==="type"&&pr.indexOf(hr)!==-1&&pr.indexOf(rn)!==-1&&hr!==rn?Ir=!0:rn!==hr&&(Dr=!1)}for(rr=1;rr<Zt.length&&Dr;rr++){var Cn=Zt[rr][mr];mr==="type"&&pr.indexOf(Gr)!==-1&&pr.indexOf(Cn)!==-1&&Gr!==Cn?cn=!0:Zt[rr][mr]!==Gr&&(Dr=!1)}Dr&&(Ir&&(er[kt[0]._name].type="linear"),cn&&(er[Zt[0]._name].type="linear"),Dt(er,mr,kt,Zt,We._fullLayout._dfltTitle))}}for(lr=0;lr<We._fullLayout.annotations.length;lr++){var Sn=We._fullLayout.annotations[lr];He.indexOf(Sn.xref)!==-1&&zt.indexOf(Sn.yref)!==-1&&b.swapAttrs(er.annotations[lr],["?"])}}function Dt(We,He,zt,kt,Zt){var er=b.nestedProperty,lr=er(We[zt[0]._name],He).get(),rr=er(We[kt[0]._name],He).get(),Ft;for(He==="title"&&(lr&&lr.text===Zt.x&&(lr.text=Zt.y),rr&&rr.text===Zt.y&&(rr.text=Zt.x)),Ft=0;Ft<zt.length;Ft++)er(We,zt[Ft]._name+"."+He).set(rr);for(Ft=0;Ft<kt.length;Ft++)er(We,kt[Ft]._name+"."+He).set(lr)}function Ut(We){return We._id==="angularaxis"}function Nt(We,He){for(var zt=He._rangebreaks.length,kt=0;kt<zt;kt++){var Zt=He._rangebreaks[kt];if(We>=Zt.min&&We<Zt.max)return Zt.max}return We}function Kt(We){return(We.ticklabelposition||"").indexOf("inside")!==-1}function ur(We,He){Kt(We._anchorAxis||{})&&We._hideCounterAxisInsideTickLabels&&We._hideCounterAxisInsideTickLabels(He)}function fr(We,He,zt,kt){var Zt=We.anchor!=="free"&&(We.overlaying===void 0||We.overlaying===!1)?We._id:We.overlaying,er;kt?er=We.side==="right"?He:-He:er=He,Zt in zt||(zt[Zt]={}),We.side in zt[Zt]||(zt[Zt][We.side]=0),zt[Zt][We.side]+=er}function vr(We,He){return We.autoshift?He[We.overlaying][We.side]:We.shift||0}},52976:function(U,B,e){var y=e(38248),L=e(3400),i=e(39032).BADNUM,S=L.isArrayOrTypedArray,b=L.isDateTime,v=L.cleanNumber,p=Math.round;U.exports=function(m,h,g){var c=m,o=g.noMultiCategory;if(S(c)&&!c.length)return"-";if(!o&&s(c))return"multicategory";if(o&&Array.isArray(c[0])){for(var d=[],w=0;w<c.length;w++)if(S(c[w]))for(var A=0;A<c[w].length;A++)d.push(c[w][A]);c=d}if(a(c,h))return"date";var C=g.autotypenumbers!=="strict";return u(c,C)?"category":t(c,C)?"linear":"-"};function r(l,m){return m?y(l):typeof l=="number"}function t(l,m){for(var h=l.length,g=0;g<h;g++)if(r(l[g],m))return!0;return!1}function a(l,m){for(var h=l.length,g=n(h),c=0,o=0,d={},w=0;w<h;w+=g){var A=p(w),C=l[A],x=String(C);d[x]||(d[x]=1,b(C,m)&&c++,y(C)&&o++)}return c>o*2}function n(l){return Math.max(1,(l-1)/1e3)}function u(l,m){for(var h=l.length,g=n(h),c=0,o=0,d={},w=0;w<h;w+=g){var A=p(w),C=l[A],x=String(C);if(!d[x]){d[x]=1;var E=typeof C;E==="boolean"?o++:(m?v(C)!==i:E==="number")?c++:E==="string"&&o++}}return o>c*2}function s(l){return S(l[0])&&S(l[1])}},28336:function(U,B,e){var y=e(38248),L=e(24040),i=e(3400),S=e(31780),b=e(51272),v=e(94724),p=e(26332),r=e(25404),t=e(95936),a=e(42568),n=e(22416),u=e(42136),s=e(96312),l=e(78344),m=e(33816).WEEKDAY_PATTERN,h=e(33816).HOUR_PATTERN;U.exports=function(w,A,C,x,E){var M=x.letter,f=x.font||{},P=x.splomStash||{},T=C("visible",!x.visibleDflt),z=A._template||{},_=A.type||z.type||"-",V;if(_==="date"){var F=L.getComponentMethod("calendars","handleDefaults");F(w,A,"calendar",x.calendar),x.noTicklabelmode||(V=C("ticklabelmode"))}var N="";(!x.noTicklabelposition||_==="multicategory")&&(N=i.coerce(w,A,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:V==="period"?["outside","inside"]:M==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),x.noTicklabeloverflow||C("ticklabeloverflow",N.indexOf("inside")!==-1?"hide past domain":_==="category"||_==="multicategory"?"allow":"hide past div"),l(A,E),s(w,A,C,x),n(w,A,C,x),_!=="category"&&!x.noHover&&C("hoverformat");var k=C("color"),I=k!==v.color.dflt?k:f.color,H=P.label||E._dfltTitle[M];if(a(w,A,C,_,x),!T)return A;C("title.text",H),i.coerceFont(C,"title.font",{family:f.family,size:i.bigFont(f.size),color:I}),p(w,A,C,_);var j=x.hasMinor;if(j&&(S.newContainer(A,"minor"),p(w,A,C,_,{isMinor:!0})),t(w,A,C,_,x),r(w,A,C,x),j){var ee=x.isMinor;x.isMinor=!0,r(w,A,C,x),x.isMinor=ee}u(w,A,C,{dfltColor:k,bgColor:x.bgColor,showGrid:x.showGrid,hasMinor:j,attributes:v}),j&&!A.minor.ticks&&!A.minor.showgrid&&delete A.minor,(A.showline||A.ticks)&&C("mirror");var te=_==="multicategory";if(!x.noTickson&&(_==="category"||te)&&(A.ticks||A.showgrid)){var ne;te&&(ne="boundaries");var ue=C("tickson",ne);ue==="boundaries"&&delete A.ticklabelposition}if(te){var q=C("showdividers");q&&(C("dividercolor"),C("dividerwidth"))}if(_==="date")if(b(w,A,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:g}),!A.rangebreaks.length)delete A.rangebreaks;else{for(var Y=0;Y<A.rangebreaks.length;Y++)if(A.rangebreaks[Y].pattern===m){A._hasDayOfWeekBreaks=!0;break}if(l(A,E),E._has("scattergl")||E._has("splom"))for(var Z=0;Z<x.data.length;Z++){var G=x.data[Z];(G.type==="scattergl"||G.type==="splom")&&(G.visible=!1,i.warn(G.type+" traces do not work on axes with rangebreaks. Setting trace "+G.index+" to `visible: false`."))}}return A};function g(d,w,A){function C(V,F){return i.coerce(d,w,v.rangebreaks,V,F)}var x=C("enabled");if(x){var E=C("bounds");if(E&&E.length>=2){var M="",f,P;if(E.length===2){for(f=0;f<2;f++)if(P=o(E[f]),P){M=m;break}}var T=C("pattern",M);if(T===m)for(f=0;f<2;f++)P=o(E[f]),P&&(w.bounds[f]=E[f]=P-1);if(T)for(f=0;f<2;f++)switch(P=E[f],T){case m:if(!y(P)){w.enabled=!1;return}if(P=+P,P!==Math.floor(P)||P<0||P>=7){w.enabled=!1;return}w.bounds[f]=E[f]=P;break;case h:if(!y(P)){w.enabled=!1;return}if(P=+P,P<0||P>24){w.enabled=!1;return}w.bounds[f]=E[f]=P;break}if(A.autorange===!1){var z=A.range;if(z[0]<z[1]){if(E[0]<z[0]&&E[1]>z[1]){w.enabled=!1;return}}else if(E[0]>z[0]&&E[1]<z[1]){w.enabled=!1;return}}}else{var _=C("values");if(_&&_.length)C("dvalue");else{w.enabled=!1;return}}}}var c={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function o(d){if(typeof d=="string")return c[d.substr(0,3).toLowerCase()]}},29736:function(U,B,e){var y=e(26880),L=y.FORMAT_LINK,i=y.DATE_FORMAT_LINK;function S(p,r){return{valType:"string",dflt:"",editType:"none",description:(r?b:v)("hover text",p)+["By default the values are formatted using "+(r?"generic number format":"`"+p+"axis.hoverformat`")+"."].join(" ")}}function b(p,r){return["Sets the "+p+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+L+"."].join(" ")}function v(p,r){return b(p,r)+[" And for dates see: "+i+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}U.exports={axisHoverFormat:S,descriptionOnlyNumbers:b,descriptionWithDates:v}},79811:function(U,B,e){var y=e(24040),L=e(33816);B.id2name=function(b){if(!(typeof b!="string"||!b.match(L.AX_ID_PATTERN))){var v=b.split(" ")[0].substr(1);return v==="1"&&(v=""),b.charAt(0)+"axis"+v}},B.name2id=function(b){if(b.match(L.AX_NAME_PATTERN)){var v=b.substr(5);return v==="1"&&(v=""),b.charAt(0)+v}},B.cleanId=function(b,v,p){var r=/( domain)$/.test(b);if(!(typeof b!="string"||!b.match(L.AX_ID_PATTERN))&&!(v&&b.charAt(0)!==v)&&!(r&&!p)){var t=b.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),b.charAt(0)+t+(r&&p?" domain":"")}},B.list=function(S,b,v){var p=S._fullLayout;if(!p)return[];var r=B.listIds(S,b),t=new Array(r.length),a;for(a=0;a<r.length;a++){var n=r[a];t[a]=p[n.charAt(0)+"axis"+n.substr(1)]}if(!v){var u=p._subplots.gl3d||[];for(a=0;a<u.length;a++){var s=p[u[a]];b?t.push(s[b+"axis"]):t.push(s.xaxis,s.yaxis,s.zaxis)}}return t},B.listIds=function(S,b){var v=S._fullLayout;if(!v)return[];var p=v._subplots;return b?p[b+"axis"]:p.xaxis.concat(p.yaxis)},B.getFromId=function(S,b,v){var p=S._fullLayout;return b=b===void 0||typeof b!="string"?b:b.replace(" domain",""),v==="x"?b=b.replace(/y[0-9]*/,""):v==="y"&&(b=b.replace(/x[0-9]*/,"")),p[B.id2name(b)]},B.getFromTrace=function(S,b,v){var p=S._fullLayout,r=null;if(y.traceIs(b,"gl3d")){var t=b.scene;t.substr(0,5)==="scene"&&(r=p[t][v+"axis"])}else r=B.getFromId(S,b[v+"axis"]||v);return r},B.idSort=function(S,b){var v=S.charAt(0),p=b.charAt(0);return v!==p?v>p?1:-1:+(S.substr(1)||1)-+(b.substr(1)||1)},B.ref2id=function(S){return/^[xyz]/.test(S)?S.split(" ")[0]:!1};function i(S,b){if(b&&b.length){for(var v=0;v<b.length;v++)if(b[v][S])return!0}return!1}B.isLinked=function(S,b){return i(b,S._axisMatchGroups)||i(b,S._axisConstraintGroups)}},22416:function(U,B,e){var y=e(38116).isTypedArraySpec;function L(i,S){var b=S.dataAttr||i._id.charAt(0),v={},p,r,t;if(S.axData)p=S.axData;else for(p=[],r=0;r<S.data.length;r++){var a=S.data[r];a[b+"axis"]===i._id&&p.push(a)}for(r=0;r<p.length;r++){var n=p[r][b];for(t=0;t<n.length;t++){var u=n[t];u!=null&&(v[u]=1)}}return Object.keys(v)}U.exports=function(S,b,v,p){if(b.type==="category"){var r=S.categoryarray,t=Array.isArray(r)&&r.length>0||y(r),a;t&&(a="array");var n=v("categoryorder",a),u;n==="array"&&(u=v("categoryarray")),!t&&n==="array"&&(n=b.categoryorder="trace"),n==="trace"?b._initialCategories=[]:n==="array"?b._initialCategories=u.slice():(u=L(b,p).sort(),n==="category ascending"?b._initialCategories=u:n==="category descending"&&(b._initialCategories=u.reverse()))}}},98728:function(U,B,e){var y=e(38248),L=e(3400),i=e(39032),S=i.ONEDAY,b=i.ONEWEEK;B.dtick=function(v,p){var r=p==="log",t=p==="date",a=p==="category",n=t?S:1;if(!v)return n;if(y(v))return v=Number(v),v<=0?n:a?Math.max(1,Math.round(v)):t?Math.max(.1,v):v;if(typeof v!="string"||!(t||r))return n;var u=v.charAt(0),s=v.substr(1);return s=y(s)?Number(s):0,s<=0||!(t&&u==="M"&&s===Math.round(s)||r&&u==="L"||r&&u==="D"&&(s===1||s===2))?n:v},B.tick0=function(v,p,r,t){if(p==="date")return L.cleanDate(v,L.dateTick0(r,t%b===0?1:0));if(!(t==="D1"||t==="D2"))return y(v)?Number(v):0}},33816:function(U,B,e){var y=e(53756).counter;U.exports={idRegex:{x:y("x","( domain)?"),y:y("y","( domain)?")},attrRegex:y("[xy]axis"),xAxisMatch:y("xaxis"),yAxisMatch:y("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(U,B,e){var y=e(3400),L=e(19280),i=e(79811).id2name,S=e(94724),b=e(21160),v=e(78344),p=e(39032).ALMOST_EQUAL,r=e(84284).FROM_BL;B.handleDefaults=function(h,g,c){var o=c.axIds,d=c.axHasImage,w=g._axisConstraintGroups=[],A=g._axisMatchGroups=[],C,x,E,M,f,P,T,z;for(C=0;C<o.length;C++)M=i(o[C]),f=h[M],P=g[M],t(f,P,{axIds:o,layoutOut:g,hasImage:d[M]});function _(te,ne){for(C=0;C<te.length;C++){x=te[C];for(E in x)g[i(E)][ne]=x}}for(_(A,"_matchGroup"),C=0;C<w.length;C++){x=w[C];for(E in x)if(P=g[i(E)],P.fixedrange){for(var V in x){var F=i(V);(h[F]||{}).fixedrange===!1&&y.warn("fixedrange was specified as false for axis "+F+" but was overridden because another axis in its constraint group has fixedrange true"),g[F].fixedrange=!0}break}}for(C=0;C<w.length;){x=w[C];for(E in x){P=g[i(E)],P._matchGroup&&Object.keys(P._matchGroup).length===Object.keys(x).length&&(w.splice(C,1),C--);break}C++}_(w,"_constraintGroup");var N=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],k=!1,I=!1;function H(){z=P[T],T==="rangebreaks"&&(I=P._hasDayOfWeekBreaks)}for(C=0;C<A.length;C++){x=A[C];for(var j=0;j<N.length;j++){T=N[j],z=null;var ee;for(E in x)if(M=i(E),f=h[M],P=g[M],T in P){if(!P.matches&&(ee=P,T in f)){H();break}z===null&&T in f&&H()}if(T==="range"&&z&&f.range&&f.range.length===2&&f.range[0]!==null&&f.range[1]!==null&&(k=!0),T==="autorange"&&z===null&&k&&(z=!1),z===null&&T in ee&&(z=ee[T]),z!==null)for(E in x)P=g[i(E)],P[T]=T==="range"?z.slice():z,T==="rangebreaks"&&(P._hasDayOfWeekBreaks=I,v(P,g))}}};function t(h,g,c){var o=c.axIds,d=c.layoutOut,w=c.hasImage,A=d._axisConstraintGroups,C=d._axisMatchGroups,x=g._id,E=x.charAt(0),M=((d._splomAxes||{})[E]||{})[x]||{},f=g._id,P=f.charAt(0)==="x";g._matchGroup=null,g._constraintGroup=null;function T(Y,Z){return y.coerce(h,g,S,Y,Z)}T("constrain",w?"domain":"range"),y.coerce(h,g,{constraintoward:{valType:"enumerated",values:P?["left","center","right"]:["bottom","middle","top"],dflt:P?"center":"middle"}},"constraintoward");var z=g.type,_,V,F=[];for(_=0;_<o.length;_++)if(V=o[_],V!==f){var N=d[i(V)];N.type===z&&F.push(V)}var k=n(A,f);if(k){var I=[];for(_=0;_<F.length;_++)V=F[_],k[V]||I.push(V);F=I}var H=F.length,j,ee;H&&(h.matches||M.matches)&&(j=y.coerce(h,g,{matches:{valType:"enumerated",values:F,dflt:F.indexOf(M.matches)!==-1?M.matches:void 0}},"matches"));var te=w&&!P?g.anchor:void 0;if(H&&!j&&(h.scaleanchor||te)&&(ee=y.coerce(h,g,{scaleanchor:{valType:"enumerated",values:F.concat([!1])}},"scaleanchor",te)),j){g._matchGroup=u(C,f,j,1);var ne=d[i(j)],ue=a(d,g)/a(d,ne);P!==(j.charAt(0)==="x")&&(ue=(P?"x":"y")+ue),u(A,f,j,ue)}else h.matches&&o.indexOf(h.matches)!==-1&&y.warn("ignored "+g._name+'.matches: "'+h.matches+'" to avoid an infinite loop');if(ee){var q=T("scaleratio");q||(q=g.scaleratio=1),u(A,f,ee,q)}else h.scaleanchor&&o.indexOf(h.scaleanchor)!==-1&&y.warn("ignored "+g._name+'.scaleanchor: "'+h.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function a(h,g){var c=g.domain;return c||(c=h[i(g.overlaying)].domain),c[1]-c[0]}function n(h,g){for(var c=0;c<h.length;c++)if(h[c][g])return h[c];return null}function u(h,g,c,o){var d,w,A,C,x,E=n(h,g);E===null?(E={},E[g]=1,x=h.length,h.push(E)):x=h.indexOf(E);var M=Object.keys(E);for(d=0;d<h.length;d++)if(A=h[d],d!==x&&A[c]){var f=A[c];for(w=0;w<M.length;w++)C=M[w],A[C]=s(f,s(o,E[C]));h.splice(x,1);return}if(o!==1)for(w=0;w<M.length;w++){var P=M[w];E[P]=s(o,E[P])}E[c]=1}function s(h,g){var c="",o="",d,w;typeof h=="string"&&(c=h.match(/^[xy]*/)[0],d=c.length,h=+h.substr(d)),typeof g=="string"&&(o=g.match(/^[xy]*/)[0],w=o.length,g=+g.substr(w));var A=h*g;return!d&&!w?A:!d||!w||c.charAt(0)===o.charAt(0)?c+o+h*g:d===w?A:(d>w?c.substr(w):o.substr(d))+A}function l(h,g){for(var c=g._size,o=c.h/c.w,d={},w=Object.keys(h),A=0;A<w.length;A++){var C=w[A],x=h[C];if(typeof x=="string"){var E=x.match(/^[xy]*/)[0],M=E.length;x=+x.substr(M);for(var f=E.charAt(0)==="y"?o:1/o,P=0;P<M;P++)x*=f}d[C]=x}return d}B.enforce=function(g){var c=g._fullLayout,o=c._axisConstraintGroups||[],d,w,A,C,x,E,M,f;for(d=0;d<o.length;d++){A=l(o[d],c);var P=Object.keys(A),T=1/0,z=0,_=1/0,V={},F={},N=!1;for(w=0;w<P.length;w++)C=P[w],F[C]=x=c[i(C)],x._inputDomain?x.domain=x._inputDomain.slice():x._inputDomain=x.domain.slice(),x._inputRange||(x._inputRange=x.range.slice()),x.setScale(),V[C]=E=Math.abs(x._m)/A[C],T=Math.min(T,E),(x.constrain==="domain"||!x._constraintShrinkable)&&(_=Math.min(_,E)),delete x._constraintShrinkable,z=Math.max(z,E),x.constrain==="domain"&&(N=!0);if(!(T>p*z&&!N)){for(w=0;w<P.length;w++)if(C=P[w],E=V[C],x=F[C],M=x.constrain,E!==_||M==="domain")if(f=E/_,M==="range")b(x,f);else{var k=x._inputDomain,I=(x.domain[1]-x.domain[0])/(k[1]-k[0]),H=(x.r2l(x.range[1])-x.r2l(x.range[0]))/(x.r2l(x._inputRange[1])-x.r2l(x._inputRange[0]));if(f/=I,f*H<1){x.domain=x._input.domain=k.slice(),b(x,f);continue}if(H<1&&(x.range=x._input.range=x._inputRange.slice(),f*=H),x.autorange){var j=x.r2l(x.range[0]),ee=x.r2l(x.range[1]),te=(j+ee)/2,ne=te,ue=te,q=Math.abs(ee-te),Y=te-q*f*1.0001,Z=te+q*f*1.0001,G=L.makePadFn(c,x,0),K=L.makePadFn(c,x,1);m(x,f);var oe=Math.abs(x._m),$=L.concatExtremes(g,x),J=$.min,se=$.max,ie,ce;for(ce=0;ce<J.length;ce++)ie=J[ce].val-G(J[ce])/oe,ie>Y&&ie<ne&&(ne=ie);for(ce=0;ce<se.length;ce++)ie=se[ce].val+K(se[ce])/oe,ie<Z&&ie>ue&&(ue=ie);var ye=(ue-ne)/(2*q);f/=ye,ne=x.l2r(ne),ue=x.l2r(ue),x.range=x._input.range=j<ee?[ne,ue]:[ue,ne]}m(x,f)}}}},B.getAxisGroup=function(g,c){for(var o=g._axisMatchGroups,d=0;d<o.length;d++){var w=o[d];if(w[c])return"g"+d}return c},B.clean=function(g,c){if(c._inputDomain){for(var o=!1,d=c._id,w=g._fullLayout._axisConstraintGroups,A=0;A<w.length;A++)if(w[A][d]){o=!0;break}(!o||c.constrain!=="domain")&&(c._input.domain=c.domain=c._inputDomain,delete c._inputDomain)}};function m(h,g){var c=h._inputDomain,o=r[h.constraintoward],d=c[0]+(c[1]-c[0])*o;h.domain=h._input.domain=[d+(c[0]-d)/g,d+(c[1]-d)/g],h.setScale()}},51184:function(U,B,e){var y=e(33428),L=e(3400),i=L.numberFormat,S=e(49760),b=e(89184),v=e(24040),p=L.strTranslate,r=e(72736),t=e(76308),a=e(43616),n=e(93024),u=e(54460),s=e(93972),l=e(86476),m=e(72760),h=m.selectingOrDrawing,g=m.freeMode,c=e(84284).FROM_TL,o=e(73696),d=e(39172).redrawReglTraces,w=e(7316),A=e(79811).getFromId,C=e(22676).prepSelect,x=e(22676).clearOutline,E=e(22676).selectOnClick,M=e(21160),f=e(33816),P=f.MINDRAG,T=f.MINZOOM,z=!0;function _(ie,ce,ye,Se,Te,ke,we,Ee){var xe=ie._fullLayout._zoomlayer,De=we+Ee==="nsew",Ve=(we+Ee).length===1,Ue,Be,Xe,ot,ut,et,qe,ft,ht,dt,mt,St,rt,Oe,Ye,Ze,Ge,_e,be,me,Ce,Me,Ne;ye+=ce.yaxis._shift;function je(){if(Ue=ce.xaxis,Be=ce.yaxis,ht=Ue._length,dt=Be._length,qe=Ue._offset,ft=Be._offset,Xe={},Xe[Ue._id]=Ue,ot={},ot[Be._id]=Be,we&&Ee)for(var rr=ce.overlays,Ft=0;Ft<rr.length;Ft++){var cr=rr[Ft].xaxis;Xe[cr._id]=cr;var pr=rr[Ft].yaxis;ot[pr._id]=pr}ut=se(Xe),et=se(ot),rt=N(ut,Ee),Oe=N(et,we),Ye=!Oe&&!rt,St=$(ie,ie._fullLayout._axisMatchGroups,Xe,ot),mt=$(ie,ie._fullLayout._axisConstraintGroups,Xe,ot,St);var mr=mt.isSubplotConstrained||St.isSubplotConstrained;Ze=Ee||mr,Ge=we||mr;var hr=ie._fullLayout;_e=hr._has("scattergl"),be=hr._has("splom"),me=hr._has("svg")}je();var tt=ee(Oe+rt,ie._fullLayout.dragmode,De),ct=F(ce,we+Ee+"drag",tt,ye,Se,Te,ke);if(Ye&&!De)return ct.onmousedown=null,ct.style.pointerEvents="none",ct;var pt={element:ct,gd:ie,plotinfo:ce};pt.prepFn=function(rr,Ft,cr){var pr=pt.dragmode,mr=ie._fullLayout.dragmode;mr!==pr&&(pt.dragmode=mr),je(),Me=ie._fullLayout._invScaleX,Ne=ie._fullLayout._invScaleY,Ye||(De?rr.shiftKey?mr==="pan"?mr="zoom":h(mr)||(mr="pan"):rr.ctrlKey&&(mr="pan"):mr="pan"),g(mr)?pt.minDrag=1:pt.minDrag=void 0,h(mr)?(pt.xaxes=ut,pt.yaxes=et,C(rr,Ft,cr,pt,mr)):(pt.clickFn=Yt,h(pr)&&Xt(),Ye||(mr==="zoom"?(pt.moveFn=wt,pt.doneFn=Rt,pt.minDrag=1,at(rr,Ft,cr)):mr==="pan"&&(pt.moveFn=fr,pt.doneFn=zt))),ie._fullLayout._redrag=function(){var hr=ie._dragdata;if(hr&&hr.element===ct){var Gr=ie._fullLayout.dragmode;h(Gr)||(je(),kt([0,0,ht,dt]),pt.moveFn(hr.dx,hr.dy))}}};function Xt(){pt.plotinfo.selection=!1,x(ie)}function Yt(rr,Ft){var cr=pt.gd;if(cr._fullLayout._activeShapeIndex>=0){cr._fullLayout._deactivateShape(cr);return}var pr=cr._fullLayout.clickmode;if(Y(cr),rr===2&&!Ve&&He(),De)pr.indexOf("select")>-1&&E(Ft,cr,ut,et,ce.id,pt),pr.indexOf("event")>-1&&n.click(cr,Ft,ce.id);else if(rr===1&&Ve){var mr=we?Be:Ue,hr=we==="s"||Ee==="w"?0:1,Gr=mr._name+".range["+hr+"]",Dr=k(mr,hr),Ir="left",cn="middle";if(mr.fixedrange)return;we?(cn=we==="n"?"top":"bottom",mr.side==="right"&&(Ir="right")):Ee==="e"&&(Ir="right"),cr._context.showAxisRangeEntryBoxes&&y.select(ct).call(r.makeEditable,{gd:cr,immediate:!0,background:cr._fullLayout.paper_bgcolor,text:String(Dr),fill:mr.tickfont?mr.tickfont.color:"#444",horizontalAlign:Ir,verticalAlign:cn}).on("edit",function(rn){var Cn=mr.d2r(rn);Cn!==void 0&&v.call("_guiRelayout",cr,Gr,Cn)})}}l.init(pt);var Tt,_t,Qt,wr,xt,jt,Jt,gr,or,yt;function at(rr,Ft,cr){var pr=ct.getBoundingClientRect();Tt=Ft-pr.left,_t=cr-pr.top,ie._fullLayout._calcInverseTransform(ie);var mr=L.apply3DTransform(ie._fullLayout._invTransform)(Tt,_t);Tt=mr[0],_t=mr[1],Qt={l:Tt,r:Tt,w:0,t:_t,b:_t,h:0},wr=ie._hmpixcount?ie._hmlumcount/ie._hmpixcount:S(ie._fullLayout.plot_bgcolor).getLuminance(),xt="M0,0H"+ht+"V"+dt+"H0V0",jt=!1,Jt="xy",yt=!1,gr=te(xe,wr,qe,ft,xt),or=ne(xe,qe,ft)}function wt(rr,Ft){if(ie._transitioningWithDuration)return!1;var cr=Math.max(0,Math.min(ht,Me*rr+Tt)),pr=Math.max(0,Math.min(dt,Ne*Ft+_t)),mr=Math.abs(cr-Tt),hr=Math.abs(pr-_t);Qt.l=Math.min(Tt,cr),Qt.r=Math.max(Tt,cr),Qt.t=Math.min(_t,pr),Qt.b=Math.max(_t,pr);function Gr(){Jt="",Qt.r=Qt.l,Qt.t=Qt.b,or.attr("d","M0,0Z")}if(mt.isSubplotConstrained)mr>T||hr>T?(Jt="xy",mr/ht>hr/dt?(hr=mr*dt/ht,_t>pr?Qt.t=_t-hr:Qt.b=_t+hr):(mr=hr*ht/dt,Tt>cr?Qt.l=Tt-mr:Qt.r=Tt+mr),or.attr("d",oe(Qt))):Gr();else if(St.isSubplotConstrained)if(mr>T||hr>T){Jt="xy";var Dr=Math.min(Qt.l/ht,(dt-Qt.b)/dt),Ir=Math.max(Qt.r/ht,(dt-Qt.t)/dt);Qt.l=Dr*ht,Qt.r=Ir*ht,Qt.b=(1-Dr)*dt,Qt.t=(1-Ir)*dt,or.attr("d",oe(Qt))}else Gr();else!Oe||hr<Math.min(Math.max(mr*.6,P),T)?mr<P||!rt?Gr():(Qt.t=0,Qt.b=dt,Jt="x",or.attr("d",G(Qt,_t))):!rt||mr<Math.min(hr*.6,T)?(Qt.l=0,Qt.r=ht,Jt="y",or.attr("d",K(Qt,Tt))):(Jt="xy",or.attr("d",oe(Qt)));Qt.w=Qt.r-Qt.l,Qt.h=Qt.b-Qt.t,Jt&&(yt=!0),ie._dragged=yt,ue(gr,or,Qt,xt,jt,wr),Et(),ie.emit("plotly_relayouting",Ce),jt=!0}function Et(){Ce={},(Jt==="xy"||Jt==="x")&&(I(ut,Qt.l/ht,Qt.r/ht,Ce,mt.xaxes),vr("x",Ce)),(Jt==="xy"||Jt==="y")&&(I(et,(dt-Qt.b)/dt,(dt-Qt.t)/dt,Ce,mt.yaxes),vr("y",Ce))}function Rt(){Et(),Y(ie),zt(),Z(ie)}var Dt=[0,0,ht,dt],Ut=null,Nt=f.REDRAWDELAY,Kt=ce.mainplot?ie._fullLayout._plots[ce.mainplot]:ce;function ur(rr){if(!ie._context._scrollZoom.cartesian&&!ie._fullLayout._enablescrollzoom)return;if(Xt(),ie._transitioningWithDuration){rr.preventDefault(),rr.stopPropagation();return}je(),clearTimeout(Ut);var Ft=-rr.deltaY;if(isFinite(Ft)||(Ft=rr.wheelDelta/10),!isFinite(Ft)){L.log("Did not find wheel motion attributes: ",rr);return}var cr=Math.exp(-Math.min(Math.max(Ft,-20),20)/200),pr=Kt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),mr=(rr.clientX-pr.left)/pr.width,hr=(pr.bottom-rr.clientY)/pr.height,Gr;function Dr(Ir,cn,rn){if(Ir.fixedrange)return;var Cn=L.simpleMap(Ir.range,Ir.r2l),Sn=Cn[0]+(Cn[1]-Cn[0])*cn;function Tr(Lr){return Ir.l2r(Sn+(Lr-Sn)*rn)}Ir.range=Cn.map(Tr)}if(Ze){for(Ee||(mr=.5),Gr=0;Gr<ut.length;Gr++)Dr(ut[Gr],mr,cr);vr("x"),Dt[2]*=cr,Dt[0]+=Dt[2]*mr*(1/cr-1)}if(Ge){for(we||(hr=.5),Gr=0;Gr<et.length;Gr++)Dr(et[Gr],hr,cr);vr("y"),Dt[3]*=cr,Dt[1]+=Dt[3]*(1-hr)*(1/cr-1)}kt(Dt),We(),ie.emit("plotly_relayouting",Ce),Ut=setTimeout(function(){ie._fullLayout&&(Dt=[0,0,ht,dt],zt())},Nt),rr.preventDefault()}we.length*Ee.length!==1&&J(ct,ur);function fr(rr,Ft){if(rr=rr*Me,Ft=Ft*Ne,ie._transitioningWithDuration)return;if(ie._fullLayout._replotting=!0,rt==="ew"||Oe==="ns"){var cr=rt?-rr:0,pr=Oe?-Ft:0;if(St.isSubplotConstrained){if(rt&&Oe){var mr=(rr/ht-Ft/dt)/2;rr=mr*ht,Ft=-mr*dt,cr=-rr,pr=-Ft}Oe?cr=-pr*ht/dt:pr=-cr*dt/ht}rt&&(H(ut,rr),vr("x")),Oe&&(H(et,Ft),vr("y")),kt([cr,pr,ht,dt]),We(),ie.emit("plotly_relayouting",Ce);return}function hr(Tr,Lr,Wr){for(var Ur=1-Lr,an,pn,gn=0;gn<Tr.length;gn++){var En=Tr[gn];if(!En.fixedrange){an=En,pn=En._rl[Ur]+(En._rl[Lr]-En._rl[Ur])/j(Wr/En._length);var On=En.l2r(pn);On!==!1&&On!==void 0&&(En.range[Lr]=On)}}return an._length*(an._rl[Lr]-pn)/(an._rl[Lr]-an._rl[Ur])}var Gr=rt==="w"==(Oe==="n")?1:-1;if(rt&&Oe&&(mt.isSubplotConstrained||St.isSubplotConstrained)){var Dr=(rr/ht+Gr*Ft/dt)/2;rr=Dr*ht,Ft=Gr*Dr*dt}var Ir,cn;if(rt==="w"?rr=hr(ut,0,rr):rt==="e"?rr=hr(ut,1,-rr):rt||(rr=0),Oe==="n"?Ft=hr(et,1,Ft):Oe==="s"?Ft=hr(et,0,-Ft):Oe||(Ft=0),Ir=rt==="w"?rr:0,cn=Oe==="n"?Ft:0,mt.isSubplotConstrained&&!St.isSubplotConstrained||St.isSubplotConstrained&&rt&&Oe&&Gr>0){var rn;if(St.isSubplotConstrained||!rt&&Oe.length===1){for(rn=0;rn<ut.length;rn++)ut[rn].range=ut[rn]._r.slice(),M(ut[rn],1-Ft/dt);rr=Ft*ht/dt,Ir=rr/2}if(St.isSubplotConstrained||!Oe&&rt.length===1){for(rn=0;rn<et.length;rn++)et[rn].range=et[rn]._r.slice(),M(et[rn],1-rr/ht);Ft=rr*dt/ht,cn=Ft/2}}(!St.isSubplotConstrained||!Oe)&&vr("x"),(!St.isSubplotConstrained||!rt)&&vr("y");var Cn=ht-rr,Sn=dt-Ft;St.isSubplotConstrained&&!(rt&&Oe)&&(rt?(cn=Ir?0:rr*dt/ht,Sn=Cn*dt/ht):(Ir=cn?0:Ft*ht/dt,Cn=Sn*ht/dt)),kt([Ir,cn,Cn,Sn]),We(),ie.emit("plotly_relayouting",Ce)}function vr(rr,Ft){for(var cr=St.isSubplotConstrained?{x:et,y:ut}[rr]:St[rr+"axes"],pr=St.isSubplotConstrained?{x:ut,y:et}[rr]:[],mr=0;mr<cr.length;mr++){var hr=cr[mr],Gr=hr._id,Dr=St.xLinks[Gr]||St.yLinks[Gr],Ir=pr[0]||Xe[Dr]||ot[Dr];Ir&&(Ft?(Ft[hr._name+".range[0]"]=Ft[Ir._name+".range[0]"],Ft[hr._name+".range[1]"]=Ft[Ir._name+".range[1]"]):hr.range=Ir.range.slice())}}function We(){var rr=[],Ft;function cr(Gr){for(Ft=0;Ft<Gr.length;Ft++)Gr[Ft].fixedrange||rr.push(Gr[Ft]._id)}function pr(Gr,Dr){for(Ft=0;Ft<Gr.length;Ft++){var Ir=Gr[Ft],cn=Ir[Dr];!Ir.fixedrange&&cn.tickmode==="sync"&&rr.push(cn._id)}}for(Ze&&(cr(ut),cr(mt.xaxes),cr(St.xaxes),pr(ce.overlays,"xaxis")),Ge&&(cr(et),cr(mt.yaxes),cr(St.yaxes),pr(ce.overlays,"yaxis")),Ce={},Ft=0;Ft<rr.length;Ft++){var mr=rr[Ft],hr=A(ie,mr);u.drawOne(ie,hr,{skipTitle:!0}),Ce[hr._name+".range[0]"]=hr.range[0],Ce[hr._name+".range[1]"]=hr.range[1]}u.redrawComponents(ie,rr)}function He(){if(!ie._transitioningWithDuration){var rr=ie._context.doubleClick,Ft=[];rt&&(Ft=Ft.concat(ut)),Oe&&(Ft=Ft.concat(et)),St.xaxes&&(Ft=Ft.concat(St.xaxes)),St.yaxes&&(Ft=Ft.concat(St.yaxes));var cr={},pr,mr;if(rr==="reset+autosize")for(rr="autosize",mr=0;mr<Ft.length;mr++){pr=Ft[mr];var hr=pr._rangeInitial0,Gr=pr._rangeInitial1,Dr=hr!==void 0||Gr!==void 0;if(Dr&&(hr!==void 0&&hr!==pr.range[0]||Gr!==void 0&&Gr!==pr.range[1])||!Dr&&pr.autorange!==!0){rr="reset";break}}if(rr==="autosize")for(mr=0;mr<Ft.length;mr++)pr=Ft[mr],pr.fixedrange||(cr[pr._name+".autorange"]=!0);else if(rr==="reset"){for((rt||mt.isSubplotConstrained)&&(Ft=Ft.concat(mt.xaxes)),Oe&&!mt.isSubplotConstrained&&(Ft=Ft.concat(mt.yaxes)),mt.isSubplotConstrained&&(rt?Oe||(Ft=Ft.concat(et)):Ft=Ft.concat(ut)),mr=0;mr<Ft.length;mr++)if(pr=Ft[mr],!pr.fixedrange){var Ir=pr._name,cn=pr._autorangeInitial;pr._rangeInitial0===void 0&&pr._rangeInitial1===void 0?cr[Ir+".autorange"]=!0:pr._rangeInitial0===void 0?(cr[Ir+".autorange"]=cn,cr[Ir+".range"]=[null,pr._rangeInitial1]):pr._rangeInitial1===void 0?(cr[Ir+".range"]=[pr._rangeInitial0,null],cr[Ir+".autorange"]=cn):cr[Ir+".range"]=[pr._rangeInitial0,pr._rangeInitial1]}}ie.emit("plotly_doubleclick",null),v.call("_guiRelayout",ie,cr)}}function zt(){kt([0,0,ht,dt]),L.syncOrAsync([w.previousPromises,function(){ie._fullLayout._replotting=!1,v.call("_guiRelayout",ie,Ce)}],ie)}function kt(rr){var Ft=ie._fullLayout,cr=Ft._plots,pr=Ft._subplots.cartesian,mr,hr,Gr,Dr;if(be&&v.subplotsRegistry.splom.drag(ie),_e){for(mr=0;mr<pr.length;mr++)if(hr=cr[pr[mr]],Gr=hr.xaxis,Dr=hr.yaxis,hr._scene){var Ir=L.simpleMap(Gr.range,Gr.r2l),cn=L.simpleMap(Dr.range,Dr.r2l);Gr.limitRange&&Gr.limitRange(),Dr.limitRange&&Dr.limitRange(),Ir=Gr.range,cn=Dr.range,hr._scene.update({range:[Ir[0],cn[0],Ir[1],cn[1]]})}}if((be||_e)&&(o(ie),d(ie)),me){var rn=rr[2]/Ue._length,Cn=rr[3]/Be._length;for(mr=0;mr<pr.length;mr++){hr=cr[pr[mr]],Gr=hr.xaxis,Dr=hr.yaxis;var Sn=(Ze||St.isSubplotConstrained)&&!Gr.fixedrange&&Xe[Gr._id],Tr=(Ge||St.isSubplotConstrained)&&!Dr.fixedrange&&ot[Dr._id],Lr,Wr,Ur,an;if(Sn?(Lr=rn,Ur=Ee||St.isSubplotConstrained?rr[0]:lr(Gr,Lr)):St.xaHash[Gr._id]?(Lr=rn,Ur=rr[0]*Gr._length/Ue._length):St.yaHash[Gr._id]?(Lr=Cn,Ur=Oe==="ns"?-rr[1]*Gr._length/Be._length:lr(Gr,Lr,{n:"top",s:"bottom"}[Oe])):(Lr=Zt(Gr,rn,Cn),Ur=er(Gr,Lr)),Lr>1&&(Gr.maxallowed!==void 0&&Ze===(Gr.range[0]<Gr.range[1]?"e":"w")||Gr.minallowed!==void 0&&Ze===(Gr.range[0]<Gr.range[1]?"w":"e"))&&(Lr=1,Ur=0),Tr?(Wr=Cn,an=we||St.isSubplotConstrained?rr[1]:lr(Dr,Wr)):St.yaHash[Dr._id]?(Wr=Cn,an=rr[1]*Dr._length/Be._length):St.xaHash[Dr._id]?(Wr=rn,an=rt==="ew"?-rr[0]*Dr._length/Ue._length:lr(Dr,Wr,{e:"right",w:"left"}[rt])):(Wr=Zt(Dr,rn,Cn),an=er(Dr,Wr)),Wr>1&&(Dr.maxallowed!==void 0&&Ge===(Dr.range[0]<Dr.range[1]?"n":"s")||Dr.minallowed!==void 0&&Ge===(Dr.range[0]<Dr.range[1]?"s":"n"))&&(Wr=1,an=0),!(!Lr&&!Wr)){Lr||(Lr=1),Wr||(Wr=1);var pn=Gr._offset-Ur/Lr,gn=Dr._offset-an/Wr;hr.clipRect.call(a.setTranslate,Ur,an).call(a.setScale,Lr,Wr),hr.plot.call(a.setTranslate,pn,gn).call(a.setScale,1/Lr,1/Wr),(Lr!==hr.xScaleFactor||Wr!==hr.yScaleFactor)&&(a.setPointGroupScale(hr.zoomScalePts,Lr,Wr),a.setTextPointsScale(hr.zoomScaleTxt,Lr,Wr)),a.hideOutsideRangePoints(hr.clipOnAxisFalseTraces,hr),hr.xScaleFactor=Lr,hr.yScaleFactor=Wr}}}}function Zt(rr,Ft,cr){return rr.fixedrange?0:Ze&&mt.xaHash[rr._id]?Ft:Ge&&(mt.isSubplotConstrained?mt.xaHash:mt.yaHash)[rr._id]?cr:0}function er(rr,Ft){return Ft?(rr.range=rr._r.slice(),M(rr,Ft),lr(rr,Ft)):0}function lr(rr,Ft,cr){return rr._length*(1-Ft)*c[cr||rr.constraintoward||"middle"]}return ct}function V(ie,ce,ye,Se){var Te=L.ensureSingle(ie.draglayer,ce,ye,function(ke){ke.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ie.id)});return Te.call(s,Se),Te.node()}function F(ie,ce,ye,Se,Te,ke,we){var Ee=V(ie,"rect",ce,ye);return y.select(Ee).call(a.setRect,Se,Te,ke,we),Ee}function N(ie,ce){for(var ye=0;ye<ie.length;ye++)if(!ie[ye].fixedrange)return ce;return""}function k(ie,ce){var ye=ie.range[ce],Se=Math.abs(ye-ie.range[1-ce]),Te;return ie.type==="date"?ye:ie.type==="log"?(Te=Math.ceil(Math.max(0,-Math.log(Se)/Math.LN10))+3,i("."+Te+"g")(Math.pow(10,ye))):(Te=Math.floor(Math.log(Math.abs(ye))/Math.LN10)-Math.floor(Math.log(Se)/Math.LN10)+4,i("."+String(Te)+"g")(ye))}function I(ie,ce,ye,Se,Te){for(var ke=0;ke<ie.length;ke++){var we=ie[ke];if(!we.fixedrange)if(we.rangebreaks){var Ee=we._id.charAt(0)==="y",xe=Ee?1-ce:ce,De=Ee?1-ye:ye;Se[we._name+".range[0]"]=we.l2r(we.p2l(xe*we._length)),Se[we._name+".range[1]"]=we.l2r(we.p2l(De*we._length))}else{var Ve=we._rl[0],Ue=we._rl[1]-Ve;Se[we._name+".range[0]"]=we.l2r(Ve+Ue*ce),Se[we._name+".range[1]"]=we.l2r(Ve+Ue*ye)}}if(Te&&Te.length){var Be=(ce+(1-ye))/2;I(Te,Be,1-Be,Se,[])}}function H(ie,ce){for(var ye=0;ye<ie.length;ye++){var Se=ie[ye];if(!Se.fixedrange){if(Se.rangebreaks){var Te=0,ke=Se._length,we=Se.p2l(Te+ce)-Se.p2l(Te),Ee=Se.p2l(ke+ce)-Se.p2l(ke),xe=(we+Ee)/2;Se.range=[Se.l2r(Se._rl[0]-xe),Se.l2r(Se._rl[1]-xe)]}else Se.range=[Se.l2r(Se._rl[0]-ce/Se._m),Se.l2r(Se._rl[1]-ce/Se._m)];Se.limitRange&&Se.limitRange()}}}function j(ie){return 1-(ie>=0?Math.min(ie,.9):1/(1/Math.max(ie,-.3)+3.222))}function ee(ie,ce,ye){return ie?ie==="nsew"?ye?"":ce==="pan"?"move":"crosshair":ie.toLowerCase()+"-resize":"pointer"}function te(ie,ce,ye,Se,Te){return ie.append("path").attr("class","zoombox").style({fill:ce>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",p(ye,Se)).attr("d",Te+"Z")}function ne(ie,ce,ye){return ie.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",p(ce,ye)).attr("d","M0,0Z")}function ue(ie,ce,ye,Se,Te,ke){ie.attr("d",Se+"M"+ye.l+","+ye.t+"v"+ye.h+"h"+ye.w+"v-"+ye.h+"h-"+ye.w+"Z"),q(ie,ce,Te,ke)}function q(ie,ce,ye,Se){ye||(ie.transition().style("fill",Se>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ce.transition().style("opacity",1).duration(200))}function Y(ie){y.select(ie).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function Z(ie){z&&ie.data&&ie._context.showTips&&(L.notifier(L._(ie,"Double-click to zoom back out"),"long"),z=!1)}function G(ie,ce){return"M"+(ie.l-.5)+","+(ce-T-.5)+"h-3v"+(2*T+1)+"h3ZM"+(ie.r+.5)+","+(ce-T-.5)+"h3v"+(2*T+1)+"h-3Z"}function K(ie,ce){return"M"+(ce-T-.5)+","+(ie.t-.5)+"v-3h"+(2*T+1)+"v3ZM"+(ce-T-.5)+","+(ie.b+.5)+"v3h"+(2*T+1)+"v-3Z"}function oe(ie){var ce=Math.floor(Math.min(ie.b-ie.t,ie.r-ie.l,T)/2);return"M"+(ie.l-3.5)+","+(ie.t-.5+ce)+"h3v"+-ce+"h"+ce+"v-3h-"+(ce+3)+"ZM"+(ie.r+3.5)+","+(ie.t-.5+ce)+"h-3v"+-ce+"h"+-ce+"v-3h"+(ce+3)+"ZM"+(ie.r+3.5)+","+(ie.b+.5-ce)+"h-3v"+ce+"h"+-ce+"v3h"+(ce+3)+"ZM"+(ie.l-3.5)+","+(ie.b+.5-ce)+"h3v"+ce+"h"+ce+"v3h-"+(ce+3)+"Z"}function $(ie,ce,ye,Se,Te){for(var ke=!1,we={},Ee={},xe,De,Ve,Ue,Be=(Te||{}).xaHash,Xe=(Te||{}).yaHash,ot=0;ot<ce.length;ot++){var ut=ce[ot];for(xe in ye)if(ut[xe]){for(Ve in ut)!(Te&&(Be[Ve]||Xe[Ve]))&&!(Ve.charAt(0)==="x"?ye:Se)[Ve]&&(we[Ve]=xe);for(De in Se)!(Te&&(Be[De]||Xe[De]))&&ut[De]&&(ke=!0)}for(De in Se)if(ut[De])for(Ue in ut)!(Te&&(Be[Ue]||Xe[Ue]))&&!(Ue.charAt(0)==="x"?ye:Se)[Ue]&&(Ee[Ue]=De)}ke&&(L.extendFlat(we,Ee),Ee={});var et={},qe=[];for(Ve in we){var ft=A(ie,Ve);qe.push(ft),et[ft._id]=ft}var ht={},dt=[];for(Ue in Ee){var mt=A(ie,Ue);dt.push(mt),ht[mt._id]=mt}return{xaHash:et,yaHash:ht,xaxes:qe,yaxes:dt,xLinks:we,yLinks:Ee,isSubplotConstrained:ke}}function J(ie,ce){if(!b)ie.onwheel!==void 0?ie.onwheel=ce:ie.onmousewheel!==void 0?ie.onmousewheel=ce:ie.isAddedWheelEvent||(ie.isAddedWheelEvent=!0,ie.addEventListener("wheel",ce,{passive:!1}));else{var ye=ie.onwheel!==void 0?"wheel":"mousewheel";ie._onwheel&&ie.removeEventListener(ye,ie._onwheel),ie._onwheel=ce,ie.addEventListener(ye,ce,{passive:!1})}}function se(ie){var ce=[];for(var ye in ie)ce.push(ie[ye]);return ce}U.exports={makeDragBox:_,makeDragger:V,makeRectDragger:F,makeZoombox:te,makeCorners:ne,updateZoombox:ue,xyCorners:oe,transitionZoombox:q,removeZoombox:Y,showDoubleClickNotifier:Z,attachWheelEventHandler:J}},42464:function(U,B,e){var y=e(33428),L=e(93024),i=e(86476),S=e(93972),b=e(51184).makeDragBox,v=e(33816).DRAGGERSIZE;B.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){y.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var a=Object.keys(t._plots||{}).sort(function(u,s){if((t._plots[u].mainplot&&!0)===(t._plots[s].mainplot&&!0)){var l=u.split("y"),m=s.split("y");return l[0]===m[0]?Number(l[1]||1)-Number(m[1]||1):Number(l[0]||1)-Number(m[0]||1)}return t._plots[u].mainplot?1:-1});a.forEach(function(u){var s=t._plots[u],l=s.xaxis,m=s.yaxis;if(!s.mainplot){var h=b(r,s,l._offset,m._offset,l._length,m._length,"ns","ew");h.onmousemove=function(o){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===u&&r._fullLayout._plots[u]&&L.hover(r,o,u)},L.hover(r,o,u),r._fullLayout._lasthover=h,r._fullLayout._hoversubplot=u},h.onmouseout=function(o){r._dragging||(r._fullLayout._hoversubplot=null,i.unhover(r,o))},r._context.showAxisDragHandles&&(b(r,s,l._offset-v,m._offset-v,v,v,"n","w"),b(r,s,l._offset+l._length,m._offset-v,v,v,"n","e"),b(r,s,l._offset-v,m._offset+m._length,v,v,"s","w"),b(r,s,l._offset+l._length,m._offset+m._length,v,v,"s","e"))}if(r._context.showAxisDragHandles){if(u===l._mainSubplot){var g=l._mainLinePosition;l.side==="top"&&(g-=v),b(r,s,l._offset+l._length*.1,g,l._length*.8,v,"","ew"),b(r,s,l._offset,g,l._length*.1,v,"","w"),b(r,s,l._offset+l._length*.9,g,l._length*.1,v,"","e")}if(u===m._mainSubplot){var c=m._mainLinePosition;m.side!=="right"&&(c-=v),b(r,s,c,m._offset+m._length*.1,v,m._length*.8,"ns",""),b(r,s,c,m._offset+m._length*.9,v,m._length*.1,"s",""),b(r,s,c,m._offset,v,m._length*.1,"n","")}}});var n=t._hoverlayer.node();n.onmousemove=function(u){u.target=r._fullLayout._lasthover,L.hover(r,u,t._hoversubplot)},n.onclick=function(u){u.target=r._fullLayout._lasthover,L.click(r,u)},n.onmousedown=function(u){r._fullLayout._lasthover.onmousedown(u)},B.updateFx(r)}},B.updateFx=function(p){var r=p._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";S(r._draggers,t)}},36632:function(U,B,e){var y=e(24040),L=e(3400),i=e(79811);U.exports=function(b){return function(p,r){var t=p[b];if(Array.isArray(t))for(var a=y.subplotsRegistry.cartesian,n=a.idRegex,u=r._subplots,s=u.xaxis,l=u.yaxis,m=u.cartesian,h=r._has("cartesian")||r._has("gl2d"),g=0;g<t.length;g++){var c=t[g];if(L.isPlainObject(c)){var o=i.cleanId(c.xref,"x",!1),d=i.cleanId(c.yref,"y",!1),w=n.x.test(o),A=n.y.test(d);if(w||A){h||L.pushUnique(r._basePlotModules,a);var C=!1;w&&s.indexOf(o)===-1&&(s.push(o),C=!0),A&&l.indexOf(d)===-1&&(l.push(d),C=!0),C&&w&&A&&m.push(o+d)}}}}}},57952:function(U,B,e){var y=e(33428),L=e(24040),i=e(3400),S=e(7316),b=e(43616),v=e(84888)._M,p=e(79811),r=e(33816),t=e(9616),a=i.ensureSingle;function n(g,c,o){return i.ensureSingle(g,c,o,function(d){d.datum(o)})}B.name="cartesian",B.attr=["xaxis","yaxis"],B.idRoot=["x","y"],B.idRegex=r.idRegex,B.attrRegex=r.attrRegex,B.attributes=e(26720),B.layoutAttributes=e(94724),B.supplyLayoutDefaults=e(67352),B.transitionAxes=e(73736),B.finalizeSubplots=function(g,c){var o=c._subplots,d=o.xaxis,w=o.yaxis,A=o.cartesian,C=A.concat(o.gl2d||[]),x={},E={},M,f,P;for(M=0;M<C.length;M++){var T=C[M].split("y");x[T[0]]=1,E["y"+T[1]]=1}for(M=0;M<d.length;M++)f=d[M],x[f]||(P=(g[p.id2name(f)]||{}).anchor,r.idRegex.y.test(P)||(P="y"),A.push(f+P),C.push(f+P),E[P]||(E[P]=1,i.pushUnique(w,P)));for(M=0;M<w.length;M++)P=w[M],E[P]||(f=(g[p.id2name(P)]||{}).anchor,r.idRegex.x.test(f)||(f="x"),A.push(f+P),C.push(f+P),x[f]||(x[f]=1,i.pushUnique(d,f)));if(!C.length){f="",P="";for(var z in g)if(r.attrRegex.test(z)){var _=z.charAt(0);_==="x"?(!f||+z.substr(5)<+f.substr(5))&&(f=z):(!P||+z.substr(5)<+P.substr(5))&&(P=z)}f=f?p.name2id(f):"x",P=P?p.name2id(P):"y",d.push(f),w.push(P),A.push(f+P)}},B.plot=function(g,c,o,d){var w=g._fullLayout,A=w._subplots.cartesian,C=g.calcdata,x;if(!Array.isArray(c))for(c=[],x=0;x<C.length;x++)c.push(x);for(x=0;x<A.length;x++){for(var E=A[x],M=w._plots[E],f=[],P,T=0;T<C.length;T++){var z=C[T],_=z[0].trace;_.xaxis+_.yaxis===E&&((c.indexOf(_.index)!==-1||_.carpet)&&(P&&P[0].trace.xaxis+P[0].trace.yaxis===E&&["tonextx","tonexty","tonext"].indexOf(_.fill)!==-1&&f.indexOf(P)===-1&&f.push(P),f.push(z)),P=z)}u(g,M,f,o,d)}};function u(g,c,o,d,w){for(var A=r.traceLayerClasses,C=g._fullLayout,x=C._modules,E,M,f,P=[],T=[],z=0;z<x.length;z++){E=x[z];var _=E.name,V=L.modules[_].categories;if(V.svg){var F=E.layerName||_+"layer",N=E.plot;M=v(o,N),f=M[0],o=M[1],f.length&&P.push({i:A.indexOf(F),className:F,plotMethod:N,cdModule:f}),V.zoomScale&&T.push("."+F)}}P.sort(function(H,j){return H.i-j.i});var k=c.plot.selectAll("g.mlayer").data(P,function(H){return H.className});if(k.enter().append("g").attr("class",function(H){return H.className}).classed("mlayer",!0).classed("rangeplot",c.isRangePlot),k.exit().remove(),k.order(),k.each(function(H){var j=y.select(this),ee=H.className;H.plotMethod(g,c,H.cdModule,j,d,w),r.clipOnAxisFalseQuery.indexOf("."+ee)===-1&&b.setClipUrl(j,c.layerClipId,g)}),C._has("scattergl")&&(E=L.getModule("scattergl"),f=v(o,E)[0],E.plot(g,c,f)),!g._context.staticPlot&&(c._hasClipOnAxisFalse&&(c.clipOnAxisFalseTraces=c.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),T.length)){var I=c.plot.selectAll(T.join(",")).selectAll(".trace");c.zoomScalePts=I.selectAll("path.point"),c.zoomScaleTxt=I.selectAll(".textpoint")}}B.clean=function(g,c,o,d){var w=d._plots||{},A=c._plots||{},C=d._subplots||{},x,E,M;if(d._hasOnlyLargeSploms&&!c._hasOnlyLargeSploms)for(M in w)x=w[M],x.plotgroup&&x.plotgroup.remove();var f=d._has&&d._has("gl"),P=c._has&&c._has("gl");if(f&&!P)for(M in w)x=w[M],x._scene&&x._scene.destroy();if(C.xaxis&&C.yaxis){var T=p.listIds({_fullLayout:d});for(E=0;E<T.length;E++){var z=T[E];c[p.id2name(z)]||d._infolayer.selectAll(".g-"+z+"title").remove()}}var _=d._has&&d._has("cartesian"),V=c._has&&c._has("cartesian");if(_&&!V)m(d._cartesianlayer.selectAll(".subplot"),d),d._defs.selectAll(".axesclip").remove(),delete d._axisConstraintGroups,delete d._axisMatchGroups;else if(C.cartesian)for(E=0;E<C.cartesian.length;E++){var F=C.cartesian[E];if(!A[F]){var N="."+F+",."+F+"-x,."+F+"-y";d._cartesianlayer.selectAll(N).remove(),h(F,d)}}},B.drawFramework=function(g){var c=g._fullLayout,o=s(g),d=c._cartesianlayer.selectAll(".subplot").data(o,String);d.enter().append("g").attr("class",function(w){return"subplot "+w[0]}),d.order(),d.exit().call(m,c),d.each(function(w){var A=w[0],C=c._plots[A];C.plotgroup=y.select(this),l(g,C),C.draglayer=a(c._draggers,"g",A)})},B.rangePlot=function(g,c,o){l(g,c),u(g,c,o),S.style(g)};function s(g){var c=g._fullLayout,o=c._subplots.cartesian,d=o.length,w,A,C,x,E,M,f=[],P=[];for(w=0;w<d;w++){C=o[w],x=c._plots[C],E=x.xaxis,M=x.yaxis;var T=E._mainAxis,z=M._mainAxis,_=T._id+z._id,V=c._plots[_];x.overlays=[],_!==C&&V?(x.mainplot=_,x.mainplotinfo=V,P.push(C)):(x.mainplot=void 0,x.mainplotinfo=void 0,f.push(C))}for(w=0;w<P.length;w++)C=P[w],x=c._plots[C],x.mainplotinfo.overlays.push(x);var F=f.concat(P),N=new Array(d);for(w=0;w<d;w++){C=F[w],x=c._plots[C],E=x.xaxis,M=x.yaxis;var k=[C,E.layer,M.layer,E.overlaying||"",M.overlaying||""];for(A=0;A<x.overlays.length;A++)k.push(x.overlays[A].id);N[w]=k}return N}function l(g,c){var o=c.plotgroup,d=c.id,w=r.layerValue2layerClass[c.xaxis.layer],A=r.layerValue2layerClass[c.yaxis.layer],C=g._fullLayout._hasOnlyLargeSploms;if(c.mainplot){var E=c.mainplotinfo,M=E.plotgroup,f=d+"-x",P=d+"-y";c.minorGridlayer=E.minorGridlayer,c.gridlayer=E.gridlayer,c.zerolinelayer=E.zerolinelayer,a(E.overlinesBelow,"path",f),a(E.overlinesBelow,"path",P),a(E.overaxesBelow,"g",f),a(E.overaxesBelow,"g",P),c.plot=a(E.overplot,"g",d),a(E.overlinesAbove,"path",f),a(E.overlinesAbove,"path",P),a(E.overaxesAbove,"g",f),a(E.overaxesAbove,"g",P),c.xlines=M.select(".overlines-"+w).select("."+f),c.ylines=M.select(".overlines-"+A).select("."+P),c.xaxislayer=M.select(".overaxes-"+w).select("."+f),c.yaxislayer=M.select(".overaxes-"+A).select("."+P)}else if(C)c.xlines=a(o,"path","xlines-above"),c.ylines=a(o,"path","ylines-above"),c.xaxislayer=a(o,"g","xaxislayer-above"),c.yaxislayer=a(o,"g","yaxislayer-above");else{var x=a(o,"g","layer-subplot");c.shapelayer=a(x,"g","shapelayer"),c.imagelayer=a(x,"g","imagelayer"),c.minorGridlayer=a(o,"g","minor-gridlayer"),c.gridlayer=a(o,"g","gridlayer"),c.zerolinelayer=a(o,"g","zerolinelayer"),a(o,"path","xlines-below"),a(o,"path","ylines-below"),c.overlinesBelow=a(o,"g","overlines-below"),a(o,"g","xaxislayer-below"),a(o,"g","yaxislayer-below"),c.overaxesBelow=a(o,"g","overaxes-below"),c.plot=a(o,"g","plot"),c.overplot=a(o,"g","overplot"),c.xlines=a(o,"path","xlines-above"),c.ylines=a(o,"path","ylines-above"),c.overlinesAbove=a(o,"g","overlines-above"),a(o,"g","xaxislayer-above"),a(o,"g","yaxislayer-above"),c.overaxesAbove=a(o,"g","overaxes-above"),c.xlines=o.select(".xlines-"+w),c.ylines=o.select(".ylines-"+A),c.xaxislayer=o.select(".xaxislayer-"+w),c.yaxislayer=o.select(".yaxislayer-"+A)}C||(n(c.minorGridlayer,"g",c.xaxis._id),n(c.minorGridlayer,"g",c.yaxis._id),c.minorGridlayer.selectAll("g").map(function(T){return T[0]}).sort(p.idSort),n(c.gridlayer,"g",c.xaxis._id),n(c.gridlayer,"g",c.yaxis._id),c.gridlayer.selectAll("g").map(function(T){return T[0]}).sort(p.idSort)),c.xlines.style("fill","none").classed("crisp",!0),c.ylines.style("fill","none").classed("crisp",!0)}function m(g,c){if(g){var o={};g.each(function(E){var M=E[0],f=y.select(this);f.remove(),h(M,c),o[M]=!0});for(var d in c._plots)for(var w=c._plots[d],A=w.overlays||[],C=0;C<A.length;C++){var x=A[C];o[x.id]&&x.plot.selectAll(".trace").remove()}}}function h(g,c){c._draggers.selectAll("g."+g).remove(),c._defs.select("#clip"+c._uid+g+"plot").remove()}B.toSVG=function(g){var c=g._fullLayout._glimages,o=y.select(g).selectAll(".svg-container"),d=o.filter(function(A,C){return C===o.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function w(){var A=this,C=A.toDataURL("image/png"),x=c.append("svg:image");x.attr({xmlns:t.svg,"xlink:href":C,preserveAspectRatio:"none",x:0,y:0,width:A.style.width,height:A.style.height})}d.each(w)},B.updateFx=e(42464).updateFx},94724:function(U,B,e){var y=e(25376),L=e(22548),i=e(98192).u,S=e(92880).extendFlat,b=e(31780).templatedArray,v=e(29736).descriptionWithDates,p=e(39032).ONEDAY,r=e(33816),t=r.HOUR_PATTERN,a=r.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},u=S({},n,{values:n.values.slice().concat(["sync"])});function s(E){return{valType:"integer",min:0,dflt:E?5:0,editType:"ticks"}}var l={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},m={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"data_array",editType:"ticks"},g={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function c(E){var M={valType:"number",min:0,editType:"ticks"};return E||(M.dflt=5),M}function o(E){var M={valType:"number",min:0,editType:"ticks"};return E||(M.dflt=1),M}var d={valType:"color",dflt:L.defaultLine,editType:"ticks"},w={valType:"color",dflt:L.lightLine,editType:"ticks"};function A(E){var M={valType:"number",min:0,editType:"ticks"};return E||(M.dflt=1),M}var C=S({},i,{editType:"ticks"}),x={valType:"boolean",editType:"ticks"};U.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:L.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:y({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:b("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[a,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:p},editType:"calc"}),tickmode:u,nticks:s(),tick0:l,dtick:m,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:h,ticktext:{valType:"data_array",editType:"ticks"},ticks:g,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:c(),tickwidth:o(),tickcolor:d,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:S({},i,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:y({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:b("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:L.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:x,gridcolor:w,gridwidth:A(),griddash:C,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:L.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:L.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:s("minor"),tick0:l,dtick:m,tickvals:h,ticks:g,ticklen:c("minor"),tickwidth:o("minor"),tickcolor:d,gridcolor:w,gridwidth:A("minor"),griddash:C,showgrid:x,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:y({editType:"ticks"})}}},67352:function(U,B,e){var y=e(3400),L=e(76308),i=e(10624).isUnifiedHover,S=e(41008),b=e(31780),v=e(64859),p=e(94724),r=e(14944),t=e(28336),a=e(71888),n=e(37668),u=e(79811),s=u.id2name,l=u.name2id,m=e(33816).AX_ID_PATTERN,h=e(24040),g=h.traceIs,c=h.getComponentMethod;function o(d,w,A){Array.isArray(d[w])?d[w].push(A):d[w]=[A]}U.exports=function(w,A,C){var x=A.autotypenumbers,E={},M={},f={},P={},T={},z={},_={},V={},F={},N={},k,I;for(k=0;k<C.length;k++){var H=C[k];if(!(!g(H,"cartesian")&&!g(H,"gl2d"))){var j;if(H.xaxis)j=s(H.xaxis),o(E,j,H);else if(H.xaxes)for(I=0;I<H.xaxes.length;I++)o(E,s(H.xaxes[I]),H);var ee;if(H.yaxis)ee=s(H.yaxis),o(E,ee,H);else if(H.yaxes)for(I=0;I<H.yaxes.length;I++)o(E,s(H.yaxes[I]),H);if(H.type==="funnel"?H.orientation==="h"?(j&&(M[j]=!0),ee&&(_[ee]=!0)):ee&&(f[ee]=!0):H.type==="image"?(ee&&(V[ee]=!0),j&&(V[j]=!0)):(ee&&(T[ee]=!0,z[ee]=!0),(!g(H,"carpet")||H.type==="carpet"&&!H._cheater)&&j&&(P[j]=!0)),H.type==="carpet"&&H._cheater&&j&&(M[j]=!0),g(H,"2dMap")&&(F[j]=!0,F[ee]=!0),g(H,"oriented")){var te=H.orientation==="h"?ee:j;N[te]=!0}}}var ne=A._subplots,ue=ne.xaxis,q=ne.yaxis,Y=y.simpleMap(ue,s),Z=y.simpleMap(q,s),G=Y.concat(Z),K=L.background;ue.length&&q.length&&(K=y.coerce(w,A,v,"plot_bgcolor"));var oe=L.combine(K,A.paper_bgcolor),$,J,se,ie,ce;function ye(){var Me=E[$]||[];ce._traceIndices=Me.map(function(Ne){return Ne._expandedIndex}),ce._annIndices=[],ce._shapeIndices=[],ce._selectionIndices=[],ce._imgIndices=[],ce._subplotsWith=[],ce._counterAxes=[],ce._name=ce._attr=$,ce._id=J}function Se(Me,Ne){return y.coerce(ie,ce,p,Me,Ne)}function Te(Me,Ne){return y.coerce2(ie,ce,p,Me,Ne)}function ke(Me){return Me==="x"?q:ue}function we(Me,Ne){for(var je=Me==="x"?Y:Z,tt=[],ct=0;ct<je.length;ct++){var pt=je[ct];pt!==Ne&&!(w[pt]||{}).overlaying&&tt.push(l(pt))}return tt}var Ee={x:ke("x"),y:ke("y")},xe=Ee.x.concat(Ee.y),De={},Ve=[];function Ue(){var Me=ie.matches;m.test(Me)&&xe.indexOf(Me)===-1&&(De[Me]=ie.type,Ve=Object.keys(De))}var Be=S(w,A),Xe=i(Be);for(k=0;k<G.length;k++){$=G[k],J=l($),se=$.charAt(0),y.isPlainObject(w[$])||(w[$]={}),ie=w[$],ce=b.newContainer(A,$,se+"axis"),ye();var ot=se==="x"&&!P[$]&&M[$]||se==="y"&&!T[$]&&f[$],ut=se==="y"&&(!z[$]&&_[$]||V[$]),et={hasMinor:!0,letter:se,font:A.font,outerTicks:F[$],showGrid:!N[$],data:E[$]||[],bgColor:oe,calendar:A.calendar,automargin:!0,visibleDflt:ot,reverseDflt:ut,autotypenumbersDflt:x,splomStash:((A._splomAxes||{})[se]||{})[J],noAutotickangles:se==="y"};Se("uirevision",A.uirevision),r(ie,ce,Se,et),t(ie,ce,Se,et,A);var qe=Xe&&se===Be.charAt(0),ft=Te("spikecolor",Xe?ce.color:void 0),ht=Te("spikethickness",Xe?1.5:void 0),dt=Te("spikedash",Xe?"dot":void 0),mt=Te("spikemode",Xe?"across":void 0),St=Te("spikesnap"),rt=Se("showspikes",!!qe||!!ft||!!ht||!!dt||!!mt||!!St);rt||(delete ce.spikecolor,delete ce.spikethickness,delete ce.spikedash,delete ce.spikemode,delete ce.spikesnap);var Oe=s(ie.overlaying),Ye=[0,1];if(A[Oe]!==void 0){var Ze=s(A[Oe].anchor);A[Ze]!==void 0&&(Ye=A[Ze].domain)}n(ie,ce,Se,{letter:se,counterAxes:Ee[se],overlayableAxes:we(se,$),grid:A.grid,overlayingDomain:Ye}),Se("title.standoff"),Ue(),ce._input=ie}for(k=0;k<Ve.length;){J=Ve[k++],$=s(J),se=$.charAt(0),y.isPlainObject(w[$])||(w[$]={}),ie=w[$],ce=b.newContainer(A,$,se+"axis"),ye();var Ge={letter:se,font:A.font,outerTicks:F[$],showGrid:!N[$],data:[],bgColor:oe,calendar:A.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:x,splomStash:((A._splomAxes||{})[se]||{})[J]};Se("uirevision",A.uirevision),ce.type=De[J]||"linear",t(ie,ce,Se,Ge,A),n(ie,ce,Se,{letter:se,counterAxes:Ee[se],overlayableAxes:we(se,$),grid:A.grid}),Se("fixedrange"),Ue(),ce._input=ie}var _e=c("rangeslider","handleDefaults"),be=c("rangeselector","handleDefaults");for(k=0;k<Y.length;k++)$=Y[k],ie=w[$],ce=A[$],_e(w,A,$),ce.type==="date"&&be(ie,ce,A,Z,ce.calendar),Se("fixedrange");for(k=0;k<Z.length;k++){$=Z[k],ie=w[$],ce=A[$];var me=A[s(ce.anchor)],Ce=c("rangeslider","isVisible")(me);Se("fixedrange",Ce)}a.handleDefaults(w,A,{axIds:xe.concat(Ve).sort(u.idSort),axHasImage:V})}},42136:function(U,B,e){var y=e(49760).mix,L=e(22548),i=e(3400);U.exports=function(b,v,p,r){r=r||{};var t=r.dfltColor;function a(f,P){return i.coerce2(b,v,r.attributes,f,P)}var n=a("linecolor",t),u=a("linewidth"),s=p("showline",r.showLine||!!n||!!u);s||(delete v.linecolor,delete v.linewidth);var l=y(t,r.bgColor,r.blend||L.lightFraction).toRgbString(),m=a("gridcolor",l),h=a("gridwidth"),g=a("griddash"),c=p("showgrid",r.showGrid||!!m||!!h||!!g);if(c||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),r.hasMinor){var o=y(v.gridcolor,r.bgColor,67).toRgbString(),d=a("minor.gridcolor",o),w=a("minor.gridwidth",v.gridwidth||1),A=a("minor.griddash",v.griddash||"solid"),C=p("minor.showgrid",!!d||!!w||!!A);C||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!r.noZeroLine){var x=a("zerolinecolor",t),E=a("zerolinewidth"),M=p("zeroline",r.showGrid||!!x||!!E);M||(delete v.zerolinecolor,delete v.zerolinewidth)}}},37668:function(U,B,e){var y=e(38248),L=e(3400);U.exports=function(S,b,v,p){var r=p.counterAxes||[],t=p.overlayableAxes||[],a=p.letter,n=p.grid,u=p.overlayingDomain,s,l,m,h,g,c;n&&(l=n._domains[a][n._axisMap[b._id]],s=n._anchors[b._id],l&&(m=n[a+"side"].split(" ")[0],h=n.domain[a][m==="right"||m==="top"?1:0])),l=l||[0,1],s=s||(y(S.position)?"free":r[0]||"free"),m=m||(a==="x"?"bottom":"left"),h=h||0,g=0,c=!1;var o=L.coerce(S,b,{anchor:{valType:"enumerated",values:["free"].concat(r),dflt:s}},"anchor"),d=L.coerce(S,b,{side:{valType:"enumerated",values:a==="x"?["bottom","top"]:["left","right"],dflt:m}},"side");if(o==="free"){if(a==="y"){var w=v("autoshift");w&&(h=d==="left"?u[0]:u[1],c=b.automargin?b.automargin:!0,g=d==="left"?-3:3),v("shift",g)}v("position",h)}v("automargin",c);var A=!1;if(t.length&&(A=L.coerce(S,b,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!A){var C=v("domain",l);C[0]>C[1]-.000244140625&&(b.domain=l),L.noneOrAll(S.domain,b.domain,l),b.tickmode==="sync"&&(b.tickmode="auto")}return v("layer"),b}},42568:function(U,B,e){var y=e(85024);U.exports=function(i,S,b,v,p){p||(p={});var r=p.tickSuffixDflt,t=y(i),a=b("tickprefix");a&&b("showtickprefix",t);var n=b("ticksuffix",r);n&&b("showticksuffix",t)}},96312:function(U,B,e){var y=e(76808);U.exports=function(i,S,b,v){var p=S._template||{},r=S.type||p.type||"-";b("minallowed"),b("maxallowed");var t=b("range");if(!t){var a;!v.noInsiderange&&r!=="log"&&(a=b("insiderange"),a&&(a[0]===null||a[1]===null)&&(S.insiderange=!1,a=void 0),a&&(t=b("range",a)))}var n=S.getAutorangeDflt(t,v),u=b("autorange",n),s;t&&(t[0]===null&&t[1]===null||(t[0]===null||t[1]===null)&&(u==="reversed"||u===!0)||t[0]!==null&&(u==="min"||u==="max reversed")||t[1]!==null&&(u==="max"||u==="min reversed"))&&(t=void 0,delete S.range,S.autorange=!0,s=!0),s||(n=S.getAutorangeDflt(t,v),u=b("autorange",n)),u&&(y(b,u,t),(r==="linear"||r==="-")&&b("rangemode")),S.cleanRange()}},21160:function(U,B,e){var y=e(84284).FROM_BL;U.exports=function(i,S,b){b===void 0&&(b=y[i.constraintoward||"center"]);var v=[i.r2l(i.range[0]),i.r2l(i.range[1])],p=v[0]+(v[1]-v[0])*b;i.range=i._input.range=[i.l2r(p+(v[0]-p)*S),i.l2r(p+(v[1]-p)*S)],i.setScale()}},78344:function(U,B,e){var y=e(33428),L=e(94336).E9,i=e(3400),S=i.numberFormat,b=e(38248),v=i.cleanNumber,p=i.ms2DateTime,r=i.dateTime2ms,t=i.ensureNumber,a=i.isArrayOrTypedArray,n=e(39032),u=n.FP_SAFE,s=n.BADNUM,l=n.LOG_CLIP,m=n.ONEWEEK,h=n.ONEDAY,g=n.ONEHOUR,c=n.ONEMIN,o=n.ONESEC,d=e(79811),w=e(33816),A=w.HOUR_PATTERN,C=w.WEEKDAY_PATTERN;function x(M){return Math.pow(10,M)}function E(M){return M!=null}U.exports=function(f,P){P=P||{};var T=f._id||"x",z=T.charAt(0);function _(G,K){if(G>0)return Math.log(G)/Math.LN10;if(G<=0&&K&&f.range&&f.range.length===2){var oe=f.range[0],$=f.range[1];return .5*(oe+$-2*l*Math.abs(oe-$))}else return s}function V(G,K,oe,$){if(($||{}).msUTC&&b(G))return+G;var J=r(G,oe||f.calendar);if(J===s)if(b(G)){G=+G;var se=Math.floor(i.mod(G+.05,1)*10),ie=Math.round(G-se/10);J=r(new Date(ie))+se/10}else return s;return J}function F(G,K,oe){return p(G,K,oe||f.calendar)}function N(G){return f._categories[Math.round(G)]}function k(G){if(E(G)){if(f._categoriesMap===void 0&&(f._categoriesMap={}),f._categoriesMap[G]!==void 0)return f._categoriesMap[G];f._categories.push(typeof G=="number"?String(G):G);var K=f._categories.length-1;return f._categoriesMap[G]=K,K}return s}function I(G,K){for(var oe=new Array(K),$=0;$<K;$++){var J=(G[0]||[])[$],se=(G[1]||[])[$];oe[$]=H([J,se])}return oe}function H(G){if(f._categoriesMap)return f._categoriesMap[G]}function j(G){var K=H(G);if(K!==void 0)return K;if(b(G))return+G}function ee(G){return b(G)?+G:H(G)}function te(G,K,oe){return y.round(oe+K*G,2)}function ne(G,K,oe){return(G-oe)/K}var ue=function(K){return b(K)?te(K,f._m,f._b):s},q=function(G){return ne(G,f._m,f._b)};if(f.rangebreaks){var Y=z==="y";ue=function(G){if(!b(G))return s;var K=f._rangebreaks.length;if(!K)return te(G,f._m,f._b);var oe=Y;f.range[0]>f.range[1]&&(oe=!oe);for(var $=oe?-1:1,J=$*G,se=0,ie=0;ie<K;ie++){var ce=$*f._rangebreaks[ie].min,ye=$*f._rangebreaks[ie].max;if(J<ce)break;if(J>ye)se=ie+1;else{se=J<(ce+ye)/2?ie:ie+1;break}}var Se=f._B[se]||0;return isFinite(Se)?te(G,f._m2,Se):0},q=function(G){var K=f._rangebreaks.length;if(!K)return ne(G,f._m,f._b);for(var oe=0,$=0;$<K&&!(G<f._rangebreaks[$].pmin);$++)G>f._rangebreaks[$].pmax&&(oe=$+1);return ne(G,f._m2,f._B[oe])}}f.c2l=f.type==="log"?_:t,f.l2c=f.type==="log"?x:t,f.l2p=ue,f.p2l=q,f.c2p=f.type==="log"?function(G,K){return ue(_(G,K))}:ue,f.p2c=f.type==="log"?function(G){return x(q(G))}:q,["linear","-"].indexOf(f.type)!==-1?(f.d2r=f.r2d=f.d2c=f.r2c=f.d2l=f.r2l=v,f.c2d=f.c2r=f.l2d=f.l2r=t,f.d2p=f.r2p=function(G){return f.l2p(v(G))},f.p2d=f.p2r=q,f.cleanPos=t):f.type==="log"?(f.d2r=f.d2l=function(G,K){return _(v(G),K)},f.r2d=f.r2c=function(G){return x(v(G))},f.d2c=f.r2l=v,f.c2d=f.l2r=t,f.c2r=_,f.l2d=x,f.d2p=function(G,K){return f.l2p(f.d2r(G,K))},f.p2d=function(G){return x(q(G))},f.r2p=function(G){return f.l2p(v(G))},f.p2r=q,f.cleanPos=t):f.type==="date"?(f.d2r=f.r2d=i.identity,f.d2c=f.r2c=f.d2l=f.r2l=V,f.c2d=f.c2r=f.l2d=f.l2r=F,f.d2p=f.r2p=function(G,K,oe){return f.l2p(V(G,0,oe))},f.p2d=f.p2r=function(G,K,oe){return F(q(G),K,oe)},f.cleanPos=function(G){return i.cleanDate(G,s,f.calendar)}):f.type==="category"?(f.d2c=f.d2l=k,f.r2d=f.c2d=f.l2d=N,f.d2r=f.d2l_noadd=j,f.r2c=function(G){var K=ee(G);return K!==void 0?K:f.fraction2r(.5)},f.l2r=f.c2r=t,f.r2l=ee,f.d2p=function(G){return f.l2p(f.r2c(G))},f.p2d=function(G){return N(q(G))},f.r2p=f.d2p,f.p2r=q,f.cleanPos=function(G){return typeof G=="string"&&G!==""?G:t(G)}):f.type==="multicategory"&&(f.r2d=f.c2d=f.l2d=N,f.d2r=f.d2l_noadd=j,f.r2c=function(G){var K=j(G);return K!==void 0?K:f.fraction2r(.5)},f.r2c_just_indices=H,f.l2r=f.c2r=t,f.r2l=j,f.d2p=function(G){return f.l2p(f.r2c(G))},f.p2d=function(G){return N(q(G))},f.r2p=f.d2p,f.p2r=q,f.cleanPos=function(G){return Array.isArray(G)||typeof G=="string"&&G!==""?G:t(G)},f.setupMultiCategory=function(G){var K=f._traceIndices,oe,$,J=f._matchGroup;if(J&&f._categories.length===0){for(var se in J)if(se!==T){var ie=P[d.id2name(se)];K=K.concat(ie._traceIndices)}}var ce=[[0,{}],[0,{}]],ye=[];for(oe=0;oe<K.length;oe++){var Se=G[K[oe]];if(z in Se){var Te=Se[z],ke=Se._length||i.minRowLength(Te);if(a(Te[0])&&a(Te[1]))for($=0;$<ke;$++){var we=Te[0][$],Ee=Te[1][$];E(we)&&E(Ee)&&(ye.push([we,Ee]),we in ce[0][1]||(ce[0][1][we]=ce[0][0]++),Ee in ce[1][1]||(ce[1][1][Ee]=ce[1][0]++))}}}for(ye.sort(function(xe,De){var Ve=ce[0][1],Ue=Ve[xe[0]]-Ve[De[0]];if(Ue)return Ue;var Be=ce[1][1];return Be[xe[1]]-Be[De[1]]}),oe=0;oe<ye.length;oe++)k(ye[oe])}),f.fraction2r=function(G){var K=f.r2l(f.range[0]),oe=f.r2l(f.range[1]);return f.l2r(K+G*(oe-K))},f.r2fraction=function(G){var K=f.r2l(f.range[0]),oe=f.r2l(f.range[1]);return(f.r2l(G)-K)/(oe-K)},f.limitRange=function(G){var K=f.minallowed,oe=f.maxallowed;if(!(K===void 0&&oe===void 0)){G||(G="range");var $=i.nestedProperty(f,G).get(),J=i.simpleMap($,f.r2l),se=J[1]<J[0];se&&J.reverse();var ie=i.simpleMap([K,oe],f.r2l);if(K!==void 0&&J[0]<ie[0]&&($[se?1:0]=K),oe!==void 0&&J[1]>ie[1]&&($[se?0:1]=oe),$[0]===$[1]){var ce=f.l2r(K),ye=f.l2r(oe);if(K!==void 0){var Se=ce+1;oe!==void 0&&(Se=Math.min(Se,ye)),$[se?1:0]=Se}if(oe!==void 0){var Te=ye+1;K!==void 0&&(Te=Math.max(Te,ce)),$[se?0:1]=Te}}}},f.cleanRange=function(G,K){f._cleanRange(G,K),f.limitRange(G)},f._cleanRange=function(G,K){K||(K={}),G||(G="range");var oe=i.nestedProperty(f,G).get(),$,J;if(f.type==="date"?J=i.dfltRange(f.calendar):z==="y"?J=w.DFLTRANGEY:f._name==="realaxis"?J=[0,1]:J=K.dfltRange||w.DFLTRANGEX,J=J.slice(),(f.rangemode==="tozero"||f.rangemode==="nonnegative")&&(J[0]=0),!oe||oe.length!==2){i.nestedProperty(f,G).set(J);return}var se=oe[0]===null,ie=oe[1]===null;for(f.type==="date"&&!f.autorange&&(oe[0]=i.cleanDate(oe[0],s,f.calendar),oe[1]=i.cleanDate(oe[1],s,f.calendar)),$=0;$<2;$++)if(f.type==="date"){if(!i.isDateTime(oe[$],f.calendar)){f[G]=J;break}if(f.r2l(oe[0])===f.r2l(oe[1])){var ce=i.constrain(f.r2l(oe[0]),i.MIN_MS+1e3,i.MAX_MS-1e3);oe[0]=f.l2r(ce-1e3),oe[1]=f.l2r(ce+1e3);break}}else{if(!b(oe[$]))if(!(se||ie)&&b(oe[1-$]))oe[$]=oe[1-$]*($?10:.1);else{f[G]=J;break}if(oe[$]<-u?oe[$]=-u:oe[$]>u&&(oe[$]=u),oe[0]===oe[1]){var ye=Math.max(1,Math.abs(oe[0]*1e-6));oe[0]-=ye,oe[1]+=ye}}},f.setScale=function(G){var K=P._size;if(f.overlaying){var oe=d.getFromId({_fullLayout:P},f.overlaying);f.domain=oe.domain}var $=G&&f._r?"_r":"range",J=f.calendar;f.cleanRange($);var se=f.r2l(f[$][0],J),ie=f.r2l(f[$][1],J),ce=z==="y";if(ce?(f._offset=K.t+(1-f.domain[1])*K.h,f._length=K.h*(f.domain[1]-f.domain[0]),f._m=f._length/(se-ie),f._b=-f._m*ie):(f._offset=K.l+f.domain[0]*K.w,f._length=K.w*(f.domain[1]-f.domain[0]),f._m=f._length/(ie-se),f._b=-f._m*se),f._rangebreaks=[],f._lBreaks=0,f._m2=0,f._B=[],f.rangebreaks){var ye,Se;if(f._rangebreaks=f.locateBreaks(Math.min(se,ie),Math.max(se,ie)),f._rangebreaks.length){for(ye=0;ye<f._rangebreaks.length;ye++)Se=f._rangebreaks[ye],f._lBreaks+=Math.abs(Se.max-Se.min);var Te=ce;se>ie&&(Te=!Te),Te&&f._rangebreaks.reverse();var ke=Te?-1:1;for(f._m2=ke*f._length/(Math.abs(ie-se)-f._lBreaks),f._B.push(-f._m2*(ce?ie:se)),ye=0;ye<f._rangebreaks.length;ye++)Se=f._rangebreaks[ye],f._B.push(f._B[f._B.length-1]-ke*f._m2*(Se.max-Se.min));for(ye=0;ye<f._rangebreaks.length;ye++)Se=f._rangebreaks[ye],Se.pmin=ue(Se.min),Se.pmax=ue(Se.max)}}if(!isFinite(f._m)||!isFinite(f._b)||f._length<0)throw P._replotting=!1,new Error("Something went wrong with axis scaling")},f.maskBreaks=function(G){var K=f.rangebreaks||[],oe,$,J,se,ie;K._cachedPatterns||(K._cachedPatterns=K.map(function(Ve){return Ve.enabled&&Ve.bounds?i.simpleMap(Ve.bounds,Ve.pattern?v:f.d2c):null})),K._cachedValues||(K._cachedValues=K.map(function(Ve){return Ve.enabled&&Ve.values?i.simpleMap(Ve.values,f.d2c).sort(i.sorterAsc):null}));for(var ce=0;ce<K.length;ce++){var ye=K[ce];if(ye.enabled){if(ye.bounds){var Se=ye.pattern;switch(oe=K._cachedPatterns[ce],$=oe[0],J=oe[1],Se){case C:ie=new Date(G),se=ie.getUTCDay(),$>J&&(J+=7,se<$&&(se+=7));break;case A:ie=new Date(G);var Te=ie.getUTCHours(),ke=ie.getUTCMinutes(),we=ie.getUTCSeconds(),Ee=ie.getUTCMilliseconds();se=Te+(ke/60+we/3600+Ee/36e5),$>J&&(J+=24,se<$&&(se+=24));break;case"":se=G;break}if(se>=$&&se<J)return s}else for(var xe=K._cachedValues[ce],De=0;De<xe.length;De++)if($=xe[De],J=$+ye.dvalue,G>=$&&G<J)return s}}return G},f.locateBreaks=function(G,K){var oe,$,J,se,ie=[];if(!f.rangebreaks)return ie;var ce=f.rangebreaks.slice().sort(function(Be,Xe){return Be.pattern===C&&Xe.pattern===A?-1:Xe.pattern===C&&Be.pattern===A?1:0}),ye=function(Be,Xe){if(Be=i.constrain(Be,G,K),Xe=i.constrain(Xe,G,K),Be!==Xe){for(var ot=!0,ut=0;ut<ie.length;ut++){var et=ie[ut];Be<et.max&&Xe>=et.min&&(Be<et.min&&(et.min=Be),Xe>et.max&&(et.max=Xe),ot=!1)}ot&&ie.push({min:Be,max:Xe})}};for(oe=0;oe<ce.length;oe++){var Se=ce[oe];if(Se.enabled)if(Se.bounds){var Te=G,ke=K;Se.pattern&&(Te=Math.floor(Te)),$=i.simpleMap(Se.bounds,Se.pattern?v:f.r2l),J=$[0],se=$[1];var we=new Date(Te),Ee,xe;switch(Se.pattern){case C:xe=m,Ee=((se<J?7:0)+(se-J))*h,Te+=J*h-(we.getUTCDay()*h+we.getUTCHours()*g+we.getUTCMinutes()*c+we.getUTCSeconds()*o+we.getUTCMilliseconds());break;case A:xe=h,Ee=((se<J?24:0)+(se-J))*g,Te+=J*g-(we.getUTCHours()*g+we.getUTCMinutes()*c+we.getUTCSeconds()*o+we.getUTCMilliseconds());break;default:Te=Math.min($[0],$[1]),ke=Math.max($[0],$[1]),xe=ke-Te,Ee=xe}for(var De=Te;De<ke;De+=xe)ye(De,De+Ee)}else for(var Ve=i.simpleMap(Se.values,f.d2c),Ue=0;Ue<Ve.length;Ue++)J=Ve[Ue],se=J+Se.dvalue,ye(J,se)}return ie.sort(function(Be,Xe){return Be.min-Xe.min}),ie},f.makeCalcdata=function(G,K,oe){var $,J,se,ie,ce=f.type,ye=ce==="date"&&G[K+"calendar"];if(K in G){if($=G[K],ie=G._length||i.minRowLength($),i.isTypedArray($)&&(ce==="linear"||ce==="log")){if(ie===$.length)return $;if($.subarray)return $.subarray(0,ie)}if(ce==="multicategory")return I($,ie);for(J=new Array(ie),se=0;se<ie;se++)J[se]=f.d2c($[se],0,ye,oe)}else{var Se=K+"0"in G?f.d2c(G[K+"0"],0,ye):0,Te=G["d"+K]?Number(G["d"+K]):1;for($=G[{x:"y",y:"x"}[K]],ie=G._length||$.length,J=new Array(ie),se=0;se<ie;se++)J[se]=Se+se*Te}if(f.rangebreaks)for(se=0;se<ie;se++)J[se]=f.maskBreaks(J[se]);return J},f.isValidRange=function(G,K){return Array.isArray(G)&&G.length===2&&(K&&G[0]===null||b(f.r2l(G[0])))&&(K&&G[1]===null||b(f.r2l(G[1])))},f.getAutorangeDflt=function(G,K){var oe=!f.isValidRange(G,"nullOk");return oe&&K&&K.reverseDflt?oe="reversed":G&&(G[0]===null&&G[1]===null?oe=!0:G[0]===null&&G[1]!==null?oe="min":G[0]!==null&&G[1]===null&&(oe="max")),oe},f.isReversed=function(){var G=f.autorange;return G==="reversed"||G==="min reversed"||G==="max reversed"},f.isPtWithinRange=function(G,K){var oe=f.c2l(G[z],null,K),$=f.r2l(f.range[0]),J=f.r2l(f.range[1]);return $<J?$<=oe&&oe<=J:J<=oe&&oe<=$},f._emptyCategories=function(){f._categories=[],f._categoriesMap={}},f.clearCalc=function(){var G=f._matchGroup;if(G){var K=null,oe=null;for(var $ in G){var J=P[d.id2name($)];if(J._categories){K=J._categories,oe=J._categoriesMap;break}}K&&oe?(f._categories=K,f._categoriesMap=oe):f._emptyCategories()}else f._emptyCategories();if(f._initialCategories)for(var se=0;se<f._initialCategories.length;se++)k(f._initialCategories[se])},f.sortByInitialCategories=function(){var G=[];if(f._emptyCategories(),f._initialCategories)for(var K=0;K<f._initialCategories.length;K++)k(f._initialCategories[K]);G=G.concat(f._traceIndices);var oe=f._matchGroup;for(var $ in oe)if(T!==$){var J=P[d.id2name($)];J._categories=f._categories,J._categoriesMap=f._categoriesMap,G=G.concat(J._traceIndices)}return G};var Z=P._d3locale;f.type==="date"&&(f._dateFormat=Z?Z.timeFormat:L,f._extraFormat=P._extraFormat),f._separators=P.separators,f._numFormat=Z?Z.numberFormat:S,delete f._minDtick,delete f._forceTick0}},85024:function(U){U.exports=function(e){var y=["showexponent","showtickprefix","showticksuffix"],L=y.filter(function(S){return e[S]!==void 0}),i=function(S){return e[S]===e[L[0]]};if(L.every(i)||L.length===1)return e[L[0]]}},95936:function(U,B,e){var y=e(3400),L=e(76308).contrast,i=e(94724),S=e(85024),b=e(51272);U.exports=function(r,t,a,n,u){u||(u={});var s=a("labelalias");y.isPlainObject(s)||delete t.labelalias;var l=S(r),m=a("showticklabels");if(m){var h=u.font||{},g=t.color,c=t.ticklabelposition||"",o=c.indexOf("inside")!==-1?L(u.bgColor):g&&g!==i.color.dflt?g:h.color;if(y.coerceFont(a,"tickfont",{family:h.family,size:h.size,color:o}),!u.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&a("ticklabelstep"),!u.noAng){var d=a("tickangle");!u.noAutotickangles&&d==="auto"&&a("autotickangles")}if(n!=="category"){var w=a("tickformat");b(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),t.tickformatstops.length||delete t.tickformatstops,!u.noExp&&!w&&n!=="date"&&(a("showexponent",l),a("exponentformat"),a("minexponent"),a("separatethousands"))}}};function v(p,r){function t(n,u){return y.coerce(p,r,i.tickformatstops,n,u)}var a=t("enabled");a&&(t("dtickrange"),t("value"))}},25404:function(U,B,e){var y=e(3400),L=e(94724);U.exports=function(S,b,v,p){var r=p.isMinor,t=r?S.minor||{}:S,a=r?b.minor:b,n=r?L.minor:L,u=r?"minor.":"",s=y.coerce2(t,a,n,"ticklen",r?(b.ticklen||5)*.6:void 0),l=y.coerce2(t,a,n,"tickwidth",r?b.tickwidth||1:void 0),m=y.coerce2(t,a,n,"tickcolor",(r?b.tickcolor:void 0)||a.color),h=v(u+"ticks",!r&&p.outerTicks||s||l||m?"outside":"");h||(delete a.ticklen,delete a.tickwidth,delete a.tickcolor)}},26332:function(U,B,e){var y=e(98728),L=e(3400).isArrayOrTypedArray,i=e(38116).isTypedArraySpec,S=e(38116).decodeTypedArraySpec;U.exports=function(v,p,r,t,a){a||(a={});var n=a.isMinor,u=n?v.minor||{}:v,s=n?p.minor:p,l=n?"minor.":"";function m(C){var x=u[C];return i(x)&&(x=S(x)),x!==void 0?x:(s._template||{})[C]}var h=m("tick0"),g=m("dtick"),c=m("tickvals"),o=L(c)?"array":g?"linear":"auto",d=r(l+"tickmode",o);if(d==="auto"||d==="sync")r(l+"nticks");else if(d==="linear"){var w=s.dtick=y.dtick(g,t);s.tick0=y.tick0(h,t,p.calendar,w)}else if(t!=="multicategory"){var A=r(l+"tickvals");A===void 0?s.tickmode="auto":n||r("ticktext")}}},73736:function(U,B,e){var y=e(33428),L=e(24040),i=e(3400),S=e(43616),b=e(54460);U.exports=function(p,r,t,a){var n=p._fullLayout;if(r.length===0){b.redrawComponents(p);return}function u(A){var C=A.xaxis,x=A.yaxis;n._defs.select("#"+A.clipId+"> rect").call(S.setTranslate,0,0).call(S.setScale,1,1),A.plot.call(S.setTranslate,C._offset,x._offset).call(S.setScale,1,1);var E=A.plot.selectAll(".scatterlayer .trace");E.selectAll(".point").call(S.setPointGroupScale,1,1),E.selectAll(".textpoint").call(S.setTextPointsScale,1,1),E.call(S.hideOutsideRangePoints,A)}function s(A,C){var x=A.plotinfo,E=x.xaxis,M=x.yaxis,f=E._length,P=M._length,T=!!A.xr1,z=!!A.yr1,_=[];if(T){var V=i.simpleMap(A.xr0,E.r2l),F=i.simpleMap(A.xr1,E.r2l),N=V[1]-V[0],k=F[1]-F[0];_[0]=(V[0]*(1-C)+C*F[0]-V[0])/(V[1]-V[0])*f,_[2]=f*(1-C+C*k/N),E.range[0]=E.l2r(V[0]*(1-C)+C*F[0]),E.range[1]=E.l2r(V[1]*(1-C)+C*F[1])}else _[0]=0,_[2]=f;if(z){var I=i.simpleMap(A.yr0,M.r2l),H=i.simpleMap(A.yr1,M.r2l),j=I[1]-I[0],ee=H[1]-H[0];_[1]=(I[1]*(1-C)+C*H[1]-I[1])/(I[0]-I[1])*P,_[3]=P*(1-C+C*ee/j),M.range[0]=E.l2r(I[0]*(1-C)+C*H[0]),M.range[1]=M.l2r(I[1]*(1-C)+C*H[1])}else _[1]=0,_[3]=P;b.drawOne(p,E,{skipTitle:!0}),b.drawOne(p,M,{skipTitle:!0}),b.redrawComponents(p,[E._id,M._id]);var te=T?f/_[2]:1,ne=z?P/_[3]:1,ue=T?_[0]:0,q=z?_[1]:0,Y=T?_[0]/_[2]*f:0,Z=z?_[1]/_[3]*P:0,G=E._offset-Y,K=M._offset-Z;x.clipRect.call(S.setTranslate,ue,q).call(S.setScale,1/te,1/ne),x.plot.call(S.setTranslate,G,K).call(S.setScale,te,ne),S.setPointGroupScale(x.zoomScalePts,1/te,1/ne),S.setTextPointsScale(x.zoomScaleTxt,1/te,1/ne)}var l;a&&(l=a());function m(){for(var A={},C=0;C<r.length;C++){var x=r[C],E=x.plotinfo.xaxis,M=x.plotinfo.yaxis;x.xr1&&(A[E._name+".range"]=x.xr1.slice()),x.yr1&&(A[M._name+".range"]=x.yr1.slice())}return l&&l(),L.call("relayout",p,A).then(function(){for(var f=0;f<r.length;f++)u(r[f].plotinfo)})}function h(){for(var A={},C=0;C<r.length;C++){var x=r[C],E=x.plotinfo.xaxis,M=x.plotinfo.yaxis;x.xr0&&(A[E._name+".range"]=x.xr0.slice()),x.yr0&&(A[M._name+".range"]=x.yr0.slice())}return L.call("relayout",p,A).then(function(){for(var f=0;f<r.length;f++)u(r[f].plotinfo)})}var g,c,o,d=y.ease(t.easing);p._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(o),o=null,h()});function w(){c=Date.now();for(var A=Math.min(1,(c-g)/t.duration),C=d(A),x=0;x<r.length;x++)s(r[x],C);c-g>t.duration?(m(),o=window.cancelAnimationFrame(w)):o=window.requestAnimationFrame(w)}return g=Date.now(),o=window.requestAnimationFrame(w),Promise.resolve()}},14944:function(U,B,e){var y=e(24040).traceIs,L=e(52976);U.exports=function(r,t,a,n){a("autotypenumbers",n.autotypenumbersDflt);var u=a("type",(n.splomStash||{}).type);u==="-"&&(i(t,n.data),t.type==="-"?t.type="linear":r.type=t.type)};function i(p,r){if(p.type==="-"){var t=p._id,a=t.charAt(0),n;t.indexOf("scene")!==-1&&(t=a);var u=S(r,t,a);if(u){if(u.type==="histogram"&&a==={v:"y",h:"x"}[u.orientation||"v"]){p.type="linear";return}var s=a+"calendar",l=u[s],m={noMultiCategory:!y(u,"cartesian")||y(u,"noMultiCategory")};if(u.type==="box"&&u._hasPreCompStats&&a==={h:"x",v:"y"}[u.orientation||"v"]&&(m.noMultiCategory=!0),m.autotypenumbers=p.autotypenumbers,v(u,a)){var h=b(u),g=[];for(n=0;n<r.length;n++){var c=r[n];!y(c,"box-violin")||(c[a+"axis"]||a)!==t||(c[h]!==void 0?g.push(c[h][0]):c.name!==void 0?g.push(c.name):g.push("text"),c[s]!==l&&(l=void 0))}p.type=L(g,l,m)}else if(u.type==="splom"){var o=u.dimensions,d=o[u._axesDim[t]];d.visible&&(p.type=L(d.values,l,m))}else p.type=L(u[a]||[u[a+"0"]],l,m)}}}function S(p,r,t){for(var a=0;a<p.length;a++){var n=p[a];if(n.type==="splom"&&n._length>0&&(n["_"+t+"axes"]||{})[r])return n;if((n[t+"axis"]||t)===r){if(v(n,t))return n;if((n[t]||[]).length||n[t+"0"])return n}}}function b(p){return{v:"x",h:"y"}[p.orientation||"v"]}function v(p,r){var t=b(p),a=y(p,"box-violin"),n=y(p._fullInput||{},"candlestick");return a&&!n&&r===t&&p[t]===void 0&&p[t+"0"]===void 0}},62460:function(U,B,e){var y=e(24040),L=e(3400);B.manageCommandObserver=function(r,t,a,n){var u={},s=!0;t&&t._commandObserver&&(u=t._commandObserver),u.cache||(u.cache={}),u.lookupTable={};var l=B.hasSimpleAPICommandBindings(r,a,u.lookupTable);if(t&&t._commandObserver){if(l)return u;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,u}if(l){i(r,l,u.cache),u.check=function(){if(s){var c=i(r,l,u.cache);return c.changed&&n&&u.lookupTable[c.value]!==void 0&&(u.disable(),Promise.resolve(n({value:c.value,type:l.type,prop:l.prop,traces:l.traces,index:u.lookupTable[c.value]})).then(u.enable,u.enable)),c.changed}};for(var m=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<m.length;h++)r._internalOn(m[h],u.check);u.remove=function(){for(var g=0;g<m.length;g++)r._removeInternalListener(m[g],u.check)}}else L.log("Unable to automatically bind plot updates to API command"),u.lookupTable={},u.remove=function(){};return u.disable=function(){s=!1},u.enable=function(){s=!0},t&&(t._commandObserver=u),u},B.hasSimpleAPICommandBindings=function(r,t,a){var n,u=t.length,s;for(n=0;n<u;n++){var l,m=t[n],h=m.method,g=m.args;if(Array.isArray(g)||(g=[]),!h)return!1;var c=B.computeAPICommandBindings(r,h,g);if(c.length!==1)return!1;if(!s)s=c[0],Array.isArray(s.traces)&&s.traces.sort();else{if(l=c[0],l.type!==s.type||l.prop!==s.prop)return!1;if(Array.isArray(s.traces))if(Array.isArray(l.traces)){l.traces.sort();for(var o=0;o<s.traces.length;o++)if(s.traces[o]!==l.traces[o])return!1}else return!1;else if(l.prop!==s.prop)return!1}l=c[0];var d=l.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;a&&(a[d]=n)}return s};function i(r,t,a){var n,u,s,l=!1;if(t.type==="data")n=r._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")n=r._fullLayout;else return!1;return u=L.nestedProperty(n,t.prop).get(),s=a[t.type]=a[t.type]||{},s.hasOwnProperty(t.prop)&&s[t.prop]!==u&&(l=!0),s[t.prop]=u,{changed:l,value:u}}B.executeAPICommand=function(r,t,a){if(t==="skip")return Promise.resolve();var n=y.apiMethodRegistry[t],u=[r];Array.isArray(a)||(a=[]);for(var s=0;s<a.length;s++)u.push(a[s]);return n.apply(null,u).catch(function(l){return L.warn("API call to Plotly."+t+" rejected.",l),Promise.reject(l)})},B.computeAPICommandBindings=function(r,t,a){var n;switch(Array.isArray(a)||(a=[]),t){case"restyle":n=v(r,a);break;case"relayout":n=b(r,a);break;case"update":n=v(r,[a[0],a[2]]).concat(b(r,[a[1]]));break;case"animate":n=S(r,a);break;default:n=[]}return n};function S(r,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function b(r,t){var a=[],n=t[0],u={};if(typeof n=="string")u[n]=t[1];else if(L.isPlainObject(n))u=n;else return a;return p(u,function(s,l,m){a.push({type:"layout",prop:s,value:m})},"",0),a}function v(r,t){var a,n,u,s,l=[];if(n=t[0],u=t[1],a=t[2],s={},typeof n=="string")s[n]=u;else if(L.isPlainObject(n))s=n,a===void 0&&(a=u);else return l;return a===void 0&&(a=null),p(s,function(m,h,g){var c,o;if(Array.isArray(g)){o=g.slice();var d=Math.min(o.length,r.data.length);a&&(d=Math.min(d,a.length)),c=[];for(var w=0;w<d;w++)c[w]=a?a[w]:w}else o=g,c=a?a.slice():null;if(c===null)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(c)){if(!Array.isArray(o)){var A=o;o=[];for(var C=0;C<c.length;C++)o[C]=A}o.length=Math.min(c.length,o.length)}l.push({type:"data",prop:m,traces:c,value:o})},"",0),l}function p(r,t,a,n){Object.keys(r).forEach(function(u){var s=r[u];if(u[0]!=="_"){var l=a+(n>0?".":"")+u;L.isPlainObject(s)?p(s,t,l,n+1):t(l,u,s)}})}},86968:function(U,B,e){var y=e(92880).extendFlat;B.u=function(L,i){L=L||{},i=i||{};var S={valType:"info_array",editType:L.editType,items:[{valType:"number",min:0,max:1,editType:L.editType},{valType:"number",min:0,max:1,editType:L.editType}],dflt:[0,1]};L.name&&L.name+"",L.trace,i.description&&""+i.description;var b={x:y({},S,{}),y:y({},S,{}),editType:L.editType};return L.noGridCell||(b.row={valType:"integer",min:0,dflt:0,editType:L.editType},b.column={valType:"integer",min:0,dflt:0,editType:L.editType}),b},B.Q=function(L,i,S,b){var v=b&&b.x||[0,1],p=b&&b.y||[0,1],r=i.grid;if(r){var t=S("domain.column");t!==void 0&&(t<r.columns?v=r._domains.x[t]:delete L.domain.column);var a=S("domain.row");a!==void 0&&(a<r.rows?p=r._domains.y[a]:delete L.domain.row)}var n=S("domain.x",v),u=S("domain.y",p);n[0]<n[1]||(L.domain.x=v.slice()),u[0]<u[1]||(L.domain.y=p.slice())}},25376:function(U){U.exports=function(B){var e=B.editType,y=B.colorEditType;y===void 0&&(y=e);var L={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:y},editType:e};return B.autoSize&&(L.size.dflt="auto"),B.autoColor&&(L.color.dflt="auto"),B.arrayOk&&(L.family.arrayOk=!0,L.size.arrayOk=!0,L.color.arrayOk=!0),L}},16672:function(U){U.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(U,B){B.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},B.axesNames=["lonaxis","lataxis"],B.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},B.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},B.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},B.clipPad=.001,B.precision=.1,B.landColor="#F0DC82",B.waterColor="#3399FF",B.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},B.sphereSVG={type:"Sphere"},B.fillLayers={ocean:1,land:1,lakes:1},B.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},B.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],B.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],B.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(U,B,e){var y=e(33428),L=e(83356),i=L.geoPath,S=L.geoDistance,b=e(87108),v=e(24040),p=e(3400),r=p.strTranslate,t=e(76308),a=e(43616),n=e(93024),u=e(7316),s=e(54460),l=e(19280).getAutoRange,m=e(86476),h=e(22676).prepSelect,g=e(22676).clearOutline,c=e(22676).selectOnClick,o=e(79248),d=e(79552),w=e(27144),A=e(59972),C=e(55712).NO;function x(T){this.id=T.id,this.graphDiv=T.graphDiv,this.container=T.container,this.topojsonURL=T.topojsonURL,this.isStatic=T.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var E=x.prototype;U.exports=function(z){return new x(z)},E.plot=function(T,z,_,V){var F=this;if(V)return F.update(T,z,!0);F._geoCalcData=T,F._fullLayout=z;var N=z[this.id],k=[],I=!1;for(var H in d.layerNameToAdjective)if(H!=="frame"&&N["show"+H]){I=!0;break}for(var j=!1,ee=0;ee<T.length;ee++){var te=T[0][0].trace;te._geo=F,te.locationmode&&(I=!0);var ne=te.marker;if(ne){var ue=ne.angle,q=ne.angleref;(ue||q==="north"||q==="previous")&&(j=!0)}}if(this._hasMarkerAngles=j,I){var Y=A.getTopojsonName(N);(F.topojson===null||Y!==F.topojsonName)&&(F.topojsonName=Y,PlotlyGeoAssets.topojson[F.topojsonName]===void 0&&k.push(F.fetchTopojson()))}k=k.concat(w.fetchTraceGeoData(T)),_.push(new Promise(function(Z,G){Promise.all(k).then(function(){F.topojson=PlotlyGeoAssets.topojson[F.topojsonName],F.update(T,z),Z()}).catch(G)}))},E.fetchTopojson=function(){var T=this,z=A.getTopojsonPath(T.topojsonURL,T.topojsonName);return new Promise(function(_,V){y.json(z,function(F,N){if(F)return F.status===404?V(new Error(["plotly.js could not find topojson file at",z+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):V(new Error(["unexpected error while fetching topojson file at",z].join(" ")));PlotlyGeoAssets.topojson[T.topojsonName]=N,_()})})},E.update=function(T,z,_){var V=z[this.id];this.hasChoropleth=!1;for(var F=0;F<T.length;F++){var N=T[F],k=N[0].trace;k.type==="choropleth"&&(this.hasChoropleth=!0),k.visible===!0&&k._length>0&&k._module.calcGeoJSON(N,z)}if(!_){var I=this.updateProjection(T,z);if(I)return;(!this.viewInitial||this.scope!==V.scope)&&this.saveViewInitial(V)}this.scope=V.scope,this.updateBaseLayers(z,V),this.updateDims(z,V),this.updateFx(z,V),u.generalUpdatePerTraceModule(this.graphDiv,this,T,V);var H=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=H.selectAll(".point"),this.dataPoints.text=H.selectAll("text"),this.dataPaths.line=H.selectAll(".js-line");var j=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=j.selectAll("path"),this._render()},E.updateProjection=function(T,z){var _=this.graphDiv,V=z[this.id],F=z._size,N=V.domain,k=V.projection,I=V.lonaxis,H=V.lataxis,j=I._ax,ee=H._ax,te=this.projection=M(V),ne=[[F.l+F.w*N.x[0],F.t+F.h*(1-N.y[1])],[F.l+F.w*N.x[1],F.t+F.h*(1-N.y[0])]],ue=V.center||{},q=k.rotation||{},Y=I.range||[],Z=H.range||[];if(V.fitbounds){j._length=ne[1][0]-ne[0][0],ee._length=ne[1][1]-ne[0][1],j.range=l(_,j),ee.range=l(_,ee);var G=(j.range[0]+j.range[1])/2,K=(ee.range[0]+ee.range[1])/2;if(V._isScoped)ue={lon:G,lat:K};else if(V._isClipped){ue={lon:G,lat:K},q={lon:G,lat:K,roll:q.roll};var oe=k.type,$=d.lonaxisSpan[oe]/2||180,J=d.lataxisSpan[oe]/2||90;Y=[G-$,G+$],Z=[K-J,K+J]}else ue={lon:G,lat:K},q={lon:G,lat:q.lat,roll:q.roll}}te.center([ue.lon-q.lon,ue.lat-q.lat]).rotate([-q.lon,-q.lat,q.roll]).parallels(k.parallels);var se=P(Y,Z);te.fitExtent(ne,se);var ie=this.bounds=te.getBounds(se),ce=this.fitScale=te.scale(),ye=te.translate();if(V.fitbounds){var Se=te.getBounds(P(j.range,ee.range)),Te=Math.min((ie[1][0]-ie[0][0])/(Se[1][0]-Se[0][0]),(ie[1][1]-ie[0][1])/(Se[1][1]-Se[0][1]));isFinite(Te)?te.scale(Te*ce):p.warn("Something went wrong during"+this.id+"fitbounds computations.")}else te.scale(k.scale*ce);var ke=this.midPt=[(ie[0][0]+ie[1][0])/2,(ie[0][1]+ie[1][1])/2];if(te.translate([ye[0]+(ke[0]-ye[0]),ye[1]+(ke[1]-ye[1])]).clipExtent(ie),V._isAlbersUsa){var we=te([ue.lon,ue.lat]),Ee=te.translate();te.translate([Ee[0]-(we[0]-Ee[0]),Ee[1]-(we[1]-Ee[1])])}},E.updateBaseLayers=function(T,z){var _=this,V=_.topojson,F=_.layers,N=_.basePaths;function k(ne){return ne==="lonaxis"||ne==="lataxis"}function I(ne){return!!d.lineLayers[ne]}function H(ne){return!!d.fillLayers[ne]}var j=this.hasChoropleth?d.layersForChoropleth:d.layers,ee=j.filter(function(ne){return I(ne)||H(ne)?z["show"+ne]:k(ne)?z[ne].showgrid:!0}),te=_.framework.selectAll(".layer").data(ee,String);te.exit().each(function(ne){delete F[ne],delete N[ne],y.select(this).remove()}),te.enter().append("g").attr("class",function(ne){return"layer "+ne}).each(function(ne){var ue=F[ne]=y.select(this);ne==="bg"?_.bgRect=ue.append("rect").style("pointer-events","all"):k(ne)?N[ne]=ue.append("path").style("fill","none"):ne==="backplot"?ue.append("g").classed("choroplethlayer",!0):ne==="frontplot"?ue.append("g").classed("scatterlayer",!0):I(ne)?N[ne]=ue.append("path").style("fill","none").style("stroke-miterlimit",2):H(ne)&&(N[ne]=ue.append("path").style("stroke","none"))}),te.order(),te.each(function(ne){var ue=N[ne],q=d.layerNameToAdjective[ne];ne==="frame"?ue.datum(d.sphereSVG):I(ne)||H(ne)?ue.datum(C(V,V.objects[ne])):k(ne)&&ue.datum(f(ne,z,T)).call(t.stroke,z[ne].gridcolor).call(a.dashLine,z[ne].griddash,z[ne].gridwidth),I(ne)?ue.call(t.stroke,z[q+"color"]).call(a.dashLine,"",z[q+"width"]):H(ne)&&ue.call(t.fill,z[q+"color"])})},E.updateDims=function(T,z){var _=this.bounds,V=(z.framewidth||0)/2,F=_[0][0]-V,N=_[0][1]-V,k=_[1][0]-F+V,I=_[1][1]-N+V;a.setRect(this.clipRect,F,N,k,I),this.bgRect.call(a.setRect,F,N,k,I).call(t.fill,z.bgcolor),this.xaxis._offset=F,this.xaxis._length=k,this.yaxis._offset=N,this.yaxis._length=I},E.updateFx=function(T,z){var _=this,V=_.graphDiv,F=_.bgRect,N=T.dragmode,k=T.clickmode;if(_.isStatic)return;function I(){var te=_.viewInitial,ne={};for(var ue in te)ne[_.id+"."+ue]=te[ue];v.call("_guiRelayout",V,ne),V.emit("plotly_doubleclick",null)}function H(te){return _.projection.invert([te[0]+_.xaxis._offset,te[1]+_.yaxis._offset])}var j=function(te,ne){if(ne.isRect){var ue=te.range={};ue[_.id]=[H([ne.xmin,ne.ymin]),H([ne.xmax,ne.ymax])]}else{var q=te.lassoPoints={};q[_.id]=ne.map(H)}},ee={element:_.bgRect.node(),gd:V,plotinfo:{id:_.id,xaxis:_.xaxis,yaxis:_.yaxis,fillRangeItems:j},xaxes:[_.xaxis],yaxes:[_.yaxis],subplot:_.id,clickFn:function(te){te===2&&g(V)}};N==="pan"?(F.node().onmousedown=null,F.call(o(_,z)),F.on("dblclick.zoom",I),V._context._scrollZoom.geo||F.on("wheel.zoom",null)):(N==="select"||N==="lasso")&&(F.on(".zoom",null),ee.prepFn=function(te,ne,ue){h(te,ne,ue,ee,N)},m.init(ee)),F.on("mousemove",function(){var te=_.projection.invert(p.getPositionFromD3Event());if(!te)return m.unhover(V,y.event);_.xaxis.p2c=function(){return te[0]},_.yaxis.p2c=function(){return te[1]},n.hover(V,y.event,_.id)}),F.on("mouseout",function(){V._dragging||m.unhover(V,y.event)}),F.on("click",function(){N!=="select"&&N!=="lasso"&&(k.indexOf("select")>-1&&c(y.event,V,[_.xaxis],[_.yaxis],_.id,ee),k.indexOf("event")>-1&&n.click(V,y.event))})},E.makeFramework=function(){var T=this,z=T.graphDiv,_=z._fullLayout,V="clip"+_._uid+T.id;T.clipDef=_._clips.append("clipPath").attr("id",V),T.clipRect=T.clipDef.append("rect"),T.framework=y.select(T.container).append("g").attr("class","geo "+T.id).call(a.setClipUrl,V,z),T.project=function(F){var N=T.projection(F);return N?[N[0]-T.xaxis._offset,N[1]-T.yaxis._offset]:[null,null]},T.xaxis={_id:"x",c2p:function(F){return T.project(F)[0]}},T.yaxis={_id:"y",c2p:function(F){return T.project(F)[1]}},T.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},s.setConvert(T.mockAxis,_)},E.saveViewInitial=function(T){var z=T.center||{},_=T.projection,V=_.rotation||{};this.viewInitial={fitbounds:T.fitbounds,"projection.scale":_.scale};var F;T._isScoped?F={"center.lon":z.lon,"center.lat":z.lat}:T._isClipped?F={"projection.rotation.lon":V.lon,"projection.rotation.lat":V.lat}:F={"center.lon":z.lon,"center.lat":z.lat,"projection.rotation.lon":V.lon},p.extendFlat(this.viewInitial,F)},E.render=function(T){this._hasMarkerAngles&&T?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},E._render=function(){var T=this.projection,z=T.getPath(),_;function V(N){var k=T(N.lonlat);return k?r(k[0],k[1]):null}function F(N){return T.isLonLatOverEdges(N.lonlat)?"none":null}for(_ in this.basePaths)this.basePaths[_].attr("d",z);for(_ in this.dataPaths)this.dataPaths[_].attr("d",function(N){return z(N.geojson)});for(_ in this.dataPoints)this.dataPoints[_].attr("display",F).attr("transform",V)};function M(T){var z=T.projection,_=z.type,V=d.projNames[_];V="geo"+p.titleCase(V);for(var F=L[V]||b[V],N=F(),k=T._isSatellite?Math.acos(1/z.distance)*180/Math.PI:T._isClipped?d.lonaxisSpan[_]/2:null,I=["center","rotate","parallels","clipExtent"],H=function(te){return te?N:[]},j=0;j<I.length;j++){var ee=I[j];typeof N[ee]!="function"&&(N[ee]=H)}return N.isLonLatOverEdges=function(te){if(N(te)===null)return!0;if(k){var ne=N.rotate(),ue=S(te,[-ne[0],-ne[1]]),q=k*Math.PI/180;return ue>q}else return!1},N.getPath=function(){return i().projection(N)},N.getBounds=function(te){return N.getPath().bounds(te)},N.precision(d.precision),T._isSatellite&&N.tilt(z.tilt).distance(z.distance),k&&N.clipAngle(k-d.clipPad),N}function f(T,z,_){var V=1e-6,F=2.5,N=z[T],k=d.scopeDefaults[z.scope],I,H,j;T==="lonaxis"?(I=k.lonaxisRange,H=k.lataxisRange,j=function(K,oe){return[K,oe]}):T==="lataxis"&&(I=k.lataxisRange,H=k.lonaxisRange,j=function(K,oe){return[oe,K]});var ee={type:"linear",range:[I[0],I[1]-V],tick0:N.tick0,dtick:N.dtick};s.setConvert(ee,_);var te=s.calcTicks(ee);!z.isScoped&&T==="lonaxis"&&te.pop();for(var ne=te.length,ue=new Array(ne),q=0;q<ne;q++)for(var Y=te[q].x,Z=ue[q]=[],G=H[0];G<H[1]+F;G+=F)Z.push(j(Y,G));return{type:"MultiLineString",coordinates:ue}}function P(T,z){var _=d.clipPad,V=T[0]+_,F=T[1]-_,N=z[0]+_,k=z[1]-_;V>0&&F<0&&(F+=360);var I=(F-V)/4;return{type:"Polygon",coordinates:[[[V,N],[V,k],[V+I,k],[V+2*I,k],[V+3*I,k],[F,k],[F,N],[F-I,N],[F-2*I,N],[F-3*I,N],[V,N]]]}}},10816:function(U,B,e){var y=e(84888).KY,L=e(3400).counterRegex,i=e(43520),S="geo",b=L(S),v={};v[S]={valType:"subplotid",dflt:S,editType:"calc"};function p(a){for(var n=a._fullLayout,u=a.calcdata,s=n._subplots[S],l=0;l<s.length;l++){var m=s[l],h=y(u,S,m),g=n[m],c=g._subplot;c||(c=i({id:m,graphDiv:a,container:n._geolayer.node(),topojsonURL:a._context.topojsonURL,staticPlot:a._context.staticPlot}),n[m]._subplot=c),c.plot(h,n,a._promises)}}function r(a,n,u,s){for(var l=s._subplots[S]||[],m=0;m<l.length;m++){var h=l[m],g=s[h]._subplot;!n[h]&&g&&(g.framework.remove(),g.clipDef.remove())}}function t(a){for(var n=a._fullLayout,u=n._subplots[S],s=0;s<u.length;s++){var l=n[u[s]],m=l._subplot;m.updateFx(n,l)}}U.exports={attr:S,name:S,idRoot:S,idRegex:b,attrRegex:b,attributes:v,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:p,updateFx:t,clean:r}},40384:function(U,B,e){var y=e(22548),L=e(86968).u,i=e(98192).u,S=e(79552),b=e(67824).overrideAll,v=e(95376),p={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:y.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:i},r=U.exports=b({domain:L({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(S.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(S.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:y.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:S.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:S.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:S.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:S.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:y.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:y.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:y.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:y.background},lonaxis:p,lataxis:p},"plot","from-root");r.uirevision={valType:"any",editType:"none"}},86920:function(U,B,e){var y=e(3400),L=e(168),i=e(84888).op,S=e(79552),b=e(40384),v=S.axesNames;U.exports=function(t,a,n){L(t,a,n,{type:"geo",attributes:b,handleDefaults:p,fullData:n,partition:"y"})};function p(r,t,a,n){var u=i(n.fullData,"geo",n.id),s=u.map(function(Z){return Z._expandedIndex}),l=a("resolution"),m=a("scope"),h=S.scopeDefaults[m],g=a("projection.type",h.projType),c=t._isAlbersUsa=g==="albers usa";c&&(m=t.scope="usa");var o=t._isScoped=m!=="world",d=t._isSatellite=g==="satellite",w=t._isConic=g.indexOf("conic")!==-1||g==="albers",A=t._isClipped=!!S.lonaxisSpan[g];if(r.visible===!1){var C=y.extendDeep({},t._template);C.showcoastlines=!1,C.showcountries=!1,C.showframe=!1,C.showlakes=!1,C.showland=!1,C.showocean=!1,C.showrivers=!1,C.showsubunits=!1,C.lonaxis&&(C.lonaxis.showgrid=!1),C.lataxis&&(C.lataxis.showgrid=!1),t._template=C}for(var x=a("visible"),E,M=0;M<v.length;M++){var f=v[M],P=[30,10][M],T;if(o)T=h[f+"Range"];else{var z=S[f+"Span"],_=(z[g]||z["*"])/2,V=a("projection.rotation."+f.substr(0,3),h.projRotate[M]);T=[V-_,V+_]}var F=a(f+".range",T);a(f+".tick0"),a(f+".dtick",P),E=a(f+".showgrid",x?void 0:!1),E&&(a(f+".gridcolor"),a(f+".gridwidth"),a(f+".griddash")),t[f]._ax={type:"linear",_id:f.slice(0,3),_traceIndices:s,setScale:y.identity,c2l:y.identity,r2l:y.identity,autorange:!0,range:F.slice(),_m:1,_input:{}}}var N=t.lonaxis.range,k=t.lataxis.range,I=N[0],H=N[1];I>0&&H<0&&(H+=360);var j=(I+H)/2,ee;if(!c){var te=o?h.projRotate:[j,0,0];ee=a("projection.rotation.lon",te[0]),a("projection.rotation.lat",te[1]),a("projection.rotation.roll",te[2]),E=a("showcoastlines",!o&&x),E&&(a("coastlinecolor"),a("coastlinewidth")),E=a("showocean",x?void 0:!1),E&&a("oceancolor")}var ne,ue;if(c?(ne=-96.6,ue=38.7):(ne=o?j:ee,ue=(k[0]+k[1])/2),a("center.lon",ne),a("center.lat",ue),d&&(a("projection.tilt"),a("projection.distance")),w){var q=h.projParallels||[0,60];a("projection.parallels",q)}a("projection.scale"),E=a("showland",x?void 0:!1),E&&a("landcolor"),E=a("showlakes",x?void 0:!1),E&&a("lakecolor"),E=a("showrivers",x?void 0:!1),E&&(a("rivercolor"),a("riverwidth")),E=a("showcountries",o&&m!=="usa"&&x),E&&(a("countrycolor"),a("countrywidth")),(m==="usa"||m==="north america"&&l===50)&&(a("showsubunits",x),a("subunitcolor"),a("subunitwidth")),o||(E=a("showframe",x),E&&(a("framecolor"),a("framewidth"))),a("bgcolor");var Y=a("fitbounds");Y&&(delete t.projection.scale,o?(delete t.center.lon,delete t.center.lat):A?(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon,delete t.projection.rotation.lat,delete t.lonaxis.range,delete t.lataxis.range):(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon))}},79248:function(U,B,e){var y=e(33428),L=e(3400),i=e(24040),S=Math.PI/180,b=180/Math.PI,v={cursor:"pointer"},p={cursor:"auto"};function r(f,P){var T=f.projection,z;return P._isScoped?z=n:P._isClipped?z=s:z=u,z(f,T)}U.exports=r;function t(f,P){return y.behavior.zoom().translate(P.translate()).scale(P.scale())}function a(f,P,T){var z=f.id,_=f.graphDiv,V=_.layout,F=V[z],N=_._fullLayout,k=N[z],I={},H={};function j(ee,te){I[z+"."+ee]=L.nestedProperty(F,ee).get(),i.call("_storeDirectGUIEdit",V,N._preGUI,I);var ne=L.nestedProperty(k,ee);ne.get()!==te&&(ne.set(te),L.nestedProperty(F,ee).set(te),H[z+"."+ee]=te)}T(j),j("projection.scale",P.scale()/f.fitScale),j("fitbounds",!1),_.emit("plotly_relayout",H)}function n(f,P){var T=t(f,P);function z(){y.select(this).style(v)}function _(){P.scale(y.event.scale).translate(y.event.translate),f.render(!0);var N=P.invert(f.midPt);f.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":P.scale()/f.fitScale,"geo.center.lon":N[0],"geo.center.lat":N[1]})}function V(N){var k=P.invert(f.midPt);N("center.lon",k[0]),N("center.lat",k[1])}function F(){y.select(this).style(p),a(f,P,V)}return T.on("zoomstart",z).on("zoom",_).on("zoomend",F),T}function u(f,P){var T=t(f,P),z=2,_,V,F,N,k,I,H,j,ee;function te(G){return P.invert(G)}function ne(G){var K=te(G);if(!K)return!0;var oe=P(K);return Math.abs(oe[0]-G[0])>z||Math.abs(oe[1]-G[1])>z}function ue(){y.select(this).style(v),_=y.mouse(this),V=P.rotate(),F=P.translate(),N=V,k=te(_)}function q(){if(I=y.mouse(this),ne(_)){T.scale(P.scale()),T.translate(P.translate());return}P.scale(y.event.scale),P.translate([F[0],y.event.translate[1]]),k?te(I)&&(j=te(I),H=[N[0]+(j[0]-k[0]),V[1],V[2]],P.rotate(H),N=H):(_=I,k=te(_)),ee=!0,f.render(!0);var G=P.rotate(),K=P.invert(f.midPt);f.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":P.scale()/f.fitScale,"geo.center.lon":K[0],"geo.center.lat":K[1],"geo.projection.rotation.lon":-G[0]})}function Y(){y.select(this).style(p),ee&&a(f,P,Z)}function Z(G){var K=P.rotate(),oe=P.invert(f.midPt);G("projection.rotation.lon",-K[0]),G("center.lon",oe[0]),G("center.lat",oe[1])}return T.on("zoomstart",ue).on("zoom",q).on("zoomend",Y),T}function s(f,P){P.rotate(),P.scale();var T=t(f,P),z=M(T,"zoomstart","zoom","zoomend"),_=0,V=T.on,F;T.on("zoomstart",function(){y.select(this).style(v);var j=y.mouse(this),ee=P.rotate(),te=ee,ne=P.translate(),ue=m(ee);F=l(P,j),V.call(T,"zoom",function(){var q=y.mouse(this);if(P.scale(y.event.scale),!F)j=q,F=l(P,j);else if(l(P,q)){P.rotate(ee).translate(ne);var Y=l(P,q),Z=g(F,Y),G=A(h(ue,Z)),K=c(G,F,te);(!isFinite(K[0])||!isFinite(K[1])||!isFinite(K[2]))&&(K=te),P.rotate(K),te=K}k(z.of(this,arguments))}),N(z.of(this,arguments))}).on("zoomend",function(){y.select(this).style(p),V.call(T,"zoom",null),I(z.of(this,arguments)),a(f,P,H)}).on("zoom.redraw",function(){f.render(!0);var j=P.rotate();f.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":P.scale()/f.fitScale,"geo.projection.rotation.lon":-j[0],"geo.projection.rotation.lat":-j[1]})});function N(j){_++||j({type:"zoomstart"})}function k(j){j({type:"zoom"})}function I(j){--_||j({type:"zoomend"})}function H(j){var ee=P.rotate();j("projection.rotation.lon",-ee[0]),j("projection.rotation.lat",-ee[1])}return y.rebind(T,z,"on")}function l(f,P){var T=f.invert(P);return T&&isFinite(T[0])&&isFinite(T[1])&&C(T)}function m(f){var P=.5*f[0]*S,T=.5*f[1]*S,z=.5*f[2]*S,_=Math.sin(P),V=Math.cos(P),F=Math.sin(T),N=Math.cos(T),k=Math.sin(z),I=Math.cos(z);return[V*N*I+_*F*k,_*N*I-V*F*k,V*F*I+_*N*k,V*N*k-_*F*I]}function h(f,P){var T=f[0],z=f[1],_=f[2],V=f[3],F=P[0],N=P[1],k=P[2],I=P[3];return[T*F-z*N-_*k-V*I,T*N+z*F+_*I-V*k,T*k-z*I+_*F+V*N,T*I+z*k-_*N+V*F]}function g(f,P){if(!(!f||!P)){var T=E(f,P),z=Math.sqrt(x(T,T)),_=.5*Math.acos(Math.max(-1,Math.min(1,x(f,P)))),V=Math.sin(_)/z;return z&&[Math.cos(_),T[2]*V,-T[1]*V,T[0]*V]}}function c(f,P,T){var z=w(P,2,f[0]);z=w(z,1,f[1]),z=w(z,0,f[2]-T[2]);var _=P[0],V=P[1],F=P[2],N=z[0],k=z[1],I=z[2],H=Math.atan2(V,_)*b,j=Math.sqrt(_*_+V*V),ee,te;Math.abs(k)>j?(te=(k>0?90:-90)-H,ee=0):(te=Math.asin(k/j)*b-H,ee=Math.sqrt(j*j-k*k));var ne=180-te-2*H,ue=(Math.atan2(I,N)-Math.atan2(F,ee))*b,q=(Math.atan2(I,N)-Math.atan2(F,-ee))*b,Y=o(T[0],T[1],te,ue),Z=o(T[0],T[1],ne,q);return Y<=Z?[te,ue,T[2]]:[ne,q,T[2]]}function o(f,P,T,z){var _=d(T-f),V=d(z-P);return Math.sqrt(_*_+V*V)}function d(f){return(f%360+540)%360-180}function w(f,P,T){var z=T*S,_=f.slice(),V=P===0?1:0,F=P===2?1:2,N=Math.cos(z),k=Math.sin(z);return _[V]=f[V]*N-f[F]*k,_[F]=f[F]*N+f[V]*k,_}function A(f){return[Math.atan2(2*(f[0]*f[1]+f[2]*f[3]),1-2*(f[1]*f[1]+f[2]*f[2]))*b,Math.asin(Math.max(-1,Math.min(1,2*(f[0]*f[2]-f[3]*f[1]))))*b,Math.atan2(2*(f[0]*f[3]+f[1]*f[2]),1-2*(f[2]*f[2]+f[3]*f[3]))*b]}function C(f){var P=f[0]*S,T=f[1]*S,z=Math.cos(T);return[z*Math.cos(P),z*Math.sin(P),Math.sin(T)]}function x(f,P){for(var T=0,z=0,_=f.length;z<_;++z)T+=f[z]*P[z];return T}function E(f,P){return[f[1]*P[2]-f[2]*P[1],f[2]*P[0]-f[0]*P[2],f[0]*P[1]-f[1]*P[0]]}function M(f){for(var P=0,T=arguments.length,z=[];++P<T;)z.push(arguments[P]);var _=y.dispatch.apply(null,z);return _.of=function(V,F){return function(N){var k;try{k=N.sourceEvent=y.event,N.target=f,y.event=N,_[N.type].apply(V,F)}finally{y.event=k}}},_}},84888:function(U,B,e){var y=e(24040),L=e(33816).SUBPLOT_PATTERN;B.KY=function(i,S,b){var v=y.subplotsRegistry[S];if(!v)return[];for(var p=v.attr,r=[],t=0;t<i.length;t++){var a=i[t],n=a[0].trace;n[p]===b&&r.push(a)}return r},B._M=function(i,S){var b=[],v=[],p;if(typeof S=="string"?p=y.getModule(S).plot:typeof S=="function"?p=S:p=S.plot,!p)return[b,i];for(var r=0;r<i.length;r++){var t=i[r],a=t[0].trace;a.visible!==!0||a._length===0||(a._module&&a._module.plot===p?b.push(t):v.push(t))}return[b,v]},B.op=function(S,b,v){if(!y.subplotsRegistry[b])return[];var p=y.subplotsRegistry[b].attr,r=[],t,a,n;if(b==="gl2d"){var u=v.match(L);a="x"+u[1],n="y"+u[2]}for(var s=0;s<S.length;s++)t=S[s],b==="gl2d"&&y.traceIs(t,"gl2d")?t[p[0]]===a&&t[p[1]]===n&&r.push(t):t[p]===v&&r.push(t);return r}},2428:function(U,B,e){var y=e(62644),L=e(97264),i=e(29128),S=e(33816),b=e(89184);U.exports=p;function v(r,t){this.element=r,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function p(r){var t=r.mouseContainer,a=r.glplot,n=new v(t,a);function u(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function s(){for(var m=r.graphDiv._fullLayout._axisConstraintGroups,h=r.xaxis._id,g=r.yaxis._id,c=0;c<m.length;c++)if(m[c][h]!==-1){if(m[c][g]!==-1)return!0;break}return!1}n.mouseListener=y(t,l),t.addEventListener("touchstart",function(m){var h=i(m.changedTouches[0],t);l(0,h[0],h[1]),l(1,h[0],h[1]),m.preventDefault()},b?{passive:!1}:!1),t.addEventListener("touchmove",function(m){m.preventDefault();var h=i(m.changedTouches[0],t);l(1,h[0],h[1]),m.preventDefault()},b?{passive:!1}:!1),t.addEventListener("touchend",function(m){l(0,n.lastPos[0],n.lastPos[1]),m.preventDefault()},b?{passive:!1}:!1);function l(m,h,g){var c=r.calcDataBox(),o=a.viewBox,d=n.lastPos[0],w=n.lastPos[1],A=S.MINDRAG*a.pixelRatio,C=S.MINZOOM*a.pixelRatio,x,E;h*=a.pixelRatio,g*=a.pixelRatio,g=o[3]-o[1]-g;function M(V,F,N){var k=Math.min(F,N),I=Math.max(F,N);k!==I?(c[V]=k,c[V+2]=I,n.dataBox=c,r.setRanges(c)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(r.fullLayout.dragmode){case"zoom":if(m){var f=h/(o[2]-o[0])*(c[2]-c[0])+c[0],P=g/(o[3]-o[1])*(c[3]-c[1])+c[1];n.boxInited||(n.boxStart[0]=f,n.boxStart[1]=P,n.dragStart[0]=h,n.dragStart[1]=g),n.boxEnd[0]=f,n.boxEnd[1]=P,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var T=Math.abs(n.dragStart[0]-h)<C,z=Math.abs(n.dragStart[1]-g)<C;if(s()&&!(T&&z)){x=n.boxEnd[0]-n.boxStart[0],E=n.boxEnd[1]-n.boxStart[1];var _=(c[3]-c[1])/(c[2]-c[0]);Math.abs(x*_)>Math.abs(E)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(x)*_*(E>=0?1:-1),n.boxEnd[1]<c[1]?(n.boxEnd[1]=c[1],n.boxEnd[0]=n.boxStart[0]+(c[1]-n.boxStart[1])/Math.abs(_)):n.boxEnd[1]>c[3]&&(n.boxEnd[1]=c[3],n.boxEnd[0]=n.boxStart[0]+(c[3]-n.boxStart[1])/Math.abs(_))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(E)/_*(x>=0?1:-1),n.boxEnd[0]<c[0]?(n.boxEnd[0]=c[0],n.boxEnd[1]=n.boxStart[1]+(c[0]-n.boxStart[0])*Math.abs(_)):n.boxEnd[0]>c[2]&&(n.boxEnd[0]=c[2],n.boxEnd[1]=n.boxStart[1]+(c[2]-n.boxStart[0])*Math.abs(_)))}else T&&(n.boxEnd[0]=n.boxStart[0]),z&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(x=n.boxStart[0]!==n.boxEnd[0],E=n.boxStart[1]!==n.boxEnd[1],x||E?(x&&(M(0,n.boxStart[0],n.boxEnd[0]),r.xaxis.autorange=!1),E&&(M(1,n.boxStart[1],n.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,m?(n.panning||(n.dragStart[0]=h,n.dragStart[1]=g),Math.abs(n.dragStart[0]-h)<A&&(h=n.dragStart[0]),Math.abs(n.dragStart[1]-g)<A&&(g=n.dragStart[1]),x=(d-h)*(c[2]-c[0])/(a.viewBox[2]-a.viewBox[0]),E=(w-g)*(c[3]-c[1])/(a.viewBox[3]-a.viewBox[1]),c[0]+=x,c[2]+=x,c[1]+=E,c[3]+=E,r.setRanges(c),n.panning=!0,n.lastInputTime=Date.now(),u(),r.cameraChanged(),r.handleAnnotations()):n.panning&&(n.panning=!1,r.relayoutCallback());break}n.lastPos[0]=h,n.lastPos[1]=g}return n.wheelListener=L(t,function(m,h){if(!r.scrollZoom)return!1;var g=r.calcDataBox(),c=a.viewBox,o=n.lastPos[0],d=n.lastPos[1],w=Math.exp(5*h/(c[3]-c[1])),A=o/(c[2]-c[0])*(g[2]-g[0])+g[0],C=d/(c[3]-c[1])*(g[3]-g[1])+g[1];return g[0]=(g[0]-A)*w+A,g[2]=(g[2]-A)*w+A,g[1]=(g[1]-C)*w+C,g[3]=(g[3]-C)*w+C,r.setRanges(g),n.lastInputTime=Date.now(),u(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),n}},92568:function(U,B,e){var y=e(54460),L=e(43080);function i(p){this.scene=p,this.gl=p.gl,this.pixelRatio=p.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var S=i.prototype,b=["xaxis","yaxis"];S.merge=function(p){this.titleEnable=!1,this.backgroundColor=L(p.plot_bgcolor);var r,t,a,n,u,s,l,m,h,g,c;for(g=0;g<2;++g){r=b[g];var o=r.charAt(0);for(t=p[this.scene[r]._name],a=t.title.text===this.scene.fullLayout._dfltTitle[o]?"":t.title.text,c=0;c<=2;c+=2)this.labelEnable[g+c]=!1,this.labels[g+c]=a,this.labelColor[g+c]=L(t.title.font.color),this.labelFont[g+c]=t.title.font.family,this.labelSize[g+c]=t.title.font.size,this.labelPad[g+c]=this.getLabelPad(r,t),this.tickEnable[g+c]=!1,this.tickColor[g+c]=L((t.tickfont||{}).color),this.tickAngle[g+c]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[g+c]=this.getTickPad(t),this.tickMarkLength[g+c]=0,this.tickMarkWidth[g+c]=t.tickwidth||0,this.tickMarkColor[g+c]=L(t.tickcolor),this.borderLineEnable[g+c]=!1,this.borderLineColor[g+c]=L(t.linecolor),this.borderLineWidth[g+c]=t.linewidth||0;l=this.hasSharedAxis(t),u=this.hasAxisInDfltPos(r,t)&&!l,s=this.hasAxisInAltrPos(r,t)&&!l,n=t.mirror||!1,m=l?String(n).indexOf("all")!==-1:!!n,h=l?n==="allticks":String(n).indexOf("ticks")!==-1,u?this.labelEnable[g]=!0:s&&(this.labelEnable[g+2]=!0),u?this.tickEnable[g]=t.showticklabels:s&&(this.tickEnable[g+2]=t.showticklabels),(u||m)&&(this.borderLineEnable[g]=t.showline),(s||m)&&(this.borderLineEnable[g+2]=t.showline),(u||h)&&(this.tickMarkLength[g]=this.getTickMarkLength(t)),(s||h)&&(this.tickMarkLength[g+2]=this.getTickMarkLength(t)),this.gridLineEnable[g]=t.showgrid,this.gridLineColor[g]=L(t.gridcolor),this.gridLineWidth[g]=t.gridwidth,this.zeroLineEnable[g]=t.zeroline,this.zeroLineColor[g]=L(t.zerolinecolor),this.zeroLineWidth[g]=t.zerolinewidth}},S.hasSharedAxis=function(p){var r=this.scene,t=r.fullLayout._subplots.gl2d,a=y.findSubplotsWithAxis(t,p);return a.indexOf(r.id)!==0},S.hasAxisInDfltPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="bottom";if(p==="yaxis")return t==="left"},S.hasAxisInAltrPos=function(p,r){var t=r.side;if(p==="xaxis")return t==="top";if(p==="yaxis")return t==="right"},S.getLabelPad=function(p,r){var t=1.5,a=r.title.font.size,n=r.showticklabels;if(p==="xaxis")return r.side==="top"?-10+a*(t+(n?1:0)):-10+a*(t+(n?.5:0));if(p==="yaxis")return r.side==="right"?10+a*(t+(n?1:.5)):10+a*(t+(n?.5:0))},S.getTickPad=function(p){return p.ticks==="outside"?10+p.ticklen:15},S.getTickMarkLength=function(p){if(!p.ticks)return 0;var r=p.ticklen;return p.ticks==="inside"?-r:r};function v(p){return new i(p)}U.exports=v},39952:function(U,B,e){var y=e(67824).overrideAll,L=e(17188),i=e(64859),S=e(9616),b=e(33816),v=e(57952),p=e(65460),r=e(84888).op;B.name="gl2d",B.attr=["xaxis","yaxis"],B.idRoot=["x","y"],B.idRegex=b.idRegex,B.attrRegex=b.attrRegex,B.attributes=e(26720),B.supplyLayoutDefaults=function(t,a,n){a._has("cartesian")||v.supplyLayoutDefaults(t,a,n)},B.layoutAttrOverrides=y(v.layoutAttributes,"plot","from-root"),B.baseLayoutAttrOverrides=y({plot_bgcolor:i.plot_bgcolor,hoverlabel:p.hoverlabel},"plot","nested"),B.plot=function(a){for(var n=a._fullLayout,u=a._fullData,s=n._subplots.gl2d,l=0;l<s.length;l++){var m=s[l],h=n._plots[m],g=r(u,"gl2d",m),c=h._scene2d;c===void 0&&(c=new L({id:m,graphDiv:a,container:a.querySelector(".gl-container"),staticPlot:a._context.staticPlot,plotGlPixelRatio:a._context.plotGlPixelRatio},n),h._scene2d=c),c.plot(g,a.calcdata,n,a.layout)}},B.clean=function(t,a,n,u){for(var s=u._subplots.gl2d||[],l=0;l<s.length;l++){var m=s[l],h=u._plots[m];if(h._scene2d){var g=r(t,"gl2d",m);g.length===0&&(h._scene2d.destroy(),delete u._plots[m])}}v.clean.apply(this,arguments)},B.drawFramework=function(t){t._context.staticPlot||v.drawFramework(t)},B.toSVG=function(t){for(var a=t._fullLayout,n=a._subplots.gl2d,u=0;u<n.length;u++){var s=a._plots[n[u]],l=s._scene2d,m=l.toImage("png"),h=a._glimages.append("svg:image");h.attr({xmlns:S.svg,"xlink:href":m,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),l.destroy()}},B.updateFx=function(t){for(var a=t._fullLayout,n=a._subplots.gl2d,u=0;u<n.length;u++){var s=a._plots[n[u]]._scene2d;s.updateFx(a.dragmode)}}},17188:function(U,B,e){var y=e(24040),L=e(54460),i=e(93024),S=e(67792).gl_plot2d,b=e(67792).gl_spikes2d,v=e(67792).gl_select_box,p=e(5408),r=e(92568),t=e(2428),a=e(16576),n=e(71888),u=n.enforce,s=n.clean,l=e(19280).doAutoRange,m=e(72760),h=m.drawMode,g=m.selectMode,c=["xaxis","yaxis"],o,d,w=e(33816).SUBPLOT_PATTERN;function A(E,M){this.container=E.container,this.graphDiv=E.graphDiv,this.pixelRatio=E.plotGlPixelRatio||window.devicePixelRatio,this.id=E.id,this.staticPlot=!!E.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(M),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(M),this.glplot=S(this.glplotOptions),this.camera=t(this),this.traces={},this.spikes=b(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}U.exports=A;var C=A.prototype;C.makeFramework=function(){if(this.staticPlot){if(!d&&(o=document.createElement("canvas"),d=p({canvas:o,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!d))throw new Error("Error creating static canvas/context for image server");this.canvas=o,this.gl=d}else{var E=this.container.querySelector(".gl-canvas-focus"),M=p({canvas:E,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!M){a(this),this.stopped=!0;return}this.canvas=E,this.gl=M}var f=this.canvas;f.style.width="100%",f.style.height="100%",f.style.position="absolute",f.style.top="0px",f.style.left="0px",f.style["pointer-events"]="none",this.updateSize(f);var P=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");P.style.position="absolute",P.style.top=P.style.left="0px",P.style.width=P.style.height="100%",P.style["z-index"]=20,P.style["pointer-events"]="none";var T=this.mouseContainer=document.createElement("div");T.style.position="absolute",T.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var z=this.container;z.appendChild(P),z.appendChild(T);var _=this;T.addEventListener("mouseout",function(){_.isMouseOver=!1,_.unhover()}),T.addEventListener("mouseover",function(){_.isMouseOver=!0})},C.toImage=function(E){E||(E="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(o),this.updateSize(this.canvas);var M=this.glplot.gl,f=M.drawingBufferWidth,P=M.drawingBufferHeight;M.clearColor(1,1,1,0),M.clear(M.COLOR_BUFFER_BIT|M.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),M.bindFramebuffer(M.FRAMEBUFFER,null);var T=new Uint8Array(f*P*4);M.readPixels(0,0,f,P,M.RGBA,M.UNSIGNED_BYTE,T);for(var z=0,_=P-1;z<_;++z,--_)for(var V=0;V<f;++V)for(var F=0;F<4;++F){var N=T[4*(f*z+V)+F];T[4*(f*z+V)+F]=T[4*(f*_+V)+F],T[4*(f*_+V)+F]=N}var k=document.createElement("canvas");k.width=f,k.height=P;var I=k.getContext("2d",{willReadFrequently:!0}),H=I.createImageData(f,P);H.data.set(T),I.putImageData(H,0,0);var j;switch(E){case"jpeg":j=k.toDataURL("image/jpeg");break;case"webp":j=k.toDataURL("image/webp");break;default:j=k.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(o),j},C.updateSize=function(E){E||(E=this.canvas);var M=this.pixelRatio,f=this.fullLayout,P=f.width,T=f.height,z=Math.ceil(M*P)|0,_=Math.ceil(M*T)|0;return(E.width!==z||E.height!==_)&&(E.width=z,E.height=_),E},C.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var E=[L.calcTicks(this.xaxis),L.calcTicks(this.yaxis)],M=0;M<2;++M)for(var f=0;f<E[M].length;++f)E[M][f].text=E[M][f].text+"";return E};function x(E,M){for(var f=0;f<2;++f){var P=E[f],T=M[f];if(P.length!==T.length)return!0;for(var z=0;z<P.length;++z)if(P[z].x!==T[z].x)return!0}return!1}C.updateRefs=function(E){this.fullLayout=E;var M=this.id.match(w),f="xaxis"+M[1],P="yaxis"+M[2];this.xaxis=this.fullLayout[f],this.yaxis=this.fullLayout[P]},C.relayoutCallback=function(){var E=this.graphDiv,M=this.xaxis,f=this.yaxis,P=E.layout,T={},z=T[M._name+".range"]=M.range.slice(),_=T[f._name+".range"]=f.range.slice();T[M._name+".autorange"]=M.autorange,T[f._name+".autorange"]=f.autorange,y.call("_storeDirectGUIEdit",E.layout,E._fullLayout._preGUI,T);var V=P[M._name];V.range=z,V.autorange=M.autorange;var F=P[f._name];F.range=_,F.autorange=f.autorange,T.lastInputTime=this.camera.lastInputTime,E.emit("plotly_relayout",T)},C.cameraChanged=function(){var E=this.camera;this.glplot.setDataBox(this.calcDataBox());var M=this.computeTickMarks(),f=this.glplotOptions.ticks;x(M,f)&&(this.glplotOptions.ticks=M,this.glplotOptions.dataBox=E.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},C.handleAnnotations=function(){for(var E=this.graphDiv,M=this.fullLayout.annotations,f=0;f<M.length;f++){var P=M[f];P.xref===this.xaxis._id&&P.yref===this.yaxis._id&&y.getComponentMethod("annotations","drawOne")(E,f)}},C.destroy=function(){if(this.glplot){var E=this.traces;E&&Object.keys(E).map(function(M){E[M].dispose(),delete E[M]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},C.plot=function(E,M,f){var P=this.glplot;this.updateRefs(f),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(E,M),this.updateFx(f.dragmode);var T=f.width,z=f.height;this.updateSize(this.canvas);var _=this.glplotOptions;_.merge(f),_.screenBox=[0,0,T,z];var V={_fullLayout:{_axisConstraintGroups:f._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:f._size}};s(V,this.xaxis),s(V,this.yaxis);var F=f._size,N=this.xaxis.domain,k=this.yaxis.domain;_.viewBox=[F.l+N[0]*F.w,F.b+k[0]*F.h,T-F.r-(1-N[1])*F.w,z-F.t-(1-k[1])*F.h],this.mouseContainer.style.width=F.w*(N[1]-N[0])+"px",this.mouseContainer.style.height=F.h*(k[1]-k[0])+"px",this.mouseContainer.height=F.h*(k[1]-k[0]),this.mouseContainer.style.left=F.l+N[0]*F.w+"px",this.mouseContainer.style.top=F.t+(1-k[1])*F.h+"px";var I,H;for(H=0;H<2;++H)I=this[c[H]],I._length=_.viewBox[H+2]-_.viewBox[H],l(this.graphDiv,I),I.setScale();u(V),_.ticks=this.computeTickMarks(),_.dataBox=this.calcDataBox(),_.merge(f),P.update(_),this.glplot.draw()},C.calcDataBox=function(){var E=this.xaxis,M=this.yaxis,f=E.range,P=M.range,T=E.r2l,z=M.r2l;return[T(f[0]),z(P[0]),T(f[1]),z(P[1])]},C.setRanges=function(E){var M=this.xaxis,f=this.yaxis,P=M.l2r,T=f.l2r;M.range=[P(E[0]),P(E[2])],f.range=[T(E[1]),T(E[3])]},C.updateTraces=function(E,M){var f=Object.keys(this.traces),P,T,z;this.fullData=E;e:for(P=0;P<f.length;P++){var _=f[P],V=this.traces[_];for(T=0;T<E.length;T++)if(z=E[T],z.uid===_&&z.type===V.type)continue e;V.dispose(),delete this.traces[_]}for(P=0;P<E.length;P++){z=E[P];var F=M[P],N=this.traces[z.uid];N?N.update(z,F):(N=z._module.plot(this,z,F),this.traces[z.uid]=N)}this.glplot.objects.sort(function(k,I){return k._trace.index-I._trace.index})},C.updateFx=function(E){g(E)||h(E)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),E==="pan"?this.mouseContainer.style.cursor="move":E==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},C.emitPointAction=function(E,M){for(var f=E.trace.uid,P=E.pointIndex,T,z=0;z<this.fullData.length;z++)this.fullData[z].uid===f&&(T=this.fullData[z]);var _={x:E.traceCoord[0],y:E.traceCoord[1],curveNumber:T.index,pointNumber:P,data:T._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};i.appendArrayPointValue(_,T,P),this.graphDiv.emit(M,{points:[_]})},C.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var E=this.glplot,M=this.camera,f=M.mouseListener,P=this.lastButtonState===1&&f.buttons===0,T=this.fullLayout;this.lastButtonState=f.buttons,this.cameraChanged();var z=f.x*E.pixelRatio,_=this.canvas.height-E.pixelRatio*f.y,V;if(M.boxEnabled&&T.dragmode==="zoom"){this.selectBox.enabled=!0;for(var F=this.selectBox.selectBox=[Math.min(M.boxStart[0],M.boxEnd[0]),Math.min(M.boxStart[1],M.boxEnd[1]),Math.max(M.boxStart[0],M.boxEnd[0]),Math.max(M.boxStart[1],M.boxEnd[1])],N=0;N<2;N++)M.boxStart[N]===M.boxEnd[N]&&(F[N]=E.dataBox[N],F[N+2]=E.dataBox[N+2]);E.setDirty()}else if(!M.panning&&this.isMouseOver){this.selectBox.enabled=!1;var k=T._size,I=this.xaxis.domain,H=this.yaxis.domain;V=E.pick(z/E.pixelRatio+k.l+I[0]*k.w,_/E.pixelRatio-(k.t+(1-H[1])*k.h));var j=V&&V.object._trace.handlePick(V);if(j&&P&&this.emitPointAction(j,"plotly_click"),V&&V.object._trace.hoverinfo!=="skip"&&T.hovermode&&j&&(!this.lastPickResult||this.lastPickResult.traceUid!==j.trace.uid||this.lastPickResult.dataCoord[0]!==j.dataCoord[0]||this.lastPickResult.dataCoord[1]!==j.dataCoord[1])){var ee=j;this.lastPickResult={traceUid:j.trace?j.trace.uid:null,dataCoord:j.dataCoord.slice()},this.spikes.update({center:V.dataCoord}),ee.screenCoord=[((E.viewBox[2]-E.viewBox[0])*(V.dataCoord[0]-E.dataBox[0])/(E.dataBox[2]-E.dataBox[0])+E.viewBox[0])/E.pixelRatio,(this.canvas.height-(E.viewBox[3]-E.viewBox[1])*(V.dataCoord[1]-E.dataBox[1])/(E.dataBox[3]-E.dataBox[1])-E.viewBox[1])/E.pixelRatio],this.emitPointAction(j,"plotly_hover");var te=this.fullData[ee.trace.index]||{},ne=ee.pointIndex,ue=i.castHoverinfo(te,T,ne);if(ue&&ue!=="all"){var q=ue.split("+");q.indexOf("x")===-1&&(ee.traceCoord[0]=void 0),q.indexOf("y")===-1&&(ee.traceCoord[1]=void 0),q.indexOf("z")===-1&&(ee.traceCoord[2]=void 0),q.indexOf("text")===-1&&(ee.textLabel=void 0),q.indexOf("name")===-1&&(ee.name=void 0)}i.loneHover({x:ee.screenCoord[0],y:ee.screenCoord[1],xLabel:this.hoverFormatter("xaxis",ee.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",ee.traceCoord[1]),zLabel:ee.traceCoord[2],text:ee.textLabel,name:ee.name,color:i.castHoverOption(te,ne,"bgcolor")||ee.color,borderColor:i.castHoverOption(te,ne,"bordercolor"),fontFamily:i.castHoverOption(te,ne,"font.family"),fontSize:i.castHoverOption(te,ne,"font.size"),fontColor:i.castHoverOption(te,ne,"font.color"),nameLength:i.castHoverOption(te,ne,"namelength"),textAlign:i.castHoverOption(te,ne,"align")},{container:this.svgContainer,gd:this.graphDiv})}}V||this.unhover(),E.draw()}},C.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),i.loneUnhover(this.svgContainer))},C.hoverFormatter=function(E,M){if(M!==void 0){var f=this[E];return L.tickText(f,f.c2l(M),"hover").text}}},12536:function(U,B,e){var y=e(67824).overrideAll,L=e(65460),i=e(98432),S=e(84888).op,b=e(3400),v=e(9616),p="gl3d",r="scene";B.name=p,B.attr=r,B.idRoot=r,B.idRegex=B.attrRegex=b.counterRegex("scene"),B.attributes=e(6636),B.layoutAttributes=e(346),B.baseLayoutAttrOverrides=y({hoverlabel:L.hoverlabel},"plot","nested"),B.supplyLayoutDefaults=e(5208),B.plot=function(a){for(var n=a._fullLayout,u=a._fullData,s=n._subplots[p],l=0;l<s.length;l++){var m=s[l],h=S(u,p,m),g=n[m],c=g.camera,o=g._scene;o||(o=new i({id:m,graphDiv:a,container:a.querySelector(".gl-container"),staticPlot:a._context.staticPlot,plotGlPixelRatio:a._context.plotGlPixelRatio,camera:c},n),g._scene=o),o.viewInitial||(o.viewInitial={up:{x:c.up.x,y:c.up.y,z:c.up.z},eye:{x:c.eye.x,y:c.eye.y,z:c.eye.z},center:{x:c.center.x,y:c.center.y,z:c.center.z}}),o.plot(h,n,a.layout)}},B.clean=function(t,a,n,u){for(var s=u._subplots[p]||[],l=0;l<s.length;l++){var m=s[l];!a[m]&&u[m]._scene&&(u[m]._scene.destroy(),u._infolayer&&u._infolayer.selectAll(".annotation-"+m).remove())}},B.toSVG=function(t){for(var a=t._fullLayout,n=a._subplots[p],u=a._size,s=0;s<n.length;s++){var l=a[n[s]],m=l.domain,h=l._scene,g=h.toImage("png"),c=a._glimages.append("svg:image");c.attr({xmlns:v.svg,"xlink:href":g,x:u.l+u.w*m.x[0],y:u.t+u.h*(1-m.y[1]),width:u.w*(m.x[1]-m.x[0]),height:u.h*(m.y[1]-m.y[0]),preserveAspectRatio:"none"}),h.destroy()}},B.cleanId=function(a){if(a.match(/^scene[0-9]*$/)){var n=a.substr(5);return n==="1"&&(n=""),r+n}},B.updateFx=function(t){for(var a=t._fullLayout,n=a._subplots[p],u=0;u<n.length;u++){var s=a[n[u]]._scene;s.updateFx(a.dragmode,a.hovermode)}}},6636:function(U){U.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(U,B,e){var y=e(76308),L=e(94724),i=e(92880).extendFlat,S=e(67824).overrideAll;U.exports=S({visible:L.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:y.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:L.color,categoryorder:L.categoryorder,categoryarray:L.categoryarray,title:{text:L.title.text,font:L.title.font},type:i({},L.type,{values:["-","linear","log","date","category"]}),autotypenumbers:L.autotypenumbers,autorange:L.autorange,autorangeoptions:{minallowed:L.autorangeoptions.minallowed,maxallowed:L.autorangeoptions.maxallowed,clipmin:L.autorangeoptions.clipmin,clipmax:L.autorangeoptions.clipmax,include:L.autorangeoptions.include,editType:"plot"},rangemode:L.rangemode,minallowed:L.minallowed,maxallowed:L.maxallowed,range:i({},L.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:L.minor.tickmode,nticks:L.nticks,tick0:L.tick0,dtick:L.dtick,tickvals:L.tickvals,ticktext:L.ticktext,ticks:L.ticks,mirror:L.mirror,ticklen:L.ticklen,tickwidth:L.tickwidth,tickcolor:L.tickcolor,showticklabels:L.showticklabels,labelalias:L.labelalias,tickfont:L.tickfont,tickangle:L.tickangle,tickprefix:L.tickprefix,showtickprefix:L.showtickprefix,ticksuffix:L.ticksuffix,showticksuffix:L.showticksuffix,showexponent:L.showexponent,exponentformat:L.exponentformat,minexponent:L.minexponent,separatethousands:L.separatethousands,tickformat:L.tickformat,tickformatstops:L.tickformatstops,hoverformat:L.hoverformat,showline:L.showline,linecolor:L.linecolor,linewidth:L.linewidth,showgrid:L.showgrid,gridcolor:i({},L.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:L.gridwidth,zeroline:L.zeroline,zerolinecolor:L.zerolinecolor,zerolinewidth:L.zerolinewidth,_deprecated:{title:L._deprecated.title,titlefont:L._deprecated.titlefont}},"plot","from-root")},64380:function(U,B,e){var y=e(49760).mix,L=e(3400),i=e(31780),S=e(86140),b=e(14944),v=e(28336),p=["xaxis","yaxis","zaxis"],r=100*136/187;U.exports=function(a,n,u){var s,l;function m(c,o){return L.coerce(s,l,S,c,o)}for(var h=0;h<p.length;h++){var g=p[h];s=a[g]||{},l=i.newContainer(n,g),l._id=g[0]+u.scene,l._name=g,b(s,l,m,u),v(s,l,m,{font:u.font,letter:g[0],data:u.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:u.bgColor,calendar:u.calendar},u.fullLayout),m("gridcolor",y(l.color,u.bgColor,r).toRgbString()),m("title.text",g[0]),l.setScale=L.noop,m("showspikes")&&(m("spikesides"),m("spikethickness"),m("spikecolor",l.color)),m("showaxeslabels"),m("showbackground")&&m("backgroundcolor")}}},44728:function(U,B,e){var y=e(43080),L=e(3400),i=["xaxis","yaxis","zaxis"];function S(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var b=S.prototype;b.merge=function(p,r){for(var t=this,a=0;a<3;++a){var n=r[i[a]];if(!n.visible){t.tickEnable[a]=!1,t.labelEnable[a]=!1,t.lineEnable[a]=!1,t.lineTickEnable[a]=!1,t.gridEnable[a]=!1,t.zeroEnable[a]=!1,t.backgroundEnable[a]=!1;continue}t.labels[a]=p._meta?L.templateString(n.title.text,p._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(t.labelColor[a]=y(n.title.font.color)),n.title.font.family&&(t.labelFont[a]=n.title.font.family),n.title.font.size&&(t.labelSize[a]=n.title.font.size)),"showline"in n&&(t.lineEnable[a]=n.showline),"linecolor"in n&&(t.lineColor[a]=y(n.linecolor)),"linewidth"in n&&(t.lineWidth[a]=n.linewidth),"showgrid"in n&&(t.gridEnable[a]=n.showgrid),"gridcolor"in n&&(t.gridColor[a]=y(n.gridcolor)),"gridwidth"in n&&(t.gridWidth[a]=n.gridwidth),n.type==="log"?t.zeroEnable[a]=!1:"zeroline"in n&&(t.zeroEnable[a]=n.zeroline),"zerolinecolor"in n&&(t.zeroLineColor[a]=y(n.zerolinecolor)),"zerolinewidth"in n&&(t.zeroLineWidth[a]=n.zerolinewidth),"ticks"in n&&n.ticks?t.lineTickEnable[a]=!0:t.lineTickEnable[a]=!1,"ticklen"in n&&(t.lineTickLength[a]=t._defaultLineTickLength[a]=n.ticklen),"tickcolor"in n&&(t.lineTickColor[a]=y(n.tickcolor)),"tickwidth"in n&&(t.lineTickWidth[a]=n.tickwidth),"tickangle"in n&&(t.tickAngle[a]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(t.tickEnable[a]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(t.tickColor[a]=y(n.tickfont.color)),n.tickfont.family&&(t.tickFont[a]=n.tickfont.family),n.tickfont.size&&(t.tickSize[a]=n.tickfont.size)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(t.lineTickMirror[a]=!0,t.lineMirror[a]=!0):n.mirror===!0?(t.lineTickMirror[a]=!1,t.lineMirror[a]=!0):(t.lineTickMirror[a]=!1,t.lineMirror[a]=!1):t.lineMirror[a]=!1,"showbackground"in n&&n.showbackground!==!1?(t.backgroundEnable[a]=!0,t.backgroundColor[a]=y(n.backgroundcolor)):t.backgroundEnable[a]=!1}};function v(p,r){var t=new S;return t.merge(p,r),t}U.exports=v},5208:function(U,B,e){var y=e(3400),L=e(76308),i=e(24040),S=e(168),b=e(64380),v=e(346),p=e(84888).op,r="gl3d";U.exports=function(n,u,s){var l=u._basePlotModules.length>1;function m(h){if(!l){var g=y.validate(n[h],v[h]);if(g)return n[h]}}S(n,u,s,{type:r,attributes:v,handleDefaults:t,fullLayout:u,font:u.font,fullData:s,getDfltFromLayout:m,autotypenumbersDflt:u.autotypenumbers,paper_bgcolor:u.paper_bgcolor,calendar:u.calendar})};function t(a,n,u,s){for(var l=u("bgcolor"),m=L.combine(l,s.paper_bgcolor),h=["up","center","eye"],g=0;g<h.length;g++)u("camera."+h[g]+".x"),u("camera."+h[g]+".y"),u("camera."+h[g]+".z");u("camera.projection.type");var c=!!u("aspectratio.x")&&!!u("aspectratio.y")&&!!u("aspectratio.z"),o=c?"manual":"auto",d=u("aspectmode",o);c||(a.aspectratio=n.aspectratio={x:1,y:1,z:1},d==="manual"&&(n.aspectmode="auto"),a.aspectmode=n.aspectmode);var w=p(s.fullData,r,s.id);b(a,n,{font:s.font,scene:s.id,data:w,bgColor:m,calendar:s.calendar,autotypenumbersDflt:s.autotypenumbersDflt,fullLayout:s.fullLayout}),i.getComponentMethod("annotations3d","handleDefaults")(a,n,s);var A=s.getDfltFromLayout("dragmode");if(A!==!1&&!A)if(A="orbit",a.camera&&a.camera.up){var C=a.camera.up.x,x=a.camera.up.y,E=a.camera.up.z;E!==0&&(!C||!x||!E||E/Math.sqrt(C*C+x*x+E*E)>.999)&&(A="turntable")}else A="turntable";u("dragmode",A),u("hovermode",s.getDfltFromLayout("hovermode"))}},346:function(U,B,e){var y=e(86140),L=e(86968).u,i=e(92880).extendFlat,S=e(3400).counterRegex;function b(v,p,r){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:p,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}U.exports={_arrayAttrRegexps:[S("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:i(b(0,0,1),{}),center:i(b(0,0,0),{}),eye:i(b(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:L({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:y,yaxis:y,zaxis:y,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(U,B,e){var y=e(43080),L=["xaxis","yaxis","zaxis"];function i(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var S=i.prototype;S.merge=function(v){for(var p=0;p<3;++p){var r=v[L[p]];if(!r.visible){this.enabled[p]=!1,this.drawSides[p]=!1;continue}this.enabled[p]=r.showspikes,this.colors[p]=y(r.spikecolor),this.drawSides[p]=r.spikesides,this.lineWidth[p]=r.spikethickness}};function b(v){var p=new i;return p.merge(v),p}U.exports=b},87152:function(U,B,e){U.exports=b;var y=e(54460),L=e(3400),i=["xaxis","yaxis","zaxis"];function S(v){for(var p=new Array(3),r=0;r<3;++r){for(var t=v[r],a=new Array(t.length),n=0;n<t.length;++n)a[n]=t[n].x;p[r]=a}return p}function b(v){for(var p=v.axesOptions,r=v.glplot.axesPixels,t=v.fullSceneLayout,a=[[],[],[]],n=0;n<3;++n){var u=t[i[n]];if(u._length=(r[n].hi-r[n].lo)*r[n].pixelsPerDataUnit/v.dataScale[n],Math.abs(u._length)===1/0||isNaN(u._length))a[n]=[];else{u._input_range=u.range.slice(),u.range[0]=r[n].lo/v.dataScale[n],u.range[1]=r[n].hi/v.dataScale[n],u._m=1/(v.dataScale[n]*r[n].pixelsPerDataUnit),u.range[0]===u.range[1]&&(u.range[0]-=1,u.range[1]+=1);var s=u.tickmode;if(u.tickmode==="auto"){u.tickmode="linear";var l=u.nticks||L.constrain(u._length/40,4,9);y.autoTicks(u,Math.abs(u.range[1]-u.range[0])/l)}for(var m=y.calcTicks(u,{msUTC:!0}),h=0;h<m.length;++h)m[h].x=m[h].x*v.dataScale[n],u.type==="date"&&(m[h].text=m[h].text.replace(/\<br\>/g," "));a[n]=m,u.tickmode=s}}p.ticks=a;for(var n=0;n<3;++n){.5*(v.glplot.bounds[0][n]+v.glplot.bounds[1][n]);for(var h=0;h<2;++h)p.bounds[h][n]=v.glplot.bounds[h][n]}v.contourLevels=S(a)}},94424:function(U){function B(y,L){var i=[0,0,0,0],S,b;for(S=0;S<4;++S)for(b=0;b<4;++b)i[b]+=y[4*S+b]*L[S];return i}function e(y,L){var i=B(y.projection,B(y.view,B(y.model,[L[0],L[1],L[2],1])));return i}U.exports=e},98432:function(U,B,e){var y=e(67792).gl_plot3d,L=y.createCamera,i=y.createScene,S=e(5408),b=e(89184),v=e(24040),p=e(3400),r=p.preserveDrawingBuffer(),t=e(54460),a=e(93024),n=e(43080),u=e(16576),s=e(94424),l=e(44728),m=e(9020),h=e(87152),g=e(19280).applyAutorangeOptions,c,o,d=!1;function w(_,V){var F=document.createElement("div"),N=_.container;this.graphDiv=_.graphDiv;var k=document.createElementNS("http://www.w3.org/2000/svg","svg");k.style.position="absolute",k.style.top=k.style.left="0px",k.style.width=k.style.height="100%",k.style["z-index"]=20,k.style["pointer-events"]="none",F.appendChild(k),this.svgContainer=k,F.id=_.id,F.style.position="absolute",F.style.top=F.style.left="0px",F.style.width=F.style.height="100%",N.appendChild(F),this.fullLayout=V,this.id=_.id||"scene",this.fullSceneLayout=V[this.id],this.plotArgs=[[],{},{}],this.axesOptions=l(V,V[this.id]),this.spikeOptions=m(V[this.id]),this.container=F,this.staticMode=!!_.staticPlot,this.pixelRatio=this.pixelRatio||_.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var A=w.prototype;A.prepareOptions=function(){var _=this,V={canvas:_.canvas,gl:_.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:_.container,axes:_.axesOptions,spikes:_.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:_.camera,pixelRatio:_.pixelRatio};if(_.staticMode){if(!o&&(c=document.createElement("canvas"),o=S({canvas:c,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!o))throw new Error("error creating static canvas/context for image server");V.gl=o,V.canvas=c}return V};var C=!0;A.tryCreatePlot=function(){var _=this,V=_.prepareOptions(),F=!0;try{_.glplot=i(V)}catch{if(_.staticMode||!C||r)F=!1;else{p.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=V.glOptions.preserveDrawingBuffer=!0,_.glplot=i(V)}catch{r=V.glOptions.preserveDrawingBuffer=!1,F=!1}}}return C=!1,F},A.initializeGLCamera=function(){var _=this,V=_.fullSceneLayout.camera,F=V.projection.type==="orthographic";_.camera=L(_.container,{center:[V.center.x,V.center.y,V.center.z],eye:[V.eye.x,V.eye.y,V.eye.z],up:[V.up.x,V.up.y,V.up.z],_ortho:F,zoomMin:.01,zoomMax:100,mode:"orbit"})},A.initializeGLPlot=function(){var _=this;_.initializeGLCamera();var V=_.tryCreatePlot();if(!V)return u(_);_.traces={},_.make4thDimension();var F=_.graphDiv,N=F.layout,k=function(){var H={};return _.isCameraChanged(N)&&(H[_.id+".camera"]=_.getCamera()),_.isAspectChanged(N)&&(H[_.id+".aspectratio"]=_.glplot.getAspectratio(),N[_.id].aspectmode!=="manual"&&(_.fullSceneLayout.aspectmode=N[_.id].aspectmode=H[_.id+".aspectmode"]="manual")),H},I=function(H){if(H.fullSceneLayout.dragmode!==!1){var j=k();H.saveLayout(N),H.graphDiv.emit("plotly_relayout",j)}};return _.glplot.canvas&&(_.glplot.canvas.addEventListener("mouseup",function(){I(_)}),_.glplot.canvas.addEventListener("touchstart",function(){d=!0}),_.glplot.canvas.addEventListener("wheel",function(H){if(F._context._scrollZoom.gl3d){if(_.camera._ortho){var j=H.deltaX>H.deltaY?1.1:.9090909090909091,ee=_.glplot.getAspectratio();_.glplot.setAspectratio({x:j*ee.x,y:j*ee.y,z:j*ee.z})}I(_)}},b?{passive:!1}:!1),_.glplot.canvas.addEventListener("mousemove",function(){if(_.fullSceneLayout.dragmode!==!1&&_.camera.mouseListener.buttons!==0){var H=k();_.graphDiv.emit("plotly_relayouting",H)}}),_.staticMode||_.glplot.canvas.addEventListener("webglcontextlost",function(H){F&&F.emit&&F.emit("plotly_webglcontextlost",{event:H,layer:_.id})},!1)),_.glplot.oncontextloss=function(){_.recoverContext()},_.glplot.onrender=function(){_.render()},!0},A.render=function(){var _=this,V=_.graphDiv,F,N=_.svgContainer,k=_.container.getBoundingClientRect();V._fullLayout._calcInverseTransform(V);var I=V._fullLayout._invScaleX,H=V._fullLayout._invScaleY,j=k.width*I,ee=k.height*H;N.setAttributeNS(null,"viewBox","0 0 "+j+" "+ee),N.setAttributeNS(null,"width",j),N.setAttributeNS(null,"height",ee),h(_),_.glplot.axes.update(_.axesOptions);for(var te=Object.keys(_.traces),ne=null,ue=_.glplot.selection,q=0;q<te.length;++q)F=_.traces[te[q]],F.data.hoverinfo!=="skip"&&F.handlePick(ue)&&(ne=F),F.setContourLevels&&F.setContourLevels();function Y(ke,we,Ee){var xe=_.fullSceneLayout[ke+"axis"];return xe.type!=="log"&&(we=xe.d2l(we)),t.hoverLabelText(xe,we,Ee)}if(ne!==null){var Z=s(_.glplot.cameraParams,ue.dataCoordinate);F=ne.data;var G=V._fullData[F.index],K=ue.index,oe={xLabel:Y("x",ue.traceCoordinate[0],F.xhoverformat),yLabel:Y("y",ue.traceCoordinate[1],F.yhoverformat),zLabel:Y("z",ue.traceCoordinate[2],F.zhoverformat)},$=a.castHoverinfo(G,_.fullLayout,K),J=($||"").split("+"),se=$&&$==="all";!G.hovertemplate&&!se&&(J.indexOf("x")===-1&&(oe.xLabel=void 0),J.indexOf("y")===-1&&(oe.yLabel=void 0),J.indexOf("z")===-1&&(oe.zLabel=void 0),J.indexOf("text")===-1&&(ue.textLabel=void 0),J.indexOf("name")===-1&&(ne.name=void 0));var ie,ce=[];F.type==="cone"||F.type==="streamtube"?(oe.uLabel=Y("x",ue.traceCoordinate[3],F.uhoverformat),(se||J.indexOf("u")!==-1)&&ce.push("u: "+oe.uLabel),oe.vLabel=Y("y",ue.traceCoordinate[4],F.vhoverformat),(se||J.indexOf("v")!==-1)&&ce.push("v: "+oe.vLabel),oe.wLabel=Y("z",ue.traceCoordinate[5],F.whoverformat),(se||J.indexOf("w")!==-1)&&ce.push("w: "+oe.wLabel),oe.normLabel=ue.traceCoordinate[6].toPrecision(3),(se||J.indexOf("norm")!==-1)&&ce.push("norm: "+oe.normLabel),F.type==="streamtube"&&(oe.divergenceLabel=ue.traceCoordinate[7].toPrecision(3),(se||J.indexOf("divergence")!==-1)&&ce.push("divergence: "+oe.divergenceLabel)),ue.textLabel&&ce.push(ue.textLabel),ie=ce.join("<br>")):F.type==="isosurface"||F.type==="volume"?(oe.valueLabel=t.hoverLabelText(_._mockAxis,_._mockAxis.d2l(ue.traceCoordinate[3]),F.valuehoverformat),ce.push("value: "+oe.valueLabel),ue.textLabel&&ce.push(ue.textLabel),ie=ce.join("<br>")):ie=ue.textLabel;var ye={x:ue.traceCoordinate[0],y:ue.traceCoordinate[1],z:ue.traceCoordinate[2],data:G._input,fullData:G,curveNumber:G.index,pointNumber:K};a.appendArrayPointValue(ye,G,K),F._module.eventData&&(ye=G._module.eventData(ye,ue,G,{},K));var Se={points:[ye]};if(_.fullSceneLayout.hovermode){var Te=[];a.loneHover({trace:G,x:(.5+.5*Z[0]/Z[3])*j,y:(.5-.5*Z[1]/Z[3])*ee,xLabel:oe.xLabel,yLabel:oe.yLabel,zLabel:oe.zLabel,text:ie,name:ne.name,color:a.castHoverOption(G,K,"bgcolor")||ne.color,borderColor:a.castHoverOption(G,K,"bordercolor"),fontFamily:a.castHoverOption(G,K,"font.family"),fontSize:a.castHoverOption(G,K,"font.size"),fontColor:a.castHoverOption(G,K,"font.color"),nameLength:a.castHoverOption(G,K,"namelength"),textAlign:a.castHoverOption(G,K,"align"),hovertemplate:p.castOption(G,K,"hovertemplate"),hovertemplateLabels:p.extendFlat({},ye,oe),eventData:[ye]},{container:N,gd:V,inOut_bbox:Te}),ye.bbox=Te[0]}ue.distance<5&&(ue.buttons||d)?V.emit("plotly_click",Se):V.emit("plotly_hover",Se),this.oldEventData=Se}else a.loneUnhover(N),this.oldEventData&&V.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;_.drawAnnotations(_)},A.recoverContext=function(){var _=this;_.glplot.dispose();var V=function(){if(_.glplot.gl.isContextLost()){requestAnimationFrame(V);return}if(!_.initializeGLPlot()){p.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}_.plot.apply(_,_.plotArgs)};requestAnimationFrame(V)};var x=["xaxis","yaxis","zaxis"];function E(_,V,F){for(var N=_.fullSceneLayout,k=0;k<3;k++){var I=x[k],H=I.charAt(0),j=N[I],ee=V[H],te=V[H+"calendar"],ne=V["_"+H+"length"];if(!p.isArrayOrTypedArray(ee))F[0][k]=Math.min(F[0][k],0),F[1][k]=Math.max(F[1][k],ne-1);else for(var ue,q=0;q<(ne||ee.length);q++)if(p.isArrayOrTypedArray(ee[q]))for(var Y=0;Y<ee[q].length;++Y)ue=j.d2l(ee[q][Y],0,te),!isNaN(ue)&&isFinite(ue)&&(F[0][k]=Math.min(F[0][k],ue),F[1][k]=Math.max(F[1][k],ue));else ue=j.d2l(ee[q],0,te),!isNaN(ue)&&isFinite(ue)&&(F[0][k]=Math.min(F[0][k],ue),F[1][k]=Math.max(F[1][k],ue))}}function M(_,V){for(var F=_.fullSceneLayout,N=F.annotations||[],k=0;k<3;k++)for(var I=x[k],H=I.charAt(0),j=F[I],ee=0;ee<N.length;ee++){var te=N[ee];if(te.visible){var ne=j.r2l(te[H]);!isNaN(ne)&&isFinite(ne)&&(V[0][k]=Math.min(V[0][k],ne),V[1][k]=Math.max(V[1][k],ne))}}}A.plot=function(_,V,F){var N=this;if(N.plotArgs=[_,V,F],!N.glplot.contextLost){var k,I,H,j,ee,te,ne=V[N.id],ue=F[N.id];N.fullLayout=V,N.fullSceneLayout=ne,N.axesOptions.merge(V,ne),N.spikeOptions.merge(ne),N.setViewport(ne),N.updateFx(ne.dragmode,ne.hovermode),N.camera.enableWheel=N.graphDiv._context._scrollZoom.gl3d,N.glplot.setClearColor(n(ne.bgcolor)),N.setConvert(ee),_?Array.isArray(_)||(_=[_]):_=[];var q=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(H=0;H<_.length;++H)k=_[H],!(k.visible!==!0||k._length===0)&&E(this,k,q);M(this,q);var Y=[1,1,1];for(j=0;j<3;++j)q[1][j]===q[0][j]?Y[j]=1:Y[j]=1/(q[1][j]-q[0][j]);for(N.dataScale=Y,N.convertAnnotations(this),H=0;H<_.length;++H)k=_[H],!(k.visible!==!0||k._length===0)&&(I=N.traces[k.uid],I?I.data.type===k.type?I.update(k):(I.dispose(),I=k._module.plot(this,k),N.traces[k.uid]=I):(I=k._module.plot(this,k),N.traces[k.uid]=I),I.name=k.name);var Z=Object.keys(N.traces);e:for(H=0;H<Z.length;++H){for(j=0;j<_.length;++j)if(_[j].uid===Z[H]&&_[j].visible===!0&&_[j]._length!==0)continue e;I=N.traces[Z[H]],I.dispose(),delete N.traces[Z[H]]}N.glplot.objects.sort(function(ut,et){return ut._trace.data.index-et._trace.data.index});var G=[[0,0,0],[0,0,0]],K={};for(H=0;H<3;++H){ee=ne[x[H]],te=ee.type,te in K?(K[te].acc*=Y[H],K[te].count+=1):K[te]={acc:Y[H],count:1};var oe;if(ee.autorange){G[0][H]=1/0,G[1][H]=-1/0;var $=N.glplot.objects,J=N.fullSceneLayout.annotations||[],se=ee._name.charAt(0);for(j=0;j<$.length;j++){var ie=$[j],ce=ie.bounds,ye=ie._trace.data._pad||0;ie.constructor.name==="ErrorBars"&&ee._lowerLogErrorBound?G[0][H]=Math.min(G[0][H],ee._lowerLogErrorBound):G[0][H]=Math.min(G[0][H],ce[0][H]/Y[H]-ye),G[1][H]=Math.max(G[1][H],ce[1][H]/Y[H]+ye)}for(j=0;j<J.length;j++){var Se=J[j];if(Se.visible){var Te=ee.r2l(Se[se]);G[0][H]=Math.min(G[0][H],Te),G[1][H]=Math.max(G[1][H],Te)}}if("rangemode"in ee&&ee.rangemode==="tozero"&&(G[0][H]=Math.min(G[0][H],0),G[1][H]=Math.max(G[1][H],0)),G[0][H]>G[1][H])G[0][H]=-1,G[1][H]=1;else{var ke=G[1][H]-G[0][H];G[0][H]-=ke/32,G[1][H]+=ke/32}if(oe=[G[0][H],G[1][H]],oe=g(oe,ee),G[0][H]=oe[0],G[1][H]=oe[1],ee.isReversed()){var we=G[0][H];G[0][H]=G[1][H],G[1][H]=we}}else oe=ee.range,G[0][H]=ee.r2l(oe[0]),G[1][H]=ee.r2l(oe[1]);G[0][H]===G[1][H]&&(G[0][H]-=1,G[1][H]+=1),ee.range=[G[0][H],G[1][H]],ee.limitRange(),N.glplot.setBounds(H,{min:ee.range[0]*Y[H],max:ee.range[1]*Y[H]})}var Ee,xe=ne.aspectmode;if(xe==="cube")Ee=[1,1,1];else if(xe==="manual"){var De=ne.aspectratio;Ee=[De.x,De.y,De.z]}else if(xe==="auto"||xe==="data"){var Ve=[1,1,1];for(H=0;H<3;++H){ee=ne[x[H]],te=ee.type;var Ue=K[te];Ve[H]=Math.pow(Ue.acc,1/Ue.count)/Y[H]}xe==="data"||Math.max.apply(null,Ve)/Math.min.apply(null,Ve)<=4?Ee=Ve:Ee=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");ne.aspectratio.x=ue.aspectratio.x=Ee[0],ne.aspectratio.y=ue.aspectratio.y=Ee[1],ne.aspectratio.z=ue.aspectratio.z=Ee[2],N.glplot.setAspectratio(ne.aspectratio),N.viewInitial.aspectratio||(N.viewInitial.aspectratio={x:ne.aspectratio.x,y:ne.aspectratio.y,z:ne.aspectratio.z}),N.viewInitial.aspectmode||(N.viewInitial.aspectmode=ne.aspectmode);var Be=ne.domain||null,Xe=V._size||null;if(Be&&Xe){var ot=N.container.style;ot.position="absolute",ot.left=Xe.l+Be.x[0]*Xe.w+"px",ot.top=Xe.t+(1-Be.y[1])*Xe.h+"px",ot.width=Xe.w*(Be.x[1]-Be.x[0])+"px",ot.height=Xe.h*(Be.y[1]-Be.y[0])+"px"}N.glplot.redraw()}},A.destroy=function(){var _=this;_.glplot&&(_.camera.mouseListener.enabled=!1,_.container.removeEventListener("wheel",_.camera.wheelListener),_.camera=null,_.glplot.dispose(),_.container.parentNode.removeChild(_.container),_.glplot=null)};function f(_){return[[_.eye.x,_.eye.y,_.eye.z],[_.center.x,_.center.y,_.center.z],[_.up.x,_.up.y,_.up.z]]}function P(_){return{up:{x:_.up[0],y:_.up[1],z:_.up[2]},center:{x:_.center[0],y:_.center[1],z:_.center[2]},eye:{x:_.eye[0],y:_.eye[1],z:_.eye[2]},projection:{type:_._ortho===!0?"orthographic":"perspective"}}}A.getCamera=function(){var _=this;return _.camera.view.recalcMatrix(_.camera.view.lastT()),P(_.camera)},A.setViewport=function(_){var V=this,F=_.camera;V.camera.lookAt.apply(this,f(F)),V.glplot.setAspectratio(_.aspectratio);var N=F.projection.type==="orthographic",k=V.camera._ortho;N!==k&&(V.glplot.redraw(),V.glplot.clearRGBA(),V.glplot.dispose(),V.initializeGLPlot())},A.isCameraChanged=function(_){var V=this,F=V.getCamera(),N=p.nestedProperty(_,V.id+".camera"),k=N.get();function I(te,ne,ue,q){var Y=["up","center","eye"],Z=["x","y","z"];return ne[Y[ue]]&&te[Y[ue]][Z[q]]===ne[Y[ue]][Z[q]]}var H=!1;if(k===void 0)H=!0;else{for(var j=0;j<3;j++)for(var ee=0;ee<3;ee++)if(!I(F,k,j,ee)){H=!0;break}(!k.projection||F.projection&&F.projection.type!==k.projection.type)&&(H=!0)}return H},A.isAspectChanged=function(_){var V=this,F=V.glplot.getAspectratio(),N=p.nestedProperty(_,V.id+".aspectratio"),k=N.get();return k===void 0||k.x!==F.x||k.y!==F.y||k.z!==F.z},A.saveLayout=function(_){var V=this,F=V.fullLayout,N,k,I,H,j,ee,te=V.isCameraChanged(_),ne=V.isAspectChanged(_),ue=te||ne;if(ue){var q={};if(te&&(N=V.getCamera(),k=p.nestedProperty(_,V.id+".camera"),I=k.get(),q[V.id+".camera"]=I),ne&&(H=V.glplot.getAspectratio(),j=p.nestedProperty(_,V.id+".aspectratio"),ee=j.get(),q[V.id+".aspectratio"]=ee),v.call("_storeDirectGUIEdit",_,F._preGUI,q),te){k.set(N);var Y=p.nestedProperty(F,V.id+".camera");Y.set(N)}if(ne){j.set(H);var Z=p.nestedProperty(F,V.id+".aspectratio");Z.set(H),V.glplot.redraw()}}return ue},A.updateFx=function(_,V){var F=this,N=F.camera;if(N)if(_==="orbit")N.mode="orbit",N.keyBindingMode="rotate";else if(_==="turntable"){N.up=[0,0,1],N.mode="turntable",N.keyBindingMode="rotate";var k=F.graphDiv,I=k._fullLayout,H=F.fullSceneLayout.camera,j=H.up.x,ee=H.up.y,te=H.up.z;if(te/Math.sqrt(j*j+ee*ee+te*te)<.999){var ne=F.id+".camera.up",ue={x:0,y:0,z:1},q={};q[ne]=ue;var Y=k.layout;v.call("_storeDirectGUIEdit",Y,I._preGUI,q),H.up=ue,p.nestedProperty(Y,ne).set(ue)}}else N.keyBindingMode=_;F.fullSceneLayout.hovermode=V};function T(_,V,F){for(var N=0,k=F-1;N<k;++N,--k)for(var I=0;I<V;++I)for(var H=0;H<4;++H){var j=4*(V*N+I)+H,ee=4*(V*k+I)+H,te=_[j];_[j]=_[ee],_[ee]=te}}function z(_,V,F){for(var N=0;N<F;++N)for(var k=0;k<V;++k){var I=4*(V*N+k),H=_[I+3];if(H>0)for(var j=255/H,ee=0;ee<3;++ee)_[I+ee]=Math.min(j*_[I+ee],255)}}A.toImage=function(_){var V=this;_||(_="png"),V.staticMode&&V.container.appendChild(c),V.glplot.redraw();var F=V.glplot.gl,N=F.drawingBufferWidth,k=F.drawingBufferHeight;F.bindFramebuffer(F.FRAMEBUFFER,null);var I=new Uint8Array(N*k*4);F.readPixels(0,0,N,k,F.RGBA,F.UNSIGNED_BYTE,I),T(I,N,k),z(I,N,k);var H=document.createElement("canvas");H.width=N,H.height=k;var j=H.getContext("2d",{willReadFrequently:!0}),ee=j.createImageData(N,k);ee.data.set(I),j.putImageData(ee,0,0);var te;switch(_){case"jpeg":te=H.toDataURL("image/jpeg");break;case"webp":te=H.toDataURL("image/webp");break;default:te=H.toDataURL("image/png")}return V.staticMode&&V.container.removeChild(c),te},A.setConvert=function(){for(var _=this,V=0;V<3;V++){var F=_.fullSceneLayout[x[V]];t.setConvert(F,_.fullLayout),F.setScale=p.noop}},A.make4thDimension=function(){var _=this,V=_.graphDiv,F=V._fullLayout;_._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},t.setConvert(_._mockAxis,F)},U.exports=w},52094:function(U){U.exports=function(e,y,L,i){i=i||e.length;for(var S=new Array(i),b=0;b<i;b++)S[b]=[e[b],y[b],L[b]];return S}},64859:function(U,B,e){var y=e(25376),L=e(85656),i=e(22548),S=e(92872),b=e(34200),v=e(66741),p=e(92880).extendFlat,r=y({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=i.defaultLine,U.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:y({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:p(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:i.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:i.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:i.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:S.newshape,activeshape:S.activeshape,newselection:b.newselection,activeselection:b.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:p({},L.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:y({editType:"layoutstyle"})}}},47552:function(U,B,e){var y=e(95376),L="1.13.4",i='© <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',S=['© <a target="_blank" href="https://carto.com/">Carto</a>',i].join(" "),b=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),p={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:i,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:S,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:S,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:b,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:b,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=y(p);U.exports={requiredVersion:L,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:p,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+L+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(U,B,e){var y=e(3400);U.exports=function(i,S){var b=i.split(" "),v=b[0],p=b[1],r=y.isArrayOrTypedArray(S)?y.mean(S):S,t=.5+r/100,a=1.5+r/100,n=["",""],u=[0,0];switch(v){case"top":n[0]="top",u[1]=-a;break;case"bottom":n[0]="bottom",u[1]=a;break}switch(p){case"left":n[1]="right",u[0]=-t;break;case"right":n[1]="left",u[0]=t;break}var s;return n[0]&&n[1]?s=n.join("-"):n[0]?s=n[0]:n[1]?s=n[1]:s="center",{anchor:s,offset:u}}},33688:function(U,B,e){var y=e(3480),L=e(3400),i=L.strTranslate,S=L.strScale,b=e(84888).KY,v=e(9616),p=e(33428),r=e(43616),t=e(72736),a=e(14440),n="mapbox",u=B.constants=e(47552);B.name=n,B.attr="subplot",B.idRoot=n,B.idRegex=B.attrRegex=L.counterRegex(n),B.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},B.layoutAttributes=e(5232),B.supplyLayoutDefaults=e(5976),B.plot=function(h){var g=h._fullLayout,c=h.calcdata,o=g._subplots[n];if(y.version!==u.requiredVersion)throw new Error(u.wrongVersionErrorMsg);var d=s(h,o);y.accessToken=d;for(var w=0;w<o.length;w++){var A=o[w],C=b(c,n,A),x=g[A],E=x._subplot;E||(E=new a(h,A),g[A]._subplot=E),E.viewInitial||(E.viewInitial={center:L.extendFlat({},x.center),zoom:x.zoom,bearing:x.bearing,pitch:x.pitch}),E.plot(C,g,h._promises)}},B.clean=function(m,h,g,c){for(var o=c._subplots[n]||[],d=0;d<o.length;d++){var w=o[d];!h[w]&&c[w]._subplot&&c[w]._subplot.destroy()}},B.toSVG=function(m){for(var h=m._fullLayout,g=h._subplots[n],c=h._size,o=0;o<g.length;o++){var d=h[g[o]],w=d.domain,A=d._subplot,C=A.toImage("png"),x=h._glimages.append("svg:image");x.attr({xmlns:v.svg,"xlink:href":C,x:c.l+c.w*w.x[0],y:c.t+c.h*(1-w.y[1]),width:c.w*(w.x[1]-w.x[0]),height:c.h*(w.y[1]-w.y[0]),preserveAspectRatio:"none"});var E=p.select(d._subplot.div),M=E.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!M){var f=h._glimages.append("g");f.attr("transform",i(c.l+c.w*w.x[0]+10,c.t+c.h*(1-w.y[0])-31)),f.append("path").attr("d",u.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),f.append("path").attr("d",u.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),f.append("path").attr("d",u.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),f.append("polygon").attr("points",u.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var P=E.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),T=h._glimages.append("g"),z=T.append("text");z.text(P).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":P});var _=r.bBox(z.node()),V=c.w*(w.x[1]-w.x[0]);if(_.width>V/2){var F=P.split("|").join("<br>");z.text(F).attr("data-unformatted",F).call(t.convertToTspans,m),_=r.bBox(z.node())}z.attr("transform",i(-3,-_.height+8)),T.insert("rect",".static-attribution").attr({x:-_.width-6,y:-_.height-3,width:_.width+6,height:_.height+3,fill:"rgba(255, 255, 255, 0.75)"});var N=1;_.width+6>V&&(N=V/(_.width+6));var k=[c.l+c.w*w.x[1],c.t+c.h*(1-w.y[0])];T.attr("transform",i(k[0],k[1])+S(N))}};function s(m,h){var g=m._fullLayout,c=m._context;if(c.mapboxAccessToken==="")return"";for(var o=[],d=[],w=!1,A=!1,C=0;C<h.length;C++){var x=g[h[C]],E=x.accesstoken;l(x.style)&&(E?L.pushUnique(o,E):(l(x._input.style)&&(L.error("Uses Mapbox map style, but did not set an access token."),w=!0),A=!0)),E&&L.pushUnique(d,E)}if(A){var M=w?u.noAccessTokenErrorMsg:u.missingStyleErrorMsg;throw L.error(M),new Error(M)}return o.length?(o.length>1&&L.warn(u.multipleTokensErrorMsg),o[0]):(d.length&&L.log(["Listed mapbox access token(s)",d.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function l(m){return typeof m=="string"&&(u.styleValuesMapbox.indexOf(m)!==-1||m.indexOf("mapbox://")===0||m.indexOf("stamen")===0)}B.updateFx=function(m){for(var h=m._fullLayout,g=h._subplots[n],c=0;c<g.length;c++){var o=h[g[c]]._subplot;o.updateFx(h)}}},22360:function(U,B,e){var y=e(3400),L=e(72736).sanitizeHTML,i=e(89032),S=e(47552);function b(a,n){this.subplot=a,this.uid=a.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=S.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=b.prototype;v.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=p(n)},v.needsNewImage=function(a){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&a.sourcetype==="image"&&(this.source!==a.source||JSON.stringify(this.coordinates)!==JSON.stringify(a.coordinates))},v.needsNewSource=function(a){return this.sourceType!==a.sourcetype||JSON.stringify(this.source)!==JSON.stringify(a.source)||this.layerType!==a.type},v.needsNewLayer=function(a){return this.layerType!==a.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(a){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:a.source,coordinates:a.coordinates});var u=this.findFollowingMapboxLayerId(this.lookupBelow());u!==null&&this.subplot.map.moveLayer(this.idLayer,u)},v.updateSource=function(a){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=a.sourcetype,this.source=a.source,!!p(a)){var u=t(a);n.addSource(this.idSource,u)}},v.findFollowingMapboxLayerId=function(a){if(a==="traces")for(var n=this.subplot.getMapLayers(),u=0;u<n.length;u++){var s=n[u].id;if(typeof s=="string"&&s.indexOf(S.traceLayerPrefix)===0){a=s;break}}return a},v.updateLayer=function(a){var n=this.subplot,u=r(a),s=this.lookupBelow(),l=this.findFollowingMapboxLayerId(s);this.removeLayer(),p(a)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":a.sourcelayer||"",type:a.type,minzoom:a.minzoom,maxzoom:a.maxzoom,layout:u.layout,paint:u.paint},l),this.layerType=a.type,this.below=s},v.updateStyle=function(a){if(p(a)){var n=r(a);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},v.removeLayer=function(){var a=this.subplot.map;a.getLayer(this.idLayer)&&a.removeLayer(this.idLayer)},v.dispose=function(){var a=this.subplot.map;a.getLayer(this.idLayer)&&a.removeLayer(this.idLayer),a.getSource(this.idSource)&&a.removeSource(this.idSource)};function p(a){if(!a.visible)return!1;var n=a.source;if(Array.isArray(n)&&n.length>0){for(var u=0;u<n.length;u++)if(typeof n[u]!="string"||n[u].length===0)return!1;return!0}return y.isPlainObject(n)||typeof n=="string"&&n.length>0}function r(a){var n={},u={};switch(a.type){case"circle":y.extendFlat(u,{"circle-radius":a.circle.radius,"circle-color":a.color,"circle-opacity":a.opacity});break;case"line":y.extendFlat(u,{"line-width":a.line.width,"line-color":a.color,"line-opacity":a.opacity,"line-dasharray":a.line.dash});break;case"fill":y.extendFlat(u,{"fill-color":a.color,"fill-outline-color":a.fill.outlinecolor,"fill-opacity":a.opacity});break;case"symbol":var s=a.symbol,l=i(s.textposition,s.iconsize);y.extendFlat(n,{"icon-image":s.icon+"-15","icon-size":s.iconsize/10,"text-field":s.text,"text-size":s.textfont.size,"text-anchor":l.anchor,"text-offset":l.offset,"symbol-placement":s.placement}),y.extendFlat(u,{"icon-color":a.color,"text-color":s.textfont.color,"text-opacity":a.opacity});break;case"raster":y.extendFlat(u,{"raster-fade-duration":0,"raster-opacity":a.opacity});break}return{layout:n,paint:u}}function t(a){var n=a.sourcetype,u=a.source,s={type:n},l;return n==="geojson"?l="data":n==="vector"?l=typeof u=="string"?"url":"tiles":n==="raster"?(l="tiles",s.tileSize=256):n==="image"&&(l="url",s.coordinates=a.coordinates),s[l]=u,a.sourceattribution&&(s.attribution=L(a.sourceattribution)),s}U.exports=function(n,u,s){var l=new b(n,u);return l.update(s),l}},5232:function(U,B,e){var y=e(3400),L=e(76308).defaultLine,i=e(86968).u,S=e(25376),b=e(52904).textposition,v=e(67824).overrideAll,p=e(31780).templatedArray,r=e(47552),t=S({});t.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var a=U.exports=v({_arrayAttrRegexps:[y.counterRegex("mapbox",".layers",!0)],domain:i({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:p("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:L},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:L}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:t,textposition:y.extendFlat({},b,{arrayOk:!1})}})},"plot","from-root");a.uirevision={valType:"any",editType:"none"}},5976:function(U,B,e){var y=e(3400),L=e(168),i=e(51272),S=e(5232);U.exports=function(r,t,a){L(r,t,a,{type:"mapbox",attributes:S,handleDefaults:b,partition:"y",accessToken:t._mapboxAccessToken})};function b(p,r,t,a){t("accesstoken",a.accessToken),t("style"),t("center.lon"),t("center.lat"),t("zoom"),t("bearing"),t("pitch");var n=t("bounds.west"),u=t("bounds.east"),s=t("bounds.south"),l=t("bounds.north");(n===void 0||u===void 0||s===void 0||l===void 0)&&delete r.bounds,i(p,r,{name:"layers",handleItemDefaults:v}),r._input=p}function v(p,r){function t(m,h){return y.coerce(p,r,S.layers,m,h)}var a=t("visible");if(a){var n=t("sourcetype"),u=n==="raster"||n==="image";t("source"),t("sourceattribution"),n==="vector"&&t("sourcelayer"),n==="image"&&t("coordinates");var s;u&&(s="raster");var l=t("type",s);u&&l!=="raster"&&(l=r.type="raster",y.log("Source types *raster* and *image* must drawn *raster* layer type.")),t("below"),t("color"),t("opacity"),t("minzoom"),t("maxzoom"),l==="circle"&&t("circle.radius"),l==="line"&&(t("line.width"),t("line.dash")),l==="fill"&&t("fill.outlinecolor"),l==="symbol"&&(t("symbol.icon"),t("symbol.iconsize"),t("symbol.text"),y.coerceFont(t,"symbol.textfont"),t("symbol.textposition"),t("symbol.placement"))}}},14440:function(U,B,e){var y=e(3480),L=e(3400),i=e(27144),S=e(24040),b=e(54460),v=e(86476),p=e(93024),r=e(72760),t=r.drawMode,a=r.selectMode,n=e(22676).prepSelect,u=e(22676).clearOutline,s=e(22676).clearSelectionsCache,l=e(22676).selectOnClick,m=e(47552),h=e(22360);function g(C,x){this.id=x,this.gd=C;var E=C._fullLayout,M=C._context;this.container=E._glcontainer.node(),this.isStatic=M.staticPlot,this.uid=E._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(E),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var c=g.prototype;c.plot=function(C,x,E){var M=this,f=x[M.id];M.map&&f.accesstoken!==M.accessToken&&(M.map.remove(),M.map=null,M.styleObj=null,M.traceHash={},M.layerList=[]);var P;M.map?P=new Promise(function(T,z){M.updateMap(C,x,T,z)}):P=new Promise(function(T,z){M.createMap(C,x,T,z)}),E.push(P)},c.createMap=function(C,x,E,M){var f=this,P=x[f.id],T=f.styleObj=d(P.style,x);f.accessToken=P.accesstoken;var z=P.bounds,_=z?[[z.west,z.south],[z.east,z.north]]:null,V=f.map=new y.Map({container:f.div,style:T.style,center:A(P.center),zoom:P.zoom,bearing:P.bearing,pitch:P.pitch,maxBounds:_,interactive:!f.isStatic,preserveDrawingBuffer:f.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new y.AttributionControl({compact:!0}));V._canvas.style.left="0px",V._canvas.style.top="0px",f.rejectOnError(M),f.isStatic||f.initFx(C,x);var F=[];F.push(new Promise(function(N){V.once("load",N)})),F=F.concat(i.fetchTraceGeoData(C)),Promise.all(F).then(function(){f.fillBelowLookup(C,x),f.updateData(C),f.updateLayout(x),f.resolveOnRender(E)}).catch(M)},c.updateMap=function(C,x,E,M){var f=this,P=f.map,T=x[this.id];f.rejectOnError(M);var z=[],_=d(T.style,x);JSON.stringify(f.styleObj)!==JSON.stringify(_)&&(f.styleObj=_,P.setStyle(_.style),f.traceHash={},z.push(new Promise(function(V){P.once("styledata",V)}))),z=z.concat(i.fetchTraceGeoData(C)),Promise.all(z).then(function(){f.fillBelowLookup(C,x),f.updateData(C),f.updateLayout(x),f.resolveOnRender(E)}).catch(M)},c.fillBelowLookup=function(C,x){var E=x[this.id],M=E.layers,f,P,T=this.belowLookup={},z=!1;for(f=0;f<C.length;f++){var _=C[f][0].trace,V=_._module;typeof _.below=="string"?P=_.below:V.getBelow&&(P=V.getBelow(_,this)),P===""&&(z=!0),T["trace-"+_.uid]=P||""}for(f=0;f<M.length;f++){var F=M[f];typeof F.below=="string"?P=F.below:z?P="traces":P="",T["layout-"+f]=P}var N={},k,I;for(k in T)P=T[k],N[P]?N[P].push(k):N[P]=[k];for(P in N){var H=N[P];if(H.length>1)for(f=0;f<H.length;f++)k=H[f],k.indexOf("trace-")===0?(I=k.split("trace-")[1],this.traceHash[I]&&(this.traceHash[I].below=null)):k.indexOf("layout-")===0&&(I=k.split("layout-")[1],this.layerList[I]&&(this.layerList[I].below=null))}};var o={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};c.updateData=function(C){var x=this.traceHash,E,M,f,P,T=C.slice().sort(function(N,k){return o[N[0].trace.type]-o[k[0].trace.type]});for(f=0;f<T.length;f++){var z=T[f];M=z[0].trace,E=x[M.uid];var _=!1;E&&(E.type===M.type?(E.update(z),_=!0):E.dispose()),!_&&M._module&&(x[M.uid]=M._module.plot(this,z))}var V=Object.keys(x);e:for(f=0;f<V.length;f++){var F=V[f];for(P=0;P<C.length;P++)if(M=C[P][0].trace,F===M.uid)continue e;E=x[F],E.dispose(),delete x[F]}},c.updateLayout=function(C){var x=this.map,E=C[this.id];!this.dragging&&!this.wheeling&&(x.setCenter(A(E.center)),x.setZoom(E.zoom),x.setBearing(E.bearing),x.setPitch(E.pitch)),this.updateLayers(C),this.updateFramework(C),this.updateFx(C),this.map.resize(),this.gd._context._scrollZoom.mapbox?x.scrollZoom.enable():x.scrollZoom.disable()},c.resolveOnRender=function(C){var x=this.map;x.on("render",function E(){x.loaded()&&(x.off("render",E),setTimeout(C,10))})},c.rejectOnError=function(C){var x=this.map;function E(){C(new Error(m.mapOnErrorMsg))}x.once("error",E),x.once("style.error",E),x.once("source.error",E),x.once("tile.error",E),x.once("layer.error",E)},c.createFramework=function(C){var x=this,E=x.div=document.createElement("div");E.id=x.uid,E.style.position="absolute",x.container.appendChild(E),x.xaxis={_id:"x",c2p:function(M){return x.project(M).x}},x.yaxis={_id:"y",c2p:function(M){return x.project(M).y}},x.updateFramework(C),x.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},b.setConvert(x.mockAxis,C)},c.initFx=function(C,x){var E=this,M=E.gd,f=E.map;f.on("moveend",function(z){if(E.map){var _=M._fullLayout;if(z.originalEvent||E.wheeling){var V=_[E.id];S.call("_storeDirectGUIEdit",M.layout,_._preGUI,E.getViewEdits(V));var F=E.getView();V._input.center=V.center=F.center,V._input.zoom=V.zoom=F.zoom,V._input.bearing=V.bearing=F.bearing,V._input.pitch=V.pitch=F.pitch,M.emit("plotly_relayout",E.getViewEditsWithDerived(F))}z.originalEvent&&z.originalEvent.type==="mouseup"?E.dragging=!1:E.wheeling&&(E.wheeling=!1),_._rehover&&_._rehover()}}),f.on("wheel",function(){E.wheeling=!0}),f.on("mousemove",function(z){var _=E.div.getBoundingClientRect(),V=[z.originalEvent.offsetX,z.originalEvent.offsetY];z.target.getBoundingClientRect=function(){return _},E.xaxis.p2c=function(){return f.unproject(V).lng},E.yaxis.p2c=function(){return f.unproject(V).lat},M._fullLayout._rehover=function(){M._fullLayout._hoversubplot===E.id&&M._fullLayout[E.id]&&p.hover(M,z,E.id)},p.hover(M,z,E.id),M._fullLayout._hoversubplot=E.id});function P(){p.loneUnhover(x._hoverlayer)}f.on("dragstart",function(){E.dragging=!0,P()}),f.on("zoomstart",P),f.on("mouseout",function(){M._fullLayout._hoversubplot=null});function T(){var z=E.getView();M.emit("plotly_relayouting",E.getViewEditsWithDerived(z))}f.on("drag",T),f.on("zoom",T),f.on("dblclick",function(){var z=M._fullLayout[E.id];S.call("_storeDirectGUIEdit",M.layout,M._fullLayout._preGUI,E.getViewEdits(z));var _=E.viewInitial;f.setCenter(A(_.center)),f.setZoom(_.zoom),f.setBearing(_.bearing),f.setPitch(_.pitch);var V=E.getView();z._input.center=z.center=V.center,z._input.zoom=z.zoom=V.zoom,z._input.bearing=z.bearing=V.bearing,z._input.pitch=z.pitch=V.pitch,M.emit("plotly_doubleclick",null),M.emit("plotly_relayout",E.getViewEditsWithDerived(V))}),E.clearOutline=function(){s(E.dragOptions),u(E.dragOptions.gd)},E.onClickInPanFn=function(z){return function(_){var V=M._fullLayout.clickmode;V.indexOf("select")>-1&&l(_.originalEvent,M,[E.xaxis],[E.yaxis],E.id,z),V.indexOf("event")>-1&&p.click(M,_.originalEvent)}}},c.updateFx=function(C){var x=this,E=x.map,M=x.gd;if(x.isStatic)return;function f(_){var V=x.map.unproject(_);return[V.lng,V.lat]}var P=C.dragmode,T;T=function(_,V){if(V.isRect){var F=_.range={};F[x.id]=[f([V.xmin,V.ymin]),f([V.xmax,V.ymax])]}else{var N=_.lassoPoints={};N[x.id]=V.map(f)}};var z=x.dragOptions;x.dragOptions=L.extendDeep(z||{},{dragmode:C.dragmode,element:x.div,gd:M,plotinfo:{id:x.id,domain:C[x.id].domain,xaxis:x.xaxis,yaxis:x.yaxis,fillRangeItems:T},xaxes:[x.xaxis],yaxes:[x.yaxis],subplot:x.id}),E.off("click",x.onClickInPanHandler),a(P)||t(P)?(E.dragPan.disable(),E.on("zoomstart",x.clearOutline),x.dragOptions.prepFn=function(_,V,F){n(_,V,F,x.dragOptions,P)},v.init(x.dragOptions)):(E.dragPan.enable(),E.off("zoomstart",x.clearOutline),x.div.onmousedown=null,x.div.ontouchstart=null,x.div.removeEventListener("touchstart",x.div._ontouchstart),x.onClickInPanHandler=x.onClickInPanFn(x.dragOptions),E.on("click",x.onClickInPanHandler))},c.updateFramework=function(C){var x=C[this.id].domain,E=C._size,M=this.div.style;M.width=E.w*(x.x[1]-x.x[0])+"px",M.height=E.h*(x.y[1]-x.y[0])+"px",M.left=E.l+x.x[0]*E.w+"px",M.top=E.t+(1-x.y[1])*E.h+"px",this.xaxis._offset=E.l+x.x[0]*E.w,this.xaxis._length=E.w*(x.x[1]-x.x[0]),this.yaxis._offset=E.t+(1-x.y[1])*E.h,this.yaxis._length=E.h*(x.y[1]-x.y[0])},c.updateLayers=function(C){var x=C[this.id],E=x.layers,M=this.layerList,f;if(E.length!==M.length){for(f=0;f<M.length;f++)M[f].dispose();for(M=this.layerList=[],f=0;f<E.length;f++)M.push(h(this,f,E[f]))}else for(f=0;f<E.length;f++)M[f].update(E[f])},c.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},c.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},c.setOptions=function(C,x,E){for(var M in E)this.map[x](C,M,E[M])},c.getMapLayers=function(){return this.map.getStyle().layers},c.addLayer=function(C,x){var E=this.map;if(typeof x=="string"){if(x===""){E.addLayer(C,x);return}for(var M=this.getMapLayers(),f=0;f<M.length;f++)if(x===M[f].id){E.addLayer(C,x);return}L.warn(["Trying to add layer with *below* value",x,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}E.addLayer(C)},c.project=function(C){return this.map.project(new y.LngLat(C[0],C[1]))},c.getView=function(){var C=this.map,x=C.getCenter(),E=x.lng,M=x.lat,f={lon:E,lat:M},P=C.getCanvas(),T=parseInt(P.style.width),z=parseInt(P.style.height);return{center:f,zoom:C.getZoom(),bearing:C.getBearing(),pitch:C.getPitch(),_derived:{coordinates:[C.unproject([0,0]).toArray(),C.unproject([T,0]).toArray(),C.unproject([T,z]).toArray(),C.unproject([0,z]).toArray()]}}},c.getViewEdits=function(C){for(var x=this.id,E=["center","zoom","bearing","pitch"],M={},f=0;f<E.length;f++){var P=E[f];M[x+"."+P]=C[P]}return M},c.getViewEditsWithDerived=function(C){var x=this.id,E=this.getViewEdits(C);return E[x+"._derived"]=C._derived,E};function d(C,x){var E={};if(L.isPlainObject(C))E.id=C.id,E.style=C;else if(typeof C=="string")if(E.id=C,m.styleValuesMapbox.indexOf(C)!==-1)E.style=w(C);else if(m.stylesNonMapbox[C]){E.style=m.stylesNonMapbox[C];var M=E.style.sources["plotly-"+C],f=M?M.tiles:void 0;f&&f[0]&&f[0].slice(-9)==="?api_key="&&(f[0]+=x._mapboxAccessToken)}else E.style=C;else E.id=m.styleValueDflt,E.style=w(m.styleValueDflt);return E.transition={duration:0,delay:0},E}function w(C){return m.styleUrlPrefix+C+"-"+m.styleUrlSuffix}function A(C){return[C.lon,C.lat]}U.exports=g},66741:function(U){U.exports=function(B){var e=B.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(U,B,e){var y=e(33428),L=e(94336).m_,i=e(57624).SO,S=e(38248),b=e(83160),v=e(24040),p=e(73060),r=e(31780),t=e(3400),a=e(76308),n=e(39032).BADNUM,u=e(79811),s=e(1936).clearOutline,l=e(55308),m=e(85656),h=e(16672),g=e(84888)._M,c=t.relinkPrivateKeys,o=t._,d=U.exports={};t.extendFlat(d,v),d.attributes=e(45464),d.attributes.type.values=d.allTypes,d.fontAttrs=e(25376),d.layoutAttributes=e(64859),d.fontWeight="normal";var w=d.transformsRegistry,A=e(62460);d.executeAPICommand=A.executeAPICommand,d.computeAPICommandBindings=A.computeAPICommandBindings,d.manageCommandObserver=A.manageCommandObserver,d.hasSimpleAPICommandBindings=A.hasSimpleAPICommandBindings,d.redrawText=function(G){return G=t.getGraphDiv(G),new Promise(function(K){setTimeout(function(){G._fullLayout&&(v.getComponentMethod("annotations","draw")(G),v.getComponentMethod("legend","draw")(G),v.getComponentMethod("colorbar","draw")(G),K(d.previousPromises(G)))},300)})},d.resize=function(G){G=t.getGraphDiv(G);var K,oe=new Promise(function($,J){(!G||t.isHidden(G))&&J(new Error("Resize must be passed a displayed plot div element.")),G._redrawTimer&&clearTimeout(G._redrawTimer),G._resolveResize&&(K=G._resolveResize),G._resolveResize=$,G._redrawTimer=setTimeout(function(){if(!G.layout||G.layout.width&&G.layout.height||t.isHidden(G)){$(G);return}delete G.layout.width,delete G.layout.height;var se=G.changed;G.autoplay=!0,v.call("relayout",G,{autosize:!0}).then(function(){G.changed=se,G._resolveResize===$&&(delete G._resolveResize,$(G))})},100)});return K&&K(oe),oe},d.previousPromises=function(G){if((G._promises||[]).length)return Promise.all(G._promises).then(function(){G._promises=[]})},d.addLinks=function(G){if(!(!G._context.showLink&&!G._context.showSources)){var K=G._fullLayout,oe=t.ensureSingle(K._paper,"text","js-plot-link-container",function(ye){ye.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:a.defaultLine,"pointer-events":"all"}).each(function(){var Se=y.select(this);Se.append("tspan").classed("js-link-to-tool",!0),Se.append("tspan").classed("js-link-spacer",!0),Se.append("tspan").classed("js-sourcelinks",!0)})}),$=oe.node(),J={y:K._paper.attr("height")-9};document.body.contains($)&&$.getComputedTextLength()>=K.width-20?(J["text-anchor"]="start",J.x=5):(J["text-anchor"]="end",J.x=K._paper.attr("width")-7),oe.attr(J);var se=oe.select(".js-link-to-tool"),ie=oe.select(".js-link-spacer"),ce=oe.select(".js-sourcelinks");G._context.showSources&&G._context.showSources(G),G._context.showLink&&C(G,se),ie.text(se.text()&&ce.text()?" - ":"")}};function C(G,K){K.text("");var oe=K.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(G._context.linkText+" »");if(G._context.sendData)oe.on("click",function(){d.sendDataToCloud(G)});else{var $=window.location.pathname.split("/"),J=window.location.search;oe.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+$[2].split(".")[0]+"/"+$[1]+J})}}d.sendDataToCloud=function(G){var K=(window.PLOTLYENV||{}).BASE_URL||G._context.plotlyServerURL;if(K){G.emit("plotly_beforeexport");var oe=y.select(G).append("div").attr("id","hiddenform").style("display","none"),$=oe.append("form").attr({action:K+"/external",method:"post",target:"_blank"}),J=$.append("input").attr({type:"text",name:"data"});return J.node().value=d.graphJson(G,!1,"keepdata"),$.node().submit(),oe.remove(),G.emit("plotly_afterexport"),!1}};var x=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],E=["year","month","dayMonth","dayMonthYear"];d.supplyDefaults=function(G,K){var oe=K&&K.skipUpdateCalc,$=G._fullLayout||{};if($._skipDefaults){delete $._skipDefaults;return}var J=G._fullLayout={},se=G.layout||{},ie=G._fullData||[],ce=G._fullData=[],ye=G.data||[],Se=G.calcdata||[],Te=G._context||{},ke;G._transitionData||d.createTransitionData(G),J._dfltTitle={plot:o(G,"Click to enter Plot title"),x:o(G,"Click to enter X axis title"),y:o(G,"Click to enter Y axis title"),colorbar:o(G,"Click to enter Colorscale title"),annotation:o(G,"new text")},J._traceWord=o(G,"trace");var we=P(G,x);if(J._mapboxAccessToken=Te.mapboxAccessToken,$._initialAutoSizeIsDone){var Ee=$.width,xe=$.height;d.supplyLayoutGlobalDefaults(se,J,we),se.width||(J.width=Ee),se.height||(J.height=xe),d.sanitizeMargins(J)}else{d.supplyLayoutGlobalDefaults(se,J,we);var De=!se.width||!se.height,Ve=J.autosize,Ue=Te.autosizable,Be=De&&(Ve||Ue);Be?d.plotAutoSize(G,se,J):De&&d.sanitizeMargins(J),!Ve&&De&&(se.width=J.width,se.height=J.height)}J._d3locale=T(we,J.separators),J._extraFormat=P(G,E),J._initialAutoSizeIsDone=!0,J._dataLength=ye.length,J._modules=[],J._visibleModules=[],J._basePlotModules=[];var Xe=J._subplots=f(),ot=J._splomAxes={x:{},y:{}},ut=J._splomSubplots={};J._splomGridDflt={},J._scatterStackOpts={},J._firstScatter={},J._alignmentOpts={},J._colorAxes={},J._requestRangeslider={},J._traceUids=M(ie,ye),J._globalTransforms=(G._context||{}).globalTransforms,d.supplyDataDefaults(ye,ce,se,J);var et=Object.keys(ot.x),qe=Object.keys(ot.y);if(et.length>1&&qe.length>1){for(v.getComponentMethod("grid","sizeDefaults")(se,J),ke=0;ke<et.length;ke++)t.pushUnique(Xe.xaxis,et[ke]);for(ke=0;ke<qe.length;ke++)t.pushUnique(Xe.yaxis,qe[ke]);for(var ft in ut)t.pushUnique(Xe.cartesian,ft)}if(J._has=d._hasPlotType.bind(J),ie.length===ce.length)for(ke=0;ke<ce.length;ke++)c(ce[ke],ie[ke]);d.supplyLayoutModuleDefaults(se,J,ce,G._transitionData);var ht=J._visibleModules,dt=[];for(ke=0;ke<ht.length;ke++){var mt=ht[ke].crossTraceDefaults;mt&&t.pushUnique(dt,mt)}for(ke=0;ke<dt.length;ke++)dt[ke](ce,J);J._hasOnlyLargeSploms=J._basePlotModules.length===1&&J._basePlotModules[0].name==="splom"&&et.length>15&&qe.length>15&&J.shapes.length===0&&J.images.length===0,d.linkSubplots(ce,J,ie,$),d.cleanPlot(ce,J,ie,$);var St=!!($._has&&$._has("gl2d")),rt=!!(J._has&&J._has("gl2d")),Oe=!!($._has&&$._has("cartesian")),Ye=!!(J._has&&J._has("cartesian")),Ze=Oe||St,Ge=Ye||rt;Ze&&!Ge?$._bgLayer.remove():Ge&&!Ze&&(J._shouldCreateBgLayer=!0),$._zoomlayer&&!G._dragging&&s({_fullLayout:$}),z(ce,J),c(J,$),v.getComponentMethod("colorscale","crossTraceDefaults")(ce,J),J._preGUI||(J._preGUI={}),J._tracePreGUI||(J._tracePreGUI={});var _e=J._tracePreGUI,be={},me;for(me in _e)be[me]="old";for(ke=0;ke<ce.length;ke++)me=ce[ke]._fullInput.uid,be[me]||(_e[me]={}),be[me]="new";for(me in be)be[me]==="old"&&delete _e[me];k(J),v.getComponentMethod("rangeslider","makeData")(J),!oe&&Se.length===ce.length&&d.supplyDefaultsUpdateCalc(Se,ce)},d.supplyDefaultsUpdateCalc=function(G,K){for(var oe=0;oe<K.length;oe++){var $=K[oe],J=(G[oe]||[])[0];if(J&&J.trace){var se=J.trace;if(se._hasCalcTransform){var ie=se._arrayAttrs,ce,ye,Se;for(ce=0;ce<ie.length;ce++)ye=ie[ce],Se=t.nestedProperty(se,ye).get().slice(),t.nestedProperty($,ye).set(Se)}J.trace=$}}};function M(G,K){var oe=K.length,$=[],J,se;for(J=0;J<G.length;J++){var ie=G[J]._fullInput;ie!==se&&$.push(ie),se=ie}var ce=$.length,ye=new Array(oe),Se={};function Te(Ee,xe){ye[xe]=Ee,Se[Ee]=1}function ke(Ee,xe){if(Ee&&typeof Ee=="string"&&!Se[Ee])return Te(Ee,xe),!0}for(J=0;J<oe;J++){var we=K[J].uid;typeof we=="number"&&(we=String(we)),!ke(we,J)&&(J<ce&&ke($[J].uid,J)||Te(t.randstr(Se),J))}return ye}function f(){var G=v.collectableSubplotTypes,K={},oe,$;if(!G){G=[];var J=v.subplotsRegistry;for(var se in J){var ie=J[se],ce=ie.attr;if(ce&&(G.push(se),Array.isArray(ce)))for($=0;$<ce.length;$++)t.pushUnique(G,ce[$])}}for(oe=0;oe<G.length;oe++)K[G[oe]]=[];return K}function P(G,K){var oe=G._context.locale;oe||(oe="en-US");var $=!1,J={};function se(ke){for(var we=!0,Ee=0;Ee<K.length;Ee++){var xe=K[Ee];J[xe]||(ke[xe]?J[xe]=ke[xe]:we=!1)}we&&($=!0)}for(var ie=0;ie<2;ie++){for(var ce=G._context.locales,ye=0;ye<2;ye++){var Se=(ce[oe]||{}).format;if(Se&&(se(Se),$))break;ce=v.localeRegistry}var Te=oe.split("-")[0];if($||Te===oe)break;oe=Te}return $||se(v.localeRegistry.en.format),J}function T(G,K){return G.decimal=K.charAt(0),G.thousands=K.charAt(1),{numberFormat:function(oe){try{oe=i(G).format(t.adjustFormat(oe))}catch{return t.warnBadFormat(oe),t.noFormat}return oe},timeFormat:L(G).utcFormat}}function z(G,K){var oe,$=[];K.meta&&(oe=K._meta={meta:K.meta,layout:{meta:K.meta}});for(var J=0;J<G.length;J++){var se=G[J];se.meta?$[se.index]=se._meta={meta:se.meta}:K.meta&&(se._meta={meta:K.meta}),K.meta&&(se._meta.layout={meta:K.meta})}$.length&&(oe||(oe=K._meta={}),oe.data=$)}d.createTransitionData=function(G){G._transitionData||(G._transitionData={}),G._transitionData._frames||(G._transitionData._frames=[]),G._transitionData._frameHash||(G._transitionData._frameHash={}),G._transitionData._counter||(G._transitionData._counter=0),G._transitionData._interruptCallbacks||(G._transitionData._interruptCallbacks=[])},d._hasPlotType=function(G){var K,oe=this._basePlotModules||[];for(K=0;K<oe.length;K++)if(oe[K].name===G)return!0;var $=this._modules||[];for(K=0;K<$.length;K++){var J=$[K].name;if(J===G)return!0;var se=v.modules[J];if(se&&se.categories[G])return!0}return!1},d.cleanPlot=function(G,K,oe,$){var J,se,ie=$._basePlotModules||[];for(J=0;J<ie.length;J++){var ce=ie[J];ce.clean&&ce.clean(G,K,oe,$)}var ye=$._has&&$._has("gl"),Se=K._has&&K._has("gl");ye&&!Se&&$._glcontainer!==void 0&&($._glcontainer.selectAll(".gl-canvas").remove(),$._glcontainer.selectAll(".no-webgl").remove(),$._glcanvas=null);var Te=!!$._infolayer;e:for(J=0;J<oe.length;J++){var ke=oe[J],we=ke.uid;for(se=0;se<G.length;se++){var Ee=G[se];if(we===Ee.uid)continue e}Te&&$._infolayer.select(".cb"+we).remove()}},d.linkSubplots=function(G,K,oe,$){var J,se,ie=$._plots||{},ce=K._plots={},ye=K._subplots,Se={_fullData:G,_fullLayout:K},Te=ye.cartesian.concat(ye.gl2d||[]);for(J=0;J<Te.length;J++){var ke=Te[J],we=ie[ke],Ee=u.getFromId(Se,ke,"x"),xe=u.getFromId(Se,ke,"y"),De;for(we?De=ce[ke]=we:(De=ce[ke]={},De.id=ke),Ee._counterAxes.push(xe._id),xe._counterAxes.push(Ee._id),Ee._subplotsWith.push(ke),xe._subplotsWith.push(ke),De.xaxis=Ee,De.yaxis=xe,De._hasClipOnAxisFalse=!1,se=0;se<G.length;se++){var Ve=G[se];if(Ve.xaxis===De.xaxis._id&&Ve.yaxis===De.yaxis._id&&Ve.cliponaxis===!1){De._hasClipOnAxisFalse=!0;break}}}var Ue=u.list(Se,null,!0),Be;for(J=0;J<Ue.length;J++){Be=Ue[J];var Xe=null;Be.overlaying&&(Xe=u.getFromId(Se,Be.overlaying),Xe&&Xe.overlaying&&(Be.overlaying=!1,Xe=null)),Be._mainAxis=Xe||Be,Xe&&(Be.domain=Xe.domain.slice()),Be._anchorAxis=Be.anchor==="free"?null:u.getFromId(Se,Be.anchor)}for(J=0;J<Ue.length;J++)if(Be=Ue[J],Be._counterAxes.sort(u.idSort),Be._subplotsWith.sort(t.subplotSort),Be._mainSubplot=_(Be,K),Be._counterAxes.length&&(Be.spikemode&&Be.spikemode.indexOf("across")!==-1||Be.automargin&&Be.mirror&&Be.anchor!=="free"||v.getComponentMethod("rangeslider","isVisible")(Be))){var ot=1,ut=0;for(se=0;se<Be._counterAxes.length;se++){var et=u.getFromId(Se,Be._counterAxes[se]);ot=Math.min(ot,et.domain[0]),ut=Math.max(ut,et.domain[1])}ot<ut&&(Be._counterDomainMin=ot,Be._counterDomainMax=ut)}};function _(G,K){var oe={_fullLayout:K},$=G._id.charAt(0)==="x",J=G._mainAxis._anchorAxis,se="",ie="",ce="";if(J&&(ce=J._mainAxis._id,se=$?G._id+ce:ce+G._id),!se||!K._plots[se]){se="";for(var ye=G._counterAxes,Se=0;Se<ye.length;Se++){var Te=ye[Se],ke=$?G._id+Te:Te+G._id;ie||(ie=ke);var we=u.getFromId(oe,Te);if(ce&&we.overlaying===ce){se=ke;break}}}return se||ie}d.clearExpandedTraceDefaultColors=function(G){var K,oe,$;function J(ie,ce,ye,Se){oe[Se]=ce,oe.length=Se+1,ie.valType==="color"&&ie.dflt===void 0&&K.push(oe.join("."))}for(oe=[],K=G._module._colorAttrs,K||(G._module._colorAttrs=K=[],p.crawl(G._module.attributes,J)),$=0;$<K.length;$++){var se=t.nestedProperty(G,"_input."+K[$]);se.get()||t.nestedProperty(G,K[$]).set(null)}},d.supplyDataDefaults=function(G,K,oe,$){var J=$._modules,se=$._visibleModules,ie=$._basePlotModules,ce=0,ye=0,Se,Te,ke;$._transformModules=[];function we(qe){K.push(qe);var ft=qe._module;ft&&(t.pushUnique(J,ft),qe.visible===!0&&t.pushUnique(se,ft),t.pushUnique(ie,qe._module.basePlotModule),ce++,qe._input.visible!==!1&&ye++)}var Ee={},xe=[],De=(oe.template||{}).data||{},Ve=r.traceTemplater(De);for(Se=0;Se<G.length;Se++){if(ke=G[Se],Te=Ve.newTrace(ke),Te.uid=$._traceUids[Se],d.supplyTraceDefaults(ke,Te,ye,$,Se),Te.index=Se,Te._input=ke,Te._expandedIndex=ce,Te.transforms&&Te.transforms.length)for(var Ue=ke.visible!==!1&&Te.visible===!1,Be=F(Te,K,oe,$),Xe=0;Xe<Be.length;Xe++){var ot=Be[Xe],ut={_template:Te._template,type:Te.type,uid:Te.uid+Xe};Ue&&ot.visible===!1&&delete ot.visible,d.supplyTraceDefaults(ot,ut,ce,$,Se),c(ut,ot),ut.index=Se,ut._input=ke,ut._fullInput=Te,ut._expandedIndex=ce,ut._expandedInput=ot,we(ut)}else Te._fullInput=Te,Te._expandedInput=Te,we(Te);v.traceIs(Te,"carpetAxis")&&(Ee[Te.carpet]=Te),v.traceIs(Te,"carpetDependent")&&xe.push(Se)}for(Se=0;Se<xe.length;Se++)if(Te=K[xe[Se]],!!Te.visible){var et=Ee[Te.carpet];if(Te._carpet=et,!et||!et.visible){Te.visible=!1;continue}Te.xaxis=et.xaxis,Te.yaxis=et.yaxis}},d.supplyAnimationDefaults=function(G){G=G||{};var K,oe={};function $(J,se){return t.coerce(G||{},oe,m,J,se)}if($("mode"),$("direction"),$("fromcurrent"),Array.isArray(G.frame))for(oe.frame=[],K=0;K<G.frame.length;K++)oe.frame[K]=d.supplyAnimationFrameDefaults(G.frame[K]||{});else oe.frame=d.supplyAnimationFrameDefaults(G.frame||{});if(Array.isArray(G.transition))for(oe.transition=[],K=0;K<G.transition.length;K++)oe.transition[K]=d.supplyAnimationTransitionDefaults(G.transition[K]||{});else oe.transition=d.supplyAnimationTransitionDefaults(G.transition||{});return oe},d.supplyAnimationFrameDefaults=function(G){var K={};function oe($,J){return t.coerce(G||{},K,m.frame,$,J)}return oe("duration"),oe("redraw"),K},d.supplyAnimationTransitionDefaults=function(G){var K={};function oe($,J){return t.coerce(G||{},K,m.transition,$,J)}return oe("duration"),oe("easing"),K},d.supplyFrameDefaults=function(G){var K={};function oe($,J){return t.coerce(G,K,h,$,J)}return oe("group"),oe("name"),oe("traces"),oe("baseframe"),oe("data"),oe("layout"),K},d.supplyTraceDefaults=function(G,K,oe,$,J){var se=$.colorway||a.defaults,ie=se[oe%se.length],ce;function ye(Xe,ot){return t.coerce(G,K,d.attributes,Xe,ot)}var Se=ye("visible");ye("type"),ye("name",$._traceWord+" "+J),ye("uirevision",$.uirevision);var Te=d.getModule(K);if(K._module=Te,Te){var ke=Te.basePlotModule,we=ke.attr,Ee=ke.attributes;if(we&&Ee){var xe=$._subplots,De="";if(Se||ke.name!=="gl2d"){if(Array.isArray(we))for(ce=0;ce<we.length;ce++){var Ve=we[ce],Ue=t.coerce(G,K,Ee,Ve);xe[Ve]&&t.pushUnique(xe[Ve],Ue),De+=Ue}else De=t.coerce(G,K,Ee,we);xe[ke.name]&&t.pushUnique(xe[ke.name],De)}}}if(Se){if(ye("customdata"),ye("ids"),ye("meta"),v.traceIs(K,"showLegend")?(t.coerce(G,K,Te.attributes.showlegend?Te.attributes:d.attributes,"showlegend"),ye("legend"),ye("legendwidth"),ye("legendgroup"),ye("legendgrouptitle.text"),ye("legendrank"),K._dfltShowLegend=!0):K._dfltShowLegend=!1,Te&&Te.supplyDefaults(G,K,ie,$),v.traceIs(K,"noOpacity")||ye("opacity"),v.traceIs(K,"notLegendIsolatable")&&(K.visible=!!K.visible),v.traceIs(K,"noHover")||(K.hovertemplate||t.coerceHoverinfo(G,K,$),K.type!=="parcats"&&v.getComponentMethod("fx","supplyDefaults")(G,K,ie,$)),Te&&Te.selectPoints){var Be=ye("selectedpoints");t.isTypedArray(Be)&&(K.selectedpoints=Array.from(Be))}d.supplyTransformDefaults(G,K,$)}return K};function V(G){var K=G.transforms;if(Array.isArray(K)&&K.length)for(var oe=0;oe<K.length;oe++){var $=K[oe],J=$._module||w[$.type];if(J&&J.makesData)return!0}return!1}d.hasMakesDataTransform=V,d.supplyTransformDefaults=function(G,K,oe){if(K._length||V(G)){var $=oe._globalTransforms||[],J=oe._transformModules||[];if(!(!Array.isArray(G.transforms)&&$.length===0))for(var se=G.transforms||[],ie=$.concat(se),ce=K.transforms=[],ye=0;ye<ie.length;ye++){var Se=ie[ye],Te=Se.type,ke=w[Te],we,Ee=!(Se._module&&Se._module===ke),xe=ke&&typeof ke.transform=="function";ke||t.warn("Unrecognized transform type "+Te+"."),ke&&ke.supplyDefaults&&(Ee||xe)?(we=ke.supplyDefaults(Se,K,oe,G),we.type=Te,we._module=ke,t.pushUnique(J,ke)):we=t.extendFlat({},Se),ce.push(we)}}};function F(G,K,oe,$){for(var J=G.transforms,se=[G],ie=0;ie<J.length;ie++){var ce=J[ie],ye=w[ce.type];ye&&ye.transform&&(se=ye.transform(se,{transform:ce,fullTrace:G,fullData:K,layout:oe,fullLayout:$,transformIndex:ie}))}return se}d.supplyLayoutGlobalDefaults=function(G,K,oe){function $(ke,we){return t.coerce(G,K,d.layoutAttributes,ke,we)}var J=G.template;t.isPlainObject(J)&&(K.template=J,K._template=J.layout,K._dataTemplate=J.data),$("autotypenumbers");var se=t.coerceFont($,"font"),ie=se.size;t.coerceFont($,"title.font",t.extendFlat({},se,{size:Math.round(ie*1.4)})),$("title.text",K._dfltTitle.plot),$("title.xref");var ce=$("title.yref");$("title.pad.t"),$("title.pad.r"),$("title.pad.b"),$("title.pad.l");var ye=$("title.automargin");$("title.x"),$("title.xanchor"),$("title.y"),$("title.yanchor"),ye&&(ce==="paper"&&(K.title.y!==0&&(K.title.y=1),K.title.yanchor==="auto"&&(K.title.yanchor=K.title.y===0?"top":"bottom")),ce==="container"&&(K.title.y==="auto"&&(K.title.y=1),K.title.yanchor==="auto"&&(K.title.yanchor=K.title.y<.5?"bottom":"top")));var Se=$("uniformtext.mode");Se&&$("uniformtext.minsize"),$("autosize",!(G.width&&G.height)),$("width"),$("height"),$("minreducedwidth"),$("minreducedheight"),$("margin.l"),$("margin.r"),$("margin.t"),$("margin.b"),$("margin.pad"),$("margin.autoexpand"),G.width&&G.height&&d.sanitizeMargins(K),v.getComponentMethod("grid","sizeDefaults")(G,K),$("paper_bgcolor"),$("separators",oe.decimal+oe.thousands),$("hidesources"),$("colorway"),$("datarevision");var Te=$("uirevision");$("editrevision",Te),$("selectionrevision",Te),v.getComponentMethod("modebar","supplyLayoutDefaults")(G,K),v.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(G,K,$),v.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(G,K,$),$("meta"),t.isPlainObject(G.transition)&&($("transition.duration"),$("transition.easing"),$("transition.ordering")),v.getComponentMethod("calendars","handleDefaults")(G,K,"calendar"),v.getComponentMethod("fx","supplyLayoutGlobalDefaults")(G,K,$),t.coerce(G,K,l,"scattermode")};function N(G){return typeof G=="string"&&G.substr(G.length-2)==="px"&&parseFloat(G)}d.plotAutoSize=function(K,oe,$){var J=K._context||{},se=J.frameMargins,ie,ce,ye=t.isPlotDiv(K);if(ye&&K.emit("plotly_autosize"),J.fillFrame)ie=window.innerWidth,ce=window.innerHeight,document.body.style.overflow="hidden";else{var Se=ye?window.getComputedStyle(K):{};if(ie=N(Se.width)||N(Se.maxWidth)||$.width,ce=N(Se.height)||N(Se.maxHeight)||$.height,S(se)&&se>0){var Te=1-2*se;ie=Math.round(Te*ie),ce=Math.round(Te*ce)}}var ke=d.layoutAttributes.width.min,we=d.layoutAttributes.height.min;ie<ke&&(ie=ke),ce<we&&(ce=we);var Ee=!oe.width&&Math.abs($.width-ie)>1,xe=!oe.height&&Math.abs($.height-ce)>1;(xe||Ee)&&(Ee&&($.width=ie),xe&&($.height=ce)),K._initialAutoSize||(K._initialAutoSize={width:ie,height:ce}),d.sanitizeMargins($)},d.supplyLayoutModuleDefaults=function(G,K,oe,$){var J=v.componentsRegistry,se=K._basePlotModules,ie,ce,ye,Se=v.subplotsRegistry.cartesian;for(ie in J)ye=J[ie],ye.includeBasePlot&&ye.includeBasePlot(G,K);se.length||se.push(Se),K._has("cartesian")&&(v.getComponentMethod("grid","contentDefaults")(G,K),Se.finalizeSubplots(G,K));for(var Te in K._subplots)K._subplots[Te].sort(t.subplotSort);for(ce=0;ce<se.length;ce++)ye=se[ce],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(G,K,oe);var ke=K._modules;for(ce=0;ce<ke.length;ce++)ye=ke[ce],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(G,K,oe);var we=K._transformModules;for(ce=0;ce<we.length;ce++)ye=we[ce],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(G,K,oe,$);for(ie in J)ye=J[ie],ye.supplyLayoutDefaults&&ye.supplyLayoutDefaults(G,K,oe)},d.purge=function(G){var K=G._fullLayout||{};K._glcontainer!==void 0&&(K._glcontainer.selectAll(".gl-canvas").remove(),K._glcontainer.remove(),K._glcanvas=null),K._modeBar&&K._modeBar.destroy(),G._transitionData&&(G._transitionData._interruptCallbacks&&(G._transitionData._interruptCallbacks.length=0),G._transitionData._animationRaf&&window.cancelAnimationFrame(G._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(G),delete G.data,delete G.layout,delete G._fullData,delete G._fullLayout,delete G.calcdata,delete G.empty,delete G.fid,delete G.undoqueue,delete G.undonum,delete G.autoplay,delete G.changed,delete G._promises,delete G._redrawTimer,delete G._hmlumcount,delete G._hmpixcount,delete G._transitionData,delete G._transitioning,delete G._initialAutoSize,delete G._transitioningWithDuration,delete G._dragging,delete G._dragged,delete G._dragdata,delete G._hoverdata,delete G._snapshotInProgress,delete G._editing,delete G._mouseDownTime,delete G._legendMouseDownTime,G.removeAllListeners&&G.removeAllListeners()},d.style=function(G){var K=G._fullLayout._visibleModules,oe=[],$;for($=0;$<K.length;$++){var J=K[$];J.style&&t.pushUnique(oe,J.style)}for($=0;$<oe.length;$++)oe[$](G)},d.sanitizeMargins=function(G){if(!(!G||!G.margin)){var K=G.width,oe=G.height,$=G.margin,J=K-($.l+$.r),se=oe-($.t+$.b),ie;J<0&&(ie=(K-1)/($.l+$.r),$.l=Math.floor(ie*$.l),$.r=Math.floor(ie*$.r)),se<0&&(ie=(oe-1)/($.t+$.b),$.t=Math.floor(ie*$.t),$.b=Math.floor(ie*$.b))}},d.clearAutoMarginIds=function(G){G._fullLayout._pushmarginIds={}},d.allowAutoMargin=function(G,K){G._fullLayout._pushmarginIds[K]=1};function k(G){var K=G.margin;if(!G._size){var oe=G._size={l:Math.round(K.l),r:Math.round(K.r),t:Math.round(K.t),b:Math.round(K.b),p:Math.round(K.pad)};oe.w=Math.round(G.width)-oe.l-oe.r,oe.h=Math.round(G.height)-oe.t-oe.b}G._pushmargin||(G._pushmargin={}),G._pushmarginIds||(G._pushmarginIds={}),G._reservedMargin||(G._reservedMargin={})}var I=2,H=2;d.autoMargin=function(G,K,oe){var $=G._fullLayout,J=$.width,se=$.height,ie=$.margin,ce=$.minreducedwidth,ye=$.minreducedheight,Se=t.constrain(J-ie.l-ie.r,I,ce),Te=t.constrain(se-ie.t-ie.b,H,ye),ke=Math.max(0,J-Se),we=Math.max(0,se-Te),Ee=$._pushmargin,xe=$._pushmarginIds;if(ie.autoexpand!==!1){if(!oe)delete Ee[K],delete xe[K];else{var De=oe.pad;if(De===void 0&&(De=Math.min(12,ie.l,ie.r,ie.t,ie.b)),ke){var Ve=(oe.l+oe.r)/ke;Ve>1&&(oe.l/=Ve,oe.r/=Ve)}if(we){var Ue=(oe.t+oe.b)/we;Ue>1&&(oe.t/=Ue,oe.b/=Ue)}var Be=oe.xl!==void 0?oe.xl:oe.x,Xe=oe.xr!==void 0?oe.xr:oe.x,ot=oe.yt!==void 0?oe.yt:oe.y,ut=oe.yb!==void 0?oe.yb:oe.y;Ee[K]={l:{val:Be,size:oe.l+De},r:{val:Xe,size:oe.r+De},b:{val:ut,size:oe.b+De},t:{val:ot,size:oe.t+De}},xe[K]=1}if(!$._replotting)return d.doAutoMargin(G)}};function j(G){if("_redrawFromAutoMarginCount"in G._fullLayout)return!1;var K=u.list(G,"",!0);for(var oe in K)if(K[oe].autoshift||K[oe].shift)return!0;return!1}d.doAutoMargin=function(G){var K=G._fullLayout,oe=K.width,$=K.height;K._size||(K._size={}),k(K);var J=K._size,se=K.margin,ie={t:0,b:0,l:0,r:0},ce=t.extendFlat({},J),ye=se.l,Se=se.r,Te=se.t,ke=se.b,we=K._pushmargin,Ee=K._pushmarginIds,xe=K.minreducedwidth,De=K.minreducedheight;if(se.autoexpand!==!1){for(var Ve in we)Ee[Ve]||delete we[Ve];var Ue=G._fullLayout._reservedMargin;for(var Be in Ue)for(var Xe in Ue[Be]){var ot=Ue[Be][Xe];ie[Xe]=Math.max(ie[Xe],ot)}we.base={l:{val:0,size:ye},r:{val:1,size:Se},t:{val:1,size:Te},b:{val:0,size:ke}};for(var ut in ie){var et=0;for(var qe in we)qe!=="base"&&S(we[qe][ut].size)&&(et=we[qe][ut].size>et?we[qe][ut].size:et);var ft=Math.max(0,se[ut]-et);ie[ut]=Math.max(0,ie[ut]-ft)}for(var ht in we){var dt=we[ht].l||{},mt=we[ht].b||{},St=dt.val,rt=dt.size,Oe=mt.val,Ye=mt.size,Ze=oe-ie.r-ie.l,Ge=$-ie.t-ie.b;for(var _e in we){if(S(rt)&&we[_e].r){var be=we[_e].r.val,me=we[_e].r.size;if(be>St){var Ce=(rt*be+(me-Ze)*St)/(be-St),Me=(me*(1-St)+(rt-Ze)*(1-be))/(be-St);Ce+Me>ye+Se&&(ye=Ce,Se=Me)}}if(S(Ye)&&we[_e].t){var Ne=we[_e].t.val,je=we[_e].t.size;if(Ne>Oe){var tt=(Ye*Ne+(je-Ge)*Oe)/(Ne-Oe),ct=(je*(1-Oe)+(Ye-Ge)*(1-Ne))/(Ne-Oe);tt+ct>ke+Te&&(ke=tt,Te=ct)}}}}}var pt=t.constrain(oe-se.l-se.r,I,xe),Xt=t.constrain($-se.t-se.b,H,De),Yt=Math.max(0,oe-pt),Tt=Math.max(0,$-Xt);if(Yt){var _t=(ye+Se)/Yt;_t>1&&(ye/=_t,Se/=_t)}if(Tt){var Qt=(ke+Te)/Tt;Qt>1&&(ke/=Qt,Te/=Qt)}if(J.l=Math.round(ye)+ie.l,J.r=Math.round(Se)+ie.r,J.t=Math.round(Te)+ie.t,J.b=Math.round(ke)+ie.b,J.p=Math.round(se.pad),J.w=Math.round(oe)-J.l-J.r,J.h=Math.round($)-J.t-J.b,!K._replotting&&(d.didMarginChange(ce,J)||j(G))){"_redrawFromAutoMarginCount"in K?K._redrawFromAutoMarginCount++:K._redrawFromAutoMarginCount=1;var wr=3*(1+Object.keys(Ee).length);if(K._redrawFromAutoMarginCount<wr)return v.call("_doPlot",G);K._size=ce,t.warn("Too many auto-margin redraws.")}ee(G)};function ee(G){var K=u.list(G,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(oe){for(var $=0;$<K.length;$++){var J=K[$][oe];J&&J()}})}var te=["l","r","t","b","p","w","h"];d.didMarginChange=function(G,K){for(var oe=0;oe<te.length;oe++){var $=te[oe],J=G[$],se=K[$];if(!S(J)||Math.abs(se-J)>1)return!0}return!1},d.graphJson=function(G,K,oe,$,J,se){(J&&K&&!G._fullData||J&&!K&&!G._fullLayout)&&d.supplyDefaults(G);var ie=J?G._fullData:G.data,ce=J?G._fullLayout:G.layout,ye=(G._transitionData||{})._frames;function Se(we,Ee){if(typeof we=="function")return Ee?"_function_":null;if(t.isPlainObject(we)){var xe={},De;return Object.keys(we).sort().forEach(function(Xe){if(["_","["].indexOf(Xe.charAt(0))===-1){if(typeof we[Xe]=="function"){Ee&&(xe[Xe]="_function");return}if(oe==="keepdata"){if(Xe.substr(Xe.length-3)==="src")return}else if(oe==="keepstream"){if(De=we[Xe+"src"],typeof De=="string"&&De.indexOf(":")>0&&!t.isPlainObject(we.stream))return}else if(oe!=="keepall"&&(De=we[Xe+"src"],typeof De=="string"&&De.indexOf(":")>0))return;xe[Xe]=Se(we[Xe],Ee)}}),xe}var Ve=Array.isArray(we),Ue=t.isTypedArray(we);if((Ve||Ue)&&we.dtype&&we.shape){var Be=we.bdata;return Se({dtype:we.dtype,shape:we.shape,bdata:t.isArrayBuffer(Be)?b.encode(Be):Be},Ee)}return Ve?we.map(function(Xe){return Se(Xe,Ee)}):Ue?t.simpleMap(we,t.identity):t.isJSDate(we)?t.ms2DateTimeLocal(+we):we}var Te={data:(ie||[]).map(function(we){var Ee=Se(we);return K&&delete Ee.fit,Ee})};if(!K&&(Te.layout=Se(ce),J)){var ke=ce._size;Te.layout.computed={margin:{b:ke.b,l:ke.l,r:ke.r,t:ke.t}}}return ye&&(Te.frames=Se(ye)),se&&(Te.config=Se(G._context,!0)),$==="object"?Te:JSON.stringify(Te)},d.modifyFrames=function(G,K){var oe,$,J,se=G._transitionData._frames,ie=G._transitionData._frameHash;for(oe=0;oe<K.length;oe++)switch($=K[oe],$.type){case"replace":J=$.value;var ce=(se[$.index]||{}).name,ye=J.name;se[$.index]=ie[ye]=J,ye!==ce&&(delete ie[ce],ie[ye]=J);break;case"insert":J=$.value,ie[J.name]=J,se.splice($.index,0,J);break;case"delete":J=se[$.index],delete ie[J.name],se.splice($.index,1);break}return Promise.resolve()},d.computeFrame=function(G,K){var oe=G._transitionData._frameHash,$,J,se,ie;if(!K)throw new Error("computeFrame must be given a string frame name");var ce=oe[K.toString()];if(!ce)return!1;for(var ye=[ce],Se=[ce.name];ce.baseframe&&(ce=oe[ce.baseframe.toString()])&&Se.indexOf(ce.name)===-1;)ye.push(ce),Se.push(ce.name);for(var Te={};ce=ye.pop();)if(ce.layout&&(Te.layout=d.extendLayout(Te.layout,ce.layout)),ce.data){if(Te.data||(Te.data=[]),J=ce.traces,!J)for(J=[],$=0;$<ce.data.length;$++)J[$]=$;for(Te.traces||(Te.traces=[]),$=0;$<ce.data.length;$++)se=J[$],se!=null&&(ie=Te.traces.indexOf(se),ie===-1&&(ie=Te.data.length,Te.traces[ie]=se),Te.data[ie]=d.extendTrace(Te.data[ie],ce.data[$]))}return Te},d.recomputeFrameHash=function(G){for(var K=G._transitionData._frameHash={},oe=G._transitionData._frames,$=0;$<oe.length;$++){var J=oe[$];J&&J.name&&(K[J.name]=J)}},d.extendObjectWithContainers=function(G,K,oe){var $,J,se,ie,ce,ye,Se,Te,ke=t.extendDeepNoArrays({},K||{}),we=t.expandObjectPaths(ke),Ee={};if(oe&&oe.length)for(se=0;se<oe.length;se++)$=t.nestedProperty(we,oe[se]),J=$.get(),J===void 0?t.nestedProperty(Ee,oe[se]).set(null):($.set(null),t.nestedProperty(Ee,oe[se]).set(J));if(G=t.extendDeepNoArrays(G||{},we),oe&&oe.length){for(se=0;se<oe.length;se++)if(ce=t.nestedProperty(Ee,oe[se]),Se=ce.get(),!!Se){for(ye=t.nestedProperty(G,oe[se]),Te=ye.get(),Array.isArray(Te)||(Te=[],ye.set(Te)),ie=0;ie<Se.length;ie++){var xe=Se[ie];xe===null?Te[ie]=null:Te[ie]=d.extendObjectWithContainers(Te[ie],xe)}ye.set(Te)}}return G},d.dataArrayContainers=["transforms","dimensions"],d.layoutArrayContainers=v.layoutArrayContainers,d.extendTrace=function(G,K){return d.extendObjectWithContainers(G,K,d.dataArrayContainers)},d.extendLayout=function(G,K){return d.extendObjectWithContainers(G,K,d.layoutArrayContainers)},d.transition=function(G,K,oe,$,J,se){var ie={redraw:J.redraw},ce={},ye=[];return ie.prepareFn=function(){for(var Se=Array.isArray(K)?K.length:0,Te=$.slice(0,Se),ke=0;ke<Te.length;ke++){var we=Te[ke],Ee=G._fullData[we],xe=Ee._module;if(xe){if(xe.animatable){var De=xe.basePlotModule.name;ce[De]||(ce[De]=[]),ce[De].push(we)}G.data[Te[ke]]=d.extendTrace(G.data[Te[ke]],K[ke])}}var Ve=t.expandObjectPaths(t.extendDeepNoArrays({},oe)),Ue=/^[xy]axis[0-9]*$/;for(var Be in Ve)Ue.test(Be)&&delete Ve[Be].range;d.extendLayout(G.layout,Ve),delete G.calcdata,d.supplyDefaults(G),d.doCalcdata(G);var Xe=t.expandObjectPaths(oe);if(Xe){var ot=G._fullLayout._plots;for(var ut in ot){var et=ot[ut],qe=et.xaxis,ft=et.yaxis,ht=qe.range.slice(),dt=ft.range.slice(),mt=null,St=null,rt=null,Oe=null;Array.isArray(Xe[qe._name+".range"])?mt=Xe[qe._name+".range"].slice():Array.isArray((Xe[qe._name]||{}).range)&&(mt=Xe[qe._name].range.slice()),Array.isArray(Xe[ft._name+".range"])?St=Xe[ft._name+".range"].slice():Array.isArray((Xe[ft._name]||{}).range)&&(St=Xe[ft._name].range.slice()),ht&&mt&&(qe.r2l(ht[0])!==qe.r2l(mt[0])||qe.r2l(ht[1])!==qe.r2l(mt[1]))&&(rt={xr0:ht,xr1:mt}),dt&&St&&(ft.r2l(dt[0])!==ft.r2l(St[0])||ft.r2l(dt[1])!==ft.r2l(St[1]))&&(Oe={yr0:dt,yr1:St}),(rt||Oe)&&ye.push(t.extendFlat({plotinfo:et},rt,Oe))}}return Promise.resolve()},ie.runFn=function(Se){var Te,ke=G._fullLayout._basePlotModules,we=ye.length,Ee;if(oe)for(Ee=0;Ee<ke.length;Ee++)ke[Ee].transitionAxes&&ke[Ee].transitionAxes(G,ye,se,Se);we?(Te=t.extendFlat({},se),Te.duration=0,delete ce.cartesian):Te=se;for(var xe in ce){var De=ce[xe],Ve=G._fullData[De[0]]._module;Ve.basePlotModule.plot(G,De,Te,Se)}},ne(G,se,ie)},d.transitionFromReact=function(G,K,oe,$){var J=G._fullLayout,se=J.transition,ie={},ce=[];return ie.prepareFn=function(){var ye=J._plots;ie.redraw=!1,K.anim==="some"&&(ie.redraw=!0),oe.anim==="some"&&(ie.redraw=!0);for(var Se in ye){var Te=ye[Se],ke=Te.xaxis,we=Te.yaxis,Ee=$[ke._name].range.slice(),xe=$[we._name].range.slice(),De=ke.range.slice(),Ve=we.range.slice();ke.setScale(),we.setScale();var Ue=null,Be=null;(ke.r2l(Ee[0])!==ke.r2l(De[0])||ke.r2l(Ee[1])!==ke.r2l(De[1]))&&(Ue={xr0:Ee,xr1:De}),(we.r2l(xe[0])!==we.r2l(Ve[0])||we.r2l(xe[1])!==we.r2l(Ve[1]))&&(Be={yr0:xe,yr1:Ve}),(Ue||Be)&&ce.push(t.extendFlat({plotinfo:Te},Ue,Be))}return Promise.resolve()},ie.runFn=function(ye){for(var Se=G._fullData,Te=G._fullLayout,ke=Te._basePlotModules,we,Ee,xe,De=[],Ve=0;Ve<Se.length;Ve++)De.push(Ve);function Ue(){if(G._fullLayout)for(var Xe=0;Xe<ke.length;Xe++)ke[Xe].transitionAxes&&ke[Xe].transitionAxes(G,ce,we,ye)}function Be(){if(G._fullLayout)for(var Xe=0;Xe<ke.length;Xe++)ke[Xe].plot(G,xe,Ee,ye)}ce.length&&K.anim?se.ordering==="traces first"?(we=t.extendFlat({},se,{duration:0}),xe=De,Ee=se,setTimeout(Ue,se.duration),Be()):(we=se,xe=null,Ee=t.extendFlat({},se,{duration:0}),setTimeout(Be,we.duration),Ue()):ce.length?(we=se,Ue()):K.anim&&(xe=De,Ee=se,Be())},ne(G,se,ie)};function ne(G,K,oe){var $=!1;function J(ke){var we=Promise.resolve();if(!ke)return we;for(;ke.length;)we=we.then(ke.shift());return we}function se(ke){if(ke)for(;ke.length;)ke.shift()}function ie(){return G.emit("plotly_transitioning",[]),new Promise(function(ke){G._transitioning=!0,K.duration>0&&(G._transitioningWithDuration=!0),G._transitionData._interruptCallbacks.push(function(){$=!0}),oe.redraw&&G._transitionData._interruptCallbacks.push(function(){return v.call("redraw",G)}),G._transitionData._interruptCallbacks.push(function(){G.emit("plotly_transitioninterrupted",[])});var we=0,Ee=0;function xe(){return we++,function(){Ee++,!$&&Ee===we&&ce(ke)}}oe.runFn(xe),setTimeout(xe())})}function ce(ke){if(G._transitionData)return se(G._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(oe.redraw)return v.call("redraw",G)}).then(function(){G._transitioning=!1,G._transitioningWithDuration=!1,G.emit("plotly_transitioned",[])}).then(ke)}function ye(){if(G._transitionData)return G._transitioning=!1,J(G._transitionData._interruptCallbacks)}var Se=[d.previousPromises,ye,oe.prepareFn,d.rehover,d.reselect,ie],Te=t.syncOrAsync(Se,G);return(!Te||!Te.then)&&(Te=Promise.resolve()),Te.then(function(){return G})}d.doCalcdata=function(G,K){var oe=u.list(G),$=G._fullData,J=G._fullLayout,se,ie,ce,ye,Se=new Array($.length),Te=(G.calcdata||[]).slice();for(G.calcdata=Se,J._numBoxes=0,J._numViolins=0,J._violinScaleGroupStats={},G._hmpixcount=0,G._hmlumcount=0,J._piecolormap={},J._sunburstcolormap={},J._treemapcolormap={},J._iciclecolormap={},J._funnelareacolormap={},ce=0;ce<$.length;ce++)if(Array.isArray(K)&&K.indexOf(ce)===-1){Se[ce]=Te[ce];continue}for(ce=0;ce<$.length;ce++)se=$[ce],se._arrayAttrs=p.findArrayAttributes(se),se._extremes={};var ke=J._subplots.polar||[];for(ce=0;ce<ke.length;ce++)oe.push(J[ke[ce]].radialaxis,J[ke[ce]].angularaxis);for(var we in J._colorAxes){var Ee=J[we];Ee.cauto!==!1&&(delete Ee.cmin,delete Ee.cmax)}var xe=!1;function De(Be){if(se=$[Be],ie=se._module,se.visible===!0&&se.transforms){if(ie&&ie.calc){var Xe=ie.calc(G,se);Xe[0]&&Xe[0].t&&Xe[0].t._scene&&delete Xe[0].t._scene.dirty}for(ye=0;ye<se.transforms.length;ye++){var ot=se.transforms[ye];ie=w[ot.type],ie&&ie.calcTransform&&(se._hasCalcTransform=!0,xe=!0,ie.calcTransform(G,se,ot))}}}function Ve(Be,Xe){if(se=$[Be],ie=se._module,!!ie.isContainer===Xe){var ot=[];if(se.visible===!0&&se._length!==0){delete se._indexToPoints;var ut=se.transforms||[];for(ye=ut.length-1;ye>=0;ye--)if(ut[ye].enabled){se._indexToPoints=ut[ye]._indexToPoints;break}ie&&ie.calc&&(ot=ie.calc(G,se))}(!Array.isArray(ot)||!ot[0])&&(ot=[{x:n,y:n}]),ot[0].t||(ot[0].t={}),ot[0].trace=se,Se[Be]=ot}}for(Y(oe,$,J),ce=0;ce<$.length;ce++)Ve(ce,!0);for(ce=0;ce<$.length;ce++)De(ce);for(xe&&Y(oe,$,J),ce=0;ce<$.length;ce++)Ve(ce,!0);for(ce=0;ce<$.length;ce++)Ve(ce,!1);Z(G);var Ue=q(oe,G);if(Ue.length){for(J._numBoxes=0,J._numViolins=0,ce=0;ce<Ue.length;ce++)Ve(Ue[ce],!0);for(ce=0;ce<Ue.length;ce++)Ve(Ue[ce],!1);Z(G)}v.getComponentMethod("fx","calc")(G),v.getComponentMethod("errorbars","calc")(G)};var ue=/(total|sum|min|max|mean|median) (ascending|descending)/;function q(G,K){var oe=[],$,J,se,ie,ce;function ye(_e,be,me){var Ce=be._id.charAt(0);if(_e==="histogram2dcontour"){var Me=be._counterAxes[0],Ne=u.getFromId(K,Me),je=Ce==="x"||Me==="x"&&Ne.type==="category",tt=Ce==="y"||Me==="y"&&Ne.type==="category";return function(ct,pt){return ct===0||pt===0||je&&ct===me[pt].length-1||tt&&pt===me.length-1?-1:(Ce==="y"?pt:ct)-1}}else return function(ct,pt){return Ce==="y"?pt:ct}}var Se={min:function(_e){return t.aggNums(Math.min,null,_e)},max:function(_e){return t.aggNums(Math.max,null,_e)},sum:function(_e){return t.aggNums(function(be,me){return be+me},null,_e)},total:function(_e){return t.aggNums(function(be,me){return be+me},null,_e)},mean:function(_e){return t.mean(_e)},median:function(_e){return t.median(_e)}};function Te(_e,be){return _e[1]-be[1]}function ke(_e,be){return be[1]-_e[1]}for($=0;$<G.length;$++){var we=G[$];if(we.type==="category"){var Ee=we.categoryorder.match(ue);if(Ee){var xe=Ee[1],De=Ee[2],Ve=we._id.charAt(0),Ue=Ve==="x",Be=[];for(J=0;J<we._categories.length;J++)Be.push([we._categories[J],[]]);for(J=0;J<we._traceIndices.length;J++){var Xe=we._traceIndices[J],ot=K._fullData[Xe];if(ot.visible===!0){var ut=ot.type;v.traceIs(ot,"histogram")&&(delete ot._xautoBinFinished,delete ot._yautoBinFinished);var et=ut==="splom",qe=ut==="scattergl",ft=K.calcdata[Xe];for(se=0;se<ft.length;se++){var ht=ft[se],dt,mt;if(et){var St=ot._axesDim[we._id];if(!Ue){var rt=ot._diag[St][0];rt&&(we=K._fullLayout[u.id2name(rt)])}var Oe=ht.trace.dimensions[St].values;for(ie=0;ie<Oe.length;ie++)for(dt=we._categoriesMap[Oe[ie]],ce=0;ce<ht.trace.dimensions.length;ce++)if(ce!==St){var Ye=ht.trace.dimensions[ce];Be[dt][1].push(Ye.values[ie])}}else if(qe){for(ie=0;ie<ht.t.x.length;ie++)Ue?(dt=ht.t.x[ie],mt=ht.t.y[ie]):(dt=ht.t.y[ie],mt=ht.t.x[ie]),Be[dt][1].push(mt);ht.t&&ht.t._scene&&delete ht.t._scene.dirty}else if(ht.hasOwnProperty("z")){mt=ht.z;var Ze=ye(ot.type,we,mt);for(ie=0;ie<mt.length;ie++)for(ce=0;ce<mt[ie].length;ce++)dt=Ze(ce,ie),dt+1&&Be[dt][1].push(mt[ie][ce])}else for(dt=ht.p,dt===void 0&&(dt=ht[Ve]),mt=ht.s,mt===void 0&&(mt=ht.v),mt===void 0&&(mt=Ue?ht.y:ht.x),Array.isArray(mt)||(mt===void 0?mt=[]:mt=[mt]),ie=0;ie<mt.length;ie++)Be[dt][1].push(mt[ie])}}}we._categoriesValue=Be;var Ge=[];for(J=0;J<Be.length;J++)Ge.push([Be[J][0],Se[xe](Be[J][1])]);Ge.sort(De==="descending"?ke:Te),we._categoriesAggregatedValue=Ge,we._initialCategories=Ge.map(function(_e){return _e[0]}),oe=oe.concat(we.sortByInitialCategories())}}}return oe}function Y(G,K,oe){var $={};function J(ye){ye.clearCalc(),ye.type==="multicategory"&&ye.setupMultiCategory(K),$[ye._id]=1}t.simpleMap(G,J);for(var se=oe._axisMatchGroups||[],ie=0;ie<se.length;ie++)for(var ce in se[ie])$[ce]||J(oe[u.id2name(ce)])}function Z(G){var K=G._fullLayout,oe=K._visibleModules,$={},J,se,ie;for(se=0;se<oe.length;se++){var ce=oe[se],ye=ce.crossTraceCalc;if(ye){var Se=ce.basePlotModule.name;$[Se]?t.pushUnique($[Se],ye):$[Se]=[ye]}}for(ie in $){var Te=$[ie],ke=K._subplots[ie];if(Array.isArray(ke))for(J=0;J<ke.length;J++){var we=ke[J],Ee=ie==="cartesian"?K._plots[we]:K[we];for(se=0;se<Te.length;se++)Te[se](G,Ee,we)}else for(se=0;se<Te.length;se++)Te[se](G)}}d.rehover=function(G){G._fullLayout._rehover&&G._fullLayout._rehover()},d.redrag=function(G){G._fullLayout._redrag&&G._fullLayout._redrag()},d.reselect=function(G){var K=G._fullLayout,oe=(G.layout||{}).selections,$=K._previousSelections;K._previousSelections=oe;var J=K._reselect||JSON.stringify(oe)!==JSON.stringify($);v.getComponentMethod("selections","reselect")(G,J)},d.generalUpdatePerTraceModule=function(G,K,oe,$){var J=K.traceHash,se={},ie;for(ie=0;ie<oe.length;ie++){var ce=oe[ie],ye=ce[0].trace;ye.visible&&(se[ye.type]=se[ye.type]||[],se[ye.type].push(ce))}for(var Se in J)if(!se[Se]){var Te=J[Se][0],ke=Te[0].trace;ke.visible=!1,se[Se]=[Te]}for(var we in se){var Ee=se[we],xe=Ee[0][0].trace._module;xe.plot(G,K,t.filterVisible(Ee),$)}K.traceHash=se},d.plotBasePlot=function(G,K,oe,$,J){var se=v.getModule(G),ie=g(K.calcdata,se)[0];se.plot(K,ie,$,J)},d.cleanBasePlot=function(G,K,oe,$,J){var se=J._has&&J._has(G),ie=oe._has&&oe._has(G);se&&!ie&&J["_"+G+"layer"].selectAll("g.trace").remove()}},39360:function(U){U.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(U,B,e){var y=e(3400),L=e(92065).tester,i=y.findIndexOfMin,S=y.isAngleInsideSector,b=y.angleDelta,v=y.angleDist;function p(o,d,w,A,C){if(!S(d,A))return!1;var x,E;w[0]<w[1]?(x=w[0],E=w[1]):(x=w[1],E=w[0]);var M=L(u(x,A[0],A[1],C)),f=L(u(E,A[0],A[1],C)),P=[o*Math.cos(d),o*Math.sin(d)];return f.contains(P)&&!M.contains(P)}function r(o,d,w,A){var C,x,E=A[0],M=A[1],f=m(Math.sin(d)-Math.sin(o)),P=m(Math.cos(d)-Math.cos(o)),T=Math.tan(w),z=m(1/T),_=f/P,V=M-_*E;return z?f&&P?(C=V/(T-_),x=T*C):P?(C=M*z,x=M):(C=E,x=E*T):f&&P?(C=0,x=V):P?(C=0,x=M):C=x=NaN,[C,x]}function t(o,d,w,A){var C=-d*w,x=d*d+1,E=2*(d*C-w),M=C*C+w*w-o*o,f=Math.sqrt(E*E-4*x*M),P=(-E+f)/(2*x),T=(-E-f)/(2*x);return[[P,d*P+C+A],[T,d*T+C+A]]}function a(o,d){var w=d.length,A=new Array(w+1),C;for(C=0;C<w;C++){var x=d[C];A[C]=[o*Math.cos(x),o*Math.sin(x)]}return A[C]=A[0].slice(),A}function n(o,d,w,A){var C=A.length,x=[],E,M;function f(I){return[o*Math.cos(I),o*Math.sin(I)]}function P(I,H,j){return r(I,H,j,f(I))}function T(I){return y.mod(I,C)}function z(I){return S(I,[d,w])}var _=i(A,function(I){return z(I)?v(I,d):1/0}),V=P(A[_],A[T(_-1)],d);for(x.push(V),E=_,M=0;M<C;E++,M++){var F=A[T(E)];if(!z(F))break;x.push(f(F))}var N=i(A,function(I){return z(I)?v(I,w):1/0}),k=P(A[N],A[T(N+1)],w);return x.push(k),x.push([0,0]),x.push(x[0].slice()),x}function u(o,d,w,A){return y.isFullCircle([d,w])?a(o,A):n(o,d,w,A)}function s(o,d,w,A){for(var C=1/0,x=1/0,E=u(o,d,w,A),M=0;M<E.length;M++){var f=E[M];C=Math.min(C,f[0]),x=Math.min(x,-f[1])}return[C,x]}function l(o,d){var w=function(x){var E=b(x,o);return E>0?E:1/0},A=i(d,w),C=y.mod(A+1,d.length);return[d[A],d[C]]}function m(o){return Math.abs(o)>1e-10?o:0}function h(o,d,w){d=d||0,w=w||0;for(var A=o.length,C=new Array(A),x=0;x<A;x++){var E=o[x];C[x]=[d+E[0],w-E[1]]}return C}function g(o,d,w,A,C,x){var E=u(o,d,w,A);return"M"+h(E,C,x).join("L")}function c(o,d,w,A,C,x,E){var M,f;o<d?(M=o,f=d):(M=d,f=o);var P=h(u(M,w,A,C),x,E),T=h(u(f,w,A,C),x,E);return"M"+T.reverse().join("L")+"M"+P.join("L")}U.exports={isPtInsidePolygon:p,findPolygonOffset:s,findEnclosingVertexAngles:l,findIntersectionXY:r,findXYatLength:t,clampTiny:m,pathPolygon:g,pathPolygonAnnulus:c}},40872:function(U,B,e){var y=e(84888).KY,L=e(3400).counterRegex,i=e(62400),S=e(39360),b=S.attr,v=S.name,p=L(v),r={};r[b]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var u=n._fullLayout,s=n.calcdata,l=u._subplots[v],m=0;m<l.length;m++){var h=l[m],g=y(s,v,h),c=u[h]._subplot;c||(c=i(n,h),u[h]._subplot=c),c.plot(g,u,n._promises)}}function a(n,u,s,l){for(var m=l._subplots[v]||[],h=l._has&&l._has("gl"),g=u._has&&u._has("gl"),c=h&&!g,o=0;o<m.length;o++){var d=m[o],w=l[d]._subplot;if(!u[d]&&w){w.framework.remove(),w.layers["radial-axis-title"].remove();for(var A in w.clipPaths)w.clipPaths[A].remove()}c&&w._scene&&(w._scene.destroy(),w._scene=null)}}U.exports={attr:b,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:t,clean:a,toSVG:e(57952).toSVG}},95300:function(U,B,e){var y=e(22548),L=e(94724),i=e(86968).u,S=e(3400).extendFlat,b=e(67824).overrideAll,v=b({color:L.color,showline:S({},L.showline,{dflt:!0}),linecolor:L.linecolor,linewidth:L.linewidth,showgrid:S({},L.showgrid,{dflt:!0}),gridcolor:L.gridcolor,gridwidth:L.gridwidth,griddash:L.griddash},"plot","from-root"),p=b({tickmode:L.minor.tickmode,nticks:L.nticks,tick0:L.tick0,dtick:L.dtick,tickvals:L.tickvals,ticktext:L.ticktext,ticks:L.ticks,ticklen:L.ticklen,tickwidth:L.tickwidth,tickcolor:L.tickcolor,ticklabelstep:L.ticklabelstep,showticklabels:L.showticklabels,labelalias:L.labelalias,showtickprefix:L.showtickprefix,tickprefix:L.tickprefix,showticksuffix:L.showticksuffix,ticksuffix:L.ticksuffix,showexponent:L.showexponent,exponentformat:L.exponentformat,minexponent:L.minexponent,separatethousands:L.separatethousands,tickfont:L.tickfont,tickangle:L.tickangle,tickformat:L.tickformat,tickformatstops:L.tickformatstops,layer:L.layer},"plot","from-root"),r={visible:S({},L.visible,{dflt:!0}),type:S({},L.type,{values:["-","linear","log","date","category"]}),autotypenumbers:L.autotypenumbers,autorangeoptions:{minallowed:L.autorangeoptions.minallowed,maxallowed:L.autorangeoptions.maxallowed,clipmin:L.autorangeoptions.clipmin,clipmax:L.autorangeoptions.clipmax,include:L.autorangeoptions.include,editType:"plot"},autorange:S({},L.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:S({},L.minallowed,{editType:"plot"}),maxallowed:S({},L.maxallowed,{editType:"plot"}),range:S({},L.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:L.categoryorder,categoryarray:L.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:L.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:S({},L.title.text,{editType:"plot",dflt:""}),font:S({},L.title.font,{editType:"plot"}),editType:"plot"},hoverformat:L.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:L._deprecated.title,titlefont:L._deprecated.titlefont}};S(r,v,p);var t={visible:S({},L.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:L.autotypenumbers,categoryorder:L.categoryorder,categoryarray:L.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:L.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};S(t,v,p),U.exports={domain:i({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:y.background},radialaxis:r,angularaxis:t,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(U,B,e){var y=e(3400),L=e(76308),i=e(31780),S=e(168),b=e(84888).op,v=e(26332),p=e(25404),r=e(95936),t=e(42568),a=e(22416),n=e(42136),u=e(76808),s=e(52976),l=e(95300),m=e(57696),h=e(39360),g=h.axisNames;function c(d,w,A,C){var x=A("bgcolor");C.bgColor=L.combine(x,C.paper_bgcolor);var E=A("sector");A("hole");var M=b(C.fullData,h.name,C.id),f=C.layoutOut,P;function T(K,oe){return A(P+"."+K,oe)}for(var z=0;z<g.length;z++){P=g[z],y.isPlainObject(d[P])||(d[P]={});var _=d[P],V=i.newContainer(w,P);V._id=V._name=P,V._attr=C.id+"."+P,V._traceIndices=M.map(function(K){return K._expandedIndex});var F=h.axisName2dataArray[P],N=o(_,V,T,M,F,C);a(_,V,T,{axData:M,dataAttr:F});var k=T("visible");switch(m(V,w,f),T("uirevision",w.uirevision),V._m=1,P){case"radialaxis":T("minallowed"),T("maxallowed");var I=T("range"),H=V.getAutorangeDflt(I),j=T("autorange",H),ee;I&&(I[0]===null&&I[1]===null||(I[0]===null||I[1]===null)&&(j==="reversed"||j===!0)||I[0]!==null&&(j==="min"||j==="max reversed")||I[1]!==null&&(j==="max"||j==="min reversed"))&&(I=void 0,delete V.range,V.autorange=!0,ee=!0),ee||(H=V.getAutorangeDflt(I),j=T("autorange",H)),_.autorange=j,j&&(u(T,j,I),(N==="linear"||N==="-")&&T("rangemode"),V.isReversed()&&(V._m=-1)),V.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(N==="date"){y.log("Polar plots do not support date angular axes yet.");for(var te=0;te<M.length;te++)M[te].visible=!1;N=_.type=V.type="linear"}T(N==="linear"?"thetaunit":"period");var ne=T("direction");T("rotation",{counterclockwise:0,clockwise:90}[ne]);break}if(t(_,V,T,V.type,{tickSuffixDflt:V.thetaunit==="degrees"?"°":void 0}),k){var ue,q,Y,Z,G=C.font||{};ue=T("color"),q=ue===_.color?ue:G.color,Y=G.size,Z=G.family,v(_,V,T,V.type),r(_,V,T,V.type,{font:{color:q,size:Y,family:Z},noAutotickangles:P==="angularaxis"}),p(_,V,T,{outerTicks:!0}),n(_,V,T,{dfltColor:ue,bgColor:C.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[P]}),T("layer"),P==="radialaxis"&&(T("side"),T("angle",E[0]),T("title.text"),y.coerceFont(T,"title.font",{color:q,size:y.bigFont(Y),family:Z}))}N!=="category"&&T("hoverformat"),V._input=_}w.angularaxis.type==="category"&&A("gridshape")}function o(d,w,A,C,x,E){var M=A("autotypenumbers",E.autotypenumbersDflt),f=A("type");if(f==="-"){for(var P,T=0;T<C.length;T++)if(C[T].visible){P=C[T];break}P&&P[x]&&(w.type=s(P[x],"gregorian",{noMultiCategory:!0,autotypenumbers:M})),w.type==="-"?w.type="linear":d.type=w.type}return w.type}U.exports=function(w,A,C){S(w,A,C,{type:h.name,attributes:l,handleDefaults:c,font:A.font,autotypenumbersDflt:A.autotypenumbers,paper_bgcolor:A.paper_bgcolor,fullData:C,layoutOut:A})}},62400:function(U,B,e){var y=e(33428),L=e(49760),i=e(24040),S=e(3400),b=S.strRotate,v=S.strTranslate,p=e(76308),r=e(43616),t=e(7316),a=e(54460),n=e(78344),u=e(57696),s=e(19280).doAutoRange,l=e(51184),m=e(86476),h=e(93024),g=e(81668),c=e(22676).prepSelect,o=e(22676).selectOnClick,d=e(22676).clearOutline,w=e(93972),A=e(73696),C=e(39172).redrawReglTraces,x=e(84284).MID_SHIFT,E=e(39360),M=e(57384),f=e(36416),P=f.smith,T=f.reactanceArc,z=f.resistanceArc,_=f.smithTransform,V=S._,F=S.mod,N=S.deg2rad,k=S.rad2deg;function I(ue,q,Y){this.isSmith=Y||!1,this.id=q,this.gd=ue,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var Z=ue._fullLayout,G="clip"+Z._uid+q;this.clipIds.forTraces=G+"-for-traces",this.clipPaths.forTraces=Z._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=Z["_"+(Y?"smith":"polar")+"layer"].append("g").attr("class",q),this.getHole=function(K){return this.isSmith?0:K.hole},this.getSector=function(K){return this.isSmith?[0,360]:K.sector},this.getRadial=function(K){return this.isSmith?K.realaxis:K.radialaxis},this.getAngular=function(K){return this.isSmith?K.imaginaryaxis:K.angularaxis},Y||(this.radialTickLayout=null,this.angularTickLayout=null)}var H=I.prototype;U.exports=function(q,Y,Z){return new I(q,Y,Z)},H.plot=function(ue,q){for(var Y=this,Z=q[Y.id],G=!1,K=0;K<ue.length;K++){var oe=ue[K][0].trace;if(oe.cliponaxis===!1){G=!0;break}}Y._hasClipOnAxisFalse=G,Y.updateLayers(q,Z),Y.updateLayout(q,Z),t.generalUpdatePerTraceModule(Y.gd,Y,ue,Z),Y.updateFx(q,Z),Y.isSmith&&(delete Z.realaxis.range,delete Z.imaginaryaxis.range)},H.updateLayers=function(ue,q){var Y=this,Z=Y.isSmith,G=Y.layers,K=Y.getRadial(q),oe=Y.getAngular(q),$=E.layerNames,J=$.indexOf("frontplot"),se=$.slice(0,J),ie=oe.layer==="below traces",ce=K.layer==="below traces";ie&&se.push("angular-line"),ce&&se.push("radial-line"),ie&&se.push("angular-axis"),ce&&se.push("radial-axis"),se.push("frontplot"),ie||se.push("angular-line"),ce||se.push("radial-line"),ie||se.push("angular-axis"),ce||se.push("radial-axis");var ye=(Z?"smith":"polar")+"sublayer",Se=Y.framework.selectAll("."+ye).data(se,String);Se.enter().append("g").attr("class",function(Te){return ye+" "+Te}).each(function(Te){var ke=G[Te]=y.select(this);switch(Te){case"frontplot":Z||ke.append("g").classed("barlayer",!0),ke.append("g").classed("scatterlayer",!0);break;case"backplot":ke.append("g").classed("maplayer",!0);break;case"plotbg":G.bg=ke.append("path");break;case"radial-grid":ke.style("fill","none");break;case"angular-grid":ke.style("fill","none");break;case"radial-line":ke.append("line").style("fill","none");break;case"angular-line":ke.append("path").style("fill","none");break}}),Se.order()},H.updateLayout=function(ue,q){var Y=this,Z=Y.layers,G=ue._size,K=Y.getRadial(q),oe=Y.getAngular(q),$=q.domain.x,J=q.domain.y;Y.xOffset=G.l+G.w*$[0],Y.yOffset=G.t+G.h*(1-J[1]);var se=Y.xLength=G.w*($[1]-$[0]),ie=Y.yLength=G.h*(J[1]-J[0]),ce=Y.getSector(q);Y.sectorInRad=ce.map(N);var ye=Y.sectorBBox=ee(ce),Se=ye[2]-ye[0],Te=ye[3]-ye[1],ke=ie/se,we=Math.abs(Te/Se),Ee,xe,De,Ve,Ue;ke>we?(Ee=se,xe=se*we,Ue=(ie-xe)/G.h/2,De=[$[0],$[1]],Ve=[J[0]+Ue,J[1]-Ue]):(Ee=ie/we,xe=ie,Ue=(se-Ee)/G.w/2,De=[$[0]+Ue,$[1]-Ue],Ve=[J[0],J[1]]),Y.xLength2=Ee,Y.yLength2=xe,Y.xDomain2=De,Y.yDomain2=Ve;var Be=Y.xOffset2=G.l+G.w*De[0],Xe=Y.yOffset2=G.t+G.h*(1-Ve[1]),ot=Y.radius=Ee/Se,ut=Y.innerRadius=Y.getHole(q)*ot,et=Y.cx=Be-ot*ye[0],qe=Y.cy=Xe+ot*ye[3],ft=Y.cxx=et-Be,ht=Y.cyy=qe-Xe,dt=K.side,mt;dt==="counterclockwise"?(mt=dt,dt="top"):dt==="clockwise"&&(mt=dt,dt="bottom"),Y.radialAxis=Y.mockAxis(ue,q,K,{_id:"x",side:dt,_trueSide:mt,domain:[ut/G.w,ot/G.w]}),Y.angularAxis=Y.mockAxis(ue,q,oe,{side:"right",domain:[0,Math.PI],autorange:!1}),Y.doAutoRange(ue,q),Y.updateAngularAxis(ue,q),Y.updateRadialAxis(ue,q),Y.updateRadialAxisTitle(ue,q),Y.xaxis=Y.mockCartesianAxis(ue,q,{_id:"x",domain:De}),Y.yaxis=Y.mockCartesianAxis(ue,q,{_id:"y",domain:Ve});var St=Y.pathSubplot();Y.clipPaths.forTraces.select("path").attr("d",St).attr("transform",v(ft,ht)),Z.frontplot.attr("transform",v(Be,Xe)).call(r.setClipUrl,Y._hasClipOnAxisFalse?null:Y.clipIds.forTraces,Y.gd),Z.bg.attr("d",St).attr("transform",v(et,qe)).call(p.fill,q.bgcolor)},H.mockAxis=function(ue,q,Y,Z){var G=S.extendFlat({},Y,Z);return u(G,q,ue),G},H.mockCartesianAxis=function(ue,q,Y){var Z=this,G=Z.isSmith,K=Y._id,oe=S.extendFlat({type:"linear"},Y);n(oe,ue);var $={x:[0,2],y:[1,3]};return oe.setRange=function(){var J=Z.sectorBBox,se=$[K],ie=Z.radialAxis._rl,ce=(ie[1]-ie[0])/(1-Z.getHole(q));oe.range=[J[se[0]]*ce,J[se[1]]*ce]},oe.isPtWithinRange=K==="x"&&!G?function(J){return Z.isPtInside(J)}:function(){return!0},oe.setRange(),oe.setScale(),oe},H.doAutoRange=function(ue,q){var Y=this,Z=Y.gd,G=Y.radialAxis,K=Y.getRadial(q);s(Z,G);var oe=G.range;if(K.range=oe.slice(),K._input.range=oe.slice(),G._rl=[G.r2l(oe[0],null,"gregorian"),G.r2l(oe[1],null,"gregorian")],G.minallowed!==void 0){var $=G.r2l(G.minallowed);G._rl[0]>G._rl[1]?G._rl[1]=Math.max(G._rl[1],$):G._rl[0]=Math.max(G._rl[0],$)}if(G.maxallowed!==void 0){var J=G.r2l(G.maxallowed);G._rl[0]<G._rl[1]?G._rl[1]=Math.min(G._rl[1],J):G._rl[0]=Math.min(G._rl[0],J)}},H.updateRadialAxis=function(ue,q){var Y=this,Z=Y.gd,G=Y.layers,K=Y.radius,oe=Y.innerRadius,$=Y.cx,J=Y.cy,se=Y.getRadial(q),ie=F(Y.getSector(q)[0],360),ce=Y.radialAxis,ye=oe<K,Se=Y.isSmith;Se||(Y.fillViewInitialKey("radialaxis.angle",se.angle),Y.fillViewInitialKey("radialaxis.range",ce.range.slice()),ce.setGeometry()),ce.tickangle==="auto"&&ie>90&&ie<=270&&(ce.tickangle=180);var Te=Se?function(ot){var ut=_(Y,P([ot.x,0]));return v(ut[0]-$,ut[1]-J)}:function(ot){return v(ce.l2p(ot.x)+oe,0)},ke=Se?function(ot){return z(Y,ot.x,-1/0,1/0)}:function(ot){return Y.pathArc(ce.r2p(ot.x)+oe)},we=j(se);if(Y.radialTickLayout!==we&&(G["radial-axis"].selectAll(".xtick").remove(),Y.radialTickLayout=we),ye){ce.setScale();var Ee=0,xe=Se?(ce.tickvals||[]).filter(function(ot){return ot>=0}).map(function(ot){return a.tickText(ce,ot,!0,!1)}):a.calcTicks(ce),De=Se?xe:a.clipEnds(ce,xe),Ve=a.getTickSigns(ce)[2];Se&&((ce.ticks==="top"&&ce.side==="bottom"||ce.ticks==="bottom"&&ce.side==="top")&&(Ve=-Ve),ce.ticks==="top"&&ce.side==="top"&&(Ee=-ce.ticklen),ce.ticks==="bottom"&&ce.side==="bottom"&&(Ee=ce.ticklen)),a.drawTicks(Z,ce,{vals:xe,layer:G["radial-axis"],path:a.makeTickPath(ce,0,Ve),transFn:Te,crisp:!1}),a.drawGrid(Z,ce,{vals:De,layer:G["radial-grid"],path:ke,transFn:S.noop,crisp:!1}),a.drawLabels(Z,ce,{vals:xe,layer:G["radial-axis"],transFn:Te,labelFns:a.makeLabelFns(ce,Ee)})}var Ue=Y.radialAxisAngle=Y.vangles?k(te(N(se.angle),Y.vangles)):se.angle,Be=v($,J),Xe=Be+b(-Ue);ne(G["radial-axis"],ye&&(se.showticklabels||se.ticks),{transform:Xe}),ne(G["radial-grid"],ye&&se.showgrid,{transform:Se?"":Be}),ne(G["radial-line"].select("line"),ye&&se.showline,{x1:Se?-K:oe,y1:0,x2:K,y2:0,transform:Xe}).attr("stroke-width",se.linewidth).call(p.stroke,se.linecolor)},H.updateRadialAxisTitle=function(ue,q,Y){if(!this.isSmith){var Z=this,G=Z.gd,K=Z.radius,oe=Z.cx,$=Z.cy,J=Z.getRadial(q),se=Z.id+"title",ie=0;if(J.title){var ce=r.bBox(Z.layers["radial-axis"].node()).height,ye=J.title.font.size,Se=J.side;ie=Se==="top"?ye:Se==="counterclockwise"?-(ce+ye*.4):ce+ye*.8}var Te=Y!==void 0?Y:Z.radialAxisAngle,ke=N(Te),we=Math.cos(ke),Ee=Math.sin(ke),xe=oe+K/2*we+ie*Ee,De=$-K/2*Ee+ie*we;Z.layers["radial-axis-title"]=g.draw(G,se,{propContainer:J,propName:Z.id+".radialaxis.title",placeholder:V(G,"Click to enter radial axis title"),attributes:{x:xe,y:De,"text-anchor":"middle"},transform:{rotate:-Te}})}},H.updateAngularAxis=function(ue,q){var Y=this,Z=Y.gd,G=Y.layers,K=Y.radius,oe=Y.innerRadius,$=Y.cx,J=Y.cy,se=Y.getAngular(q),ie=Y.angularAxis,ce=Y.isSmith;ce||(Y.fillViewInitialKey("angularaxis.rotation",se.rotation),ie.setGeometry(),ie.setScale());var ye=ce?function(ut){var et=_(Y,P([0,ut.x]));return Math.atan2(et[0]-$,et[1]-J)-Math.PI/2}:function(ut){return ie.t2g(ut.x)};ie.type==="linear"&&ie.thetaunit==="radians"&&(ie.tick0=k(ie.tick0),ie.dtick=k(ie.dtick));var Se=function(ut){return v($+K*Math.cos(ut),J-K*Math.sin(ut))},Te=ce?function(ut){var et=_(Y,P([0,ut.x]));return v(et[0],et[1])}:function(ut){return Se(ye(ut))},ke=ce?function(ut){var et=_(Y,P([0,ut.x])),qe=Math.atan2(et[0]-$,et[1]-J)-Math.PI/2;return v(et[0],et[1])+b(-k(qe))}:function(ut){var et=ye(ut);return Se(et)+b(-k(et))},we=ce?function(ut){return T(Y,ut.x,0,1/0)}:function(ut){var et=ye(ut),qe=Math.cos(et),ft=Math.sin(et);return"M"+[$+oe*qe,J-oe*ft]+"L"+[$+K*qe,J-K*ft]},Ee=a.makeLabelFns(ie,0),xe=Ee.labelStandoff,De={};De.xFn=function(ut){var et=ye(ut);return Math.cos(et)*xe},De.yFn=function(ut){var et=ye(ut),qe=Math.sin(et)>0?.2:1;return-Math.sin(et)*(xe+ut.fontSize*qe)+Math.abs(Math.cos(et))*(ut.fontSize*x)},De.anchorFn=function(ut){var et=ye(ut),qe=Math.cos(et);return Math.abs(qe)<.1?"middle":qe>0?"start":"end"},De.heightFn=function(ut,et,qe){var ft=ye(ut);return-.5*(1+Math.sin(ft))*qe};var Ve=j(se);Y.angularTickLayout!==Ve&&(G["angular-axis"].selectAll("."+ie._id+"tick").remove(),Y.angularTickLayout=Ve);var Ue=ce?[1/0].concat(ie.tickvals||[]).map(function(ut){return a.tickText(ie,ut,!0,!1)}):a.calcTicks(ie);ce&&(Ue[0].text="∞",Ue[0].fontSize*=1.75);var Be;if(q.gridshape==="linear"?(Be=Ue.map(ye),S.angleDelta(Be[0],Be[1])<0&&(Be=Be.slice().reverse())):Be=null,Y.vangles=Be,ie.type==="category"&&(Ue=Ue.filter(function(ut){return S.isAngleInsideSector(ye(ut),Y.sectorInRad)})),ie.visible){var Xe=ie.ticks==="inside"?-1:1,ot=(ie.linewidth||1)/2;a.drawTicks(Z,ie,{vals:Ue,layer:G["angular-axis"],path:"M"+Xe*ot+",0h"+Xe*ie.ticklen,transFn:ke,crisp:!1}),a.drawGrid(Z,ie,{vals:Ue,layer:G["angular-grid"],path:we,transFn:S.noop,crisp:!1}),a.drawLabels(Z,ie,{vals:Ue,layer:G["angular-axis"],repositionOnUpdate:!0,transFn:Te,labelFns:De})}ne(G["angular-line"].select("path"),se.showline,{d:Y.pathSubplot(),transform:v($,J)}).attr("stroke-width",se.linewidth).call(p.stroke,se.linecolor)},H.updateFx=function(ue,q){if(!this.gd._context.staticPlot){var Y=!this.isSmith;Y&&(this.updateAngularDrag(ue),this.updateRadialDrag(ue,q,0),this.updateRadialDrag(ue,q,1)),this.updateHoverAndMainDrag(ue)}},H.updateHoverAndMainDrag=function(ue){var q=this,Y=q.isSmith,Z=q.gd,G=q.layers,K=ue._zoomlayer,oe=E.MINZOOM,$=E.OFFEDGE,J=q.radius,se=q.innerRadius,ie=q.cx,ce=q.cy,ye=q.cxx,Se=q.cyy,Te=q.sectorInRad,ke=q.vangles,we=q.radialAxis,Ee=M.clampTiny,xe=M.findXYatLength,De=M.findEnclosingVertexAngles,Ve=E.cornerHalfWidth,Ue=E.cornerLen/2,Be,Xe,ot=l.makeDragger(G,"path","maindrag",ue.dragmode===!1?"none":"crosshair");y.select(ot).attr("d",q.pathSubplot()).attr("transform",v(ie,ce)),ot.onmousemove=function(Tt){h.hover(Z,Tt,q.id),Z._fullLayout._lasthover=ot,Z._fullLayout._hoversubplot=q.id},ot.onmouseout=function(Tt){Z._dragging||m.unhover(Z,Tt)};var ut={element:ot,gd:Z,subplot:q.id,plotinfo:{id:q.id,xaxis:q.xaxis,yaxis:q.yaxis},xaxes:[q.xaxis],yaxes:[q.yaxis]},et,qe,ft,ht,dt,mt,St,rt,Oe;function Ye(Tt,_t){return Math.sqrt(Tt*Tt+_t*_t)}function Ze(Tt,_t){return Ye(Tt-ye,_t-Se)}function Ge(Tt,_t){return Math.atan2(Se-_t,Tt-ye)}function _e(Tt,_t){return[Tt*Math.cos(_t),Tt*Math.sin(-_t)]}function be(Tt,_t){if(Tt===0)return q.pathSector(2*Ve);var Qt=Ue/Tt,wr=_t-Qt,xt=_t+Qt,jt=Math.max(0,Math.min(Tt,J)),Jt=jt-Ve,gr=jt+Ve;return"M"+_e(Jt,wr)+"A"+[Jt,Jt]+" 0,0,0 "+_e(Jt,xt)+"L"+_e(gr,xt)+"A"+[gr,gr]+" 0,0,1 "+_e(gr,wr)+"Z"}function me(Tt,_t,Qt){if(Tt===0)return q.pathSector(2*Ve);var wr=_e(Tt,_t),xt=_e(Tt,Qt),jt=Ee((wr[0]+xt[0])/2),Jt=Ee((wr[1]+xt[1])/2),gr,or;if(jt&&Jt){var yt=Jt/jt,at=-1/yt,wt=xe(Ve,yt,jt,Jt);gr=xe(Ue,at,wt[0][0],wt[0][1]),or=xe(Ue,at,wt[1][0],wt[1][1])}else{var Et,Rt;Jt?(Et=Ue,Rt=Ve):(Et=Ve,Rt=Ue),gr=[[jt-Et,Jt-Rt],[jt+Et,Jt-Rt]],or=[[jt-Et,Jt+Rt],[jt+Et,Jt+Rt]]}return"M"+gr.join("L")+"L"+or.reverse().join("L")+"Z"}function Ce(){ft=null,ht=null,dt=q.pathSubplot(),mt=!1;var Tt=Z._fullLayout[q.id];St=L(Tt.bgcolor).getLuminance(),rt=l.makeZoombox(K,St,ie,ce,dt),rt.attr("fill-rule","evenodd"),Oe=l.makeCorners(K,ie,ce),d(Z)}function Me(Tt,_t){return _t=Math.max(Math.min(_t,J),se),Tt<$?Tt=0:J-Tt<$?Tt=J:_t<$?_t=0:J-_t<$&&(_t=J),Math.abs(_t-Tt)>oe?(Tt<_t?(ft=Tt,ht=_t):(ft=_t,ht=Tt),!0):(ft=null,ht=null,!1)}function Ne(Tt,_t){Tt=Tt||dt,_t=_t||"M0,0Z",rt.attr("d",Tt),Oe.attr("d",_t),l.transitionZoombox(rt,Oe,mt,St),mt=!0;var Qt={};Xt(Qt),Z.emit("plotly_relayouting",Qt)}function je(Tt,_t){Tt=Tt*Be,_t=_t*Xe;var Qt=et+Tt,wr=qe+_t,xt=Ze(et,qe),jt=Math.min(Ze(Qt,wr),J),Jt=Ge(et,qe),gr,or;Me(xt,jt)&&(gr=dt+q.pathSector(ht),ft&&(gr+=q.pathSector(ft)),or=be(ft,Jt)+be(ht,Jt)),Ne(gr,or)}function tt(Tt,_t,Qt,wr){var xt=M.findIntersectionXY(Qt,wr,Qt,[Tt-ye,Se-_t]);return Ye(xt[0],xt[1])}function ct(Tt,_t){var Qt=et+Tt,wr=qe+_t,xt=Ge(et,qe),jt=Ge(Qt,wr),Jt=De(xt,ke),gr=De(jt,ke),or=tt(et,qe,Jt[0],Jt[1]),yt=Math.min(tt(Qt,wr,gr[0],gr[1]),J),at,wt;Me(or,yt)&&(at=dt+q.pathSector(ht),ft&&(at+=q.pathSector(ft)),wt=[me(ft,Jt[0],Jt[1]),me(ht,Jt[0],Jt[1])].join(" ")),Ne(at,wt)}function pt(){if(l.removeZoombox(Z),!(ft===null||ht===null)){var Tt={};Xt(Tt),l.showDoubleClickNotifier(Z),i.call("_guiRelayout",Z,Tt)}}function Xt(Tt){var _t=we._rl,Qt=(_t[1]-_t[0])/(1-se/J)/J,wr=[_t[0]+(ft-se)*Qt,_t[0]+(ht-se)*Qt];Tt[q.id+".radialaxis.range"]=wr}function Yt(Tt,_t){var Qt=Z._fullLayout.clickmode;if(l.removeZoombox(Z),Tt===2){var wr={};for(var xt in q.viewInitial)wr[q.id+"."+xt]=q.viewInitial[xt];Z.emit("plotly_doubleclick",null),i.call("_guiRelayout",Z,wr)}Qt.indexOf("select")>-1&&Tt===1&&o(_t,Z,[q.xaxis],[q.yaxis],q.id,ut),Qt.indexOf("event")>-1&&h.click(Z,_t,q.id)}ut.prepFn=function(Tt,_t,Qt){var wr=Z._fullLayout.dragmode,xt=ot.getBoundingClientRect();Z._fullLayout._calcInverseTransform(Z);var jt=Z._fullLayout._invTransform;Be=Z._fullLayout._invScaleX,Xe=Z._fullLayout._invScaleY;var Jt=S.apply3DTransform(jt)(_t-xt.left,Qt-xt.top);if(et=Jt[0],qe=Jt[1],ke){var gr=M.findPolygonOffset(J,Te[0],Te[1],ke);et+=ye+gr[0],qe+=Se+gr[1]}switch(wr){case"zoom":ut.clickFn=Yt,Y||(ke?ut.moveFn=ct:ut.moveFn=je,ut.doneFn=pt,Ce());break;case"select":case"lasso":c(Tt,_t,Qt,ut,wr);break}},m.init(ut)},H.updateRadialDrag=function(ue,q,Y){var Z=this,G=Z.gd,K=Z.layers,oe=Z.radius,$=Z.innerRadius,J=Z.cx,se=Z.cy,ie=Z.radialAxis,ce=E.radialDragBoxSize,ye=ce/2;if(!ie.visible)return;var Se=N(Z.radialAxisAngle),Te=ie._rl,ke=Te[0],we=Te[1],Ee=Te[Y],xe=.75*(Te[1]-Te[0])/(1-Z.getHole(q))/oe,De,Ve,Ue;Y?(De=J+(oe+ye)*Math.cos(Se),Ve=se-(oe+ye)*Math.sin(Se),Ue="radialdrag"):(De=J+($-ye)*Math.cos(Se),Ve=se-($-ye)*Math.sin(Se),Ue="radialdrag-inner");var Be=l.makeRectDragger(K,Ue,"crosshair",-ye,-ye,ce,ce),Xe={element:Be,gd:G};ue.dragmode===!1&&(Xe.dragmode=!1),ne(y.select(Be),ie.visible&&$<oe,{transform:v(De,Ve)});var ot,ut,et;function qe(St,rt){if(ot)ot(St,rt);else{var Oe=[St,-rt],Ye=[Math.cos(Se),Math.sin(Se)],Ze=Math.abs(S.dot(Oe,Ye)/Math.sqrt(S.dot(Oe,Oe)));isNaN(Ze)||(ot=Ze<.5?dt:mt)}var Ge={};ft(Ge),G.emit("plotly_relayouting",Ge)}function ft(St){ut!==null?St[Z.id+".radialaxis.angle"]=ut:et!==null&&(St[Z.id+".radialaxis.range["+Y+"]"]=et)}function ht(){ut!==null?i.call("_guiRelayout",G,Z.id+".radialaxis.angle",ut):et!==null&&i.call("_guiRelayout",G,Z.id+".radialaxis.range["+Y+"]",et)}function dt(St,rt){if(Y!==0){var Oe=De+St,Ye=Ve+rt;ut=Math.atan2(se-Ye,Oe-J),Z.vangles&&(ut=te(ut,Z.vangles)),ut=k(ut);var Ze=v(J,se)+b(-ut);K["radial-axis"].attr("transform",Ze),K["radial-line"].select("line").attr("transform",Ze);var Ge=Z.gd._fullLayout,_e=Ge[Z.id];Z.updateRadialAxisTitle(Ge,_e,ut)}}function mt(St,rt){var Oe=S.dot([St,-rt],[Math.cos(Se),Math.sin(Se)]);if(et=Ee-xe*Oe,xe>0!=(Y?et>ke:et<we)){et=null;return}var Ye=G._fullLayout,Ze=Ye[Z.id];ie.range[Y]=et,ie._rl[Y]=et,Z.updateRadialAxis(Ye,Ze),Z.xaxis.setRange(),Z.xaxis.setScale(),Z.yaxis.setRange(),Z.yaxis.setScale();var Ge=!1;for(var _e in Z.traceHash){var be=Z.traceHash[_e],me=S.filterVisible(be),Ce=be[0][0].trace._module;Ce.plot(G,Z,me,Ze),i.traceIs(_e,"gl")&&me.length&&(Ge=!0)}Ge&&(A(G),C(G))}Xe.prepFn=function(){ot=null,ut=null,et=null,Xe.moveFn=qe,Xe.doneFn=ht,d(G)},Xe.clampFn=function(St,rt){return Math.sqrt(St*St+rt*rt)<E.MINDRAG&&(St=0,rt=0),[St,rt]},m.init(Xe)},H.updateAngularDrag=function(ue){var q=this,Y=q.gd,Z=q.layers,G=q.radius,K=q.angularAxis,oe=q.cx,$=q.cy,J=q.cxx,se=q.cyy,ie=E.angularDragBoxSize,ce=l.makeDragger(Z,"path","angulardrag",ue.dragmode===!1?"none":"move"),ye={element:ce,gd:Y};ue.dragmode===!1?ye.dragmode=!1:y.select(ce).attr("d",q.pathAnnulus(G,G+ie)).attr("transform",v(oe,$)).call(w,"move");function Se(et,qe){return Math.atan2(se+ie-qe,et-J-ie)}var Te=Z.frontplot.select(".scatterlayer").selectAll(".trace"),ke=Te.selectAll(".point"),we=Te.selectAll(".textpoint"),Ee,xe,De,Ve,Ue,Be;function Xe(et,qe){var ft=q.gd._fullLayout,ht=ft[q.id],dt=Ee+et*ue._invScaleX,mt=xe+qe*ue._invScaleY,St=Se(dt,mt),rt=k(St-Be);if(Ve=De+rt,Z.frontplot.attr("transform",v(q.xOffset2,q.yOffset2)+b([-rt,J,se])),q.vangles){Ue=q.radialAxisAngle+rt;var Oe=v(oe,$)+b(-rt),Ye=v(oe,$)+b(-Ue);Z.bg.attr("transform",Oe),Z["radial-grid"].attr("transform",Oe),Z["radial-axis"].attr("transform",Ye),Z["radial-line"].select("line").attr("transform",Ye),q.updateRadialAxisTitle(ft,ht,Ue)}else q.clipPaths.forTraces.select("path").attr("transform",v(J,se)+b(rt));ke.each(function(){var Me=y.select(this),Ne=r.getTranslate(Me);Me.attr("transform",v(Ne.x,Ne.y)+b([rt]))}),we.each(function(){var Me=y.select(this),Ne=Me.select("text"),je=r.getTranslate(Me);Me.attr("transform",b([rt,Ne.attr("x"),Ne.attr("y")])+v(je.x,je.y))}),K.rotation=S.modHalf(Ve,360),q.updateAngularAxis(ft,ht),q._hasClipOnAxisFalse&&!S.isFullCircle(q.sectorInRad)&&Te.call(r.hideOutsideRangePoints,q);var Ze=!1;for(var Ge in q.traceHash)if(i.traceIs(Ge,"gl")){var _e=q.traceHash[Ge],be=S.filterVisible(_e),me=_e[0][0].trace._module;me.plot(Y,q,be,ht),be.length&&(Ze=!0)}Ze&&(A(Y),C(Y));var Ce={};ot(Ce),Y.emit("plotly_relayouting",Ce)}function ot(et){et[q.id+".angularaxis.rotation"]=Ve,q.vangles&&(et[q.id+".radialaxis.angle"]=Ue)}function ut(){we.select("text").attr("transform",null);var et={};ot(et),i.call("_guiRelayout",Y,et)}ye.prepFn=function(et,qe,ft){var ht=ue[q.id];De=ht.angularaxis.rotation;var dt=ce.getBoundingClientRect();Ee=qe-dt.left,xe=ft-dt.top,Y._fullLayout._calcInverseTransform(Y);var mt=S.apply3DTransform(ue._invTransform)(Ee,xe);Ee=mt[0],xe=mt[1],Be=Se(Ee,xe),ye.moveFn=Xe,ye.doneFn=ut,d(Y)},q.vangles&&!S.isFullCircle(q.sectorInRad)&&(ye.prepFn=S.noop,w(y.select(ce),null)),m.init(ye)},H.isPtInside=function(ue){if(this.isSmith)return!0;var q=this.sectorInRad,Y=this.vangles,Z=this.angularAxis.c2g(ue.theta),G=this.radialAxis,K=G.c2l(ue.r),oe=G._rl,$=Y?M.isPtInsidePolygon:S.isPtInsideSector;return $(K,Z,oe,q,Y)},H.pathArc=function(ue){var q=this.sectorInRad,Y=this.vangles,Z=Y?M.pathPolygon:S.pathArc;return Z(ue,q[0],q[1],Y)},H.pathSector=function(ue){var q=this.sectorInRad,Y=this.vangles,Z=Y?M.pathPolygon:S.pathSector;return Z(ue,q[0],q[1],Y)},H.pathAnnulus=function(ue,q){var Y=this.sectorInRad,Z=this.vangles,G=Z?M.pathPolygonAnnulus:S.pathAnnulus;return G(ue,q,Y[0],Y[1],Z)},H.pathSubplot=function(){var ue=this.innerRadius,q=this.radius;return ue?this.pathAnnulus(ue,q):this.pathSector(q)},H.fillViewInitialKey=function(ue,q){ue in this.viewInitial||(this.viewInitial[ue]=q)};function j(ue){var q=ue.ticks+String(ue.ticklen)+String(ue.showticklabels);return"side"in ue&&(q+=ue.side),q}function ee(ue){var q=ue[0],Y=ue[1],Z=Y-q,G=F(q,360),K=G+Z,oe=Math.cos(N(G)),$=Math.sin(N(G)),J=Math.cos(N(K)),se=Math.sin(N(K)),ie,ce,ye,Se;return G<=90&&K>=90||G>90&&K>=450?Se=1:$<=0&&se<=0?Se=0:Se=Math.max($,se),G<=180&&K>=180||G>180&&K>=540?ie=-1:oe>=0&&J>=0?ie=0:ie=Math.min(oe,J),G<=270&&K>=270||G>270&&K>=630?ce=-1:$>=0&&se>=0?ce=0:ce=Math.min($,se),K>=360?ye=1:oe<=0&&J<=0?ye=0:ye=Math.max(oe,J),[ie,ce,ye,Se]}function te(ue,q){var Y=function(G){return S.angleDist(ue,G)},Z=S.findIndexOfMin(q,Y);return q[Z]}function ne(ue,q,Y){return q?(ue.attr("display",null),ue.attr(Y)):ue&&ue.attr("display","none"),ue}},57696:function(U,B,e){var y=e(3400),L=e(78344),i=y.deg2rad,S=y.rad2deg;U.exports=function(a,n,u){switch(L(a,u),a._id){case"x":case"radialaxis":b(a,n);break;case"angularaxis":r(a,n);break}};function b(t,a){var n=a._subplot;t.setGeometry=function(){var u=t._rl[0],s=t._rl[1],l=n.innerRadius,m=(n.radius-l)/(s-u),h=l/m,g=u>s?function(c){return c<=0}:function(c){return c>=0};t.c2g=function(c){var o=t.c2l(c)-u;return(g(o)?o:0)+h},t.g2c=function(c){return t.l2c(c+u-h)},t.g2p=function(c){return c*m},t.c2p=function(c){return t.g2p(t.c2g(c))}}}function v(t,a){return a==="degrees"?i(t):t}function p(t,a){return a==="degrees"?S(t):t}function r(t,a){var n=t.type;if(n==="linear"){var u=t.d2c,s=t.c2d;t.d2c=function(l,m){return v(u(l),m)},t.c2d=function(l,m){return s(p(l,m))}}t.makeCalcdata=function(l,m){var h=l[m],g=l._length,c,o,d=function(E){return t.d2c(E,l.thetaunit)};if(h)for(c=new Array(g),o=0;o<g;o++)c[o]=d(h[o]);else{var w=m+"0",A="d"+m,C=w in l?d(l[w]):0,x=l[A]?d(l[A]):(t.period||2*Math.PI)/g;for(c=new Array(g),o=0;o<g;o++)c[o]=C+o*x}return c},t.setGeometry=function(){var l=a.sector,m=l.map(i),h={clockwise:-1,counterclockwise:1}[t.direction],g=i(t.rotation),c=function(M){return h*M+g},o=function(M){return(M-g)/h},d,w,A,C;switch(n){case"linear":w=d=y.identity,C=i,A=S,t.range=y.isFullCircle(m)?[l[0],l[0]+360]:m.map(o).map(S);break;case"category":var x=t._categories.length,E=t.period?Math.max(t.period,x):x;E===0&&(E=1),w=C=function(M){return M*2*Math.PI/E},d=A=function(M){return M*E/Math.PI/2},t.range=[0,E];break}t.c2g=function(M){return c(w(M))},t.g2c=function(M){return d(o(M))},t.t2g=function(M){return c(C(M))},t.g2t=function(M){return A(o(M))}}}},55012:function(U){U.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(U){function B(b){return b<0?-1:b>0?1:0}function e(b){var v=b[0],p=b[1];if(!isFinite(v)||!isFinite(p))return[1,0];var r=(v+1)*(v+1)+p*p;return[(v*v+p*p-1)/r,2*p/r]}function y(b,v){var p=v[0],r=v[1];return[p*b.radius+b.cx,-r*b.radius+b.cy]}function L(b,v){return v*b.radius}function i(b,v,p,r){var t=y(b,e([p,v])),a=t[0],n=t[1],u=y(b,e([r,v])),s=u[0],l=u[1];if(v===0)return["M"+a+","+n,"L"+s+","+l].join(" ");var m=L(b,1/Math.abs(v));return["M"+a+","+n,"A"+m+","+m+" 0 0,"+(v<0?1:0)+" "+s+","+l].join(" ")}function S(b,v,p,r){var t=L(b,1/(v+1)),a=y(b,e([v,p])),n=a[0],u=a[1],s=y(b,e([v,r])),l=s[0],m=s[1];if(B(p)!==B(r)){var h=y(b,e([v,0])),g=h[0],c=h[1];return["M"+n+","+u,"A"+t+","+t+" 0 0,"+(0<p?0:1)+" "+g+","+c,"A"+t+","+t+" 0 0,"+(r<0?0:1)+l+","+m].join(" ")}return["M"+n+","+u,"A"+t+","+t+" 0 0,"+(r<p?0:1)+" "+l+","+m].join(" ")}U.exports={smith:e,reactanceArc:i,resistanceArc:S,smithTransform:y}},47788:function(U,B,e){var y=e(84888).KY,L=e(3400).counterRegex,i=e(62400),S=e(55012),b=S.attr,v=S.name,p=L(v),r={};r[b]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var u=n._fullLayout,s=n.calcdata,l=u._subplots[v],m=0;m<l.length;m++){var h=l[m],g=y(s,v,h),c=u[h]._subplot;c||(c=i(n,h,!0),u[h]._subplot=c),c.plot(g,u,n._promises)}}function a(n,u,s,l){for(var m=l._subplots[v]||[],h=0;h<m.length;h++){var g=m[h],c=l[g]._subplot;if(!u[g]&&c){c.framework.remove();for(var o in c.clipPaths)c.clipPaths[o].remove()}}}U.exports={attr:b,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:r,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:t,clean:a,toSVG:e(57952).toSVG}},6183:function(U,B,e){var y=e(22548),L=e(94724),i=e(86968).u,S=e(3400).extendFlat,b=e(67824).overrideAll,v=b({color:L.color,showline:S({},L.showline,{dflt:!0}),linecolor:L.linecolor,linewidth:L.linewidth,showgrid:S({},L.showgrid,{dflt:!0}),gridcolor:L.gridcolor,gridwidth:L.gridwidth,griddash:L.griddash},"plot","from-root"),p=b({ticklen:L.ticklen,tickwidth:S({},L.tickwidth,{dflt:2}),tickcolor:L.tickcolor,showticklabels:L.showticklabels,labelalias:L.labelalias,showtickprefix:L.showtickprefix,tickprefix:L.tickprefix,showticksuffix:L.showticksuffix,ticksuffix:L.ticksuffix,tickfont:L.tickfont,tickformat:L.tickformat,hoverformat:L.hoverformat,layer:L.layer},"plot","from-root"),r=S({visible:S({},L.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:S({},L.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,p),t=S({visible:S({},L.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:L.ticks,editType:"calc"},v,p);U.exports={domain:i({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:y.background},realaxis:r,imaginaryaxis:t,editType:"calc"}},22836:function(U,B,e){var y=e(3400),L=e(76308),i=e(31780),S=e(168),b=e(84888).op,v=e(42568),p=e(95936),r=e(42136),t=e(78344),a=e(6183),n=e(55012),u=n.axisNames,s=m(function(h){return y.isTypedArray(h)&&(h=Array.from(h)),h.slice().reverse().map(function(g){return-g}).concat([0]).concat(h)},String);function l(h,g,c,o){var d=c("bgcolor");o.bgColor=L.combine(d,o.paper_bgcolor);var w=b(o.fullData,n.name,o.id),A=o.layoutOut,C;function x(H,j){return c(C+"."+H,j)}for(var E=0;E<u.length;E++){C=u[E],y.isPlainObject(h[C])||(h[C]={});var M=h[C],f=i.newContainer(g,C);f._id=f._name=C,f._attr=o.id+"."+C,f._traceIndices=w.map(function(H){return H._expandedIndex});var P=x("visible");if(f.type="linear",t(f,A),v(M,f,x,f.type),P){var T=C==="realaxis";if(T&&x("side"),T)x("tickvals");else{var z=s(g.realaxis.tickvals||a.realaxis.tickvals.dflt);x("tickvals",z)}y.isTypedArray(f.tickvals)&&(f.tickvals=Array.from(f.tickvals));var _,V,F,N,k=o.font||{};P&&(_=x("color"),V=_===M.color?_:k.color,F=k.size,N=k.family),p(M,f,x,f.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!T,noExp:!0,font:{color:V,size:F,family:N}}),y.coerce2(h,g,a,C+".ticklen"),y.coerce2(h,g,a,C+".tickwidth"),y.coerce2(h,g,a,C+".tickcolor",g.color);var I=x("ticks");I||(delete g[C].ticklen,delete g[C].tickwidth,delete g[C].tickcolor),r(M,f,x,{dfltColor:_,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:a[C]}),x("layer")}x("hoverformat"),delete f.type,f._input=M}}U.exports=function(g,c,o){S(g,c,o,{noUirevision:!0,type:n.name,attributes:a,handleDefaults:l,font:c.font,paper_bgcolor:c.paper_bgcolor,fullData:o,layoutOut:c})};function m(h,g){var c={};return function(o){var d=g?g(o):o;if(d in c)return c[d];var w=h(o);return c[d]=w,w}}},168:function(U,B,e){var y=e(3400),L=e(31780),i=e(86968).Q;U.exports=function(b,v,p,r){var t=r.type,a=r.attributes,n=r.handleDefaults,u=r.partition||"x",s=v._subplots[t],l=s.length,m=l&&s[0].replace(/\d+$/,""),h,g;function c(A,C){return y.coerce(h,g,a,A,C)}for(var o=0;o<l;o++){var d=s[o];b[d]?h=b[d]:h=b[d]={},g=L.newContainer(v,d,m),r.noUirevision||c("uirevision",v.uirevision);var w={};w[u]=[o/l,(o+1)/l],i(g,v,c,w),r.id=d,n(h,g,c,r)}}},21776:function(U,B,e){var y=e(26880);y.FORMAT_LINK,y.DATE_FORMAT_LINK;function L(i){var S=i.description?" "+i.description:"",b=i.keys||[];if(b.length>0){for(var v=[],p=0;p<b.length;p++)v[p]="`"+b[p]+"`";S=S+"Finally, the template string has access to ",b.length===1?S=S+"variable "+v[0]:S=S+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return S}B.Ks=function(i,S){i=i||{},S=S||{},L(S);var b={valType:"string",dflt:"",editType:i.editType||"none"};return i.arrayOk!==!1&&(b.arrayOk=!0),b},B.Gw=function(i,S){i=i||{},S=S||{},L(S);var b={valType:"string",dflt:"",editType:i.editType||"calc"};return i.arrayOk!==!1&&(b.arrayOk=!0),b},B.ye=function(i,S){i=i||{},S=S||{},i.newshape,L(S);var b={valType:"string",dflt:"",editType:i.editType||"arraydraw"};return b}},19352:function(U,B,e){var y=e(24696),L=e(84888).KY,i=e(3400).counterRegex,S="ternary";B.name=S;var b=B.attr="subplot";B.idRoot=S,B.idRegex=B.attrRegex=i(S);var v=B.attributes={};v[b]={valType:"subplotid",dflt:"ternary",editType:"calc"},B.layoutAttributes=e(86379),B.supplyLayoutDefaults=e(38536),B.plot=function(r){for(var t=r._fullLayout,a=r.calcdata,n=t._subplots[S],u=0;u<n.length;u++){var s=n[u],l=L(a,S,s),m=t[s]._subplot;m||(m=new y({id:s,graphDiv:r,container:t._ternarylayer.node()},t),t[s]._subplot=m),m.plot(l,t,r._promises)}},B.clean=function(p,r,t,a){for(var n=a._subplots[S]||[],u=0;u<n.length;u++){var s=n[u],l=a[s]._subplot;!r[s]&&l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},86379:function(U,B,e){var y=e(22548),L=e(86968).u,i=e(94724),S=e(67824).overrideAll,b=e(92880).extendFlat,v={title:{text:i.title.text,font:i.title.font},color:i.color,tickmode:i.minor.tickmode,nticks:b({},i.nticks,{dflt:6,min:1}),tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,ticklabelstep:i.ticklabelstep,showticklabels:i.showticklabels,labelalias:i.labelalias,showtickprefix:i.showtickprefix,tickprefix:i.tickprefix,showticksuffix:i.showticksuffix,ticksuffix:i.ticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,minexponent:i.minexponent,separatethousands:i.separatethousands,tickfont:i.tickfont,tickangle:i.tickangle,tickformat:i.tickformat,tickformatstops:i.tickformatstops,hoverformat:i.hoverformat,showline:b({},i.showline,{dflt:!0}),linecolor:i.linecolor,linewidth:i.linewidth,showgrid:b({},i.showgrid,{dflt:!0}),gridcolor:i.gridcolor,gridwidth:i.gridwidth,griddash:i.griddash,layer:i.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:i._deprecated.title,titlefont:i._deprecated.titlefont}},p=U.exports=S({domain:L({name:"ternary"}),bgcolor:{valType:"color",dflt:y.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");p.uirevision={valType:"any",editType:"none"},p.aaxis.uirevision=p.baxis.uirevision=p.caxis.uirevision={valType:"any",editType:"none"}},38536:function(U,B,e){var y=e(76308),L=e(31780),i=e(3400),S=e(168),b=e(95936),v=e(42568),p=e(25404),r=e(26332),t=e(42136),a=e(86379),n=["aaxis","baxis","caxis"];U.exports=function(m,h,g){S(m,h,g,{type:"ternary",attributes:a,handleDefaults:u,font:h.font,paper_bgcolor:h.paper_bgcolor})};function u(l,m,h,g){var c=h("bgcolor"),o=h("sum");g.bgColor=y.combine(c,g.paper_bgcolor);for(var d,w,A,C=0;C<n.length;C++)d=n[C],w=l[d]||{},A=L.newContainer(m,d),A._name=d,s(w,A,g,m);var x=m.aaxis,E=m.baxis,M=m.caxis;x.min+E.min+M.min>=o&&(x.min=0,E.min=0,M.min=0,l.aaxis&&delete l.aaxis.min,l.baxis&&delete l.baxis.min,l.caxis&&delete l.caxis.min)}function s(l,m,h,g){var c=a[m._name];function o(f,P){return i.coerce(l,m,c,f,P)}o("uirevision",g.uirevision),m.type="linear";var d=o("color"),w=d!==c.color.dflt?d:h.font.color,A=m._name,C=A.charAt(0).toUpperCase(),x="Component "+C,E=o("title.text",x);m._hovertitle=E===x?E:C,i.coerceFont(o,"title.font",{family:h.font.family,size:i.bigFont(h.font.size),color:w}),o("min"),r(l,m,o,"linear"),v(l,m,o,"linear"),b(l,m,o,"linear",{noAutotickangles:!0}),p(l,m,o,{outerTicks:!0});var M=o("showticklabels");M&&(i.coerceFont(o,"tickfont",{family:h.font.family,size:h.font.size,color:w}),o("tickangle"),o("tickformat")),t(l,m,o,{dfltColor:d,bgColor:h.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c}),o("hoverformat"),o("layer")}},24696:function(U,B,e){var y=e(33428),L=e(49760),i=e(24040),S=e(3400),b=S.strTranslate,v=S._,p=e(76308),r=e(43616),t=e(78344),a=e(92880).extendFlat,n=e(7316),u=e(54460),s=e(86476),l=e(93024),m=e(72760),h=m.freeMode,g=m.rectMode,c=e(81668),o=e(22676).prepSelect,d=e(22676).selectOnClick,w=e(22676).clearOutline,A=e(22676).clearSelectionsCache,C=e(33816);function x(k,I){this.id=k.id,this.graphDiv=k.graphDiv,this.init(I),this.makeFramework(I),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}U.exports=x;var E=x.prototype;E.init=function(k){this.container=k._ternarylayer,this.defs=k._defs,this.layoutId=k._uid,this.traceHash={},this.layers={}},E.plot=function(k,I){var H=this,j=I[H.id],ee=I._size;H._hasClipOnAxisFalse=!1;for(var te=0;te<k.length;te++){var ne=k[te][0].trace;if(ne.cliponaxis===!1){H._hasClipOnAxisFalse=!0;break}}H.updateLayers(j),H.adjustLayout(j,ee),n.generalUpdatePerTraceModule(H.graphDiv,H,k,j),H.layers.plotbg.select("path").call(p.fill,j.bgcolor)},E.makeFramework=function(k){var I=this,H=I.graphDiv,j=k[I.id],ee=I.clipId="clip"+I.layoutId+I.id,te=I.clipIdRelative="clip-relative"+I.layoutId+I.id;I.clipDef=S.ensureSingleById(k._clips,"clipPath",ee,function(ne){ne.append("path").attr("d","M0,0Z")}),I.clipDefRelative=S.ensureSingleById(k._clips,"clipPath",te,function(ne){ne.append("path").attr("d","M0,0Z")}),I.plotContainer=S.ensureSingle(I.container,"g",I.id),I.updateLayers(j),r.setClipUrl(I.layers.backplot,ee,H),r.setClipUrl(I.layers.grids,ee,H)},E.updateLayers=function(k){var I=this,H=I.layers,j=["draglayer","plotbg","backplot","grids"];k.aaxis.layer==="below traces"&&j.push("aaxis","aline"),k.baxis.layer==="below traces"&&j.push("baxis","bline"),k.caxis.layer==="below traces"&&j.push("caxis","cline"),j.push("frontplot"),k.aaxis.layer==="above traces"&&j.push("aaxis","aline"),k.baxis.layer==="above traces"&&j.push("baxis","bline"),k.caxis.layer==="above traces"&&j.push("caxis","cline");var ee=I.plotContainer.selectAll("g.toplevel").data(j,String),te=["agrid","bgrid","cgrid"];ee.enter().append("g").attr("class",function(ne){return"toplevel "+ne}).each(function(ne){var ue=y.select(this);H[ne]=ue,ne==="frontplot"?ue.append("g").classed("scatterlayer",!0):ne==="backplot"?ue.append("g").classed("maplayer",!0):ne==="plotbg"?ue.append("path").attr("d","M0,0Z"):ne==="aline"||ne==="bline"||ne==="cline"?ue.append("path"):ne==="grids"&&te.forEach(function(q){H[q]=ue.append("g").classed("grid "+q,!0)})}),ee.order()};var M=Math.sqrt(4/3);E.adjustLayout=function(k,I){var H=this,j=k.domain,ee=(j.x[0]+j.x[1])/2,te=(j.y[0]+j.y[1])/2,ne=j.x[1]-j.x[0],ue=j.y[1]-j.y[0],q=ne*I.w,Y=ue*I.h,Z=k.sum,G=k.aaxis.min,K=k.baxis.min,oe=k.caxis.min,$,J,se,ie,ce,ye;q>M*Y?(ie=Y,se=ie*M):(se=q,ie=se/M),ce=ne*se/q,ye=ue*ie/Y,$=I.l+I.w*ee-se/2,J=I.t+I.h*(1-te)-ie/2,H.x0=$,H.y0=J,H.w=se,H.h=ie,H.sum=Z,H.xaxis={type:"linear",range:[G+2*oe-Z,Z-G-2*K],domain:[ee-ce/2,ee+ce/2],_id:"x"},t(H.xaxis,H.graphDiv._fullLayout),H.xaxis.setScale(),H.xaxis.isPtWithinRange=function(Xe){return Xe.a>=H.aaxis.range[0]&&Xe.a<=H.aaxis.range[1]&&Xe.b>=H.baxis.range[1]&&Xe.b<=H.baxis.range[0]&&Xe.c>=H.caxis.range[1]&&Xe.c<=H.caxis.range[0]},H.yaxis={type:"linear",range:[G,Z-K-oe],domain:[te-ye/2,te+ye/2],_id:"y"},t(H.yaxis,H.graphDiv._fullLayout),H.yaxis.setScale(),H.yaxis.isPtWithinRange=function(){return!0};var Se=H.yaxis.domain[0],Te=H.aaxis=a({},k.aaxis,{range:[G,Z-K-oe],side:"left",tickangle:(+k.aaxis.tickangle||0)-30,domain:[Se,Se+ye*M],anchor:"free",position:0,_id:"y",_length:se});t(Te,H.graphDiv._fullLayout),Te.setScale();var ke=H.baxis=a({},k.baxis,{range:[Z-G-oe,K],side:"bottom",domain:H.xaxis.domain,anchor:"free",position:0,_id:"x",_length:se});t(ke,H.graphDiv._fullLayout),ke.setScale();var we=H.caxis=a({},k.caxis,{range:[Z-G-K,oe],side:"right",tickangle:(+k.caxis.tickangle||0)+30,domain:[Se,Se+ye*M],anchor:"free",position:0,_id:"y",_length:se});t(we,H.graphDiv._fullLayout),we.setScale();var Ee="M"+$+","+(J+ie)+"h"+se+"l-"+se/2+",-"+ie+"Z";H.clipDef.select("path").attr("d",Ee),H.layers.plotbg.select("path").attr("d",Ee);var xe="M0,"+ie+"h"+se+"l-"+se/2+",-"+ie+"Z";H.clipDefRelative.select("path").attr("d",xe);var De=b($,J);H.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",De),H.clipDefRelative.select("path").attr("transform",null);var Ve=b($-ke._offset,J+ie);H.layers.baxis.attr("transform",Ve),H.layers.bgrid.attr("transform",Ve);var Ue=b($+se/2,J)+"rotate(30)"+b(0,-Te._offset);H.layers.aaxis.attr("transform",Ue),H.layers.agrid.attr("transform",Ue);var Be=b($+se/2,J)+"rotate(-30)"+b(0,-we._offset);H.layers.caxis.attr("transform",Be),H.layers.cgrid.attr("transform",Be),H.drawAxes(!0),H.layers.aline.select("path").attr("d",Te.showline?"M"+$+","+(J+ie)+"l"+se/2+",-"+ie:"M0,0").call(p.stroke,Te.linecolor||"#000").style("stroke-width",(Te.linewidth||0)+"px"),H.layers.bline.select("path").attr("d",ke.showline?"M"+$+","+(J+ie)+"h"+se:"M0,0").call(p.stroke,ke.linecolor||"#000").style("stroke-width",(ke.linewidth||0)+"px"),H.layers.cline.select("path").attr("d",we.showline?"M"+($+se/2)+","+J+"l"+se/2+","+ie:"M0,0").call(p.stroke,we.linecolor||"#000").style("stroke-width",(we.linewidth||0)+"px"),H.graphDiv._context.staticPlot||H.initInteractions(),r.setClipUrl(H.layers.frontplot,H._hasClipOnAxisFalse?null:H.clipId,H.graphDiv)},E.drawAxes=function(k){var I=this,H=I.graphDiv,j=I.id.substr(7)+"title",ee=I.layers,te=I.aaxis,ne=I.baxis,ue=I.caxis;if(I.drawAx(te),I.drawAx(ne),I.drawAx(ue),k){var q=Math.max(te.showticklabels?te.tickfont.size/2:0,(ue.showticklabels?ue.tickfont.size*.75:0)+(ue.ticks==="outside"?ue.ticklen*.87:0)),Y=(ne.showticklabels?ne.tickfont.size:0)+(ne.ticks==="outside"?ne.ticklen:0)+3;ee["a-title"]=c.draw(H,"a"+j,{propContainer:te,propName:I.id+".aaxis.title",placeholder:v(H,"Click to enter Component A title"),attributes:{x:I.x0+I.w/2,y:I.y0-te.title.font.size/3-q,"text-anchor":"middle"}}),ee["b-title"]=c.draw(H,"b"+j,{propContainer:ne,propName:I.id+".baxis.title",placeholder:v(H,"Click to enter Component B title"),attributes:{x:I.x0-Y,y:I.y0+I.h+ne.title.font.size*.83+Y,"text-anchor":"middle"}}),ee["c-title"]=c.draw(H,"c"+j,{propContainer:ue,propName:I.id+".caxis.title",placeholder:v(H,"Click to enter Component C title"),attributes:{x:I.x0+I.w+Y,y:I.y0+I.h+ue.title.font.size*.83+Y,"text-anchor":"middle"}})}},E.drawAx=function(k){var I=this,H=I.graphDiv,j=k._name,ee=j.charAt(0),te=k._id,ne=I.layers[j],ue=30,q=ee+"tickLayout",Y=f(k);I[q]!==Y&&(ne.selectAll("."+te+"tick").remove(),I[q]=Y),k.setScale();var Z=u.calcTicks(k),G=u.clipEnds(k,Z),K=u.makeTransTickFn(k),oe=u.getTickSigns(k)[2],$=S.deg2rad(ue),J=oe*(k.linewidth||1)/2,se=oe*k.ticklen,ie=I.w,ce=I.h,ye=ee==="b"?"M0,"+J+"l"+Math.sin($)*se+","+Math.cos($)*se:"M"+J+",0l"+Math.cos($)*se+","+-Math.sin($)*se,Se={a:"M0,0l"+ce+",-"+ie/2,b:"M0,0l-"+ie/2+",-"+ce,c:"M0,0l-"+ce+","+ie/2}[ee];u.drawTicks(H,k,{vals:k.ticks==="inside"?G:Z,layer:ne,path:ye,transFn:K,crisp:!1}),u.drawGrid(H,k,{vals:G,layer:I.layers[ee+"grid"],path:Se,transFn:K,crisp:!1}),u.drawLabels(H,k,{vals:Z,layer:ne,transFn:K,labelFns:u.makeLabelFns(k,0,ue)})};function f(k){return k.ticks+String(k.ticklen)+String(k.showticklabels)}var P=C.MINZOOM/2+.87,T="m-0.87,.5h"+P+"v3h-"+(P+5.2)+"l"+(P/2+2.6)+",-"+(P*.87+4.5)+"l2.6,1.5l-"+P/2+","+P*.87+"Z",z="m0.87,.5h-"+P+"v3h"+(P+5.2)+"l-"+(P/2+2.6)+",-"+(P*.87+4.5)+"l-2.6,1.5l"+P/2+","+P*.87+"Z",_="m0,1l"+P/2+","+P*.87+"l2.6,-1.5l-"+(P/2+2.6)+",-"+(P*.87+4.5)+"l-"+(P/2+2.6)+","+(P*.87+4.5)+"l2.6,1.5l"+P/2+",-"+P*.87+"Z",V="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",F=!0;E.clearOutline=function(){A(this.dragOptions),w(this.dragOptions.gd)},E.initInteractions=function(){var k=this,I=k.layers.plotbg.select("path").node(),H=k.graphDiv,j=H._fullLayout._zoomlayer,ee,te;this.dragOptions={element:I,gd:H,plotinfo:{id:k.id,domain:H._fullLayout[k.id].domain,xaxis:k.xaxis,yaxis:k.yaxis},subplot:k.id,prepFn:function(Ve,Ue,Be){k.dragOptions.xaxes=[k.xaxis],k.dragOptions.yaxes=[k.yaxis],ee=H._fullLayout._invScaleX,te=H._fullLayout._invScaleY;var Xe=k.dragOptions.dragmode=H._fullLayout.dragmode;h(Xe)?k.dragOptions.minDrag=1:k.dragOptions.minDrag=void 0,Xe==="zoom"?(k.dragOptions.moveFn=ke,k.dragOptions.clickFn=ie,k.dragOptions.doneFn=we,ce(Ve,Ue,Be)):Xe==="pan"?(k.dragOptions.moveFn=xe,k.dragOptions.clickFn=ie,k.dragOptions.doneFn=De,Ee(),k.clearOutline(H)):(g(Xe)||h(Xe))&&o(Ve,Ue,Be,k.dragOptions,Xe)}};var ne,ue,q,Y,Z,G,K,oe,$,J;function se(Ve){var Ue={};return Ue[k.id+".aaxis.min"]=Ve.a,Ue[k.id+".baxis.min"]=Ve.b,Ue[k.id+".caxis.min"]=Ve.c,Ue}function ie(Ve,Ue){var Be=H._fullLayout.clickmode;N(H),Ve===2&&(H.emit("plotly_doubleclick",null),i.call("_guiRelayout",H,se({a:0,b:0,c:0}))),Be.indexOf("select")>-1&&Ve===1&&d(Ue,H,[k.xaxis],[k.yaxis],k.id,k.dragOptions),Be.indexOf("event")>-1&&l.click(H,Ue,k.id)}function ce(Ve,Ue,Be){var Xe=I.getBoundingClientRect();ne=Ue-Xe.left,ue=Be-Xe.top,H._fullLayout._calcInverseTransform(H);var ot=H._fullLayout._invTransform,ut=S.apply3DTransform(ot)(ne,ue);ne=ut[0],ue=ut[1],q={a:k.aaxis.range[0],b:k.baxis.range[1],c:k.caxis.range[1]},Z=q,Y=k.aaxis.range[1]-q.a,G=L(k.graphDiv._fullLayout[k.id].bgcolor).getLuminance(),K="M0,"+k.h+"L"+k.w/2+", 0L"+k.w+","+k.h+"Z",oe=!1,$=j.append("path").attr("class","zoombox").attr("transform",b(k.x0,k.y0)).style({fill:G>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",K),J=j.append("path").attr("class","zoombox-corners").attr("transform",b(k.x0,k.y0)).style({fill:p.background,stroke:p.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),k.clearOutline(H)}function ye(Ve,Ue){return 1-Ue/k.h}function Se(Ve,Ue){return 1-(Ve+(k.h-Ue)/Math.sqrt(3))/k.w}function Te(Ve,Ue){return(Ve-(k.h-Ue)/Math.sqrt(3))/k.w}function ke(Ve,Ue){var Be=ne+Ve*ee,Xe=ue+Ue*te,ot=Math.max(0,Math.min(1,ye(ne,ue),ye(Be,Xe))),ut=Math.max(0,Math.min(1,Se(ne,ue),Se(Be,Xe))),et=Math.max(0,Math.min(1,Te(ne,ue),Te(Be,Xe))),qe=(ot/2+et)*k.w,ft=(1-ot/2-ut)*k.w,ht=(qe+ft)/2,dt=ft-qe,mt=(1-ot)*k.h,St=mt-dt/M;dt<C.MINZOOM?(Z=q,$.attr("d",K),J.attr("d","M0,0Z")):(Z={a:q.a+ot*Y,b:q.b+ut*Y,c:q.c+et*Y},$.attr("d",K+"M"+qe+","+mt+"H"+ft+"L"+ht+","+St+"L"+qe+","+mt+"Z"),J.attr("d","M"+ne+","+ue+V+"M"+qe+","+mt+T+"M"+ft+","+mt+z+"M"+ht+","+St+_)),oe||($.transition().style("fill",G>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),J.transition().style("opacity",1).duration(200),oe=!0),H.emit("plotly_relayouting",se(Z))}function we(){N(H),Z!==q&&(i.call("_guiRelayout",H,se(Z)),F&&H.data&&H._context.showTips&&(S.notifier(v(H,"Double-click to zoom back out"),"long"),F=!1))}function Ee(){q={a:k.aaxis.range[0],b:k.baxis.range[1],c:k.caxis.range[1]},Z=q}function xe(Ve,Ue){var Be=Ve/k.xaxis._m,Xe=Ue/k.yaxis._m;Z={a:q.a-Xe,b:q.b+(Be+Xe)/2,c:q.c-(Be-Xe)/2};var ot=[Z.a,Z.b,Z.c].sort(S.sorterAsc),ut={a:ot.indexOf(Z.a),b:ot.indexOf(Z.b),c:ot.indexOf(Z.c)};ot[0]<0&&(ot[1]+ot[0]/2<0?(ot[2]+=ot[0]+ot[1],ot[0]=ot[1]=0):(ot[2]+=ot[0]/2,ot[1]+=ot[0]/2,ot[0]=0),Z={a:ot[ut.a],b:ot[ut.b],c:ot[ut.c]},Ue=(q.a-Z.a)*k.yaxis._m,Ve=(q.c-Z.c-q.b+Z.b)*k.xaxis._m);var et=b(k.x0+Ve,k.y0+Ue);k.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",et);var qe=b(-Ve,-Ue);k.clipDefRelative.select("path").attr("transform",qe),k.aaxis.range=[Z.a,k.sum-Z.b-Z.c],k.baxis.range=[k.sum-Z.a-Z.c,Z.b],k.caxis.range=[k.sum-Z.a-Z.b,Z.c],k.drawAxes(!1),k._hasClipOnAxisFalse&&k.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,k),H.emit("plotly_relayouting",se(Z))}function De(){i.call("_guiRelayout",H,se(Z))}I.onmousemove=function(Ve){l.hover(H,Ve,k.id),H._fullLayout._lasthover=I,H._fullLayout._hoversubplot=k.id},I.onmouseout=function(Ve){H._dragging||s.unhover(H,Ve)},s.init(this.dragOptions)};function N(k){y.select(k).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},24040:function(U,B,e){var y=e(24248),L=e(16628),i=e(52416),S=e(63620),b=e(52200).addStyleRule,v=e(92880),p=e(45464),r=e(64859),t=v.extendFlat,a=v.extendDeepAll;B.modules={},B.allCategories={},B.allTypes=[],B.subplotsRegistry={},B.transformsRegistry={},B.componentsRegistry={},B.layoutArrayContainers=[],B.layoutArrayRegexes=[],B.traceLayoutAttributes={},B.localeRegistry={},B.apiMethodRegistry={},B.collectableSubplotTypes=null,B.register=function(A){if(B.collectableSubplotTypes=null,A)A&&!Array.isArray(A)&&(A=[A]);else throw new Error("No argument passed to Plotly.register.");for(var C=0;C<A.length;C++){var x=A[C];if(!x)throw new Error("Invalid module was attempted to be registered!");switch(x.moduleType){case"trace":n(x);break;case"transform":l(x);break;case"component":s(x);break;case"locale":m(x);break;case"apiMethod":var E=x.name;B.apiMethodRegistry[E]=x.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},B.getModule=function(w){var A=B.modules[d(w)];return A?A._module:!1},B.traceIs=function(w,A){if(w=d(w),w==="various")return!1;var C=B.modules[w];return C||(w&&y.log("Unrecognized trace type "+w+"."),C=B.modules[p.type.dflt]),!!C.categories[A]},B.getTransformIndices=function(w,A){for(var C=[],x=w.transforms||[],E=0;E<x.length;E++)x[E].type===A&&C.push(E);return C},B.hasTransform=function(w,A){for(var C=w.transforms||[],x=0;x<C.length;x++)if(C[x].type===A)return!0;return!1},B.getComponentMethod=function(w,A){var C=B.componentsRegistry[w];return C&&C[A]||L},B.call=function(){var w=arguments[0],A=[].slice.call(arguments,1);return B.apiMethodRegistry[w].apply(null,A)};function n(w){var A=w.name,C=w.categories,x=w.meta;if(B.modules[A]){y.log("Type "+A+" already registered");return}B.subplotsRegistry[w.basePlotModule.name]||u(w.basePlotModule);for(var E={},M=0;M<C.length;M++)E[C[M]]=!0,B.allCategories[C[M]]=!0;B.modules[A]={_module:w,categories:E},x&&Object.keys(x).length&&(B.modules[A].meta=x),B.allTypes.push(A);for(var f in B.componentsRegistry)g(f,A);w.layoutAttributes&&t(B.traceLayoutAttributes,w.layoutAttributes);var P=w.basePlotModule,T=P.name;if(T==="mapbox"){var z=P.constants.styleRules;for(var _ in z)b(".js-plotly-plot .plotly .mapboxgl-"+_,z[_])}(T==="geo"||T==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function u(w){var A=w.name;if(B.subplotsRegistry[A]){y.log("Plot type "+A+" already registered.");return}h(w),B.subplotsRegistry[A]=w;for(var C in B.componentsRegistry)o(C,w.name)}function s(w){if(typeof w.name!="string")throw new Error("Component module *name* must be a string.");var A=w.name;B.componentsRegistry[A]=w,w.layoutAttributes&&(w.layoutAttributes._isLinkedToArray&&i(B.layoutArrayContainers,A),h(w));for(var C in B.modules)g(A,C);for(var x in B.subplotsRegistry)o(A,x);for(var E in B.transformsRegistry)c(A,E);w.schema&&w.schema.layout&&a(r,w.schema.layout)}function l(w){if(typeof w.name!="string")throw new Error("Transform module *name* must be a string.");var A="Transform module "+w.name,C=typeof w.transform=="function",x=typeof w.calcTransform=="function";if(!C&&!x)throw new Error(A+" is missing a *transform* or *calcTransform* method.");C&&x&&y.log([A+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),S(w.attributes)||y.log(A+" registered without an *attributes* object."),typeof w.supplyDefaults!="function"&&y.log(A+" registered without a *supplyDefaults* method."),B.transformsRegistry[w.name]=w;for(var E in B.componentsRegistry)c(E,w.name)}function m(w){var A=w.name,C=A.split("-")[0],x=w.dictionary,E=w.format,M=x&&Object.keys(x).length,f=E&&Object.keys(E).length,P=B.localeRegistry,T=P[A];if(T||(P[A]=T={}),C!==A){var z=P[C];z||(P[C]=z={}),M&&z.dictionary===T.dictionary&&(z.dictionary=x),f&&z.format===T.format&&(z.format=E)}M&&(T.dictionary=x),f&&(T.format=E)}function h(w){if(w.layoutAttributes){var A=w.layoutAttributes._arrayAttrRegexps;if(A)for(var C=0;C<A.length;C++)i(B.layoutArrayRegexes,A[C])}}function g(w,A){var C=B.componentsRegistry[w].schema;if(!(!C||!C.traces)){var x=C.traces[A];x&&a(B.modules[A]._module.attributes,x)}}function c(w,A){var C=B.componentsRegistry[w].schema;if(!(!C||!C.transforms)){var x=C.transforms[A];x&&a(B.transformsRegistry[A].attributes,x)}}function o(w,A){var C=B.componentsRegistry[w].schema;if(!(!C||!C.subplots)){var x=B.subplotsRegistry[A],E=x.layoutAttributes,M=x.attr==="subplot"?x.name:x.attr;Array.isArray(M)&&(M=M[0]);var f=C.subplots[M];E&&f&&a(E,f)}}function d(w){return typeof w=="object"&&(w=w.type),w}},91536:function(U,B,e){var y=e(24040),L=e(3400),i=L.extendFlat,S=L.extendDeep;function b(p){var r;switch(p){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function v(p){var r=["xaxis","yaxis","zaxis"];return r.indexOf(p.slice(0,5))>-1}U.exports=function(r,t){var a,n=r.data,u=r.layout,s=S([],n),l=S({},u,b(t.tileClass)),m=r._context||{};if(t.width&&(l.width=t.width),t.height&&(l.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){l.annotations=[];var h=Object.keys(l);for(a=0;a<h.length;a++)v(h[a])&&(l[h[a]].title={text:""});for(a=0;a<s.length;a++){var g=s[a];g.showscale=!1,g.marker&&(g.marker.showscale=!1),y.traceIs(g,"pie-like")&&(g.textposition="none")}}if(Array.isArray(t.annotations))for(a=0;a<t.annotations.length;a++)l.annotations.push(t.annotations[a]);var c=Object.keys(l).filter(function(C){return C.match(/^scene\d*$/)});if(c.length){var o={};for(t.tileClass==="thumbnail"&&(o={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),a=0;a<c.length;a++){var d=l[c[a]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),i(d.xaxis,o),i(d.yaxis,o),i(d.zaxis,o),d._scene=null}}var w=document.createElement("div");t.tileClass&&(w.className=t.tileClass);var A={gd:w,td:w,layout:l,data:s,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:m.mapboxAccessToken}};return t.setBackground!=="transparent"&&(A.config.setBackground=t.setBackground||"opaque"),A.gd.defaultLayout=b(t.tileClass),A}},39792:function(U,B,e){var y=e(3400),L=e(67024),i=e(48616),S=e(81792);function b(v,p){var r;return y.isPlainObject(v)||(r=y.getGraphDiv(v)),p=p||{},p.format=p.format||"png",p.width=p.width||null,p.height=p.height||null,p.imageDataOnly=!0,new Promise(function(t,a){r&&r._snapshotInProgress&&a(new Error("Snapshotting already in progress.")),y.isIE()&&p.format!=="svg"&&a(new Error(S.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var n=L(v,p),u=p.filename||v.fn||"newplot";u+="."+p.format.replace("-","."),n.then(function(s){return r&&(r._snapshotInProgress=!1),i(s,u,p.format)}).then(function(s){t(s)}).catch(function(s){r&&(r._snapshotInProgress=!1),a(s)})})}U.exports=b},48616:function(U,B,e){var y=e(3400),L=e(81792);function i(S,b,v){var p=document.createElement("a"),r="download"in p,t=new Promise(function(a,n){var u,s;if(y.isIE())return u=L.createBlob(S,"svg"),window.navigator.msSaveBlob(u,b),u=null,a(b);if(r)return u=L.createBlob(S,v),s=L.createObjectURL(u),p.href=s,p.download=b,document.body.appendChild(p),p.click(),document.body.removeChild(p),L.revokeObjectURL(s),u=null,a(b);if(y.isSafari()){var l=v==="svg"?",":";base64,";return L.octetStream(l+encodeURIComponent(S)),a(b)}n(new Error("download error"))});return t}U.exports=i},81792:function(U,B,e){var y=e(24040);B.getDelay=function(S){return S._has&&(S._has("gl3d")||S._has("gl2d")||S._has("mapbox"))?500:0},B.getRedrawFunc=function(S){return function(){y.getComponentMethod("colorbar","draw")(S)}},B.encodeSVG=function(S){return"data:image/svg+xml,"+encodeURIComponent(S)},B.encodeJSON=function(S){return"data:application/json,"+encodeURIComponent(S)};var L=window.URL||window.webkitURL;B.createObjectURL=function(S){return L.createObjectURL(S)},B.revokeObjectURL=function(S){return L.revokeObjectURL(S)},B.createBlob=function(S,b){if(b==="svg")return new window.Blob([S],{type:"image/svg+xml;charset=utf-8"});if(b==="full-json")return new window.Blob([S],{type:"application/json;charset=utf-8"});var v=i(window.atob(S));return new window.Blob([v],{type:"image/"+b})},B.octetStream=function(S){document.location.href="data:application/octet-stream"+S};function i(S){for(var b=S.length,v=new ArrayBuffer(b),p=new Uint8Array(v),r=0;r<b;r++)p[r]=S.charCodeAt(r);return v}B.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,B.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(U,B,e){var y=e(81792),L={getDelay:y.getDelay,getRedrawFunc:y.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};U.exports=L},63268:function(U,B,e){var y=e(3400),L=e(61252).EventEmitter,i=e(81792);function S(b){var v=b.emitter||new L,p=new Promise(function(r,t){var a=window.Image,n=b.svg,u=b.format||"png";if(y.isIE()&&u!=="svg"){var s=new Error(i.MSG_IE_BAD_FORMAT);return t(s),b.promise?p:v.emit("error",s)}var l=b.canvas,m=b.scale||1,h=b.width||300,g=b.height||150,c=m*h,o=m*g,d=l.getContext("2d",{willReadFrequently:!0}),w=new a,A,C;u==="svg"||y.isSafari()?C=i.encodeSVG(n):(A=i.createBlob(n,"svg"),C=i.createObjectURL(A)),l.width=c,l.height=o,w.onload=function(){var x;switch(A=null,i.revokeObjectURL(C),u!=="svg"&&d.drawImage(w,0,0,c,o),u){case"jpeg":x=l.toDataURL("image/jpeg");break;case"png":x=l.toDataURL("image/png");break;case"webp":x=l.toDataURL("image/webp");break;case"svg":x=C;break;default:var E="Image format is not jpeg, png, svg or webp.";if(t(new Error(E)),!b.promise)return v.emit("error",E)}r(x),b.promise||v.emit("success",x)},w.onerror=function(x){if(A=null,i.revokeObjectURL(C),t(x),!b.promise)return v.emit("error",x)},w.src=C});return b.promise?p:v}U.exports=S},61808:function(U,B,e){var y=e(61252).EventEmitter,L=e(24040),i=e(3400),S=e(81792),b=e(91536),v=e(37164),p=e(63268);function r(t,a){var n=new y,u=b(t,{format:"png"}),s=u.gd;s.style.position="absolute",s.style.left="-5000px",document.body.appendChild(s);function l(){var h=S.getDelay(s._fullLayout);setTimeout(function(){var g=v(s),c=document.createElement("canvas");c.id=i.randstr(),n=p({format:a.format,width:s._fullLayout.width,height:s._fullLayout.height,canvas:c,emitter:n,svg:g}),n.clean=function(){s&&document.body.removeChild(s)}},h)}var m=S.getRedrawFunc(s);return L.call("_doPlot",s,u.data,u.layout,u.config).then(m).then(l).catch(function(h){n.emit("error",h)}),n}U.exports=r},37164:function(U,B,e){var y=e(33428),L=e(3400),i=e(43616),S=e(76308),b=e(9616),v=/"/g,p="TOBESTRIPPED",r=new RegExp('("'+p+")|("+p+'")',"g");function t(n){var u=y.select("body").append("div").style({display:"none"}).html(""),s=n.replace(/(&[^;]*;)/gi,function(l){return l==="&lt;"?"&#60;":l==="&rt;"?"&#62;":l.indexOf("<")!==-1||l.indexOf(">")!==-1?"":u.html(l).text()});return u.remove(),s}function a(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}U.exports=function(u,s,l){var m=u._fullLayout,h=m._paper,g=m._toppaper,c=m.width,o=m.height,d;h.insert("rect",":first-child").call(i.setRect,0,0,c,o).call(S.fill,m.paper_bgcolor);var w=m._basePlotModules||[];for(d=0;d<w.length;d++){var A=w[d];A.toSVG&&A.toSVG(u)}if(g){var C=g.node().childNodes,x=Array.prototype.slice.call(C);for(d=0;d<x.length;d++){var E=x[d];E.childNodes.length&&h.node().appendChild(E)}}m._draggers&&m._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var f=y.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){f.remove();return}else f.style({visibility:null,display:null});var P=this.style.fontFamily;P&&P.indexOf('"')!==-1&&f.style("font-family",P.replace(v,p))}),h.selectAll(".gradient_filled,.pattern_filled").each(function(){var f=y.select(this),P=this.style.fill;P&&P.indexOf("url(")!==-1&&f.style("fill",P.replace(v,p));var T=this.style.stroke;T&&T.indexOf("url(")!==-1&&f.style("stroke",T.replace(v,p))}),(s==="pdf"||s==="eps")&&h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),h.node().setAttributeNS(b.xmlns,"xmlns",b.svg),h.node().setAttributeNS(b.xmlns,"xmlns:xlink",b.xlink),s==="svg"&&l&&(h.attr("width",l*c),h.attr("height",l*o),h.attr("viewBox","0 0 "+c+" "+o));var M=new window.XMLSerializer().serializeToString(h.node());return M=t(M),M=a(M),M=M.replace(r,"'"),L.isIE()&&(M=M.replace(/"/gi,"'"),M=M.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),M=M.replace(/(\\')/gi,'"')),M}},84664:function(U,B,e){var y=e(3400);U.exports=function(i,S){for(var b=0;b<i.length;b++)i[b].i=b;y.mergeArray(S.text,i,"tx"),y.mergeArray(S.hovertext,i,"htx");var v=S.marker;if(v){y.mergeArray(v.opacity,i,"mo",!0),y.mergeArray(v.color,i,"mc");var p=v.line;p&&(y.mergeArray(p.color,i,"mlc"),y.mergeArrayCastPositive(p.width,i,"mlw"))}}},20832:function(U,B,e){var y=e(52904),L=e(29736).axisHoverFormat,i=e(21776).Ks,S=e(21776).Gw,b=e(49084),v=e(25376),p=e(78048),r=e(98192).c,t=e(92880).extendFlat,a=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=y.marker,u=n.line,s=t({},u.width,{dflt:0}),l=t({width:s,editType:"calc"},b("marker.line")),m=t({line:l,editType:"calc"},b("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r,cornerradius:{valType:"any",editType:"calc"}});U.exports={x:y.x,x0:y.x0,dx:y.dx,y:y.y,y0:y.y0,dy:y.dy,xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),text:y.text,texttemplate:S({editType:"plot"},{keys:p.eventDataKeys}),hovertext:y.hovertext,hovertemplate:i({},{keys:p.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},a,{}),insidetextfont:t({},a,{}),outsidetextfont:t({},a,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},y.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:m,offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup,selected:{marker:{opacity:y.selected.marker.opacity,color:y.selected.marker.color,editType:"style"},textfont:y.selected.textfont,editType:"style"},unselected:{marker:{opacity:y.unselected.marker.opacity,color:y.unselected.marker.color,editType:"style"},textfont:y.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(U,B,e){var y=e(54460),L=e(1220),i=e(94288).hasColorscale,S=e(47128),b=e(84664),v=e(4500);U.exports=function(r,t){var a=y.getFromId(r,t.xaxis||"x"),n=y.getFromId(r,t.yaxis||"y"),u,s,l,m,h,g,c={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(u=a.makeCalcdata(t,"x",c),l=n.makeCalcdata(t,"y"),m=L(t,n,"y",l),h=!!t.yperiodalignment,g="y"):(u=n.makeCalcdata(t,"y",c),l=a.makeCalcdata(t,"x"),m=L(t,a,"x",l),h=!!t.xperiodalignment,g="x"),s=m.vals;for(var o=Math.min(s.length,u.length),d=new Array(o),w=0;w<o;w++)d[w]={p:s[w],s:u[w]},h&&(d[w].orig_p=l[w],d[w][g+"End"]=m.ends[w],d[w][g+"Start"]=m.starts[w]),t.ids&&(d[w].id=String(t.ids[w]));return i(t,"marker")&&S(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),i(t,"marker.line")&&S(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),b(d,t),v(d,t),d}},78048:function(U){U.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(U,B,e){var y=e(38248),L=e(3400).isArrayOrTypedArray,i=e(39032).BADNUM,S=e(24040),b=e(54460),v=e(71888).getAxisGroup,p=e(72592);function r(T,z){for(var _=z.xaxis,V=z.yaxis,F=T._fullLayout,N=T._fullData,k=T.calcdata,I=[],H=[],j=0;j<N.length;j++){var ee=N[j];if(ee.visible===!0&&S.traceIs(ee,"bar")&&ee.xaxis===_._id&&ee.yaxis===V._id&&(ee.orientation==="h"?I.push(k[j]):H.push(k[j]),ee._computePh))for(var te=T.calcdata[j],ne=0;ne<te.length;ne++)typeof te[ne].ph0=="function"&&(te[ne].ph0=te[ne].ph0()),typeof te[ne].ph1=="function"&&(te[ne].ph1=te[ne].ph1())}var ue={xCat:_.type==="category"||_.type==="multicategory",yCat:V.type==="category"||V.type==="multicategory",mode:F.barmode,norm:F.barnorm,gap:F.bargap,groupgap:F.bargroupgap};t(T,_,V,H,ue),t(T,V,_,I,ue)}function t(T,z,_,V,F){if(V.length){var N,k,I,H,j;switch(u(_,V),F.mode){case"overlay":s(z,_,V,F);break;case"group":for(N=[],k=[],I=0;I<V.length;I++)H=V[I],j=H[0].trace,j.offset===void 0?k.push(H):N.push(H);k.length&&l(T,z,_,k,F),N.length&&s(z,_,N,F);break;case"stack":case"relative":for(N=[],k=[],I=0;I<V.length;I++)H=V[I],j=H[0].trace,j.base===void 0?k.push(H):N.push(H);n(k),k.length&&m(T,z,_,k,F),N.length&&s(z,_,N,F);break}a(V),f(V,z)}}function a(T){var z,_,V,F,N,k,I;for(z=0;z<T.length;z++)_=T[z],V=_[0].trace,F=_[0].t,F.cornerradiusvalue===void 0&&(N=V.marker?V.marker.cornerradius:void 0,N!==void 0&&(k=y(N)?+N:+N.slice(0,-1),I=y(N)?"px":"%",F.cornerradiusvalue=k,F.cornerradiusform=I))}function n(T){if(!(T.length<2)){var z,_,V,F,N,k,I;for(z=0;z<T.length&&(_=T[z],V=_[0].trace,N=V.marker?V.marker.cornerradius:void 0,N===void 0);z++);if(N!==void 0)for(k=y(N)?+N:+N.slice(0,-1),I=y(N)?"px":"%",z=0;z<T.length;z++)_=T[z],F=_[0].t,F.cornerradiusvalue=k,F.cornerradiusform=I}}function u(T,z){var _,V;for(_=0;_<z.length;_++){var F=z[_],N=F[0].trace,k=N.type==="funnel"?N._base:N.base,I,H=N.orientation==="h"?N.xcalendar:N.ycalendar,j=T.type==="category"||T.type==="multicategory"?function(){return null}:T.d2c;if(L(k)){for(V=0;V<Math.min(k.length,F.length);V++)I=j(k[V],0,H),y(I)?(F[V].b=+I,F[V].hasB=1):F[V].b=0;for(;V<F.length;V++)F[V].b=0}else{I=j(k,0,H);var ee=y(I);for(I=ee?I:0,V=0;V<F.length;V++)F[V].b=I,ee&&(F[V].hasB=1)}}}function s(T,z,_,V){for(var F=0;F<_.length;F++){var N=_[F],k=new p([N],{posAxis:T,sepNegVal:!1,overlapNoMerge:!V.norm});h(T,k,V),V.norm?(C(k),E(z,k,V)):w(z,k)}}function l(T,z,_,V,F){var N=new p(V,{posAxis:z,sepNegVal:!1,overlapNoMerge:!F.norm});g(T,z,N,F),x(N,z),F.norm?(C(N),E(_,N,F)):w(_,N)}function m(T,z,_,V,F){var N=new p(V,{posAxis:z,sepNegVal:F.mode==="relative",overlapNoMerge:!(F.norm||F.mode==="stack"||F.mode==="relative")});h(z,N,F),A(_,N,F);for(var k=0;k<V.length;k++)for(var I=V[k],H=0;H<I.length;H++){var j=I[H];if(j.s!==i){var ee=j.b+j.s===N.get(j.p,j.s);ee&&(j._outmost=!0)}}F.norm&&E(_,N,F)}function h(T,z,_){for(var V=z.minDiff,F=z.traces,N=V*(1-_.gap),k=N,I=k*(1-(_.groupgap||0)),H=-I/2,j=0;j<F.length;j++){var ee=F[j],te=ee[0].t;te.barwidth=I,te.poffset=H,te.bargroupwidth=N,te.bardelta=V}z.binWidth=F[0][0].t.barwidth/100,c(z),o(T,z),d(T,z)}function g(T,z,_,V){for(var F=T._fullLayout,N=_.positions,k=_.distinctPositions,I=_.minDiff,H=_.traces,j=H.length,ee=N.length!==k.length,te=I*(1-V.gap),ne=v(F,z._id)+H[0][0].trace.orientation,ue=F._alignmentOpts[ne]||{},q=0;q<j;q++){var Y=H[q],Z=Y[0].trace,G=ue[Z.alignmentgroup]||{},K=Object.keys(G.offsetGroups||{}).length,oe;K?oe=te/K:oe=ee?te/j:te;var $=oe*(1-(V.groupgap||0)),J;K?J=((2*Z._offsetIndex+1-K)*oe-$)/2:J=ee?((2*q+1-j)*oe-$)/2:-$/2;var se=Y[0].t;se.barwidth=$,se.poffset=J,se.bargroupwidth=te,se.bardelta=I}_.binWidth=H[0][0].t.barwidth/100,c(_),o(z,_),d(z,_,ee)}function c(T){var z=T.traces,_,V;for(_=0;_<z.length;_++){var F=z[_],N=F[0],k=N.trace,I=N.t,H=k._offset||k.offset,j=I.poffset,ee;if(L(H)){for(ee=Array.prototype.slice.call(H,0,F.length),V=0;V<ee.length;V++)y(ee[V])||(ee[V]=j);for(V=ee.length;V<F.length;V++)ee.push(j);I.poffset=ee}else H!==void 0&&(I.poffset=H);var te=k._width||k.width,ne=I.barwidth;if(L(te)){var ue=Array.prototype.slice.call(te,0,F.length);for(V=0;V<ue.length;V++)y(ue[V])||(ue[V]=ne);for(V=ue.length;V<F.length;V++)ue.push(ne);if(I.barwidth=ue,H===void 0){for(ee=[],V=0;V<F.length;V++)ee.push(j+(ne-ue[V])/2);I.poffset=ee}}else te!==void 0&&(I.barwidth=te,H===void 0&&(I.poffset=j+(ne-te)/2))}}function o(T,z){for(var _=z.traces,V=P(T),F=0;F<_.length;F++)for(var N=_[F],k=N[0].t,I=k.poffset,H=L(I),j=k.barwidth,ee=L(j),te=0;te<N.length;te++){var ne=N[te],ue=ne.w=ee?j[te]:j;ne.p===void 0&&(ne.p=ne[V],ne["orig_"+V]=ne[V]);var q=(H?I[te]:I)+ue/2;ne[V]=ne.p+q}}function d(T,z,_){var V=z.traces,F=z.minDiff,N=F/2;b.minDtick(T,z.minDiff,z.distinctPositions[0],_);for(var k=0;k<V.length;k++){var I=V[k],H=I[0],j=H.trace,ee=[],te,ne,ue,q;for(q=0;q<I.length;q++)te=I[q],ne=te.p-N,ue=te.p+N,ee.push(ne,ue);if(j.width||j.offset){var Y=H.t,Z=Y.poffset,G=Y.barwidth,K=L(Z),oe=L(G);for(q=0;q<I.length;q++){te=I[q];var $=K?Z[q]:Z,J=oe?G[q]:G;ne=te.p+$,ue=ne+J,ee.push(ne,ue)}}j._extremes[T._id]=b.findExtremes(T,ee,{padded:!1})}}function w(T,z){for(var _=z.traces,V=P(T),F=0;F<_.length;F++){for(var N=_[F],k=N[0].trace,I=k.type==="scatter",H=k.orientation==="v",j=[],ee=!1,te=0;te<N.length;te++){var ne=N[te],ue=I?0:ne.b,q=I?H?ne.y:ne.x:ue+ne.s;ne[V]=q,j.push(q),ne.hasB&&j.push(ue),(!ne.hasB||!ne.b)&&(ee=!0)}k._extremes[T._id]=b.findExtremes(T,j,{tozero:ee,padded:!0})}}function A(T,z,_){var V=P(T),F=z.traces,N,k,I,H,j,ee;for(H=0;H<F.length;H++)if(N=F[H],k=N[0].trace,k.type==="funnel")for(j=0;j<N.length;j++)ee=N[j],ee.s!==i&&z.put(ee.p,-.5*ee.s);for(H=0;H<F.length;H++){N=F[H],k=N[0].trace,I=k.type==="funnel";var te=[];for(j=0;j<N.length;j++)if(ee=N[j],ee.s!==i){var ne;I?ne=ee.s:ne=ee.s+ee.b;var ue=z.put(ee.p,ne),q=ue+ne;ee.b=ue,ee[V]=q,_.norm||(te.push(q),ee.hasB&&te.push(ue))}_.norm||(k._extremes[T._id]=b.findExtremes(T,te,{tozero:!0,padded:!0}))}}function C(T){for(var z=T.traces,_=0;_<z.length;_++)for(var V=z[_],F=0;F<V.length;F++){var N=V[F];N.s!==i&&T.put(N.p,N.b+N.s)}}function x(T,z){for(var _=T.traces,V=0;V<_.length;V++){var F=_[V],N=F[0].trace;if(N.base===void 0)for(var k=new p([F],{posAxis:z,sepNegVal:!0,overlapNoMerge:!0}),I=0;I<F.length;I++){var H=F[I];if(H.p!==i){var j=k.put(H.p,H.b+H.s);j&&(H.b=j)}}}}function E(T,z,_){var V=z.traces,F=P(T),N=_.norm==="fraction"?1:100,k=N/1e9,I=T.l2c(T.c2l(0)),H=_.mode==="stack"?N:I;function j(J){return y(T.c2l(J))&&(J<I-k||J>H+k||!y(I))}for(var ee=0;ee<V.length;ee++){for(var te=V[ee],ne=te[0].trace,ue=[],q=!1,Y=!1,Z=0;Z<te.length;Z++){var G=te[Z];if(G.s!==i){var K=Math.abs(N/z.get(G.p,G.s));G.b*=K,G.s*=K;var oe=G.b,$=oe+G.s;G[F]=$,ue.push($),Y=Y||j($),G.hasB&&(ue.push(oe),Y=Y||j(oe)),(!G.hasB||!G.b)&&(q=!0)}}ne._extremes[T._id]=b.findExtremes(T,ue,{tozero:q,padded:Y})}}function M(T,z,_,V){for(var F=P(V),N=0;N<T.length;N++)for(var k=T[N],I=0;I<k.length;I++){var H=k[I],j=H[F];H._sMin=z[j],H._sMax=_[j]}}function f(T,z){var _=P(z),V={},F,N,k,I=1/0,H=-1/0;for(F=0;F<T.length;F++)for(k=T[F],N=0;N<k.length;N++){var j=k[N].p;y(j)&&(I=Math.min(I,j),H=Math.max(H,j))}var ee=1e4/(H-I),te=V.round=function(ce){return String(Math.round(ee*(ce-I)))},ne={},ue={},q=T.some(function(ce){var ye=ce[0].trace;return"marker"in ye&&ye.marker.cornerradius});for(F=0;F<T.length;F++){k=T[F],k[0].t.extents=V;var Y=k[0].t.poffset,Z=L(Y);for(N=0;N<k.length;N++){var G=k[N],K=G[_]-G.w/2;if(y(K)){var oe=G[_]+G.w/2,$=te(G.p);V[$]?V[$]=[Math.min(K,V[$][0]),Math.max(oe,V[$][1])]:V[$]=[K,oe]}if(G.p0=G.p+(Z?Y[N]:Y),G.p1=G.p0+G.w,G.s0=G.b,G.s1=G.s0+G.s,q){var J=Math.min(G.s0,G.s1)||0,se=Math.max(G.s0,G.s1)||0,ie=G[_];ne[ie]=ie in ne?Math.min(ne[ie],J):J,ue[ie]=ie in ue?Math.max(ue[ie],se):se}}}q&&M(T,ne,ue,z)}function P(T){return T._id.charAt(0)}U.exports={crossTraceCalc:r,setGroupPositions:t}},31508:function(U,B,e){var y=e(38248),L=e(3400),i=e(76308),S=e(24040),b=e(43980),v=e(31147),p=e(55592),r=e(20011),t=e(20832),a=L.coerceFont;function n(m,h,g,c){function o(x,E){return L.coerce(m,h,t,x,E)}var d=b(m,h,c,o);if(!d){h.visible=!1;return}v(m,h,c,o),o("xhoverformat"),o("yhoverformat"),o("orientation",h.x&&!h.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var w=o("textposition");l(m,h,c,o,w,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),p(m,h,o,g,c);var A=(h.marker.line||{}).color,C=S.getComponentMethod("errorbars","supplyDefaults");C(m,h,A||i.defaultLine,{axis:"y"}),C(m,h,A||i.defaultLine,{axis:"x",inherit:"y"}),L.coerceSelectionMarkerOpacity(h,o)}function u(m,h){var g,c;function o(A,C){return L.coerce(c._input,c,t,A,C)}for(var d=0;d<m.length;d++)if(c=m[d],c.type==="bar"){g=c._input;var w=o("marker.cornerradius",h.barcornerradius);c.marker&&(c.marker.cornerradius=s(w)),h.barmode==="group"&&r(g,c,h,o)}}function s(m){if(y(m)){if(m=+m,m>=0)return m}else if(typeof m=="string"&&(m=m.trim(),m.slice(-1)==="%"&&y(m.slice(0,-1))&&(m=+m.slice(0,-1),m>=0)))return m+"%"}function l(m,h,g,c,o,d){d=d||{};var w=d.moduleHasSelected!==!1,A=d.moduleHasUnselected!==!1,C=d.moduleHasConstrain!==!1,x=d.moduleHasCliponaxis!==!1,E=d.moduleHasTextangle!==!1,M=d.moduleHasInsideanchor!==!1,f=!!d.hasPathbar,P=Array.isArray(o)||o==="auto",T=P||o==="inside",z=P||o==="outside";if(T||z){var _=a(c,"textfont",g.font),V=L.extendFlat({},_),F=m.textfont&&m.textfont.color,N=!F;if(N&&delete V.color,a(c,"insidetextfont",V),f){var k=L.extendFlat({},_);N&&delete k.color,a(c,"pathbar.textfont",k)}z&&a(c,"outsidetextfont",_),w&&c("selected.textfont.color"),A&&c("unselected.textfont.color"),C&&c("constraintext"),x&&c("cliponaxis"),E&&c("textangle"),c("texttemplate")}T&&M&&c("insidetextanchor")}U.exports={supplyDefaults:n,crossTraceDefaults:u,handleText:l,validateCornerradius:s}},52160:function(U){U.exports=function(e,y,L){return e.x="xVal"in y?y.xVal:y.x,e.y="yVal"in y?y.yVal:y.y,y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),L.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},60444:function(U,B,e){var y=e(38248),L=e(49760),i=e(3400).isArrayOrTypedArray;B.coerceString=function(S,b,v){if(typeof b=="string"){if(b||!S.noBlank)return b}else if((typeof b=="number"||b===!0)&&!S.strict)return String(b);return v!==void 0?v:S.dflt},B.coerceNumber=function(S,b,v){if(y(b)){b=+b;var p=S.min,r=S.max,t=p!==void 0&&b<p||r!==void 0&&b>r;if(!t)return b}return v!==void 0?v:S.dflt},B.coerceColor=function(S,b,v){return L(b).isValid()?b:v!==void 0?v:S.dflt},B.coerceEnumerated=function(S,b,v){return S.coerceNumber&&(b=+b),S.values.indexOf(b)!==-1?b:v!==void 0?v:S.dflt},B.getValue=function(S,b){var v;return i(S)?b<S.length&&(v=S[b]):v=S,v},B.getLineWidth=function(S,b){var v=0<b.mlw?b.mlw:i(S.marker.line.width)?0:S.marker.line.width;return v}},63400:function(U,B,e){var y=e(93024),L=e(24040),i=e(76308),S=e(3400).fillText,b=e(60444).getLineWidth,v=e(54460).hoverLabelText,p=e(39032).BADNUM;function r(n,u,s,l,m){var h=t(n,u,s,l,m);if(h){var g=h.cd,c=g[0].trace,o=g[h.index];return h.color=a(c,o),L.getComponentMethod("errorbars","hoverInfo")(o,c,h),[h]}}function t(n,u,s,l,m){var h=n.cd,g=h[0].trace,c=h[0].t,o=l==="closest",d=g.type==="waterfall",w=n.maxHoverDistance,A=n.maxSpikeDistance,C,x,E,M,f,P,T;g.orientation==="h"?(C=s,x=u,E="y",M="x",f=ue,P=ee):(C=u,x=s,E="x",M="y",P=ue,f=ee);var z=g[E+"period"],_=o||z;function V(ce){return N(ce,-1)}function F(ce){return N(ce,1)}function N(ce,ye){var Se=ce.w;return ce[E]+ye*Se/2}function k(ce){return ce[E+"End"]-ce[E+"Start"]}var I=o?V:z?function(ce){return ce.p-k(ce)/2}:function(ce){return Math.min(V(ce),ce.p-c.bardelta/2)},H=o?F:z?function(ce){return ce.p+k(ce)/2}:function(ce){return Math.max(F(ce),ce.p+c.bardelta/2)};function j(ce,ye,Se){return m.finiteRange&&(Se=0),y.inbox(ce-C,ye-C,Se+Math.min(1,Math.abs(ye-ce)/T)-1)}function ee(ce){return j(I(ce),H(ce),w)}function te(ce){return j(V(ce),F(ce),A)}function ne(ce){var ye=ce[M];if(d){var Se=Math.abs(ce.rawS)||0;x>0?ye+=Se:x<0&&(ye-=Se)}return ye}function ue(ce){var ye=x,Se=ce.b,Te=ne(ce);return y.inbox(Se-ye,Te-ye,w+(Te-ye)/(Te-Se)-1)}function q(ce){var ye=x,Se=ce.b,Te=ne(ce);return y.inbox(Se-ye,Te-ye,A+(Te-ye)/(Te-Se)-1)}var Y=n[E+"a"],Z=n[M+"a"];T=Math.abs(Y.r2c(Y.range[1])-Y.r2c(Y.range[0]));function G(ce){return(f(ce)+P(ce))/2}var K=y.getDistanceFunction(l,f,P,G);if(y.getClosest(h,K,n),n.index!==!1&&h[n.index].p!==p){_||(I=function(ce){return Math.min(V(ce),ce.p-c.bargroupwidth/2)},H=function(ce){return Math.max(F(ce),ce.p+c.bargroupwidth/2)});var oe=n.index,$=h[oe],J=g.base?$.b+$.s:$.s;n[M+"0"]=n[M+"1"]=Z.c2p($[M],!0),n[M+"LabelVal"]=J;var se=c.extents[c.extents.round($.p)];n[E+"0"]=Y.c2p(o?I($):se[0],!0),n[E+"1"]=Y.c2p(o?H($):se[1],!0);var ie=$.orig_p!==void 0;return n[E+"LabelVal"]=ie?$.orig_p:$.p,n.labelLabel=v(Y,n[E+"LabelVal"],g[E+"hoverformat"]),n.valueLabel=v(Z,n[M+"LabelVal"],g[M+"hoverformat"]),n.baseLabel=v(Z,$.b,g[M+"hoverformat"]),n.spikeDistance=(q($)+te($))/2,n[E+"Spike"]=Y.c2p($.p,!0),S($,g,n),n.hovertemplate=g.hovertemplate,n}}function a(n,u){var s=u.mcc||n.marker.color,l=u.mlcc||n.marker.line.color,m=b(n,u);if(i.opacity(s))return s;if(i.opacity(l)&&m)return l}U.exports={hoverPoints:r,hoverOnBars:t,getTraceColor:a}},51132:function(U,B,e){U.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(U){U.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(U,B,e){var y=e(24040),L=e(54460),i=e(3400),S=e(39324),b=e(31508).validateCornerradius;U.exports=function(v,p,r){function t(d,w){return i.coerce(v,p,S,d,w)}for(var a=!1,n=!1,u=!1,s={},l=t("barmode"),m=0;m<r.length;m++){var h=r[m];if(y.traceIs(h,"bar")&&h.visible)a=!0;else continue;if(l==="group"){var g=h.xaxis+h.yaxis;s[g]&&(u=!0),s[g]=!0}if(h.visible&&h.type==="histogram"){var c=L.getFromId({_fullLayout:p},h[h.orientation==="v"?"xaxis":"yaxis"]);c.type!=="category"&&(n=!0)}}if(!a){delete p.barmode;return}l!=="overlay"&&t("barnorm"),t("bargap",n&&!u?0:.2),t("bargroupgap");var o=t("barcornerradius");p.barcornerradius=b(o)}},98184:function(U,B,e){var y=e(33428),L=e(38248),i=e(3400),S=e(72736),b=e(76308),v=e(43616),p=e(24040),r=e(54460).tickText,t=e(82744),a=t.recordMinTextSize,n=t.clearMinTextSize,u=e(60100),s=e(60444),l=e(78048),m=e(20832),h=m.text,g=m.textposition,c=e(10624).appendArrayPointValue,o=l.TEXTPAD;function d(ee){return ee.id}function w(ee){if(ee.ids)return d}function A(ee){return(ee>0)-(ee<0)}function C(ee,te){return ee<te?1:-1}function x(ee,te,ne,ue){var q=[],Y=[],Z=ue?te:ne,G=ue?ne:te;return q[0]=Z.c2p(ee.s0,!0),Y[0]=G.c2p(ee.p0,!0),q[1]=Z.c2p(ee.s1,!0),Y[1]=G.c2p(ee.p1,!0),ue?[q,Y]:[Y,q]}function E(ee,te,ne,ue){if(!te.uniformtext.mode&&M(ne)){var q;return ue&&(q=ue()),ee.transition().duration(ne.duration).ease(ne.easing).each("end",function(){q&&q()}).each("interrupt",function(){q&&q()})}else return ee}function M(ee){return ee&&ee.duration>0}function f(ee,te,ne,ue,q,Y){var Z=te.xaxis,G=te.yaxis,K=ee._fullLayout,oe=ee._context.staticPlot;q||(q={mode:K.barmode,norm:K.barmode,gap:K.bargap,groupgap:K.bargroupgap},n("bar",K));var $=i.makeTraceGroups(ue,ne,"trace bars").each(function(J){var se=y.select(this),ie=J[0].trace,ce=J[0].t,ye=ie.type==="waterfall",Se=ie.type==="funnel",Te=ie.type==="histogram",ke=ie.type==="bar",we=ke||Se,Ee=0;ye&&ie.connector.visible&&ie.connector.mode==="between"&&(Ee=ie.connector.line.width/2);var xe=ie.orientation==="h",De=M(q),Ve=i.ensureSingle(se,"g","points"),Ue=w(ie),Be=Ve.selectAll("g.point").data(i.identity,Ue);Be.enter().append("g").classed("point",!0),Be.exit().remove(),Be.each(function(ot,ut){var et=y.select(this),qe=x(ot,Z,G,xe),ft=qe[0][0],ht=qe[0][1],dt=qe[1][0],mt=qe[1][1],St=(xe?ht-ft:mt-dt)===0;St&&we&&s.getLineWidth(ie,ot)&&(St=!1),St||(St=!L(ft)||!L(ht)||!L(dt)||!L(mt)),ot.isBlank=St,St&&(xe?ht=ft:mt=dt),Ee&&!St&&(xe?(ft-=C(ft,ht)*Ee,ht+=C(ft,ht)*Ee):(dt-=C(dt,mt)*Ee,mt+=C(dt,mt)*Ee));var rt,Oe;if(ie.type==="waterfall"){if(!St){var Ye=ie[ot.dir].marker;rt=Ye.line.width,Oe=Ye.color}}else rt=s.getLineWidth(ie,ot),Oe=ot.mc||ie.marker.color;function Ze(at){var wt=y.round(rt/2%1,2);return q.gap===0&&q.groupgap===0?y.round(Math.round(at)-wt,2):at}function Ge(at,wt,Et){return Et&&at===wt?at:Math.abs(at-wt)>=2?Ze(at):at>wt?Math.ceil(at):Math.floor(at)}var _e=b.opacity(Oe),be=_e<1||rt>.01?Ze:Ge;ee._context.staticPlot||(ft=be(ft,ht,xe),ht=be(ht,ft,xe),dt=be(dt,mt,!xe),mt=be(mt,dt,!xe));var me=xe?Z.c2p:G.c2p,Ce;ot.s0>0?Ce=ot._sMax:ot.s0<0?Ce=ot._sMin:Ce=ot.s1>0?ot._sMax:ot._sMin;function Me(at,wt){if(!at)return 0;var Et=Math.abs(xe?mt-dt:ht-ft),Rt=Math.abs(xe?ht-ft:mt-dt),Dt=be(Math.abs(me(Ce,!0)-me(0,!0))),Ut=ot.hasB?Math.min(Et/2,Rt/2):Math.min(Et/2,Dt),Nt;if(wt==="%"){var Kt=Math.min(50,at);Nt=Et*(Kt/100)}else Nt=at;return be(Math.max(Math.min(Nt,Ut),0))}var Ne=ke||Te?Me(ce.cornerradiusvalue,ce.cornerradiusform):0,je,tt,ct="M"+ft+","+dt+"V"+mt+"H"+ht+"V"+dt+"Z",pt=0;if(Ne&&ot.s){var Xt=A(ot.s0)===0||A(ot.s)===A(ot.s0)?ot.s1:ot.s0;if(pt=be(ot.hasB?0:Math.abs(me(Ce,!0)-me(Xt,!0))),pt<Ne){var Yt=C(ft,ht),Tt=C(dt,mt),_t=Yt===-Tt?1:0;if(xe)if(ot.hasB)je="M"+(ft+Ne*Yt)+","+dt+"A "+Ne+","+Ne+" 0 0 "+_t+" "+ft+","+(dt+Ne*Tt)+"V"+(mt-Ne*Tt)+"A "+Ne+","+Ne+" 0 0 "+_t+" "+(ft+Ne*Yt)+","+mt+"H"+(ht-Ne*Yt)+"A "+Ne+","+Ne+" 0 0 "+_t+" "+ht+","+(mt-Ne*Tt)+"V"+(dt+Ne*Tt)+"A "+Ne+","+Ne+" 0 0 "+_t+" "+(ht-Ne*Yt)+","+dt+"Z";else{tt=Math.abs(ht-ft)+pt;var Qt=tt<Ne?Ne-Math.sqrt(tt*(2*Ne-tt)):0,wr=pt>0?Math.sqrt(pt*(2*Ne-pt)):0,xt=Yt>0?Math.max:Math.min;je="M"+ft+","+dt+"V"+(mt-Qt*Tt)+"H"+xt(ht-(Ne-pt)*Yt,ft)+"A "+Ne+","+Ne+" 0 0 "+_t+" "+ht+","+(mt-Ne*Tt-wr)+"V"+(dt+Ne*Tt+wr)+"A "+Ne+","+Ne+" 0 0 "+_t+" "+xt(ht-(Ne-pt)*Yt,ft)+","+(dt+Qt*Tt)+"Z"}else if(ot.hasB)je="M"+(ft+Ne*Yt)+","+dt+"A "+Ne+","+Ne+" 0 0 "+_t+" "+ft+","+(dt+Ne*Tt)+"V"+(mt-Ne*Tt)+"A "+Ne+","+Ne+" 0 0 "+_t+" "+(ft+Ne*Yt)+","+mt+"H"+(ht-Ne*Yt)+"A "+Ne+","+Ne+" 0 0 "+_t+" "+ht+","+(mt-Ne*Tt)+"V"+(dt+Ne*Tt)+"A "+Ne+","+Ne+" 0 0 "+_t+" "+(ht-Ne*Yt)+","+dt+"Z";else{tt=Math.abs(mt-dt)+pt;var jt=tt<Ne?Ne-Math.sqrt(tt*(2*Ne-tt)):0,Jt=pt>0?Math.sqrt(pt*(2*Ne-pt)):0,gr=Tt>0?Math.max:Math.min;je="M"+(ft+jt*Yt)+","+dt+"V"+gr(mt-(Ne-pt)*Tt,dt)+"A "+Ne+","+Ne+" 0 0 "+_t+" "+(ft+Ne*Yt-Jt)+","+mt+"H"+(ht-Ne*Yt+Jt)+"A "+Ne+","+Ne+" 0 0 "+_t+" "+(ht-jt*Yt)+","+gr(mt-(Ne-pt)*Tt,dt)+"V"+dt+"Z"}}else je=ct}else je=ct;var or=E(i.ensureSingle(et,"path"),K,q,Y);if(or.style("vector-effect",oe?"none":"non-scaling-stroke").attr("d",isNaN((ht-ft)*(mt-dt))||St&&ee._context.staticPlot?"M0,0Z":je).call(v.setClipUrl,te.layerClipId,ee),!K.uniformtext.mode&&De){var yt=v.makePointStyleFns(ie);v.singlePointStyle(ot,or,ie,yt,ee)}P(ee,te,et,J,ut,ft,ht,dt,mt,Ne,pt,q,Y),te.layerClipId&&v.hideOutsideRangePoint(ot,et.select("text"),Z,G,ie.xcalendar,ie.ycalendar)});var Xe=ie.cliponaxis===!1;v.setClipUrl(se,Xe?null:te.layerClipId,ee)});p.getComponentMethod("errorbars","plot")(ee,$,te,q)}function P(ee,te,ne,ue,q,Y,Z,G,K,oe,$,J,se){var ie=te.xaxis,ce=te.yaxis,ye=ee._fullLayout,Se;function Te(tt,ct,pt){var Xt=i.ensureSingle(tt,"text").text(ct).attr({class:"bartext bartext-"+Se,"text-anchor":"middle","data-notex":1}).call(v.font,pt).call(S.convertToTspans,ee);return Xt}var ke=ue[0].trace,we=ke.orientation==="h",Ee=k(ye,ue,q,ie,ce);Se=I(ke,q);var xe=J.mode==="stack"||J.mode==="relative",De=ue[q],Ve=!xe||De._outmost,Ue=De.hasB,Be=oe&&oe-$>o;if(!Ee||Se==="none"||(De.isBlank||Y===Z||G===K)&&(Se==="auto"||Se==="inside")){ne.select("text").remove();return}var Xe=ye.font,ot=u.getBarColor(ue[q],ke),ut=u.getInsideTextFont(ke,q,Xe,ot),et=u.getOutsideTextFont(ke,q,Xe),qe=ke.insidetextanchor||"end",ft=ne.datum();we?ie.type==="log"&&ft.s0<=0&&(ie.range[0]<ie.range[1]?Y=0:Y=ie._length):ce.type==="log"&&ft.s0<=0&&(ce.range[0]<ce.range[1]?G=ce._length:G=0);var ht=Math.abs(Z-Y),dt=Math.abs(K-G),mt=ht-2*o,St=dt-2*o,rt,Oe,Ye,Ze,Ge;if(Se==="outside"&&!Ve&&!De.hasB&&(Se="inside"),Se==="auto")if(Ve){Se="inside",Ge=i.ensureUniformFontSize(ee,ut),rt=Te(ne,Ee,Ge),Oe=v.bBox(rt.node()),Ye=Oe.width,Ze=Oe.height;var _e=Ye>0&&Ze>0,be;Be?Ue?be=T(mt-2*oe,St,Ye,Ze,we)||T(mt,St-2*oe,Ye,Ze,we):we?be=T(mt-(oe-$),St,Ye,Ze,we)||T(mt,St-2*(oe-$),Ye,Ze,we):be=T(mt,St-(oe-$),Ye,Ze,we)||T(mt-2*(oe-$),St,Ye,Ze,we):be=T(mt,St,Ye,Ze,we),_e&&be?Se="inside":(Se="outside",rt.remove(),rt=null)}else Se="inside";if(!rt){Ge=i.ensureUniformFontSize(ee,Se==="outside"?et:ut),rt=Te(ne,Ee,Ge);var me=rt.attr("transform");if(rt.attr("transform",""),Oe=v.bBox(rt.node()),Ye=Oe.width,Ze=Oe.height,rt.attr("transform",me),Ye<=0||Ze<=0){rt.remove();return}}var Ce=ke.textangle,Me,Ne;Se==="outside"?(Ne=ke.constraintext==="both"||ke.constraintext==="outside",Me=N(Y,Z,G,K,Oe,{isHorizontal:we,constrained:Ne,angle:Ce})):(Ne=ke.constraintext==="both"||ke.constraintext==="inside",Me=V(Y,Z,G,K,Oe,{isHorizontal:we,constrained:Ne,angle:Ce,anchor:qe,hasB:Ue,r:oe,overhead:$})),Me.fontSize=Ge.size,a(ke.type==="histogram"?"bar":ke.type,Me,ye),De.transform=Me;var je=E(rt,ye,J,se);i.setTransormAndDisplay(je,Me)}function T(ee,te,ne,ue,q){if(ee<0||te<0)return!1;var Y=ne<=ee&&ue<=te,Z=ne<=te&&ue<=ee,G=q?ee>=ne*(te/ue):te>=ue*(ee/ne);return Y||Z||G}function z(ee){return ee==="auto"?0:ee}function _(ee,te){var ne=Math.PI/180*te,ue=Math.abs(Math.sin(ne)),q=Math.abs(Math.cos(ne));return{x:ee.width*q+ee.height*ue,y:ee.width*ue+ee.height*q}}function V(ee,te,ne,ue,q,Y){var Z=!!Y.isHorizontal,G=!!Y.constrained,K=Y.angle||0,oe=Y.anchor,$=oe==="end",J=oe==="start",se=Y.leftToRight||0,ie=(se+1)/2,ce=1-ie,ye=Y.hasB,Se=Y.r,Te=Y.overhead,ke=q.width,we=q.height,Ee=Math.abs(te-ee),xe=Math.abs(ue-ne),De=Ee>2*o&&xe>2*o?o:0;Ee-=2*De,xe-=2*De;var Ve=z(K);K==="auto"&&!(ke<=Ee&&we<=xe)&&(ke>Ee||we>xe)&&(!(ke>xe||we>Ee)||ke<we!=Ee<xe)&&(Ve+=90);var Ue=_(q,Ve),Be,Xe;if(Se&&Se-Te>o){var ot=F(ee,te,ne,ue,Ue,Se,Te,Z,ye);Be=ot.scale,Xe=ot.pad}else Be=1,G&&(Be=Math.min(1,Ee/Ue.x,xe/Ue.y)),Xe=0;var ut=q.left*ce+q.right*ie,et=(q.top+q.bottom)/2,qe=(ee+o)*ce+(te-o)*ie,ft=(ne+ue)/2,ht=0,dt=0;if(J||$){var mt=(Z?Ue.x:Ue.y)/2;Se&&($||ye)&&(De+=Xe);var St=Z?C(ee,te):C(ne,ue);Z?J?(qe=ee+St*De,ht=-St*mt):(qe=te-St*De,ht=St*mt):J?(ft=ne+St*De,dt=-St*mt):(ft=ue-St*De,dt=St*mt)}return{textX:ut,textY:et,targetX:qe,targetY:ft,anchorX:ht,anchorY:dt,scale:Be,rotate:Ve}}function F(ee,te,ne,ue,q,Y,Z,G,K){var oe=Math.max(0,Math.abs(te-ee)-2*o),$=Math.max(0,Math.abs(ue-ne)-2*o),J=Y-o,se=Z?J-Math.sqrt(J*J-(J-Z)*(J-Z)):J,ie=K?J*2:G?J-Z:2*se,ce=K?J*2:G?2*se:J-Z,ye,Se,Te,ke,we;return q.y/q.x>=$/(oe-ie)?ke=$/q.y:q.y/q.x<=($-ce)/oe?ke=oe/q.x:!K&&G?(ye=q.x*q.x+q.y*q.y/4,Se=-2*q.x*(oe-J)-q.y*($/2-J),Te=(oe-J)*(oe-J)+($/2-J)*($/2-J)-J*J,ke=(-Se+Math.sqrt(Se*Se-4*ye*Te))/(2*ye)):K?(ye=(q.x*q.x+q.y*q.y)/4,Se=-q.x*(oe/2-J)-q.y*($/2-J),Te=(oe/2-J)*(oe/2-J)+($/2-J)*($/2-J)-J*J,ke=(-Se+Math.sqrt(Se*Se-4*ye*Te))/(2*ye)):(ye=q.x*q.x/4+q.y*q.y,Se=-q.x*(oe/2-J)-2*q.y*($-J),Te=(oe/2-J)*(oe/2-J)+($-J)*($-J)-J*J,ke=(-Se+Math.sqrt(Se*Se-4*ye*Te))/(2*ye)),ke=Math.min(1,ke),G?we=Math.max(0,J-Math.sqrt(Math.max(0,J*J-(J-($-q.y*ke)/2)*(J-($-q.y*ke)/2)))-Z):we=Math.max(0,J-Math.sqrt(Math.max(0,J*J-(J-(oe-q.x*ke)/2)*(J-(oe-q.x*ke)/2)))-Z),{scale:ke,pad:we}}function N(ee,te,ne,ue,q,Y){var Z=!!Y.isHorizontal,G=!!Y.constrained,K=Y.angle||0,oe=q.width,$=q.height,J=Math.abs(te-ee),se=Math.abs(ue-ne),ie;Z?ie=se>2*o?o:0:ie=J>2*o?o:0;var ce=1;G&&(ce=Z?Math.min(1,se/$):Math.min(1,J/oe));var ye=z(K),Se=_(q,ye),Te=(Z?Se.x:Se.y)/2,ke=(q.left+q.right)/2,we=(q.top+q.bottom)/2,Ee=(ee+te)/2,xe=(ne+ue)/2,De=0,Ve=0,Ue=Z?C(te,ee):C(ne,ue);return Z?(Ee=te-Ue*ie,De=Ue*Te):(xe=ue+Ue*ie,Ve=-Ue*Te),{textX:ke,textY:we,targetX:Ee,targetY:xe,anchorX:De,anchorY:Ve,scale:ce,rotate:ye}}function k(ee,te,ne,ue,q){var Y=te[0].trace,Z=Y.texttemplate,G;return Z?G=H(ee,te,ne,ue,q):Y.textinfo?G=j(te,ne,ue,q):G=s.getValue(Y.text,ne),s.coerceString(h,G)}function I(ee,te){var ne=s.getValue(ee.textposition,te);return s.coerceEnumerated(g,ne)}function H(ee,te,ne,ue,q){var Y=te[0].trace,Z=i.castOption(Y,ne,"texttemplate");if(!Z)return"";var G=Y.type==="histogram",K=Y.type==="waterfall",oe=Y.type==="funnel",$=Y.orientation==="h",J,se,ie,ce;$?(J="y",se=q,ie="x",ce=ue):(J="x",se=ue,ie="y",ce=q);function ye(De){return r(se,se.c2l(De),!0).text}function Se(De){return r(ce,ce.c2l(De),!0).text}var Te=te[ne],ke={};ke.label=Te.p,ke.labelLabel=ke[J+"Label"]=ye(Te.p);var we=i.castOption(Y,Te.i,"text");(we===0||we)&&(ke.text=we),ke.value=Te.s,ke.valueLabel=ke[ie+"Label"]=Se(Te.s);var Ee={};c(Ee,Y,Te.i),(G||Ee.x===void 0)&&(Ee.x=$?ke.value:ke.label),(G||Ee.y===void 0)&&(Ee.y=$?ke.label:ke.value),(G||Ee.xLabel===void 0)&&(Ee.xLabel=$?ke.valueLabel:ke.labelLabel),(G||Ee.yLabel===void 0)&&(Ee.yLabel=$?ke.labelLabel:ke.valueLabel),K&&(ke.delta=+Te.rawS||Te.s,ke.deltaLabel=Se(ke.delta),ke.final=Te.v,ke.finalLabel=Se(ke.final),ke.initial=ke.final-ke.delta,ke.initialLabel=Se(ke.initial)),oe&&(ke.value=Te.s,ke.valueLabel=Se(ke.value),ke.percentInitial=Te.begR,ke.percentInitialLabel=i.formatPercent(Te.begR),ke.percentPrevious=Te.difR,ke.percentPreviousLabel=i.formatPercent(Te.difR),ke.percentTotal=Te.sumR,ke.percenTotalLabel=i.formatPercent(Te.sumR));var xe=i.castOption(Y,Te.i,"customdata");return xe&&(ke.customdata=xe),i.texttemplateString(Z,ke,ee._d3locale,Ee,ke,Y._meta||{})}function j(ee,te,ne,ue){var q=ee[0].trace,Y=q.orientation==="h",Z=q.type==="waterfall",G=q.type==="funnel";function K(xe){var De=Y?ue:ne;return r(De,xe,!0).text}function oe(xe){var De=Y?ne:ue;return r(De,+xe,!0).text}var $=q.textinfo,J=ee[te],se=$.split("+"),ie=[],ce,ye=function(xe){return se.indexOf(xe)!==-1};if(ye("label")&&ie.push(K(ee[te].p)),ye("text")&&(ce=i.castOption(q,J.i,"text"),(ce===0||ce)&&ie.push(ce)),Z){var Se=+J.rawS||J.s,Te=J.v,ke=Te-Se;ye("initial")&&ie.push(oe(ke)),ye("delta")&&ie.push(oe(Se)),ye("final")&&ie.push(oe(Te))}if(G){ye("value")&&ie.push(oe(J.s));var we=0;ye("percent initial")&&we++,ye("percent previous")&&we++,ye("percent total")&&we++;var Ee=we>1;ye("percent initial")&&(ce=i.formatPercent(J.begR),Ee&&(ce+=" of initial"),ie.push(ce)),ye("percent previous")&&(ce=i.formatPercent(J.difR),Ee&&(ce+=" of previous"),ie.push(ce)),ye("percent total")&&(ce=i.formatPercent(J.sumR),Ee&&(ce+=" of total"),ie.push(ce))}return ie.join("<br>")}U.exports={plot:f,toMoveInsideBar:V}},45784:function(U){U.exports=function(y,L){var i=y.cd,S=y.xaxis,b=y.yaxis,v=i[0].trace,p=v.type==="funnel",r=v.orientation==="h",t=[],a;if(L===!1)for(a=0;a<i.length;a++)i[a].selected=0;else for(a=0;a<i.length;a++){var n=i[a],u="ct"in n?n.ct:B(n,S,b,r,p);L.contains(u,!1,a,y)?(t.push({pointNumber:a,x:S.c2d(n.x),y:b.c2d(n.y)}),n.selected=1):n.selected=0}return t};function B(e,y,L,i,S){var b=y.c2p(i?e.s0:e.p0,!0),v=y.c2p(i?e.s1:e.p1,!0),p=L.c2p(i?e.p0:e.s0,!0),r=L.c2p(i?e.p1:e.s1,!0);return S?[(b+v)/2,(p+r)/2]:i?[v,(p+r)/2]:[(b+v)/2,r]}},72592:function(U,B,e){U.exports=L;var y=e(3400).distinctVals;function L(i,S){this.traces=i,this.sepNegVal=S.sepNegVal,this.overlapNoMerge=S.overlapNoMerge;for(var b=1/0,v=S.posAxis._id.charAt(0),p=[],r=0;r<i.length;r++){for(var t=i[r],a=0;a<t.length;a++){var n=t[a],u=n.p;u===void 0&&(u=n[v]),u!==void 0&&p.push(u)}t[0]&&t[0].width1&&(b=Math.min(t[0].width1,b))}this.positions=p;var s=y(p);this.distinctPositions=s.vals,s.vals.length===1&&b!==1/0?this.minDiff=b:this.minDiff=Math.min(s.minDiff,b);var l=(S.posAxis||{}).type;(l==="category"||l==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}L.prototype.put=function(S,b){var v=this.getLabel(S,b),p=this.bins[v]||0;return this.bins[v]=p+b,p},L.prototype.get=function(S,b){var v=this.getLabel(S,b);return this.bins[v]||0},L.prototype.getLabel=function(S,b){var v=b<0&&this.sepNegVal?"v":"^",p=this.overlapNoMerge?S:Math.round(S/this.binWidth);return v+p}},60100:function(U,B,e){var y=e(33428),L=e(76308),i=e(43616),S=e(3400),b=e(24040),v=e(82744).resizeText,p=e(20832),r=p.textfont,t=p.insidetextfont,a=p.outsidetextfont,n=e(60444);function u(x){var E=y.select(x).selectAll("g.barlayer").selectAll("g.trace");v(x,E,"bar");var M=E.size(),f=x._fullLayout;E.style("opacity",function(P){return P[0].trace.opacity}).each(function(P){(f.barmode==="stack"&&M>1||f.bargap===0&&f.bargroupgap===0&&!P[0].trace.marker.line.width)&&y.select(this).attr("shape-rendering","crispEdges")}),E.selectAll("g.points").each(function(P){var T=y.select(this),z=P[0].trace;s(T,z,x)}),b.getComponentMethod("errorbars","style")(E)}function s(x,E,M){i.pointStyle(x.selectAll("path"),E,M),l(x,E,M)}function l(x,E,M){x.selectAll("text").each(function(f){var P=y.select(this),T=S.ensureUniformFontSize(M,c(P,f,E,M));i.font(P,T)})}function m(x,E,M){var f=E[0].trace;f.selectedpoints?h(M,f,x):(s(M,f,x),b.getComponentMethod("errorbars","style")(M))}function h(x,E,M){i.selectedPointStyle(x.selectAll("path"),E),g(x.selectAll("text"),E,M)}function g(x,E,M){x.each(function(f){var P=y.select(this),T;if(f.selected){T=S.ensureUniformFontSize(M,c(P,f,E,M));var z=E.selected.textfont&&E.selected.textfont.color;z&&(T.color=z),i.font(P,T)}else i.selectedTextStyle(P,E)})}function c(x,E,M,f){var P=f._fullLayout.font,T=M.textfont;if(x.classed("bartext-inside")){var z=C(E,M);T=d(M,E.i,P,z)}else x.classed("bartext-outside")&&(T=w(M,E.i,P));return T}function o(x,E,M){return A(r,x.textfont,E,M)}function d(x,E,M,f){var P=o(x,E,M),T=x._input.textfont===void 0||x._input.textfont.color===void 0||Array.isArray(x.textfont.color)&&x.textfont.color[E]===void 0;return T&&(P={color:L.contrast(f),family:P.family,size:P.size}),A(t,x.insidetextfont,E,P)}function w(x,E,M){var f=o(x,E,M);return A(a,x.outsidetextfont,E,f)}function A(x,E,M,f){E=E||{};var P=n.getValue(E.family,M),T=n.getValue(E.size,M),z=n.getValue(E.color,M);return{family:n.coerceString(x.family,P,f.family),size:n.coerceNumber(x.size,T,f.size),color:n.coerceColor(x.color,z,f.color)}}function C(x,E){return E.type==="waterfall"?E[x.dir].marker.color:x.mcc||x.mc||E.marker.color}U.exports={style:u,styleTextPoints:l,styleOnSelect:m,getInsideTextFont:d,getOutsideTextFont:w,getBarColor:C,resizeText:v}},55592:function(U,B,e){var y=e(76308),L=e(94288).hasColorscale,i=e(27260),S=e(3400).coercePattern;U.exports=function(v,p,r,t,a){var n=r("marker.color",t),u=L(v,"marker");u&&i(v,p,a,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",y.defaultLine),L(v,"marker.line")&&i(v,p,a,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),S(r,"marker.pattern",n,u),r("selected.marker.color"),r("unselected.marker.color")}},82744:function(U,B,e){var y=e(33428),L=e(3400);function i(p,r,t){var a=p._fullLayout,n=a["_"+t+"Text_minsize"];if(n){var u=a.uniformtext.mode==="hide",s;switch(t){case"funnelarea":case"pie":case"sunburst":s="g.slice";break;case"treemap":case"icicle":s="g.slice, g.pathbar";break;default:s="g.points > g.point"}r.selectAll(s).each(function(l){var m=l.transform;if(m){m.scale=u&&m.hide?0:n/m.fontSize;var h=y.select(this).select("text");L.setTransormAndDisplay(h,m)}})}}function S(p,r,t){if(t.uniformtext.mode){var a=v(p),n=t.uniformtext.minsize,u=r.scale*r.fontSize;r.hide=u<n,t[a]=t[a]||1/0,r.hide||(t[a]=Math.min(t[a],Math.max(u,n)))}}function b(p,r){var t=v(p);r[t]=void 0}function v(p){return"_"+p+"Text_minsize"}U.exports={recordMinTextSize:S,clearMinTextSize:b,resizeText:i}},78100:function(U,B,e){var y=e(21776).Ks,L=e(92880).extendFlat,i=e(8319),S=e(20832);U.exports={r:i.r,theta:i.theta,r0:i.r0,dr:i.dr,theta0:i.theta0,dtheta:i.dtheta,thetaunit:i.thetaunit,base:L({},S.base,{}),offset:L({},S.offset,{}),width:L({},S.width,{}),text:L({},S.text,{}),hovertext:L({},S.hovertext,{}),marker:b(),hoverinfo:i.hoverinfo,hovertemplate:y(),selected:S.selected,unselected:S.unselected};function b(){var v=L({},S.marker);return delete v.cornerradius,v}},47056:function(U,B,e){var y=e(94288).hasColorscale,L=e(47128),i=e(3400).isArrayOrTypedArray,S=e(84664),b=e(96376).setGroupPositions,v=e(4500),p=e(24040).traceIs,r=e(3400).extendFlat;function t(n,u){for(var s=n._fullLayout,l=u.subplot,m=s[l].radialaxis,h=s[l].angularaxis,g=m.makeCalcdata(u,"r"),c=h.makeCalcdata(u,"theta"),o=u._length,d=new Array(o),w=g,A=c,C=0;C<o;C++)d[C]={p:A[C],s:w[C]};function x(E){var M=u[E];M!==void 0&&(u["_"+E]=i(M)?h.makeCalcdata(u,E):h.d2c(M,u.thetaunit))}return h.type==="linear"&&(x("width"),x("offset")),y(u,"marker")&&L(n,u,{vals:u.marker.color,containerStr:"marker",cLetter:"c"}),y(u,"marker.line")&&L(n,u,{vals:u.marker.line.color,containerStr:"marker.line",cLetter:"c"}),S(d,u),v(d,u),d}function a(n,u,s){for(var l=n.calcdata,m=[],h=0;h<l.length;h++){var g=l[h],c=g[0].trace;c.visible===!0&&p(c,"bar")&&c.subplot===s&&m.push(g)}var o=r({},u.radialaxis,{_id:"x"}),d=u.angularaxis;b(n,d,o,m,{mode:u.barmode,norm:u.barnorm,gap:u.bargap,groupgap:u.bargroupgap})}U.exports={calc:t,crossTraceCalc:a}},70384:function(U,B,e){var y=e(3400),L=e(85968).handleRThetaDefaults,i=e(55592),S=e(78100);U.exports=function(v,p,r,t){function a(u,s){return y.coerce(v,p,S,u,s)}var n=L(v,p,t,a);if(!n){p.visible=!1;return}a("thetaunit"),a("base"),a("offset"),a("width"),a("text"),a("hovertext"),a("hovertemplate"),i(v,p,a,r,t),y.coerceSelectionMarkerOpacity(p,a)}},68896:function(U,B,e){var y=e(93024),L=e(3400),i=e(63400).getTraceColor,S=L.fillText,b=e(8504).makeHoverPointText,v=e(57384).isPtInsidePolygon;U.exports=function(r,t,a){var n=r.cd,u=n[0].trace,s=r.subplot,l=s.radialAxis,m=s.angularAxis,h=s.vangles,g=h?v:L.isPtInsideSector,c=r.maxHoverDistance,o=m._period||2*Math.PI,d=Math.abs(l.g2p(Math.sqrt(t*t+a*a))),w=Math.atan2(a,t);l.range[0]>l.range[1]&&(w+=Math.PI);var A=function(M){return g(d,w,[M.rp0,M.rp1],[M.thetag0,M.thetag1],h)?c+Math.min(1,Math.abs(M.thetag1-M.thetag0)/o)-1+(M.rp1-d)/(M.rp1-M.rp0)-1:1/0};if(y.getClosest(n,A,r),r.index!==!1){var C=r.index,x=n[C];r.x0=r.x1=x.ct[0],r.y0=r.y1=x.ct[1];var E=L.extendFlat({},x,{r:x.s,theta:x.p});return S(x,u,r),b(E,u,s,r),r.hovertemplate=u.hovertemplate,r.color=i(u,x),r.xLabelVal=r.yLabelVal=void 0,x.s<0&&(r.idealAlign="left"),[r]}}},94456:function(U,B,e){U.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(U){U.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(U,B,e){var y=e(3400),L=e(9320);U.exports=function(i,S,b){var v={},p;function r(n,u){return y.coerce(i[p]||{},S[p],L,n,u)}for(var t=0;t<b.length;t++){var a=b[t];a.type==="barpolar"&&a.visible===!0&&(p=a.subplot,v[p]||(r("barmode"),r("bargap"),v[p]=1))}}},42040:function(U,B,e){var y=e(33428),L=e(38248),i=e(3400),S=e(43616),b=e(57384);U.exports=function(r,t,a){var n=r._context.staticPlot,u=t.xaxis,s=t.yaxis,l=t.radialAxis,m=t.angularAxis,h=v(t),g=t.layers.frontplot.select("g.barlayer");i.makeTraceGroups(g,a,"trace bars").each(function(){var c=y.select(this),o=i.ensureSingle(c,"g","points"),d=o.selectAll("g.point").data(i.identity);d.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),d.exit().remove(),d.each(function(w){var A=y.select(this),C=w.rp0=l.c2p(w.s0),x=w.rp1=l.c2p(w.s1),E=w.thetag0=m.c2g(w.p0),M=w.thetag1=m.c2g(w.p1),f;if(!L(C)||!L(x)||!L(E)||!L(M)||C===x||E===M)f="M0,0Z";else{var P=l.c2g(w.s1),T=(E+M)/2;w.ct=[u.c2p(P*Math.cos(T)),s.c2p(P*Math.sin(T))],f=h(C,x,E,M)}i.ensureSingle(A,"path").attr("d",f)}),S.setClipUrl(c,t._hasClipOnAxisFalse?t.clipIds.forTraces:null,r)})};function v(p){var r=p.cxx,t=p.cyy;return p.vangles?function(a,n,u,s){var l,m;i.angleDelta(u,s)>0?(l=u,m=s):(l=s,m=u);var h=b.findEnclosingVertexAngles(l,p.vangles)[0],g=b.findEnclosingVertexAngles(m,p.vangles)[1],c=[h,(l+m)/2,g];return b.pathPolygonAnnulus(a,n,l,m,c,r,t)}:function(a,n,u,s){return i.pathAnnulus(a,n,u,s,r,t)}}},63188:function(U,B,e){var y=e(98304),L=e(52904),i=e(20832),S=e(22548),b=e(29736).axisHoverFormat,v=e(21776).Ks,p=e(92880).extendFlat,r=L.marker,t=r.line;U.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:L.xperiod,yperiod:L.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:L.xperiodalignment,yperiodalignment:L.yperiodalignment,xhoverformat:b("x"),yhoverformat:b("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:p({},r.symbol,{arrayOk:!1,editType:"plot"}),opacity:p({},r.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:p({},r.angle,{arrayOk:!1,editType:"calc"}),size:p({},r.size,{arrayOk:!1,editType:"calc"}),color:p({},r.color,{arrayOk:!1,editType:"style"}),line:{color:p({},t.color,{arrayOk:!1,dflt:S.defaultLine,editType:"style"}),width:p({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:y(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:i.offsetgroup,alignmentgroup:i.alignmentgroup,selected:{marker:L.selected.marker,editType:"style"},unselected:{marker:L.unselected.marker,editType:"style"},text:p({},L.text,{}),hovertext:p({},L.hovertext,{}),hovertemplate:v({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},62555:function(U,B,e){var y=e(38248),L=e(54460),i=e(1220),S=e(3400),b=e(39032).BADNUM,v=S._;U.exports=function(w,A){var C=w._fullLayout,x=L.getFromId(w,A.xaxis||"x"),E=L.getFromId(w,A.yaxis||"y"),M=[],f=A.type==="violin"?"_numViolins":"_numBoxes",P,T,z,_,V,F,N;A.orientation==="h"?(z=x,_="x",V=E,F="y",N=!!A.yperiodalignment):(z=E,_="y",V=x,F="x",N=!!A.xperiodalignment);var k=p(A,F,V,C[f]),I=k[0],H=k[1],j=S.distinctVals(I,V),ee=j.vals,te=j.minDiff/2,ne,ue,q,Y,Z,G,K=(A.boxpoints||A.points)==="all"?S.identity:function(St){return St.v<ne.lf||St.v>ne.uf};if(A._hasPreCompStats){var oe=A[_],$=function(St){return z.d2c((A[St]||[])[P])},J=1/0,se=-1/0;for(P=0;P<A._length;P++){var ie=I[P];if(y(ie)){if(ne={},ne.pos=ne[F]=ie,N&&H&&(ne.orig_p=H[P]),ne.q1=$("q1"),ne.med=$("median"),ne.q3=$("q3"),ue=[],oe&&S.isArrayOrTypedArray(oe[P]))for(T=0;T<oe[P].length;T++)G=z.d2c(oe[P][T]),G!==b&&(Z={v:G,i:[P,T]},n(Z,A,[P,T]),ue.push(Z));if(ne.pts=ue.sort(s),q=ne[_]=ue.map(l),Y=q.length,ne.med!==b&&ne.q1!==b&&ne.q3!==b&&ne.med>=ne.q1&&ne.q3>=ne.med){var ce=$("lowerfence");ne.lf=ce!==b&&ce<=ne.q1?ce:m(ne,q,Y);var ye=$("upperfence");ne.uf=ye!==b&&ye>=ne.q3?ye:h(ne,q,Y);var Se=$("mean");ne.mean=Se!==b?Se:Y?S.mean(q,Y):(ne.q1+ne.q3)/2;var Te=$("sd");ne.sd=Se!==b&&Te>=0?Te:Y?S.stdev(q,Y,ne.mean):ne.q3-ne.q1,ne.lo=g(ne),ne.uo=c(ne);var ke=$("notchspan");ke=ke!==b&&ke>0?ke:o(ne,Y),ne.ln=ne.med-ke,ne.un=ne.med+ke;var we=ne.lf,Ee=ne.uf;A.boxpoints&&q.length&&(we=Math.min(we,q[0]),Ee=Math.max(Ee,q[Y-1])),A.notched&&(we=Math.min(we,ne.ln),Ee=Math.max(Ee,ne.un)),ne.min=we,ne.max=Ee}else{S.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+ne.q1,"median = "+ne.med,"q3 = "+ne.q3].join(`
`));var xe;ne.med!==b?xe=ne.med:ne.q1!==b?ne.q3!==b?xe=(ne.q1+ne.q3)/2:xe=ne.q1:ne.q3!==b?xe=ne.q3:xe=0,ne.med=xe,ne.q1=ne.q3=xe,ne.lf=ne.uf=xe,ne.mean=ne.sd=xe,ne.ln=ne.un=xe,ne.min=ne.max=xe}J=Math.min(J,ne.min),se=Math.max(se,ne.max),ne.pts2=ue.filter(K),M.push(ne)}}A._extremes[z._id]=L.findExtremes(z,[J,se],{padded:!0})}else{var De=z.makeCalcdata(A,_),Ve=r(ee,te),Ue=ee.length,Be=t(Ue);for(P=0;P<A._length;P++)if(G=De[P],!!y(G)){var Xe=S.findBin(I[P],Ve);Xe>=0&&Xe<Ue&&(Z={v:G,i:P},n(Z,A,P),Be[Xe].push(Z))}var ot=1/0,ut=-1/0,et=A.quartilemethod,qe=et==="exclusive",ft=et==="inclusive";for(P=0;P<Ue;P++)if(Be[P].length>0){if(ne={},ne.pos=ne[F]=ee[P],ue=ne.pts=Be[P].sort(s),q=ne[_]=ue.map(l),Y=q.length,ne.min=q[0],ne.max=q[Y-1],ne.mean=S.mean(q,Y),ne.sd=S.stdev(q,Y,ne.mean)*A.sdmultiple,ne.med=S.interp(q,.5),Y%2&&(qe||ft)){var ht,dt;qe?(ht=q.slice(0,Y/2),dt=q.slice(Y/2+1)):ft&&(ht=q.slice(0,Y/2+1),dt=q.slice(Y/2)),ne.q1=S.interp(ht,.5),ne.q3=S.interp(dt,.5)}else ne.q1=S.interp(q,.25),ne.q3=S.interp(q,.75);ne.lf=m(ne,q,Y),ne.uf=h(ne,q,Y),ne.lo=g(ne),ne.uo=c(ne);var mt=o(ne,Y);ne.ln=ne.med-mt,ne.un=ne.med+mt,ot=Math.min(ot,ne.ln),ut=Math.max(ut,ne.un),ne.pts2=ue.filter(K),M.push(ne)}A.notched&&S.isTypedArray(De)&&(De=Array.from(De)),A._extremes[z._id]=L.findExtremes(z,A.notched?De.concat([ot,ut]):De,{padded:!0})}return u(M,A),M.length>0?(M[0].t={num:C[f],dPos:te,posLetter:F,valLetter:_,labels:{med:v(w,"median:"),min:v(w,"min:"),q1:v(w,"q1:"),q3:v(w,"q3:"),max:v(w,"max:"),mean:A.boxmean==="sd"||A.sizemode==="sd"?v(w,"mean ± σ:").replace("σ",A.sdmultiple===1?"σ":A.sdmultiple+"σ"):v(w,"mean:"),lf:v(w,"lower fence:"),uf:v(w,"upper fence:")}},C[f]++,M):[{t:{empty:!0}}]};function p(d,w,A,C){var x=w in d,E=w+"0"in d,M="d"+w in d;if(x||E&&M){var f=A.makeCalcdata(d,w),P=i(d,A,w,f).vals;return[P,f]}var T;E?T=d[w+"0"]:"name"in d&&(A.type==="category"||y(d.name)&&["linear","log"].indexOf(A.type)!==-1||S.isDateTime(d.name)&&A.type==="date")?T=d.name:T=C;for(var z=A.type==="multicategory"?A.r2c_just_indices(T):A.d2c(T,0,d[w+"calendar"]),_=d._length,V=new Array(_),F=0;F<_;F++)V[F]=z;return[V]}function r(d,w){for(var A=d.length,C=new Array(A+1),x=0;x<A;x++)C[x]=d[x]-w;return C[A]=d[A-1]+w,C}function t(d){for(var w=new Array(d),A=0;A<d;A++)w[A]=[];return w}var a={text:"tx",hovertext:"htx"};function n(d,w,A){for(var C in a)S.isArrayOrTypedArray(w[C])&&(Array.isArray(A)?S.isArrayOrTypedArray(w[C][A[0]])&&(d[a[C]]=w[C][A[0]][A[1]]):d[a[C]]=w[C][A])}function u(d,w){if(S.isArrayOrTypedArray(w.selectedpoints))for(var A=0;A<d.length;A++){for(var C=d[A].pts||[],x={},E=0;E<C.length;E++)x[C[E].i]=E;S.tagSelected(C,w,x)}}function s(d,w){return d.v-w.v}function l(d){return d.v}function m(d,w,A){return A===0?d.q1:Math.min(d.q1,w[Math.min(S.findBin(2.5*d.q1-1.5*d.q3,w,!0)+1,A-1)])}function h(d,w,A){return A===0?d.q3:Math.max(d.q3,w[Math.max(S.findBin(2.5*d.q3-1.5*d.q1,w),0)])}function g(d){return 4*d.q1-3*d.q3}function c(d){return 4*d.q3-3*d.q1}function o(d,w){return w===0?0:1.57*(d.q3-d.q1)/Math.sqrt(w)}},96404:function(U,B,e){var y=e(54460),L=e(3400),i=e(71888).getAxisGroup,S=["v","h"];function b(p,r){for(var t=p.calcdata,a=r.xaxis,n=r.yaxis,u=0;u<S.length;u++){for(var s=S[u],l=s==="h"?n:a,m=[],h=0;h<t.length;h++){var g=t[h],c=g[0].t,o=g[0].trace;o.visible===!0&&(o.type==="box"||o.type==="candlestick")&&!c.empty&&(o.orientation||"v")===s&&o.xaxis===a._id&&o.yaxis===n._id&&m.push(h)}v("box",p,m,l)}}function v(p,r,t,a){var n=r.calcdata,u=r._fullLayout,s=a._id,l=s.charAt(0),m,h,g,c=[],o=0;for(m=0;m<t.length;m++)for(g=n[t[m]],h=0;h<g.length;h++)c.push(a.c2l(g[h].pos,!0)),o+=(g[h].pts2||[]).length;if(c.length){var d=L.distinctVals(c);(a.type==="category"||a.type==="multicategory")&&(d.minDiff=1);var w=d.minDiff/2;y.minDtick(a,d.minDiff,d.vals[0],!0);var A=p==="violin"?"_numViolins":"_numBoxes",C=u[A],x=u[p+"mode"]==="group"&&C>1,E=1-u[p+"gap"],M=1-u[p+"groupgap"];for(m=0;m<t.length;m++){g=n[t[m]];var f=g[0].trace,P=g[0].t,T=f.width,z=f.side,_,V,F,N;if(T)_=V=N=T/2,F=0;else if(_=w,x){var k=i(u,a._id)+f.orientation,I=u._alignmentOpts[k]||{},H=I[f.alignmentgroup]||{},j=Object.keys(H.offsetGroups||{}).length,ee=j||C,te=j?f._offsetIndex:P.num;V=_*E*M/ee,F=2*_*(-.5+(te+.5)/ee)*E,N=_*E/ee}else V=_*E*M,F=0,N=_;P.dPos=_,P.bPos=F,P.bdPos=V,P.wHover=N;var ne,ue,q=F+V,Y,Z,G,K,oe,$,J=!!T,se=(f.boxpoints||f.points)&&o>0;if(z==="positive"?(ne=_*(T?1:.5),Y=q,ue=Y=F):z==="negative"?(ne=Y=F,ue=_*(T?1:.5),Z=q):(ne=ue=_,Y=Z=q),se){var ie=f.pointpos,ce=f.jitter,ye=f.marker.size/2,Se=0;ie+ce>=0&&(Se=q*(ie+ce),Se>ne?(J=!0,oe=ye,G=Se):Se>Y&&(oe=ye,G=ne)),Se<=ne&&(G=ne);var Te=0;ie-ce<=0&&(Te=-q*(ie-ce),Te>ue?(J=!0,$=ye,K=Te):Te>Z&&($=ye,K=ue)),Te<=ue&&(K=ue)}else G=ne,K=ue;var ke=new Array(g.length);for(h=0;h<g.length;h++)ke[h]=g[h].pos;f._extremes[s]=y.findExtremes(a,ke,{padded:J,vpadminus:K,vpadplus:G,vpadLinearized:!0,ppadminus:{x:$,y:oe}[l],ppadplus:{x:oe,y:$}[l]})}}}U.exports={crossTraceCalc:b,setPositionOffset:v}},90624:function(U,B,e){var y=e(3400),L=e(24040),i=e(76308),S=e(31147),b=e(20011),v=e(52976),p=e(63188);function r(u,s,l,m){function h(M,f){return y.coerce(u,s,p,M,f)}if(t(u,s,h,m),s.visible!==!1){S(u,s,m,h),h("xhoverformat"),h("yhoverformat");var g=s._hasPreCompStats;g&&(h("lowerfence"),h("upperfence")),h("line.color",(u.marker||{}).color||l),h("line.width"),h("fillcolor",i.addOpacity(s.line.color,.5));var c=!1;if(g){var o=h("mean"),d=h("sd");o&&o.length&&(c=!0,d&&d.length&&(c="sd"))}h("whiskerwidth");var w=h("sizemode"),A;w==="quartiles"&&(A=h("boxmean",c)),h("showwhiskers",w==="quartiles"),(w==="sd"||A==="sd")&&h("sdmultiple"),h("width"),h("quartilemethod");var C=!1;if(g){var x=h("notchspan");x&&x.length&&(C=!0)}else y.validate(u.notchwidth,p.notchwidth)&&(C=!0);var E=h("notched",C);E&&h("notchwidth"),a(u,s,h,{prefix:"box"})}}function t(u,s,l,m){function h(j){var ee=0;return j&&j.length&&(ee+=1,y.isArrayOrTypedArray(j[0])&&j[0].length&&(ee+=1)),ee}function g(j){return y.validate(u[j],p[j])}var c=l("y"),o=l("x"),d;if(s.type==="box"){var w=l("q1"),A=l("median"),C=l("q3");s._hasPreCompStats=w&&w.length&&A&&A.length&&C&&C.length,d=Math.min(y.minRowLength(w),y.minRowLength(A),y.minRowLength(C))}var x=h(c),E=h(o),M=x&&y.minRowLength(c),f=E&&y.minRowLength(o),P=m.calendar,T={autotypenumbers:m.autotypenumbers},z,_;if(s._hasPreCompStats)switch(String(E)+String(x)){case"00":var V=g("x0")||g("dx"),F=g("y0")||g("dy");F&&!V?z="h":z="v",_=d;break;case"10":z="v",_=Math.min(d,f);break;case"20":z="h",_=Math.min(d,o.length);break;case"01":z="h",_=Math.min(d,M);break;case"02":z="v",_=Math.min(d,c.length);break;case"12":z="v",_=Math.min(d,f,c.length);break;case"21":z="h",_=Math.min(d,o.length,M);break;case"11":_=0;break;case"22":var N=!1,k;for(k=0;k<o.length;k++)if(v(o[k],P,T)==="category"){N=!0;break}if(N)z="v",_=Math.min(d,f,c.length);else{for(k=0;k<c.length;k++)if(v(c[k],P,T)==="category"){N=!0;break}N?(z="h",_=Math.min(d,o.length,M)):(z="v",_=Math.min(d,f,c.length))}break}else x>0?(z="v",E>0?_=Math.min(f,M):_=Math.min(M)):E>0?(z="h",_=Math.min(f)):_=0;if(!_){s.visible=!1;return}s._length=_;var I=l("orientation",z);s._hasPreCompStats?I==="v"&&E===0?(l("x0",0),l("dx",1)):I==="h"&&x===0&&(l("y0",0),l("dy",1)):I==="v"&&E===0?l("x0"):I==="h"&&x===0&&l("y0");var H=L.getComponentMethod("calendars","handleTraceDefaults");H(u,s,["x","y"],m)}function a(u,s,l,m){var h=m.prefix,g=y.coerce2(u,s,p,"marker.outliercolor"),c=l("marker.line.outliercolor"),o="outliers";s._hasPreCompStats?o="all":(g||c)&&(o="suspectedoutliers");var d=l(h+"points",o);d?(l("jitter",d==="all"?.3:0),l("pointpos",d==="all"?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",s.line.color),l("marker.line.color"),l("marker.line.width"),d==="suspectedoutliers"&&(l("marker.line.outliercolor",s.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete s.marker;var w=l("hoveron");(w==="all"||w.indexOf("points")!==-1)&&l("hovertemplate"),y.coerceSelectionMarkerOpacity(s,l)}function n(u,s){var l,m;function h(o){return y.coerce(m._input,m,p,o)}for(var g=0;g<u.length;g++){m=u[g];var c=m.type;(c==="box"||c==="violin")&&(l=m._input,s[c+"mode"]==="group"&&b(l,m,s,h))}}U.exports={supplyDefaults:r,crossTraceDefaults:n,handleSampleDefaults:t,handlePointsDefaults:a}},10392:function(U){U.exports=function(e,y){return y.hoverOnBox&&(e.hoverOnBox=y.hoverOnBox),"xVal"in y&&(e.x=y.xVal),"yVal"in y&&(e.y=y.yVal),y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),e}},27576:function(U,B,e){var y=e(54460),L=e(3400),i=e(93024),S=e(76308),b=L.fillText;function v(t,a,n,u){var s=t.cd,l=s[0].trace,m=l.hoveron,h=[],g;return m.indexOf("boxes")!==-1&&(h=h.concat(p(t,a,n,u))),m.indexOf("points")!==-1&&(g=r(t,a,n)),u==="closest"?g?[g]:h:(g&&h.push(g),h)}function p(t,a,n,u){var s=t.cd,l=t.xa,m=t.ya,h=s[0].trace,g=s[0].t,c=h.type==="violin",o,d,w,A,C,x,E,M,f,P,T,z=g.bdPos,_,V,F=g.wHover,N=function(Te){return w.c2l(Te.pos)+g.bPos-w.c2l(x)};c&&h.side!=="both"?(h.side==="positive"&&(f=function(Te){var ke=N(Te);return i.inbox(ke,ke+F,P)},_=z,V=0),h.side==="negative"&&(f=function(Te){var ke=N(Te);return i.inbox(ke-F,ke,P)},_=0,V=z)):(f=function(Te){var ke=N(Te);return i.inbox(ke-F,ke+F,P)},_=V=z);var k;c?k=function(Te){return i.inbox(Te.span[0]-C,Te.span[1]-C,P)}:k=function(Te){return i.inbox(Te.min-C,Te.max-C,P)},h.orientation==="h"?(C=a,x=n,E=k,M=f,o="y",w=m,d="x",A=l):(C=n,x=a,E=f,M=k,o="x",w=l,d="y",A=m);var I=Math.min(1,z/Math.abs(w.r2c(w.range[1])-w.r2c(w.range[0])));P=t.maxHoverDistance-I,T=t.maxSpikeDistance-I;function H(Te){return(E(Te)+M(Te))/2}var j=i.getDistanceFunction(u,E,M,H);if(i.getClosest(s,j,t),t.index===!1)return[];var ee=s[t.index],te=h.line.color,ne=(h.marker||{}).color;S.opacity(te)&&h.line.width?t.color=te:S.opacity(ne)&&h.boxpoints?t.color=ne:t.color=h.fillcolor,t[o+"0"]=w.c2p(ee.pos+g.bPos-V,!0),t[o+"1"]=w.c2p(ee.pos+g.bPos+_,!0),t[o+"LabelVal"]=ee.orig_p!==void 0?ee.orig_p:ee.pos;var ue=o+"Spike";t.spikeDistance=H(ee)*T/P,t[ue]=w.c2p(ee.pos,!0);var q=h.boxmean||h.sizemode==="sd"||(h.meanline||{}).visible,Y=h.boxpoints||h.points,Z=Y&&q?["max","uf","q3","med","mean","q1","lf","min"]:Y&&!q?["max","uf","q3","med","q1","lf","min"]:!Y&&q?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],G=A.range[1]<A.range[0];h.orientation===(G?"v":"h")&&Z.reverse();for(var K=t.spikeDistance,oe=t[ue],$=[],J=0;J<Z.length;J++){var se=Z[J];if(se in ee){var ie=ee[se],ce=A.c2p(ie,!0),ye=L.extendFlat({},t);ye.attr=se,ye[d+"0"]=ye[d+"1"]=ce,ye[d+"LabelVal"]=ie,ye[d+"Label"]=(g.labels?g.labels[se]+" ":"")+y.hoverLabelText(A,ie,h[d+"hoverformat"]),ye.hoverOnBox=!0,se==="mean"&&"sd"in ee&&(h.boxmean==="sd"||h.sizemode==="sd")&&(ye[d+"err"]=ee.sd),ye.hovertemplate=!1,$.push(ye)}}t.name="",t.spikeDistance=void 0,t[ue]=void 0;for(var Se=0;Se<$.length;Se++)$[Se].attr!=="med"?($[Se].name="",$[Se].spikeDistance=void 0,$[Se][ue]=void 0):($[Se].spikeDistance=K,$[Se][ue]=oe);return $}function r(t,a,n){for(var u=t.cd,s=t.xa,l=t.ya,m=u[0].trace,h=s.c2p(a),g=l.c2p(n),c,o=function(k){var I=Math.max(3,k.mrc||0);return Math.max(Math.abs(s.c2p(k.x)-h)-I,1-3/I)},d=function(k){var I=Math.max(3,k.mrc||0);return Math.max(Math.abs(l.c2p(k.y)-g)-I,1-3/I)},w=i.quadrature(o,d),A=!1,C,x,E=0;E<u.length;E++){C=u[E];for(var M=0;M<(C.pts||[]).length;M++){x=C.pts[M];var f=w(x);f<=t.distance&&(t.distance=f,A=[E,M])}}if(!A)return!1;C=u[A[0]],x=C.pts[A[1]];var P=s.c2p(x.x,!0),T=l.c2p(x.y,!0),z=x.mrc||1;c=L.extendFlat({},t,{index:x.i,color:(m.marker||{}).color,name:m.name,x0:P-z,x1:P+z,y0:T-z,y1:T+z,spikeDistance:t.distance,hovertemplate:m.hovertemplate});var _=C.orig_p,V=_!==void 0?_:C.pos,F;m.orientation==="h"?(F=l,c.xLabelVal=x.x,c.yLabelVal=V):(F=s,c.xLabelVal=V,c.yLabelVal=x.y);var N=F._id.charAt(0);return c[N+"Spike"]=F.c2p(C.pos,!0),b(x,m,c),c}U.exports={hoverPoints:v,hoverOnBoxes:p,hoverOnPoints:r}},67244:function(U,B,e){U.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(U){U.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(U,B,e){var y=e(24040),L=e(3400),i=e(16560);function S(v,p,r,t,a){for(var n=a+"Layout",u=!1,s=0;s<r.length;s++){var l=r[s];if(y.traceIs(l,n)){u=!0;break}}u&&(t(a+"mode"),t(a+"gap"),t(a+"groupgap"))}function b(v,p,r){function t(a,n){return L.coerce(v,p,i,a,n)}S(v,p,r,t,"box")}U.exports={supplyLayoutDefaults:b,_supply:S}},18728:function(U,B,e){var y=e(33428),L=e(3400),i=e(43616),S=5,b=.01;function v(a,n,u,s){var l=a._context.staticPlot,m=n.xaxis,h=n.yaxis;L.makeTraceGroups(s,u,"trace boxes").each(function(g){var c=y.select(this),o=g[0],d=o.t,w=o.trace;if(d.wdPos=d.bdPos*w.whiskerwidth,w.visible!==!0||d.empty){c.remove();return}var A,C;w.orientation==="h"?(A=h,C=m):(A=m,C=h),p(c,{pos:A,val:C},w,d,l),r(c,{x:m,y:h},w,d),t(c,{pos:A,val:C},w,d)})}function p(a,n,u,s,l){var m=u.orientation==="h",h=n.val,g=n.pos,c=!!g.rangebreaks,o=s.bPos,d=s.wdPos||0,w=s.bPosPxOffset||0,A=u.whiskerwidth||0,C=u.showwhiskers!==!1,x=u.notched||!1,E=x?1-2*u.notchwidth:1,M,f;Array.isArray(s.bdPos)?(M=s.bdPos[0],f=s.bdPos[1]):(M=s.bdPos,f=s.bdPos);var P=a.selectAll("path.box").data(u.type!=="violin"||u.box.visible?L.identity:[]);P.enter().append("path").style("vector-effect",l?"none":"non-scaling-stroke").attr("class","box"),P.exit().remove(),P.each(function(T){if(T.empty)return y.select(this).attr("d","M0,0Z");var z=g.c2l(T.pos+o,!0),_=g.l2p(z-M)+w,V=g.l2p(z+f)+w,F=c?(_+V)/2:g.l2p(z)+w,N=u.whiskerwidth,k=c?_*N+(1-N)*F:g.l2p(z-d)+w,I=c?V*N+(1-N)*F:g.l2p(z+d)+w,H=g.l2p(z-M*E)+w,j=g.l2p(z+f*E)+w,ee=u.sizemode==="sd",te=h.c2p(ee?T.mean-T.sd:T.q1,!0),ne=ee?h.c2p(T.mean+T.sd,!0):h.c2p(T.q3,!0),ue=L.constrain(ee?h.c2p(T.mean,!0):h.c2p(T.med,!0),Math.min(te,ne)+1,Math.max(te,ne)-1),q=T.lf===void 0||u.boxpoints===!1||ee,Y=h.c2p(q?T.min:T.lf,!0),Z=h.c2p(q?T.max:T.uf,!0),G=h.c2p(T.ln,!0),K=h.c2p(T.un,!0);m?y.select(this).attr("d","M"+ue+","+H+"V"+j+"M"+te+","+_+"V"+V+(x?"H"+G+"L"+ue+","+j+"L"+K+","+V:"")+"H"+ne+"V"+_+(x?"H"+K+"L"+ue+","+H+"L"+G+","+_:"")+"Z"+(C?"M"+te+","+F+"H"+Y+"M"+ne+","+F+"H"+Z+(A===0?"":"M"+Y+","+k+"V"+I+"M"+Z+","+k+"V"+I):"")):y.select(this).attr("d","M"+H+","+ue+"H"+j+"M"+_+","+te+"H"+V+(x?"V"+G+"L"+j+","+ue+"L"+V+","+K:"")+"V"+ne+"H"+_+(x?"V"+K+"L"+H+","+ue+"L"+_+","+G:"")+"Z"+(C?"M"+F+","+te+"V"+Y+"M"+F+","+ne+"V"+Z+(A===0?"":"M"+k+","+Y+"H"+I+"M"+k+","+Z+"H"+I):""))})}function r(a,n,u,s){var l=n.x,m=n.y,h=s.bdPos,g=s.bPos,c=u.boxpoints||u.points;L.seedPseudoRandom();var o=function(A){return A.forEach(function(C){C.t=s,C.trace=u}),A},d=a.selectAll("g.points").data(c?o:[]);d.enter().append("g").attr("class","points"),d.exit().remove();var w=d.selectAll("path").data(function(A){var C,x=A.pts2,E=Math.max((A.max-A.min)/10,A.q3-A.q1),M=E*1e-9,f=E*b,P=[],T=0,z;if(u.jitter){if(E===0)for(T=1,P=new Array(x.length),C=0;C<x.length;C++)P[C]=1;else for(C=0;C<x.length;C++){var _=Math.max(0,C-S),V=x[_].v,F=Math.min(x.length-1,C+S),N=x[F].v;c!=="all"&&(x[C].v<A.lf?N=Math.min(N,A.lf):V=Math.max(V,A.uf));var k=Math.sqrt(f*(F-_)/(N-V+M))||0;k=L.constrain(Math.abs(k),0,1),P.push(k),T=Math.max(k,T)}z=u.jitter*2/(T||1)}for(C=0;C<x.length;C++){var I=x[C],H=I.v,j=u.jitter?z*P[C]*(L.pseudoRandom()-.5):0,ee=A.pos+g+h*(u.pointpos+j);u.orientation==="h"?(I.y=ee,I.x=H):(I.x=ee,I.y=H),c==="suspectedoutliers"&&H<A.uo&&H>A.lo&&(I.so=!0)}return x});w.enter().append("path").classed("point",!0),w.exit().remove(),w.call(i.translatePoints,l,m)}function t(a,n,u,s){var l=n.val,m=n.pos,h=!!m.rangebreaks,g=s.bPos,c=s.bPosPxOffset||0,o=u.boxmean||(u.meanline||{}).visible,d,w;Array.isArray(s.bdPos)?(d=s.bdPos[0],w=s.bdPos[1]):(d=s.bdPos,w=s.bdPos);var A=a.selectAll("path.mean").data(u.type==="box"&&u.boxmean||u.type==="violin"&&u.box.visible&&u.meanline.visible?L.identity:[]);A.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),A.exit().remove(),A.each(function(C){var x=m.c2l(C.pos+g,!0),E=m.l2p(x-d)+c,M=m.l2p(x+w)+c,f=h?(E+M)/2:m.l2p(x)+c,P=l.c2p(C.mean,!0),T=l.c2p(C.mean-C.sd,!0),z=l.c2p(C.mean+C.sd,!0);u.orientation==="h"?y.select(this).attr("d","M"+P+","+E+"V"+M+(o==="sd"?"m0,0L"+T+","+f+"L"+P+","+E+"L"+z+","+f+"Z":"")):y.select(this).attr("d","M"+E+","+P+"H"+M+(o==="sd"?"m0,0L"+f+","+T+"L"+E+","+P+"L"+f+","+z+"Z":""))})}U.exports={plot:v,plotBoxAndWhiskers:p,plotPoints:r,plotBoxMean:t}},8264:function(U){U.exports=function(e,y){var L=e.cd,i=e.xaxis,S=e.yaxis,b=[],v,p;if(y===!1)for(v=0;v<L.length;v++)for(p=0;p<(L[v].pts||[]).length;p++)L[v].pts[p].selected=0;else for(v=0;v<L.length;v++)for(p=0;p<(L[v].pts||[]).length;p++){var r=L[v].pts[p],t=i.c2p(r.x),a=S.c2p(r.y);y.contains([t,a],null,r.i,e)?(b.push({pointNumber:r.i,x:i.c2d(r.x),y:S.c2d(r.y)}),r.selected=1):r.selected=0}return b}},25776:function(U,B,e){var y=e(33428),L=e(76308),i=e(43616);function S(v,p,r){var t=r||y.select(v).selectAll("g.trace.boxes");t.style("opacity",function(a){return a[0].trace.opacity}),t.each(function(a){var n=y.select(this),u=a[0].trace,s=u.line.width;function l(g,c,o,d){g.style("stroke-width",c+"px").call(L.stroke,o).call(L.fill,d)}var m=n.selectAll("path.box");if(u.type==="candlestick")m.each(function(g){if(!g.empty){var c=y.select(this),o=u[g.dir];l(c,o.line.width,o.line.color,o.fillcolor),c.style("opacity",u.selectedpoints&&!g.selected?.3:1)}});else{l(m,s,u.line.color,u.fillcolor),n.selectAll("path.mean").style({"stroke-width":s,"stroke-dasharray":2*s+"px,"+s+"px"}).call(L.stroke,u.line.color);var h=n.selectAll("path.point");i.pointStyle(h,u,v)}})}function b(v,p,r){var t=p[0].trace,a=r.selectAll("path.point");t.selectedpoints?i.selectedPointStyle(a,t):i.pointStyle(a,t,v)}U.exports={style:S,styleOnSelect:b}},64216:function(U,B,e){var y=e(3400).extendFlat,L=e(29736).axisHoverFormat,i=e(20279),S=e(63188);function b(v){return{line:{color:y({},S.line.color,{dflt:v}),width:S.line.width,editType:"style"},fillcolor:S.fillcolor,editType:"style"}}U.exports={xperiod:i.xperiod,xperiod0:i.xperiod0,xperiodalignment:i.xperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),x:i.x,open:i.open,high:i.high,low:i.low,close:i.close,line:{width:y({},S.line.width,{}),editType:"style"},increasing:b(i.increasing.line.color.dflt),decreasing:b(i.decreasing.line.color.dflt),text:i.text,hovertext:i.hovertext,whiskerwidth:y({},S.whiskerwidth,{dflt:0}),hoverlabel:i.hoverlabel}},46283:function(U,B,e){var y=e(3400),L=e(54460),i=e(1220),S=e(42812).calcCommon;U.exports=function(v,p){var r=v._fullLayout,t=L.getFromId(v,p.xaxis),a=L.getFromId(v,p.yaxis),n=t.makeCalcdata(p,"x"),u=i(p,t,"x",n).vals,s=S(v,p,n,u,a,b);return s.length?(y.extendFlat(s[0].t,{num:r._numBoxes,dPos:y.distinctVals(u).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,s):[{t:{empty:!0}}]};function b(v,p,r,t){return{min:r,q1:Math.min(v,t),med:t,q3:Math.max(v,t),max:p}}},64588:function(U,B,e){var y=e(3400),L=e(76308),i=e(52744),S=e(31147),b=e(64216);U.exports=function(r,t,a,n){function u(l,m){return y.coerce(r,t,b,l,m)}var s=i(r,t,u,n);if(!s){t.visible=!1;return}S(r,t,n,u,{x:!0}),u("xhoverformat"),u("yhoverformat"),u("line.width"),v(r,t,u,"increasing"),v(r,t,u,"decreasing"),u("text"),u("hovertext"),u("whiskerwidth"),n._requestRangeslider[t.xaxis]=!0};function v(p,r,t,a){var n=t(a+".line.color");t(a+".line.width",r.line.width),t(a+".fillcolor",L.addOpacity(n,.5))}},61712:function(U,B,e){U.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(U,B,e){var y=e(63856),L=e(31780);U.exports=function(b,v,p,r,t){var a=r("a");a||(r("da"),r("a0"));var n=r("b");n||(r("db"),r("b0")),i(b,v,p,t)};function i(S,b,v,p){var r=["aaxis","baxis"];r.forEach(function(t){var a=t.charAt(0),n=S[t]||{},u=L.newContainer(b,t),s={noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:a+"axis",letter:a,font:b.font,name:t,data:S[a],calendar:b.calendar,dfltColor:p,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};y(n,u,s),u._categories=u._categories||[],!S[t]&&n.type!=="-"&&(S[t]={type:n.type})})}},51676:function(U,B,e){var y=e(3400).isArrayOrTypedArray;U.exports=function(i){return L(i,0)};function L(i,S){if(!y(i)||S>=10)return null;for(var b=1/0,v=-1/0,p=i.length,r=0;r<p;r++){var t=i[r];if(y(t)){var a=L(t,S+1);a&&(b=Math.min(a[0],b),v=Math.max(a[1],v))}else b=Math.min(t,b),v=Math.max(t,v)}return[b,v]}},85720:function(U,B,e){var y=e(25376),L=e(98692),i=e(22548),S=y({editType:"calc"});S.family.dflt='"Open Sans", verdana, arial, sans-serif',S.size.dflt=12,S.color.dflt=i.defaultLine,U.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:L,baxis:L,font:S,color:{valType:"color",dflt:i.defaultLine,editType:"plot"},transforms:void 0}},77712:function(U,B,e){var y=e(3400).isArrayOrTypedArray;U.exports=function(L,i,S,b){var v,p,r,t,a,n,u,s,l,m,h,g,c,o=y(S)?"a":"b",d=o==="a"?L.aaxis:L.baxis,w=d.smoothing,A=o==="a"?L.a2i:L.b2j,C=o==="a"?S:b,x=o==="a"?b:S,E=o==="a"?i.a.length:i.b.length,M=o==="a"?i.b.length:i.a.length,f=Math.floor(o==="a"?L.b2j(x):L.a2i(x)),P=o==="a"?function(te){return L.evalxy([],te,f)}:function(te){return L.evalxy([],f,te)};w&&(r=Math.max(0,Math.min(M-2,f)),t=f-r,p=o==="a"?function(te,ne){return L.dxydi([],te,r,ne,t)}:function(te,ne){return L.dxydj([],r,te,t,ne)});var T=A(C[0]),z=A(C[1]),_=T<z?1:-1,V=(z-T)*1e-8,F=_>0?Math.floor:Math.ceil,N=_>0?Math.ceil:Math.floor,k=_>0?Math.min:Math.max,I=_>0?Math.max:Math.min,H=F(T+V),j=N(z-V);u=P(T);var ee=[[u]];for(v=H;v*_<j*_;v+=_)a=[],h=I(T,v),g=k(z,v+_),c=g-h,n=Math.max(0,Math.min(E-2,Math.floor(.5*(h+g)))),s=P(g),w&&(l=p(n,h-n),m=p(n,g-n),a.push([u[0]+l[0]/3*c,u[1]+l[1]/3*c]),a.push([s[0]-m[0]/3*c,s[1]-m[1]/3*c])),a.push(s),ee.push(a),u=s;return ee}},98692:function(U,B,e){var y=e(25376),L=e(22548),i=e(94724),S=e(29736).descriptionWithDates,b=e(67824).overrideAll,v=e(98192).u,p=e(92880).extendFlat;U.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:y({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:i.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:p({},i.labelalias,{editType:"calc"}),tickfont:y({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:S("tick label")},tickformatstops:b(i.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:L.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:p({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:p({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:L.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:y({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(U,B,e){var y=e(85720),L=e(76308).addOpacity,i=e(24040),S=e(3400),b=e(26332),v=e(95936),p=e(42568),r=e(22416),t=e(78344),a=e(52976);U.exports=function(s,l,m){var h=m.letter,g=m.font||{},c=y[h+"axis"];function o(H,j){return S.coerce(s,l,c,H,j)}function d(H,j){return S.coerce2(s,l,c,H,j)}m.name&&(l._name=m.name,l._id=m.name),o("autotypenumbers",m.autotypenumbersDflt);var w=o("type");if(w==="-"&&(m.data&&n(l,m.data),l.type==="-"?l.type="linear":w=s.type=l.type),o("smoothing"),o("cheatertype"),o("showticklabels"),o("labelprefix",h+" = "),o("labelsuffix"),o("showtickprefix"),o("showticksuffix"),o("separatethousands"),o("tickformat"),o("exponentformat"),o("minexponent"),o("showexponent"),o("categoryorder"),o("tickmode"),o("tickvals"),o("ticktext"),o("tick0"),o("dtick"),l.tickmode==="array"&&(o("arraytick0"),o("arraydtick")),o("labelpadding"),l._hovertitle=h,w==="date"){var A=i.getComponentMethod("calendars","handleDefaults");A(s,l,"calendar",m.calendar)}t(l,m.fullLayout),l.c2p=S.identity;var C=o("color",m.dfltColor),x=C===s.color?C:g.color,E=o("title.text");E&&(S.coerceFont(o,"title.font",{family:g.family,size:S.bigFont(g.size),color:x}),o("title.offset")),o("tickangle");var M=o("autorange",!l.isValidRange(s.range));M&&o("rangemode"),o("range"),l.cleanRange(),o("fixedrange"),b(s,l,o,w),p(s,l,o,w,m),v(s,l,o,w,m),r(s,l,o,{data:m.data,dataAttr:h});var f=d("gridcolor",L(C,.3)),P=d("gridwidth"),T=d("griddash"),z=o("showgrid");z||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var _=d("startlinecolor",C),V=d("startlinewidth",P),F=o("startline",l.showgrid||!!_||!!V);F||(delete l.startlinecolor,delete l.startlinewidth);var N=d("endlinecolor",C),k=d("endlinewidth",P),I=o("endline",l.showgrid||!!N||!!k);return I||(delete l.endlinecolor,delete l.endlinewidth),z?(o("minorgridcount"),o("minorgridwidth",P),o("minorgriddash",T),o("minorgridcolor",L(f,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),l.showticklabels==="none"&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,o("tickmode"),l};function n(u,s){if(u.type==="-"){var l=u._id,m=l.charAt(0),h=m+"calendar",g=u[h];u.type=a(s,g,{autotypenumbers:u.autotypenumbers})}}},58744:function(U,B,e){var y=e(54460),L=e(3400).isArray1D,i=e(60776),S=e(51676),b=e(19216),v=e(14724),p=e(24944),r=e(26136),t=e(51512),a=e(2872),n=e(81e3);U.exports=function(s,l){var m=y.getFromId(s,l.xaxis),h=y.getFromId(s,l.yaxis),g=l.aaxis,c=l.baxis,o=l.x,d=l.y,w=[];o&&L(o)&&w.push("x"),d&&L(d)&&w.push("y"),w.length&&a(l,g,c,"a","b",w);var A=l._a=l._a||l.a,C=l._b=l._b||l.b;o=l._x||l.x,d=l._y||l.y;var x={};if(l._cheater){var E=g.cheatertype==="index"?A.length:A,M=c.cheatertype==="index"?C.length:C;o=i(E,M,l.cheaterslope)}l._x=o=r(o),l._y=d=r(d),t(o,A,C),t(d,A,C),n(l),l.setScale();var f=S(o),P=S(d),T=.5*(f[1]-f[0]),z=.5*(f[1]+f[0]),_=.5*(P[1]-P[0]),V=.5*(P[1]+P[0]),F=1.3;return f=[z-T*F,z+T*F],P=[V-_*F,V+_*F],l._extremes[m._id]=y.findExtremes(m,f,{padded:!0}),l._extremes[h._id]=y.findExtremes(h,P,{padded:!0}),b(l,"a","b"),b(l,"b","a"),v(l,g),v(l,c),x.clipsegments=p(l._xctrl,l._yctrl,g,c),x.x=o,x.y=d,x.a=A,x.b=C,[x]}},24944:function(U){U.exports=function(e,y,L,i){var S,b,v,p=[],r=!!L.smoothing,t=!!i.smoothing,a=e[0].length-1,n=e.length-1;for(S=0,b=[],v=[];S<=a;S++)b[S]=e[0][S],v[S]=y[0][S];for(p.push({x:b,y:v,bicubic:r}),S=0,b=[],v=[];S<=n;S++)b[S]=e[S][a],v[S]=y[S][a];for(p.push({x:b,y:v,bicubic:t}),S=a,b=[],v=[];S>=0;S--)b[a-S]=e[n][S],v[a-S]=y[n][S];for(p.push({x:b,y:v,bicubic:r}),S=n,b=[],v=[];S>=0;S--)b[n-S]=e[S][0],v[n-S]=y[S][0];return p.push({x:b,y:v,bicubic:t}),p}},19216:function(U,B,e){var y=e(54460),L=e(92880).extendFlat;U.exports=function(S,b,v){var p,r,t,a,n,u,s,l,m,h,g,c,o,d,w=S["_"+b],A=S[b+"axis"],C=A._gridlines=[],x=A._minorgridlines=[],E=A._boundarylines=[],M=S["_"+v],f=S[v+"axis"];A.tickmode==="array"&&(A.tickvals=w.slice());var P=S._xctrl,T=S._yctrl,z=P[0].length,_=P.length,V=S._a.length,F=S._b.length;y.prepTicks(A),A.tickmode==="array"&&delete A.tickvals;var N=A.smoothing?3:1;function k(H){var j,ee,te,ne,ue,q,Y,Z,G,K,oe,$,J=[],se=[],ie={};if(b==="b")for(ee=S.b2j(H),te=Math.floor(Math.max(0,Math.min(F-2,ee))),ne=ee-te,ie.length=F,ie.crossLength=V,ie.xy=function(ce){return S.evalxy([],ce,ee)},ie.dxy=function(ce,ye){return S.dxydi([],ce,te,ye,ne)},j=0;j<V;j++)q=Math.min(V-2,j),Y=j-q,Z=S.evalxy([],j,ee),f.smoothing&&j>0&&(G=S.dxydi([],j-1,te,0,ne),J.push(ue[0]+G[0]/3),se.push(ue[1]+G[1]/3),K=S.dxydi([],j-1,te,1,ne),J.push(Z[0]-K[0]/3),se.push(Z[1]-K[1]/3)),J.push(Z[0]),se.push(Z[1]),ue=Z;else for(j=S.a2i(H),q=Math.floor(Math.max(0,Math.min(V-2,j))),Y=j-q,ie.length=V,ie.crossLength=F,ie.xy=function(ce){return S.evalxy([],j,ce)},ie.dxy=function(ce,ye){return S.dxydj([],q,ce,Y,ye)},ee=0;ee<F;ee++)te=Math.min(F-2,ee),ne=ee-te,Z=S.evalxy([],j,ee),f.smoothing&&ee>0&&(oe=S.dxydj([],q,ee-1,Y,0),J.push(ue[0]+oe[0]/3),se.push(ue[1]+oe[1]/3),$=S.dxydj([],q,ee-1,Y,1),J.push(Z[0]-$[0]/3),se.push(Z[1]-$[1]/3)),J.push(Z[0]),se.push(Z[1]),ue=Z;return ie.axisLetter=b,ie.axis=A,ie.crossAxis=f,ie.value=H,ie.constvar=v,ie.index=l,ie.x=J,ie.y=se,ie.smoothing=f.smoothing,ie}function I(H){var j,ee,te,ne,ue,q=[],Y=[],Z={};if(Z.length=w.length,Z.crossLength=M.length,b==="b")for(te=Math.max(0,Math.min(F-2,H)),ue=Math.min(1,Math.max(0,H-te)),Z.xy=function(G){return S.evalxy([],G,H)},Z.dxy=function(G,K){return S.dxydi([],G,te,K,ue)},j=0;j<z;j++)q[j]=P[H*N][j],Y[j]=T[H*N][j];else for(ee=Math.max(0,Math.min(V-2,H)),ne=Math.min(1,Math.max(0,H-ee)),Z.xy=function(G){return S.evalxy([],H,G)},Z.dxy=function(G,K){return S.dxydj([],ee,G,ne,K)},j=0;j<_;j++)q[j]=P[j][H*N],Y[j]=T[j][H*N];return Z.axisLetter=b,Z.axis=A,Z.crossAxis=f,Z.value=w[H],Z.constvar=v,Z.index=H,Z.x=q,Z.y=Y,Z.smoothing=f.smoothing,Z}if(A.tickmode==="array"){for(a=5e-15,n=[Math.floor((w.length-1-A.arraytick0)/A.arraydtick*(1+a)),Math.ceil(-A.arraytick0/A.arraydtick/(1+a))].sort(function(H,j){return H-j}),u=n[0]-1,s=n[1]+1,l=u;l<s;l++)r=A.arraytick0+A.arraydtick*l,!(r<0||r>w.length-1)&&C.push(L(I(r),{color:A.gridcolor,width:A.gridwidth,dash:A.griddash}));for(l=u;l<s;l++)if(t=A.arraytick0+A.arraydtick*l,g=Math.min(t+A.arraydtick,w.length-1),!(t<0||t>w.length-1)&&!(g<0||g>w.length-1))for(c=w[t],o=w[g],p=0;p<A.minorgridcount;p++)d=g-t,!(d<=0)&&(h=c+(o-c)*(p+1)/(A.minorgridcount+1)*(A.arraydtick/d),!(h<w[0]||h>w[w.length-1])&&x.push(L(k(h),{color:A.minorgridcolor,width:A.minorgridwidth,dash:A.minorgriddash})));A.startline&&E.push(L(I(0),{color:A.startlinecolor,width:A.startlinewidth})),A.endline&&E.push(L(I(w.length-1),{color:A.endlinecolor,width:A.endlinewidth}))}else{for(a=5e-15,n=[Math.floor((w[w.length-1]-A.tick0)/A.dtick*(1+a)),Math.ceil((w[0]-A.tick0)/A.dtick/(1+a))].sort(function(H,j){return H-j}),u=n[0],s=n[1],l=u;l<=s;l++)m=A.tick0+A.dtick*l,C.push(L(k(m),{color:A.gridcolor,width:A.gridwidth,dash:A.griddash}));for(l=u-1;l<s+1;l++)for(m=A.tick0+A.dtick*l,p=0;p<A.minorgridcount;p++)h=m+A.dtick*(p+1)/(A.minorgridcount+1),!(h<w[0]||h>w[w.length-1])&&x.push(L(k(h),{color:A.minorgridcolor,width:A.minorgridwidth,dash:A.minorgriddash}));A.startline&&E.push(L(k(w[0]),{color:A.startlinecolor,width:A.startlinewidth})),A.endline&&E.push(L(k(w[w.length-1]),{color:A.endlinecolor,width:A.endlinewidth}))}}},14724:function(U,B,e){var y=e(54460),L=e(92880).extendFlat;U.exports=function(S,b){var v,p,r,t,a,n=b._labels=[],u=b._gridlines;for(v=0;v<u.length;v++)a=u[v],["start","both"].indexOf(b.showticklabels)!==-1&&(p=y.tickText(b,a.value),L(p,{prefix:r,suffix:t,endAnchor:!0,xy:a.xy(0),dxy:a.dxy(0,0),axis:a.axis,length:a.crossAxis.length,font:a.axis.tickfont,isFirst:v===0,isLast:v===u.length-1}),n.push(p)),["end","both"].indexOf(b.showticklabels)!==-1&&(p=y.tickText(b,a.value),L(p,{endAnchor:!1,xy:a.xy(a.crossLength-1),dxy:a.dxy(a.crossLength-2,1),axis:a.axis,length:a.crossAxis.length,font:a.axis.tickfont,isFirst:v===0,isLast:v===u.length-1}),n.push(p))}},62284:function(U){var B=.5;U.exports=function(y,L,i,S){var b=y[0]-L[0],v=y[1]-L[1],p=i[0]-L[0],r=i[1]-L[1],t=Math.pow(b*b+v*v,B/2),a=Math.pow(p*p+r*r,B/2),n=(a*a*b-t*t*p)*S,u=(a*a*v-t*t*r)*S,s=a*(t+a)*3,l=t*(t+a)*3;return[[L[0]+(s&&n/s),L[1]+(s&&u/s)],[L[0]-(l&&n/l),L[1]-(l&&u/l)]]}},60776:function(U,B,e){var y=e(3400).isArrayOrTypedArray;U.exports=function(L,i,S){var b,v,p,r,t,a,n=[],u=y(L)?L.length:L,s=y(i)?i.length:i,l=y(L)?L:null,m=y(i)?i:null;l&&(p=(l.length-1)/(l[l.length-1]-l[0])/(u-1)),m&&(r=(m.length-1)/(m[m.length-1]-m[0])/(s-1));var h,g=1/0,c=-1/0;for(v=0;v<s;v++)for(n[v]=[],a=m?(m[v]-m[0])*r:v/(s-1),b=0;b<u;b++)t=l?(l[b]-l[0])*p:b/(u-1),h=t-a*S,g=Math.min(h,g),c=Math.max(h,c),n[v][b]=h;var o=1/(c-g),d=-g*o;for(v=0;v<s;v++)for(b=0;b<u;b++)n[v][b]=o*n[v][b]+d;return n}},30180:function(U,B,e){var y=e(62284),L=e(3400).ensureArray;function i(S,b,v){var p=-.5*v[0]+1.5*b[0],r=-.5*v[1]+1.5*b[1];return[(2*p+S[0])/3,(2*r+S[1])/3]}U.exports=function(b,v,p,r,t,a){var n,u,s,l,m,h,g,c,o,d,w=p[0].length,A=p.length,C=t?3*w-2:w,x=a?3*A-2:A;for(b=L(b,x),v=L(v,x),s=0;s<x;s++)b[s]=L(b[s],C),v[s]=L(v[s],C);for(u=0,l=0;u<A;u++,l+=a?3:1)for(m=b[l],h=v[l],g=p[u],c=r[u],n=0,s=0;n<w;n++,s+=t?3:1)m[s]=g[n],h[s]=c[n];if(t)for(u=0,l=0;u<A;u++,l+=a?3:1){for(n=1,s=3;n<w-1;n++,s+=3)o=y([p[u][n-1],r[u][n-1]],[p[u][n],r[u][n]],[p[u][n+1],r[u][n+1]],t),b[l][s-1]=o[0][0],v[l][s-1]=o[0][1],b[l][s+1]=o[1][0],v[l][s+1]=o[1][1];d=i([b[l][0],v[l][0]],[b[l][2],v[l][2]],[b[l][3],v[l][3]]),b[l][1]=d[0],v[l][1]=d[1],d=i([b[l][C-1],v[l][C-1]],[b[l][C-3],v[l][C-3]],[b[l][C-4],v[l][C-4]]),b[l][C-2]=d[0],v[l][C-2]=d[1]}if(a)for(s=0;s<C;s++){for(l=3;l<x-3;l+=3)o=y([b[l-3][s],v[l-3][s]],[b[l][s],v[l][s]],[b[l+3][s],v[l+3][s]],a),b[l-1][s]=o[0][0],v[l-1][s]=o[0][1],b[l+1][s]=o[1][0],v[l+1][s]=o[1][1];d=i([b[0][s],v[0][s]],[b[2][s],v[2][s]],[b[3][s],v[3][s]]),b[1][s]=d[0],v[1][s]=d[1],d=i([b[x-1][s],v[x-1][s]],[b[x-3][s],v[x-3][s]],[b[x-4][s],v[x-4][s]]),b[x-2][s]=d[0],v[x-2][s]=d[1]}if(t&&a)for(l=1;l<x;l+=(l+1)%3===0?2:1){for(s=3;s<C-3;s+=3)o=y([b[l][s-3],v[l][s-3]],[b[l][s],v[l][s]],[b[l][s+3],v[l][s+3]],t),b[l][s-1]=.5*(b[l][s-1]+o[0][0]),v[l][s-1]=.5*(v[l][s-1]+o[0][1]),b[l][s+1]=.5*(b[l][s+1]+o[1][0]),v[l][s+1]=.5*(v[l][s+1]+o[1][1]);d=i([b[l][0],v[l][0]],[b[l][2],v[l][2]],[b[l][3],v[l][3]]),b[l][1]=.5*(b[l][1]+d[0]),v[l][1]=.5*(v[l][1]+d[1]),d=i([b[l][C-1],v[l][C-1]],[b[l][C-3],v[l][C-3]],[b[l][C-4],v[l][C-4]]),b[l][C-2]=.5*(b[l][C-2]+d[0]),v[l][C-2]=.5*(v[l][C-2]+d[1])}return[b,v]}},24588:function(U){U.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(U){U.exports=function(B,e,y){return e&&y?function(L,i,S,b,v){L||(L=[]);var p,r,t,a,n,u;i*=3,S*=3;var s=b*b,l=1-b,m=l*l,h=l*b*2,g=-3*m,c=3*(m-h),o=3*(h-s),d=3*s,w=v*v,A=w*v,C=1-v,x=C*C,E=x*C;for(u=0;u<B.length;u++)n=B[u],p=g*n[S][i]+c*n[S][i+1]+o*n[S][i+2]+d*n[S][i+3],r=g*n[S+1][i]+c*n[S+1][i+1]+o*n[S+1][i+2]+d*n[S+1][i+3],t=g*n[S+2][i]+c*n[S+2][i+1]+o*n[S+2][i+2]+d*n[S+2][i+3],a=g*n[S+3][i]+c*n[S+3][i+1]+o*n[S+3][i+2]+d*n[S+3][i+3],L[u]=E*p+3*(x*v*r+C*w*t)+A*a;return L}:e?function(L,i,S,b,v){L||(L=[]);var p,r,t,a;i*=3;var n=b*b,u=1-b,s=u*u,l=u*b*2,m=-3*s,h=3*(s-l),g=3*(l-n),c=3*n,o=1-v;for(t=0;t<B.length;t++)a=B[t],p=m*a[S][i]+h*a[S][i+1]+g*a[S][i+2]+c*a[S][i+3],r=m*a[S+1][i]+h*a[S+1][i+1]+g*a[S+1][i+2]+c*a[S+1][i+3],L[t]=o*p+v*r;return L}:y?function(L,i,S,b,v){L||(L=[]);var p,r,t,a,n,u;S*=3;var s=v*v,l=s*v,m=1-v,h=m*m,g=h*m;for(n=0;n<B.length;n++)u=B[n],p=u[S][i+1]-u[S][i],r=u[S+1][i+1]-u[S+1][i],t=u[S+2][i+1]-u[S+2][i],a=u[S+3][i+1]-u[S+3][i],L[n]=g*p+3*(h*v*r+m*s*t)+l*a;return L}:function(L,i,S,b,v){L||(L=[]);var p,r,t,a,n=1-v;for(t=0;t<B.length;t++)a=B[t],p=a[S][i+1]-a[S][i],r=a[S+1][i+1]-a[S+1][i],L[t]=n*p+v*r;return L}}},24464:function(U){U.exports=function(B,e,y){return e&&y?function(L,i,S,b,v){L||(L=[]);var p,r,t,a,n,u;i*=3,S*=3;var s=b*b,l=s*b,m=1-b,h=m*m,g=h*m,c=v*v,o=1-v,d=o*o,w=o*v*2,A=-3*d,C=3*(d-w),x=3*(w-c),E=3*c;for(u=0;u<B.length;u++)n=B[u],p=A*n[S][i]+C*n[S+1][i]+x*n[S+2][i]+E*n[S+3][i],r=A*n[S][i+1]+C*n[S+1][i+1]+x*n[S+2][i+1]+E*n[S+3][i+1],t=A*n[S][i+2]+C*n[S+1][i+2]+x*n[S+2][i+2]+E*n[S+3][i+2],a=A*n[S][i+3]+C*n[S+1][i+3]+x*n[S+2][i+3]+E*n[S+3][i+3],L[u]=g*p+3*(h*b*r+m*s*t)+l*a;return L}:e?function(L,i,S,b,v){L||(L=[]);var p,r,t,a,n,u;i*=3;var s=v*v,l=s*v,m=1-v,h=m*m,g=h*m;for(n=0;n<B.length;n++)u=B[n],p=u[S+1][i]-u[S][i],r=u[S+1][i+1]-u[S][i+1],t=u[S+1][i+2]-u[S][i+2],a=u[S+1][i+3]-u[S][i+3],L[n]=g*p+3*(h*v*r+m*s*t)+l*a;return L}:y?function(L,i,S,b,v){L||(L=[]);var p,r,t,a;S*=3;var n=1-b,u=v*v,s=1-v,l=s*s,m=s*v*2,h=-3*l,g=3*(l-m),c=3*(m-u),o=3*u;for(t=0;t<B.length;t++)a=B[t],p=h*a[S][i]+g*a[S+1][i]+c*a[S+2][i]+o*a[S+3][i],r=h*a[S][i+1]+g*a[S+1][i+1]+c*a[S+2][i+1]+o*a[S+3][i+1],L[t]=n*p+b*r;return L}:function(L,i,S,b,v){L||(L=[]);var p,r,t,a,n=1-b;for(t=0;t<B.length;t++)a=B[t],p=a[S+1][i]-a[S][i],r=a[S+1][i+1]-a[S][i+1],L[t]=n*p+b*r;return L}}},29056:function(U){U.exports=function(B,e,y,L,i){var S=e-2,b=y-2;return L&&i?function(v,p,r){v||(v=[]);var t,a,n,u,s,l,m=Math.max(0,Math.min(Math.floor(p),S)),h=Math.max(0,Math.min(Math.floor(r),b)),g=Math.max(0,Math.min(1,p-m)),c=Math.max(0,Math.min(1,r-h));m*=3,h*=3;var o=g*g,d=o*g,w=1-g,A=w*w,C=A*w,x=c*c,E=x*c,M=1-c,f=M*M,P=f*M;for(l=0;l<B.length;l++)s=B[l],t=C*s[h][m]+3*(A*g*s[h][m+1]+w*o*s[h][m+2])+d*s[h][m+3],a=C*s[h+1][m]+3*(A*g*s[h+1][m+1]+w*o*s[h+1][m+2])+d*s[h+1][m+3],n=C*s[h+2][m]+3*(A*g*s[h+2][m+1]+w*o*s[h+2][m+2])+d*s[h+2][m+3],u=C*s[h+3][m]+3*(A*g*s[h+3][m+1]+w*o*s[h+3][m+2])+d*s[h+3][m+3],v[l]=P*t+3*(f*c*a+M*x*n)+E*u;return v}:L?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),S)),a=Math.max(0,Math.min(Math.floor(r),b)),n=Math.max(0,Math.min(1,p-t)),u=Math.max(0,Math.min(1,r-a)),s,l,m,h,g,c;t*=3;var o=n*n,d=o*n,w=1-n,A=w*w,C=A*w,x=1-u;for(g=0;g<B.length;g++)c=B[g],s=x*c[a][t]+u*c[a+1][t],l=x*c[a][t+1]+u*c[a+1][t+1],m=x*c[a][t+2]+u*c[a+1][t+1],h=x*c[a][t+3]+u*c[a+1][t+1],v[g]=C*s+3*(A*n*l+w*o*m)+d*h;return v}:i?function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),S)),a=Math.max(0,Math.min(Math.floor(r),b)),n=Math.max(0,Math.min(1,p-t)),u=Math.max(0,Math.min(1,r-a)),s,l,m,h,g,c;a*=3;var o=u*u,d=o*u,w=1-u,A=w*w,C=A*w,x=1-n;for(g=0;g<B.length;g++)c=B[g],s=x*c[a][t]+n*c[a][t+1],l=x*c[a+1][t]+n*c[a+1][t+1],m=x*c[a+2][t]+n*c[a+2][t+1],h=x*c[a+3][t]+n*c[a+3][t+1],v[g]=C*s+3*(A*u*l+w*o*m)+d*h;return v}:function(v,p,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(p),S)),a=Math.max(0,Math.min(Math.floor(r),b)),n=Math.max(0,Math.min(1,p-t)),u=Math.max(0,Math.min(1,r-a)),s,l,m,h,g=1-u,c=1-n;for(m=0;m<B.length;m++)h=B[m],s=c*h[a][t]+n*h[a][t+1],l=c*h[a+1][t]+n*h[a+1][t+1],v[m]=g*s+u*l;return v}}},38356:function(U,B,e){var y=e(3400),L=e(86411),i=e(93504),S=e(85720),b=e(22548);U.exports=function(p,r,t,a){function n(l,m){return y.coerce(p,r,S,l,m)}r._clipPathId="clip"+r.uid+"carpet";var u=n("color",b.defaultLine);if(y.coerceFont(n,"font"),n("carpet"),i(p,r,a,n,u),!r.a||!r.b){r.visible=!1;return}r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0);var s=L(p,r,n);s||(r.visible=!1),r._cheater&&n("cheaterslope")}},95856:function(U,B,e){U.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(U){U.exports=function(B,e){for(var y=B._fullData.length,L,i=0;i<y;i++){var S=B._fullData[i];if(S.index!==e.index&&S.type==="carpet"&&(L||(L=S),S.carpet===e.carpet))return S}return L}},53416:function(U){U.exports=function(e,y,L){if(e.length===0)return"";var i,S=[],b=L?3:1;for(i=0;i<e.length;i+=b)S.push(e[i]+","+y[i]),L&&i<e.length-b&&(S.push("C"),S.push([e[i+1]+","+y[i+1],e[i+2]+","+y[i+2]+" "].join(" ")));return S.join(L?"":"L")}},87072:function(U,B,e){var y=e(3400).isArrayOrTypedArray;U.exports=function(i,S,b){var v;for(y(i)?i.length>S.length&&(i=i.slice(0,S.length)):i=[],v=0;v<S.length;v++)i[v]=b(S[v]);return i}},15584:function(U){U.exports=function(e,y,L,i,S,b){var v=S[0]*e.dpdx(y),p=S[1]*e.dpdy(L),r=1,t=1;if(b){var a=Math.sqrt(S[0]*S[0]+S[1]*S[1]),n=Math.sqrt(b[0]*b[0]+b[1]*b[1]),u=(S[0]*b[0]+S[1]*b[1])/a/n;t=Math.max(0,u)}var s=Math.atan2(p,v)*180/Math.PI;return s<-90?(s+=180,r=-r):s>90&&(s-=180,r=-r),{angle:s,flip:r,p:e.c2p(i,y,L),offsetMultplier:t}}},164:function(U,B,e){var y=e(33428),L=e(43616),i=e(87072),S=e(53416),b=e(15584),v=e(72736),p=e(3400),r=p.strRotate,t=p.strTranslate,a=e(84284);U.exports=function(o,d,w,A){var C=o._context.staticPlot,x=d.xaxis,E=d.yaxis,M=o._fullLayout,f=M._clips;p.makeTraceGroups(A,w,"trace").each(function(P){var T=y.select(this),z=P[0],_=z.trace,V=_.aaxis,F=_.baxis,N=p.ensureSingle(T,"g","minorlayer"),k=p.ensureSingle(T,"g","majorlayer"),I=p.ensureSingle(T,"g","boundarylayer"),H=p.ensureSingle(T,"g","labellayer");T.style("opacity",_.opacity),u(x,E,k,V,"a",V._gridlines,!0),u(x,E,k,F,"b",F._gridlines,!0),u(x,E,N,V,"a",V._minorgridlines,!0),u(x,E,N,F,"b",F._minorgridlines,!0),u(x,E,I,V,"a-boundary",V._boundarylines,C),u(x,E,I,F,"b-boundary",F._boundarylines,C);var j=s(o,x,E,_,z,H,V._labels,"a-label"),ee=s(o,x,E,_,z,H,F._labels,"b-label");l(o,H,_,z,x,E,j,ee),n(_,z,f,x,E)})};function n(c,o,d,w,A){var C,x,E,M,f=d.select("#"+c._clipPathId);f.size()||(f=d.append("clipPath").classed("carpetclip",!0));var P=p.ensureSingle(f,"path","carpetboundary"),T=o.clipsegments,z=[];for(M=0;M<T.length;M++)C=T[M],x=i([],C.x,w.c2p),E=i([],C.y,A.c2p),z.push(S(x,E,C.bicubic));var _="M"+z.join("L")+"Z";f.attr("id",c._clipPathId),P.attr("d",_)}function u(c,o,d,w,A,C,x){var E="const-"+A+"-lines",M=d.selectAll("."+E).data(C);M.enter().append("path").classed(E,!0).style("vector-effect",x?"none":"non-scaling-stroke"),M.each(function(f){var P=f,T=P.x,z=P.y,_=i([],T,c.c2p),V=i([],z,o.c2p),F="M"+S(_,V,P.smoothing),N=y.select(this);N.attr("d",F).style("stroke-width",P.width).style("stroke",P.color).style("stroke-dasharray",L.dashStyle(P.dash,P.width)).style("fill","none")}),M.exit().remove()}function s(c,o,d,w,A,C,x,E){var M=C.selectAll("text."+E).data(x);M.enter().append("text").classed(E,!0);var f=0,P={};return M.each(function(T,z){var _;if(T.axis.tickangle==="auto")_=b(w,o,d,T.xy,T.dxy);else{var V=(T.axis.tickangle+180)*Math.PI/180;_=b(w,o,d,T.xy,[Math.cos(V),Math.sin(V)])}z||(P={angle:_.angle,flip:_.flip});var F=(T.endAnchor?-1:1)*_.flip,N=y.select(this).attr({"text-anchor":F>0?"start":"end","data-notex":1}).call(L.font,T.font).text(T.text).call(v.convertToTspans,c),k=L.bBox(this);N.attr("transform",t(_.p[0],_.p[1])+r(_.angle)+t(T.axis.labelpadding*F,k.height*.3)),f=Math.max(f,k.width+T.axis.labelpadding)}),M.exit().remove(),P.maxExtent=f,P}function l(c,o,d,w,A,C,x,E){var M,f,P,T,z=p.aggNums(Math.min,null,d.a),_=p.aggNums(Math.max,null,d.a),V=p.aggNums(Math.min,null,d.b),F=p.aggNums(Math.max,null,d.b);M=.5*(z+_),f=V,P=d.ab2xy(M,f,!0),T=d.dxyda_rough(M,f),x.angle===void 0&&p.extendFlat(x,b(d,A,C,P,d.dxydb_rough(M,f))),g(c,o,d,w,P,T,d.aaxis,A,C,x,"a-title"),M=z,f=.5*(V+F),P=d.ab2xy(M,f,!0),T=d.dxydb_rough(M,f),E.angle===void 0&&p.extendFlat(E,b(d,A,C,P,d.dxyda_rough(M,f))),g(c,o,d,w,P,T,d.baxis,A,C,E,"b-title")}var m=a.LINE_SPACING,h=(1-a.MID_SHIFT)/m+1;function g(c,o,d,w,A,C,x,E,M,f,P){var T=[];x.title.text&&T.push(x.title.text);var z=o.selectAll("text."+P).data(T),_=f.maxExtent;z.enter().append("text").classed(P,!0),z.each(function(){var V=b(d,E,M,A,C);["start","both"].indexOf(x.showticklabels)===-1&&(_=0);var F=x.title.font.size;_+=F+x.title.offset;var N=f.angle+(f.flip<0?180:0),k=(N-V.angle+450)%360,I=k>90&&k<270,H=y.select(this);H.text(x.title.text).call(v.convertToTspans,c),I&&(_=(-v.lineCount(H)+h)*m*F-_),H.attr("transform",t(V.p[0],V.p[1])+r(V.angle)+t(0,_)).attr("text-anchor","middle").call(L.font,x.title.font)}),z.exit().remove()}},81e3:function(U,B,e){var y=e(24588),L=e(14952).findBin,i=e(30180),S=e(29056),b=e(26435),v=e(24464);U.exports=function(r){var t=r._a,a=r._b,n=t.length,u=a.length,s=r.aaxis,l=r.baxis,m=t[0],h=t[n-1],g=a[0],c=a[u-1],o=t[t.length-1]-t[0],d=a[a.length-1]-a[0],w=o*y.RELATIVE_CULL_TOLERANCE,A=d*y.RELATIVE_CULL_TOLERANCE;m-=w,h+=w,g-=A,c+=A,r.isVisible=function(C,x){return C>m&&C<h&&x>g&&x<c},r.isOccluded=function(C,x){return C<m||C>h||x<g||x>c},r.setScale=function(){var C=r._x,x=r._y,E=i(r._xctrl,r._yctrl,C,x,s.smoothing,l.smoothing);r._xctrl=E[0],r._yctrl=E[1],r.evalxy=S([r._xctrl,r._yctrl],n,u,s.smoothing,l.smoothing),r.dxydi=b([r._xctrl,r._yctrl],s.smoothing,l.smoothing),r.dxydj=v([r._xctrl,r._yctrl],s.smoothing,l.smoothing)},r.i2a=function(C){var x=Math.max(0,Math.floor(C[0]),n-2),E=C[0]-x;return(1-E)*t[x]+E*t[x+1]},r.j2b=function(C){var x=Math.max(0,Math.floor(C[1]),n-2),E=C[1]-x;return(1-E)*a[x]+E*a[x+1]},r.ij2ab=function(C){return[r.i2a(C[0]),r.j2b(C[1])]},r.a2i=function(C){var x=Math.max(0,Math.min(L(C,t),n-2)),E=t[x],M=t[x+1];return Math.max(0,Math.min(n-1,x+(C-E)/(M-E)))},r.b2j=function(C){var x=Math.max(0,Math.min(L(C,a),u-2)),E=a[x],M=a[x+1];return Math.max(0,Math.min(u-1,x+(C-E)/(M-E)))},r.ab2ij=function(C){return[r.a2i(C[0]),r.b2j(C[1])]},r.i2c=function(C,x){return r.evalxy([],C,x)},r.ab2xy=function(C,x,E){if(!E&&(C<t[0]||C>t[n-1]|x<a[0]||x>a[u-1]))return[!1,!1];var M=r.a2i(C),f=r.b2j(x),P=r.evalxy([],M,f);if(E){var T=0,z=0,_=[],V,F,N,k;C<t[0]?(V=0,F=0,T=(C-t[0])/(t[1]-t[0])):C>t[n-1]?(V=n-2,F=1,T=(C-t[n-1])/(t[n-1]-t[n-2])):(V=Math.max(0,Math.min(n-2,Math.floor(M))),F=M-V),x<a[0]?(N=0,k=0,z=(x-a[0])/(a[1]-a[0])):x>a[u-1]?(N=u-2,k=1,z=(x-a[u-1])/(a[u-1]-a[u-2])):(N=Math.max(0,Math.min(u-2,Math.floor(f))),k=f-N),T&&(r.dxydi(_,V,N,F,k),P[0]+=_[0]*T,P[1]+=_[1]*T),z&&(r.dxydj(_,V,N,F,k),P[0]+=_[0]*z,P[1]+=_[1]*z)}return P},r.c2p=function(C,x,E){return[x.c2p(C[0]),E.c2p(C[1])]},r.p2x=function(C,x,E){return[x.p2c(C[0]),E.p2c(C[1])]},r.dadi=function(C){var x=Math.max(0,Math.min(t.length-2,C));return t[x+1]-t[x]},r.dbdj=function(C){var x=Math.max(0,Math.min(a.length-2,C));return a[x+1]-a[x]},r.dxyda=function(C,x,E,M){var f=r.dxydi(null,C,x,E,M),P=r.dadi(C,E);return[f[0]/P,f[1]/P]},r.dxydb=function(C,x,E,M){var f=r.dxydj(null,C,x,E,M),P=r.dbdj(x,M);return[f[0]/P,f[1]/P]},r.dxyda_rough=function(C,x,E){var M=o*(E||.1),f=r.ab2xy(C+M,x,!0),P=r.ab2xy(C-M,x,!0);return[(f[0]-P[0])*.5/M,(f[1]-P[1])*.5/M]},r.dxydb_rough=function(C,x,E){var M=d*(E||.1),f=r.ab2xy(C,x+M,!0),P=r.ab2xy(C,x-M,!0);return[(f[0]-P[0])*.5/M,(f[1]-P[1])*.5/M]},r.dpdx=function(C){return C._m},r.dpdy=function(C){return C._m}}},51512:function(U,B,e){var y=e(3400);U.exports=function(i,S,b){var v,p,r,t=[],a=[],n=i[0].length,u=i.length;function s(ee,te){var ne=0,ue,q=0;return ee>0&&(ue=i[te][ee-1])!==void 0&&(q++,ne+=ue),ee<n-1&&(ue=i[te][ee+1])!==void 0&&(q++,ne+=ue),te>0&&(ue=i[te-1][ee])!==void 0&&(q++,ne+=ue),te<u-1&&(ue=i[te+1][ee])!==void 0&&(q++,ne+=ue),ne/Math.max(1,q)}var l=0;for(v=0;v<n;v++)for(p=0;p<u;p++)i[p][v]===void 0&&(t.push(v),a.push(p),i[p][v]=s(v,p)),l=Math.max(l,Math.abs(i[p][v]));if(!t.length)return i;var m,h,g,c,o,d,w,A,C,x,E,M=1e-5,f=0,P=100,T=0,z=t.length;do{for(f=0,r=0;r<z;r++){v=t[r],p=a[r];var _=0,V=0,F,N,k,I,H,j;v===0?(H=Math.min(n-1,2),k=S[H],I=S[1],F=i[p][H],N=i[p][1],V+=N+(N-F)*(S[0]-I)/(I-k),_++):v===n-1&&(H=Math.max(0,n-3),k=S[H],I=S[n-2],F=i[p][H],N=i[p][n-2],V+=N+(N-F)*(S[n-1]-I)/(I-k),_++),(v===0||v===n-1)&&p>0&&p<u-1&&(m=b[p+1]-b[p],h=b[p]-b[p-1],V+=(h*i[p+1][v]+m*i[p-1][v])/(h+m),_++),p===0?(j=Math.min(u-1,2),k=b[j],I=b[1],F=i[j][v],N=i[1][v],V+=N+(N-F)*(b[0]-I)/(I-k),_++):p===u-1&&(j=Math.max(0,u-3),k=b[j],I=b[u-2],F=i[j][v],N=i[u-2][v],V+=N+(N-F)*(b[u-1]-I)/(I-k),_++),(p===0||p===u-1)&&v>0&&v<n-1&&(m=S[v+1]-S[v],h=S[v]-S[v-1],V+=(h*i[p][v+1]+m*i[p][v-1])/(h+m),_++),_?V/=_:(g=S[v+1]-S[v],c=S[v]-S[v-1],o=b[p+1]-b[p],d=b[p]-b[p-1],w=g*c*(g+c),A=o*d*(o+d),V=(w*(d*i[p+1][v]+o*i[p-1][v])+A*(c*i[p][v+1]+g*i[p][v-1]))/(A*(c+g)+w*(d+o))),C=V-i[p][v],x=C/l,f+=x*x,E=_?0:.85,i[p][v]+=C*(1+E)}f=Math.sqrt(f)}while(T++<P&&f>M);return y.log("Smoother converged to",f,"after",T,"iterations"),i}},86411:function(U,B,e){var y=e(3400).isArray1D;U.exports=function(i,S,b){var v=b("x"),p=v&&v.length,r=b("y"),t=r&&r.length;if(!p&&!t)return!1;if(S._cheater=!v,(!p||y(v))&&(!t||y(r))){var a=p?v.length:1/0;t&&(a=Math.min(a,r.length)),S.a&&S.a.length&&(a=Math.min(a,S.a.length)),S.b&&S.b.length&&(a=Math.min(a,S.b.length)),S._length=a}else S._length=null;return!0}},83372:function(U,B,e){var y=e(21776).Ks,L=e(6096),i=e(49084),S=e(45464),b=e(22548).defaultLine,v=e(92880).extendFlat,p=L.marker.line;U.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:L.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},L.geojson,{}),featureidkey:L.featureidkey,text:v({},L.text,{}),hovertext:v({},L.hovertext,{}),marker:{line:{color:v({},p.color,{dflt:b}),width:v({},p.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:L.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:L.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},S.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:y(),showlegend:v({},S.showlegend,{dflt:!1})},i("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(U,B,e){var y=e(38248),L=e(39032).BADNUM,i=e(47128),S=e(20148),b=e(4500);function v(p){return p&&typeof p=="string"}U.exports=function(r,t){var a=t._length,n=new Array(a),u;t.geojson?u=function(g){return v(g)||y(g)}:u=v;for(var s=0;s<a;s++){var l=n[s]={},m=t.locations[s],h=t.z[s];u(m)&&y(h)?(l.loc=m,l.z=h):(l.loc=null,l.z=L),l.index=s}return S(n,t),i(r,t,{vals:t.z,containerStr:"",cLetter:"z"}),b(n,t),n}},30972:function(U,B,e){var y=e(3400),L=e(27260),i=e(83372);U.exports=function(b,v,p,r){function t(h,g){return y.coerce(b,v,i,h,g)}var a=t("locations"),n=t("z");if(!(a&&a.length&&y.isArrayOrTypedArray(n)&&n.length)){v.visible=!1;return}v._length=Math.min(a.length,n.length);var u=t("geojson"),s;(typeof u=="string"&&u!==""||y.isPlainObject(u))&&(s="geojson-id");var l=t("locationmode",s);l==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate");var m=t("marker.line.width");m&&t("marker.line.color"),t("marker.opacity"),L(b,v,r,t,{prefix:"",cLetter:"z"}),y.coerceSelectionMarkerOpacity(v,t)}},52428:function(U){U.exports=function(e,y,L,i,S){e.location=y.location,e.z=y.z;var b=i[S];return b.fIn&&b.fIn.properties&&(e.properties=b.fIn.properties),e.ct=b.ct,e}},69224:function(U,B,e){var y=e(54460),L=e(83372),i=e(3400).fillText;U.exports=function(v,p,r){var t=v.cd,a=t[0].trace,n=v.subplot,u,s,l,m,h=[p,r],g=[p+360,r];for(s=0;s<t.length;s++)if(u=t[s],m=!1,u._polygons){for(l=0;l<u._polygons.length;l++)u._polygons[l].contains(h)&&(m=!m),u._polygons[l].contains(g)&&(m=!m);if(m)break}if(!(!m||!u))return v.x0=v.x1=v.xa.c2p(u.ct),v.y0=v.y1=v.ya.c2p(u.ct),v.index=u.index,v.location=u.loc,v.z=u.z,v.zLabel=y.tickText(n.mockAxis,n.mockAxis.c2l(u.z),"hover").text,v.hovertemplate=u.hovertemplate,S(v,a,u),[v]};function S(b,v,p){if(!v.hovertemplate){var r=p.hi||v.hoverinfo,t=String(p.loc),a=r==="all"?L.hoverinfo.flags:r.split("+"),n=a.indexOf("name")!==-1,u=a.indexOf("location")!==-1,s=a.indexOf("z")!==-1,l=a.indexOf("text")!==-1,m=!n&&u,h=[];m?b.nameOverride=t:(n&&(b.nameOverride=v.name),u&&h.push(t)),s&&h.push(b.zLabel),l&&i(p,v,h),b.extraText=h.join("<br>")}}},54272:function(U,B,e){U.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(U,B,e){var y=e(33428),L=e(3400),i=e(27144),S=e(59972).getTopojsonFeatures,b=e(19280).findExtremes,v=e(7947).style;function p(t,a,n){var u=a.layers.backplot.select(".choroplethlayer");L.makeTraceGroups(u,n,"trace choropleth").each(function(s){var l=y.select(this),m=l.selectAll("path.choroplethlocation").data(L.identity);m.enter().append("path").classed("choroplethlocation",!0),m.exit().remove(),v(t,s)})}function r(t,a){for(var n=t[0].trace,u=a[n.geo],s=u._subplot,l=n.locationmode,m=n._length,h=l==="geojson-id"?i.extractTraceFeature(t):S(n,s.topojson),g=[],c=[],o=0;o<m;o++){var d=t[o],w=l==="geojson-id"?d.fOut:i.locationToFeature(l,d.loc,h);if(w){d.geojson=w,d.ct=w.properties.ct,d._polygons=i.feature2polygons(w);var A=i.computeBbox(w);g.push(A[0],A[2]),c.push(A[1],A[3])}else d.geojson=null}if(u.fitbounds==="geojson"&&l==="geojson-id"){var C=i.computeBbox(i.getTraceGeojson(n));g=[C[0],C[2]],c=[C[1],C[3]]}var x={padded:!0};n._extremes.lon=b(u.lonaxis._ax,g,x),n._extremes.lat=b(u.lataxis._ax,c,x)}U.exports={calcGeoJSON:r,plot:p}},17328:function(U){U.exports=function(e,y){var L=e.cd,i=e.xaxis,S=e.yaxis,b=[],v,p,r,t,a;if(y===!1)for(v=0;v<L.length;v++)L[v].selected=0;else for(v=0;v<L.length;v++)p=L[v],r=p.ct,r&&(t=i.c2p(r),a=S.c2p(r),y.contains([t,a],null,v,e)?(b.push({pointNumber:v,lon:r[0],lat:r[1]}),p.selected=1):p.selected=0);return b}},7947:function(U,B,e){var y=e(33428),L=e(76308),i=e(43616),S=e(8932);function b(r,t){t&&v(r,t)}function v(r,t){var a=t[0].trace,n=t[0].node3,u=n.selectAll(".choroplethlocation"),s=a.marker||{},l=s.line||{},m=S.makeColorScaleFuncFromTrace(a);u.each(function(h){y.select(this).attr("fill",m(h.z)).call(L.stroke,h.mlc||l.color).call(i.dashLine,"",h.mlw||l.width||0).style("opacity",s.opacity)}),i.selectedPointStyle(u,a)}function p(r,t){var a=t[0].node3,n=t[0].trace;n.selectedpoints?i.selectedPointStyle(a.selectAll(".choroplethlocation"),n):v(r,t)}U.exports={style:b,styleOnSelect:p}},45608:function(U,B,e){var y=e(83372),L=e(49084),i=e(21776).Ks,S=e(45464),b=e(92880).extendFlat;U.exports=b({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:b({},y.featureidkey,{}),below:{valType:"string",editType:"plot"},text:y.text,hovertext:y.hovertext,marker:{line:{color:b({},y.marker.line.color,{editType:"plot"}),width:b({},y.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:b({},y.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:b({},y.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:b({},y.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:y.hoverinfo,hovertemplate:i({},{keys:["properties"]}),showlegend:b({},S.showlegend,{dflt:!1})},L("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(U,B,e){var y=e(38248),L=e(3400),i=e(8932),S=e(43616),b=e(44808).makeBlank,v=e(27144);function p(t){var a=t[0].trace,n=a.visible===!0&&a._length!==0,u={layout:{visibility:"none"},paint:{}},s={layout:{visibility:"none"},paint:{}},l=a._opts={fill:u,line:s,geojson:b()};if(!n)return l;var m=v.extractTraceFeature(t);if(!m)return l;var h=i.makeColorScaleFuncFromTrace(a),g=a.marker,c=g.line||{},o;L.isArrayOrTypedArray(g.opacity)&&(o=function(f){var P=f.mo;return y(P)?+L.constrain(P,0,1):0});var d;L.isArrayOrTypedArray(c.color)&&(d=function(f){return f.mlc});var w;L.isArrayOrTypedArray(c.width)&&(w=function(f){return f.mlw});for(var A=0;A<t.length;A++){var C=t[A],x=C.fOut;if(x){var E=x.properties;E.fc=h(C.z),o&&(E.mo=o(C)),d&&(E.mlc=d(C)),w&&(E.mlw=w(C)),C.ct=E.ct,C._polygons=v.feature2polygons(x)}}var M=o?{type:"identity",property:"mo"}:g.opacity;return L.extendFlat(u.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":M}),L.extendFlat(s.paint,{"line-color":d?{type:"identity",property:"mlc"}:c.color,"line-width":w?{type:"identity",property:"mlw"}:c.width,"line-opacity":M}),u.layout.visibility="visible",s.layout.visibility="visible",l.geojson={type:"FeatureCollection",features:m},r(t),l}function r(t){var a=t[0].trace,n=a._opts,u;if(a.selectedpoints){for(var s=S.makeSelectedPointStyleFns(a),l=0;l<t.length;l++){var m=t[l];m.fOut&&(m.fOut.properties.mo2=s.selectedOpacityFn(m))}u={type:"identity",property:"mo2"}}else u=L.isArrayOrTypedArray(a.marker.opacity)?{type:"identity",property:"mo"}:a.marker.opacity;return L.extendFlat(n.fill.paint,{"fill-opacity":u}),L.extendFlat(n.line.paint,{"line-opacity":u}),n}U.exports={convert:p,convertOnSelect:r}},9352:function(U,B,e){var y=e(3400),L=e(27260),i=e(45608);U.exports=function(b,v,p,r){function t(l,m){return y.coerce(b,v,i,l,m)}var a=t("locations"),n=t("z"),u=t("geojson");if(!y.isArrayOrTypedArray(a)||!a.length||!y.isArrayOrTypedArray(n)||!n.length||!(typeof u=="string"&&u!==""||y.isPlainObject(u))){v.visible=!1;return}t("featureidkey"),v._length=Math.min(a.length,n.length),t("below"),t("text"),t("hovertext"),t("hovertemplate");var s=t("marker.line.width");s&&t("marker.line.color"),t("marker.opacity"),L(b,v,r,t,{prefix:"",cLetter:"z"}),y.coerceSelectionMarkerOpacity(v,t)}},85404:function(U,B,e){U.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(y,L){if(L){var i=L[0].trace;i._glTrace.updateOnSelect(L)}},getBelow:function(y,L){for(var i=L.getMapLayers(),S=i.length-2;S>=0;S--){var b=i[S].id;if(typeof b=="string"&&b.indexOf("water")===0){for(var v=S+1;v<i.length;v++)if(b=i[v].id,typeof b=="string"&&b.indexOf("plotly-")===-1)return b}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(U,B,e){var y=e(13504).convert,L=e(13504).convertOnSelect,i=e(47552).traceLayerPrefix;function S(v,p){this.type="choroplethmapbox",this.subplot=v,this.uid=p,this.sourceId="source-"+p,this.layerList=[["fill",i+p+"-fill"],["line",i+p+"-line"]],this.below=null}var b=S.prototype;b.update=function(v){this._update(y(v)),v[0].trace._glTrace=this},b.updateOnSelect=function(v){this._update(L(v))},b._update=function(v){var p=this.subplot,r=this.layerList,t=p.belowLookup["trace-"+this.uid];p.map.getSource(this.sourceId).setData(v.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(v,t),this.below=t);for(var a=0;a<r.length;a++){var n=r[a],u=n[0],s=n[1],l=v[u];p.setOptions(s,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&p.setOptions(s,"setPaintProperty",l.paint)}},b._addLayers=function(v,p){for(var r=this.subplot,t=this.layerList,a=this.sourceId,n=0;n<t.length;n++){var u=t[n],s=u[0],l=v[s];r.addLayer({type:s,id:u[1],source:a,layout:l.layout,paint:l.paint},p)}},b._removeLayers=function(){for(var v=this.subplot.map,p=this.layerList,r=p.length-1;r>=0;r--)v.removeLayer(p[r][1])},b.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},U.exports=function(p,r){var t=r[0].trace,a=new S(p,t.uid),n=a.sourceId,u=y(r),s=a.below=p.belowLookup["trace-"+t.uid];return p.map.addSource(n,{type:"geojson",data:u.geojson}),a._addLayers(u,s),r[0].trace._glTrace=a,a}},86040:function(U,B,e){var y=e(49084),L=e(29736).axisHoverFormat,i=e(21776).Ks,S=e(52948),b=e(45464),v=e(92880).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["norm"]}),uhoverformat:L("u",1),vhoverformat:L("v",1),whoverformat:L("w",1),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),showlegend:v({},b.showlegend,{dflt:!1})};v(p,y("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=S[t]}),p.hoverinfo=v({},b.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,U.exports=p},83344:function(U,B,e){var y=e(47128);U.exports=function(i,S){for(var b=S.u,v=S.v,p=S.w,r=Math.min(S.x.length,S.y.length,S.z.length,b.length,v.length,p.length),t=-1/0,a=1/0,n=0;n<r;n++){var u=b[n],s=v[n],l=p[n],m=Math.sqrt(u*u+s*s+l*l);t=Math.max(t,m),a=Math.min(a,m)}S._len=r,S._normMax=t,y(i,S,{vals:[a,t],containerStr:"",cLetter:"c"})}},6648:function(U,B,e){var y=e(67792).gl_cone3d,L=e(67792).gl_cone3d.createConeMesh,i=e(3400).simpleMap,S=e(33040).parseColorScale,b=e(8932).extractOpts,v=e(3400).isArrayOrTypedArray,p=e(52094);function r(m,h){this.scene=m,this.uid=h,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(m){if(m.object===this.mesh){var h=m.index=m.data.index,g=this.data.x[h],c=this.data.y[h],o=this.data.z[h],d=this.data.u[h],w=this.data.v[h],A=this.data.w[h];m.traceCoordinate=[g,c,o,d,w,A,Math.sqrt(d*d+w*w+A*A)];var C=this.data.hovertext||this.data.text;return v(C)&&C[h]!==void 0?m.textLabel=C[h]:C&&(m.textLabel=C),!0}};var a={xaxis:0,yaxis:1,zaxis:2},n={tip:1,tail:0,cm:.25,center:.5},u={tip:1,tail:1,cm:.75,center:.5};function s(m,h){var g=m.fullSceneLayout,c=m.dataScale,o={};function d(x,E){var M=g[E],f=c[a[E]];return i(x,function(P){return M.d2l(P)*f})}o.vectors=p(d(h.u,"xaxis"),d(h.v,"yaxis"),d(h.w,"zaxis"),h._len),o.positions=p(d(h.x,"xaxis"),d(h.y,"yaxis"),d(h.z,"zaxis"),h._len);var w=b(h);o.colormap=S(h),o.vertexIntensityBounds=[w.min/h._normMax,w.max/h._normMax],o.coneOffset=n[h.anchor],h.sizemode==="scaled"?o.coneSize=h.sizeref||.5:o.coneSize=h.sizeref&&h._normMax?h.sizeref/h._normMax:.5;var A=y(o),C=h.lightposition;return A.lightPosition=[C.x,C.y,C.z],A.ambient=h.lighting.ambient,A.diffuse=h.lighting.diffuse,A.specular=h.lighting.specular,A.roughness=h.lighting.roughness,A.fresnel=h.lighting.fresnel,A.opacity=h.opacity,h._pad=u[h.anchor]*A.vectorScale*A.coneScale*h._normMax,A}t.update=function(m){this.data=m;var h=s(this.scene,m);this.mesh.update(h)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function l(m,h){var g=m.glplot.gl,c=s(m,h),o=L(g,c),d=new r(m,h.uid);return d.mesh=o,d.data=h,o._trace=d,m.glplot.add(o),d}U.exports=l},86096:function(U,B,e){var y=e(3400),L=e(27260),i=e(86040);U.exports=function(b,v,p,r){function t(h,g){return y.coerce(b,v,i,h,g)}var a=t("u"),n=t("v"),u=t("w"),s=t("x"),l=t("y"),m=t("z");if(!a||!a.length||!n||!n.length||!u||!u.length||!s||!s.length||!l||!l.length||!m||!m.length){v.visible=!1;return}t("sizeref"),t("sizemode"),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),L(b,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},26048:function(U,B,e){U.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(y,L){return y.norm=L.traceCoordinate[6],y},meta:{}}},67104:function(U,B,e){var y=e(83328),L=e(52904),i=e(29736),S=i.axisHoverFormat,b=i.descriptionOnlyNumbers,v=e(49084),p=e(98192).u,r=e(25376),t=e(92880).extendFlat,a=e(69104),n=a.COMPARISON_OPS2,u=a.INTERVAL_OPS,s=L.line;U.exports=t({z:y.z,x:y.x,x0:y.x0,dx:y.dx,y:y.y,y0:y.y0,dy:y.dy,xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,text:y.text,hovertext:y.hovertext,transpose:y.transpose,xtype:y.xtype,ytype:y.ytype,xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z",1),hovertemplate:y.hovertemplate,texttemplate:t({},y.texttemplate,{}),textfont:t({},y.textfont,{}),hoverongaps:y.hoverongaps,connectgaps:t({},y.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:b("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(u),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:t({},s.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:p,smoothing:t({},s.smoothing,{}),editType:"plot"}},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(U,B,e){var y=e(8932),L=e(19512),i=e(54444),S=e(46960);U.exports=function(v,p){var r=L(v,p),t=r[0].z;i(p,t);var a=p.contours,n=y.extractOpts(p),u;if(a.coloring==="heatmap"&&n.auto&&p.autocontour===!1){var s=a.start,l=S(a),m=a.size||1,h=Math.floor((l-s)/m)+1;isFinite(m)||(m=1,h=1);var g=s-m/2,c=g+h*m;u=[g,c]}else u=t;return y.calc(v,p,{vals:u,cLetter:"z"}),r}},56008:function(U){U.exports=function(B,e){var y=B[0],L=y.z,i;switch(e.type){case"levels":var S=Math.min(L[0][0],L[0][1]);for(i=0;i<B.length;i++){var b=B[i];b.prefixBoundary=!b.edgepaths.length&&(S>b.level||b.starts.length&&S===b.level)}break;case"constraint":if(y.prefixBoundary=!1,y.edgepaths.length)return;var v=y.x.length,p=y.y.length,r=-1/0,t=1/0;for(i=0;i<p;i++)t=Math.min(t,L[i][0]),t=Math.min(t,L[i][v-1]),r=Math.max(r,L[i][0]),r=Math.max(r,L[i][v-1]);for(i=1;i<v-1;i++)t=Math.min(t,L[0][i]),t=Math.min(t,L[p-1][i]),r=Math.max(r,L[0][i]),r=Math.max(r,L[p-1][i]);var a=e.value,n,u;switch(e._operation){case">":a>r&&(y.prefixBoundary=!0);break;case"<":(a<t||y.starts.length&&a===t)&&(y.prefixBoundary=!0);break;case"[]":n=Math.min(a[0],a[1]),u=Math.max(a[0],a[1]),(u<t||n>r||y.starts.length&&u===t)&&(y.prefixBoundary=!0);break;case"][":n=Math.min(a[0],a[1]),u=Math.max(a[0],a[1]),n<t&&u>r&&(y.prefixBoundary=!0);break}break}}},55296:function(U,B,e){var y=e(8932),L=e(41076),i=e(46960);function S(b,v,p){var r=v.contours,t=v.line,a=r.size||1,n=r.coloring,u=L(v,{isColorbar:!0});if(n==="heatmap"){var s=y.extractOpts(v);p._fillgradient=s.reversescale?y.flipScale(s.colorscale):s.colorscale,p._zrange=[s.min,s.max]}else n==="fill"&&(p._fillcolor=u);p._line={color:n==="lines"?u:t.color,width:r.showlines!==!1?t.width:0,dash:t.dash},p._levels={start:r.start,end:i(r),size:a}}U.exports={min:"zmin",max:"zmax",calc:S}},93252:function(U){U.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(U,B,e){var y=e(38248),L=e(17428),i=e(76308),S=i.addOpacity,b=i.opacity,v=e(69104),p=e(3400).isArrayOrTypedArray,r=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;U.exports=function(u,s,l,m,h,g){var c=s.contours,o,d,w,A=l("contours.operation");if(c._operation=r[A],a(l,c),A==="="?o=c.showlines=!0:(o=l("contours.showlines"),w=l("fillcolor",S((u.line||{}).color||h,.5))),o){var C=w&&b(w)?S(s.fillcolor,1):h;d=l("line.color",C),l("line.width",2),l("line.dash")}l("line.smoothing"),L(l,m,d,g)};function a(n,u){var s;t.indexOf(u.operation)===-1?(n("contours.value",[0,1]),p(u.value)?u.value.length>2?u.value=u.value.slice(2):u.length===0?u.value=[0,1]:u.length<2?(s=parseFloat(u.value[0]),u.value=[s,s+1]):u.value=[parseFloat(u.value[0]),parseFloat(u.value[1])]:y(u.value)&&(s=parseFloat(u.value),u.value=[s,s+1])):(n("contours.value",0),y(u.value)||(p(u.value)?u.value=parseFloat(u.value[0]):u.value=0))}},3212:function(U,B,e){var y=e(69104),L=e(38248);U.exports={"[]":S("[]"),"][":S("]["),">":b(">"),"<":b("<"),"=":b("=")};function i(v,p){var r=Array.isArray(p),t;function a(n){return L(n)?+n:null}return y.COMPARISON_OPS2.indexOf(v)!==-1?t=a(r?p[0]:p):y.INTERVAL_OPS.indexOf(v)!==-1?t=r?[a(p[0]),a(p[1])]:[a(p),a(p)]:y.SET_OPS.indexOf(v)!==-1&&(t=r?p.map(a):[a(p)]),t}function S(v){return function(p){p=i(v,p);var r=Math.min(p[0],p[1]),t=Math.max(p[0],p[1]);return{start:r,end:t,size:t-r}}}function b(v){return function(p){return p=i(v,p),{start:p,end:1/0,size:1/0}}}},84952:function(U){U.exports=function(e,y,L,i){var S=i("contours.start"),b=i("contours.end"),v=S===!1||b===!1,p=L("contours.size"),r;v?r=y.autocontour=!0:r=L("autocontour",!1),(r||!p)&&L("ncontours")}},82172:function(U,B,e){var y=e(3400);U.exports=function(i,S){var b,v,p,r=function(n){return n.reverse()},t=function(n){return n};switch(S){case"=":case"<":return i;case">":for(i.length!==1&&y.warn("Contour data invalid for the specified inequality operation."),v=i[0],b=0;b<v.edgepaths.length;b++)v.edgepaths[b]=r(v.edgepaths[b]);for(b=0;b<v.paths.length;b++)v.paths[b]=r(v.paths[b]);for(b=0;b<v.starts.length;b++)v.starts[b]=r(v.starts[b]);return i;case"][":var a=r;r=t,t=a;case"[]":for(i.length!==2&&y.warn("Contour data invalid for the specified inequality range operation."),v=L(i[0]),p=L(i[1]),b=0;b<v.edgepaths.length;b++)v.edgepaths[b]=r(v.edgepaths[b]);for(b=0;b<v.paths.length;b++)v.paths[b]=r(v.paths[b]);for(b=0;b<v.starts.length;b++)v.starts[b]=r(v.starts[b]);for(;p.edgepaths.length;)v.edgepaths.push(t(p.edgepaths.shift()));for(;p.paths.length;)v.paths.push(t(p.paths.shift()));for(;p.starts.length;)v.starts.push(t(p.starts.shift()));return[v]}};function L(i){return y.extendFlat({},i,{edgepaths:y.extendDeep([],i.edgepaths),paths:y.extendDeep([],i.paths),starts:y.extendDeep([],i.starts)})}},57004:function(U,B,e){var y=e(3400),L=e(51264),i=e(31147),S=e(95536),b=e(84952),v=e(97680),p=e(39096),r=e(67104);U.exports=function(a,n,u,s){function l(c,o){return y.coerce(a,n,r,c,o)}function m(c){return y.coerce2(a,n,r,c)}var h=L(a,n,l,s);if(!h){n.visible=!1;return}i(a,n,s,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hoverongaps"),l("hovertemplate");var g=l("contours.type")==="constraint";l("connectgaps",y.isArray1D(n.z)),g?S(a,n,l,s,u):(b(a,n,l,m),v(a,n,l,s)),n.contours&&n.contours.coloring==="heatmap"&&p(l,s)}},61512:function(U,B,e){var y=e(3400),L=e(3212),i=e(46960);U.exports=function(b,v,p){for(var r=b.type==="constraint"?L[b._operation](b.value):b,t=r.size,a=[],n=i(r),u=p.trace._carpetTrace,s=u?{xaxis:u.aaxis,yaxis:u.baxis,x:p.a,y:p.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:p.x,y:p.y},l=r.start;l<n;l+=t)if(a.push(y.extendFlat({level:l,crossings:{},starts:[],edgepaths:[],paths:[],z:p.z,smoothing:p.trace.line.smoothing},s)),a.length>1e3){y.warn("Too many contours, clipping at 1000",b);break}return a}},46960:function(U){U.exports=function(e){return e.end+e.size/1e6}},88748:function(U,B,e){var y=e(3400),L=e(93252);U.exports=function(t,a,n){var u,s,l,m,h;for(a=a||.01,n=n||.01,l=0;l<t.length;l++){for(m=t[l],h=0;h<m.starts.length;h++)s=m.starts[h],b(m,s,"edge",a,n);for(u=0;Object.keys(m.crossings).length&&u<1e4;)u++,s=Object.keys(m.crossings)[0].split(",").map(Number),b(m,s,void 0,a,n);u===1e4&&y.log("Infinite loop in contour?")}};function i(r,t,a,n){return Math.abs(r[0]-t[0])<a&&Math.abs(r[1]-t[1])<n}function S(r,t){var a=r[2]-t[2],n=r[3]-t[3];return Math.sqrt(a*a+n*n)}function b(r,t,a,n,u){var s=t.join(","),l=r.crossings[s],m=v(l,a,t),h=[p(r,t,[-m[0],-m[1]])],g=r.z.length,c=r.z[0].length,o=t.slice(),d=m.slice(),w;for(w=0;w<1e4;w++){if(l>20?(l=L.CHOOSESADDLE[l][(m[0]||m[1])<0?0:1],r.crossings[s]=L.SADDLEREMAINDER[l]):delete r.crossings[s],m=L.NEWDELTA[l],!m){y.log("Found bad marching index:",l,t,r.level);break}h.push(p(r,t,m)),t[0]+=m[0],t[1]+=m[1],s=t.join(","),i(h[h.length-1],h[h.length-2],n,u)&&h.pop();var A=m[0]&&(t[0]<0||t[0]>c-2)||m[1]&&(t[1]<0||t[1]>g-2),C=t[0]===o[0]&&t[1]===o[1]&&m[0]===d[0]&&m[1]===d[1];if(C||a&&A)break;l=r.crossings[s]}w===1e4&&y.log("Infinite loop in contour?");var x=i(h[0],h[h.length-1],n,u),E=0,M=.2*r.smoothing,f=[],P=0,T,z,_,V,F,N,k,I,H,j,ee;for(w=1;w<h.length;w++)k=S(h[w],h[w-1]),E+=k,f.push(k);var te=E/f.length*M;function ne(Y){return h[Y%h.length]}for(w=h.length-2;w>=P;w--)if(T=f[w],T<te){for(_=0,z=w-1;z>=P&&T+f[z]<te;z--)T+=f[z];if(x&&w===h.length-2)for(_=0;_<z&&T+f[_]<te;_++)T+=f[_];F=w-z+_+1,N=Math.floor((w+z+_+2)/2),!x&&w===h.length-2?V=h[h.length-1]:!x&&z===-1?V=h[0]:F%2?V=ne(N):V=[(ne(N)[0]+ne(N+1)[0])/2,(ne(N)[1]+ne(N+1)[1])/2],h.splice(z+1,w-z+1,V),w=z+1,_&&(P=_),x&&(w===h.length-2?h[_]=h[h.length-1]:w===0&&(h[h.length-1]=h[0]))}for(h.splice(0,P),w=0;w<h.length;w++)h[w].length=2;if(!(h.length<2))if(x)h.pop(),r.paths.push(h);else{a||y.log("Unclosed interior contour?",r.level,o.join(","),h.join("L"));var ue=!1;for(I=0;I<r.edgepaths.length;I++)if(j=r.edgepaths[I],!ue&&i(j[0],h[h.length-1],n,u)){h.pop(),ue=!0;var q=!1;for(H=0;H<r.edgepaths.length;H++)if(ee=r.edgepaths[H],i(ee[ee.length-1],h[0],n,u)){q=!0,h.shift(),r.edgepaths.splice(I,1),H===I?r.paths.push(h.concat(ee)):(H>I&&H--,r.edgepaths[H]=ee.concat(h,j));break}q||(r.edgepaths[I]=h.concat(j))}for(I=0;I<r.edgepaths.length&&!ue;I++)j=r.edgepaths[I],i(j[j.length-1],h[0],n,u)&&(h.shift(),r.edgepaths[I]=j.concat(h),ue=!0);ue||r.edgepaths.push(h)}}function v(r,t,a){var n=0,u=0;return r>20&&t?r===208||r===1114?n=a[0]===0?1:-1:u=a[1]===0?1:-1:L.BOTTOMSTART.indexOf(r)!==-1?u=1:L.LEFTSTART.indexOf(r)!==-1?n=1:L.TOPSTART.indexOf(r)!==-1?u=-1:n=-1,[n,u]}function p(r,t,a){var n=t[0]+Math.max(a[0],0),u=t[1]+Math.max(a[1],0),s=r.z[u][n],l=r.xaxis,m=r.yaxis;if(a[1]){var h=(r.level-s)/(r.z[u][n+1]-s),g=(h!==1?(1-h)*l.c2l(r.x[n]):0)+(h!==0?h*l.c2l(r.x[n+1]):0);return[l.c2p(l.l2c(g),!0),m.c2p(r.y[u],!0),n+h,u]}else{var c=(r.level-s)/(r.z[u+1][n]-s),o=(c!==1?(1-c)*m.c2l(r.y[u]):0)+(c!==0?c*m.c2l(r.y[u+1]):0);return[l.c2p(r.x[n],!0),m.c2p(m.l2c(o),!0),n,u+c]}}},38200:function(U,B,e){var y=e(76308),L=e(55512);U.exports=function(S,b,v,p,r){r||(r={}),r.isContour=!0;var t=L(S,b,v,p,r);return t&&t.forEach(function(a){var n=a.trace;n.contours.type==="constraint"&&(n.fillcolor&&y.opacity(n.fillcolor)?a.color=y.addOpacity(n.fillcolor,1):n.contours.showlines&&y.opacity(n.line.color)&&(a.color=y.addOpacity(n.line.color,1)))}),t}},66240:function(U,B,e){U.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(U,B,e){var y=e(3400);U.exports=function(i,S,b,v){v||(v={});var p=i("contours.showlabels");if(p){var r=S.font;y.coerceFont(i,"contours.labelfont",{family:r.family,size:r.size,color:b}),i("contours.labelformat")}v.hasHover!==!1&&i("zhoverformat")}},41076:function(U,B,e){var y=e(33428),L=e(8932),i=e(46960);U.exports=function(b){var v=b.contours,p=v.start,r=i(v),t=v.size||1,a=Math.floor((r-p)/t)+1,n=v.coloring==="lines"?0:1,u=L.extractOpts(b);isFinite(t)||(t=1,a=1);var s=u.reversescale?L.flipScale(u.colorscale):u.colorscale,l=s.length,m=new Array(l),h=new Array(l),g,c,o=u.min,d=u.max;if(v.coloring==="heatmap"){for(c=0;c<l;c++)g=s[c],m[c]=g[0]*(d-o)+o,h[c]=g[1];var w=y.extent([o,d,v.start,v.start+t*(a-1)]),A=w[o<d?0:1],C=w[o<d?1:0];A!==o&&(m.splice(0,0,A),h.splice(0,0,h[0])),C!==d&&(m.push(C),h.push(h[h.length-1]))}else{var x=b._input&&typeof b._input.zmin=="number"&&typeof b._input.zmax=="number";for(x&&(p<=o||r>=d)&&(p<=o&&(p=o),r>=d&&(r=d),a=Math.floor((r-p)/t)+1,n=0),c=0;c<l;c++)g=s[c],m[c]=(g[0]*(a+n-1)-n/2)*t+p,h[c]=g[1];(x||b.autocontour)&&(m[0]>o&&(m.unshift(o),h.unshift(h[0])),m[m.length-1]<d&&(m.push(d),h.push(h[h.length-1])))}return L.makeColorScaleFunc({domain:m,range:h},{noNumericCheck:!0})}},72424:function(U,B,e){var y=e(93252);U.exports=function(S){var b=S[0].z,v=b.length,p=b[0].length,r=v===2||p===2,t,a,n,u,s,l,m,h,g;for(a=0;a<v-1;a++)for(u=[],a===0&&(u=u.concat(y.BOTTOMSTART)),a===v-2&&(u=u.concat(y.TOPSTART)),t=0;t<p-1;t++)for(n=u.slice(),t===0&&(n=n.concat(y.LEFTSTART)),t===p-2&&(n=n.concat(y.RIGHTSTART)),s=t+","+a,l=[[b[a][t],b[a][t+1]],[b[a+1][t],b[a+1][t+1]]],g=0;g<S.length;g++)h=S[g],m=L(h.level,l),m&&(h.crossings[s]=m,n.indexOf(m)!==-1&&(h.starts.push([t,a]),r&&n.indexOf(m,n.indexOf(m)+1)!==-1&&h.starts.push([t,a])))};function L(i,S){var b=(S[0][0]>i?0:1)+(S[0][1]>i?0:2)+(S[1][1]>i?0:4)+(S[1][0]>i?0:8);if(b===5||b===10){var v=(S[0][0]+S[0][1]+S[1][0]+S[1][1])/4;return i>v?b===5?713:1114:b===5?104:208}return b===15?0:b}},23676:function(U,B,e){var y=e(33428),L=e(3400),i=e(43616),S=e(8932),b=e(72736),v=e(54460),p=e(78344),r=e(41420),t=e(72424),a=e(88748),n=e(61512),u=e(82172),s=e(56008),l=e(93252),m=l.LABELOPTIMIZER;B.plot=function(x,E,M,f){var P=E.xaxis,T=E.yaxis;L.makeTraceGroups(f,M,"contour").each(function(z){var _=y.select(this),V=z[0],F=V.trace,N=V.x,k=V.y,I=F.contours,H=n(I,E,V),j=L.ensureSingle(_,"g","heatmapcoloring"),ee=[];I.coloring==="heatmap"&&(ee=[z]),r(x,E,ee,j),t(H),a(H);var te=P.c2p(N[0],!0),ne=P.c2p(N[N.length-1],!0),ue=T.c2p(k[0],!0),q=T.c2p(k[k.length-1],!0),Y=[[te,q],[ne,q],[ne,ue],[te,ue]],Z=H;I.type==="constraint"&&(Z=u(H,I._operation)),h(_,Y,I),g(_,Z,Y,I),o(_,H,x,V,I),w(_,E,x,V,Y)})};function h(C,x,E){var M=L.ensureSingle(C,"g","contourbg"),f=M.selectAll("path").data(E.coloring==="fill"?[0]:[]);f.enter().append("path"),f.exit().remove(),f.attr("d","M"+x.join("L")+"Z").style("stroke","none")}function g(C,x,E,M){var f=M.coloring==="fill"||M.type==="constraint"&&M._operation!=="=",P="M"+E.join("L")+"Z";f&&s(x,M);var T=L.ensureSingle(C,"g","contourfill"),z=T.selectAll("path").data(f?x:[]);z.enter().append("path"),z.exit().remove(),z.each(function(_){var V=(_.prefixBoundary?P:"")+c(_,E);V?y.select(this).attr("d",V).style("stroke","none"):y.select(this).remove()})}function c(C,x){var E="",M=0,f=C.edgepaths.map(function(te,ne){return ne}),P=!0,T,z,_,V,F,N;function k(te){return Math.abs(te[1]-x[0][1])<.01}function I(te){return Math.abs(te[1]-x[2][1])<.01}function H(te){return Math.abs(te[0]-x[0][0])<.01}function j(te){return Math.abs(te[0]-x[2][0])<.01}for(;f.length;){for(N=i.smoothopen(C.edgepaths[M],C.smoothing),E+=P?N:N.replace(/^M/,"L"),f.splice(f.indexOf(M),1),T=C.edgepaths[M][C.edgepaths[M].length-1],V=-1,_=0;_<4;_++){if(!T){L.log("Missing end?",M,C);break}for(k(T)&&!j(T)?z=x[1]:H(T)?z=x[0]:I(T)?z=x[3]:j(T)&&(z=x[2]),F=0;F<C.edgepaths.length;F++){var ee=C.edgepaths[F][0];Math.abs(T[0]-z[0])<.01?Math.abs(T[0]-ee[0])<.01&&(ee[1]-T[1])*(z[1]-ee[1])>=0&&(z=ee,V=F):Math.abs(T[1]-z[1])<.01?Math.abs(T[1]-ee[1])<.01&&(ee[0]-T[0])*(z[0]-ee[0])>=0&&(z=ee,V=F):L.log("endpt to newendpt is not vert. or horz.",T,z,ee)}if(T=z,V>=0)break;E+="L"+z}if(V===C.edgepaths.length){L.log("unclosed perimeter path");break}M=V,P=f.indexOf(M)===-1,P&&(M=f[0],E+="Z")}for(M=0;M<C.paths.length;M++)E+=i.smoothclosed(C.paths[M],C.smoothing);return E}function o(C,x,E,M,f){var P=E._context.staticPlot,T=L.ensureSingle(C,"g","contourlines"),z=f.showlines!==!1,_=f.showlabels,V=z&&_,F=B.createLines(T,z||_,x,P),N=B.createLineClip(T,V,E,M.trace.uid),k=C.selectAll("g.contourlabels").data(_?[0]:[]);if(k.exit().remove(),k.enter().append("g").classed("contourlabels",!0),_){var I=[],H=[];L.clearLocationCache();var j=B.labelFormatter(E,M),ee=i.tester.append("text").attr("data-notex",1).call(i.font,f.labelfont),te=x[0].xaxis,ne=x[0].yaxis,ue=te._length,q=ne._length,Y=te.range,Z=ne.range,G=L.aggNums(Math.min,null,M.x),K=L.aggNums(Math.max,null,M.x),oe=L.aggNums(Math.min,null,M.y),$=L.aggNums(Math.max,null,M.y),J=Math.max(te.c2p(G,!0),0),se=Math.min(te.c2p(K,!0),ue),ie=Math.max(ne.c2p($,!0),0),ce=Math.min(ne.c2p(oe,!0),q),ye={};Y[0]<Y[1]?(ye.left=J,ye.right=se):(ye.left=se,ye.right=J),Z[0]<Z[1]?(ye.top=ie,ye.bottom=ce):(ye.top=ce,ye.bottom=ie),ye.middle=(ye.top+ye.bottom)/2,ye.center=(ye.left+ye.right)/2,I.push([[ye.left,ye.top],[ye.right,ye.top],[ye.right,ye.bottom],[ye.left,ye.bottom]]);var Se=Math.sqrt(ue*ue+q*q),Te=l.LABELDISTANCE*Se/Math.max(1,x.length/l.LABELINCREASE);F.each(function(ke){var we=B.calcTextOpts(ke.level,j,ee,E);y.select(this).selectAll("path").each(function(){var Ee=this,xe=L.getVisibleSegment(Ee,ye,we.height/2);if(xe&&!(xe.len<(we.width+we.height)*l.LABELMIN))for(var De=Math.min(Math.ceil(xe.len/Te),l.LABELMAX),Ve=0;Ve<De;Ve++){var Ue=B.findBestTextLocation(Ee,xe,we,H,ye);if(!Ue)break;B.addLabelData(Ue,we,H,I)}})}),ee.remove(),B.drawLabels(k,H,E,N,V?I:null)}_&&!z&&F.remove()}B.createLines=function(C,x,E,M){var f=E[0].smoothing,P=C.selectAll("g.contourlevel").data(x?E:[]);if(P.exit().remove(),P.enter().append("g").classed("contourlevel",!0),x){var T=P.selectAll("path.openline").data(function(_){return _.pedgepaths||_.edgepaths});T.exit().remove(),T.enter().append("path").classed("openline",!0),T.attr("d",function(_){return i.smoothopen(_,f)}).style("stroke-miterlimit",1).style("vector-effect",M?"none":"non-scaling-stroke");var z=P.selectAll("path.closedline").data(function(_){return _.ppaths||_.paths});z.exit().remove(),z.enter().append("path").classed("closedline",!0),z.attr("d",function(_){return i.smoothclosed(_,f)}).style("stroke-miterlimit",1).style("vector-effect",M?"none":"non-scaling-stroke")}return P},B.createLineClip=function(C,x,E,M){var f=E._fullLayout._clips,P=x?"clipline"+M:null,T=f.selectAll("#"+P).data(x?[0]:[]);return T.exit().remove(),T.enter().append("clipPath").classed("contourlineclip",!0).attr("id",P),i.setClipUrl(C,P,E),T},B.labelFormatter=function(C,x){var E=C._fullLayout,M=x.trace,f=M.contours,P={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(f.labelformat)P.tickformat=f.labelformat,p(P,E);else{var T=S.extractOpts(M);if(T&&T.colorbar&&T.colorbar._axis)P=T.colorbar._axis;else{if(f.type==="constraint"){var z=f.value;L.isArrayOrTypedArray(z)?P.range=[z[0],z[z.length-1]]:P.range=[z,z]}else P.range=[f.start,f.end],P.nticks=(f.end-f.start)/f.size;P.range[0]===P.range[1]&&(P.range[1]+=P.range[0]||1),P.nticks||(P.nticks=1e3),p(P,E),v.prepTicks(P),P._tmin=null,P._tmax=null}}return function(_){return v.tickText(P,_).text}},B.calcTextOpts=function(C,x,E,M){var f=x(C);E.text(f).call(b.convertToTspans,M);var P=E.node(),T=i.bBox(P,!0);return{text:f,width:T.width,height:T.height,fontSize:+P.style["font-size"].replace("px",""),level:C,dy:(T.top+T.bottom)/2}},B.findBestTextLocation=function(C,x,E,M,f){var P=E.width,T,z,_,V,F;x.isClosed?(z=x.len/m.INITIALSEARCHPOINTS,T=x.min+z/2,_=x.max):(z=(x.len-P)/(m.INITIALSEARCHPOINTS+1),T=x.min+z+P/2,_=x.max-(z+P)/2);for(var N=1/0,k=0;k<m.ITERATIONS;k++){for(var I=T;I<_;I+=z){var H=L.getTextLocation(C,x.total,I,P),j=d(H,E,M,f);j<N&&(N=j,F=H,V=I)}if(N>m.MAXCOST*2)break;k&&(z/=2),T=V-z/2,_=T+z*1.5}if(N<=m.MAXCOST)return F};function d(C,x,E,M){var f=x.width/2,P=x.height/2,T=C.x,z=C.y,_=C.theta,V=Math.cos(_)*f,F=Math.sin(_)*f,N=(T>M.center?M.right-T:T-M.left)/(V+Math.abs(Math.sin(_)*P)),k=(z>M.middle?M.bottom-z:z-M.top)/(Math.abs(F)+Math.cos(_)*P);if(N<1||k<1)return 1/0;var I=m.EDGECOST*(1/(N-1)+1/(k-1));I+=m.ANGLECOST*_*_;for(var H=T-V,j=z-F,ee=T+V,te=z+F,ne=0;ne<E.length;ne++){var ue=E[ne],q=Math.cos(ue.theta)*ue.width/2,Y=Math.sin(ue.theta)*ue.width/2,Z=L.segmentDistance(H,j,ee,te,ue.x-q,ue.y-Y,ue.x+q,ue.y+Y)*2/(x.height+ue.height),G=ue.level===x.level,K=G?m.SAMELEVELDISTANCE:1;if(Z<=K)return 1/0;var oe=m.NEIGHBORCOST*(G?m.SAMELEVELFACTOR:1);I+=oe/(Z-K)}return I}B.addLabelData=function(C,x,E,M){var f=x.fontSize,P=x.width+f/3,T=Math.max(0,x.height-f/3),z=C.x,_=C.y,V=C.theta,F=Math.sin(V),N=Math.cos(V),k=function(H,j){return[z+H*N-j*F,_+H*F+j*N]},I=[k(-P/2,-T/2),k(-P/2,T/2),k(P/2,T/2),k(P/2,-T/2)];E.push({text:x.text,x:z,y:_,dy:x.dy,theta:V,level:x.level,width:P,height:T}),M.push(I)},B.drawLabels=function(C,x,E,M,f){var P=C.selectAll("text").data(x,function(V){return V.text+","+V.x+","+V.y+","+V.theta});if(P.exit().remove(),P.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(V){var F=V.x+Math.sin(V.theta)*V.dy,N=V.y-Math.cos(V.theta)*V.dy;y.select(this).text(V.text).attr({x:F,y:N,transform:"rotate("+180*V.theta/Math.PI+" "+F+" "+N+")"}).call(b.convertToTspans,E)}),f){for(var T="",z=0;z<f.length;z++)T+="M"+f[z].join("L")+"Z";var _=L.ensureSingle(M,"path","");_.attr("d",T)}};function w(C,x,E,M,f){var P=M.trace,T=E._fullLayout._clips,z="clip"+P.uid,_=T.selectAll("#"+z).data(P.connectgaps?[]:[0]);if(_.enter().append("clipPath").classed("contourclip",!0).attr("id",z),_.exit().remove(),P.connectgaps===!1){var V={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:x.xaxis,yaxis:x.yaxis,x:M.x,y:M.y,z:A(M),smoothing:0};t([V]),a([V]),s([V],{type:"levels"});var F=L.ensureSingle(_,"path","");F.attr("d",(V.prefixBoundary?"M"+f.join("L")+"Z":"")+c(V,f))}else z=null;i.setClipUrl(C,z,E)}function A(C){var x=C.trace._emptypoints,E=[],M=C.z.length,f=C.z[0].length,P,T=[],z;for(P=0;P<f;P++)T.push(1);for(P=0;P<M;P++)E.push(T.slice());for(P=0;P<x.length;P++)z=x[P],E[z[0]][z[1]]=0;return C.zmask=E,E}},54444:function(U,B,e){var y=e(54460),L=e(3400);U.exports=function(b,v){var p=b.contours;if(b.autocontour){var r=b.zmin,t=b.zmax;(b.zauto||r===void 0)&&(r=L.aggNums(Math.min,null,v)),(b.zauto||t===void 0)&&(t=L.aggNums(Math.max,null,v));var a=i(r,t,b.ncontours);p.size=a.dtick,p.start=y.tickFirst(a),a.range.reverse(),p.end=y.tickFirst(a),p.start===r&&(p.start+=p.size),p.end===t&&(p.end-=p.size),p.start>p.end&&(p.start=p.end=(p.start+p.end)/2),b._input.contours||(b._input.contours={}),L.extendFlat(b._input.contours,{start:p.start,end:p.end,size:p.size}),b._input.autocontour=!0}else if(p.type!=="constraint"){var n=p.start,u=p.end,s=b._input.contours;if(n>u&&(p.start=s.start=u,u=p.end=s.end=n,n=p.start),!(p.size>0)){var l;n===u?l=1:l=i(n,u,b.ncontours).dtick,s.size=p.size=l}}};function i(S,b,v){var p={type:"linear",range:[S,b]};return y.autoTicks(p,(b-S)/(v||15)),p}},52440:function(U,B,e){var y=e(33428),L=e(43616),i=e(41648),S=e(41076);U.exports=function(v){var p=y.select(v).selectAll("g.contour");p.style("opacity",function(r){return r[0].trace.opacity}),p.each(function(r){var t=y.select(this),a=r[0].trace,n=a.contours,u=a.line,s=n.size||1,l=n.start,m=n.type==="constraint",h=!m&&n.coloring==="lines",g=!m&&n.coloring==="fill",c=h||g?S(a):null;t.selectAll("g.contourlevel").each(function(w){y.select(this).selectAll("path").call(L.lineGroupStyle,u.width,h?c(w.level):u.color,u.dash)});var o=n.labelfont;if(t.selectAll("g.contourlabels text").each(function(w){L.font(y.select(this),{family:o.family,size:o.size,color:o.color||(h?c(w.level):u.color)})}),m)t.selectAll("g.contourfill path").style("fill",a.fillcolor);else if(g){var d;t.selectAll("g.contourfill path").style("fill",function(w){return d===void 0&&(d=w.level),c(w.level+.5*s)}),d===void 0&&(d=l),t.selectAll("g.contourbg path").style("fill",c(d-.5*s))}}),i(v)}},97680:function(U,B,e){var y=e(27260),L=e(17428);U.exports=function(S,b,v,p,r){var t=v("contours.coloring"),a,n="";t==="fill"&&(a=v("contours.showlines")),a!==!1&&(t!=="lines"&&(n=v("line.color","#000")),v("line.width",.5),v("line.dash")),t!=="none"&&(S.showlegend!==!0&&(b.showlegend=!1),b._dfltShowLegend=!1,y(S,b,p,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),L(v,p,n,r)}},37960:function(U,B,e){var y=e(83328),L=e(67104),i=e(49084),S=e(92880).extendFlat,b=L.contours;U.exports=S({carpet:{valType:"string",editType:"calc"},z:y.z,a:y.x,a0:y.x0,da:y.dx,b:y.y,b0:y.y0,db:y.dy,text:y.text,hovertext:y.hovertext,transpose:y.transpose,atype:y.xtype,btype:y.ytype,fillcolor:L.fillcolor,autocontour:L.autocontour,ncontours:L.ncontours,contours:{type:b.type,start:b.start,end:b.end,size:b.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:b.showlines,showlabels:b.showlabels,labelfont:b.labelfont,labelformat:b.labelformat,operation:b.operation,value:b.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:L.line.color,width:L.line.width,dash:L.line.dash,smoothing:L.line.smoothing,editType:"plot"},transforms:void 0},i("",{cLetter:"z",autoColorDflt:!1}))},30572:function(U,B,e){var y=e(47128),L=e(3400),i=e(2872),S=e(26136),b=e(70448),v=e(11240),p=e(35744),r=e(3252),t=e(50948),a=e(54444);U.exports=function(s,l){var m=l._carpetTrace=t(s,l);if(!(!m||!m.visible||m.visible==="legendonly")){if(!l.a||!l.b){var h=s.data[m.index],g=s.data[l.index];g.a||(g.a=h.a),g.b||(g.b=h.b),r(g,l,l._defaultColor,s._fullLayout)}var c=n(s,l);return a(l,l._z),c}};function n(u,s){var l=s._carpetTrace,m=l.aaxis,h=l.baxis,g,c,o,d,w,A,C;m._minDtick=0,h._minDtick=0,L.isArray1D(s.z)&&i(s,m,h,"a","b",["z"]),g=s._a=s._a||s.a,d=s._b=s._b||s.b,g=g?m.makeCalcdata(s,"_a"):[],d=d?h.makeCalcdata(s,"_b"):[],c=s.a0||0,o=s.da||1,w=s.b0||0,A=s.db||1,C=s._z=S(s._z||s.z,s.transpose),s._emptypoints=v(C),b(C,s._emptypoints);var x=L.maxRowLength(C),E=s.xtype==="scaled"?"":g,M=p(s,E,c,o,x,m),f=s.ytype==="scaled"?"":d,P=p(s,f,w,A,C.length,h),T={a:M,b:P,z:C};return s.contours.type==="levels"&&s.contours.coloring!=="none"&&y(u,s,{vals:C,containerStr:"",cLetter:"z"}),[T]}},3252:function(U,B,e){var y=e(3400),L=e(51264),i=e(37960),S=e(95536),b=e(84952),v=e(97680);U.exports=function(r,t,a,n){function u(h,g){return y.coerce(r,t,i,h,g)}function s(h){return y.coerce2(r,t,i,h)}if(u("carpet"),r.a&&r.b){var l=L(r,t,u,n,"a","b");if(!l){t.visible=!1;return}u("text");var m=u("contours.type")==="constraint";m?S(r,t,u,n,a,{hasHover:!1}):(b(r,t,u,s),v(r,t,u,n,{hasHover:!1}))}else t._defaultColor=a,t._length=null}},40448:function(U,B,e){U.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(U,B,e){var y=e(33428),L=e(87072),i=e(53416),S=e(43616),b=e(3400),v=e(72424),p=e(88748),r=e(23676),t=e(93252),a=e(82172),n=e(61512),u=e(56008),s=e(50948),l=e(77712);U.exports=function(E,M,f,P){var T=M.xaxis,z=M.yaxis;b.makeTraceGroups(P,f,"contour").each(function(_){var V=y.select(this),F=_[0],N=F.trace,k=N._carpetTrace=s(E,N),I=E.calcdata[k.index][0];if(!k.visible||k.visible==="legendonly")return;var H=F.a,j=F.b,ee=N.contours,te=n(ee,M,F),ne=ee.type==="constraint",ue=ee._operation,q=ne?ue==="="?"lines":"fill":ee.coloring;function Y(Se){var Te=k.ab2xy(Se[0],Se[1],!0);return[T.c2p(Te[0]),z.c2p(Te[1])]}var Z=[[H[0],j[j.length-1]],[H[H.length-1],j[j.length-1]],[H[H.length-1],j[0]],[H[0],j[0]]];v(te);var G=(H[H.length-1]-H[0])*1e-8,K=(j[j.length-1]-j[0])*1e-8;p(te,G,K);var oe=te;ee.type==="constraint"&&(oe=a(te,ue)),m(te,Y);var $,J,se,ie,ce=[];for(ie=I.clipsegments.length-1;ie>=0;ie--)$=I.clipsegments[ie],J=L([],$.x,T.c2p),se=L([],$.y,z.c2p),J.reverse(),se.reverse(),ce.push(i(J,se,$.bicubic));var ye="M"+ce.join("L")+"Z";w(V,I.clipsegments,T,z,ne,q),A(N,V,T,z,oe,Z,Y,k,I,q,ye),h(V,te,E,F,ee,M,k),S.setClipUrl(V,k._clipPathId,E)})};function m(x,E){var M,f,P,T,z,_,V,F,N;for(M=0;M<x.length;M++){for(T=x[M],z=T.pedgepaths=[],_=T.ppaths=[],f=0;f<T.edgepaths.length;f++){for(N=T.edgepaths[f],V=[],P=0;P<N.length;P++)V[P]=E(N[P]);z.push(V)}for(f=0;f<T.paths.length;f++){for(N=T.paths[f],F=[],P=0;P<N.length;P++)F[P]=E(N[P]);_.push(F)}}}function h(x,E,M,f,P,T,z){var _=M._context.staticPlot,V=b.ensureSingle(x,"g","contourlines"),F=P.showlines!==!1,N=P.showlabels,k=F&&N,I=r.createLines(V,F||N,E,_),H=r.createLineClip(V,k,M,f.trace.uid),j=x.selectAll("g.contourlabels").data(N?[0]:[]);if(j.exit().remove(),j.enter().append("g").classed("contourlabels",!0),N){var ee=T.xaxis,te=T.yaxis,ne=ee._length,ue=te._length,q=[[[0,0],[ne,0],[ne,ue],[0,ue]]],Y=[];b.clearLocationCache();var Z=r.labelFormatter(M,f),G=S.tester.append("text").attr("data-notex",1).call(S.font,P.labelfont),K={left:0,right:ne,center:ne/2,top:0,bottom:ue,middle:ue/2},oe=Math.sqrt(ne*ne+ue*ue),$=t.LABELDISTANCE*oe/Math.max(1,E.length/t.LABELINCREASE);I.each(function(J){var se=r.calcTextOpts(J.level,Z,G,M);y.select(this).selectAll("path").each(function(ie){var ce=this,ye=b.getVisibleSegment(ce,K,se.height/2);if(ye&&(g(ce,ie,J,ye,z,se.height),!(ye.len<(se.width+se.height)*t.LABELMIN)))for(var Se=Math.min(Math.ceil(ye.len/$),t.LABELMAX),Te=0;Te<Se;Te++){var ke=r.findBestTextLocation(ce,ye,se,Y,K);if(!ke)break;r.addLabelData(ke,se,Y,q)}})}),G.remove(),r.drawLabels(j,Y,M,H,k?q:null)}N&&!F&&I.remove()}function g(x,E,M,f,P,T){for(var z,_=0;_<M.pedgepaths.length;_++)E===M.pedgepaths[_]&&(z=M.edgepaths[_]);if(!z)return;var V=P.a[0],F=P.a[P.a.length-1],N=P.b[0],k=P.b[P.b.length-1];function I(ne,ue){var q=0,Y,Z=.1;return(Math.abs(ne[0]-V)<Z||Math.abs(ne[0]-F)<Z)&&(Y=o(P.dxydb_rough(ne[0],ne[1],Z)),q=Math.max(q,T*d(ue,Y)/2)),(Math.abs(ne[1]-N)<Z||Math.abs(ne[1]-k)<Z)&&(Y=o(P.dxyda_rough(ne[0],ne[1],Z)),q=Math.max(q,T*d(ue,Y)/2)),q}var H=c(x,0,1),j=c(x,f.total,f.total-1),ee=I(z[0],H),te=f.total-I(z[z.length-1],j);f.min<ee&&(f.min=ee),f.max>te&&(f.max=te),f.len=f.max-f.min}function c(x,E,M){var f=x.getPointAtLength(E),P=x.getPointAtLength(M),T=P.x-f.x,z=P.y-f.y,_=Math.sqrt(T*T+z*z);return[T/_,z/_]}function o(x){var E=Math.sqrt(x[0]*x[0]+x[1]*x[1]);return[x[0]/E,x[1]/E]}function d(x,E){var M=Math.abs(x[0]*E[0]+x[1]*E[1]),f=Math.sqrt(1-M*M);return f/M}function w(x,E,M,f,P,T){var z,_,V,F,N=b.ensureSingle(x,"g","contourbg"),k=N.selectAll("path").data(T==="fill"&&!P?[0]:[]);k.enter().append("path"),k.exit().remove();var I=[];for(F=0;F<E.length;F++)z=E[F],_=L([],z.x,M.c2p),V=L([],z.y,f.c2p),I.push(i(_,V,z.bicubic));k.attr("d","M"+I.join("L")+"Z").style("stroke","none")}function A(x,E,M,f,P,T,z,_,V,F,N){var k=F==="fill";k&&u(P,x.contours);var I=b.ensureSingle(E,"g","contourfill"),H=I.selectAll("path").data(k?P:[]);H.enter().append("path"),H.exit().remove(),H.each(function(j){var ee=(j.prefixBoundary?N:"")+C(x,j,T,z,_,V,M,f);ee?y.select(this).attr("d",ee).style("stroke","none"):y.select(this).remove()})}function C(x,E,M,f,P,T,z,_){var V,F="",N=E.edgepaths.map(function(se,ie){return ie}),k=!0,I,H,j,ee,te,ne,ue=Math.abs(M[0][0]-M[2][0])*1e-4,q=Math.abs(M[0][1]-M[2][1])*1e-4;function Y(se){return Math.abs(se[1]-M[0][1])<q}function Z(se){return Math.abs(se[1]-M[2][1])<q}function G(se){return Math.abs(se[0]-M[0][0])<ue}function K(se){return Math.abs(se[0]-M[2][0])<ue}function oe(se,ie){var ce,ye,Se,Te,ke="";for(Y(se)&&!K(se)||Z(se)&&!G(se)?(Te=P.aaxis,Se=l(P,T,[se[0],ie[0]],.5*(se[1]+ie[1]))):(Te=P.baxis,Se=l(P,T,.5*(se[0]+ie[0]),[se[1],ie[1]])),ce=1;ce<Se.length;ce++)for(ke+=Te.smoothing?"C":"L",ye=0;ye<Se[ce].length;ye++){var we=Se[ce][ye];ke+=[z.c2p(we[0]),_.c2p(we[1])]+" "}return ke}for(V=0,I=null;N.length;){var $=E.edgepaths[V][0];for(I&&(F+=oe(I,$)),ne=S.smoothopen(E.edgepaths[V].map(f),E.smoothing),F+=k?ne:ne.replace(/^M/,"L"),N.splice(N.indexOf(V),1),I=E.edgepaths[V][E.edgepaths[V].length-1],ee=-1,j=0;j<4;j++){if(!I){b.log("Missing end?",V,E);break}for(Y(I)&&!K(I)?H=M[1]:G(I)?H=M[0]:Z(I)?H=M[3]:K(I)&&(H=M[2]),te=0;te<E.edgepaths.length;te++){var J=E.edgepaths[te][0];Math.abs(I[0]-H[0])<ue?Math.abs(I[0]-J[0])<ue&&(J[1]-I[1])*(H[1]-J[1])>=0&&(H=J,ee=te):Math.abs(I[1]-H[1])<q?Math.abs(I[1]-J[1])<q&&(J[0]-I[0])*(H[0]-J[0])>=0&&(H=J,ee=te):b.log("endpt to newendpt is not vert. or horz.",I,H,J)}if(ee>=0)break;F+=oe(I,H),I=H}if(ee===E.edgepaths.length){b.log("unclosed perimeter path");break}V=ee,k=N.indexOf(V)===-1,k&&(V=N[0],F+=oe(I,H)+"Z",I=null)}for(V=0;V<E.paths.length;V++)F+=S.smoothclosed(E.paths[V].map(f),E.smoothing);return F}},33928:function(U,B,e){var y=e(49084),L=e(21776).Ks,i=e(45464),S=e(31512),b=e(92880).extendFlat;U.exports=b({lon:S.lon,lat:S.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:S.text,hovertext:S.hovertext,hoverinfo:b({},i.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:L(),showlegend:b({},i.showlegend,{dflt:!1})},y("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(U,B,e){var y=e(38248),L=e(3400).isArrayOrTypedArray,i=e(39032).BADNUM,S=e(47128),b=e(3400)._;U.exports=function(p,r){for(var t=r._length,a=new Array(t),n=r.z,u=L(n)&&n.length,s=0;s<t;s++){var l=a[s]={},m=r.lon[s],h=r.lat[s];if(l.lonlat=y(m)&&y(h)?[+m,+h]:[i,i],u){var g=n[s];l.z=y(g)?g:i}}return S(p,r,{vals:u?n:[0,1],containerStr:"",cLetter:"z"}),t&&(a[0].t={labels:{lat:b(p,"lat:")+" ",lon:b(p,"lon:")+" "}}),a}},4629:function(U,B,e){var y=e(38248),L=e(3400),i=e(76308),S=e(8932),b=e(39032).BADNUM,v=e(44808).makeBlank;U.exports=function(r){var t=r[0].trace,a=t.visible===!0&&t._length!==0,n={layout:{visibility:"none"},paint:{}},u=t._opts={heatmap:n,geojson:v()};if(!a)return u;var s=[],l,m=t.z,h=t.radius,g=L.isArrayOrTypedArray(m)&&m.length,c=L.isArrayOrTypedArray(h);for(l=0;l<r.length;l++){var o=r[l],d=o.lonlat;if(d[0]!==b){var w={};if(g){var A=o.z;w.z=A!==b?A:0}c&&(w.r=y(h[l])&&h[l]>0?+h[l]:0),s.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:w})}}var C=S.extractOpts(t),x=C.reversescale?S.flipScale(C.colorscale):C.colorscale,E=x[0][1],M=i.opacity(E)<1?E:i.addOpacity(E,0),f=["interpolate",["linear"],["heatmap-density"],0,M];for(l=1;l<x.length;l++)f.push(x[l][0],x[l][1]);var P=["interpolate",["linear"],["get","z"],C.min,0,C.max,1];return L.extendFlat(u.heatmap.paint,{"heatmap-weight":g?P:1/(C.max-C.min),"heatmap-color":f,"heatmap-radius":c?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),u.geojson={type:"FeatureCollection",features:s},u.heatmap.layout.visibility="visible",u}},97664:function(U,B,e){var y=e(3400),L=e(27260),i=e(33928);U.exports=function(b,v,p,r){function t(s,l){return y.coerce(b,v,i,s,l)}var a=t("lon")||[],n=t("lat")||[],u=Math.min(a.length,n.length);if(!u){v.visible=!1;return}v._length=u,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),L(b,v,r,t,{prefix:"",cLetter:"z"})}},96176:function(U){U.exports=function(e,y){return e.lon=y.lon,e.lat=y.lat,e.z=y.z,e}},25336:function(U,B,e){var y=e(54460),L=e(63312).hoverPoints,i=e(63312).getExtraText;U.exports=function(b,v,p){var r=L(b,v,p);if(r){var t=r[0],a=t.cd,n=a[0].trace,u=a[t.index];if(delete t.color,"z"in u){var s=t.subplot.mockAxis;t.z=u.z,t.zLabel=y.tickText(s,s.c2l(u.z),"hover").text}return t.extraText=i(n,u,a[0].t.labels),[t]}}},15088:function(U,B,e){U.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(y,L){for(var i=L.getMapLayers(),S=0;S<i.length;S++){var b=i[S],v=b.id;if(b.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(U,B,e){var y=e(4629),L=e(47552).traceLayerPrefix;function i(b,v){this.type="densitymapbox",this.subplot=b,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",L+v+"-heatmap"]],this.below=null}var S=i.prototype;S.update=function(b){var v=this.subplot,p=this.layerList,r=y(b),t=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(r.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(r,t),this.below=t);for(var a=0;a<p.length;a++){var n=p[a],u=n[0],s=n[1],l=r[u];v.setOptions(s,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&v.setOptions(s,"setPaintProperty",l.paint)}},S._addLayers=function(b,v){for(var p=this.subplot,r=this.layerList,t=this.sourceId,a=0;a<r.length;a++){var n=r[a],u=n[0],s=b[u];p.addLayer({type:u,id:n[1],source:t,layout:s.layout,paint:s.paint},v)}},S._removeLayers=function(){for(var b=this.subplot.map,v=this.layerList,p=v.length-1;p>=0;p--)b.removeLayer(v[p][1])},S.dispose=function(){var b=this.subplot.map;this._removeLayers(),b.removeSource(this.sourceId)},U.exports=function(v,p){var r=p[0].trace,t=new i(v,r.uid),a=t.sourceId,n=y(p),u=t.below=v.belowLookup["trace-"+r.uid];return v.map.addSource(a,{type:"geojson",data:n.geojson}),t._addLayers(n,u),t}},74248:function(U,B,e){var y=e(3400);U.exports=function(i,S){for(var b=0;b<i.length;b++)i[b].i=b;y.mergeArray(S.text,i,"tx"),y.mergeArray(S.hovertext,i,"htx");var v=S.marker;if(v){y.mergeArray(v.opacity,i,"mo"),y.mergeArray(v.color,i,"mc");var p=v.line;p&&(y.mergeArray(p.color,i,"mlc"),y.mergeArrayCastPositive(p.width,i,"mlw"))}}},20088:function(U,B,e){var y=e(20832),L=e(52904).line,i=e(45464),S=e(29736).axisHoverFormat,b=e(21776).Ks,v=e(21776).Gw,p=e(74732),r=e(92880).extendFlat,t=e(76308);U.exports={x:y.x,x0:y.x0,dx:y.dx,y:y.y,y0:y.y0,dy:y.dy,xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),hovertext:y.hovertext,hovertemplate:b({},{keys:p.eventDataKeys}),hoverinfo:r({},i.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),text:y.text,textposition:y.textposition,insidetextanchor:r({},y.insidetextanchor,{dflt:"middle"}),textangle:r({},y.textangle,{dflt:0}),textfont:y.textfont,insidetextfont:y.insidetextfont,outsidetextfont:y.outsidetextfont,constraintext:y.constraintext,cliponaxis:y.cliponaxis,orientation:r({},y.orientation,{}),offset:r({},y.offset,{arrayOk:!1}),width:r({},y.width,{arrayOk:!1}),marker:a(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},L.color,{dflt:t.defaultLine}),width:r({},L.width,{dflt:0,editType:"plot"}),dash:L.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup};function a(){var n=r({},y.marker);return delete n.pattern,delete n.cornerradius,n}},23096:function(U,B,e){var y=e(54460),L=e(1220),i=e(74248),S=e(4500),b=e(39032).BADNUM;U.exports=function(r,t){var a=y.getFromId(r,t.xaxis||"x"),n=y.getFromId(r,t.yaxis||"y"),u,s,l,m,h,g,c,o;t.orientation==="h"?(u=a.makeCalcdata(t,"x"),l=n.makeCalcdata(t,"y"),m=L(t,n,"y",l),h=!!t.yperiodalignment,g="y"):(u=n.makeCalcdata(t,"y"),l=a.makeCalcdata(t,"x"),m=L(t,a,"x",l),h=!!t.xperiodalignment,g="x"),s=m.vals;var d=Math.min(s.length,u.length),w=new Array(d);for(t._base=[],c=0;c<d;c++){u[c]<0&&(u[c]=b);var A=!1;u[c]!==b&&c+1<d&&u[c+1]!==b&&(A=!0),o=w[c]={p:s[c],s:u[c],cNext:A},t._base[c]=-.5*o.s,h&&(w[c].orig_p=l[c],w[c][g+"End"]=m.ends[c],w[c][g+"Start"]=m.starts[c]),t.ids&&(o.id=String(t.ids[c])),c===0&&(w[0].vTotal=0),w[0].vTotal+=v(o.s),o.begR=v(o.s)/v(w[0].s)}var C;for(c=0;c<d;c++)o=w[c],o.s!==b&&(o.sumR=o.s/w[0].vTotal,o.difR=C!==void 0?o.s/C:1,C=o.s);return i(w,t),S(w,t),w};function v(p){return p===b?0:p}},74732:function(U){U.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(U,B,e){var y=e(96376).setGroupPositions;U.exports=function(i,S){var b=i._fullLayout,v=i._fullData,p=i.calcdata,r=S.xaxis,t=S.yaxis,a=[],n=[],u=[],s,l;for(l=0;l<v.length;l++){var m=v[l],h=m.orientation==="h";m.visible===!0&&m.xaxis===r._id&&m.yaxis===t._id&&m.type==="funnel"&&(s=p[l],h?u.push(s):n.push(s),a.push(s))}var g={mode:b.funnelmode,norm:b.funnelnorm,gap:b.funnelgap,groupgap:b.funnelgroupgap};for(y(i,r,t,n,g),y(i,t,r,u,g),l=0;l<a.length;l++){s=a[l];for(var c=0;c<s.length;c++)c+1<s.length&&(s[c].nextP0=s[c+1].p0,s[c].nextS0=s[c+1].s0,s[c].nextP1=s[c+1].p1,s[c].nextS1=s[c+1].s1)}}},45432:function(U,B,e){var y=e(3400),L=e(20011),i=e(31508).handleText,S=e(43980),b=e(31147),v=e(20088),p=e(76308);function r(n,u,s,l){function m(A,C){return y.coerce(n,u,v,A,C)}var h=S(n,u,l,m);if(!h){u.visible=!1;return}b(n,u,l,m),m("xhoverformat"),m("yhoverformat"),m("orientation",u.y&&!u.x?"v":"h"),m("offset"),m("width");var g=m("text");m("hovertext"),m("hovertemplate");var c=m("textposition");i(n,u,l,m,c,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),u.textposition!=="none"&&!u.texttemplate&&m("textinfo",y.isArrayOrTypedArray(g)?"text+value":"value");var o=m("marker.color",s);m("marker.line.color",p.defaultLine),m("marker.line.width");var d=m("connector.visible");if(d){m("connector.fillcolor",t(o));var w=m("connector.line.width");w&&(m("connector.line.color"),m("connector.line.dash"))}}function t(n){var u=y.isArrayOrTypedArray(n)?"#000":n;return p.addOpacity(u,.5*p.opacity(u))}function a(n,u){var s,l;function m(g){return y.coerce(l._input,l,v,g)}if(u.funnelmode==="group")for(var h=0;h<n.length;h++)l=n[h],s=l._input,L(s,l,u,m)}U.exports={supplyDefaults:r,crossTraceDefaults:a}},34580:function(U){U.exports=function(e,y){return e.x="xVal"in y?y.xVal:y.x,e.y="yVal"in y?y.yVal:y.y,"percentInitial"in y&&(e.percentInitial=y.percentInitial),"percentPrevious"in y&&(e.percentPrevious=y.percentPrevious),"percentTotal"in y&&(e.percentTotal=y.percentTotal),y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),e}},31488:function(U,B,e){var y=e(76308).opacity,L=e(63400).hoverOnBars,i=e(3400).formatPercent;U.exports=function(v,p,r,t,a){var n=L(v,p,r,t,a);if(n){var u=n.cd,s=u[0].trace,l=s.orientation==="h",m=n.index,h=u[m],g=l?"x":"y";n[g+"LabelVal"]=h.s,n.percentInitial=h.begR,n.percentInitialLabel=i(h.begR,1),n.percentPrevious=h.difR,n.percentPreviousLabel=i(h.difR,1),n.percentTotal=h.sumR,n.percentTotalLabel=i(h.sumR,1);var c=h.hi||s.hoverinfo,o=[];if(c&&c!=="none"&&c!=="skip"){var d=c==="all",w=c.split("+"),A=function(C){return d||w.indexOf(C)!==-1};A("percent initial")&&o.push(n.percentInitialLabel+" of initial"),A("percent previous")&&o.push(n.percentPreviousLabel+" of previous"),A("percent total")&&o.push(n.percentTotalLabel+" of total")}return n.extraText=o.join("<br>"),n.color=S(s,h),[n]}};function S(b,v){var p=b.marker,r=v.mc||p.color,t=v.mlc||p.line.color,a=v.mlw||p.line.width;if(y(r))return r;if(y(t)&&a)return t}},94704:function(U,B,e){U.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(U){U.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(U,B,e){var y=e(3400),L=e(7076);U.exports=function(i,S,b){var v=!1;function p(a,n){return y.coerce(i,S,L,a,n)}for(var r=0;r<b.length;r++){var t=b[r];if(t.visible&&t.type==="funnel"){v=!0;break}}v&&(p("funnelmode"),p("funnelgap",.2),p("funnelgroupgap"))}},42200:function(U,B,e){var y=e(33428),L=e(3400),i=e(43616),S=e(39032).BADNUM,b=e(98184),v=e(82744).clearMinTextSize;U.exports=function(n,u,s,l){var m=n._fullLayout;v("funnel",m),p(n,u,s,l),r(n,u,s,l),b.plot(n,u,s,l,{mode:m.funnelmode,norm:m.funnelmode,gap:m.funnelgap,groupgap:m.funnelgroupgap})};function p(a,n,u,s){var l=n.xaxis,m=n.yaxis;L.makeTraceGroups(s,u,"trace bars").each(function(h){var g=y.select(this),c=h[0].trace,o=L.ensureSingle(g,"g","regions");if(!c.connector||!c.connector.visible){o.remove();return}var d=c.orientation==="h",w=o.selectAll("g.region").data(L.identity);w.enter().append("g").classed("region",!0),w.exit().remove();var A=w.size();w.each(function(C,x){if(!(x!==A-1&&!C.cNext)){var E=t(C,l,m,d),M=E[0],f=E[1],P="";M[0]!==S&&f[0]!==S&&M[1]!==S&&f[1]!==S&&M[2]!==S&&f[2]!==S&&M[3]!==S&&f[3]!==S&&(d?P+="M"+M[0]+","+f[1]+"L"+M[2]+","+f[2]+"H"+M[3]+"L"+M[1]+","+f[1]+"Z":P+="M"+M[1]+","+f[1]+"L"+M[2]+","+f[3]+"V"+f[2]+"L"+M[1]+","+f[0]+"Z"),P===""&&(P="M0,0Z"),L.ensureSingle(y.select(this),"path").attr("d",P).call(i.setClipUrl,n.layerClipId,a)}})})}function r(a,n,u,s){var l=n.xaxis,m=n.yaxis;L.makeTraceGroups(s,u,"trace bars").each(function(h){var g=y.select(this),c=h[0].trace,o=L.ensureSingle(g,"g","lines");if(!c.connector||!c.connector.visible||!c.connector.line.width){o.remove();return}var d=c.orientation==="h",w=o.selectAll("g.line").data(L.identity);w.enter().append("g").classed("line",!0),w.exit().remove();var A=w.size();w.each(function(C,x){if(!(x!==A-1&&!C.cNext)){var E=t(C,l,m,d),M=E[0],f=E[1],P="";M[3]!==void 0&&f[3]!==void 0&&(d?(P+="M"+M[0]+","+f[1]+"L"+M[2]+","+f[2],P+="M"+M[1]+","+f[1]+"L"+M[3]+","+f[2]):(P+="M"+M[1]+","+f[1]+"L"+M[2]+","+f[3],P+="M"+M[1]+","+f[0]+"L"+M[2]+","+f[2])),P===""&&(P="M0,0Z"),L.ensureSingle(y.select(this),"path").attr("d",P).call(i.setClipUrl,n.layerClipId,a)}})})}function t(a,n,u,s){var l=[],m=[],h=s?n:u,g=s?u:n;return l[0]=h.c2p(a.s0,!0),m[0]=g.c2p(a.p0,!0),l[1]=h.c2p(a.s1,!0),m[1]=g.c2p(a.p1,!0),l[2]=h.c2p(a.nextS0,!0),m[2]=g.c2p(a.nextP0,!0),l[3]=h.c2p(a.nextS1,!0),m[3]=g.c2p(a.nextP1,!0),s?[l,m]:[m,l]}},44544:function(U,B,e){var y=e(33428),L=e(43616),i=e(76308),S=e(13448).DESELECTDIM,b=e(60100),v=e(82744).resizeText,p=b.styleTextPoints;function r(t,a,n){var u=n||y.select(t).selectAll("g.funnellayer").selectAll("g.trace");v(t,u,"funnel"),u.style("opacity",function(s){return s[0].trace.opacity}),u.each(function(s){var l=y.select(this),m=s[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var g=m.marker;y.select(this).call(i.fill,h.mc||g.color).call(i.stroke,h.mlc||g.line.color).call(L.dashLine,g.line.dash,h.mlw||g.line.width).style("opacity",m.selectedpoints&&!h.selected?S:1)}}),p(l,m,t),l.selectAll(".regions").each(function(){y.select(this).selectAll("path").style("stroke-width",0).call(i.fill,m.connector.fillcolor)}),l.selectAll(".lines").each(function(){var h=m.connector.line;L.lineGroupStyle(y.select(this).selectAll("path"),h.width,h.color,h.dash)})})}U.exports={style:r}},22332:function(U,B,e){var y=e(74996),L=e(45464),i=e(86968).u,S=e(21776).Ks,b=e(21776).Gw,v=e(92880).extendFlat;U.exports={labels:y.labels,label0:y.label0,dlabel:y.dlabel,values:y.values,marker:{colors:y.marker.colors,line:{color:v({},y.marker.line.color,{dflt:null}),width:v({},y.marker.line.width,{dflt:1}),editType:"calc"},pattern:y.marker.pattern,editType:"calc"},text:y.text,hovertext:y.hovertext,scalegroup:v({},y.scalegroup,{}),textinfo:v({},y.textinfo,{flags:["label","text","value","percent"]}),texttemplate:b({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},L.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:S({},{keys:["label","color","value","text","percent"]}),textposition:v({},y.textposition,{values:["inside","none"],dflt:"inside"}),textfont:y.textfont,insidetextfont:y.insidetextfont,title:{text:y.title.text,font:y.title.font,position:v({},y.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:i({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(U,B,e){var y=e(7316);B.name="funnelarea",B.plot=function(L,i,S,b){y.plotBasePlot(B.name,L,i,S,b)},B.clean=function(L,i,S,b){y.cleanBasePlot(B.name,L,i,S,b)}},54e3:function(U,B,e){var y=e(45768);function L(S,b){return y.calc(S,b)}function i(S){y.crossTraceCalc(S,{type:"funnelarea"})}U.exports={calc:L,crossTraceCalc:i}},92688:function(U,B,e){var y=e(3400),L=e(22332),i=e(86968).Q,S=e(31508).handleText,b=e(74174).handleLabelsAndValues,v=e(74174).handleMarkerDefaults;U.exports=function(r,t,a,n){function u(A,C){return y.coerce(r,t,L,A,C)}var s=u("labels"),l=u("values"),m=b(s,l),h=m.len;if(t._hasLabels=m.hasLabels,t._hasValues=m.hasValues,!t._hasLabels&&t._hasValues&&(u("label0"),u("dlabel")),!h){t.visible=!1;return}t._length=h,v(r,t,n,u),u("scalegroup");var g=u("text"),c=u("texttemplate"),o;if(c||(o=u("textinfo",Array.isArray(g)?"text+percent":"percent")),u("hovertext"),u("hovertemplate"),c||o&&o!=="none"){var d=u("textposition");S(r,t,n,u,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else o==="none"&&u("textposition","none");i(t,n,u);var w=u("title.text");w&&(u("title.position"),y.coerceFont(u,"title.font",n.font)),u("aspectratio"),u("baseratio")}},62396:function(U,B,e){U.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(U,B,e){var y=e(85204).hiddenlabels;U.exports={hiddenlabels:y,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(U,B,e){var y=e(3400),L=e(61280);U.exports=function(S,b){function v(p,r){return y.coerce(S,b,L,p,r)}v("hiddenlabels"),v("funnelareacolorway",b.colorway),v("extendfunnelareacolors")}},39472:function(U,B,e){var y=e(33428),L=e(43616),i=e(3400),S=i.strScale,b=i.strTranslate,v=e(72736),p=e(98184),r=p.toMoveInsideBar,t=e(82744),a=t.recordMinTextSize,n=t.clearMinTextSize,u=e(69656),s=e(37820),l=s.attachFxHandlers,m=s.determineInsideTextFont,h=s.layoutAreas,g=s.prerenderTitles,c=s.positionTitleOutside,o=s.formatSliceLabel;U.exports=function(x,E){var M=x._context.staticPlot,f=x._fullLayout;n("funnelarea",f),g(E,x),h(E,f._size),i.makeTraceGroups(f._funnelarealayer,E,"trace").each(function(P){var T=y.select(this),z=P[0],_=z.trace;A(P),T.each(function(){var V=y.select(this).selectAll("g.slice").data(P);V.enter().append("g").classed("slice",!0),V.exit().remove(),V.each(function(N,k){if(N.hidden){y.select(this).selectAll("path,g").remove();return}N.pointNumber=N.i,N.curveNumber=_.index;var I=z.cx,H=z.cy,j=y.select(this),ee=j.selectAll("path.surface").data([N]);ee.enter().append("path").classed("surface",!0).style({"pointer-events":M?"none":"all"}),j.call(l,x,P);var te="M"+(I+N.TR[0])+","+(H+N.TR[1])+d(N.TR,N.BR)+d(N.BR,N.BL)+d(N.BL,N.TL)+"Z";ee.attr("d",te),o(x,N,z);var ne=u.castOption(_.textposition,N.pts),ue=j.selectAll("g.slicetext").data(N.text&&ne!=="none"?[0]:[]);ue.enter().append("g").classed("slicetext",!0),ue.exit().remove(),ue.each(function(){var q=i.ensureSingle(y.select(this),"text","",function(se){se.attr("data-notex",1)}),Y=i.ensureUniformFontSize(x,m(_,N,f.font));q.text(N.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(L.font,Y).call(v.convertToTspans,x);var Z=L.bBox(q.node()),G,K,oe,$=Math.min(N.BL[1],N.BR[1])+H,J=Math.max(N.TL[1],N.TR[1])+H;K=Math.max(N.TL[0],N.BL[0])+I,oe=Math.min(N.TR[0],N.BR[0])+I,G=r(K,oe,$,J,Z,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),G.fontSize=Y.size,a(_.type,G,f),P[k].transform=G,i.setTransormAndDisplay(q,G)})});var F=y.select(this).selectAll("g.titletext").data(_.title.text?[0]:[]);F.enter().append("g").classed("titletext",!0),F.exit().remove(),F.each(function(){var N=i.ensureSingle(y.select(this),"text","",function(H){H.attr("data-notex",1)}),k=_.title.text;_._meta&&(k=i.templateString(k,_._meta)),N.text(k).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(L.font,_.title.font).call(v.convertToTspans,x);var I=c(z,f._size);N.attr("transform",b(I.x,I.y)+S(Math.min(1,I.scale))+b(I.tx,I.ty))})})})};function d(C,x){var E=x[0]-C[0],M=x[1]-C[1];return"l"+E+","+M}function w(C,x){return[.5*(C[0]+x[0]),.5*(C[1]+x[1])]}function A(C){if(!C.length)return;var x=C[0],E=x.trace,M=E.aspectratio,f=E.baseratio;f>.999&&(f=.999);var P=Math.pow(f,2),T=x.vTotal,z=T*P/(1-P),_=T,V=z/T;function F(){var ie=Math.sqrt(V);return{x:ie,y:-ie}}function N(){var ie=F();return[ie.x,ie.y]}var k,I=[];I.push(N());var H,j;for(H=C.length-1;H>-1;H--)if(j=C[H],!j.hidden){var ee=j.v/_;V+=ee,I.push(N())}var te=1/0,ne=-1/0;for(H=0;H<I.length;H++)k=I[H],te=Math.min(te,k[1]),ne=Math.max(ne,k[1]);for(H=0;H<I.length;H++)I[H][1]-=(ne+te)/2;var ue=I[I.length-1][0],q=x.r,Y=(ne-te)/2,Z=q/ue,G=q/Y*M;for(x.r=G*Y,H=0;H<I.length;H++)I[H][0]*=Z,I[H][1]*=G;k=I[0];var K=[-k[0],k[1]],oe=[k[0],k[1]],$=0;for(H=C.length-1;H>-1;H--)if(j=C[H],!j.hidden){$+=1;var J=I[$][0],se=I[$][1];j.TL=[-J,se],j.TR=[J,se],j.BL=K,j.BR=oe,j.pxmid=w(j.TR,j.BR),K=j.TL,oe=j.TR}}},62096:function(U,B,e){var y=e(33428),L=e(10528),i=e(82744).resizeText;U.exports=function(b){var v=b._fullLayout._funnelarealayer.selectAll(".trace");i(b,v,"funnelarea"),v.each(function(p){var r=p[0],t=r.trace,a=y.select(this);a.style({opacity:t.opacity}),a.selectAll("path.surface").each(function(n){y.select(this).call(L,n,t,b)})})}},83328:function(U,B,e){var y=e(52904),L=e(45464),i=e(25376),S=e(29736).axisHoverFormat,b=e(21776).Ks,v=e(21776).Gw,p=e(49084),r=e(92880).extendFlat;U.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},y.x,{impliedEdits:{xtype:"array"}}),x0:r({},y.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},y.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},y.y,{impliedEdits:{ytype:"array"}}),y0:r({},y.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},y.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},y.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},y.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},y.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},y.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},y.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},y.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z",1),hovertemplate:b(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:i({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},L.showlegend,{dflt:!1})},{transforms:void 0},p("",{cLetter:"z",autoColorDflt:!1}))},19512:function(U,B,e){var y=e(24040),L=e(3400),i=e(54460),S=e(1220),b=e(55480),v=e(47128),p=e(2872),r=e(26136),t=e(70448),a=e(11240),n=e(35744),u=e(39032).BADNUM;U.exports=function(h,g){var c=i.getFromId(h,g.xaxis||"x"),o=i.getFromId(h,g.yaxis||"y"),d=y.traceIs(g,"contour"),w=y.traceIs(g,"histogram"),A=y.traceIs(g,"gl2d"),C=d?"best":g.zsmooth,x,E,M,f,P,T,z,_,V,F,N;if(c._minDtick=0,o._minDtick=0,w)N=b(h,g),f=N.orig_x,x=N.x,E=N.x0,M=N.dx,_=N.orig_y,P=N.y,T=N.y0,z=N.dy,V=N.z;else{var k=g.z;L.isArray1D(k)?(p(g,c,o,"x","y",["z"]),x=g._x,P=g._y,k=g._z):(f=g.x?c.makeCalcdata(g,"x"):[],_=g.y?o.makeCalcdata(g,"y"):[],x=S(g,c,"x",f).vals,P=S(g,o,"y",_).vals,g._x=x,g._y=P),E=g.x0,M=g.dx,T=g.y0,z=g.dy,V=r(k,g,c,o)}(c.rangebreaks||o.rangebreaks)&&(V=l(x,P,V),w||(x=s(x),P=s(P),g._x=x,g._y=P)),!w&&(d||g.connectgaps)&&(g._emptypoints=a(V),t(V,g._emptypoints));function I(Z){C=g._input.zsmooth=g.zsmooth=!1,L.warn('cannot use zsmooth: "fast": '+Z)}function H(Z){if(Z.length>1){var G=(Z[Z.length-1]-Z[0])/(Z.length-1),K=Math.abs(G/100);for(F=0;F<Z.length-1;F++)if(Math.abs(Z[F+1]-Z[F]-G)>K)return!1}return!0}g._islinear=!1,c.type==="log"||o.type==="log"?C==="fast"&&I("log axis found"):H(x)?H(P)?g._islinear=!0:C==="fast"&&I("y scale is not linear"):C==="fast"&&I("x scale is not linear");var j=L.maxRowLength(V),ee=g.xtype==="scaled"?"":x,te=n(g,ee,E,M,j,c),ne=g.ytype==="scaled"?"":P,ue=n(g,ne,T,z,V.length,o);A||(g._extremes[c._id]=i.findExtremes(c,te),g._extremes[o._id]=i.findExtremes(o,ue));var q={x:te,y:ue,z:V,text:g._text||g.text,hovertext:g._hovertext||g.hovertext};if(g.xperiodalignment&&f&&(q.orig_x=f),g.yperiodalignment&&_&&(q.orig_y=_),ee&&ee.length===te.length-1&&(q.xCenter=ee),ne&&ne.length===ue.length-1&&(q.yCenter=ne),w&&(q.xRanges=N.xRanges,q.yRanges=N.yRanges,q.pts=N.pts),d||v(h,g,{vals:V,cLetter:"z"}),d&&g.contours&&g.contours.coloring==="heatmap"){var Y={type:g.type==="contour"?"heatmap":"histogram2d",xcalendar:g.xcalendar,ycalendar:g.ycalendar};q.xfill=n(Y,ee,E,M,j,c),q.yfill=n(Y,ne,T,z,V.length,o)}return[q]};function s(m){for(var h=[],g=m.length,c=0;c<g;c++){var o=m[c];o!==u&&h.push(o)}return h}function l(m,h,g){for(var c=[],o=-1,d=0;d<g.length;d++)if(h[d]!==u){o++,c[o]=[];for(var w=0;w<g[d].length;w++)m[w]!==u&&c[o].push(g[d][w])}return c}},26136:function(U,B,e){var y=e(38248),L=e(3400),i=e(39032).BADNUM;U.exports=function(b,v,p,r){var t,a,n,u,s,l;function m(w){if(y(w))return+w}if(v&&v.transpose){for(t=0,s=0;s<b.length;s++)t=Math.max(t,b[s].length);if(t===0)return!1;n=function(w){return w.length},u=function(w,A,C){return(w[C]||[])[A]}}else t=b.length,n=function(w,A){return w[A].length},u=function(w,A,C){return(w[A]||[])[C]};var h=function(w,A,C){return A===i||C===i?i:u(w,A,C)};function g(w){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&w&&w.type==="category"&&v["_"+w._id.charAt(0)].length){var A=w._id.charAt(0),C={},x=v["_"+A+"CategoryMap"]||v[A];for(s=0;s<x.length;s++)C[x[s]]=s;return function(E){var M=C[w._categories[E]];return M+1?M:i}}else return L.identity}var c=g(p),o=g(r);r&&r.type==="category"&&(t=r._categories.length);var d=new Array(t);for(s=0;s<t;s++)for(p&&p.type==="category"?a=p._categories.length:a=n(b,s),d[s]=new Array(a),l=0;l<a;l++)d[s][l]=m(h(b,o(s),c(l)));return d}},96288:function(U){U.exports={min:"zmin",max:"zmax"}},2872:function(U,B,e){var y=e(3400),L=e(39032).BADNUM,i=e(1220);U.exports=function(b,v,p,r,t,a){var n=b._length,u=v.makeCalcdata(b,r),s=p.makeCalcdata(b,t);u=i(b,v,r,u).vals,s=i(b,p,t,s).vals;var l=b.text,m=l!==void 0&&y.isArray1D(l),h=b.hovertext,g=h!==void 0&&y.isArray1D(h),c,o,d=y.distinctVals(u),w=d.vals,A=y.distinctVals(s),C=A.vals,x=[],E,M,f=C.length,P=w.length;for(c=0;c<a.length;c++)x[c]=y.init2dArray(f,P);m&&(E=y.init2dArray(f,P)),g&&(M=y.init2dArray(f,P));var T=y.init2dArray(f,P);for(c=0;c<n;c++)if(u[c]!==L&&s[c]!==L){var z=y.findBin(u[c]+d.minDiff/2,w),_=y.findBin(s[c]+A.minDiff/2,C);for(o=0;o<a.length;o++){var V=a[o],F=b[V],N=x[o];N[_][z]=F[c],T[_][z]=c}m&&(E[_][z]=l[c]),g&&(M[_][z]=h[c])}for(b["_"+r]=w,b["_"+t]=C,o=0;o<a.length;o++)b["_"+a[o]]=x[o];m&&(b._text=E),g&&(b._hovertext=M),v&&v.type==="category"&&(b["_"+r+"CategoryMap"]=w.map(function(k){return v._categories[k]})),p&&p.type==="category"&&(b["_"+t+"CategoryMap"]=C.map(function(k){return p._categories[k]})),b._after2before=T}},24480:function(U,B,e){var y=e(3400),L=e(51264),i=e(39096),S=e(31147),b=e(82748),v=e(27260),p=e(83328);U.exports=function(t,a,n,u){function s(m,h){return y.coerce(t,a,p,m,h)}var l=L(t,a,s,u);if(!l){a.visible=!1;return}S(t,a,u,s),s("xhoverformat"),s("yhoverformat"),s("text"),s("hovertext"),s("hovertemplate"),i(s,u),b(t,a,s,u),s("hoverongaps"),s("connectgaps",y.isArray1D(a.z)&&a.zsmooth!==!1),v(t,a,u,s,{prefix:"",cLetter:"z"})}},11240:function(U,B,e){var y=e(3400).maxRowLength;U.exports=function(i){var S=[],b={},v=[],p=i[0],r=[],t=[0,0,0],a=y(i),n,u,s,l,m,h,g,c;for(u=0;u<i.length;u++)for(n=r,r=p,p=i[u+1]||[],s=0;s<a;s++)r[s]===void 0&&(h=(r[s-1]!==void 0?1:0)+(r[s+1]!==void 0?1:0)+(n[s]!==void 0?1:0)+(p[s]!==void 0?1:0),h?(u===0&&h++,s===0&&h++,u===i.length-1&&h++,s===r.length-1&&h++,h<4&&(b[[u,s]]=[u,s,h]),S.push([u,s,h])):v.push([u,s]));for(;v.length;){for(g={},c=!1,m=v.length-1;m>=0;m--)l=v[m],u=l[0],s=l[1],h=((b[[u-1,s]]||t)[2]+(b[[u+1,s]]||t)[2]+(b[[u,s-1]]||t)[2]+(b[[u,s+1]]||t)[2])/20,h&&(g[l]=[u,s,h],v.splice(m,1),c=!0);if(!c)throw"findEmpties iterated with no new neighbors";for(l in g)b[l]=g[l],S.push(g[l])}return S.sort(function(o,d){return d[2]-o[2]})}},55512:function(U,B,e){var y=e(93024),L=e(3400),i=L.isArrayOrTypedArray,S=e(54460),b=e(8932).extractOpts;U.exports=function(p,r,t,a,n){n||(n={});var u=n.isContour,s=p.cd[0],l=s.trace,m=p.xa,h=p.ya,g=s.x,c=s.y,o=s.z,d=s.xCenter,w=s.yCenter,A=s.zmask,C=l.zhoverformat,x=g,E=c,M,f,P,T;if(p.index!==!1){try{P=Math.round(p.index[1]),T=Math.round(p.index[0])}catch{L.error("Error hovering on heatmap, pointNumber must be [row,col], found:",p.index);return}if(P<0||P>=o[0].length||T<0||T>o.length)return}else{if(y.inbox(r-g[0],r-g[g.length-1],0)>0||y.inbox(t-c[0],t-c[c.length-1],0)>0)return;if(u){var z;for(x=[2*g[0]-g[1]],z=1;z<g.length;z++)x.push((g[z]+g[z-1])/2);for(x.push([2*g[g.length-1]-g[g.length-2]]),E=[2*c[0]-c[1]],z=1;z<c.length;z++)E.push((c[z]+c[z-1])/2);E.push([2*c[c.length-1]-c[c.length-2]])}P=Math.max(0,Math.min(x.length-2,L.findBin(r,x))),T=Math.max(0,Math.min(E.length-2,L.findBin(t,E)))}var _=m.c2p(g[P]),V=m.c2p(g[P+1]),F=h.c2p(c[T]),N=h.c2p(c[T+1]),k,I;u?(k=s.orig_x||g,I=s.orig_y||c,V=_,M=k[P],N=F,f=I[T]):(k=s.orig_x||d||g,I=s.orig_y||w||c,M=d?k[P]:(k[P]+k[P+1])/2,f=w?I[T]:(I[T]+I[T+1])/2,m&&m.type==="category"&&(M=g[P]),h&&h.type==="category"&&(f=c[T]),l.zsmooth&&(_=V=m.c2p(M),F=N=h.c2p(f)));var H=o[T][P];if(A&&!A[T][P]&&(H=void 0),!(H===void 0&&!l.hoverongaps)){var j;i(s.hovertext)&&i(s.hovertext[T])?j=s.hovertext[T][P]:i(s.text)&&i(s.text[T])&&(j=s.text[T][P]);var ee=b(l),te={type:"linear",range:[ee.min,ee.max],hoverformat:C,_separators:m._separators,_numFormat:m._numFormat},ne=S.tickText(te,H,"hover").text;return[L.extendFlat(p,{index:l._after2before?l._after2before[T][P]:[T,P],distance:p.maxHoverDistance,spikeDistance:p.maxSpikeDistance,x0:_,x1:V,y0:F,y1:N,xLabelVal:M,yLabelVal:f,zLabelVal:H,zLabel:ne,text:j})]}}},81932:function(U,B,e){U.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(U,B,e){var y=e(3400),L=.01,i=[[-1,0],[1,0],[0,-1],[0,1]];function S(v){return .5-.25*Math.min(1,v*.5)}U.exports=function(p,r){var t=1,a;for(b(p,r),a=0;a<r.length&&!(r[a][2]<4);a++);for(r=r.slice(a),a=0;a<100&&t>L;a++)t=b(p,r,S(t));return t>L&&y.log("interp2d didn't converge quickly",t),p};function b(v,p,r){var t=0,a,n,u,s,l,m,h,g,c,o,d,w,A;for(s=0;s<p.length;s++){for(a=p[s],n=a[0],u=a[1],d=v[n][u],o=0,c=0,l=0;l<4;l++)m=i[l],h=v[n+m[0]],h&&(g=h[u+m[1]],g!==void 0&&(o===0?w=A=g:(w=Math.min(w,g),A=Math.max(A,g)),c++,o+=g));if(c===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[n][u]=o/c,d===void 0?c<4&&(t=1):(v[n][u]=(1+r)*v[n][u]-r*d,A>w&&(t=Math.max(t,Math.abs(v[n][u]-d)/(A-w))))}return t}},39096:function(U,B,e){var y=e(3400);U.exports=function(i,S){i("texttemplate");var b=y.extendFlat({},S.font,{color:"auto",size:"auto"});y.coerceFont(i,"textfont",b)}},35744:function(U,B,e){var y=e(24040),L=e(3400).isArrayOrTypedArray;U.exports=function(S,b,v,p,r,t){var a=[],n=y.traceIs(S,"contour"),u=y.traceIs(S,"histogram"),s=y.traceIs(S,"gl2d"),l,m,h,g=L(b)&&b.length>1;if(g&&!u&&t.type!=="category"){var c=b.length;if(c<=r){if(n||s)a=Array.from(b).slice(0,r);else if(r===1)t.type==="log"?a=[.5*b[0],2*b[0]]:a=[b[0]-.5,b[0]+.5];else if(t.type==="log"){for(a=[Math.pow(b[0],1.5)/Math.pow(b[1],.5)],h=1;h<c;h++)a.push(Math.sqrt(b[h-1]*b[h]));a.push(Math.pow(b[c-1],1.5)/Math.pow(b[c-2],.5))}else{for(a=[1.5*b[0]-.5*b[1]],h=1;h<c;h++)a.push((b[h-1]+b[h])*.5);a.push(1.5*b[c-1]-.5*b[c-2])}if(c<r){var o=a[a.length-1],d;if(t.type==="log")for(d=o/a[a.length-2],h=c;h<r;h++)o*=d,a.push(o);else for(d=o-a[a.length-2],h=c;h<r;h++)o+=d,a.push(o)}}else return n?b.slice(0,r):b.slice(0,r+1)}else{var w=S[t._id.charAt(0)+"calendar"];if(u)l=t.r2c(v,0,w);else if(L(b)&&b.length===1)l=b[0];else if(v===void 0)l=0;else{var A=t.type==="log"?t.d2c:t.r2c;l=A(v,0,w)}for(m=p||1,h=n||s?0:-.5;h<r;h++)a.push(l+m*h)}return a}},41420:function(U,B,e){var y=e(33428),L=e(49760),i=e(24040),S=e(43616),b=e(54460),v=e(3400),p=e(72736),r=e(76688),t=e(76308),a=e(8932).extractOpts,n=e(8932).makeColorScaleFuncFromTrace,u=e(9616),s=e(84284),l=s.LINE_SPACING,m=e(9188),h=e(2264).STYLE,g="heatmap-label";function c(C){return C.selectAll("g."+g)}function o(C){c(C).remove()}U.exports=function(C,x,E,M){var f=x.xaxis,P=x.yaxis;v.makeTraceGroups(M,E,"hm").each(function(T){var z=y.select(this),_=T[0],V=_.trace,F=V.xgap||0,N=V.ygap||0,k=_.z,I=_.x,H=_.y,j=_.xCenter,ee=_.yCenter,te=i.traceIs(V,"contour"),ne=te?"best":V.zsmooth,ue=k.length,q=v.maxRowLength(k),Y=!1,Z=!1,G,K,oe,$,J,se,ie,ce;for(se=0;G===void 0&&se<I.length-1;)G=f.c2p(I[se]),se++;for(se=I.length-1;K===void 0&&se>0;)K=f.c2p(I[se]),se--;for(K<G&&(oe=K,K=G,G=oe,Y=!0),se=0;$===void 0&&se<H.length-1;)$=P.c2p(H[se]),se++;for(se=H.length-1;J===void 0&&se>0;)J=P.c2p(H[se]),se--;J<$&&(oe=$,$=J,J=oe,Z=!0),te&&(j=I,ee=H,I=_.xfill,H=_.yfill);var ye="default";if(ne?ye=ne==="best"?"smooth":"fast":V._islinear&&F===0&&N===0&&m()&&(ye="fast"),ye!=="fast"){var Se=ne==="best"?0:.5;G=Math.max(-Se*f._length,G),K=Math.min((1+Se)*f._length,K),$=Math.max(-Se*P._length,$),J=Math.min((1+Se)*P._length,J)}var Te=Math.round(K-G),ke=Math.round(J-$),we=G>=f._length||K<=0||$>=P._length||J<=0;if(we){var Ee=z.selectAll("image").data([]);Ee.exit().remove(),o(z);return}var xe,De;ye==="fast"?(xe=q,De=ue):(xe=Te,De=ke);var Ve=document.createElement("canvas");Ve.width=xe,Ve.height=De;var Ue=Ve.getContext("2d",{willReadFrequently:!0}),Be=n(V,{noNumericCheck:!0,returnArray:!0}),Xe,ot;ye==="fast"?(Xe=Y?function(an){return q-1-an}:v.identity,ot=Z?function(an){return ue-1-an}:v.identity):(Xe=function(an){return v.constrain(Math.round(f.c2p(I[an])-G),0,Te)},ot=function(an){return v.constrain(Math.round(P.c2p(H[an])-$),0,ke)});var ut=ot(0),et=[ut,ut],qe=Y?0:1,ft=Z?0:1,ht=0,dt=0,mt=0,St=0,rt,Oe,Ye,Ze,Ge;function _e(an,pn){if(an!==void 0){var gn=Be(an);return gn[0]=Math.round(gn[0]),gn[1]=Math.round(gn[1]),gn[2]=Math.round(gn[2]),ht+=pn,dt+=gn[0]*pn,mt+=gn[1]*pn,St+=gn[2]*pn,gn}return[0,0,0,0]}function be(an,pn,gn,En){var On=an[gn.bin0];if(On===void 0)return _e(void 0,1);var ni=an[gn.bin1],ci=pn[gn.bin0],di=pn[gn.bin1],li=ni-On||0,ri=ci-On||0,br;return ni===void 0?di===void 0?br=0:ci===void 0?br=2*(di-On):br=(2*di-ci-On)*2/3:di===void 0?ci===void 0?br=0:br=(2*On-ni-ci)*2/3:ci===void 0?br=(2*di-ni-On)*2/3:br=di+On-ni-ci,_e(On+gn.frac*li+En.frac*(ri+gn.frac*br))}if(ye!=="default"){var me=0,Ce;try{Ce=new Uint8Array(xe*De*4)}catch{Ce=new Array(xe*De*4)}if(ye==="smooth"){var Me=j||I,Ne=ee||H,je=new Array(Me.length),tt=new Array(Ne.length),ct=new Array(Te),pt=j?w:d,Xt=ee?w:d,Yt,Tt,_t;for(se=0;se<Me.length;se++)je[se]=Math.round(f.c2p(Me[se])-G);for(se=0;se<Ne.length;se++)tt[se]=Math.round(P.c2p(Ne[se])-$);for(se=0;se<Te;se++)ct[se]=pt(se,je);for(ie=0;ie<ke;ie++)for(Yt=Xt(ie,tt),Tt=k[Yt.bin0],_t=k[Yt.bin1],se=0;se<Te;se++,me+=4)Ge=be(Tt,_t,ct[se],Yt),A(Ce,me,Ge)}else for(ie=0;ie<ue;ie++)for(Ze=k[ie],et=ot(ie),se=0;se<q;se++)Ge=_e(Ze[se],1),me=(et*q+Xe(se))*4,A(Ce,me,Ge);var Qt=Ue.createImageData(xe,De);try{Qt.data.set(Ce)}catch{var wr=Qt.data,xt=wr.length;for(ie=0;ie<xt;ie++)wr[ie]=Ce[ie]}Ue.putImageData(Qt,0,0)}else{var jt=Math.floor(F/2),Jt=Math.floor(N/2);for(ie=0;ie<ue;ie++)if(Ze=k[ie],et.reverse(),et[ft]=ot(ie+1),!(et[0]===et[1]||et[0]===void 0||et[1]===void 0))for(Oe=Xe(0),rt=[Oe,Oe],se=0;se<q;se++)rt.reverse(),rt[qe]=Xe(se+1),!(rt[0]===rt[1]||rt[0]===void 0||rt[1]===void 0)&&(Ye=Ze[se],Ge=_e(Ye,(rt[1]-rt[0])*(et[1]-et[0])),Ue.fillStyle="rgba("+Ge.join(",")+")",Ue.fillRect(rt[0]+jt,et[0]+Jt,rt[1]-rt[0]-F,et[1]-et[0]-N))}dt=Math.round(dt/ht),mt=Math.round(mt/ht),St=Math.round(St/ht);var gr=L("rgb("+dt+","+mt+","+St+")");C._hmpixcount=(C._hmpixcount||0)+ht,C._hmlumcount=(C._hmlumcount||0)+ht*gr.getLuminance();var or=z.selectAll("image").data(T);or.enter().append("svg:image").attr({xmlns:u.svg,preserveAspectRatio:"none"}),or.attr({height:ke,width:Te,x:G,y:$,"xlink:href":Ve.toDataURL("image/png")}),ye==="fast"&&!ne&&or.attr("style",h),o(z);var yt=V.texttemplate;if(yt){var at=a(V),wt={type:"linear",range:[at.min,at.max],_separators:f._separators,_numFormat:f._numFormat},Et=V.type==="histogram2dcontour",Rt=V.type==="contour",Dt=Rt?1:0,Ut=Rt?ue-1:ue,Nt=Rt?1:0,Kt=Rt?q-1:q,ur=[];for(se=Dt;se<Ut;se++){var fr;if(Rt)fr=_.y[se];else if(Et){if(se===0||se===ue-1)continue;fr=_.y[se]}else if(_.yCenter)fr=_.yCenter[se];else{if(se+1===ue&&_.y[se+1]===void 0)continue;fr=(_.y[se]+_.y[se+1])/2}var vr=Math.round(P.c2p(fr));if(!(0>vr||vr>P._length))for(ie=Nt;ie<Kt;ie++){var We;if(Rt)We=_.x[ie];else if(Et){if(ie===0||ie===q-1)continue;We=_.x[ie]}else if(_.xCenter)We=_.xCenter[ie];else{if(ie+1===q&&_.x[ie+1]===void 0)continue;We=(_.x[ie]+_.x[ie+1])/2}var He=Math.round(f.c2p(We));if(!(0>He||He>f._length)){var zt=r({x:We,y:fr},V,C._fullLayout);zt.x=We,zt.y=fr;var kt=_.z[se][ie];kt===void 0?(zt.z="",zt.zLabel=""):(zt.z=kt,zt.zLabel=b.tickText(wt,kt,"hover").text);var Zt=_.text&&_.text[se]&&_.text[se][ie];(Zt===void 0||Zt===!1)&&(Zt=""),zt.text=Zt;var er=v.texttemplateString(yt,zt,C._fullLayout._d3locale,zt,V._meta||{});if(er){var lr=er.split("<br>"),rr=lr.length,Ft=0;for(ce=0;ce<rr;ce++)Ft=Math.max(Ft,lr[ce].length);ur.push({l:rr,c:Ft,t:er,x:He,y:vr,z:kt})}}}}var cr=V.textfont,pr=cr.family,mr=cr.size,hr=C._fullLayout.font.size;if(!mr||mr==="auto"){var Gr=1/0,Dr=1/0,Ir=0,cn=0;for(ce=0;ce<ur.length;ce++){var rn=ur[ce];if(Ir=Math.max(Ir,rn.l),cn=Math.max(cn,rn.c),ce<ur.length-1){var Cn=ur[ce+1],Sn=Math.abs(Cn.x-rn.x),Tr=Math.abs(Cn.y-rn.y);Sn&&(Gr=Math.min(Gr,Sn)),Tr&&(Dr=Math.min(Dr,Tr))}}!isFinite(Gr)||!isFinite(Dr)?mr=hr:(Gr-=F,Dr-=N,Gr/=cn,Dr/=Ir,Gr/=l/2,Dr/=l,mr=Math.min(Math.floor(Gr),Math.floor(Dr),hr))}if(mr<=0||!isFinite(mr))return;var Lr=function(an){return an.x},Wr=function(an){return an.y-mr*(an.l*l/2-1)},Ur=c(z).data(ur);Ur.enter().append("g").classed(g,1).append("text").attr("text-anchor","middle").each(function(an){var pn=y.select(this),gn=cr.color;(!gn||gn==="auto")&&(gn=t.contrast(an.z===void 0?C._fullLayout.plot_bgcolor:"rgba("+Be(an.z).join()+")")),pn.attr("data-notex",1).call(p.positionText,Lr(an),Wr(an)).call(S.font,pr,mr,gn).text(an.t).call(p.convertToTspans,C)})}})};function d(C,x){var E=x.length-2,M=v.constrain(v.findBin(C,x),0,E),f=x[M],P=x[M+1],T=v.constrain(M+(C-f)/(P-f)-.5,0,E),z=Math.round(T),_=Math.abs(T-z);return!T||T===E||!_?{bin0:z,bin1:z,frac:0}:{bin0:z,frac:_,bin1:Math.round(z+_/(T-z))}}function w(C,x){var E=x.length-1,M=v.constrain(v.findBin(C,x),0,E),f=x[M],P=x[M+1],T=(C-f)/(P-f)||0;return T<=0?{bin0:M,bin1:M,frac:0}:T<.5?{bin0:M,bin1:M+1,frac:T}:{bin0:M+1,bin1:M,frac:1-T}}function A(C,x,E){C[x]=E[0],C[x+1]=E[1],C[x+2]=E[2],C[x+3]=Math.round(E[3]*255)}},41648:function(U,B,e){var y=e(33428);U.exports=function(i){y.select(i).selectAll(".hm image").style("opacity",function(S){return S.trace.opacity})}},82748:function(U){U.exports=function(e,y,L){var i=L("zsmooth");i===!1&&(L("xgap"),L("ygap")),L("zhoverformat")}},51264:function(U,B,e){var y=e(38248),L=e(3400),i=e(24040);U.exports=function(p,r,t,a,n,u){var s=t("z");n=n||"x",u=u||"y";var l,m;if(s===void 0||!s.length)return 0;if(L.isArray1D(s)){l=t(n),m=t(u);var h=L.minRowLength(l),g=L.minRowLength(m);if(h===0||g===0)return 0;r._length=Math.min(h,g,s.length)}else{if(l=S(n,t),m=S(u,t),!b(s))return 0;t("transpose"),r._length=null}if(p.type==="heatmapgl")return!0;var c=i.getComponentMethod("calendars","handleTraceDefaults");return c(p,r,[n,u],a),!0};function S(v,p){var r=p(v),t=r?p(v+"type","array"):"scaled";return t==="scaled"&&(p(v+"0"),p("d"+v)),r}function b(v){for(var p=!0,r=!1,t=!1,a,n=0;n<v.length;n++){if(a=v[n],!L.isArrayOrTypedArray(a)){p=!1;break}a.length>0&&(r=!0);for(var u=0;u<a.length;u++)if(y(a[u])){t=!0;break}}return p&&r&&t}},74512:function(U,B,e){for(var y=e(83328),L=e(49084),i=e(92880).extendFlat,S=e(67824).overrideAll,b=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},p=0;p<b.length;p++){var r=b[p];v[r]=y[r]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},i(v,L("",{cLetter:"z",autoColorDflt:!1})),U.exports=S(v,"calc","nested")},84656:function(U,B,e){var y=e(67792).gl_heatmap2d,L=e(54460),i=e(43080);function S(r,t){this.scene=r,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=y(r.glplot,this.options),this.heatmap._trace=this}var b=S.prototype;b.handlePick=function(r){var t=this.options,a=t.shape,n=r.pointId,u=n%a[0],s=Math.floor(n/a[0]),l=n;return{trace:this,dataCoord:r.dataCoord,traceCoord:[t.x[u],t.y[s],t.z[l]],textLabel:this.textLabels[n],name:this.name,pointIndex:[s,u],hoverinfo:this.hoverinfo}},b.update=function(r,t){var a=t[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var n=a.z;this.options.z=[].concat.apply([],n);var u=n[0].length,s=n.length;this.options.shape=[u,s],this.options.x=a.x,this.options.y=a.y,this.options.zsmooth=r.zsmooth;var l=v(r);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var m=this.scene.xaxis,h=this.scene.yaxis,g,c;r.zsmooth===!1&&(g={ppad:a.x[1]-a.x[0]},c={ppad:a.y[1]-a.y[0]}),r._extremes[m._id]=L.findExtremes(m,a.x,g),r._extremes[h._id]=L.findExtremes(h,a.y,c)},b.dispose=function(){this.heatmap.dispose()};function v(r){for(var t=r.colorscale,a=r.zmin,n=r.zmax,u=t.length,s=new Array(u),l=new Array(4*u),m=0;m<u;m++){var h=t[m],g=i(h[1]);s[m]=a+h[0]*(n-a);for(var c=0;c<4;c++)l[4*m+c]=g[c]}return{colorLevels:s,colorValues:l}}function p(r,t,a){var n=new S(r,t.uid);return n.update(t,a),n}U.exports=p},86464:function(U,B,e){var y=e(3400),L=e(51264),i=e(27260),S=e(74512);U.exports=function(v,p,r,t){function a(u,s){return y.coerce(v,p,S,u,s)}var n=L(v,p,a,t);if(!n){p.visible=!1;return}a("text"),a("zsmooth"),i(v,p,t,a,{prefix:"",cLetter:"z"})}},45536:function(U,B,e){U.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(U,B,e){var y=e(20832),L=e(29736).axisHoverFormat,i=e(21776).Ks,S=e(21776).Gw,b=e(25376),v=e(11120),p=e(73316),r=e(92880).extendFlat;U.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:L("x"),yhoverformat:L("y"),text:r({},y.text,{}),hovertext:r({},y.hovertext,{}),orientation:y.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({},{keys:p.eventDataKeys}),texttemplate:S({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},y.textposition,{arrayOk:!1}),textfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:y.insidetextanchor,textangle:y.textangle,cliponaxis:y.cliponaxis,constraintext:y.constraintext,marker:y.marker,offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup,selected:y.selected,unselected:y.unselected,_deprecated:{bardir:y._deprecated.bardir}}},2e3:function(U){U.exports=function(e,y){for(var L=e.length,i=0,S=0;S<L;S++)y[S]?(e[S]/=y[S],i+=e[S]):e[S]=null;return i}},11120:function(U){U.exports=function(e,y){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(U,B,e){var y=e(38248);U.exports={count:function(L,i,S){return S[L]++,1},sum:function(L,i,S,b){var v=b[i];return y(v)?(v=Number(v),S[L]+=v,v):0},avg:function(L,i,S,b,v){var p=b[i];return y(p)&&(p=Number(p),S[L]+=p,v[L]++),0},min:function(L,i,S,b){var v=b[i];if(y(v))if(v=Number(v),y(S[L])){if(S[L]>v){var p=v-S[L];return S[L]=v,p}}else return S[L]=v,v;return 0},max:function(L,i,S,b){var v=b[i];if(y(v))if(v=Number(v),y(S[L])){if(S[L]<v){var p=v-S[L];return S[L]=v,p}}else return S[L]=v,v;return 0}}},67712:function(U,B,e){var y=e(39032),L=y.ONEAVGYEAR,i=y.ONEAVGMONTH,S=y.ONEDAY,b=y.ONEHOUR,v=y.ONEMIN,p=y.ONESEC,r=e(54460).tickIncrement;U.exports=function(l,m,h,g,c){var o=-1.1*m,d=-.1*m,w=l-d,A=h[0],C=h[1],x=Math.min(t(A+d,A+w,g,c),t(C+d,C+w,g,c)),E=Math.min(t(A+o,A+d,g,c),t(C+o,C+d,g,c)),M,f;if(x>E&&E<Math.abs(C-A)/4e3?(M=x,f=!1):(M=Math.min(x,E),f=!0),g.type==="date"&&M>S){var P=M===L?1:6,T=M===L?"M12":"M1";return function(z,_){var V=g.c2d(z,L,c),F=V.indexOf("-",P);F>0&&(V=V.substr(0,F));var N=g.d2c(V,0,c);if(N<z){var k=r(N,T,!1,c);(N+k)/2<z+l&&(N=k)}return _&&f?r(N,T,!0,c):N}}return function(z,_){var V=M*Math.round(z/M);return V+M/10<z&&V+M*.9<z+l&&(V+=M),_&&f&&(V-=M),V}};function t(s,l,m,h){if(s*l<=0)return 1/0;for(var g=Math.abs(l-s),c=m.type==="date",o=a(g,c),d=0;d<10;d++){var w=a(o*80,c);if(o===w)break;if(n(w,s,l,c,m,h))o=w;else break}return o}function a(s,l){return l&&s>p?s>S?s>L*1.1?L:s>i*1.1?i:S:s>b?b:s>v?v:p:Math.pow(10,Math.floor(Math.log(s)/Math.LN10))}function n(s,l,m,h,g,c){if(h&&s>S){var o=u(l,g,c),d=u(m,g,c),w=s===L?0:1;return o[w]!==d[w]}return Math.floor(m/s)-Math.floor(l/s)>.1}function u(s,l,m){var h=l.c2d(s,L,m).split("-");return h[0]===""&&(h.unshift(),h[0]="-"+h[0]),h}},35852:function(U,B,e){var y=e(38248),L=e(3400),i=e(24040),S=e(54460),b=e(84664),v=e(16964),p=e(10648),r=e(2e3),t=e(67712);function a(m,h){var g=[],c=[],o=h.orientation==="h",d=S.getFromId(m,o?h.yaxis:h.xaxis),w=o?"y":"x",A={x:"y",y:"x"}[w],C=h[w+"calendar"],x=h.cumulative,E,M=n(m,h,d,w),f=M[0],P=M[1],T=typeof f.size=="string",z=[],_=T?z:f,V=[],F=[],N=[],k=0,I=h.histnorm,H=h.histfunc,j=I.indexOf("density")!==-1,ee,te,ne;x.enabled&&j&&(I=I.replace(/ ?density$/,""),j=!1);var ue=H==="max"||H==="min",q=ue?null:0,Y=v.count,Z=p[I],G=!1,K=function(Ue){return d.r2c(Ue,0,C)},oe;for(L.isArrayOrTypedArray(h[A])&&H!=="count"&&(oe=h[A],G=H==="avg",Y=v[H]),E=K(f.start),te=K(f.end)+(E-S.tickIncrement(E,f.size,!1,C))/1e6;E<te&&g.length<1e6&&(ee=S.tickIncrement(E,f.size,!1,C),g.push((E+ee)/2),c.push(q),N.push([]),z.push(E),j&&V.push(1/(ee-E)),G&&F.push(0),!(ee<=E));)E=ee;z.push(E),!T&&d.type==="date"&&(_={start:K(_.start),end:K(_.end),size:_.size}),m._fullLayout._roundFnOpts||(m._fullLayout._roundFnOpts={});var $=h["_"+w+"bingroup"],J={leftGap:1/0,rightGap:1/0};$&&(m._fullLayout._roundFnOpts[$]||(m._fullLayout._roundFnOpts[$]=J),J=m._fullLayout._roundFnOpts[$]);var se=c.length,ie=!0,ce=J.leftGap,ye=J.rightGap,Se={};for(E=0;E<P.length;E++){var Te=P[E];ne=L.findBin(Te,_),ne>=0&&ne<se&&(k+=Y(ne,E,c,oe,F),ie&&N[ne].length&&Te!==P[N[ne][0]]&&(ie=!1),N[ne].push(E),Se[E]=ne,ce=Math.min(ce,Te-z[ne]),ye=Math.min(ye,z[ne+1]-Te))}J.leftGap=ce,J.rightGap=ye;var ke;ie||(ke=function(Ue,Be){return function(){var Xe=m._fullLayout._roundFnOpts[$];return t(Xe.leftGap,Xe.rightGap,z,d,C)(Ue,Be)}}),G&&(k=r(c,F)),Z&&Z(c,k,V),x.enabled&&l(c,x.direction,x.currentbin);var we=Math.min(g.length,c.length),Ee=[],xe=0,De=we-1;for(E=0;E<we;E++)if(c[E]){xe=E;break}for(E=we-1;E>=xe;E--)if(c[E]){De=E;break}for(E=xe;E<=De;E++)if(y(g[E])&&y(c[E])){var Ve={p:g[E],s:c[E],b:0};x.enabled||(Ve.pts=N[E],ie?Ve.ph0=Ve.ph1=N[E].length?P[N[E][0]]:g[E]:(h._computePh=!0,Ve.ph0=ke(z[E]),Ve.ph1=ke(z[E+1],!0))),Ee.push(Ve)}return Ee.length===1&&(Ee[0].width1=S.tickIncrement(Ee[0].p,f.size,!1,C)-Ee[0].p),b(Ee,h),L.isArrayOrTypedArray(h.selectedpoints)&&L.tagSelected(Ee,h,Se),Ee}function n(m,h,g,c,o){var d=c+"bins",w=m._fullLayout,A=h["_"+c+"bingroup"],C=w._histogramBinOpts[A],x=w.barmode==="overlay",E,M,f,P,T,z,_,V=function(Te){return g.r2c(Te,0,P)},F=function(Te){return g.c2r(Te,0,P)},N=g.type==="date"?function(Te){return Te||Te===0?L.cleanDate(Te,null,P):null}:function(Te){return y(Te)?Number(Te):null};function k(Te,ke,we){ke[Te+"Found"]?(ke[Te]=N(ke[Te]),ke[Te]===null&&(ke[Te]=we[Te])):(z[Te]=ke[Te]=we[Te],L.nestedProperty(M[0],d+"."+Te).set(we[Te]))}if(h["_"+c+"autoBinFinished"])delete h["_"+c+"autoBinFinished"];else{M=C.traces;var I=[],H=!0,j=!1,ee=!1;for(E=0;E<M.length;E++)if(f=M[E],f.visible){var te=C.dirs[E];T=f["_"+te+"pos0"]=g.makeCalcdata(f,te),I=L.concat(I,T),delete f["_"+c+"autoBinFinished"],h.visible===!0&&(H?H=!1:(delete f._autoBin,f["_"+c+"autoBinFinished"]=1),i.traceIs(f,"2dMap")&&(j=!0),f.type==="histogram2dcontour"&&(ee=!0))}P=M[0][c+"calendar"];var ne=S.autoBin(I,g,C.nbins,j,P,C.sizeFound&&C.size),ue=M[0]._autoBin={};if(z=ue[C.dirs[0]]={},ee&&(C.size||(ne.start=F(S.tickIncrement(V(ne.start),ne.size,!0,P))),C.end===void 0&&(ne.end=F(S.tickIncrement(V(ne.end),ne.size,!1,P)))),x&&!i.traceIs(h,"2dMap")&&ne._dataSpan===0&&g.type!=="category"&&g.type!=="multicategory"&&h.bingroup===""&&typeof h.xbins>"u"){if(o)return[ne,T,!0];ne=u(m,h,g,c,d)}_=f.cumulative||{},_.enabled&&_.currentbin!=="include"&&(_.direction==="decreasing"?ne.start=F(S.tickIncrement(V(ne.start),ne.size,!0,P)):ne.end=F(S.tickIncrement(V(ne.end),ne.size,!1,P))),C.size=ne.size,C.sizeFound||(z.size=ne.size,L.nestedProperty(M[0],d+".size").set(ne.size)),k("start",C,ne),k("end",C,ne)}T=h["_"+c+"pos0"],delete h["_"+c+"pos0"];var q=h._input[d]||{},Y=L.extendFlat({},C),Z=C.start,G=g.r2l(q.start),K=G!==void 0;if((C.startFound||K)&&G!==g.r2l(Z)){var oe=K?G:L.aggNums(Math.min,null,T),$={type:g.type==="category"||g.type==="multicategory"?"linear":g.type,r2l:g.r2l,dtick:C.size,tick0:Z,calendar:P,range:[oe,S.tickIncrement(oe,C.size,!1,P)].map(g.l2r)},J=S.tickFirst($);J>g.r2l(oe)&&(J=S.tickIncrement(J,C.size,!0,P)),Y.start=g.l2r(J),K||L.nestedProperty(h,d+".start").set(Y.start)}var se=C.end,ie=g.r2l(q.end),ce=ie!==void 0;if((C.endFound||ce)&&ie!==g.r2l(se)){var ye=ce?ie:L.aggNums(Math.max,null,T);Y.end=g.l2r(ye),ce||L.nestedProperty(h,d+".start").set(Y.end)}var Se="autobin"+c;return h._input[Se]===!1&&(h._input[d]=L.extendFlat({},h[d]||{}),delete h._input[Se],delete h[Se]),[Y,T]}function u(m,h,g,c,o){var d=m._fullLayout,w=s(m,h),A=!1,C=1/0,x=[h],E,M,f;for(E=0;E<w.length;E++)if(M=w[E],M===h)A=!0;else if(!A)f=d._histogramBinOpts[M["_"+c+"bingroup"]],C=Math.min(C,f.size||M[o].size);else{var P=n(m,M,g,c,!0),T=P[0],z=P[2];M["_"+c+"autoBinFinished"]=1,M["_"+c+"pos0"]=P[1],z?x.push(M):C=Math.min(C,T.size)}var _=new Array(x.length);for(E=0;E<x.length;E++)for(var V=x[E]["_"+c+"pos0"],F=0;F<V.length;F++)if(V[F]!==void 0){_[E]=V[F];break}for(isFinite(C)||(C=L.distinctVals(_).minDiff),E=0;E<x.length;E++){M=x[E];var N=M[c+"calendar"],k={start:g.c2r(_[E]-C/2,0,N),end:g.c2r(_[E]+C/2,0,N),size:C};M._input[o]=M[o]=k,f=d._histogramBinOpts[M["_"+c+"bingroup"]],f&&L.extendFlat(f,k)}return h[o]}function s(m,h){for(var g=h.xaxis,c=h.yaxis,o=h.orientation,d=[],w=m._fullData,A=0;A<w.length;A++){var C=w[A];C.type==="histogram"&&C.visible===!0&&C.orientation===o&&C.xaxis===g&&C.yaxis===c&&d.push(C)}return d}function l(m,h,g){var c,o,d;function w(C){d=m[C],m[C]/=2}function A(C){o=m[C],m[C]=d+o/2,d+=o}if(g==="half")if(h==="increasing")for(w(0),c=1;c<m.length;c++)A(c);else for(w(m.length-1),c=m.length-2;c>=0;c--)A(c);else if(h==="increasing"){for(c=1;c<m.length;c++)m[c]+=m[c-1];g==="exclude"&&(m.unshift(0),m.pop())}else{for(c=m.length-2;c>=0;c--)m[c]+=m[c+1];g==="exclude"&&(m.push(0),m.shift())}}U.exports={calc:a,calcAllAutoBins:n}},73316:function(U){U.exports={eventDataKeys:["binNumber"]}},80536:function(U,B,e){var y=e(3400),L=e(79811),i=e(24040).traceIs,S=e(20011),b=e(31508).validateCornerradius,v=y.nestedProperty,p=e(71888).getAxisGroup,r=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];U.exports=function(n,u){var s=u._histogramBinOpts={},l=[],m={},h=[],g,c,o,d,w,A,C;function x(ne,ue){return y.coerce(g._input,g,g._module.attributes,ne,ue)}function E(ne){return ne.orientation==="v"?"x":"y"}function M(ne,ue){var q=L.getFromTrace({_fullLayout:u},ne,ue);return q.type}function f(ne,ue,q){var Y=ne.uid+"__"+q;ue||(ue=Y);var Z=M(ne,q),G=ne[q+"calendar"]||"",K=s[ue],oe=!0;K&&(Z===K.axType&&G===K.calendar?(oe=!1,K.traces.push(ne),K.dirs.push(q)):(ue=Y,Z!==K.axType&&y.warn(["Attempted to group the bins of trace",ne.index,"set on a","type:"+Z,"axis","with bins on","type:"+K.axType,"axis."].join(" ")),G!==K.calendar&&y.warn(["Attempted to group the bins of trace",ne.index,"set with a",G,"calendar","with bins",K.calendar?"on a "+K.calendar+" calendar":"w/o a set calendar"].join(" ")))),oe&&(s[ue]={traces:[ne],dirs:[q],axType:Z,calendar:ne[q+"calendar"]||""}),ne["_"+q+"bingroup"]=ue}for(w=0;w<n.length;w++)if(g=n[w],i(g,"histogram")){if(l.push(g),delete g._xautoBinFinished,delete g._yautoBinFinished,g.type==="histogram"){var P=x("marker.cornerradius",u.barcornerradius);g.marker&&(g.marker.cornerradius=b(P))}i(g,"2dMap")||S(g._input,g,u,x)}var T=u._alignmentOpts||{};for(w=0;w<l.length;w++){if(g=l[w],o="",!i(g,"2dMap")){if(d=E(g),u.barmode==="group"&&g.alignmentgroup){var z=g[d+"axis"],_=p(u,z)+g.orientation;(T[_]||{})[g.alignmentgroup]&&(o=_)}!o&&u.barmode!=="overlay"&&(o=p(u,g.xaxis)+p(u,g.yaxis)+E(g))}o?(m[o]||(m[o]=[]),m[o].push(g)):h.push(g)}for(o in m){if(c=m[o],c.length===1){h.push(c[0]);continue}var V=!1;for(c.length&&(g=c[0],V=x("bingroup")),o=V||o,w=0;w<c.length;w++){g=c[w];var F=g._input.bingroup;F&&F!==o&&y.warn(["Trace",g.index,"must match","within bingroup",o+".","Ignoring its bingroup:",F,"setting."].join(" ")),g.bingroup=o,f(g,o,E(g))}}for(w=0;w<h.length;w++){g=h[w];var N=x("bingroup");if(i(g,"2dMap"))for(C=0;C<2;C++){d=t[C];var k=x(d+"bingroup",N?N+"__"+d:null);f(g,k,d)}else f(g,N,E(g))}for(o in s){var I=s[o];for(c=I.traces,A=0;A<r.length;A++){var H=r[A],j=H.name,ee,te;if(!(j==="nbins"&&I.sizeFound)){for(w=0;w<c.length;w++){if(g=c[w],d=I.dirs[w],ee=H.aStr[d],v(g._input,ee).get()!==void 0){I[j]=x(ee),I[j+"Found"]=!0;break}te=(g._autoBin||{})[d]||{},te[j]&&v(g,ee).set(te[j])}if(j==="start"||j==="end")for(;w<c.length;w++)g=c[w],g["_"+d+"bingroup"]&&(te=(g._autoBin||{})[d]||{},x(ee,te[j]));j==="nbins"&&!I.sizeFound&&!I.nbinsFound&&(g=c[0],I[j]=x(ee))}}}}},6616:function(U,B,e){var y=e(24040),L=e(3400),i=e(76308),S=e(31508).handleText,b=e(55592),v=e(40196);U.exports=function(r,t,a,n){function u(E,M){return L.coerce(r,t,v,E,M)}var s=u("x"),l=u("y"),m=u("cumulative.enabled");m&&(u("cumulative.direction"),u("cumulative.currentbin")),u("text");var h=u("textposition");S(r,t,n,u,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat");var g=u("orientation",l&&!s?"h":"v"),c=g==="v"?"x":"y",o=g==="v"?"y":"x",d=s&&l?Math.min(L.minRowLength(s)&&L.minRowLength(l)):L.minRowLength(t[c]||[]);if(!d){t.visible=!1;return}t._length=d;var w=y.getComponentMethod("calendars","handleTraceDefaults");w(r,t,["x","y"],n);var A=t[o];A&&u("histfunc"),u("histnorm"),u("autobin"+c),b(r,t,u,a,n),L.coerceSelectionMarkerOpacity(t,u);var C=(t.marker.line||{}).color,x=y.getComponentMethod("errorbars","supplyDefaults");x(r,t,C||i.defaultLine,{axis:"y"}),x(r,t,C||i.defaultLine,{axis:"x",inherit:"y"})}},84980:function(U){U.exports=function(e,y,L,i,S){if(e.x="xVal"in y?y.xVal:y.x,e.y="yVal"in y?y.yVal:y.y,"zLabelVal"in y&&(e.z=y.zLabelVal),y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),!(L.cumulative||{}).enabled){var b=Array.isArray(S)?i[0].pts[S[0]][S[1]]:i[S].pts;e.pointNumbers=b,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(L._indexToPoints){v=[];for(var p=0;p<b.length;p++)v=v.concat(L._indexToPoints[b[p]])}else v=b;e.pointIndices=v}return e}},43339:function(U,B,e){var y=e(63400).hoverPoints,L=e(54460).hoverLabelText;U.exports=function(S,b,v,p,r){var t=y(S,b,v,p,r);if(t){S=t[0];var a=S.cd[S.index],n=S.cd[0].trace;if(!n.cumulative.enabled){var u=n.orientation==="h"?"y":"x";S[u+"Label"]=L(S[u+"a"],[a.ph0,a.ph1],n[u+"hoverformat"])}return t}}},42600:function(U,B,e){U.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(U){U.exports={percent:function(B,e){for(var y=B.length,L=100/e,i=0;i<y;i++)B[i]*=L},probability:function(B,e){for(var y=B.length,L=0;L<y;L++)B[L]/=e},density:function(B,e,y,L){var i=B.length;L=L||1;for(var S=0;S<i;S++)B[S]*=y[S]*L},"probability density":function(B,e,y,L){var i=B.length;L&&(e/=L);for(var S=0;S<i;S++)B[S]*=y[S]/e}}},37008:function(U,B,e){var y=e(40196),L=e(11120),i=e(83328),S=e(45464),b=e(29736).axisHoverFormat,v=e(21776).Ks,p=e(21776).Gw,r=e(49084),t=e(92880).extendFlat;U.exports=t({x:y.x,y:y.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:y.histnorm,histfunc:y.histfunc,nbinsx:y.nbinsx,xbins:L("x"),nbinsy:y.nbinsy,ybins:L("y"),autobinx:y.autobinx,autobiny:y.autobiny,bingroup:t({},y.bingroup,{}),xbingroup:t({},y.bingroup,{}),ybingroup:t({},y.bingroup,{}),xgap:i.xgap,ygap:i.ygap,zsmooth:i.zsmooth,xhoverformat:b("x"),yhoverformat:b("y"),zhoverformat:b("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:p({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:i.textfont,showlegend:t({},S.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},55480:function(U,B,e){var y=e(3400),L=e(54460),i=e(16964),S=e(10648),b=e(2e3),v=e(67712),p=e(35852).calcAllAutoBins;U.exports=function(u,s){var l=L.getFromId(u,s.xaxis),m=L.getFromId(u,s.yaxis),h=s.xcalendar,g=s.ycalendar,c=function(Ge){return l.r2c(Ge,0,h)},o=function(Ge){return m.r2c(Ge,0,g)},d=function(Ge){return l.c2r(Ge,0,h)},w=function(Ge){return m.c2r(Ge,0,g)},A,C,x,E,M=p(u,s,l,"x"),f=M[0],P=M[1],T=p(u,s,m,"y"),z=T[0],_=T[1],V=s._length;P.length>V&&P.splice(V,P.length-V),_.length>V&&_.splice(V,_.length-V);var F=[],N=[],k=[],I=typeof f.size=="string",H=typeof z.size=="string",j=[],ee=[],te=I?j:f,ne=H?ee:z,ue=0,q=[],Y=[],Z=s.histnorm,G=s.histfunc,K=Z.indexOf("density")!==-1,oe=G==="max"||G==="min",$=oe?null:0,J=i.count,se=S[Z],ie=!1,ce=[],ye=[],Se="z"in s?s.z:"marker"in s&&Array.isArray(s.marker.color)?s.marker.color:"";Se&&G!=="count"&&(ie=G==="avg",J=i[G]);var Te=f.size,ke=c(f.start),we=c(f.end)+(ke-L.tickIncrement(ke,Te,!1,h))/1e6;for(A=ke;A<we;A=L.tickIncrement(A,Te,!1,h))N.push($),j.push(A),ie&&k.push(0);j.push(A);var Ee=N.length,xe=(A-ke)/Ee,De=d(ke+xe/2),Ve=z.size,Ue=o(z.start),Be=o(z.end)+(Ue-L.tickIncrement(Ue,Ve,!1,g))/1e6;for(A=Ue;A<Be;A=L.tickIncrement(A,Ve,!1,g)){F.push(N.slice()),ee.push(A);var Xe=new Array(Ee);for(C=0;C<Ee;C++)Xe[C]=[];Y.push(Xe),ie&&q.push(k.slice())}ee.push(A);var ot=F.length,ut=(A-Ue)/ot,et=w(Ue+ut/2);K&&(ce=r(N.length,te,xe,I),ye=r(F.length,ne,ut,H)),!I&&l.type==="date"&&(te=t(c,te)),!H&&m.type==="date"&&(ne=t(o,ne));var qe=!0,ft=!0,ht=new Array(Ee),dt=new Array(ot),mt=1/0,St=1/0,rt=1/0,Oe=1/0;for(A=0;A<V;A++){var Ye=P[A],Ze=_[A];x=y.findBin(Ye,te),E=y.findBin(Ze,ne),x>=0&&x<Ee&&E>=0&&E<ot&&(ue+=J(x,A,F[E],Se,q[E]),Y[E][x].push(A),qe&&(ht[x]===void 0?ht[x]=Ye:ht[x]!==Ye&&(qe=!1)),ft&&(dt[E]===void 0?dt[E]=Ze:dt[E]!==Ze&&(ft=!1)),mt=Math.min(mt,Ye-j[x]),St=Math.min(St,j[x+1]-Ye),rt=Math.min(rt,Ze-ee[E]),Oe=Math.min(Oe,ee[E+1]-Ze))}if(ie)for(E=0;E<ot;E++)ue+=b(F[E],q[E]);if(se)for(E=0;E<ot;E++)se(F[E],ue,ce,ye[E]);return{x:P,xRanges:a(j,qe&&ht,mt,St,l,h),x0:De,dx:xe,y:_,yRanges:a(ee,ft&&dt,rt,Oe,m,g),y0:et,dy:ut,z:F,pts:Y}};function r(n,u,s,l){var m=new Array(n),h;if(l)for(h=0;h<n;h++)m[h]=1/(u[h+1]-u[h]);else{var g=1/s;for(h=0;h<n;h++)m[h]=g}return m}function t(n,u){return{start:n(u.start),end:n(u.end),size:u.size}}function a(n,u,s,l,m,h){var g,c=n.length-1,o=new Array(c),d=v(s,l,n,m,h);for(g=0;g<c;g++){var w=(u||[])[g];o[g]=w===void 0?[d(n[g]),d(n[g+1],!0)]:[w,w]}return o}},99784:function(U,B,e){var y=e(3400),L=e(56408),i=e(82748),S=e(27260),b=e(39096),v=e(37008);U.exports=function(r,t,a,n){function u(s,l){return y.coerce(r,t,v,s,l)}L(r,t,u,n),t.visible!==!1&&(i(r,t,u,n),S(r,t,n,u,{prefix:"",cLetter:"z"}),u("hovertemplate"),b(u,n),u("xhoverformat"),u("yhoverformat"))}},59576:function(U,B,e){var y=e(55512),L=e(54460).hoverLabelText;U.exports=function(S,b,v,p,r){var t=y(S,b,v,p,r);if(t){S=t[0];var a=S.index,n=a[0],u=a[1],s=S.cd[0],l=s.trace,m=s.xRanges[u],h=s.yRanges[n];return S.xLabel=L(S.xa,[m[0],m[1]],l.xhoverformat),S.yLabel=L(S.ya,[h[0],h[1]],l.yhoverformat),t}}},21536:function(U,B,e){U.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(U,B,e){var y=e(24040),L=e(3400);U.exports=function(S,b,v,p){var r=v("x"),t=v("y"),a=L.minRowLength(r),n=L.minRowLength(t);if(!a||!n){b.visible=!1;return}b._length=Math.min(a,n);var u=y.getComponentMethod("calendars","handleTraceDefaults");u(S,b,["x","y"],p);var s=v("z")||v("marker.color");s&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},81220:function(U,B,e){var y=e(37008),L=e(67104),i=e(49084),S=e(29736).axisHoverFormat,b=e(92880).extendFlat;U.exports=b({x:y.x,y:y.y,z:y.z,marker:y.marker,histnorm:y.histnorm,histfunc:y.histfunc,nbinsx:y.nbinsx,xbins:y.xbins,nbinsy:y.nbinsy,ybins:y.ybins,autobinx:y.autobinx,autobiny:y.autobiny,bingroup:y.bingroup,xbingroup:y.xbingroup,ybingroup:y.ybingroup,autocontour:L.autocontour,ncontours:L.ncontours,contours:L.contours,line:{color:L.line.color,width:b({},L.line.width,{dflt:.5}),dash:L.line.dash,smoothing:L.line.smoothing,editType:"plot"},xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z",1),hovertemplate:y.hovertemplate,texttemplate:L.texttemplate,textfont:L.textfont},i("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(U,B,e){var y=e(3400),L=e(56408),i=e(84952),S=e(97680),b=e(39096),v=e(81220);U.exports=function(r,t,a,n){function u(l,m){return y.coerce(r,t,v,l,m)}function s(l){return y.coerce2(r,t,v,l)}L(r,t,u,n),t.visible!==!1&&(i(r,t,u,s),S(r,t,u,n),u("xhoverformat"),u("yhoverformat"),u("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&b(u,n))}},65664:function(U,B,e){U.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(U,B,e){var y=e(21776).Ks,L=e(21776).Gw,i=e(49084),S=e(86968).u,b=e(74996),v=e(424),p=e(40516),r=e(32984),t=e(92880).extendFlat,a=e(98192).c;U.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:p.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:t({colors:v.marker.colors,line:v.marker.line,pattern:a,editType:"calc"},i("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:p.pathbar,text:b.text,textinfo:v.textinfo,texttemplate:L({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:b.hovertext,hoverinfo:v.hoverinfo,hovertemplate:y({},{keys:r.eventDataKeys}),textfont:b.textfont,insidetextfont:b.insidetextfont,outsidetextfont:p.outsidetextfont,textposition:p.textposition,sort:b.sort,root:v.root,domain:S({name:"icicle",trace:!0,editType:"calc"})}},59564:function(U,B,e){var y=e(7316);B.name="icicle",B.plot=function(L,i,S,b){y.plotBasePlot(B.name,L,i,S,b)},B.clean=function(L,i,S,b){y.cleanBasePlot(B.name,L,i,S,b)}},73876:function(U,B,e){var y=e(3776);B.r=function(L,i){return y.calc(L,i)},B.q=function(L){return y._runCrossTraceCalc("icicle",L)}},7045:function(U,B,e){var y=e(3400),L=e(97376),i=e(76308),S=e(86968).Q,b=e(31508).handleText,v=e(78048).TEXTPAD,p=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,a=r.handleDefaults;U.exports=function(u,s,l,m){function h(x,E){return y.coerce(u,s,L,x,E)}var g=h("labels"),c=h("parents");if(!g||!g.length||!c||!c.length){s.visible=!1;return}var o=h("values");o&&o.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.orientation"),h("tiling.flip"),h("tiling.pad");var d=h("text");h("texttemplate"),s.texttemplate||h("textinfo",y.isArrayOrTypedArray(d)?"text+label":"label"),h("hovertext"),h("hovertemplate");var w=h("pathbar.visible"),A="auto";b(u,s,m,h,A,{hasPathbar:w,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition"),p(u,s,m,h);var C=s._hasColorscale=t(u,"marker","colors")||(u.marker||{}).coloraxis;C&&a(u,s,m,h,{prefix:"marker.",cLetter:"c"}),h("leaf.opacity",C?1:.7),s._hovered={marker:{line:{width:2,color:i.contrast(m.paper_bgcolor)}}},w&&(h("pathbar.thickness",s.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),S(s,m,h),s._length=null}},67880:function(U,B,e){var y=e(33428),L=e(3400),i=e(43616),S=e(72736),b=e(25132),v=e(47192).styleOne,p=e(32984),r=e(78176),t=e(45716),a=e(96488).formatSliceLabel,n=!1;U.exports=function(s,l,m,h,g){var c=g.width,o=g.height,d=g.viewX,w=g.viewY,A=g.pathSlice,C=g.toMoveInsideSlice,x=g.strTransform,E=g.hasTransition,M=g.handleSlicesExit,f=g.makeUpdateSliceInterpolator,P=g.makeUpdateTextInterpolator,T=g.prevEntry,z={},_=s._context.staticPlot,V=s._fullLayout,F=l[0],N=F.trace,k=N.textposition.indexOf("left")!==-1,I=N.textposition.indexOf("right")!==-1,H=N.textposition.indexOf("bottom")!==-1,j=b(m,[c,o],{flipX:N.tiling.flip.indexOf("x")>-1,flipY:N.tiling.flip.indexOf("y")>-1,orientation:N.tiling.orientation,pad:{inner:N.tiling.pad},maxDepth:N._maxDepth}),ee=j.descendants(),te=1/0,ne=-1/0;ee.forEach(function(G){var K=G.depth;K>=N._maxDepth?(G.x0=G.x1=(G.x0+G.x1)/2,G.y0=G.y1=(G.y0+G.y1)/2):(te=Math.min(te,K),ne=Math.max(ne,K))}),h=h.data(ee,r.getPtId),N._maxVisibleLayers=isFinite(ne)?ne-te+1:0,h.enter().append("g").classed("slice",!0),M(h,n,z,[c,o],A),h.order();var ue=null;if(E&&T){var q=r.getPtId(T);h.each(function(G){ue===null&&r.getPtId(G)===q&&(ue={x0:G.x0,x1:G.x1,y0:G.y0,y1:G.y1})})}var Y=function(){return ue||{x0:0,x1:c,y0:0,y1:o}},Z=h;return E&&(Z=Z.transition().each("end",function(){var G=y.select(this);r.setSliceCursor(G,s,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Z.each(function(G){G._x0=d(G.x0),G._x1=d(G.x1),G._y0=w(G.y0),G._y1=w(G.y1),G._hoverX=d(G.x1-N.tiling.pad),G._hoverY=w(H?G.y1-N.tiling.pad/2:G.y0+N.tiling.pad/2);var K=y.select(this),oe=L.ensureSingle(K,"path","surface",function(ie){ie.style("pointer-events",_?"none":"all")});E?oe.transition().attrTween("d",function(ie){var ce=f(ie,n,Y(),[c,o],{orientation:N.tiling.orientation,flipX:N.tiling.flip.indexOf("x")>-1,flipY:N.tiling.flip.indexOf("y")>-1});return function(ye){return A(ce(ye))}}):oe.attr("d",A),K.call(t,m,s,l,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,s,{isTransitioning:s._transitioning}),oe.call(v,G,N,s,{hovered:!1}),G.x0===G.x1||G.y0===G.y1?G._text="":G._text=a(G,m,N,l,V)||"";var $=L.ensureSingle(K,"g","slicetext"),J=L.ensureSingle($,"text","",function(ie){ie.attr("data-notex",1)}),se=L.ensureUniformFontSize(s,r.determineTextFont(N,G,V.font));J.text(G._text||" ").classed("slicetext",!0).attr("text-anchor",I?"end":k?"start":"middle").call(i.font,se).call(S.convertToTspans,s),G.textBB=i.bBox(J.node()),G.transform=C(G,{fontSize:se.size}),G.transform.fontSize=se.size,E?J.transition().attrTween("transform",function(ie){var ce=P(ie,n,Y(),[c,o]);return function(ye){return x(ce(ye))}}):J.attr("transform",x(G))}),ue}},29044:function(U,B,e){U.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(U){U.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(U,B,e){var y=e(3400),L=e(90676);U.exports=function(S,b){function v(p,r){return y.coerce(S,b,L,p,r)}v("iciclecolorway",b.colorway),v("extendiciclecolors")}},25132:function(U,B,e){var y=e(74148),L=e(83024);U.exports=function(S,b,v){var p=v.flipX,r=v.flipY,t=v.orientation==="h",a=v.maxDepth,n=b[0],u=b[1];a&&(n=(S.height+1)*b[0]/Math.min(S.height+1,a),u=(S.height+1)*b[1]/Math.min(S.height+1,a));var s=y.partition().padding(v.pad.inner).size(t?[b[1],n]:[b[0],u])(S);return(t||p||r)&&L(s,b,{swapXY:t,flipX:p,flipY:r}),s}},38364:function(U,B,e){var y=e(95808),L=e(67880);U.exports=function(S,b,v,p){return y(S,b,v,p,{type:"icicle",drawDescendants:L})}},47192:function(U,B,e){var y=e(33428),L=e(76308),i=e(3400),S=e(82744).resizeText,b=e(60404);function v(r){var t=r._fullLayout._iciclelayer.selectAll(".trace");S(r,t,"icicle"),t.each(function(a){var n=y.select(this),u=a[0],s=u.trace;n.style("opacity",s.opacity),n.selectAll("path.surface").each(function(l){y.select(this).call(p,l,s,r)})})}function p(r,t,a,n){var u=t.data.data,s=!t.children,l=u.i,m=i.castOption(a,l,"marker.line.color")||L.defaultLine,h=i.castOption(a,l,"marker.line.width")||0;r.call(b,t,a,n).style("stroke-width",h).call(L.stroke,m).style("opacity",s?a.leaf.opacity:null)}U.exports={style:v,styleOne:p}},95188:function(U,B,e){for(var y=e(45464),L=e(21776).Ks,i=e(92880).extendFlat,S=e(47797).colormodel,b=["rgb","rgba","rgba256","hsl","hsla"],v=[],p=[],r=0;r<b.length;r++){var t=S[b[r]];v.push("For the `"+b[r]+"` colormodel, it is ["+(t.zminDflt||t.min).join(", ")+"]."),p.push("For the `"+b[r]+"` colormodel, it is ["+(t.zmaxDflt||t.max).join(", ")+"].")}U.exports=i({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:b,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:i({},y.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:L({},{keys:["z","color","colormodel"]}),transforms:void 0})},93336:function(U,B,e){var y=e(3400),L=e(47797),i=e(38248),S=e(54460),b=e(3400).maxRowLength,v=e(18712).i;U.exports=function(n,u){var s,l;if(u._hasZ)s=u.z.length,l=b(u.z);else if(u._hasSource){var m=v(u.source);s=m.height,l=m.width}var h=S.getFromId(n,u.xaxis||"x"),g=S.getFromId(n,u.yaxis||"y"),c=h.d2c(u.x0)-u.dx/2,o=g.d2c(u.y0)-u.dy/2,d,w=[c,c+l*u.dx],A=[o,o+s*u.dy];if(h&&h.type==="log")for(d=0;d<l;d++)w.push(c+d*u.dx);if(g&&g.type==="log")for(d=0;d<s;d++)A.push(o+d*u.dy);u._extremes[h._id]=S.findExtremes(h,w),u._extremes[g._id]=S.findExtremes(g,A),u._scaler=t(u);var C={x0:c,y0:o,z:u.z,w:l,h:s};return[C]};function p(a,n,u,s){return function(l){return y.constrain((l-a)*n,u,s)}}function r(a,n){return function(u){return y.constrain(u,a,n)}}function t(a){var n=L.colormodel[a.colormodel],u=n.colormodel||a.colormodel,s=u.length;a._sArray=[];for(var l=0;l<s;l++)n.min[l]!==a.zmin[l]||n.max[l]!==a.zmax[l]?a._sArray.push(p(a.zmin[l],(n.max[l]-n.min[l])/(a.zmax[l]-a.zmin[l]),n.min[l],n.max[l])):a._sArray.push(r(n.min[l],n.max[l]));return function(m){for(var h=m.slice(0,s),g=0;g<s;g++){var c=h[g];if(!i(c))return!1;h[g]=a._sArray[g](c)}return h}}},47797:function(U){U.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(B){return B.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(B){return B.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(B){return B.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(B){var e=B.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(B){var e=B.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%",""]}}}},13188:function(U,B,e){var y=e(3400),L=e(95188),i=e(47797),S=e(81792).IMAGE_URL_PREFIX;U.exports=function(v,p){function r(n,u){return y.coerce(v,p,L,n,u)}r("source"),p.source&&!p.source.match(S)&&delete p.source,p._hasSource=!!p.source;var t=r("z");if(p._hasZ=!(t===void 0||!t.length||!t[0]||!t[0].length),!p._hasZ&&!p._hasSource){p.visible=!1;return}r("x0"),r("y0"),r("dx"),r("dy");var a;p._hasZ?(r("colormodel","rgb"),a=i.colormodel[p.colormodel],r("zmin",a.zminDflt||a.min),r("zmax",a.zmaxDflt||a.max)):p._hasSource&&(p.colormodel="rgba256",a=i.colormodel[p.colormodel],p.zmin=a.zminDflt,p.zmax=a.zmaxDflt),r("zsmooth"),r("text"),r("hovertext"),r("hovertemplate"),p._length=null}},79972:function(U){U.exports=function(e,y){return"xVal"in y&&(e.x=y.xVal),"yVal"in y&&(e.y=y.yVal),y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),e.color=y.color,e.colormodel=y.trace.colormodel,e.z||(e.z=y.color),e}},18712:function(U,B,e){var y=e(19480),L=e(81792).IMAGE_URL_PREFIX,i=e(33576).Buffer;B.i=function(S){var b=S.replace(L,""),v=new i(b,"base64");return y(v)}},24892:function(U,B,e){var y=e(93024),L=e(3400),i=L.isArrayOrTypedArray,S=e(47797);U.exports=function(v,p,r){var t=v.cd[0],a=t.trace,n=v.xa,u=v.ya;if(!(y.inbox(p-t.x0,p-(t.x0+t.w*a.dx),0)>0||y.inbox(r-t.y0,r-(t.y0+t.h*a.dy),0)>0)){var s=Math.floor((p-t.x0)/a.dx),l=Math.floor(Math.abs(r-t.y0)/a.dy),m;if(a._hasZ?m=t.z[l][s]:a._hasSource&&(m=a._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(s,l,1,1).data),!!m){var h=t.hi||a.hoverinfo,g;if(h){var c=h.split("+");c.indexOf("all")!==-1&&(c=["color"]),c.indexOf("color")!==-1&&(g=!0)}var o=S.colormodel[a.colormodel],d=o.colormodel||a.colormodel,w=d.length,A=a._scaler(m),C=o.suffix,x=[];(a.hovertemplate||g)&&(x.push("["+[A[0]+C[0],A[1]+C[1],A[2]+C[2]].join(", ")),w===4&&x.push(", "+A[3]+C[3]),x.push("]"),x=x.join(""),v.extraText=d.toUpperCase()+": "+x);var E;i(a.hovertext)&&i(a.hovertext[l])?E=a.hovertext[l][s]:i(a.text)&&i(a.text[l])&&(E=a.text[l][s]);var M=u.c2p(t.y0+(l+.5)*a.dy),f=t.x0+(s+.5)*a.dx,P=t.y0+(l+.5)*a.dy,T="["+m.slice(0,a.colormodel.length).join(", ")+"]";return[L.extendFlat(v,{index:[l,s],x0:n.c2p(t.x0+s*a.dx),x1:n.c2p(t.x0+(s+1)*a.dx),y0:M,y1:M,color:A,xVal:f,xLabelVal:f,yVal:P,yLabelVal:P,zLabelVal:T,text:E,hovertemplateLabels:{zLabel:T,colorLabel:x,"color[0]Label":A[0]+C[0],"color[1]Label":A[1]+C[1],"color[2]Label":A[2]+C[2],"color[3]Label":A[3]+C[3]}})]}}}},48928:function(U,B,e){U.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(U,B,e){var y=e(33428),L=e(3400),i=L.strTranslate,S=e(9616),b=e(47797),v=e(9188),p=e(2264).STYLE;U.exports=function(t,a,n,u){var s=a.xaxis,l=a.yaxis,m=!t._context._exportedPlot&&v();L.makeTraceGroups(u,n,"im").each(function(h){var g=y.select(this),c=h[0],o=c.trace,d=(o.zsmooth==="fast"||o.zsmooth===!1&&m)&&!o._hasZ&&o._hasSource&&s.type==="linear"&&l.type==="linear";o._realImage=d;var w=c.z,A=c.x0,C=c.y0,x=c.w,E=c.h,M=o.dx,f=o.dy,P,T,z,_,V,F;for(F=0;P===void 0&&F<x;)P=s.c2p(A+F*M),F++;for(F=x;T===void 0&&F>0;)T=s.c2p(A+F*M),F--;for(F=0;_===void 0&&F<E;)_=l.c2p(C+F*f),F++;for(F=E;V===void 0&&F>0;)V=l.c2p(C+F*f),F--;if(T<P&&(z=T,T=P,P=z),V<_&&(z=_,_=V,V=z),!d){var N=.5;P=Math.max(-N*s._length,P),T=Math.min((1+N)*s._length,T),_=Math.max(-N*l._length,_),V=Math.min((1+N)*l._length,V)}var k=Math.round(T-P),I=Math.round(V-_),H=k<=0||I<=0;if(H){var j=g.selectAll("image").data([]);j.exit().remove();return}function ee($){var J=document.createElement("canvas");J.width=k,J.height=I;var se=J.getContext("2d",{willReadFrequently:!0}),ie=function(Ue){return L.constrain(Math.round(s.c2p(A+Ue*M)-P),0,k)},ce=function(Ue){return L.constrain(Math.round(l.c2p(C+Ue*f)-_),0,I)},ye=b.colormodel[o.colormodel],Se=ye.colormodel||o.colormodel,Te=ye.fmt,ke;for(F=0;F<c.w;F++){var we=ie(F),Ee=ie(F+1);if(!(Ee===we||isNaN(Ee)||isNaN(we)))for(var xe=0;xe<c.h;xe++){var De=ce(xe),Ve=ce(xe+1);Ve===De||isNaN(Ve)||isNaN(De)||!$(F,xe)||(ke=o._scaler($(F,xe)),ke?se.fillStyle=Se+"("+Te(ke).join(",")+")":se.fillStyle="rgba(0,0,0,0)",se.fillRect(we,De,Ee-we,Ve-De))}}return J}var te=g.selectAll("image").data([h]);te.enter().append("svg:image").attr({xmlns:S.svg,preserveAspectRatio:"none"}),te.exit().remove();var ne=o.zsmooth===!1?p:"";if(d){var ue=L.simpleMap(s.range,s.r2l),q=L.simpleMap(l.range,l.r2l),Y=ue[1]<ue[0],Z=q[1]>q[0];if(Y||Z){var G=P+k/2,K=_+I/2;ne+="transform:"+i(G+"px",K+"px")+"scale("+(Y?-1:1)+","+(Z?-1:1)+")"+i(-G+"px",-K+"px")+";"}}te.attr("style",ne);var oe=new Promise(function($){if(o._hasZ)$();else if(o._hasSource)if(o._canvas&&o._canvas.el.width===x&&o._canvas.el.height===E&&o._canvas.source===o.source)$();else{var J=document.createElement("canvas");J.width=x,J.height=E;var se=J.getContext("2d",{willReadFrequently:!0});o._image=o._image||new Image;var ie=o._image;ie.onload=function(){se.drawImage(ie,0,0),o._canvas={el:J,source:o.source},$()},ie.setAttribute("src",o.source)}}).then(function(){var $,J;if(o._hasZ)J=ee(function(ce,ye){var Se=w[ye][ce];return L.isTypedArray(Se)&&(Se=Array.from(Se)),Se}),$=J.toDataURL("image/png");else if(o._hasSource)if(d)$=o.source;else{var se=o._canvas.el.getContext("2d",{willReadFrequently:!0}),ie=se.getImageData(0,0,x,E).data;J=ee(function(ce,ye){var Se=4*(ye*x+ce);return[ie[Se],ie[Se+1],ie[Se+2],ie[Se+3]]}),$=J.toDataURL("image/png")}te.attr({"xlink:href":$,height:I,width:k,x:P,y:_})});t._promises.push(oe)})}},28576:function(U,B,e){var y=e(33428);U.exports=function(i){y.select(i).selectAll(".im image").style("opacity",function(S){return S[0].trace.opacity})}},89864:function(U,B,e){var y=e(92880).extendFlat,L=e(92880).extendDeep,i=e(67824).overrideAll,S=e(25376),b=e(22548),v=e(86968).u,p=e(94724),r=e(31780).templatedArray,t=e(48164),a=e(29736).descriptionOnlyNumbers,n=S({editType:"plot",colorEditType:"plot"}),u={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:b.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},s={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},l=r("step",L({},u,{range:s}));U.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:y({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:a("value")},font:y({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:a("value")},increasing:{symbol:{valType:"string",dflt:t.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:t.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:y({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:L({},u,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:b.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:i({range:s,visible:y({},p.visible,{dflt:!0}),tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:y({},p.ticks,{dflt:"outside"}),ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:S({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,editType:"plot"},"plot"),steps:l,threshold:{line:{color:y({},u.line.color,{}),width:y({},u.line.width,{dflt:1}),editType:"plot"},thickness:y({},u.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(U,B,e){var y=e(7316);B.name="indicator",B.plot=function(L,i,S,b){y.plotBasePlot(B.name,L,i,S,b)},B.clean=function(L,i,S,b){y.cleanBasePlot(B.name,L,i,S,b)}},79136:function(U){function B(e,y){var L=[],i=y.value;typeof y._lastValue!="number"&&(y._lastValue=y.value);var S=y._lastValue,b=S;return y._hasDelta&&typeof y.delta.reference=="number"&&(b=y.delta.reference),L[0]={y:i,lastY:S,delta:i-b,relativeDelta:(i-b)/b},L}U.exports={calc:B}},12096:function(U){U.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(U,B,e){var y=e(3400),L=e(89864),i=e(86968).Q,S=e(31780),b=e(51272),v=e(12096),p=e(26332),r=e(25404),t=e(95936),a=e(42568);function n(s,l,m,h){function g(V,F){return y.coerce(s,l,L,V,F)}i(l,h,g),g("mode"),l._hasNumber=l.mode.indexOf("number")!==-1,l._hasDelta=l.mode.indexOf("delta")!==-1,l._hasGauge=l.mode.indexOf("gauge")!==-1;var c=g("value");l._range=[0,typeof c=="number"?1.5*c:1];var o=new Array(2),d;l._hasNumber&&(g("number.valueformat"),g("number.font.color",h.font.color),g("number.font.family",h.font.family),g("number.font.size"),l.number.font.size===void 0&&(l.number.font.size=v.defaultNumberFontSize,o[0]=!0),g("number.prefix"),g("number.suffix"),d=l.number.font.size);var w;l._hasDelta&&(g("delta.font.color",h.font.color),g("delta.font.family",h.font.family),g("delta.font.size"),l.delta.font.size===void 0&&(l.delta.font.size=(l._hasNumber?.5:1)*(d||v.defaultNumberFontSize),o[1]=!0),g("delta.reference",l.value),g("delta.relative"),g("delta.valueformat",l.delta.relative?"2%":""),g("delta.increasing.symbol"),g("delta.increasing.color"),g("delta.decreasing.symbol"),g("delta.decreasing.color"),g("delta.position"),g("delta.prefix"),g("delta.suffix"),w=l.delta.font.size),l._scaleNumbers=(!l._hasNumber||o[0])&&(!l._hasDelta||o[1])||!1,g("title.font.color",h.font.color),g("title.font.family",h.font.family),g("title.font.size",.25*(d||w||v.defaultNumberFontSize)),g("title.text");var A,C,x,E;function M(V,F){return y.coerce(A,C,L.gauge,V,F)}function f(V,F){return y.coerce(x,E,L.gauge.axis,V,F)}if(l._hasGauge){A=s.gauge,A||(A={}),C=S.newContainer(l,"gauge"),M("shape");var P=l._isBullet=l.gauge.shape==="bullet";P||g("title.align","center");var T=l._isAngular=l.gauge.shape==="angular";T||g("align","center"),M("bgcolor",h.paper_bgcolor),M("borderwidth"),M("bordercolor"),M("bar.color"),M("bar.line.color"),M("bar.line.width");var z=v.valueThickness*(l.gauge.shape==="bullet"?.5:1);M("bar.thickness",z),b(A,C,{name:"steps",handleItemDefaults:u}),M("threshold.value"),M("threshold.thickness"),M("threshold.line.width"),M("threshold.line.color"),x={},A&&(x=A.axis||{}),E=S.newContainer(C,"axis"),f("visible"),l._range=f("range",l._range);var _={noAutotickangles:!0,outerTicks:!0};p(x,E,f,"linear"),a(x,E,f,"linear",_),t(x,E,f,"linear",_),r(x,E,f,_)}else g("title.align","center"),g("align","center"),l._isAngular=l._isBullet=!1;l._length=null}function u(s,l){function m(h,g){return y.coerce(s,l,L.gauge.steps,h,g)}m("color"),m("line.color"),m("line.width"),m("range"),m("thickness")}U.exports={supplyDefaults:n}},43480:function(U,B,e){U.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(U,B,e){var y=e(33428),L=e(67756).qy,i=e(67756).Gz,S=e(3400),b=S.strScale,v=S.strTranslate,p=S.rad2deg,r=e(84284).MID_SHIFT,t=e(43616),a=e(12096),n=e(72736),u=e(54460),s=e(28336),l=e(37668),m=e(94724),h=e(76308),g={left:"start",center:"middle",right:"end"},c={left:0,center:.5,right:1},o=/[yzafpnµmkMGTPEZY]/;function d(_){return _&&_.duration>0}U.exports=function(V,F,N,k){var I=V._fullLayout,H;d(N)&&k&&(H=k()),S.makeTraceGroups(I._indicatorlayer,F,"trace").each(function(j){var ee=j[0],te=ee.trace,ne=y.select(this),ue=te._hasGauge,q=te._isAngular,Y=te._isBullet,Z=te.domain,G={w:I._size.w*(Z.x[1]-Z.x[0]),h:I._size.h*(Z.y[1]-Z.y[0]),l:I._size.l+I._size.w*Z.x[0],r:I._size.r+I._size.w*(1-Z.x[1]),t:I._size.t+I._size.h*(1-Z.y[1]),b:I._size.b+I._size.h*Z.y[0]},K=G.l+G.w/2,oe=G.t+G.h/2,$=Math.min(G.w/2,G.h),J=a.innerRadius*$,se,ie,ce,ye=te.align||"center";if(ie=oe,!ue)se=G.l+c[ye]*G.w,ce=function(Be){return f(Be,G.w,G.h)};else if(q&&(se=K,ie=oe+$/2,ce=function(Be){return P(Be,.9*J)}),Y){var Se=a.bulletPadding,Te=1-a.bulletNumberDomainSize+Se;se=G.l+(Te+(1-Te)*c[ye])*G.w,ce=function(Be){return f(Be,(a.bulletNumberDomainSize-Se)*G.w,G.h)}}C(V,ne,j,{numbersX:se,numbersY:ie,numbersScaler:ce,transitionOpts:N,onComplete:H});var ke,we;ue&&(ke={range:te.gauge.axis.range,color:te.gauge.bgcolor,line:{color:te.gauge.bordercolor,width:0},thickness:1},we={range:te.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:te.gauge.bordercolor,width:te.gauge.borderwidth},thickness:1});var Ee=ne.selectAll("g.angular").data(q?j:[]);Ee.exit().remove();var xe=ne.selectAll("g.angularaxis").data(q?j:[]);xe.exit().remove(),q&&A(V,ne,j,{radius:$,innerRadius:J,gauge:Ee,layer:xe,size:G,gaugeBg:ke,gaugeOutline:we,transitionOpts:N,onComplete:H});var De=ne.selectAll("g.bullet").data(Y?j:[]);De.exit().remove();var Ve=ne.selectAll("g.bulletaxis").data(Y?j:[]);Ve.exit().remove(),Y&&w(V,ne,j,{gauge:De,layer:Ve,size:G,gaugeBg:ke,gaugeOutline:we,transitionOpts:N,onComplete:H});var Ue=ne.selectAll("text.title").data(j);Ue.exit().remove(),Ue.enter().append("text").classed("title",!0),Ue.attr("text-anchor",function(){return Y?g.right:g[te.title.align]}).text(te.title.text).call(t.font,te.title.font).call(n.convertToTspans,V),Ue.attr("transform",function(){var Be=G.l+G.w*c[te.title.align],Xe,ot=a.titlePadding,ut=t.bBox(Ue.node());if(ue){if(q)if(te.gauge.axis.visible){var et=t.bBox(xe.node());Xe=et.top-ot-ut.bottom}else Xe=G.t+G.h/2-$/2-ut.bottom-ot;Y&&(Xe=ie-(ut.top+ut.bottom)/2,Be=G.l-a.bulletPadding*G.w)}else Xe=te._numbersTop-ot-ut.bottom;return v(Be,Xe)})})};function w(_,V,F,N){var k=F[0].trace,I=N.gauge,H=N.layer,j=N.gaugeBg,ee=N.gaugeOutline,te=N.size,ne=k.domain,ue=N.transitionOpts,q=N.onComplete,Y,Z,G,K,oe;I.enter().append("g").classed("bullet",!0),I.attr("transform",v(te.l,te.t)),H.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),H.selectAll("g.xbulletaxistick,path,text").remove();var $=te.h,J=k.gauge.bar.thickness*$,se=ne.x[0],ie=ne.x[0]+(ne.x[1]-ne.x[0])*(k._hasNumber||k._hasDelta?1-a.bulletNumberDomainSize:1);Y=M(_,k.gauge.axis),Y._id="xbulletaxis",Y.domain=[se,ie],Y.setScale(),Z=u.calcTicks(Y),G=u.makeTransTickFn(Y),K=u.getTickSigns(Y)[2],oe=te.t+te.h,Y.visible&&(u.drawTicks(_,Y,{vals:Y.ticks==="inside"?u.clipEnds(Y,Z):Z,layer:H,path:u.makeTickPath(Y,oe,K),transFn:G}),u.drawLabels(_,Y,{vals:Z,layer:H,transFn:G,labelFns:u.makeLabelFns(Y,oe)}));function ce(xe){xe.attr("width",function(De){return Math.max(0,Y.c2p(De.range[1])-Y.c2p(De.range[0]))}).attr("x",function(De){return Y.c2p(De.range[0])}).attr("y",function(De){return .5*(1-De.thickness)*$}).attr("height",function(De){return De.thickness*$})}var ye=[j].concat(k.gauge.steps),Se=I.selectAll("g.bg-bullet").data(ye);Se.enter().append("g").classed("bg-bullet",!0).append("rect"),Se.select("rect").call(ce).call(x),Se.exit().remove();var Te=I.selectAll("g.value-bullet").data([k.gauge.bar]);Te.enter().append("g").classed("value-bullet",!0).append("rect"),Te.select("rect").attr("height",J).attr("y",($-J)/2).call(x),d(ue)?Te.select("rect").transition().duration(ue.duration).ease(ue.easing).each("end",function(){q&&q()}).each("interrupt",function(){q&&q()}).attr("width",Math.max(0,Y.c2p(Math.min(k.gauge.axis.range[1],F[0].y)))):Te.select("rect").attr("width",typeof F[0].y=="number"?Math.max(0,Y.c2p(Math.min(k.gauge.axis.range[1],F[0].y))):0),Te.exit().remove();var ke=F.filter(function(){return k.gauge.threshold.value||k.gauge.threshold.value===0}),we=I.selectAll("g.threshold-bullet").data(ke);we.enter().append("g").classed("threshold-bullet",!0).append("line"),we.select("line").attr("x1",Y.c2p(k.gauge.threshold.value)).attr("x2",Y.c2p(k.gauge.threshold.value)).attr("y1",(1-k.gauge.threshold.thickness)/2*$).attr("y2",(1-(1-k.gauge.threshold.thickness)/2)*$).call(h.stroke,k.gauge.threshold.line.color).style("stroke-width",k.gauge.threshold.line.width),we.exit().remove();var Ee=I.selectAll("g.gauge-outline").data([ee]);Ee.enter().append("g").classed("gauge-outline",!0).append("rect"),Ee.select("rect").call(ce).call(x),Ee.exit().remove()}function A(_,V,F,N){var k=F[0].trace,I=N.size,H=N.radius,j=N.innerRadius,ee=N.gaugeBg,te=N.gaugeOutline,ne=[I.l+I.w/2,I.t+I.h/2+H/2],ue=N.gauge,q=N.layer,Y=N.transitionOpts,Z=N.onComplete,G=Math.PI/2;function K(qe){var ft=k.gauge.axis.range[0],ht=k.gauge.axis.range[1],dt=(qe-ft)/(ht-ft)*Math.PI-G;return dt<-G?-G:dt>G?G:dt}function oe(qe){return y.svg.arc().innerRadius((j+H)/2-qe/2*(H-j)).outerRadius((j+H)/2+qe/2*(H-j)).startAngle(-G)}function $(qe){qe.attr("d",function(ft){return oe(ft.thickness).startAngle(K(ft.range[0])).endAngle(K(ft.range[1]))()})}var J,se,ie,ce;ue.enter().append("g").classed("angular",!0),ue.attr("transform",v(ne[0],ne[1])),q.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),q.selectAll("g.xangularaxistick,path,text").remove(),J=M(_,k.gauge.axis),J.type="linear",J.range=k.gauge.axis.range,J._id="xangularaxis",J.ticklabeloverflow="allow",J.setScale();var ye=function(qe){return(J.range[0]-qe.x)/(J.range[1]-J.range[0])*Math.PI+Math.PI},Se={},Te=u.makeLabelFns(J,0),ke=Te.labelStandoff;Se.xFn=function(qe){var ft=ye(qe);return Math.cos(ft)*ke},Se.yFn=function(qe){var ft=ye(qe),ht=Math.sin(ft)>0?.2:1;return-Math.sin(ft)*(ke+qe.fontSize*ht)+Math.abs(Math.cos(ft))*(qe.fontSize*r)},Se.anchorFn=function(qe){var ft=ye(qe),ht=Math.cos(ft);return Math.abs(ht)<.1?"middle":ht>0?"start":"end"},Se.heightFn=function(qe,ft,ht){var dt=ye(qe);return-.5*(1+Math.sin(dt))*ht};var we=function(qe){return v(ne[0]+H*Math.cos(qe),ne[1]-H*Math.sin(qe))};ie=function(qe){return we(ye(qe))};var Ee=function(qe){var ft=ye(qe);return we(ft)+"rotate("+-p(ft)+")"};if(se=u.calcTicks(J),ce=u.getTickSigns(J)[2],J.visible){ce=J.ticks==="inside"?-1:1;var xe=(J.linewidth||1)/2;u.drawTicks(_,J,{vals:se,layer:q,path:"M"+ce*xe+",0h"+ce*J.ticklen,transFn:Ee}),u.drawLabels(_,J,{vals:se,layer:q,transFn:ie,labelFns:Se})}var De=[ee].concat(k.gauge.steps),Ve=ue.selectAll("g.bg-arc").data(De);Ve.enter().append("g").classed("bg-arc",!0).append("path"),Ve.select("path").call($).call(x),Ve.exit().remove();var Ue=oe(k.gauge.bar.thickness),Be=ue.selectAll("g.value-arc").data([k.gauge.bar]);Be.enter().append("g").classed("value-arc",!0).append("path");var Xe=Be.select("path");d(Y)?(Xe.transition().duration(Y.duration).ease(Y.easing).each("end",function(){Z&&Z()}).each("interrupt",function(){Z&&Z()}).attrTween("d",E(Ue,K(F[0].lastY),K(F[0].y))),k._lastValue=F[0].y):Xe.attr("d",typeof F[0].y=="number"?Ue.endAngle(K(F[0].y)):"M0,0Z"),Xe.call(x),Be.exit().remove(),De=[];var ot=k.gauge.threshold.value;(ot||ot===0)&&De.push({range:[ot,ot],color:k.gauge.threshold.color,line:{color:k.gauge.threshold.line.color,width:k.gauge.threshold.line.width},thickness:k.gauge.threshold.thickness});var ut=ue.selectAll("g.threshold-arc").data(De);ut.enter().append("g").classed("threshold-arc",!0).append("path"),ut.select("path").call($).call(x),ut.exit().remove();var et=ue.selectAll("g.gauge-outline").data([te]);et.enter().append("g").classed("gauge-outline",!0).append("path"),et.select("path").call($).call(x),et.exit().remove()}function C(_,V,F,N){var k=F[0].trace,I=N.numbersX,H=N.numbersY,j=k.align||"center",ee=g[j],te=N.transitionOpts,ne=N.onComplete,ue=S.ensureSingle(V,"g","numbers"),q,Y,Z,G=[];k._hasNumber&&G.push("number"),k._hasDelta&&(G.push("delta"),k.delta.position==="left"&&G.reverse());var K=ue.selectAll("text").data(G);K.enter().append("text"),K.attr("text-anchor",function(){return ee}).attr("class",function(we){return we}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),K.exit().remove();function oe(we,Ee,xe,De){if(we.match("s")&&xe>=0!=De>=0&&!Ee(xe).slice(-1).match(o)&&!Ee(De).slice(-1).match(o)){var Ve=we.slice().replace("s","f").replace(/\d+/,function(Be){return parseInt(Be)-1}),Ue=M(_,{tickformat:Ve});return function(Be){return Math.abs(Be)<1?u.tickText(Ue,Be).text:Ee(Be)}}else return Ee}function $(){var we=M(_,{tickformat:k.number.valueformat},k._range);we.setScale(),u.prepTicks(we);var Ee=function(Be){return u.tickText(we,Be).text},xe=k.number.suffix,De=k.number.prefix,Ve=ue.select("text.number");function Ue(){var Be=typeof F[0].y=="number"?De+Ee(F[0].y)+xe:"-";Ve.text(Be).call(t.font,k.number.font).call(n.convertToTspans,_)}return d(te)?Ve.transition().duration(te.duration).ease(te.easing).each("end",function(){Ue(),ne&&ne()}).each("interrupt",function(){Ue(),ne&&ne()}).attrTween("text",function(){var Be=y.select(this),Xe=i(F[0].lastY,F[0].y);k._lastValue=F[0].y;var ot=oe(k.number.valueformat,Ee,F[0].lastY,F[0].y);return function(ut){Be.text(De+ot(Xe(ut))+xe)}}):Ue(),q=T(De+Ee(F[0].y)+xe,k.number.font,ee,_),Ve}function J(){var we=M(_,{tickformat:k.delta.valueformat},k._range);we.setScale(),u.prepTicks(we);var Ee=function(ut){return u.tickText(we,ut).text},xe=k.delta.suffix,De=k.delta.prefix,Ve=function(ut){var et=k.delta.relative?ut.relativeDelta:ut.delta;return et},Ue=function(ut,et){return ut===0||typeof ut!="number"||isNaN(ut)?"-":(ut>0?k.delta.increasing.symbol:k.delta.decreasing.symbol)+De+et(ut)+xe},Be=function(ut){return ut.delta>=0?k.delta.increasing.color:k.delta.decreasing.color};k._deltaLastValue===void 0&&(k._deltaLastValue=Ve(F[0]));var Xe=ue.select("text.delta");Xe.call(t.font,k.delta.font).call(h.fill,Be({delta:k._deltaLastValue}));function ot(){Xe.text(Ue(Ve(F[0]),Ee)).call(h.fill,Be(F[0])).call(n.convertToTspans,_)}return d(te)?Xe.transition().duration(te.duration).ease(te.easing).tween("text",function(){var ut=y.select(this),et=Ve(F[0]),qe=k._deltaLastValue,ft=oe(k.delta.valueformat,Ee,qe,et),ht=i(qe,et);return k._deltaLastValue=et,function(dt){ut.text(Ue(ht(dt),ft)),ut.call(h.fill,Be({delta:ht(dt)}))}}).each("end",function(){ot(),ne&&ne()}).each("interrupt",function(){ot(),ne&&ne()}):ot(),Y=T(Ue(Ve(F[0]),Ee),k.delta.font,ee,_),Xe}var se=k.mode+k.align,ie;if(k._hasDelta&&(ie=J(),se+=k.delta.position+k.delta.font.size+k.delta.font.family+k.delta.valueformat,se+=k.delta.increasing.symbol+k.delta.decreasing.symbol,Z=Y),k._hasNumber&&($(),se+=k.number.font.size+k.number.font.family+k.number.valueformat+k.number.suffix+k.number.prefix,Z=q),k._hasDelta&&k._hasNumber){var ce=[(q.left+q.right)/2,(q.top+q.bottom)/2],ye=[(Y.left+Y.right)/2,(Y.top+Y.bottom)/2],Se,Te,ke=.75*k.delta.font.size;k.delta.position==="left"&&(Se=z(k,"deltaPos",0,-1*(q.width*c[k.align]+Y.width*(1-c[k.align])+ke),se,Math.min),Te=ce[1]-ye[1],Z={width:q.width+Y.width+ke,height:Math.max(q.height,Y.height),left:Y.left+Se,right:q.right,top:Math.min(q.top,Y.top+Te),bottom:Math.max(q.bottom,Y.bottom+Te)}),k.delta.position==="right"&&(Se=z(k,"deltaPos",0,q.width*(1-c[k.align])+Y.width*c[k.align]+ke,se,Math.max),Te=ce[1]-ye[1],Z={width:q.width+Y.width+ke,height:Math.max(q.height,Y.height),left:q.left,right:Y.right+Se,top:Math.min(q.top,Y.top+Te),bottom:Math.max(q.bottom,Y.bottom+Te)}),k.delta.position==="bottom"&&(Se=null,Te=Y.height,Z={width:Math.max(q.width,Y.width),height:q.height+Y.height,left:Math.min(q.left,Y.left),right:Math.max(q.right,Y.right),top:q.bottom-q.height,bottom:q.bottom+Y.height}),k.delta.position==="top"&&(Se=null,Te=q.top,Z={width:Math.max(q.width,Y.width),height:q.height+Y.height,left:Math.min(q.left,Y.left),right:Math.max(q.right,Y.right),top:q.bottom-q.height-Y.height,bottom:q.bottom}),ie.attr({dx:Se,dy:Te})}(k._hasNumber||k._hasDelta)&&ue.attr("transform",function(){var we=N.numbersScaler(Z);se+=we[2];var Ee=z(k,"numbersScale",1,we[0],se,Math.min),xe;k._scaleNumbers||(Ee=1),k._isAngular?xe=H-Ee*Z.bottom:xe=H-Ee*(Z.top+Z.bottom)/2,k._numbersTop=Ee*Z.top+xe;var De=Z[j];j==="center"&&(De=(Z.left+Z.right)/2);var Ve=I-Ee*De;return Ve=z(k,"numbersTranslate",0,Ve,se,Math.max),v(Ve,xe)+b(Ee)})}function x(_){_.each(function(V){h.stroke(y.select(this),V.line.color)}).each(function(V){h.fill(y.select(this),V.color)}).style("stroke-width",function(V){return V.line.width})}function E(_,V,F){return function(){var N=L(V,F);return function(k){return _.endAngle(N(k))()}}}function M(_,V,F){var N=_._fullLayout,k=S.extendFlat({type:"linear",ticks:"outside",range:F,showline:!0},V),I={type:"linear",_id:"x"+V._id},H={letter:"x",font:N.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function j(ee,te){return S.coerce(k,I,m,ee,te)}return s(k,I,j,H,N),l(k,I,j,H),I}function f(_,V,F){var N=Math.min(V/_.width,F/_.height);return[N,_,V+"x"+F]}function P(_,V){var F=Math.sqrt(_.width/2*(_.width/2)+_.height*_.height),N=V/F;return[N,_,V]}function T(_,V,F,N){var k=document.createElementNS("http://www.w3.org/2000/svg","text"),I=y.select(k);return I.text(_).attr("x",0).attr("y",0).attr("text-anchor",F).attr("data-unformatted",_).call(n.convertToTspans,N).call(t.font,V),t.bBox(I.node())}function z(_,V,F,N,k,I){var H="_cache"+V;_[H]&&_[H].key===k||(_[H]={key:k,value:F});var j=S.aggNums(I,null,[_[H].value,N],2);return _[H].value=j,j}},50048:function(U,B,e){var y=e(49084),L=e(29736).axisHoverFormat,i=e(21776).Ks,S=e(52948),b=e(45464),v=e(92880).extendFlat,p=e(67824).overrideAll;function r(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function t(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var a=U.exports=p(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r(),y:r(),z:r()},caps:{x:t(),y:t(),z:t()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:i(),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),valuehoverformat:L("value",1),showlegend:v({},b.showlegend,{dflt:!1})},y("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:S.opacity,lightposition:S.lightposition,lighting:S.lighting,flatshading:S.flatshading,contour:S.contour,hoverinfo:v({},b.hoverinfo)}),"calc","nested");a.flatshading.dflt=!0,a.lighting.facenormalsepsilon.dflt=0,a.x.editType=a.y.editType=a.z.editType=a.value.editType="calc+clearAxisTypes",a.transforms=void 0},62624:function(U,B,e){var y=e(47128),L=e(3832).processGrid,i=e(3832).filter;U.exports=function(b,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=i(v.x,v._len),v._y=i(v.y,v._len),v._z=i(v.z,v._len),v._value=i(v.value,v._len);var p=L(v);v._gridFill=p.fill,v._Xs=p.Xs,v._Ys=p.Ys,v._Zs=p.Zs,v._len=p.len;for(var r=1/0,t=-1/0,a=0;a<v._len;a++){var n=v._value[a];r=Math.min(r,n),t=Math.max(t,n)}v._minValues=r,v._maxValues=t,v._vMin=v.isomin===void 0||v.isomin===null?r:v.isomin,v._vMax=v.isomax===void 0||v.isomin===null?t:v.isomax,y(b,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},31460:function(U,B,e){var y=e(67792).gl_mesh3d,L=e(33040).parseColorScale,i=e(3400).isArrayOrTypedArray,S=e(43080),b=e(8932).extractOpts,v=e(52094),p=function(s,l){for(var m=l.length-1;m>0;m--){var h=Math.min(l[m],l[m-1]),g=Math.max(l[m],l[m-1]);if(g>h&&h<s&&s<=g)return{id:m,distRatio:(g-s)/(g-h)}}return{id:0,distRatio:0}};function r(s,l,m){this.scene=s,this.uid=m,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var t=r.prototype;t.handlePick=function(s){if(s.object===this.mesh){var l=s.data.index,m=this.data._meshX[l],h=this.data._meshY[l],g=this.data._meshZ[l],c=this.data._Ys.length,o=this.data._Zs.length,d=p(m,this.data._Xs).id,w=p(h,this.data._Ys).id,A=p(g,this.data._Zs).id,C=s.index=A+o*w+o*c*d;s.traceCoordinate=[this.data._meshX[C],this.data._meshY[C],this.data._meshZ[C],this.data._value[C]];var x=this.data.hovertext||this.data.text;return i(x)&&x[C]!==void 0?s.textLabel=x[C]:x&&(s.textLabel=x),!0}},t.update=function(s){var l=this.scene,m=l.fullSceneLayout;this.data=n(s);function h(w,A,C,x){return A.map(function(E){return w.d2l(E,0,x)*C})}var g=v(h(m.xaxis,s._meshX,l.dataScale[0],s.xcalendar),h(m.yaxis,s._meshY,l.dataScale[1],s.ycalendar),h(m.zaxis,s._meshZ,l.dataScale[2],s.zcalendar)),c=v(s._meshI,s._meshJ,s._meshK),o={positions:g,cells:c,lightPosition:[s.lightposition.x,s.lightposition.y,s.lightposition.z],ambient:s.lighting.ambient,diffuse:s.lighting.diffuse,specular:s.lighting.specular,roughness:s.lighting.roughness,fresnel:s.lighting.fresnel,vertexNormalsEpsilon:s.lighting.vertexnormalsepsilon,faceNormalsEpsilon:s.lighting.facenormalsepsilon,opacity:s.opacity,contourEnable:s.contour.show,contourColor:S(s.contour.color).slice(0,3),contourWidth:s.contour.width,useFacetNormals:s.flatshading},d=b(s);o.vertexIntensity=s._meshIntensity,o.vertexIntensityBounds=[d.min,d.max],o.colormap=L(s),this.mesh.update(o)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var a=["xyz","xzy","yxz","yzx","zxy","zyx"];function n(s){s._meshI=[],s._meshJ=[],s._meshK=[];var l=s.surface.show,m=s.spaceframe.show,h=s.surface.fill,g=s.spaceframe.fill,c=!1,o=!1,d=0,w,A,C=s._Xs,x=s._Ys,E=s._Zs,M=C.length,f=x.length,P=E.length,T=a.indexOf(s._gridFill.replace(/-/g,"").replace(/\+/g,"")),z=function(Ze,Ge,_e){switch(T){case 5:return _e+P*Ge+P*f*Ze;case 4:return _e+P*Ze+P*M*Ge;case 3:return Ge+f*_e+f*P*Ze;case 2:return Ge+f*Ze+f*M*_e;case 1:return Ze+M*_e+M*P*Ge;default:return Ze+M*Ge+M*f*_e}},_=s._minValues,V=s._maxValues,F=s._vMin,N=s._vMax,k,I,H,j;function ee(Ze,Ge,_e){for(var be=j.length,me=A;me<be;me++)if(Ze===k[me]&&Ge===I[me]&&_e===H[me])return me;return-1}function te(){A=w}function ne(){k=[],I=[],H=[],j=[],w=0,te()}function ue(Ze,Ge,_e,be){return k.push(Ze),I.push(Ge),H.push(_e),j.push(be),w++,w-1}function q(Ze,Ge,_e){return s._meshI.push(Ze),s._meshJ.push(Ge),s._meshK.push(_e),d++,d-1}function Y(Ze,Ge,_e){for(var be=[],me=0;me<Ze.length;me++)be[me]=(Ze[me]+Ge[me]+_e[me])/3;return be}function Z(Ze,Ge,_e){for(var be=[],me=0;me<Ze.length;me++)be[me]=Ze[me]*(1-_e)+_e*Ge[me];return be}var G;function K(Ze){G=Ze}function oe(Ze,Ge){var _e=Ze[0],be=Ze[1],me=Ze[2],Ce=Y(_e,be,me),Me=Math.sqrt(1-G),Ne=Z(Ce,_e,Me),je=Z(Ce,be,Me),tt=Z(Ce,me,Me),ct=Ge[0],pt=Ge[1],Xt=Ge[2];return{xyzv:[[_e,be,je],[je,Ne,_e],[be,me,tt],[tt,je,be],[me,_e,Ne],[Ne,tt,me]],abc:[[ct,pt,-1],[-1,-1,ct],[pt,Xt,-1],[-1,-1,pt],[Xt,ct,-1],[-1,-1,Xt]]}}function $(Ze,Ge){return Ze==="all"||Ze===null?!0:Ze.indexOf(Ge)>-1}function J(Ze,Ge){return Ze===null?Ge:Ze}function se(Ze,Ge,_e){te();var be=[Ge],me=[_e];if(G>=1)be=[Ge],me=[_e];else if(G>0){var Ce=oe(Ge,_e);be=Ce.xyzv,me=Ce.abc}for(var Me=0;Me<be.length;Me++){Ge=be[Me],_e=me[Me];for(var Ne=[],je=0;je<3;je++){var tt=Ge[je][0],ct=Ge[je][1],pt=Ge[je][2],Xt=Ge[je][3],Yt=_e[je]>-1?_e[je]:ee(tt,ct,pt);Yt>-1?Ne[je]=Yt:Ne[je]=ue(tt,ct,pt,J(Ze,Xt))}q(Ne[0],Ne[1],Ne[2])}}function ie(Ze,Ge,_e){var be=function(me,Ce,Me){se(Ze,[Ge[me],Ge[Ce],Ge[Me]],[_e[me],_e[Ce],_e[Me]])};be(0,1,2),be(2,3,0)}function ce(Ze,Ge,_e){var be=function(me,Ce,Me){se(Ze,[Ge[me],Ge[Ce],Ge[Me]],[_e[me],_e[Ce],_e[Me]])};be(0,1,2),be(3,0,1),be(2,3,0),be(1,2,3)}function ye(Ze,Ge,_e,be){var me=Ze[3];me<_e&&(me=_e),me>be&&(me=be);for(var Ce=(Ze[3]-me)/(Ze[3]-Ge[3]+1e-9),Me=[],Ne=0;Ne<4;Ne++)Me[Ne]=(1-Ce)*Ze[Ne]+Ce*Ge[Ne];return Me}function Se(Ze,Ge,_e){return Ze>=Ge&&Ze<=_e}function Te(Ze){var Ge=.001*(N-F);return Ze>=F-Ge&&Ze<=N+Ge}function ke(Ze){for(var Ge=[],_e=0;_e<4;_e++){var be=Ze[_e];Ge.push([s._x[be],s._y[be],s._z[be],s._value[be]])}return Ge}var we=3;function Ee(Ze,Ge,_e,be,me,Ce){Ce||(Ce=1),_e=[-1,-1,-1];var Me=!1,Ne=[Se(Ge[0][3],be,me),Se(Ge[1][3],be,me),Se(Ge[2][3],be,me)];if(!Ne[0]&&!Ne[1]&&!Ne[2])return!1;var je=function(ct,pt,Xt){return Te(pt[0][3])&&Te(pt[1][3])&&Te(pt[2][3])?(se(ct,pt,Xt),!0):Ce<we?Ee(ct,pt,Xt,F,N,++Ce):!1};if(Ne[0]&&Ne[1]&&Ne[2])return je(Ze,Ge,_e)||Me;var tt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(ct){if(Ne[ct[0]]&&Ne[ct[1]]&&!Ne[ct[2]]){var pt=Ge[ct[0]],Xt=Ge[ct[1]],Yt=Ge[ct[2]],Tt=ye(Yt,pt,be,me),_t=ye(Yt,Xt,be,me);Me=je(Ze,[_t,Tt,pt],[-1,-1,_e[ct[0]]])||Me,Me=je(Ze,[pt,Xt,_t],[_e[ct[0]],_e[ct[1]],-1])||Me,tt=!0}}),tt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(ct){if(Ne[ct[0]]&&!Ne[ct[1]]&&!Ne[ct[2]]){var pt=Ge[ct[0]],Xt=Ge[ct[1]],Yt=Ge[ct[2]],Tt=ye(Xt,pt,be,me),_t=ye(Yt,pt,be,me);Me=je(Ze,[_t,Tt,pt],[-1,-1,_e[ct[0]]])||Me,tt=!0}}),Me}function xe(Ze,Ge,_e,be){var me=!1,Ce=ke(Ge),Me=[Se(Ce[0][3],_e,be),Se(Ce[1][3],_e,be),Se(Ce[2][3],_e,be),Se(Ce[3][3],_e,be)];if(!Me[0]&&!Me[1]&&!Me[2]&&!Me[3])return me;if(Me[0]&&Me[1]&&Me[2]&&Me[3])return o&&(me=ce(Ze,Ce,Ge)||me),me;var Ne=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(je){if(Me[je[0]]&&Me[je[1]]&&Me[je[2]]&&!Me[je[3]]){var tt=Ce[je[0]],ct=Ce[je[1]],pt=Ce[je[2]],Xt=Ce[je[3]];if(o)me=se(Ze,[tt,ct,pt],[Ge[je[0]],Ge[je[1]],Ge[je[2]]])||me;else{var Yt=ye(Xt,tt,_e,be),Tt=ye(Xt,ct,_e,be),_t=ye(Xt,pt,_e,be);me=se(null,[Yt,Tt,_t],[-1,-1,-1])||me}Ne=!0}}),Ne||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(je){if(Me[je[0]]&&Me[je[1]]&&!Me[je[2]]&&!Me[je[3]]){var tt=Ce[je[0]],ct=Ce[je[1]],pt=Ce[je[2]],Xt=Ce[je[3]],Yt=ye(pt,tt,_e,be),Tt=ye(pt,ct,_e,be),_t=ye(Xt,ct,_e,be),Qt=ye(Xt,tt,_e,be);o?(me=se(Ze,[tt,Qt,Yt],[Ge[je[0]],-1,-1])||me,me=se(Ze,[ct,Tt,_t],[Ge[je[1]],-1,-1])||me):me=ie(null,[Yt,Tt,_t,Qt],[-1,-1,-1,-1])||me,Ne=!0}}),Ne)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(je){if(Me[je[0]]&&!Me[je[1]]&&!Me[je[2]]&&!Me[je[3]]){var tt=Ce[je[0]],ct=Ce[je[1]],pt=Ce[je[2]],Xt=Ce[je[3]],Yt=ye(ct,tt,_e,be),Tt=ye(pt,tt,_e,be),_t=ye(Xt,tt,_e,be);o?(me=se(Ze,[tt,Yt,Tt],[Ge[je[0]],-1,-1])||me,me=se(Ze,[tt,Tt,_t],[Ge[je[0]],-1,-1])||me,me=se(Ze,[tt,_t,Yt],[Ge[je[0]],-1,-1])||me):me=se(null,[Yt,Tt,_t],[-1,-1,-1])||me,Ne=!0}}),me}function De(Ze,Ge,_e,be,me,Ce,Me,Ne,je,tt,ct){var pt=!1;return c&&($(Ze,"A")&&(pt=xe(null,[Ge,_e,be,Ce],tt,ct)||pt),$(Ze,"B")&&(pt=xe(null,[_e,be,me,je],tt,ct)||pt),$(Ze,"C")&&(pt=xe(null,[_e,Ce,Me,je],tt,ct)||pt),$(Ze,"D")&&(pt=xe(null,[be,Ce,Ne,je],tt,ct)||pt),$(Ze,"E")&&(pt=xe(null,[_e,be,Ce,je],tt,ct)||pt)),o&&(pt=xe(Ze,[_e,be,Ce,je],tt,ct)||pt),pt}function Ve(Ze,Ge,_e,be,me,Ce,Me,Ne){return[Ne[0]===!0?!0:Ee(Ze,ke([Ge,_e,be]),[Ge,_e,be],Ce,Me),Ne[1]===!0?!0:Ee(Ze,ke([be,me,Ge]),[be,me,Ge],Ce,Me)]}function Ue(Ze,Ge,_e,be,me,Ce,Me,Ne,je){return Ne?Ve(Ze,Ge,_e,me,be,Ce,Me,je):Ve(Ze,_e,me,be,Ge,Ce,Me,je)}function Be(Ze,Ge,_e,be,me,Ce,Me){var Ne=!1,je,tt,ct,pt,Xt=function(){Ne=Ee(Ze,[je,tt,ct],[-1,-1,-1],me,Ce)||Ne,Ne=Ee(Ze,[ct,pt,je],[-1,-1,-1],me,Ce)||Ne},Yt=Me[0],Tt=Me[1],_t=Me[2];return Yt&&(je=Z(ke([z(Ge,_e-0,be-0)])[0],ke([z(Ge-1,_e-0,be-0)])[0],Yt),tt=Z(ke([z(Ge,_e-0,be-1)])[0],ke([z(Ge-1,_e-0,be-1)])[0],Yt),ct=Z(ke([z(Ge,_e-1,be-1)])[0],ke([z(Ge-1,_e-1,be-1)])[0],Yt),pt=Z(ke([z(Ge,_e-1,be-0)])[0],ke([z(Ge-1,_e-1,be-0)])[0],Yt),Xt()),Tt&&(je=Z(ke([z(Ge-0,_e,be-0)])[0],ke([z(Ge-0,_e-1,be-0)])[0],Tt),tt=Z(ke([z(Ge-0,_e,be-1)])[0],ke([z(Ge-0,_e-1,be-1)])[0],Tt),ct=Z(ke([z(Ge-1,_e,be-1)])[0],ke([z(Ge-1,_e-1,be-1)])[0],Tt),pt=Z(ke([z(Ge-1,_e,be-0)])[0],ke([z(Ge-1,_e-1,be-0)])[0],Tt),Xt()),_t&&(je=Z(ke([z(Ge-0,_e-0,be)])[0],ke([z(Ge-0,_e-0,be-1)])[0],_t),tt=Z(ke([z(Ge-0,_e-1,be)])[0],ke([z(Ge-0,_e-1,be-1)])[0],_t),ct=Z(ke([z(Ge-1,_e-1,be)])[0],ke([z(Ge-1,_e-1,be-1)])[0],_t),pt=Z(ke([z(Ge-1,_e-0,be)])[0],ke([z(Ge-1,_e-0,be-1)])[0],_t),Xt()),Ne}function Xe(Ze,Ge,_e,be,me,Ce,Me,Ne,je,tt,ct,pt){var Xt=Ze;return pt?(c&&Ze==="even"&&(Xt=null),De(Xt,Ge,_e,be,me,Ce,Me,Ne,je,tt,ct)):(c&&Ze==="odd"&&(Xt=null),De(Xt,je,Ne,Me,Ce,me,be,_e,Ge,tt,ct))}function ot(Ze,Ge,_e,be,me){for(var Ce=[],Me=0,Ne=0;Ne<Ge.length;Ne++)for(var je=Ge[Ne],tt=1;tt<P;tt++)for(var ct=1;ct<f;ct++)Ce.push(Ue(Ze,z(je,ct-1,tt-1),z(je,ct-1,tt),z(je,ct,tt-1),z(je,ct,tt),_e,be,(je+ct+tt)%2,me&&me[Me]?me[Me]:[])),Me++;return Ce}function ut(Ze,Ge,_e,be,me){for(var Ce=[],Me=0,Ne=0;Ne<Ge.length;Ne++)for(var je=Ge[Ne],tt=1;tt<M;tt++)for(var ct=1;ct<P;ct++)Ce.push(Ue(Ze,z(tt-1,je,ct-1),z(tt,je,ct-1),z(tt-1,je,ct),z(tt,je,ct),_e,be,(tt+je+ct)%2,me&&me[Me]?me[Me]:[])),Me++;return Ce}function et(Ze,Ge,_e,be,me){for(var Ce=[],Me=0,Ne=0;Ne<Ge.length;Ne++)for(var je=Ge[Ne],tt=1;tt<f;tt++)for(var ct=1;ct<M;ct++)Ce.push(Ue(Ze,z(ct-1,tt-1,je),z(ct-1,tt,je),z(ct,tt-1,je),z(ct,tt,je),_e,be,(ct+tt+je)%2,me&&me[Me]?me[Me]:[])),Me++;return Ce}function qe(Ze,Ge,_e){for(var be=1;be<P;be++)for(var me=1;me<f;me++)for(var Ce=1;Ce<M;Ce++)Xe(Ze,z(Ce-1,me-1,be-1),z(Ce-1,me-1,be),z(Ce-1,me,be-1),z(Ce-1,me,be),z(Ce,me-1,be-1),z(Ce,me-1,be),z(Ce,me,be-1),z(Ce,me,be),Ge,_e,(Ce+me+be)%2)}function ft(Ze,Ge,_e){o=!0,qe(Ze,Ge,_e),o=!1}function ht(Ze,Ge,_e){c=!0,qe(Ze,Ge,_e),c=!1}function dt(Ze,Ge,_e,be,me,Ce){for(var Me=[],Ne=0,je=0;je<Ge.length;je++)for(var tt=Ge[je],ct=1;ct<P;ct++)for(var pt=1;pt<f;pt++)Me.push(Be(Ze,tt,pt,ct,_e,be,me[je],Ce&&Ce[Ne]?Ce[Ne]:[])),Ne++;return Me}function mt(Ze,Ge,_e,be,me,Ce){for(var Me=[],Ne=0,je=0;je<Ge.length;je++)for(var tt=Ge[je],ct=1;ct<M;ct++)for(var pt=1;pt<P;pt++)Me.push(Be(Ze,ct,tt,pt,_e,be,me[je],Ce&&Ce[Ne]?Ce[Ne]:[])),Ne++;return Me}function St(Ze,Ge,_e,be,me,Ce){for(var Me=[],Ne=0,je=0;je<Ge.length;je++)for(var tt=Ge[je],ct=1;ct<f;ct++)for(var pt=1;pt<M;pt++)Me.push(Be(Ze,pt,ct,tt,_e,be,me[je],Ce&&Ce[Ne]?Ce[Ne]:[])),Ne++;return Me}function rt(Ze,Ge){for(var _e=[],be=Ze;be<Ge;be++)_e.push(be);return _e}function Oe(){for(var Ze=0;Ze<M;Ze++)for(var Ge=0;Ge<f;Ge++)for(var _e=0;_e<P;_e++){var be=z(Ze,Ge,_e);ue(s._x[be],s._y[be],s._z[be],s._value[be])}}function Ye(){ne(),Oe();var Ze=null;if(m&&g&&(K(g),ft(Ze,F,N)),l&&h){K(h);for(var Ge=s.surface.pattern,_e=s.surface.count,be=0;be<_e;be++){var me=_e===1?.5:be/(_e-1),Ce=(1-me)*F+me*N,Me=Math.abs(Ce-_),Ne=Math.abs(Ce-V),je=Me>Ne?[_,Ce]:[Ce,V];ht(Ge,je[0],je[1])}}var tt=[[Math.min(F,V),Math.max(F,V)],[Math.min(_,N),Math.max(_,N)]];["x","y","z"].forEach(function(ct){for(var pt=[],Xt=0;Xt<tt.length;Xt++){var Yt=0,Tt=tt[Xt][0],_t=tt[Xt][1],Qt=s.slices[ct];if(Qt.show&&Qt.fill){K(Qt.fill);var wr=[],xt=[],jt=[];if(Qt.locations.length)for(var Jt=0;Jt<Qt.locations.length;Jt++){var gr=p(Qt.locations[Jt],ct==="x"?C:ct==="y"?x:E);gr.distRatio===0?wr.push(gr.id):gr.id>0&&(xt.push(gr.id),ct==="x"?jt.push([gr.distRatio,0,0]):ct==="y"?jt.push([0,gr.distRatio,0]):jt.push([0,0,gr.distRatio]))}else ct==="x"?wr=rt(1,M-1):ct==="y"?wr=rt(1,f-1):wr=rt(1,P-1);xt.length>0&&(ct==="x"?pt[Yt]=dt(Ze,xt,Tt,_t,jt,pt[Yt]):ct==="y"?pt[Yt]=mt(Ze,xt,Tt,_t,jt,pt[Yt]):pt[Yt]=St(Ze,xt,Tt,_t,jt,pt[Yt]),Yt++),wr.length>0&&(ct==="x"?pt[Yt]=ot(Ze,wr,Tt,_t,pt[Yt]):ct==="y"?pt[Yt]=ut(Ze,wr,Tt,_t,pt[Yt]):pt[Yt]=et(Ze,wr,Tt,_t,pt[Yt]),Yt++)}var or=s.caps[ct];or.show&&or.fill&&(K(or.fill),ct==="x"?pt[Yt]=ot(Ze,[0,M-1],Tt,_t,pt[Yt]):ct==="y"?pt[Yt]=ut(Ze,[0,f-1],Tt,_t,pt[Yt]):pt[Yt]=et(Ze,[0,P-1],Tt,_t,pt[Yt]),Yt++)}}),d===0&&ne(),s._meshX=k,s._meshY=I,s._meshZ=H,s._meshIntensity=j,s._Xs=C,s._Ys=x,s._Zs=E}return Ye(),s}function u(s,l){var m=s.glplot.gl,h=y({gl:m}),g=new r(s,h,l.uid);return h._trace=g,g.update(l),s.glplot.add(h),g}U.exports={findNearestOnAxis:p,generateIsoMeshes:n,createIsosurfaceTrace:u}},70548:function(U,B,e){var y=e(3400),L=e(24040),i=e(50048),S=e(27260);function b(p,r,t,a){function n(u,s){return y.coerce(p,r,i,u,s)}v(p,r,t,a,n)}function v(p,r,t,a,n){var u=n("isomin"),s=n("isomax");s!=null&&u!==void 0&&u!==null&&u>s&&(r.isomin=null,r.isomax=null);var l=n("x"),m=n("y"),h=n("z"),g=n("value");if(!l||!l.length||!m||!m.length||!h||!h.length||!g||!g.length){r.visible=!1;return}var c=L.getComponentMethod("calendars","handleTraceDefaults");c(p,r,["x","y","z"],a),n("valuehoverformat"),["x","y","z"].forEach(function(A){n(A+"hoverformat");var C="caps."+A,x=n(C+".show");x&&n(C+".fill");var E="slices."+A,M=n(E+".show");M&&(n(E+".fill"),n(E+".locations"))});var o=n("spaceframe.show");o&&n("spaceframe.fill");var d=n("surface.show");d&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var w=n("contour.show");w&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(A){n(A)}),S(p,r,a,n,{prefix:"",cLetter:"c"}),r._length=null}U.exports={supplyDefaults:b,supplyIsoDefaults:v}},6296:function(U,B,e){U.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(U,B,e){var y=e(49084),L=e(29736).axisHoverFormat,i=e(21776).Ks,S=e(16716),b=e(45464),v=e(92880).extendFlat;U.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"}),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},y("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:S.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},S.contours.x.show,{}),color:S.contours.x.color,width:S.contours.x.width,editType:"calc"},lightposition:{x:v({},S.lightposition.x,{dflt:1e5}),y:v({},S.lightposition.y,{dflt:1e5}),z:v({},S.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},S.lighting),hoverinfo:v({},b.hoverinfo,{editType:"calc"}),showlegend:v({},b.showlegend,{dflt:!1})})},1876:function(U,B,e){var y=e(47128);U.exports=function(i,S){S.intensity&&y(i,S,{vals:S.intensity,containerStr:"",cLetter:"c"})}},576:function(U,B,e){var y=e(67792).gl_mesh3d,L=e(67792).delaunay_triangulate,i=e(67792).alpha_shape,S=e(67792).convex_hull,b=e(33040).parseColorScale,v=e(3400).isArrayOrTypedArray,p=e(43080),r=e(8932).extractOpts,t=e(52094);function a(c,o,d){this.scene=c,this.uid=d,this.mesh=o,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var n=a.prototype;n.handlePick=function(c){if(c.object===this.mesh){var o=c.index=c.data.index;c.data._cellCenter?c.traceCoordinate=c.data.dataCoordinate:c.traceCoordinate=[this.data.x[o],this.data.y[o],this.data.z[o]];var d=this.data.hovertext||this.data.text;return v(d)&&d[o]!==void 0?c.textLabel=d[o]:d&&(c.textLabel=d),!0}};function u(c){for(var o=[],d=c.length,w=0;w<d;w++)o[w]=p(c[w]);return o}function s(c,o,d,w){for(var A=[],C=o.length,x=0;x<C;x++)A[x]=c.d2l(o[x],0,w)*d;return A}function l(c){for(var o=[],d=c.length,w=0;w<d;w++)o[w]=Math.round(c[w]);return o}function m(c,o){for(var d=["x","y","z"].indexOf(c),w=[],A=o.length,C=0;C<A;C++)w[C]=[o[C][(d+1)%3],o[C][(d+2)%3]];return L(w)}function h(c,o){for(var d=c.length,w=0;w<d;w++)if(c[w]<=-.5||c[w]>=o-.5)return!1;return!0}n.update=function(c){var o=this.scene,d=o.fullSceneLayout;this.data=c;var w=c.x.length,A=t(s(d.xaxis,c.x,o.dataScale[0],c.xcalendar),s(d.yaxis,c.y,o.dataScale[1],c.ycalendar),s(d.zaxis,c.z,o.dataScale[2],c.zcalendar)),C;if(c.i&&c.j&&c.k){if(c.i.length!==c.j.length||c.j.length!==c.k.length||!h(c.i,w)||!h(c.j,w)||!h(c.k,w))return;C=t(l(c.i),l(c.j),l(c.k))}else c.alphahull===0?C=S(A):c.alphahull>0?C=i(c.alphahull,A):C=m(c.delaunayaxis,A);var x={positions:A,cells:C,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,contourEnable:c.contour.show,contourColor:p(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading};if(c.intensity){var E=r(c);this.color="#fff";var M=c.intensitymode;x[M+"Intensity"]=c.intensity,x[M+"IntensityBounds"]=[E.min,E.max],x.colormap=b(c)}else c.vertexcolor?(this.color=c.vertexcolor[0],x.vertexColors=u(c.vertexcolor)):c.facecolor?(this.color=c.facecolor[0],x.cellColors=u(c.facecolor)):(this.color=c.color,x.meshColor=p(c.color));this.mesh.update(x)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function g(c,o){var d=c.glplot.gl,w=y({gl:d}),A=new a(c,w,o.uid);return w._trace=A,A.update(o),c.glplot.add(w),A}U.exports=g},74212:function(U,B,e){var y=e(24040),L=e(3400),i=e(27260),S=e(52948);U.exports=function(v,p,r,t){function a(m,h){return L.coerce(v,p,S,m,h)}function n(m){var h=m.map(function(g){var c=a(g);return c&&L.isArrayOrTypedArray(c)?c:null});return h.every(function(g){return g&&g.length===h[0].length})&&h}var u=n(["x","y","z"]);if(!u){p.visible=!1;return}if(n(["i","j","k"]),p.i&&(!p.j||!p.k)||p.j&&(!p.k||!p.i)||p.k&&(!p.i||!p.j)){p.visible=!1;return}var s=y.getComponentMethod("calendars","handleTraceDefaults");s(v,p,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(m){a(m)});var l=a("contour.show");l&&(a("contour.color"),a("contour.width")),"intensity"in v?(a("intensity"),a("intensitymode"),i(v,p,t,a,{prefix:"",cLetter:"c"})):(p.showscale=!1,"facecolor"in v?a("facecolor"):"vertexcolor"in v?a("vertexcolor"):a("color",r)),a("text"),a("hovertext"),a("hovertemplate"),a("xhoverformat"),a("yhoverformat"),a("zhoverformat"),p._length=null}},7404:function(U,B,e){U.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(U,B,e){var y=e(3400).extendFlat,L=e(52904),i=e(29736).axisHoverFormat,S=e(98192).u,b=e(55756),v=e(48164),p=v.INCREASING.COLOR,r=v.DECREASING.COLOR,t=L.line;function a(n){return{line:{color:y({},t.color,{dflt:n}),width:t.width,dash:S,editType:"style"},editType:"style"}}U.exports={xperiod:L.xperiod,xperiod0:L.xperiod0,xperiodalignment:L.xperiodalignment,xhoverformat:i("x"),yhoverformat:i("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:y({},t.width,{}),dash:y({},S,{}),editType:"style"},increasing:a(p),decreasing:a(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:y({},b.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},42812:function(U,B,e){var y=e(3400),L=y._,i=e(54460),S=e(1220),b=e(39032).BADNUM;function v(a,n){var u=i.getFromId(a,n.xaxis),s=i.getFromId(a,n.yaxis),l=t(a,u,n),m=n._minDiff;n._minDiff=null;var h=n._origX;n._origX=null;var g=n._xcalc;n._xcalc=null;var c=r(a,n,h,g,s,p);return n._extremes[u._id]=i.findExtremes(u,g,{vpad:m/2}),c.length?(y.extendFlat(c[0].t,{wHover:m/2,tickLen:l}),c):[{t:{empty:!0}}]}function p(a,n,u,s){return{o:a,h:n,l:u,c:s}}function r(a,n,u,s,l,m){for(var h=l.makeCalcdata(n,"open"),g=l.makeCalcdata(n,"high"),c=l.makeCalcdata(n,"low"),o=l.makeCalcdata(n,"close"),d=y.isArrayOrTypedArray(n.text),w=y.isArrayOrTypedArray(n.hovertext),A=!0,C=null,x=!!n.xperiodalignment,E=[],M=0;M<s.length;M++){var f=s[M],P=h[M],T=g[M],z=c[M],_=o[M];if(f!==b&&P!==b&&T!==b&&z!==b&&_!==b){_===P?C!==null&&_!==C&&(A=_>C):A=_>P,C=_;var V=m(P,T,z,_);V.pos=f,V.yc=(P+_)/2,V.i=M,V.dir=A?"increasing":"decreasing",V.x=V.pos,V.y=[z,T],x&&(V.orig_p=u[M]),d&&(V.tx=n.text[M]),w&&(V.htx=n.hovertext[M]),E.push(V)}else E.push({pos:f,empty:!0})}return n._extremes[l._id]=i.findExtremes(l,y.concat(c,g),{padded:!0}),E.length&&(E[0].t={labels:{open:L(a,"open:")+" ",high:L(a,"high:")+" ",low:L(a,"low:")+" ",close:L(a,"close:")+" "}}),E}function t(a,n,u){var s=u._minDiff;if(!s){var l=a._fullData,m=[];s=1/0;var h;for(h=0;h<l.length;h++){var g=l[h];if(g.type==="ohlc"&&g.visible===!0&&g.xaxis===n._id){m.push(g);var c=n.makeCalcdata(g,"x");g._origX=c;var o=S(u,n,"x",c).vals;g._xcalc=o;var d=y.distinctVals(o).minDiff;d&&isFinite(d)&&(s=Math.min(s,d))}}for(s===1/0&&(s=1),h=0;h<m.length;h++)m[h]._minDiff=s}return s*u.tickwidth}U.exports={calc:v,calcCommon:r}},23860:function(U,B,e){var y=e(3400),L=e(52744),i=e(31147),S=e(20279);U.exports=function(p,r,t,a){function n(s,l){return y.coerce(p,r,S,s,l)}var u=L(p,r,n,a);if(!u){r.visible=!1;return}i(p,r,a,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),b(p,r,n,"increasing"),b(p,r,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),a._requestRangeslider[r.xaxis]=!0};function b(v,p,r,t){r(t+".line.color"),r(t+".line.width",p.line.width),r(t+".line.dash",p.line.dash)}},18720:function(U,B,e){var y=e(54460),L=e(3400),i=e(93024),S=e(76308),b=e(3400).fillText,v=e(48164),p={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function r(u,s,l,m){var h=u.cd,g=h[0].trace;return g.hoverlabel.split?a(u,s,l,m):n(u,s,l,m)}function t(u,s,l,m){var h=u.cd,g=u.xa,c=h[0].trace,o=h[0].t,d=c.type,w=d==="ohlc"?"l":"min",A=d==="ohlc"?"h":"max",C,x,E=o.bPos||0,M=function(j){return j.pos+E-s},f=o.bdPos||o.tickLen,P=o.wHover,T=Math.min(1,f/Math.abs(g.r2c(g.range[1])-g.r2c(g.range[0])));C=u.maxHoverDistance-T,x=u.maxSpikeDistance-T;function z(j){var ee=M(j);return i.inbox(ee-P,ee+P,C)}function _(j){var ee=j[w],te=j[A];return ee===te||i.inbox(ee-l,te-l,C)}function V(j){return(z(j)+_(j))/2}var F=i.getDistanceFunction(m,z,_,V);if(i.getClosest(h,F,u),u.index===!1)return null;var N=h[u.index];if(N.empty)return null;var k=N.dir,I=c[k],H=I.line.color;return S.opacity(H)&&I.line.width?u.color=H:u.color=I.fillcolor,u.x0=g.c2p(N.pos+E-f,!0),u.x1=g.c2p(N.pos+E+f,!0),u.xLabelVal=N.orig_p!==void 0?N.orig_p:N.pos,u.spikeDistance=V(N)*x/C,u.xSpike=g.c2p(N.pos,!0),u}function a(u,s,l,m){var h=u.cd,g=u.ya,c=h[0].trace,o=h[0].t,d=[],w=t(u,s,l,m);if(!w)return[];var A=w.index,C=h[A],x=C.hi||c.hoverinfo,E=x.split("+"),M=x==="all",f=M||E.indexOf("y")!==-1;if(!f)return[];for(var P=["high","open","close","low"],T={},z=0;z<P.length;z++){var _=P[z],V=c[_][w.index],F=g.c2p(V,!0),N;V in T?(N=T[V],N.yLabel+="<br>"+o.labels[_]+y.hoverLabelText(g,V,c.yhoverformat)):(N=L.extendFlat({},w),N.y0=N.y1=F,N.yLabelVal=V,N.yLabel=o.labels[_]+y.hoverLabelText(g,V,c.yhoverformat),N.name="",d.push(N),T[V]=N)}return d}function n(u,s,l,m){var h=u.cd,g=u.ya,c=h[0].trace,o=h[0].t,d=t(u,s,l,m);if(!d)return[];var w=d.index,A=h[w],C=d.index=A.i,x=A.dir;function E(V){return o.labels[V]+y.hoverLabelText(g,c[V][C],c.yhoverformat)}var M=A.hi||c.hoverinfo,f=M.split("+"),P=M==="all",T=P||f.indexOf("y")!==-1,z=P||f.indexOf("text")!==-1,_=T?[E("open"),E("high"),E("low"),E("close")+"  "+p[x]]:[];return z&&b(A,c,_),d.extraText=_.join("<br>"),d.y0=d.y1=g.c2p(A.yc,!0),[d]}U.exports={hoverPoints:r,hoverSplit:a,hoverOnPoints:n}},65456:function(U,B,e){U.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(U,B,e){var y=e(24040),L=e(3400);U.exports=function(S,b,v,p){var r=v("x"),t=v("open"),a=v("high"),n=v("low"),u=v("close");v("hoverlabel.split");var s=y.getComponentMethod("calendars","handleTraceDefaults");if(s(S,b,["x"],p),!!(t&&a&&n&&u)){var l=Math.min(t.length,a.length,n.length,u.length);return r&&(l=Math.min(l,L.minRowLength(r))),b._length=l,l}}},36664:function(U,B,e){var y=e(33428),L=e(3400);U.exports=function(S,b,v,p){var r=b.yaxis,t=b.xaxis,a=!!t.rangebreaks;L.makeTraceGroups(p,v,"trace ohlc").each(function(n){var u=y.select(this),s=n[0],l=s.t,m=s.trace;if(m.visible!==!0||l.empty){u.remove();return}var h=l.tickLen,g=u.selectAll("path").data(L.identity);g.enter().append("path"),g.exit().remove(),g.attr("d",function(c){if(c.empty)return"M0,0Z";var o=t.c2p(c.pos-h,!0),d=t.c2p(c.pos+h,!0),w=a?(o+d)/2:t.c2p(c.pos,!0),A=r.c2p(c.o,!0),C=r.c2p(c.h,!0),x=r.c2p(c.l,!0),E=r.c2p(c.c,!0);return"M"+o+","+A+"H"+w+"M"+w+","+C+"V"+x+"M"+d+","+E+"H"+w})})}},97384:function(U){U.exports=function(e,y){var L=e.cd,i=e.xaxis,S=e.yaxis,b=[],v,p=L[0].t.bPos||0;if(y===!1)for(v=0;v<L.length;v++)L[v].selected=0;else for(v=0;v<L.length;v++){var r=L[v];y.contains([i.c2p(r.pos+p),S.c2p(r.yc)],null,r.i,e)?(b.push({pointNumber:r.i,x:i.c2d(r.pos),y:S.c2d(r.yc)}),r.selected=1):r.selected=0}return b}},14008:function(U,B,e){var y=e(33428),L=e(43616),i=e(76308);U.exports=function(b,v,p){var r=p||y.select(b).selectAll("g.ohlclayer").selectAll("g.trace");r.style("opacity",function(t){return t[0].trace.opacity}),r.each(function(t){var a=t[0].trace;y.select(this).selectAll("path").each(function(n){if(!n.empty){var u=a[n.dir].line;y.select(this).style("fill","none").call(i.stroke,u.color).call(L.dashLine,u.dash,u.width).style("opacity",a.selectedpoints&&!n.selected?.3:1)}})})}},72140:function(U,B,e){var y=e(92880).extendFlat,L=e(45464),i=e(25376),S=e(49084),b=e(21776).Ks,v=e(86968).u,p=y({editType:"calc"},S("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:b({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});U.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:y({},L.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:b({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:i({editType:"calc"}),tickfont:i({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:p,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(U,B,e){var y=e(84888)._M,L=e(60268),i="parcats";B.name=i,B.plot=function(S,b,v,p){var r=y(S.calcdata,i);if(r.length){var t=r[0];L(S,t,v,p)}},B.clean=function(S,b,v,p){var r=p._has&&p._has("parcats"),t=b._has&&b._has("parcats");r&&!t&&p._paperdiv.selectAll(".parcats").remove()}},69136:function(U,B,e){var y=e(71688).wrap,L=e(94288).hasColorscale,i=e(47128),S=e(68944),b=e(43616),v=e(3400),p=e(38248);U.exports=function(o,d){var w=v.filterVisible(d.dimensions);if(w.length===0)return[];var A=w.map(function(q){var Y;if(q.categoryorder==="trace")Y=null;else if(q.categoryorder==="array")Y=q.categoryarray;else{Y=S(q.values);for(var Z=!0,G=0;G<Y.length;G++)if(!p(Y[G])){Z=!1;break}Y.sort(Z?v.sorterAsc:void 0),q.categoryorder==="category descending"&&(Y=Y.reverse())}return l(q.values,Y)}),C,x,E;v.isArrayOrTypedArray(d.counts)?C=d.counts:C=[d.counts],m(w),w.forEach(function(q,Y){h(q,A[Y])});var M=d.line,f;M?(L(d,"line")&&i(o,d,{vals:d.line.color,containerStr:"line",cLetter:"c"}),f=b.tryColorscale(M)):f=v.identity;function P(q){var Y,Z;return v.isArrayOrTypedArray(M.color)?(Y=M.color[q%M.color.length],Z=Y):Y=M.color,{color:f(Y),rawColor:Z}}var T=w[0].values.length,z={},_=A.map(function(q){return q.inds});E=0;var V,F;for(V=0;V<T;V++){var N=[];for(F=0;F<_.length;F++)N.push(_[F][V]);x=C[V%C.length],E+=x;var k=P(V),I=N+"-"+k.rawColor;z[I]===void 0&&(z[I]=u(N,k.color,k.rawColor)),s(z[I],V,x)}var H=w.map(function(q,Y){return t(Y,q._index,q._displayindex,q.label,E)});for(V=0;V<T;V++)for(x=C[V%C.length],F=0;F<H.length;F++){var j=H[F].containerInd,ee=A[F].inds[V],te=H[F].categories;if(te[ee]===void 0){var ne=d.dimensions[j]._categoryarray[ee],ue=d.dimensions[j]._ticktext[ee];te[ee]=a(F,ee,ne,ue)}n(te[ee],V,x)}return y(r(H,z,E))};function r(c,o,d){var w=c.map(function(A){return A.categories.length}).reduce(function(A,C){return Math.max(A,C)});return{dimensions:c,paths:o,trace:void 0,maxCats:w,count:d}}function t(c,o,d,w,A){return{dimensionInd:c,containerInd:o,displayInd:d,dimensionLabel:w,count:A,categories:[],dragX:null}}function a(c,o,d,w){return{dimensionInd:c,categoryInd:o,categoryValue:d,displayInd:o,categoryLabel:w,valueInds:[],count:0,dragY:null}}function n(c,o,d){c.valueInds.push(o),c.count+=d}function u(c,o,d){return{categoryInds:c,color:o,rawColor:d,valueInds:[],count:0}}function s(c,o,d){c.valueInds.push(o),c.count+=d}function l(c,o){o==null?o=[]:o=o.map(function(f){return f});var d={},w={},A=[];o.forEach(function(f,P){d[f]=0,w[f]=P});for(var C=0;C<c.length;C++){var x=c[C],E;d[x]===void 0?(d[x]=1,E=o.push(x)-1,w[x]=E):(d[x]++,E=w[x]),A.push(E)}var M=o.map(function(f){return d[f]});return{uniqueValues:o,uniqueCounts:M,inds:A}}function m(c){var o=c.map(function(w){return w.displayindex}),d;if(g(o))for(d=0;d<c.length;d++)c[d]._displayindex=c[d].displayindex;else for(d=0;d<c.length;d++)c[d]._displayindex=d}function h(c,o){c._categoryarray=o.uniqueValues,c.ticktext===null||c.ticktext===void 0?c._ticktext=[]:c._ticktext=c.ticktext.slice();for(var d=c._ticktext.length;d<o.uniqueValues.length;d++)c._ticktext.push(o.uniqueValues[d])}function g(c){for(var o=new Array(c.length),d=0;d<c.length;d++){if(c[d]<0||c[d]>=c.length||o[c[d]]!==void 0)return!1;o[c[d]]=!0}return!0}},76671:function(U,B,e){var y=e(3400),L=e(94288).hasColorscale,i=e(27260),S=e(86968).Q,b=e(51272),v=e(72140),p=e(26284),r=e(38116).isTypedArraySpec;function t(n,u,s,l,m){m("line.shape"),m("line.hovertemplate");var h=m("line.color",l.colorway[0]);if(L(n,"line")&&y.isArrayOrTypedArray(h)){if(h.length)return m("line.colorscale"),i(n,u,l,m,{prefix:"line.",cLetter:"c"}),h.length;u.line.color=s}return 1/0}function a(n,u){function s(d,w){return y.coerce(n,u,v.dimensions,d,w)}var l=s("values"),m=s("visible");if(l&&l.length||(m=u.visible=!1),m){s("label"),s("displayindex",u._index);var h=n.categoryarray,g=y.isArrayOrTypedArray(h)&&h.length>0||r(h),c;g&&(c="array");var o=s("categoryorder",c);o==="array"?(s("categoryarray"),s("ticktext")):(delete n.categoryarray,delete n.ticktext),!g&&o==="array"&&(u.categoryorder="trace")}}U.exports=function(u,s,l,m){function h(w,A){return y.coerce(u,s,v,w,A)}var g=b(u,s,{name:"dimensions",handleItemDefaults:a}),c=t(u,s,l,m,h);S(s,m,h),(!Array.isArray(g)||!g.length)&&(s.visible=!1),p(s,g,"values",c),h("hoveron"),h("hovertemplate"),h("arrangement"),h("bundlecolors"),h("sortpaths"),h("counts");var o={family:m.font.family,size:Math.round(m.font.size),color:m.font.color};y.coerceFont(h,"labelfont",o);var d={family:m.font.family,size:Math.round(m.font.size/1.2),color:m.font.color};y.coerceFont(h,"tickfont",d)}},22020:function(U,B,e){U.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(U,B,e){var y=e(33428),L=e(67756).Gz,i=e(36424),S=e(93024),b=e(3400),v=b.strTranslate,p=e(43616),r=e(49760),t=e(72736);function a(G,K,oe,$){var J=K._context.staticPlot,se=G.map(ne.bind(0,K,oe)),ie=$.selectAll("g.parcatslayer").data([null]);ie.enter().append("g").attr("class","parcatslayer").style("pointer-events",J?"none":"all");var ce=ie.selectAll("g.trace.parcats").data(se,n),ye=ce.enter().append("g").attr("class","trace parcats");ce.attr("transform",function(Xe){return v(Xe.x,Xe.y)}),ye.append("g").attr("class","paths");var Se=ce.select("g.paths"),Te=Se.selectAll("path.path").data(function(Xe){return Xe.paths},n);Te.attr("fill",function(Xe){return Xe.model.color});var ke=Te.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Xe){return Xe.model.color}).attr("fill-opacity",0);o(ke),Te.attr("d",function(Xe){return Xe.svgD}),ke.empty()||Te.sort(s),Te.exit().remove(),Te.on("mouseover",l).on("mouseout",m).on("click",c),ye.append("g").attr("class","dimensions");var we=ce.select("g.dimensions"),Ee=we.selectAll("g.dimension").data(function(Xe){return Xe.dimensions},n);Ee.enter().append("g").attr("class","dimension"),Ee.attr("transform",function(Xe){return v(Xe.x,0)}),Ee.exit().remove();var xe=Ee.selectAll("g.category").data(function(Xe){return Xe.categories},n),De=xe.enter().append("g").attr("class","category");xe.attr("transform",function(Xe){return v(0,Xe.y)}),De.append("rect").attr("class","catrect").attr("pointer-events","none"),xe.select("rect.catrect").attr("fill","none").attr("width",function(Xe){return Xe.width}).attr("height",function(Xe){return Xe.height}),A(De);var Ve=xe.selectAll("rect.bandrect").data(function(Xe){return Xe.bands},n);Ve.each(function(){b.raiseToTop(this)}),Ve.attr("fill",function(Xe){return Xe.color});var Ue=Ve.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Xe){return Xe.color}).attr("fill-opacity",0);Ve.attr("fill",function(Xe){return Xe.color}).attr("width",function(Xe){return Xe.width}).attr("height",function(Xe){return Xe.height}).attr("y",function(Xe){return Xe.y}).attr("cursor",function(Xe){return Xe.parcatsViewModel.arrangement==="fixed"?"default":Xe.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),x(Ue),Ve.exit().remove(),De.append("text").attr("class","catlabel").attr("pointer-events","none");var Be=K._fullLayout.paper_bgcolor;xe.select("text.catlabel").attr("text-anchor",function(Xe){return u(Xe)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",t.makeTextShadow(Be)).style("fill","rgb(0, 0, 0)").attr("x",function(Xe){return u(Xe)?Xe.width+5:-5}).attr("y",function(Xe){return Xe.height/2}).text(function(Xe){return Xe.model.categoryLabel}).each(function(Xe){p.font(y.select(this),Xe.parcatsViewModel.categorylabelfont),t.convertToTspans(y.select(this),K)}),De.append("text").attr("class","dimlabel"),xe.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Xe){return Xe.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Xe){return Xe.width/2}).attr("y",-5).text(function(Xe,ot){return ot===0?Xe.parcatsViewModel.model.dimensions[Xe.model.dimensionInd].dimensionLabel:null}).each(function(Xe){p.font(y.select(this),Xe.parcatsViewModel.labelfont)}),xe.selectAll("rect.bandrect").on("mouseover",F).on("mouseout",N),xe.exit().remove(),Ee.call(y.behavior.drag().origin(function(Xe){return{x:Xe.x,y:0}}).on("dragstart",k).on("drag",I).on("dragend",H)),ce.each(function(Xe){Xe.traceSelection=y.select(this),Xe.pathSelection=y.select(this).selectAll("g.paths").selectAll("path.path"),Xe.dimensionSelection=y.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),ce.exit().remove()}U.exports=function(G,K,oe,$){a(oe,G,$,K)};function n(G){return G.key}function u(G){var K=G.parcatsViewModel.dimensions.length,oe=G.parcatsViewModel.dimensions[K-1].model.dimensionInd;return G.model.dimensionInd===oe}function s(G,K){return G.model.rawColor>K.model.rawColor?1:G.model.rawColor<K.model.rawColor?-1:0}function l(G){if(!G.parcatsViewModel.dragDimension&&G.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){b.raiseToTop(this),d(y.select(this));var K=h(G),oe=g(G);if(G.parcatsViewModel.graphDiv.emit("plotly_hover",{points:K,event:y.event,constraints:oe}),G.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var $=y.mouse(this)[0],J=G.parcatsViewModel.graphDiv,se=G.parcatsViewModel.trace,ie=J._fullLayout,ce=ie._paperdiv.node().getBoundingClientRect(),ye=G.parcatsViewModel.graphDiv.getBoundingClientRect(),Se,Te,ke;for(ke=0;ke<G.leftXs.length-1;ke++)if(G.leftXs[ke]+G.dimWidths[ke]-2<=$&&$<=G.leftXs[ke+1]+2){var we=G.parcatsViewModel.dimensions[ke],Ee=G.parcatsViewModel.dimensions[ke+1];Se=(we.x+we.width+Ee.x)/2,Te=(G.topYs[ke]+G.topYs[ke+1]+G.height)/2;break}var xe=G.parcatsViewModel.x+Se,De=G.parcatsViewModel.y+Te,Ve=r.mostReadable(G.model.color,["black","white"]),Ue=G.model.count,Be=Ue/G.parcatsViewModel.model.count,Xe={countLabel:Ue,probabilityLabel:Be.toFixed(3)},ot=[];G.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&ot.push(["Count:",Xe.countLabel].join(" ")),G.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&ot.push(["P:",Xe.probabilityLabel].join(" "));var ut=ot.join("<br>"),et=y.mouse(J)[0];S.loneHover({trace:se,x:xe-ce.left+ye.left,y:De-ce.top+ye.top,text:ut,color:G.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ve,idealAlign:et<xe?"right":"left",hovertemplate:(se.line||{}).hovertemplate,hovertemplateLabels:Xe,eventData:[{data:se._input,fullData:se,count:Ue,probability:Be}]},{container:ie._hoverlayer.node(),outerContainer:ie._paper.node(),gd:J})}}}function m(G){if(!G.parcatsViewModel.dragDimension&&(o(y.select(this)),S.loneUnhover(G.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),G.parcatsViewModel.pathSelection.sort(s),G.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var K=h(G),oe=g(G);G.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:K,event:y.event,constraints:oe})}}function h(G){for(var K=[],oe=j(G.parcatsViewModel),$=0;$<G.model.valueInds.length;$++){var J=G.model.valueInds[$];K.push({curveNumber:oe,pointNumber:J})}return K}function g(G){for(var K={},oe=G.parcatsViewModel.model.dimensions,$=0;$<oe.length;$++){var J=oe[$],se=J.categories[G.model.categoryInds[$]];K[J.containerInd]=se.categoryValue}return G.model.rawColor!==void 0&&(K.color=G.model.rawColor),K}function c(G){if(G.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var K=h(G),oe=g(G);G.parcatsViewModel.graphDiv.emit("plotly_click",{points:K,event:y.event,constraints:oe})}}function o(G){G.attr("fill",function(K){return K.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function d(G){G.attr("fill-opacity",.8).attr("stroke",function(K){return r.mostReadable(K.model.color,["black","white"])}).attr("stroke-width",.3)}function w(G){G.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function A(G){G.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function C(G){G.attr("stroke","black").attr("stroke-width",1.5)}function x(G){G.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function E(G){var K=G.parcatsViewModel.pathSelection,oe=G.categoryViewModel.model.dimensionInd,$=G.categoryViewModel.model.categoryInd;return K.filter(function(J){return J.model.categoryInds[oe]===$&&J.model.color===G.color})}function M(G){var K=y.select(G.parentNode).selectAll("rect.bandrect");K.each(function(oe){var $=E(oe);d($),$.each(function(){b.raiseToTop(this)})}),w(y.select(G.parentNode))}function f(G){var K=y.select(G).datum(),oe=E(K);d(oe),oe.each(function(){b.raiseToTop(this)}),y.select(G.parentNode).selectAll("rect.bandrect").filter(function($){return $.color===K.color}).each(function(){b.raiseToTop(this),C(y.select(this))})}function P(G,K,oe){var $=y.select(G).datum(),J=$.categoryViewModel.model,se=$.parcatsViewModel.graphDiv,ie=y.select(G.parentNode).selectAll("rect.bandrect"),ce=[];ie.each(function(Se){var Te=E(Se);Te.each(function(ke){Array.prototype.push.apply(ce,h(ke))})});var ye={};ye[J.dimensionInd]=J.categoryValue,se.emit(K,{points:ce,event:oe,constraints:ye})}function T(G,K,oe){var $=y.select(G).datum(),J=$.categoryViewModel.model,se=$.parcatsViewModel.graphDiv,ie=E($),ce=[];ie.each(function(Se){Array.prototype.push.apply(ce,h(Se))});var ye={};ye[J.dimensionInd]=J.categoryValue,$.rawColor!==void 0&&(ye.color=$.rawColor),se.emit(K,{points:ce,event:oe,constraints:ye})}function z(G,K,oe){G._fullLayout._calcInverseTransform(G);var $=G._fullLayout._invScaleX,J=G._fullLayout._invScaleY,se=y.select(oe.parentNode).select("rect.catrect"),ie=se.node().getBoundingClientRect(),ce=se.datum(),ye=ce.parcatsViewModel,Se=ye.model.dimensions[ce.model.dimensionInd],Te=ye.trace,ke=ie.top+ie.height/2,we,Ee;ye.dimensions.length>1&&Se.displayInd===ye.dimensions.length-1?(we=ie.left,Ee="left"):(we=ie.left+ie.width,Ee="right");var xe=ce.model.count,De=ce.model.categoryLabel,Ve=xe/ce.parcatsViewModel.model.count,Ue={countLabel:xe,categoryLabel:De,probabilityLabel:Ve.toFixed(3)},Be=[];ce.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Be.push(["Count:",Ue.countLabel].join(" ")),ce.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Be.push(["P("+Ue.categoryLabel+"):",Ue.probabilityLabel].join(" "));var Xe=Be.join("<br>");return{trace:Te,x:$*(we-K.left),y:J*(ke-K.top),text:Xe,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Ee,hovertemplate:Te.hovertemplate,hovertemplateLabels:Ue,eventData:[{data:Te._input,fullData:Te,count:xe,category:De,probability:Ve}]}}function _(G,K,oe){var $=[];return y.select(oe.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var J=this;$.push(z(G,K,J))}),$}function V(G,K,oe){G._fullLayout._calcInverseTransform(G);var $=G._fullLayout._invScaleX,J=G._fullLayout._invScaleY,se=oe.getBoundingClientRect(),ie=y.select(oe).datum(),ce=ie.categoryViewModel,ye=ce.parcatsViewModel,Se=ye.model.dimensions[ce.model.dimensionInd],Te=ye.trace,ke=se.y+se.height/2,we,Ee;ye.dimensions.length>1&&Se.displayInd===ye.dimensions.length-1?(we=se.left,Ee="left"):(we=se.left+se.width,Ee="right");var xe=ce.model.categoryLabel,De=ie.parcatsViewModel.model.count,Ve=0;ie.categoryViewModel.bands.forEach(function(dt){dt.color===ie.color&&(Ve+=dt.count)});var Ue=ce.model.count,Be=0;ye.pathSelection.each(function(dt){dt.model.color===ie.color&&(Be+=dt.model.count)});var Xe=Ve/De,ot=Ve/Be,ut=Ve/Ue,et={countLabel:De,categoryLabel:xe,probabilityLabel:Xe.toFixed(3)},qe=[];ce.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&qe.push(["Count:",et.countLabel].join(" ")),ce.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(qe.push("P(color ∩ "+xe+"): "+et.probabilityLabel),qe.push("P("+xe+" | color): "+ot.toFixed(3)),qe.push("P(color | "+xe+"): "+ut.toFixed(3)));var ft=qe.join("<br>"),ht=r.mostReadable(ie.color,["black","white"]);return{trace:Te,x:$*(we-K.left),y:J*(ke-K.top),text:ft,color:ie.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:ht,fontSize:10,idealAlign:Ee,hovertemplate:Te.hovertemplate,hovertemplateLabels:et,eventData:[{data:Te._input,fullData:Te,category:xe,count:De,probability:Xe,categorycount:Ue,colorcount:Be,bandcolorcount:Ve}]}}function F(G){if(!G.parcatsViewModel.dragDimension&&G.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var K=y.mouse(this)[1];if(K<-1)return;var oe=G.parcatsViewModel.graphDiv,$=oe._fullLayout,J=$._paperdiv.node().getBoundingClientRect(),se=G.parcatsViewModel.hoveron,ie=this;if(se==="color"?(f(ie),T(ie,"plotly_hover",y.event)):(M(ie),P(ie,"plotly_hover",y.event)),G.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var ce;se==="category"?ce=z(oe,J,ie):se==="color"?ce=V(oe,J,ie):se==="dimension"&&(ce=_(oe,J,ie)),ce&&S.loneHover(ce,{container:$._hoverlayer.node(),outerContainer:$._paper.node(),gd:oe})}}}function N(G){var K=G.parcatsViewModel;if(!K.dragDimension&&(o(K.pathSelection),A(K.dimensionSelection.selectAll("g.category")),x(K.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),S.loneUnhover(K.graphDiv._fullLayout._hoverlayer.node()),K.pathSelection.sort(s),K.hoverinfoItems.indexOf("skip")===-1)){var oe=G.parcatsViewModel.hoveron,$=this;oe==="color"?T($,"plotly_unhover",y.event):P($,"plotly_unhover",y.event)}}function k(G){G.parcatsViewModel.arrangement!=="fixed"&&(G.dragDimensionDisplayInd=G.model.displayInd,G.initialDragDimensionDisplayInds=G.parcatsViewModel.model.dimensions.map(function(K){return K.displayInd}),G.dragHasMoved=!1,G.dragCategoryDisplayInd=null,y.select(this).selectAll("g.category").select("rect.catrect").each(function(K){var oe=y.mouse(this)[0],$=y.mouse(this)[1];-2<=oe&&oe<=K.width+2&&-2<=$&&$<=K.height+2&&(G.dragCategoryDisplayInd=K.model.displayInd,G.initialDragCategoryDisplayInds=G.model.categories.map(function(J){return J.displayInd}),K.model.dragY=K.y,b.raiseToTop(this.parentNode),y.select(this.parentNode).selectAll("rect.bandrect").each(function(J){J.y<$&&$<=J.y+J.height&&(G.potentialClickBand=this)}))}),G.parcatsViewModel.dragDimension=G,S.loneUnhover(G.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function I(G){if(G.parcatsViewModel.arrangement!=="fixed"&&(G.dragHasMoved=!0,G.dragDimensionDisplayInd!==null)){var K=G.dragDimensionDisplayInd,oe=K-1,$=K+1,J=G.parcatsViewModel.dimensions[K];if(G.dragCategoryDisplayInd!==null){var se=J.categories[G.dragCategoryDisplayInd];se.model.dragY+=y.event.dy;var ie=se.model.dragY,ce=se.model.displayInd,ye=J.categories,Se=ye[ce-1],Te=ye[ce+1];Se!==void 0&&ie<Se.y+Se.height/2&&(se.model.displayInd=Se.model.displayInd,Se.model.displayInd=ce),Te!==void 0&&ie+se.height>Te.y+Te.height/2&&(se.model.displayInd=Te.model.displayInd,Te.model.displayInd=ce),G.dragCategoryDisplayInd=se.model.displayInd}if(G.dragCategoryDisplayInd===null||G.parcatsViewModel.arrangement==="freeform"){J.model.dragX=y.event.x;var ke=G.parcatsViewModel.dimensions[oe],we=G.parcatsViewModel.dimensions[$];ke!==void 0&&J.model.dragX<ke.x+ke.width&&(J.model.displayInd=ke.model.displayInd,ke.model.displayInd=K),we!==void 0&&J.model.dragX+J.width>we.x&&(J.model.displayInd=we.model.displayInd,we.model.displayInd=G.dragDimensionDisplayInd),G.dragDimensionDisplayInd=J.model.displayInd}Y(G.parcatsViewModel),q(G.parcatsViewModel),te(G.parcatsViewModel),ee(G.parcatsViewModel)}}function H(G){if(G.parcatsViewModel.arrangement!=="fixed"&&G.dragDimensionDisplayInd!==null){y.select(this).selectAll("text").attr("font-weight","normal");var K={},oe=j(G.parcatsViewModel),$=G.parcatsViewModel.model.dimensions.map(function(we){return we.displayInd}),J=G.initialDragDimensionDisplayInds.some(function(we,Ee){return we!==$[Ee]});J&&$.forEach(function(we,Ee){var xe=G.parcatsViewModel.model.dimensions[Ee].containerInd;K["dimensions["+xe+"].displayindex"]=we});var se=!1;if(G.dragCategoryDisplayInd!==null){var ie=G.model.categories.map(function(we){return we.displayInd});if(se=G.initialDragCategoryDisplayInds.some(function(we,Ee){return we!==ie[Ee]}),se){var ce=G.model.categories.slice().sort(function(we,Ee){return we.displayInd-Ee.displayInd}),ye=ce.map(function(we){return we.categoryValue}),Se=ce.map(function(we){return we.categoryLabel});K["dimensions["+G.model.containerInd+"].categoryarray"]=[ye],K["dimensions["+G.model.containerInd+"].ticktext"]=[Se],K["dimensions["+G.model.containerInd+"].categoryorder"]="array"}}if(G.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!G.dragHasMoved&&G.potentialClickBand&&(G.parcatsViewModel.hoveron==="color"?T(G.potentialClickBand,"plotly_click",y.event.sourceEvent):P(G.potentialClickBand,"plotly_click",y.event.sourceEvent)),G.model.dragX=null,G.dragCategoryDisplayInd!==null){var Te=G.parcatsViewModel.dimensions[G.dragDimensionDisplayInd].categories[G.dragCategoryDisplayInd];Te.model.dragY=null,G.dragCategoryDisplayInd=null}G.dragDimensionDisplayInd=null,G.parcatsViewModel.dragDimension=null,G.dragHasMoved=null,G.potentialClickBand=null,Y(G.parcatsViewModel),q(G.parcatsViewModel);var ke=y.transition().duration(300).ease("cubic-in-out");ke.each(function(){te(G.parcatsViewModel,!0),ee(G.parcatsViewModel,!0)}).each("end",function(){(J||se)&&i.restyle(G.parcatsViewModel.graphDiv,K,[oe])})}}function j(G){for(var K,oe=G.graphDiv._fullData,$=0;$<oe.length;$++)if(G.key===oe[$].uid){K=$;break}return K}function ee(G,K){K===void 0&&(K=!1);function oe($){return K?$.transition():$}G.pathSelection.data(function($){return $.paths},n),oe(G.pathSelection).attr("d",function($){return $.svgD})}function te(G,K){K===void 0&&(K=!1);function oe(ye){return K?ye.transition():ye}G.dimensionSelection.data(function(ye){return ye.dimensions},n);var $=G.dimensionSelection.selectAll("g.category").data(function(ye){return ye.categories},n);oe(G.dimensionSelection).attr("transform",function(ye){return v(ye.x,0)}),oe($).attr("transform",function(ye){return v(0,ye.y)});var J=$.select(".dimlabel");J.text(function(ye,Se){return Se===0?ye.parcatsViewModel.model.dimensions[ye.model.dimensionInd].dimensionLabel:null});var se=$.select(".catlabel");se.attr("text-anchor",function(ye){return u(ye)?"start":"end"}).attr("x",function(ye){return u(ye)?ye.width+5:-5}).each(function(ye){var Se,Te;u(ye)?(Se=ye.width+5,Te="start"):(Se=-5,Te="end"),y.select(this).selectAll("tspan").attr("x",Se).attr("text-anchor",Te)});var ie=$.selectAll("rect.bandrect").data(function(ye){return ye.bands},n),ce=ie.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ye){return ye.color}).attr("fill-opacity",0);ie.attr("fill",function(ye){return ye.color}).attr("width",function(ye){return ye.width}).attr("height",function(ye){return ye.height}).attr("y",function(ye){return ye.y}),x(ce),ie.each(function(){b.raiseToTop(this)}),ie.exit().remove()}function ne(G,K,oe){var $=oe[0],J=K.margin||{l:80,r:80,t:100,b:80},se=$.trace,ie=se.domain,ce=K.width,ye=K.height,Se=Math.floor(ce*(ie.x[1]-ie.x[0])),Te=Math.floor(ye*(ie.y[1]-ie.y[0])),ke=ie.x[0]*ce+J.l,we=K.height-ie.y[1]*K.height+J.t,Ee=se.line.shape,xe;se.hoverinfo==="all"?xe=["count","probability"]:xe=(se.hoverinfo||"").split("+");var De={trace:se,key:se.uid,model:$,x:ke,y:we,width:Se,height:Te,hoveron:se.hoveron,hoverinfoItems:xe,arrangement:se.arrangement,bundlecolors:se.bundlecolors,sortpaths:se.sortpaths,labelfont:se.labelfont,categorylabelfont:se.tickfont,pathShape:Ee,dragDimension:null,margin:J,paths:[],dimensions:[],graphDiv:G,traceSelection:null,pathSelection:null,dimensionSelection:null};return $.dimensions&&(Y(De),q(De)),De}function ue(G,K,oe,$,J){var se=[],ie=[],ce,ye;for(ye=0;ye<oe.length-1;ye++)ce=L(oe[ye]+G[ye],G[ye+1]),se.push(ce(J)),ie.push(ce(1-J));var Se="M "+G[0]+","+K[0];for(Se+="l"+oe[0]+",0 ",ye=1;ye<oe.length;ye++)Se+="C"+se[ye-1]+","+K[ye-1]+" "+ie[ye-1]+","+K[ye]+" "+G[ye]+","+K[ye],Se+="l"+oe[ye]+",0 ";for(Se+="l0,"+$+" ",Se+="l -"+oe[oe.length-1]+",0 ",ye=oe.length-2;ye>=0;ye--)Se+="C"+ie[ye]+","+(K[ye+1]+$)+" "+se[ye]+","+(K[ye]+$)+" "+(G[ye]+oe[ye])+","+(K[ye]+$),Se+="l-"+oe[ye]+",0 ";return Se+="Z",Se}function q(G){var K=G.dimensions,oe=G.model,$=K.map(function(rt){return rt.categories.map(function(Oe){return Oe.y})}),J=G.model.dimensions.map(function(rt){return rt.categories.map(function(Oe){return Oe.displayInd})}),se=G.model.dimensions.map(function(rt){return rt.displayInd}),ie=G.dimensions.map(function(rt){return rt.model.dimensionInd}),ce=K.map(function(rt){return rt.x}),ye=K.map(function(rt){return rt.width}),Se=[];for(var Te in oe.paths)oe.paths.hasOwnProperty(Te)&&Se.push(oe.paths[Te]);function ke(rt){var Oe=rt.categoryInds.map(function(Ze,Ge){return J[Ge][Ze]}),Ye=ie.map(function(Ze){return Oe[Ze]});return Ye}Se.sort(function(rt,Oe){var Ye=ke(rt),Ze=ke(Oe);return G.sortpaths==="backward"&&(Ye.reverse(),Ze.reverse()),Ye.push(rt.valueInds[0]),Ze.push(Oe.valueInds[0]),G.bundlecolors&&(Ye.unshift(rt.rawColor),Ze.unshift(Oe.rawColor)),Ye<Ze?-1:Ye>Ze?1:0});for(var we=new Array(Se.length),Ee=K[0].model.count,xe=K[0].categories.map(function(rt){return rt.height}).reduce(function(rt,Oe){return rt+Oe}),De=0;De<Se.length;De++){var Ve=Se[De],Ue;Ee>0?Ue=xe*(Ve.count/Ee):Ue=0;for(var Be=new Array($.length),Xe=0;Xe<Ve.categoryInds.length;Xe++){var ot=Ve.categoryInds[Xe],ut=J[Xe][ot],et=se[Xe];Be[et]=$[et][ut],$[et][ut]+=Ue;var qe=G.dimensions[et].categories[ut],ft=qe.bands.length,ht=qe.bands[ft-1];if(ht===void 0||Ve.rawColor!==ht.rawColor){var dt=ht===void 0?0:ht.y+ht.height;qe.bands.push({key:dt,color:Ve.color,rawColor:Ve.rawColor,height:Ue,width:qe.width,count:Ve.count,y:dt,categoryViewModel:qe,parcatsViewModel:G})}else{var mt=qe.bands[ft-1];mt.height+=Ue,mt.count+=Ve.count}}var St;G.pathShape==="hspline"?St=ue(ce,Be,ye,Ue,.5):St=ue(ce,Be,ye,Ue,0),we[De]={key:Ve.valueInds[0],model:Ve,height:Ue,leftXs:ce,topYs:Be,dimWidths:ye,svgD:St,parcatsViewModel:G}}G.paths=we}function Y(G){var K=G.model.dimensions.map(function(ie){return{displayInd:ie.displayInd,dimensionInd:ie.dimensionInd}});K.sort(function(ie,ce){return ie.displayInd-ce.displayInd});var oe=[];for(var $ in K){var J=K[$].dimensionInd,se=G.model.dimensions[J];oe.push(Z(G,se))}G.dimensions=oe}function Z(G,K){var oe=40,$=16,J=G.model.dimensions.length,se=K.displayInd,ie,ce,ye;J>1?ie=(G.width-2*oe-$)/(J-1):ie=0,ce=oe,ye=ce+ie*se;var Se=[],Te=G.model.maxCats,ke=K.categories.length,we=8,Ee=K.count,xe=G.height-we*(Te-1),De,Ve,Ue,Be,Xe,ot=(Te-ke)*we/2,ut=K.categories.map(function(et){return{displayInd:et.displayInd,categoryInd:et.categoryInd}});for(ut.sort(function(et,qe){return et.displayInd-qe.displayInd}),Xe=0;Xe<ke;Xe++)Be=ut[Xe].categoryInd,Ve=K.categories[Be],Ee>0?De=Ve.count/Ee*xe:De=0,Ue={key:Ve.valueInds[0],model:Ve,width:$,height:De,y:Ve.dragY!==null?Ve.dragY:ot,bands:[],parcatsViewModel:G},ot=ot+De+we,Se.push(Ue);return{key:K.dimensionInd,x:K.dragX!==null?K.dragX:ye,y:0,width:$,model:K,categories:Se,parcatsViewModel:G,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},60268:function(U,B,e){var y=e(51036);U.exports=function(i,S,b,v){var p=i._fullLayout,r=p._paper,t=p._size;y(i,r,S,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},b,v)}},82296:function(U,B,e){var y=e(49084),L=e(94724),i=e(25376),S=e(86968).u,b=e(92880).extendFlat,v=e(31780).templatedArray;U.exports={domain:S({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:i({editType:"plot"}),tickfont:i({editType:"plot"}),rangefont:i({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:b({},L.tickvals,{editType:"plot"}),ticktext:b({},L.ticktext,{editType:"plot"}),tickformat:b({},L.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:b({editType:"calc"},y("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(U,B,e){var y=e(30140),L=e(33428),i=e(71688).keyFun,S=e(71688).repeat,b=e(3400).sorterAsc,v=e(3400).strTranslate,p=y.bar.snapRatio;function r(H,j){return H*(1-p)+j*p}var t=y.bar.snapClose;function a(H,j){return H*(1-t)+j*t}function n(H,j,ee,te){if(u(ee,te))return ee;var ne=H?-1:1,ue=0,q=j.length-1;if(ne<0){var Y=ue;ue=q,q=Y}for(var Z=j[ue],G=Z,K=ue;ne*K<ne*q;K+=ne){var oe=K+ne,$=j[oe];if(ne*ee<ne*a(Z,$))return r(Z,G);if(ne*ee<ne*$||oe===q)return r($,Z);G=Z,Z=$}}function u(H,j){for(var ee=0;ee<j.length;ee++)if(H>=j[ee][0]&&H<=j[ee][1])return!0;return!1}function s(H){H.attr("x",-y.bar.captureWidth/2).attr("width",y.bar.captureWidth)}function l(H){H.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function m(H){if(!H.brush.filterSpecified)return"0,"+H.height;for(var j=h(H.brush.filter.getConsolidated(),H.height),ee=[0],te,ne,ue,q=j.length?j[0][0]:null,Y=0;Y<j.length;Y++)te=j[Y],ne=te[1]-te[0],ee.push(q),ee.push(ne),ue=Y+1,ue<j.length&&(q=j[ue][0]-te[1]);return ee.push(H.height),ee}function h(H,j){return H.map(function(ee){return ee.map(function(te){return Math.max(0,te*j)}).sort(b)})}function g(H,j){var ee=y.bar.handleHeight;if(!(j>H[1]+ee||j<H[0]-ee))return j>=.9*H[1]+.1*H[0]?"n":j<=.9*H[0]+.1*H[1]?"s":"ns"}function c(){L.select(document.body).style("cursor",null)}function o(H){H.attr("stroke-dasharray",m)}function d(H,j){var ee=L.select(H).selectAll(".highlight, .highlight-shadow"),te=j?ee.transition().duration(y.bar.snapDuration).each("end",j):ee;o(te)}function w(H,j){var ee=H.brush,te=ee.filterSpecified,ne=NaN,ue={},q;if(te){var Y=H.height,Z=ee.filter.getConsolidated(),G=h(Z,Y),K=NaN,oe=NaN,$=NaN;for(q=0;q<=G.length;q++){var J=G[q];if(J&&J[0]<=j&&j<=J[1]){K=q;break}else if(oe=q?q-1:NaN,J&&J[0]>j){$=q;break}}if(ne=K,isNaN(ne)&&(isNaN(oe)||isNaN($)?ne=isNaN(oe)?$:oe:ne=j-G[oe][1]<G[$][0]-j?oe:$),!isNaN(ne)){var se=G[ne],ie=g(se,j);ie&&(ue.interval=Z[ne],ue.intervalPix=se,ue.region=ie)}}if(H.ordinal&&!ue.region){var ce=H.unitTickvals,ye=H.unitToPaddedPx.invert(j);for(q=0;q<ce.length;q++){var Se=[ce[Math.max(q-1,0)]*.25+ce[q]*.75,ce[Math.min(q+1,ce.length-1)]*.25+ce[q]*.75];if(ye>=Se[0]&&ye<=Se[1]){ue.clickableOrdinalRange=Se;break}}}return ue}function A(H,j){L.event.sourceEvent.stopPropagation();var ee=j.height-L.mouse(H)[1]-2*y.verticalPadding,te=j.unitToPaddedPx.invert(ee),ne=j.brush,ue=w(j,ee),q=ue.interval,Y=ne.svgBrush;if(Y.wasDragged=!1,Y.grabbingBar=ue.region==="ns",Y.grabbingBar){var Z=q.map(j.unitToPaddedPx);Y.grabPoint=ee-Z[0]-y.verticalPadding,Y.barLength=Z[1]-Z[0]}Y.clickableOrdinalRange=ue.clickableOrdinalRange,Y.stayingIntervals=j.multiselect&&ne.filterSpecified?ne.filter.getConsolidated():[],q&&(Y.stayingIntervals=Y.stayingIntervals.filter(function(G){return G[0]!==q[0]&&G[1]!==q[1]})),Y.startExtent=ue.region?q[ue.region==="s"?1:0]:te,j.parent.inBrushDrag=!0,Y.brushStartCallback()}function C(H,j){L.event.sourceEvent.stopPropagation();var ee=j.height-L.mouse(H)[1]-2*y.verticalPadding,te=j.brush.svgBrush;te.wasDragged=!0,te._dragging=!0,te.grabbingBar?te.newExtent=[ee-te.grabPoint,ee+te.barLength-te.grabPoint].map(j.unitToPaddedPx.invert):te.newExtent=[te.startExtent,j.unitToPaddedPx.invert(ee)].sort(b),j.brush.filterSpecified=!0,te.extent=te.stayingIntervals.concat([te.newExtent]),te.brushCallback(j),d(H.parentNode)}function x(H,j){var ee=j.brush,te=ee.filter,ne=ee.svgBrush;ne._dragging||(E(H,j),C(H,j),j.brush.svgBrush.wasDragged=!1),ne._dragging=!1;var ue=L.event;ue.sourceEvent.stopPropagation();var q=ne.grabbingBar;if(ne.grabbingBar=!1,ne.grabLocation=void 0,j.parent.inBrushDrag=!1,c(),!ne.wasDragged){ne.wasDragged=void 0,ne.clickableOrdinalRange?ee.filterSpecified&&j.multiselect?ne.extent.push(ne.clickableOrdinalRange):(ne.extent=[ne.clickableOrdinalRange],ee.filterSpecified=!0):q?(ne.extent=ne.stayingIntervals,ne.extent.length===0&&_(ee)):_(ee),ne.brushCallback(j),d(H.parentNode),ne.brushEndCallback(ee.filterSpecified?te.getConsolidated():[]);return}var Y=function(){te.set(te.getConsolidated())};if(j.ordinal){var Z=j.unitTickvals;Z[Z.length-1]<Z[0]&&Z.reverse(),ne.newExtent=[n(0,Z,ne.newExtent[0],ne.stayingIntervals),n(1,Z,ne.newExtent[1],ne.stayingIntervals)];var G=ne.newExtent[1]>ne.newExtent[0];ne.extent=ne.stayingIntervals.concat(G?[ne.newExtent]:[]),ne.extent.length||_(ee),ne.brushCallback(j),G?d(H.parentNode,Y):(Y(),d(H.parentNode))}else Y();ne.brushEndCallback(ee.filterSpecified?te.getConsolidated():[])}function E(H,j){var ee=j.height-L.mouse(H)[1]-2*y.verticalPadding,te=w(j,ee),ne="crosshair";te.clickableOrdinalRange?ne="pointer":te.region&&(ne=te.region+"-resize"),L.select(document.body).style("cursor",ne)}function M(H){H.on("mousemove",function(j){L.event.preventDefault(),j.parent.inBrushDrag||E(this,j)}).on("mouseleave",function(j){j.parent.inBrushDrag||c()}).call(L.behavior.drag().on("dragstart",function(j){A(this,j)}).on("drag",function(j){C(this,j)}).on("dragend",function(j){x(this,j)}))}function f(H,j){return H[0]-j[0]}function P(H,j,ee){var te=ee._context.staticPlot,ne=H.selectAll(".background").data(S);ne.enter().append("rect").classed("background",!0).call(s).call(l).style("pointer-events",te?"none":"auto").attr("transform",v(0,y.verticalPadding)),ne.call(M).attr("height",function(Y){return Y.height-y.verticalPadding});var ue=H.selectAll(".highlight-shadow").data(S);ue.enter().append("line").classed("highlight-shadow",!0).attr("x",-y.bar.width/2).attr("stroke-width",y.bar.width+y.bar.strokeWidth).attr("stroke",j).attr("opacity",y.bar.strokeOpacity).attr("stroke-linecap","butt"),ue.attr("y1",function(Y){return Y.height}).call(o);var q=H.selectAll(".highlight").data(S);q.enter().append("line").classed("highlight",!0).attr("x",-y.bar.width/2).attr("stroke-width",y.bar.width-y.bar.strokeWidth).attr("stroke",y.bar.fillColor).attr("opacity",y.bar.fillOpacity).attr("stroke-linecap","butt"),q.attr("y1",function(Y){return Y.height}).call(o)}function T(H,j,ee){var te=H.selectAll("."+y.cn.axisBrush).data(S,i);te.enter().append("g").classed(y.cn.axisBrush,!0),P(te,j,ee)}function z(H){return H.svgBrush.extent.map(function(j){return j.slice()})}function _(H){H.filterSpecified=!1,H.svgBrush.extent=[[-1/0,1/0]]}function V(H){return function(ee){var te=ee.brush,ne=z(te),ue=ne.slice();te.filter.set(ue),H()}}function F(H){for(var j=H.slice(),ee=[],te,ne=j.shift();ne;){for(te=ne.slice();(ne=j.shift())&&ne[0]<=te[1];)te[1]=Math.max(te[1],ne[1]);ee.push(te)}return ee.length===1&&ee[0][0]>ee[0][1]&&(ee=[]),ee}function N(){var H=[],j,ee;return{set:function(te){H=te.map(function(ne){return ne.slice().sort(b)}).sort(f),H.length===1&&H[0][0]===-1/0&&H[0][1]===1/0&&(H=[[0,-1]]),j=F(H),ee=H.reduce(function(ne,ue){return[Math.min(ne[0],ue[0]),Math.max(ne[1],ue[1])]},[1/0,-1/0])},get:function(){return H.slice()},getConsolidated:function(){return j},getBounds:function(){return ee}}}function k(H,j,ee,te,ne,ue){var q=N();return q.set(ee),{filter:q,filterSpecified:j,svgBrush:{extent:[],brushStartCallback:te,brushCallback:V(ne),brushEndCallback:ue}}}function I(H,j){if(Array.isArray(H[0])?(H=H.map(function(te){return te.sort(b)}),j.multiselect?H=F(H.sort(f)):H=[H[0]]):H=[H.sort(b)],j.tickvals){var ee=j.tickvals.slice().sort(b);if(H=H.map(function(te){var ne=[n(0,ee,te[0],[]),n(1,ee,te[1],[])];if(ne[1]>ne[0])return ne}).filter(function(te){return te}),!H.length)return}return H.length>1?H:H[0]}U.exports={makeBrush:k,ensureAxisBrush:T,cleanRanges:I}},61664:function(U,B,e){U.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(U,B,e){var y=e(33428),L=e(84888)._M,i=e(24196),S=e(9616);B.name="parcoords",B.plot=function(b){var v=L(b.calcdata,"parcoords")[0];v.length&&i(b,v)},B.clean=function(b,v,p,r){var t=r._has&&r._has("parcoords"),a=v._has&&v._has("parcoords");t&&!a&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},B.toSVG=function(b){var v=b._fullLayout._glimages,p=y.select(b).selectAll(".svg-container"),r=p.filter(function(a,n){return n===p.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function t(){var a=this,n=a.toDataURL("image/png"),u=v.append("svg:image");u.attr({xmlns:S.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:a.style.width,height:a.style.height})}r.each(t),window.setTimeout(function(){y.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(U,B,e){var y=e(3400).isArrayOrTypedArray,L=e(8932),i=e(71688).wrap;U.exports=function(v,p){var r,t;return L.hasColorscale(p,"line")&&y(p.line.color)?(r=p.line.color,t=L.extractOpts(p.line).colorscale,L.calc(v,p,{vals:r,containerStr:"line",cLetter:"c"})):(r=S(p._length),t=[[0,p.line.color],[1,p.line.color]]),i({lineColor:r,cscale:t})};function S(b){for(var v=new Array(b),p=0;p<b;p++)v[p]=.5;return v}},30140:function(U){U.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(U,B,e){var y=e(3400),L=e(94288).hasColorscale,i=e(27260),S=e(86968).Q,b=e(51272),v=e(54460),p=e(82296),r=e(71864),t=e(30140).maxDimensionCount,a=e(26284);function n(s,l,m,h,g){var c=g("line.color",m);if(L(s,"line")&&y.isArrayOrTypedArray(c)){if(c.length)return g("line.colorscale"),i(s,l,h,g,{prefix:"line.",cLetter:"c"}),c.length;l.line.color=m}return 1/0}function u(s,l,m,h){function g(A,C){return y.coerce(s,l,p.dimensions,A,C)}var c=g("values"),o=g("visible");if(c&&c.length||(o=l.visible=!1),o){g("label"),g("tickvals"),g("ticktext"),g("tickformat");var d=g("range");l._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:d},v.setConvert(l._ax,h.layout),g("multiselect");var w=g("constraintrange");w&&(l.constraintrange=r.cleanRanges(w,l))}}U.exports=function(l,m,h,g){function c(C,x){return y.coerce(l,m,p,C,x)}var o=l.dimensions;Array.isArray(o)&&o.length>t&&(y.log("parcoords traces support up to "+t+" dimensions at the moment"),o.splice(t));var d=b(l,m,{name:"dimensions",layout:g,handleItemDefaults:u}),w=n(l,m,h,g,c);S(m,g,c),(!Array.isArray(d)||!d.length)&&(m.visible=!1),a(m,d,"values",w);var A={family:g.font.family,size:Math.round(g.font.size/1.2),color:g.font.color};y.coerceFont(c,"labelfont",A),y.coerceFont(c,"tickfont",A),y.coerceFont(c,"rangefont",A),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},95724:function(U,B,e){var y=e(3400).isTypedArray;B.convertTypedArray=function(L){return y(L)?Array.prototype.slice.call(L):L},B.isOrdinal=function(L){return!!L.tickvals},B.isVisible=function(L){return L.visible||!("visible"in L)}},29928:function(U,B,e){var y=e(61664);y.plot=e(24196),U.exports=y},51352:function(U,B,e){var y=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),L=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),i=e(30140).maxDimensionCount,S=e(3400),b=1e-6,v=2048,p=new Uint8Array(4),r=new Uint8Array(4),t={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function a(x){x.read({x:0,y:0,width:1,height:1,data:p})}function n(x,E,M,f,P){var T=x._gl;T.enable(T.SCISSOR_TEST),T.scissor(E,M,f,P),x.clear({color:[0,0,0,0],depth:1})}function u(x,E,M,f,P,T){var z=T.key;function _(V){var F=Math.min(f,P-V*f);V===0&&(window.cancelAnimationFrame(M.currentRafs[z]),delete M.currentRafs[z],n(x,T.scissorX,T.scissorY,T.scissorWidth,T.viewBoxSize[1])),!M.clearOnly&&(T.count=2*F,T.offset=2*V*f,E(T),V*f+F<P&&(M.currentRafs[z]=window.requestAnimationFrame(function(){_(V+1)})),M.drawCompleted=!1)}M.drawCompleted||(a(x),M.drawCompleted=!0),_(0)}function s(x){return Math.max(b,Math.min(1-b,x))}function l(x,E){for(var M=new Array(256),f=0;f<256;f++)M[f]=x(f/255).concat(E);return M}function m(x,E){return(x>>>8*E)%256/255}function h(x,E,M){for(var f=new Array(x*(i+4)),P=0,T=0;T<x;T++){for(var z=0;z<i;z++)f[P++]=z<E.length?E[z].paddedUnitValues[T]:.5;f[P++]=m(T,2),f[P++]=m(T,1),f[P++]=m(T,0),f[P++]=s(M[T])}return f}function g(x,E,M){for(var f=new Array(E*8),P=0,T=0;T<E;T++)for(var z=0;z<2;z++)for(var _=0;_<4;_++){var V=x*4+_,F=M[T*64+V];V===63&&z===0&&(F*=-1),f[P++]=F}return f}function c(x){var E="0"+x;return E.substr(E.length-2)}function o(x){return x<i?"p"+c(x+1)+"_"+c(x+4):"colors"}function d(x,E,M){for(var f=0;f<=i;f+=4)x[o(f)](g(f/4,E,M))}function w(x){for(var E={},M=0;M<=i;M+=4)E[o(M)]=x.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return E}function A(x,E,M,f,P,T,z,_,V,F,N,k,I,H){for(var j=[[],[]],ee=0;ee<64;ee++)j[0][ee]=ee===P?1:0,j[1][ee]=ee===T?1:0;z*=H,_*=H,V*=H,F*=H;var te=x.lines.canvasOverdrag*H,ne=x.domain,ue=x.canvasWidth*H,q=x.canvasHeight*H,Y=x.pad.l*H,Z=x.pad.b*H,G=x.layoutHeight*H,K=x.layoutWidth*H,oe=x.deselectedLines.color,$=x.deselectedLines.opacity,J=S.extendFlat({key:N,resolution:[ue,q],viewBoxPos:[z+te,_],viewBoxSize:[V,F],i0:P,i1:T,dim0A:j[0].slice(0,16),dim0B:j[0].slice(16,32),dim0C:j[0].slice(32,48),dim0D:j[0].slice(48,64),dim1A:j[1].slice(0,16),dim1B:j[1].slice(16,32),dim1C:j[1].slice(32,48),dim1D:j[1].slice(48,64),drwLayer:k,contextColor:[oe[0]/255,oe[1]/255,oe[2]/255,$!=="auto"?oe[3]*$:Math.max(1/255,Math.pow(1/x.lines.color.length,1/3))],scissorX:(f===E?0:z+te)+(Y-te)+K*ne.x[0],scissorWidth:(f===M?ue-z+te:V+.5)+(f===E?z+te:0),scissorY:_+Z+G*ne.y[0],scissorHeight:F,viewportX:Y-te+K*ne.x[0],viewportY:Z+G*ne.y[0],viewportWidth:ue,viewportHeight:q},I);return J}function C(x){var E=v-1,M=Math.max(0,Math.floor(x[0]*E),0),f=Math.min(E,Math.ceil(x[1]*E),E);return[Math.min(M,f),Math.max(M,f)]}U.exports=function(x,E){var M=E.context,f=E.pick,P=E.regl,T=P._gl,z=T.getParameter(T.ALIASED_LINE_WIDTH_RANGE),_=Math.max(z[0],Math.min(z[1],E.viewModel.plotGlPixelRatio)),V={currentRafs:{},drawCompleted:!0,clearOnly:!1},F,N,k,I,H=w(P),j,ee=P.texture(t),te=[];ue(E);var ne=P({profile:!1,blend:{enable:M,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!M,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:P.prop("scissorX"),y:P.prop("scissorY"),width:P.prop("scissorWidth"),height:P.prop("scissorHeight")}},viewport:{x:P.prop("viewportX"),y:P.prop("viewportY"),width:P.prop("viewportWidth"),height:P.prop("viewportHeight")},dither:!1,vert:y,frag:L,primitive:"lines",lineWidth:_,attributes:H,uniforms:{resolution:P.prop("resolution"),viewBoxPos:P.prop("viewBoxPos"),viewBoxSize:P.prop("viewBoxSize"),dim0A:P.prop("dim0A"),dim1A:P.prop("dim1A"),dim0B:P.prop("dim0B"),dim1B:P.prop("dim1B"),dim0C:P.prop("dim0C"),dim1C:P.prop("dim1C"),dim0D:P.prop("dim0D"),dim1D:P.prop("dim1D"),loA:P.prop("loA"),hiA:P.prop("hiA"),loB:P.prop("loB"),hiB:P.prop("hiB"),loC:P.prop("loC"),hiC:P.prop("hiC"),loD:P.prop("loD"),hiD:P.prop("hiD"),palette:ee,contextColor:P.prop("contextColor"),maskTexture:P.prop("maskTexture"),drwLayer:P.prop("drwLayer"),maskHeight:P.prop("maskHeight")},offset:P.prop("offset"),count:P.prop("count")});function ue(oe){F=oe.model,N=oe.viewModel,k=N.dimensions.slice(),I=k[0]?k[0].values.length:0;var $=F.lines,J=f?$.color.map(function(ie,ce){return ce/$.color.length}):$.color,se=h(I,k,J);d(H,I,se),!M&&!f&&(ee=P.texture(S.extendFlat({data:l(F.unitToColor,255)},t)))}function q(oe){var $,J,se,ie=[[],[]];for(se=0;se<64;se++){var ce=!oe&&se<k.length?k[se].brush.filter.getBounds():[-1/0,1/0];ie[0][se]=ce[0],ie[1][se]=ce[1]}var ye=v*8,Se=new Array(ye);for($=0;$<ye;$++)Se[$]=255;if(!oe)for($=0;$<k.length;$++){var Te=$%8,ke=($-Te)/8,we=Math.pow(2,Te),Ee=k[$],xe=Ee.brush.filter.get();if(!(xe.length<2)){var De=C(xe[0])[1];for(J=1;J<xe.length;J++){var Ve=C(xe[J]);for(se=De+1;se<Ve[0];se++)Se[se*8+ke]&=~we;De=Math.max(De,Ve[1])}}}var Ue={shape:[8,v],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Se};return j?j(Ue):j=P.texture(Ue),{maskTexture:j,maskHeight:v,loA:ie[0].slice(0,16),loB:ie[0].slice(16,32),loC:ie[0].slice(32,48),loD:ie[0].slice(48,64),hiA:ie[1].slice(0,16),hiB:ie[1].slice(16,32),hiC:ie[1].slice(32,48),hiD:ie[1].slice(48,64)}}function Y(oe,$,J){var se=oe.length,ie,ce,ye,Se=1/0,Te=-1/0;for(ie=0;ie<se;ie++)oe[ie].dim0.canvasX<Se&&(Se=oe[ie].dim0.canvasX,ce=ie),oe[ie].dim1.canvasX>Te&&(Te=oe[ie].dim1.canvasX,ye=ie);se===0&&n(P,0,0,F.canvasWidth,F.canvasHeight);var ke=q(M);for(ie=0;ie<se;ie++){var we=oe[ie],Ee=we.dim0.crossfilterDimensionIndex,xe=we.dim1.crossfilterDimensionIndex,De=we.canvasX,Ve=we.canvasY,Ue=De+we.panelSizeX,Be=we.plotGlPixelRatio;if($||!te[Ee]||te[Ee][0]!==De||te[Ee][1]!==Ue){te[Ee]=[De,Ue];var Xe=A(F,ce,ye,ie,Ee,xe,De,Ve,we.panelSizeX,we.panelSizeY,we.dim0.crossfilterDimensionIndex,M?0:f?2:1,ke,Be);V.clearOnly=J;var ot=$?F.lines.blockLineCount:I;u(P,ne,V,ot,I,Xe)}}}function Z(oe,$){return P.read({x:oe,y:$,width:1,height:1,data:r}),r}function G(oe,$,J,se){var ie=new Uint8Array(4*J*se);return P.read({x:oe,y:$,width:J,height:se,data:ie}),ie}function K(){x.style["pointer-events"]="none",ee.destroy(),j&&j.destroy();for(var oe in H)H[oe].destroy()}return{render:Y,readPixel:Z,readPixels:G,destroy:K,update:ue}}},26284:function(U){U.exports=function(B,e,y,L){L||(L=1/0);var i,S;for(i=0;i<e.length;i++)S=e[i],S.visible&&(L=Math.min(L,S[y].length));for(L===1/0&&(L=0),B._length=L,i=0;i<e.length;i++)S=e[i],S.visible&&(S._length=L);return L}},36336:function(U,B,e){var y=e(33428),L=e(3400),i=L.isArrayOrTypedArray,S=L.numberFormat,b=e(96824),v=e(54460),p=L.strRotate,r=L.strTranslate,t=e(72736),a=e(43616),n=e(8932),u=e(71688),s=u.keyFun,l=u.repeat,m=u.unwrap,h=e(95724),g=e(30140),c=e(71864),o=e(51352);function d(te,ne,ue){return L.aggNums(te,null,ne,ue)}function w(te,ne){return C(d(Math.min,te,ne),d(Math.max,te,ne))}function A(te){var ne=te.range;return ne?C(ne[0],ne[1]):w(te.values,te._length)}function C(te,ne){return(isNaN(te)||!isFinite(te))&&(te=0),(isNaN(ne)||!isFinite(ne))&&(ne=0),te===ne&&(te===0?(te-=1,ne+=1):(te*=.9,ne*=1.1)),[te,ne]}function x(te,ne){return ne?function(ue,q){var Y=ne[q];return Y??te(ue)}:te}function E(te,ne,ue,q,Y){var Z=A(ue);return q?y.scale.ordinal().domain(q.map(x(S(ue.tickformat),Y))).range(q.map(function(G){var K=(G-Z[0])/(Z[1]-Z[0]);return te-ne+K*(2*ne-te)})):y.scale.linear().domain(Z).range([te-ne,ne])}function M(te,ne){return y.scale.linear().range([ne,te-ne])}function f(te,ne){return y.scale.linear().domain(A(te)).range([ne,1-ne])}function P(te){if(te.tickvals){var ne=A(te);return y.scale.ordinal().domain(te.tickvals).range(te.tickvals.map(function(ue){return(ue-ne[0])/(ne[1]-ne[0])}))}}function T(te){var ne=te.map(function(Z){return Z[0]}),ue=te.map(function(Z){var G=b(Z[1]);return y.rgb("rgb("+G[0]+","+G[1]+","+G[2]+")")}),q=function(Z){return function(G){return G[Z]}},Y="rgb".split("").map(function(Z){return y.scale.linear().clamp(!0).domain(ne).range(ue.map(q(Z)))});return function(Z){return Y.map(function(G){return G(Z)})}}function z(te){return te.dimensions.some(function(ne){return ne.brush.filterSpecified})}function _(te,ne,ue){var q=m(ne),Y=q.trace,Z=h.convertTypedArray(q.lineColor),G=Y.line,K={color:b(Y.unselected.line.color),opacity:Y.unselected.line.opacity},oe=n.extractOpts(G),$=oe.reversescale?n.flipScale(q.cscale):q.cscale,J=Y.domain,se=Y.dimensions,ie=te.width,ce=Y.labelangle,ye=Y.labelside,Se=Y.labelfont,Te=Y.tickfont,ke=Y.rangefont,we=L.extendDeepNoArrays({},G,{color:Z.map(y.scale.linear().domain(A({values:Z,range:[oe.min,oe.max],_length:Y._length}))),blockLineCount:g.blockLineCount,canvasOverdrag:g.overdrag*g.canvasPixelRatio}),Ee=Math.floor(ie*(J.x[1]-J.x[0])),xe=Math.floor(te.height*(J.y[1]-J.y[0])),De=te.margin||{l:80,r:80,t:100,b:80},Ve=Ee,Ue=xe;return{key:ue,colCount:se.filter(h.isVisible).length,dimensions:se,tickDistance:g.tickDistance,unitToColor:T($),lines:we,deselectedLines:K,labelAngle:ce,labelSide:ye,labelFont:Se,tickFont:Te,rangeFont:ke,layoutWidth:ie,layoutHeight:te.height,domain:J,translateX:J.x[0]*ie,translateY:te.height-J.y[1]*te.height,pad:De,canvasWidth:Ve*g.canvasPixelRatio+2*we.canvasOverdrag,canvasHeight:Ue*g.canvasPixelRatio,width:Ve,height:Ue,canvasPixelRatio:g.canvasPixelRatio}}function V(te,ne,ue){var q=ue.width,Y=ue.height,Z=ue.dimensions,G=ue.canvasPixelRatio,K=function(ie){return q*ie/Math.max(1,ue.colCount-1)},oe=g.verticalPadding/Y,$=M(Y,g.verticalPadding),J={key:ue.key,xScale:K,model:ue,inBrushDrag:!1},se={};return J.dimensions=Z.filter(h.isVisible).map(function(ie,ce){var ye=f(ie,oe),Se=se[ie.label];se[ie.label]=(Se||0)+1;var Te=ie.label+(Se?"__"+Se:""),ke=ie.constraintrange,we=ke&&ke.length;we&&!i(ke[0])&&(ke=[ke]);var Ee=we?ke.map(function(qe){return qe.map(ye)}):[[-1/0,1/0]],xe=function(){var qe=J;qe.focusLayer&&qe.focusLayer.render(qe.panels,!0);var ft=z(qe);!te.contextShown()&&ft?(qe.contextLayer&&qe.contextLayer.render(qe.panels,!0),te.contextShown(!0)):te.contextShown()&&!ft&&(qe.contextLayer&&qe.contextLayer.render(qe.panels,!0,!0),te.contextShown(!1))},De=ie.values;De.length>ie._length&&(De=De.slice(0,ie._length));var Ve=ie.tickvals,Ue;function Be(qe,ft){return{val:qe,text:Ue[ft]}}function Xe(qe,ft){return qe.val-ft.val}if(i(Ve)&&Ve.length){L.isTypedArray(Ve)&&(Ve=Array.from(Ve)),Ue=ie.ticktext,!i(Ue)||!Ue.length?Ue=Ve.map(S(ie.tickformat)):Ue.length>Ve.length?Ue=Ue.slice(0,Ve.length):Ve.length>Ue.length&&(Ve=Ve.slice(0,Ue.length));for(var ot=1;ot<Ve.length;ot++)if(Ve[ot]<Ve[ot-1]){for(var ut=Ve.map(Be).sort(Xe),et=0;et<Ve.length;et++)Ve[et]=ut[et].val,Ue[et]=ut[et].text;break}}else Ve=void 0;return De=h.convertTypedArray(De),{key:Te,label:ie.label,tickFormat:ie.tickformat,tickvals:Ve,ticktext:Ue,ordinal:h.isOrdinal(ie),multiselect:ie.multiselect,xIndex:ce,crossfilterDimensionIndex:ce,visibleIndex:ie._index,height:Y,values:De,paddedUnitValues:De.map(ye),unitTickvals:Ve&&Ve.map(ye),xScale:K,x:K(ce),canvasX:K(ce)*G,unitToPaddedPx:$,domainScale:E(Y,g.verticalPadding,ie,Ve,Ue),ordinalScale:P(ie),parent:J,model:ue,brush:c.makeBrush(te,we,Ee,function(){te.linePickActive(!1)},xe,function(qe){if(J.focusLayer.render(J.panels,!0),J.pickLayer&&J.pickLayer.render(J.panels,!0),te.linePickActive(!0),ne&&ne.filterChanged){var ft=ye.invert,ht=qe.map(function(dt){return dt.map(ft).sort(L.sorterAsc)}).sort(function(dt,mt){return dt[0]-mt[0]});ne.filterChanged(J.key,ie._index,ht)}})}}),J}function F(te){te.classed(g.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function N(){var te=!0,ne=!1;return{linePickActive:function(ue){return arguments.length?te=!!ue:te},contextShown:function(ue){return arguments.length?ne=!!ue:ne}}}function k(te,ne){var ue=ne==="top"?1:-1,q=te*Math.PI/180,Y=Math.sin(q),Z=Math.cos(q);return{dir:ue,dx:Y,dy:Z,degrees:te}}function I(te,ne,ue){for(var q=ne.panels||(ne.panels=[]),Y=te.data(),Z=0;Z<Y.length-1;Z++){var G=q[Z]||(q[Z]={}),K=Y[Z],oe=Y[Z+1];G.dim0=K,G.dim1=oe,G.canvasX=K.canvasX,G.panelSizeX=oe.canvasX-K.canvasX,G.panelSizeY=ne.model.canvasHeight,G.y=0,G.canvasY=0,G.plotGlPixelRatio=ue}}function H(te){for(var ne=0;ne<te.length;ne++)for(var ue=0;ue<te[ne].length;ue++)for(var q=te[ne][ue].trace,Y=q.dimensions,Z=0;Z<Y.length;Z++){var G=Y[Z].values,K=Y[Z]._ax;K&&(K.range?K.range=C(K.range[0],K.range[1]):K.range=w(G,q._length),K.dtick||(K.dtick=.01*(Math.abs(K.range[1]-K.range[0])||1)),K.tickformat=Y[Z].tickformat,v.calcTicks(K),K.cleanRange())}}function j(te,ne){return v.tickText(te._ax,ne,!1).text}function ee(te,ne){if(te.ordinal)return"";var ue=te.domainScale.domain(),q=ue[ne?ue.length-1:0];return j(te.model.dimensions[te.visibleIndex],q)}U.exports=function(ne,ue,q,Y){var Z=ne._context.staticPlot,G=ne._fullLayout,K=G._toppaper,oe=G._glcontainer,$=ne._context.plotGlPixelRatio,J=ne._fullLayout.paper_bgcolor;H(ue);var se=N(),ie=ue.filter(function(et){return m(et).trace.visible}).map(_.bind(0,q)).map(V.bind(0,se,Y));oe.each(function(et,qe){return L.extendFlat(et,ie[qe])});var ce=oe.selectAll(".gl-canvas").each(function(et){et.viewModel=ie[0],et.viewModel.plotGlPixelRatio=$,et.viewModel.paperColor=J,et.model=et.viewModel?et.viewModel.model:null}),ye=null,Se=ce.filter(function(et){return et.pick});Se.style("pointer-events",Z?"none":"auto").on("mousemove",function(et){if(se.linePickActive()&&et.lineLayer&&Y&&Y.hover){var qe=y.event,ft=this.width,ht=this.height,dt=y.mouse(this),mt=dt[0],St=dt[1];if(mt<0||St<0||mt>=ft||St>=ht)return;var rt=et.lineLayer.readPixel(mt,ht-1-St),Oe=rt[3]!==0,Ye=Oe?rt[2]+256*(rt[1]+256*rt[0]):null,Ze={x:mt,y:St,clientX:qe.clientX,clientY:qe.clientY,dataIndex:et.model.key,curveNumber:Ye};Ye!==ye&&(Oe?Y.hover(Ze):Y.unhover&&Y.unhover(Ze),ye=Ye)}}),ce.style("opacity",function(et){return et.pick?0:1}),K.style("background","rgba(255, 255, 255, 0)");var Te=K.selectAll("."+g.cn.parcoords).data(ie,s);Te.exit().remove(),Te.enter().append("g").classed(g.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Te.attr("transform",function(et){return r(et.model.translateX,et.model.translateY)});var ke=Te.selectAll("."+g.cn.parcoordsControlView).data(l,s);ke.enter().append("g").classed(g.cn.parcoordsControlView,!0),ke.attr("transform",function(et){return r(et.model.pad.l,et.model.pad.t)});var we=ke.selectAll("."+g.cn.yAxis).data(function(et){return et.dimensions},s);we.enter().append("g").classed(g.cn.yAxis,!0),ke.each(function(et){I(we,et,$)}),ce.each(function(et){if(et.viewModel){!et.lineLayer||Y?et.lineLayer=o(this,et):et.lineLayer.update(et),(et.key||et.key===0)&&(et.viewModel[et.key]=et.lineLayer);var qe=!et.context||Y;et.lineLayer.render(et.viewModel.panels,qe)}}),we.attr("transform",function(et){return r(et.xScale(et.xIndex),0)}),we.call(y.behavior.drag().origin(function(et){return et}).on("drag",function(et){var qe=et.parent;se.linePickActive(!1),et.x=Math.max(-g.overdrag,Math.min(et.model.width+g.overdrag,y.event.x)),et.canvasX=et.x*et.model.canvasPixelRatio,we.sort(function(ft,ht){return ft.x-ht.x}).each(function(ft,ht){ft.xIndex=ht,ft.x=et===ft?ft.x:ft.xScale(ft.xIndex),ft.canvasX=ft.x*ft.model.canvasPixelRatio}),I(we,qe,$),we.filter(function(ft){return Math.abs(et.xIndex-ft.xIndex)!==0}).attr("transform",function(ft){return r(ft.xScale(ft.xIndex),0)}),y.select(this).attr("transform",r(et.x,0)),we.each(function(ft,ht,dt){dt===et.parent.key&&(qe.dimensions[ht]=ft)}),qe.contextLayer&&qe.contextLayer.render(qe.panels,!1,!z(qe)),qe.focusLayer.render&&qe.focusLayer.render(qe.panels)}).on("dragend",function(et){var qe=et.parent;et.x=et.xScale(et.xIndex),et.canvasX=et.x*et.model.canvasPixelRatio,I(we,qe,$),y.select(this).attr("transform",function(ft){return r(ft.x,0)}),qe.contextLayer&&qe.contextLayer.render(qe.panels,!1,!z(qe)),qe.focusLayer&&qe.focusLayer.render(qe.panels),qe.pickLayer&&qe.pickLayer.render(qe.panels,!0),se.linePickActive(!0),Y&&Y.axesMoved&&Y.axesMoved(qe.key,qe.dimensions.map(function(ft){return ft.crossfilterDimensionIndex}))})),we.exit().remove();var Ee=we.selectAll("."+g.cn.axisOverlays).data(l,s);Ee.enter().append("g").classed(g.cn.axisOverlays,!0),Ee.selectAll("."+g.cn.axis).remove();var xe=Ee.selectAll("."+g.cn.axis).data(l,s);xe.enter().append("g").classed(g.cn.axis,!0),xe.each(function(et){var qe=et.model.height/et.model.tickDistance,ft=et.domainScale,ht=ft.domain();y.select(this).call(y.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(qe,et.tickFormat).tickValues(et.ordinal?ht:null).tickFormat(function(dt){return h.isOrdinal(et)?dt:j(et.model.dimensions[et.visibleIndex],dt)}).scale(ft)),a.font(xe.selectAll("text"),et.model.tickFont)}),xe.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),xe.selectAll("text").style("text-shadow",t.makeTextShadow(J)).style("cursor","default");var De=Ee.selectAll("."+g.cn.axisHeading).data(l,s);De.enter().append("g").classed(g.cn.axisHeading,!0);var Ve=De.selectAll("."+g.cn.axisTitle).data(l,s);Ve.enter().append("text").classed(g.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",Z?"none":"auto"),Ve.text(function(et){return et.label}).each(function(et){var qe=y.select(this);a.font(qe,et.model.labelFont),t.convertToTspans(qe,ne)}).attr("transform",function(et){var qe=k(et.model.labelAngle,et.model.labelSide),ft=g.axisTitleOffset;return(qe.dir>0?"":r(0,2*ft+et.model.height))+p(qe.degrees)+r(-ft*qe.dx,-ft*qe.dy)}).attr("text-anchor",function(et){var qe=k(et.model.labelAngle,et.model.labelSide),ft=Math.abs(qe.dx),ht=Math.abs(qe.dy);return 2*ft>ht?qe.dir*qe.dx<0?"start":"end":"middle"});var Ue=Ee.selectAll("."+g.cn.axisExtent).data(l,s);Ue.enter().append("g").classed(g.cn.axisExtent,!0);var Be=Ue.selectAll("."+g.cn.axisExtentTop).data(l,s);Be.enter().append("g").classed(g.cn.axisExtentTop,!0),Be.attr("transform",r(0,-g.axisExtentOffset));var Xe=Be.selectAll("."+g.cn.axisExtentTopText).data(l,s);Xe.enter().append("text").classed(g.cn.axisExtentTopText,!0).call(F),Xe.text(function(et){return ee(et,!0)}).each(function(et){a.font(y.select(this),et.model.rangeFont)});var ot=Ue.selectAll("."+g.cn.axisExtentBottom).data(l,s);ot.enter().append("g").classed(g.cn.axisExtentBottom,!0),ot.attr("transform",function(et){return r(0,et.model.height+g.axisExtentOffset)});var ut=ot.selectAll("."+g.cn.axisExtentBottomText).data(l,s);ut.enter().append("text").classed(g.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(F),ut.text(function(et){return ee(et,!1)}).each(function(et){a.font(y.select(this),et.model.rangeFont)}),c.ensureAxisBrush(Ee,J,ne)}},24196:function(U,B,e){var y=e(36336),L=e(5048),i=e(95724).isVisible,S={};function b(r,t,a){var n=t.indexOf(a),u=r.indexOf(n);return u===-1&&(u+=t.length),u}function v(r,t){return function(n,u){return b(r,t,n)-b(r,t,u)}}var p=U.exports=function(t,a){var n=t._fullLayout,u=L(t,[],S);if(u){var s={},l={},m={},h={},g=n._size;a.forEach(function(A,C){var x=A[0].trace;m[C]=x.index;var E=h[C]=x._fullInput.index;s[C]=t.data[E].dimensions,l[C]=t.data[E].dimensions.slice()});var c=function(A,C,x){var E=l[A][C],M=x.map(function(V){return V.slice()}),f="dimensions["+C+"].constraintrange",P=n._tracePreGUI[t._fullData[m[A]]._fullInput.uid];if(P[f]===void 0){var T=E.constraintrange;P[f]=T||null}var z=t._fullData[m[A]].dimensions[C];M.length?(M.length===1&&(M=M[0]),E.constraintrange=M,z.constraintrange=M.slice(),M=[M]):(delete E.constraintrange,delete z.constraintrange,M=null);var _={};_[f]=M,t.emit("plotly_restyle",[_,[h[A]]])},o=function(A){t.emit("plotly_hover",A)},d=function(A){t.emit("plotly_unhover",A)},w=function(A,C){var x=v(C,l[A].filter(i));s[A].sort(x),l[A].filter(function(E){return!i(E)}).sort(function(E){return l[A].indexOf(E)}).forEach(function(E){s[A].splice(s[A].indexOf(E),1),s[A].splice(l[A].indexOf(E),0,E)}),t.emit("plotly_restyle",[{dimensions:[s[A]]},[h[A]]])};y(t,a,{width:g.w,height:g.h,margin:{t:g.t,r:g.r,b:g.b,l:g.l}},{filterChanged:c,hover:o,unhover:d,axesMoved:w})}};p.reglPrecompiled=S},74996:function(U,B,e){var y=e(45464),L=e(86968).u,i=e(25376),S=e(22548),b=e(21776).Ks,v=e(21776).Gw,p=e(92880).extendFlat,r=e(98192).c,t=i({editType:"plot",arrayOk:!0,colorEditType:"plot"});U.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:S.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:p({},y.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:b({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:p({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:p({},t,{}),outsidetextfont:p({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:p({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:L({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:p({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(U,B,e){var y=e(7316);B.name="pie",B.plot=function(L,i,S,b){y.plotBasePlot(B.name,L,i,S,b)},B.clean=function(L,i,S,b){y.cleanBasePlot(B.name,L,i,S,b)}},45768:function(U,B,e){var y=e(38248),L=e(49760),i=e(76308),S={};function b(t,a){var n=[],u=t._fullLayout,s=u.hiddenlabels||[],l=a.labels,m=a.marker.colors||[],h=a.values,g=a._length,c=a._hasValues&&g,o,d;if(a.dlabel)for(l=new Array(g),o=0;o<g;o++)l[o]=String(a.label0+o*a.dlabel);var w={},A=v(u["_"+a.type+"colormap"]),C=0,x=!1;for(o=0;o<g;o++){var E,M,f;if(c){if(E=h[o],!y(E))continue;E=+E}else E=1;M=l[o],(M===void 0||M==="")&&(M=o),M=String(M);var P=w[M];P===void 0?(w[M]=n.length,f=s.indexOf(M)!==-1,f||(C+=E),n.push({v:E,label:M,color:A(m[o],M),i:o,pts:[o],hidden:f})):(x=!0,d=n[P],d.v+=E,d.pts.push(o),d.hidden||(C+=E),d.color===!1&&m[o]&&(d.color=A(m[o],M)))}n=n.filter(function(z){return z.v>=0});var T=a.type==="funnelarea"?x:a.sort;return T&&n.sort(function(z,_){return _.v-z.v}),n[0]&&(n[0].vTotal=C),n}function v(t){return function(n,u){return!n||(n=L(n),!n.isValid())?!1:(n=i.addOpacity(n,n.getAlpha()),t[u]||(t[u]=n),n)}}function p(t,a){var n=(a||{}).type;n||(n="pie");var u=t._fullLayout,s=t.calcdata,l=u[n+"colorway"],m=u["_"+n+"colormap"];u["extend"+n+"colors"]&&(l=r(l,S));for(var h=0,g=0;g<s.length;g++){var c=s[g],o=c[0].trace.type;if(o===n)for(var d=0;d<c.length;d++){var w=c[d];w.color===!1&&(m[w.label]?w.color=m[w.label]:(m[w.label]=w.color=l[h%l.length],h++))}}}function r(t,a){var n,u=JSON.stringify(t),s=a[u];if(!s){for(s=t.slice(),n=0;n<t.length;n++)s.push(L(t[n]).lighten(20).toHexString());for(n=0;n<t.length;n++)s.push(L(t[n]).darken(20).toHexString());a[u]=s}return s}U.exports={calc:b,crossTraceCalc:p,makePullColorFn:v,generateExtendedColors:r}},74174:function(U,B,e){var y=e(38248),L=e(3400),i=e(74996),S=e(86968).Q,b=e(31508).handleText,v=e(3400).coercePattern;function p(a,n){var u=L.isArrayOrTypedArray(a),s=L.isArrayOrTypedArray(n),l=Math.min(u?a.length:1/0,s?n.length:1/0);if(isFinite(l)||(l=0),l&&s){for(var m,h=0;h<l;h++){var g=n[h];if(y(g)&&g>0){m=!0;break}}m||(l=0)}return{hasLabels:u,hasValues:s,len:l}}function r(a,n,u,s,l){var m=s("marker.line.width");m&&s("marker.line.color",l?void 0:u.paper_bgcolor);var h=s("marker.colors");v(s,"marker.pattern",h),a.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=a.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=u.paper_bgcolor)}function t(a,n,u,s){function l(P,T){return L.coerce(a,n,i,P,T)}var m=l("labels"),h=l("values"),g=p(m,h),c=g.len;if(n._hasLabels=g.hasLabels,n._hasValues=g.hasValues,!n._hasLabels&&n._hasValues&&(l("label0"),l("dlabel")),!c){n.visible=!1;return}n._length=c,r(a,n,s,l,!0),l("scalegroup");var o=l("text"),d=l("texttemplate"),w;if(d||(w=l("textinfo",L.isArrayOrTypedArray(o)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),d||w&&w!=="none"){var A=l("textposition");b(a,n,s,l,A,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var C=Array.isArray(A)||A==="auto",x=C||A==="outside";x&&l("automargin"),(A==="inside"||A==="auto"||Array.isArray(A))&&l("insidetextorientation")}else w==="none"&&l("textposition","none");S(n,s,l);var E=l("hole"),M=l("title.text");if(M){var f=l("title.position",E?"middle center":"top center");!E&&f==="middle center"&&(n.title.position="top center"),L.coerceFont(l,"title.font",s.font)}l("sort"),l("direction"),l("rotation"),l("pull")}U.exports={handleLabelsAndValues:p,handleMarkerDefaults:r,supplyDefaults:t}},53644:function(U,B,e){var y=e(10624).appendArrayMultiPointValues;U.exports=function(i,S){var b={curveNumber:S.index,pointNumbers:i.pts,data:S._input,fullData:S,label:i.label,color:i.color,value:i.v,percent:i.percent,text:i.text,bbox:i.bbox,v:i.v};return i.pts.length===1&&(b.pointNumber=b.i=i.pts[0]),y(b,S,i.pts),S.type==="funnelarea"&&(delete b.v,delete b.i),b}},21552:function(U,B,e){var y=e(43616),L=e(76308);U.exports=function(S,b,v,p){var r=v.marker.pattern;r&&r.shape?y.pointStyle(S,v,p,b):L.fill(S,b.color)}},69656:function(U,B,e){var y=e(3400);function L(i){return i.indexOf("e")!==-1?i.replace(/[.]?0+e/,"e"):i.indexOf(".")!==-1?i.replace(/[.]?0+$/,""):i}B.formatPiePercent=function(S,b){var v=L((S*100).toPrecision(3));return y.numSeparate(v,b)+"%"},B.formatPieValue=function(S,b){var v=L(S.toPrecision(10));return y.numSeparate(v,b)},B.getFirstFilled=function(S,b){if(y.isArrayOrTypedArray(S))for(var v=0;v<b.length;v++){var p=S[b[v]];if(p||p===0||p==="")return p}},B.castOption=function(S,b){if(y.isArrayOrTypedArray(S))return B.getFirstFilled(S,b);if(S)return S},B.getRotationAngle=function(i){return(i==="auto"?0:i)*Math.PI/180}},75792:function(U,B,e){U.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(U){U.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(U,B,e){var y=e(3400),L=e(85204);U.exports=function(S,b){function v(p,r){return y.coerce(S,b,L,p,r)}v("hiddenlabels"),v("piecolorway",b.colorway),v("extendpiecolors")}},37820:function(U,B,e){var y=e(33428),L=e(7316),i=e(93024),S=e(76308),b=e(43616),v=e(3400),p=v.strScale,r=v.strTranslate,t=e(72736),a=e(82744),n=a.recordMinTextSize,u=a.clearMinTextSize,s=e(78048).TEXTPAD,l=e(69656),m=e(53644),h=e(3400).isValidTextValue;function g(Y,Z){var G=Y._context.staticPlot,K=Y._fullLayout,oe=K._size;u("pie",K),A(Z,Y),j(Z,oe);var $=v.makeTraceGroups(K._pielayer,Z,"trace").each(function(J){var se=y.select(this),ie=J[0],ce=ie.trace;te(J),se.attr("stroke-linejoin","round"),se.each(function(){var ye=y.select(this).selectAll("g.slice").data(J);ye.enter().append("g").classed("slice",!0),ye.exit().remove();var Se=[[[],[]],[[],[]]],Te=!1;ye.each(function(Be,Xe){if(Be.hidden){y.select(this).selectAll("path,g").remove();return}Be.pointNumber=Be.i,Be.curveNumber=ce.index,Se[Be.pxmid[1]<0?0:1][Be.pxmid[0]<0?0:1].push(Be);var ot=ie.cx,ut=ie.cy,et=y.select(this),qe=et.selectAll("path.surface").data([Be]);if(qe.enter().append("path").classed("surface",!0).style({"pointer-events":G?"none":"all"}),et.call(o,Y,J),ce.pull){var ft=+l.castOption(ce.pull,Be.pts)||0;ft>0&&(ot+=ft*Be.pxmid[0],ut+=ft*Be.pxmid[1])}Be.cxFinal=ot,Be.cyFinal=ut;function ht(Ze,Ge,_e,be){var me=be*(Ge[0]-Ze[0]),Ce=be*(Ge[1]-Ze[1]);return"a"+be*ie.r+","+be*ie.r+" 0 "+Be.largeArc+(_e?" 1 ":" 0 ")+me+","+Ce}var dt=ce.hole;if(Be.v===ie.vTotal){var mt="M"+(ot+Be.px0[0])+","+(ut+Be.px0[1])+ht(Be.px0,Be.pxmid,!0,1)+ht(Be.pxmid,Be.px0,!0,1)+"Z";dt?qe.attr("d","M"+(ot+dt*Be.px0[0])+","+(ut+dt*Be.px0[1])+ht(Be.px0,Be.pxmid,!1,dt)+ht(Be.pxmid,Be.px0,!1,dt)+"Z"+mt):qe.attr("d",mt)}else{var St=ht(Be.px0,Be.px1,!0,1);if(dt){var rt=1-dt;qe.attr("d","M"+(ot+dt*Be.px1[0])+","+(ut+dt*Be.px1[1])+ht(Be.px1,Be.px0,!1,dt)+"l"+rt*Be.px0[0]+","+rt*Be.px0[1]+St+"Z")}else qe.attr("d","M"+ot+","+ut+"l"+Be.px0[0]+","+Be.px0[1]+St+"Z")}ue(Y,Be,ie);var Oe=l.castOption(ce.textposition,Be.pts),Ye=et.selectAll("g.slicetext").data(Be.text&&Oe!=="none"?[0]:[]);Ye.enter().append("g").classed("slicetext",!0),Ye.exit().remove(),Ye.each(function(){var Ze=v.ensureSingle(y.select(this),"text","",function(je){je.attr("data-notex",1)}),Ge=v.ensureUniformFontSize(Y,Oe==="outside"?d(ce,Be,K.font):w(ce,Be,K.font));Ze.text(Be.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(b.font,Ge).call(t.convertToTspans,Y);var _e=b.bBox(Ze.node()),be;if(Oe==="outside")be=_(_e,Be);else if(be=C(_e,Be,ie),Oe==="auto"&&be.scale<1){var me=v.ensureUniformFontSize(Y,ce.outsidetextfont);Ze.call(b.font,me),_e=b.bBox(Ze.node()),be=_(_e,Be)}var Ce=be.textPosAngle,Me=Ce===void 0?Be.pxmid:ne(ie.r,Ce);if(be.targetX=ot+Me[0]*be.rCenter+(be.x||0),be.targetY=ut+Me[1]*be.rCenter+(be.y||0),q(be,_e),be.outside){var Ne=be.targetY;Be.yLabelMin=Ne-_e.height/2,Be.yLabelMid=Ne,Be.yLabelMax=Ne+_e.height/2,Be.labelExtraX=0,Be.labelExtraY=0,Te=!0}be.fontSize=Ge.size,n(ce.type,be,K),J[Xe].transform=be,v.setTransormAndDisplay(Ze,be)})});var ke=y.select(this).selectAll("g.titletext").data(ce.title.text?[0]:[]);if(ke.enter().append("g").classed("titletext",!0),ke.exit().remove(),ke.each(function(){var Be=v.ensureSingle(y.select(this),"text","",function(ut){ut.attr("data-notex",1)}),Xe=ce.title.text;ce._meta&&(Xe=v.templateString(Xe,ce._meta)),Be.text(Xe).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(b.font,ce.title.font).call(t.convertToTspans,Y);var ot;ce.title.position==="middle center"?ot=V(ie):ot=F(ie,oe),Be.attr("transform",r(ot.x,ot.y)+p(Math.min(1,ot.scale))+r(ot.tx,ot.ty))}),Te&&H(Se,ce),c(ye,ce),Te&&ce.automargin){var we=b.bBox(se.node()),Ee=ce.domain,xe=oe.w*(Ee.x[1]-Ee.x[0]),De=oe.h*(Ee.y[1]-Ee.y[0]),Ve=(.5*xe-ie.r)/oe.w,Ue=(.5*De-ie.r)/oe.h;L.autoMargin(Y,"pie."+ce.uid+".automargin",{xl:Ee.x[0]-Ve,xr:Ee.x[1]+Ve,yb:Ee.y[0]-Ue,yt:Ee.y[1]+Ue,l:Math.max(ie.cx-ie.r-we.left,0),r:Math.max(we.right-(ie.cx+ie.r),0),b:Math.max(we.bottom-(ie.cy+ie.r),0),t:Math.max(ie.cy-ie.r-we.top,0),pad:5})}})});setTimeout(function(){$.selectAll("tspan").each(function(){var J=y.select(this);J.attr("dy")&&J.attr("dy",J.attr("dy"))})},0)}function c(Y,Z){Y.each(function(G){var K=y.select(this);if(!G.labelExtraX&&!G.labelExtraY){K.select("path.textline").remove();return}var oe=K.select("g.slicetext text");G.transform.targetX+=G.labelExtraX,G.transform.targetY+=G.labelExtraY,v.setTransormAndDisplay(oe,G.transform);var $=G.cxFinal+G.pxmid[0],J=G.cyFinal+G.pxmid[1],se="M"+$+","+J,ie=(G.yLabelMax-G.yLabelMin)*(G.pxmid[0]<0?-1:1)/4;if(G.labelExtraX){var ce=G.labelExtraX*G.pxmid[1]/G.pxmid[0],ye=G.yLabelMid+G.labelExtraY-(G.cyFinal+G.pxmid[1]);Math.abs(ce)>Math.abs(ye)?se+="l"+ye*G.pxmid[0]/G.pxmid[1]+","+ye+"H"+($+G.labelExtraX+ie):se+="l"+G.labelExtraX+","+ce+"v"+(ye-ce)+"h"+ie}else se+="V"+(G.yLabelMid+G.labelExtraY)+"h"+ie;v.ensureSingle(K,"path","textline").call(S.stroke,Z.outsidetextfont.color).attr({"stroke-width":Math.min(2,Z.outsidetextfont.size/8),d:se,fill:"none"})})}function o(Y,Z,G){var K=G[0],oe=K.cx,$=K.cy,J=K.trace,se=J.type==="funnelarea";"_hasHoverLabel"in J||(J._hasHoverLabel=!1),"_hasHoverEvent"in J||(J._hasHoverEvent=!1),Y.on("mouseover",function(ie){var ce=Z._fullLayout,ye=Z._fullData[J.index];if(!(Z._dragging||ce.hovermode===!1)){var Se=ye.hoverinfo;if(Array.isArray(Se)&&(Se=i.castHoverinfo({hoverinfo:[l.castOption(Se,ie.pts)],_module:J._module},ce,0)),Se==="all"&&(Se="label+text+value+percent+name"),ye.hovertemplate||Se!=="none"&&Se!=="skip"&&Se){var Te=ie.rInscribed||0,ke=oe+ie.pxmid[0]*(1-Te),we=$+ie.pxmid[1]*(1-Te),Ee=ce.separators,xe=[];if(Se&&Se.indexOf("label")!==-1&&xe.push(ie.label),ie.text=l.castOption(ye.hovertext||ye.text,ie.pts),Se&&Se.indexOf("text")!==-1){var De=ie.text;v.isValidTextValue(De)&&xe.push(De)}ie.value=ie.v,ie.valueLabel=l.formatPieValue(ie.v,Ee),Se&&Se.indexOf("value")!==-1&&xe.push(ie.valueLabel),ie.percent=ie.v/K.vTotal,ie.percentLabel=l.formatPiePercent(ie.percent,Ee),Se&&Se.indexOf("percent")!==-1&&xe.push(ie.percentLabel);var Ve=ye.hoverlabel,Ue=Ve.font,Be=[];i.loneHover({trace:J,x0:ke-Te*K.r,x1:ke+Te*K.r,y:we,_x0:se?oe+ie.TL[0]:ke-Te*K.r,_x1:se?oe+ie.TR[0]:ke+Te*K.r,_y0:se?$+ie.TL[1]:we-Te*K.r,_y1:se?$+ie.BL[1]:we+Te*K.r,text:xe.join("<br>"),name:ye.hovertemplate||Se.indexOf("name")!==-1?ye.name:void 0,idealAlign:ie.pxmid[0]<0?"left":"right",color:l.castOption(Ve.bgcolor,ie.pts)||ie.color,borderColor:l.castOption(Ve.bordercolor,ie.pts),fontFamily:l.castOption(Ue.family,ie.pts),fontSize:l.castOption(Ue.size,ie.pts),fontColor:l.castOption(Ue.color,ie.pts),nameLength:l.castOption(Ve.namelength,ie.pts),textAlign:l.castOption(Ve.align,ie.pts),hovertemplate:l.castOption(ye.hovertemplate,ie.pts),hovertemplateLabels:ie,eventData:[m(ie,ye)]},{container:ce._hoverlayer.node(),outerContainer:ce._paper.node(),gd:Z,inOut_bbox:Be}),ie.bbox=Be[0],J._hasHoverLabel=!0}J._hasHoverEvent=!0,Z.emit("plotly_hover",{points:[m(ie,ye)],event:y.event})}}),Y.on("mouseout",function(ie){var ce=Z._fullLayout,ye=Z._fullData[J.index],Se=y.select(this).datum();J._hasHoverEvent&&(ie.originalEvent=y.event,Z.emit("plotly_unhover",{points:[m(Se,ye)],event:y.event}),J._hasHoverEvent=!1),J._hasHoverLabel&&(i.loneUnhover(ce._hoverlayer.node()),J._hasHoverLabel=!1)}),Y.on("click",function(ie){var ce=Z._fullLayout,ye=Z._fullData[J.index];Z._dragging||ce.hovermode===!1||(Z._hoverdata=[m(ie,ye)],i.click(Z,y.event))})}function d(Y,Z,G){var K=l.castOption(Y.outsidetextfont.color,Z.pts)||l.castOption(Y.textfont.color,Z.pts)||G.color,oe=l.castOption(Y.outsidetextfont.family,Z.pts)||l.castOption(Y.textfont.family,Z.pts)||G.family,$=l.castOption(Y.outsidetextfont.size,Z.pts)||l.castOption(Y.textfont.size,Z.pts)||G.size;return{color:K,family:oe,size:$}}function w(Y,Z,G){var K=l.castOption(Y.insidetextfont.color,Z.pts);!K&&Y._input.textfont&&(K=l.castOption(Y._input.textfont.color,Z.pts));var oe=l.castOption(Y.insidetextfont.family,Z.pts)||l.castOption(Y.textfont.family,Z.pts)||G.family,$=l.castOption(Y.insidetextfont.size,Z.pts)||l.castOption(Y.textfont.size,Z.pts)||G.size;return{color:K||S.contrast(Z.color),family:oe,size:$}}function A(Y,Z){for(var G,K,oe=0;oe<Y.length;oe++)if(G=Y[oe][0],K=G.trace,K.title.text){var $=K.title.text;K._meta&&($=v.templateString($,K._meta));var J=b.tester.append("text").attr("data-notex",1).text($).call(b.font,K.title.font).call(t.convertToTspans,Z),se=b.bBox(J.node(),!0);G.titleBox={width:se.width,height:se.height},J.remove()}}function C(Y,Z,G){var K=G.r||Z.rpx1,oe=Z.rInscribed,$=Z.startangle===Z.stopangle;if($)return{rCenter:1-oe,scale:0,rotate:0,textPosAngle:0};var J=Z.ring,se=J===1&&Math.abs(Z.startangle-Z.stopangle)===Math.PI*2,ie=Z.halfangle,ce=Z.midangle,ye=G.trace.insidetextorientation,Se=ye==="horizontal",Te=ye==="tangential",ke=ye==="radial",we=ye==="auto",Ee=[],xe;if(!we){var De=function(et,qe){if(x(Z,et)){var ft=Math.abs(et-Z.startangle),ht=Math.abs(et-Z.stopangle),dt=ft<ht?ft:ht;qe==="tan"?xe=M(Y,K,J,dt,0):xe=E(Y,K,J,dt,Math.PI/2),xe.textPosAngle=et,Ee.push(xe)}},Ve;if(Se||Te){for(Ve=4;Ve>=-4;Ve-=2)De(Math.PI*Ve,"tan");for(Ve=4;Ve>=-4;Ve-=2)De(Math.PI*(Ve+1),"tan")}if(Se||ke){for(Ve=4;Ve>=-4;Ve-=2)De(Math.PI*(Ve+1.5),"rad");for(Ve=4;Ve>=-4;Ve-=2)De(Math.PI*(Ve+.5),"rad")}}if(se||we||Se){var Ue=Math.sqrt(Y.width*Y.width+Y.height*Y.height);if(xe={scale:oe*K*2/Ue,rCenter:1-oe,rotate:0},xe.textPosAngle=(Z.startangle+Z.stopangle)/2,xe.scale>=1)return xe;Ee.push(xe)}(we||ke)&&(xe=E(Y,K,J,ie,ce),xe.textPosAngle=(Z.startangle+Z.stopangle)/2,Ee.push(xe)),(we||Te)&&(xe=M(Y,K,J,ie,ce),xe.textPosAngle=(Z.startangle+Z.stopangle)/2,Ee.push(xe));for(var Be=0,Xe=0,ot=0;ot<Ee.length;ot++){var ut=Ee[ot].scale;if(Xe<ut&&(Xe=ut,Be=ot),!we&&Xe>=1)break}return Ee[Be]}function x(Y,Z){var G=Y.startangle,K=Y.stopangle;return G>Z&&Z>K||G<Z&&Z<K}function E(Y,Z,G,K,oe){Z=Math.max(0,Z-2*s);var $=Y.width/Y.height,J=T($,K,Z,G);return{scale:J*2/Y.height,rCenter:f($,J/Z),rotate:P(oe)}}function M(Y,Z,G,K,oe){Z=Math.max(0,Z-2*s);var $=Y.height/Y.width,J=T($,K,Z,G);return{scale:J*2/Y.width,rCenter:f($,J/Z),rotate:P(oe+Math.PI/2)}}function f(Y,Z){return Math.cos(Z)-Y*Z}function P(Y){return(180/Math.PI*Y+720)%180-90}function T(Y,Z,G,K){var oe=Y+1/(2*Math.tan(Z));return G*Math.min(1/(Math.sqrt(oe*oe+.5)+oe),K/(Math.sqrt(Y*Y+K/2)+Y))}function z(Y,Z){return Y.v===Z.vTotal&&!Z.trace.hole?1:Math.min(1/(1+1/Math.sin(Y.halfangle)),Y.ring/2)}function _(Y,Z){var G=Z.pxmid[0],K=Z.pxmid[1],oe=Y.width/2,$=Y.height/2;return G<0&&(oe*=-1),K<0&&($*=-1),{scale:1,rCenter:1,rotate:0,x:oe+Math.abs($)*(oe>0?1:-1)/2,y:$/(1+G*G/(K*K)),outside:!0}}function V(Y){var Z=Math.sqrt(Y.titleBox.width*Y.titleBox.width+Y.titleBox.height*Y.titleBox.height);return{x:Y.cx,y:Y.cy,scale:Y.trace.hole*Y.r*2/Z,tx:0,ty:-Y.titleBox.height/2+Y.trace.title.font.size}}function F(Y,Z){var G=1,K=1,oe,$=Y.trace,J={x:Y.cx,y:Y.cy},se={tx:0,ty:0};se.ty+=$.title.font.size,oe=I($),$.title.position.indexOf("top")!==-1?(J.y-=(1+oe)*Y.r,se.ty-=Y.titleBox.height):$.title.position.indexOf("bottom")!==-1&&(J.y+=(1+oe)*Y.r);var ie=N(Y.r,Y.trace.aspectratio),ce=Z.w*($.domain.x[1]-$.domain.x[0])/2;return $.title.position.indexOf("left")!==-1?(ce=ce+ie,J.x-=(1+oe)*ie,se.tx+=Y.titleBox.width/2):$.title.position.indexOf("center")!==-1?ce*=2:$.title.position.indexOf("right")!==-1&&(ce=ce+ie,J.x+=(1+oe)*ie,se.tx-=Y.titleBox.width/2),G=ce/Y.titleBox.width,K=k(Y,Z)/Y.titleBox.height,{x:J.x,y:J.y,scale:Math.min(G,K),tx:se.tx,ty:se.ty}}function N(Y,Z){return Y/(Z===void 0?1:Z)}function k(Y,Z){var G=Y.trace,K=Z.h*(G.domain.y[1]-G.domain.y[0]);return Math.min(Y.titleBox.height,K/2)}function I(Y){var Z=Y.pull;if(!Z)return 0;var G;if(v.isArrayOrTypedArray(Z))for(Z=0,G=0;G<Y.pull.length;G++)Y.pull[G]>Z&&(Z=Y.pull[G]);return Z}function H(Y,Z){var G,K,oe,$,J,se,ie,ce,ye,Se,Te,ke,we;function Ee(Ue,Be){return Ue.pxmid[1]-Be.pxmid[1]}function xe(Ue,Be){return Be.pxmid[1]-Ue.pxmid[1]}function De(Ue,Be){Be||(Be={});var Xe=Be.labelExtraY+(K?Be.yLabelMax:Be.yLabelMin),ot=K?Ue.yLabelMin:Ue.yLabelMax,ut=K?Ue.yLabelMax:Ue.yLabelMin,et=Ue.cyFinal+J(Ue.px0[1],Ue.px1[1]),qe=Xe-ot,ft,ht,dt,mt,St,rt;if(qe*ie>0&&(Ue.labelExtraY=qe),!!v.isArrayOrTypedArray(Z.pull))for(ht=0;ht<Se.length;ht++)dt=Se[ht],!(dt===Ue||(l.castOption(Z.pull,Ue.pts)||0)>=(l.castOption(Z.pull,dt.pts)||0))&&((Ue.pxmid[1]-dt.pxmid[1])*ie>0?(mt=dt.cyFinal+J(dt.px0[1],dt.px1[1]),qe=mt-ot-Ue.labelExtraY,qe*ie>0&&(Ue.labelExtraY+=qe)):(ut+Ue.labelExtraY-et)*ie>0&&(ft=3*se*Math.abs(ht-Se.indexOf(Ue)),St=dt.cxFinal+$(dt.px0[0],dt.px1[0]),rt=St+ft-(Ue.cxFinal+Ue.pxmid[0])-Ue.labelExtraX,rt*se>0&&(Ue.labelExtraX+=rt)))}for(K=0;K<2;K++)for(oe=K?Ee:xe,J=K?Math.max:Math.min,ie=K?1:-1,G=0;G<2;G++){for($=G?Math.max:Math.min,se=G?1:-1,ce=Y[K][G],ce.sort(oe),ye=Y[1-K][G],Se=ye.concat(ce),ke=[],Te=0;Te<ce.length;Te++)ce[Te].yLabelMid!==void 0&&ke.push(ce[Te]);for(we=!1,Te=0;K&&Te<ye.length;Te++)if(ye[Te].yLabelMid!==void 0){we=ye[Te];break}for(Te=0;Te<ke.length;Te++){var Ve=Te&&ke[Te-1];we&&!Te&&(Ve=we),De(ke[Te],Ve)}}}function j(Y,Z){for(var G=[],K=0;K<Y.length;K++){var oe=Y[K][0],$=oe.trace,J=$.domain,se=Z.w*(J.x[1]-J.x[0]),ie=Z.h*(J.y[1]-J.y[0]);$.title.text&&$.title.position!=="middle center"&&(ie-=k(oe,Z));var ce=se/2,ye=ie/2;$.type==="funnelarea"&&!$.scalegroup&&(ye/=$.aspectratio),oe.r=Math.min(ce,ye)/(1+I($)),oe.cx=Z.l+Z.w*($.domain.x[1]+$.domain.x[0])/2,oe.cy=Z.t+Z.h*(1-$.domain.y[0])-ie/2,$.title.text&&$.title.position.indexOf("bottom")!==-1&&(oe.cy-=k(oe,Z)),$.scalegroup&&G.indexOf($.scalegroup)===-1&&G.push($.scalegroup)}ee(Y,G)}function ee(Y,Z){for(var G,K,oe,$=0;$<Z.length;$++){var J=1/0,se=Z[$];for(K=0;K<Y.length;K++)if(G=Y[K][0],oe=G.trace,oe.scalegroup===se){var ie;if(oe.type==="pie")ie=G.r*G.r;else if(oe.type==="funnelarea"){var ce,ye;oe.aspectratio>1?(ce=G.r,ye=ce/oe.aspectratio):(ye=G.r,ce=ye*oe.aspectratio),ce*=(1+oe.baseratio)/2,ie=ce*ye}J=Math.min(J,ie/G.vTotal)}for(K=0;K<Y.length;K++)if(G=Y[K][0],oe=G.trace,oe.scalegroup===se){var Se=J*G.vTotal;oe.type==="funnelarea"&&(Se/=(1+oe.baseratio)/2,Se/=oe.aspectratio),G.r=Math.sqrt(Se)}}}function te(Y){var Z=Y[0],G=Z.r,K=Z.trace,oe=l.getRotationAngle(K.rotation),$=2*Math.PI/Z.vTotal,J="px0",se="px1",ie,ce,ye;if(K.direction==="counterclockwise"){for(ie=0;ie<Y.length&&Y[ie].hidden;ie++);if(ie===Y.length)return;oe+=$*Y[ie].v,$*=-1,J="px1",se="px0"}for(ye=ne(G,oe),ie=0;ie<Y.length;ie++)ce=Y[ie],!ce.hidden&&(ce[J]=ye,ce.startangle=oe,oe+=$*ce.v/2,ce.pxmid=ne(G,oe),ce.midangle=oe,oe+=$*ce.v/2,ye=ne(G,oe),ce.stopangle=oe,ce[se]=ye,ce.largeArc=ce.v>Z.vTotal/2?1:0,ce.halfangle=Math.PI*Math.min(ce.v/Z.vTotal,.5),ce.ring=1-K.hole,ce.rInscribed=z(ce,Z))}function ne(Y,Z){return[Y*Math.sin(Z),-Y*Math.cos(Z)]}function ue(Y,Z,G){var K=Y._fullLayout,oe=G.trace,$=oe.texttemplate,J=oe.textinfo;if(!$&&J&&J!=="none"){var se=J.split("+"),ie=function(Be){return se.indexOf(Be)!==-1},ce=ie("label"),ye=ie("text"),Se=ie("value"),Te=ie("percent"),ke=K.separators,we;if(we=ce?[Z.label]:[],ye){var Ee=l.getFirstFilled(oe.text,Z.pts);h(Ee)&&we.push(Ee)}Se&&we.push(l.formatPieValue(Z.v,ke)),Te&&we.push(l.formatPiePercent(Z.v/G.vTotal,ke)),Z.text=we.join("<br>")}function xe(Be){return{label:Be.label,value:Be.v,valueLabel:l.formatPieValue(Be.v,K.separators),percent:Be.v/G.vTotal,percentLabel:l.formatPiePercent(Be.v/G.vTotal,K.separators),color:Be.color,text:Be.text,customdata:v.castOption(oe,Be.i,"customdata")}}if($){var De=v.castOption(oe,Z.i,"texttemplate");if(!De)Z.text="";else{var Ve=xe(Z),Ue=l.getFirstFilled(oe.text,Z.pts);(h(Ue)||Ue==="")&&(Ve.text=Ue),Z.text=v.texttemplateString(De,Ve,Y._fullLayout._d3locale,Ve,oe._meta||{})}}}function q(Y,Z){var G=Y.rotate*Math.PI/180,K=Math.cos(G),oe=Math.sin(G),$=(Z.left+Z.right)/2,J=(Z.top+Z.bottom)/2;Y.textX=$*K-J*oe,Y.textY=$*oe+J*K,Y.noCenter=!0}U.exports={plot:g,formatSliceLabel:ue,transformInsideText:C,determineInsideTextFont:w,positionTitleOutside:F,prerenderTitles:A,layoutAreas:j,attachFxHandlers:o,computeTransform:q}},22152:function(U,B,e){var y=e(33428),L=e(10528),i=e(82744).resizeText;U.exports=function(b){var v=b._fullLayout._pielayer.selectAll(".trace");i(b,v,"pie"),v.each(function(p){var r=p[0],t=r.trace,a=y.select(this);a.style({opacity:t.opacity}),a.selectAll("path.surface").each(function(n){y.select(this).call(L,n,t,b)})})}},10528:function(U,B,e){var y=e(76308),L=e(69656).castOption,i=e(21552);U.exports=function(b,v,p,r){var t=p.marker.line,a=L(t.color,v.pts)||y.defaultLine,n=L(t.width,v.pts)||0;b.call(i,v,p,r).style("stroke-width",n).call(y.stroke,a)}},35484:function(U,B,e){var y=e(52904);U.exports={x:y.x,y:y.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:y.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(U,B,e){var y=e(67792).gl_pointcloud2d,L=e(3400).isArrayOrTypedArray,i=e(43080),S=e(19280).findExtremes,b=e(44928);function v(t,a){this.scene=t,this.uid=a,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=y(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var p=v.prototype;p.handlePick=function(t){var a=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[a*2],this.pickXYData[a*2+1]]:[this.pickXData[a],this.pickYData[a]],textLabel:L(this.textLabels)?this.textLabels[a]:this.textLabels,color:this.color,name:this.name,pointIndex:a,hoverinfo:this.hoverinfo}},p.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=b(t,{})},p.updateFast=function(t){var a=this.xData=this.pickXData=t.x,n=this.yData=this.pickYData=t.y,u=this.pickXYData=t.xy,s=t.xbounds&&t.ybounds,l=t.indices,m,h,g,c=this.bounds,o,d,w;if(u){if(g=u,m=u.length>>>1,s)c[0]=t.xbounds[0],c[2]=t.xbounds[1],c[1]=t.ybounds[0],c[3]=t.ybounds[1];else for(w=0;w<m;w++)o=g[w*2],d=g[w*2+1],o<c[0]&&(c[0]=o),o>c[2]&&(c[2]=o),d<c[1]&&(c[1]=d),d>c[3]&&(c[3]=d);if(l)h=l;else for(h=new Int32Array(m),w=0;w<m;w++)h[w]=w}else for(m=a.length,g=new Float32Array(2*m),h=new Int32Array(m),w=0;w<m;w++)o=a[w],d=n[w],h[w]=w,g[w*2]=o,g[w*2+1]=d,o<c[0]&&(c[0]=o),o>c[2]&&(c[2]=o),d<c[1]&&(c[1]=d),d>c[3]&&(c[3]=d);this.idToIndex=h,this.pointcloudOptions.idToIndex=h,this.pointcloudOptions.positions=g;var A=i(t.marker.color),C=i(t.marker.border.color),x=t.opacity*t.marker.opacity;A[3]*=x,this.pointcloudOptions.color=A;var E=t.marker.blend;if(E===null){var M=100;E=a.length<M||n.length<M}this.pointcloudOptions.blend=E,C[3]*=x,this.pointcloudOptions.borderColor=C;var f=t.marker.sizemin,P=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=f,this.pointcloudOptions.sizeMax=P,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var T=this.scene.xaxis,z=this.scene.yaxis,_=P/2||.5;t._extremes[T._id]=S(T,[c[0],c[2]],{ppad:_}),t._extremes[z._id]=S(z,[c[1],c[3]],{ppad:_})},p.dispose=function(){this.pointcloud.dispose()};function r(t,a){var n=new v(t,a.uid);return n.update(a),n}U.exports=r},41904:function(U,B,e){var y=e(3400),L=e(35484);U.exports=function(S,b,v){function p(r,t){return y.coerce(S,b,L,r,t)}p("x"),p("y"),p("xbounds"),p("ybounds"),S.xy&&S.xy instanceof Float32Array&&(b.xy=S.xy),S.indices&&S.indices instanceof Int32Array&&(b.indices=S.indices),p("text"),p("marker.color",v),p("marker.opacity"),p("marker.blend"),p("marker.sizemin"),p("marker.sizemax"),p("marker.border.color",v),p("marker.border.arearatio"),b._length=null}},156:function(U,B,e){U.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(U,B,e){var y=e(25376),L=e(45464),i=e(22548),S=e(55756),b=e(86968).u,v=e(21776).Ks,p=e(49084),r=e(31780).templatedArray,t=e(29736).descriptionOnlyNumbers,a=e(92880).extendFlat,n=e(67824).overrideAll,u=U.exports=n({hoverinfo:a({},L.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:S.hoverlabel,domain:b({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:t("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:y({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:S.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:S.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:a(p().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");u.transforms=void 0},10760:function(U,B,e){var y=e(67824).overrideAll,L=e(84888)._M,i=e(59596),S=e(65460),b=e(93972),v=e(86476),p=e(22676).prepSelect,r=e(3400),t=e(24040),a="sankey";B.name=a,B.baseLayoutAttrOverrides=y({hoverlabel:S.hoverlabel},"plot","nested"),B.plot=function(u){var s=L(u.calcdata,a)[0];i(u,s),B.updateFx(u)},B.clean=function(u,s,l,m){var h=m._has&&m._has(a),g=s._has&&s._has(a);h&&!g&&(m._paperdiv.selectAll(".sankey").remove(),m._paperdiv.selectAll(".bgsankey").remove())},B.updateFx=function(u){for(var s=0;s<u._fullData.length;s++)n(u,s)};function n(u,s){var l=u._fullData[s],m=u._fullLayout,h=m.dragmode,g=m.dragmode==="pan"?"move":"crosshair",c=l._bgRect;if(c&&!(h==="pan"||h==="zoom")){b(c,g);var o={_id:"x",c2p:r.identity,_offset:l._sankey.translateX,_length:l._sankey.width},d={_id:"y",c2p:r.identity,_offset:l._sankey.translateY,_length:l._sankey.height},w={gd:u,element:c.node(),plotinfo:{id:s,xaxis:o,yaxis:d,fillRangeItems:r.noop},subplot:s,xaxes:[o],yaxes:[d],doneFnCompleted:function(A){var C=u._fullData[s],x,E=C.node.groups.slice(),M=[];function f(_){for(var V=C._sankey.graph.nodes,F=0;F<V.length;F++)if(V[F].pointNumber===_)return V[F]}for(var P=0;P<A.length;P++){var T=f(A[P].pointNumber);if(T)if(T.group){for(var z=0;z<T.childrenNodes.length;z++)M.push(T.childrenNodes[z].pointNumber);E[T.pointNumber-C.node._count]=!1}else M.push(T.pointNumber)}x=E.filter(Boolean).concat([M]),t.call("_guiRestyle",u,{"node.groups":[x]},s)}};w.prepFn=function(A,C,x){p(A,C,x,w,h)},v.init(w)}}},48068:function(U,B,e){var y=e(78484),L=e(3400),i=e(71688).wrap,S=L.isArrayOrTypedArray,b=L.isIndex,v=e(8932);function p(t){var a=t.node,n=t.link,u=[],s=S(n.color),l=S(n.hovercolor),m=S(n.customdata),h={},g={},c=n.colorscales.length,o;for(o=0;o<c;o++){var d=n.colorscales[o],w=v.extractScale(d,{cLetter:"c"}),A=v.makeColorScaleFunc(w);g[d.label]=A}var C=0;for(o=0;o<n.value.length;o++)n.source[o]>C&&(C=n.source[o]),n.target[o]>C&&(C=n.target[o]);var x=C+1;t.node._count=x;var E,M=t.node.groups,f={};for(o=0;o<M.length;o++){var P=M[o];for(E=0;E<P.length;E++){var T=P[E],z=x+o;f.hasOwnProperty(T)?L.warn("Node "+T+" is already part of a group."):f[T]=z}}var _={source:[],target:[]};for(o=0;o<n.value.length;o++){var V=n.value[o],F=n.source[o],N=n.target[o];if(V>0&&b(F,x)&&b(N,x)&&!(f.hasOwnProperty(F)&&f.hasOwnProperty(N)&&f[F]===f[N])){f.hasOwnProperty(N)&&(N=f[N]),f.hasOwnProperty(F)&&(F=f[F]),F=+F,N=+N,h[F]=h[N]=!0;var k="";n.label&&n.label[o]&&(k=n.label[o]);var I=null;k&&g.hasOwnProperty(k)&&(I=g[k]),u.push({pointNumber:o,label:k,color:s?n.color[o]:n.color,hovercolor:l?n.hovercolor[o]:n.hovercolor,customdata:m?n.customdata[o]:n.customdata,concentrationscale:I,source:F,target:N,value:+V}),_.source.push(F),_.target.push(N)}}var H=x+M.length,j=S(a.color),ee=S(a.customdata),te=[];for(o=0;o<H;o++)if(h[o]){var ne=a.label[o];te.push({group:o>x-1,childrenNodes:[],pointNumber:o,label:ne,color:j?a.color[o]:a.color,customdata:ee?a.customdata[o]:a.customdata})}var ue=!1;return r(H,_.source,_.target)&&(ue=!0),{circular:ue,links:u,nodes:te,groups:M,groupLookup:f}}function r(t,a,n){for(var u=L.init2dArray(t,0),s=0;s<Math.min(a.length,n.length);s++)if(L.isIndex(a[s],t)&&L.isIndex(n[s],t)){if(a[s]===n[s])return!0;u[a[s]].push(n[s])}var l=y(u);return l.components.some(function(m){return m.length>1})}U.exports=function(a,n){var u=p(n);return i({circular:u.circular,_nodes:u.nodes,_links:u.links,_groups:u.groups,_groupLookup:u.groupLookup})}},11820:function(U){U.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(U,B,e){var y=e(3400),L=e(41440),i=e(76308),S=e(49760),b=e(86968).Q,v=e(16132),p=e(31780),r=e(51272);U.exports=function(n,u,s,l){function m(z,_){return y.coerce(n,u,L,z,_)}var h=y.extendDeep(l.hoverlabel,n.hoverlabel),g=n.node,c=p.newContainer(u,"node");function o(z,_){return y.coerce(g,c,L.node,z,_)}o("label"),o("groups"),o("x"),o("y"),o("pad"),o("thickness"),o("line.color"),o("line.width"),o("hoverinfo",n.hoverinfo),v(g,c,o,h),o("hovertemplate"),o("align");var d=l.colorway,w=function(z){return d[z%d.length]};o("color",c.label.map(function(z,_){return i.addOpacity(w(_),.8)})),o("customdata");var A=n.link||{},C=p.newContainer(u,"link");function x(z,_){return y.coerce(A,C,L.link,z,_)}x("label"),x("arrowlen"),x("source"),x("target"),x("value"),x("line.color"),x("line.width"),x("hoverinfo",n.hoverinfo),v(A,C,x,h),x("hovertemplate");var E=S(l.paper_bgcolor).getLuminance()<.333,M=E?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)",f=x("color",M);function P(z){var _=S(z);if(!_.isValid())return z;var V=_.getAlpha();return V<=.8?_.setAlpha(V+.2):_=E?_.brighten():_.darken(),_.toRgbString()}x("hovercolor",Array.isArray(f)?f.map(P):P(f)),x("customdata"),r(A,C,{name:"colorscales",handleItemDefaults:t}),b(u,l,m),m("orientation"),m("valueformat"),m("valuesuffix");var T;c.x.length&&c.y.length&&(T="freeform"),m("arrangement",T),y.coerceFont(m,"textfont",y.extendFlat({},l.font)),u._length=null};function t(a,n){function u(s,l){return y.coerce(a,n,L.link.colorscales,s,l)}u("label"),u("cmin"),u("cmax"),u("colorscale")}},45499:function(U,B,e){U.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(U,B,e){var y=e(33428),L=e(3400),i=L.numberFormat,S=e(83248),b=e(93024),v=e(76308),p=e(11820).cn,r=L._;function t(d){return d!==""}function a(d,w){return d.filter(function(A){return A.key===w.traceId})}function n(d,w){y.select(d).select("path").style("fill-opacity",w),y.select(d).select("rect").style("fill-opacity",w)}function u(d){y.select(d).select("text.name").style("fill","black")}function s(d){return function(w){return d.node.sourceLinks.indexOf(w.link)!==-1||d.node.targetLinks.indexOf(w.link)!==-1}}function l(d){return function(w){return w.node.sourceLinks.indexOf(d.link)!==-1||w.node.targetLinks.indexOf(d.link)!==-1}}function m(d,w,A){w&&A&&a(A,w).selectAll("."+p.sankeyLink).filter(s(w)).call(g.bind(0,w,A,!1))}function h(d,w,A){w&&A&&a(A,w).selectAll("."+p.sankeyLink).filter(s(w)).call(c.bind(0,w,A,!1))}function g(d,w,A,C){C.style("fill",function(x){if(!x.link.concentrationscale)return x.tinyColorHoverHue}).style("fill-opacity",function(x){if(!x.link.concentrationscale)return x.tinyColorHoverAlpha}),C.each(function(x){var E=x.link.label;E!==""&&a(w,d).selectAll("."+p.sankeyLink).filter(function(M){return M.link.label===E}).style("fill",function(M){if(!M.link.concentrationscale)return M.tinyColorHoverHue}).style("fill-opacity",function(M){if(!M.link.concentrationscale)return M.tinyColorHoverAlpha})}),A&&a(w,d).selectAll("."+p.sankeyNode).filter(l(d)).call(m)}function c(d,w,A,C){C.style("fill",function(x){return x.tinyColorHue}).style("fill-opacity",function(x){return x.tinyColorAlpha}),C.each(function(x){var E=x.link.label;E!==""&&a(w,d).selectAll("."+p.sankeyLink).filter(function(M){return M.link.label===E}).style("fill",function(M){return M.tinyColorHue}).style("fill-opacity",function(M){return M.tinyColorAlpha})}),A&&a(w,d).selectAll(p.sankeyNode).filter(l(d)).call(h)}function o(d,w){var A=d.hoverlabel||{},C=L.nestedProperty(A,w).get();return Array.isArray(C)?!1:C}U.exports=function(w,A){for(var C=w._fullLayout,x=C._paper,E=C._size,M=0;M<w._fullData.length;M++)if(w._fullData[M].visible&&w._fullData[M].type===p.sankey&&!w._fullData[M]._viewInitial){var f=w._fullData[M].node;w._fullData[M]._viewInitial={node:{groups:f.groups.slice(),x:f.x.slice(),y:f.y.slice()}}}var P=function(ne,ue){var q=ue.link;q.originalEvent=y.event,w._hoverdata=[q],b.click(w,{target:!0})},T=function(ne,ue,q){w._fullLayout.hovermode!==!1&&(y.select(ne).call(g.bind(0,ue,q,!0)),ue.link.trace.link.hoverinfo!=="skip"&&(ue.link.fullData=ue.link.trace,w.emit("plotly_hover",{event:y.event,points:[ue.link]})))},z=r(w,"source:")+" ",_=r(w,"target:")+" ",V=r(w,"concentration:")+" ",F=r(w,"incoming flow count:")+" ",N=r(w,"outgoing flow count:")+" ",k=function(ne,ue){if(w._fullLayout.hovermode===!1)return;var q=ue.link.trace.link;if(q.hoverinfo==="none"||q.hoverinfo==="skip")return;var Y=[];function Z(ie){var ce,ye;ie.circular?(ce=(ie.circularPathData.leftInnerExtent+ie.circularPathData.rightInnerExtent)/2,ye=ie.circularPathData.verticalFullExtent):(ce=(ie.source.x1+ie.target.x0)/2,ye=(ie.y0+ie.y1)/2);var Se=[ce,ye];return ie.trace.orientation==="v"&&Se.reverse(),Se[0]+=ue.parent.translateX,Se[1]+=ue.parent.translateY,Se}for(var G=0,K=0;K<ue.flow.links.length;K++){var oe=ue.flow.links[K];if(!(w._fullLayout.hovermode==="closest"&&ue.link.pointNumber!==oe.pointNumber)){ue.link.pointNumber===oe.pointNumber&&(G=K),oe.fullData=oe.trace,q=ue.link.trace.link;var $=Z(oe),J={valueLabel:i(ue.valueFormat)(oe.value)+ue.valueSuffix};Y.push({x:$[0],y:$[1],name:J.valueLabel,text:[oe.label||"",z+oe.source.label,_+oe.target.label,oe.concentrationscale?V+i("%0.2f")(oe.flow.labelConcentration):""].filter(t).join("<br>"),color:o(q,"bgcolor")||v.addOpacity(oe.color,1),borderColor:o(q,"bordercolor"),fontFamily:o(q,"font.family"),fontSize:o(q,"font.size"),fontColor:o(q,"font.color"),nameLength:o(q,"namelength"),textAlign:o(q,"align"),idealAlign:y.event.x<$[0]?"right":"left",hovertemplate:q.hovertemplate,hovertemplateLabels:J,eventData:[oe]})}}var se=b.loneHover(Y,{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:w,anchorIndex:G});se.each(function(){var ie=this;ue.link.concentrationscale||n(ie,.65),u(ie)})},I=function(ne,ue,q){w._fullLayout.hovermode!==!1&&(y.select(ne).call(c.bind(0,ue,q,!0)),ue.link.trace.link.hoverinfo!=="skip"&&(ue.link.fullData=ue.link.trace,w.emit("plotly_unhover",{event:y.event,points:[ue.link]})),b.loneUnhover(C._hoverlayer.node()))},H=function(ne,ue,q){var Y=ue.node;Y.originalEvent=y.event,w._hoverdata=[Y],y.select(ne).call(h,ue,q),b.click(w,{target:!0})},j=function(ne,ue,q){w._fullLayout.hovermode!==!1&&(y.select(ne).call(m,ue,q),ue.node.trace.node.hoverinfo!=="skip"&&(ue.node.fullData=ue.node.trace,w.emit("plotly_hover",{event:y.event,points:[ue.node]})))},ee=function(ne,ue){if(w._fullLayout.hovermode!==!1){var q=ue.node.trace.node;if(!(q.hoverinfo==="none"||q.hoverinfo==="skip")){var Y=y.select(ne).select("."+p.nodeRect),Z=w._fullLayout._paperdiv.node().getBoundingClientRect(),G=Y.node().getBoundingClientRect(),K=G.left-2-Z.left,oe=G.right+2-Z.left,$=G.top+G.height/4-Z.top,J={valueLabel:i(ue.valueFormat)(ue.node.value)+ue.valueSuffix};ue.node.fullData=ue.node.trace,w._fullLayout._calcInverseTransform(w);var se=w._fullLayout._invScaleX,ie=w._fullLayout._invScaleY,ce=b.loneHover({x0:se*K,x1:se*oe,y:ie*$,name:i(ue.valueFormat)(ue.node.value)+ue.valueSuffix,text:[ue.node.label,F+ue.node.targetLinks.length,N+ue.node.sourceLinks.length].filter(t).join("<br>"),color:o(q,"bgcolor")||ue.tinyColorHue,borderColor:o(q,"bordercolor"),fontFamily:o(q,"font.family"),fontSize:o(q,"font.size"),fontColor:o(q,"font.color"),nameLength:o(q,"namelength"),textAlign:o(q,"align"),idealAlign:"left",hovertemplate:q.hovertemplate,hovertemplateLabels:J,eventData:[ue.node]},{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:w});n(ce,.85),u(ce)}}},te=function(ne,ue,q){w._fullLayout.hovermode!==!1&&(y.select(ne).call(h,ue,q),ue.node.trace.node.hoverinfo!=="skip"&&(ue.node.fullData=ue.node.trace,w.emit("plotly_unhover",{event:y.event,points:[ue.node]})),b.loneUnhover(C._hoverlayer.node()))};S(w,x,A,{width:E.w,height:E.h,margin:{t:E.t,r:E.r,b:E.b,l:E.l}},{linkEvents:{hover:T,follow:k,unhover:I,select:P},nodeEvents:{hover:j,follow:ee,unhover:te,select:H}})}},83248:function(U,B,e){var y=e(49812),L=e(67756).Gz,i=e(33428),S=e(26800),b=e(48932),v=e(11820),p=e(49760),r=e(76308),t=e(43616),a=e(3400),n=a.strTranslate,u=a.strRotate,s=e(71688),l=s.keyFun,m=s.repeat,h=s.unwrap,g=e(72736),c=e(24040),o=e(84284),d=o.CAP_SHIFT,w=o.LINE_SPACING,A=3;function C(Z,G,K){var oe=h(G),$=oe.trace,J=$.domain,se=$.orientation==="h",ie=$.node.pad,ce=$.node.thickness,ye={justify:S.sankeyJustify,left:S.sankeyLeft,right:S.sankeyRight,center:S.sankeyCenter}[$.node.align],Se=Z.width*(J.x[1]-J.x[0]),Te=Z.height*(J.y[1]-J.y[0]),ke=oe._nodes,we=oe._links,Ee=oe.circular,xe;Ee?xe=b.sankeyCircular().circularLinkGap(0):xe=S.sankey(),xe.iterations(v.sankeyIterations).size(se?[Se,Te]:[Te,Se]).nodeWidth(ce).nodePadding(ie).nodeId(function(rt){return rt.pointNumber}).nodeAlign(ye).nodes(ke).links(we);var De=xe();xe.nodePadding()<ie&&a.warn("node.pad was reduced to ",xe.nodePadding()," to fit within the figure.");var Ve,Ue,Be;for(var Xe in oe._groupLookup){var ot=parseInt(oe._groupLookup[Xe]),ut;for(Ve=0;Ve<De.nodes.length;Ve++)if(De.nodes[Ve].pointNumber===ot){ut=De.nodes[Ve];break}if(ut){var et={pointNumber:parseInt(Xe),x0:ut.x0,x1:ut.x1,y0:ut.y0,y1:ut.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};De.nodes.unshift(et),ut.childrenNodes.unshift(et)}}function qe(){for(Ve=0;Ve<De.nodes.length;Ve++){var rt=De.nodes[Ve],Oe={},Ye,Ze;for(Ue=0;Ue<rt.targetLinks.length;Ue++)Ze=rt.targetLinks[Ue],Ye=Ze.source.pointNumber+":"+Ze.target.pointNumber,Oe.hasOwnProperty(Ye)||(Oe[Ye]=[]),Oe[Ye].push(Ze);var Ge=Object.keys(Oe);for(Ue=0;Ue<Ge.length;Ue++){Ye=Ge[Ue];var _e=Oe[Ye],be=0,me={};for(Be=0;Be<_e.length;Be++)Ze=_e[Be],me[Ze.label]||(me[Ze.label]=0),me[Ze.label]+=Ze.value,be+=Ze.value;for(Be=0;Be<_e.length;Be++)Ze=_e[Be],Ze.flow={value:be,labelConcentration:me[Ze.label]/be,concentration:Ze.value/be,links:_e},Ze.concentrationscale&&(Ze.color=p(Ze.concentrationscale(Ze.flow.labelConcentration)))}var Ce=0;for(Ue=0;Ue<rt.sourceLinks.length;Ue++)Ce+=rt.sourceLinks[Ue].value;for(Ue=0;Ue<rt.sourceLinks.length;Ue++)Ze=rt.sourceLinks[Ue],Ze.concentrationOut=Ze.value/Ce;var Me=0;for(Ue=0;Ue<rt.targetLinks.length;Ue++)Me+=rt.targetLinks[Ue].value;for(Ue=0;Ue<rt.targetLinks.length;Ue++)Ze=rt.targetLinks[Ue],Ze.concenrationIn=Ze.value/Me}}qe();function ft(rt){rt.forEach(function(Oe){var Ye,Ze,Ge=0,_e=Oe.length,be;for(Oe.sort(function(me,Ce){return me.y0-Ce.y0}),be=0;be<_e;++be)Ye=Oe[be],Ye.y0>=Ge||(Ze=Ge-Ye.y0,Ze>1e-6&&(Ye.y0+=Ze,Ye.y1+=Ze)),Ge=Ye.y1+ie})}function ht(rt){var Oe=rt.map(function(Ce,Me){return{x0:Ce.x0,index:Me}}).sort(function(Ce,Me){return Ce.x0-Me.x0}),Ye=[],Ze=-1,Ge,_e=-1/0,be;for(Ve=0;Ve<Oe.length;Ve++){var me=rt[Oe[Ve].index];me.x0>_e+ce&&(Ze+=1,Ge=me.x0),_e=me.x0,Ye[Ze]||(Ye[Ze]=[]),Ye[Ze].push(me),be=Ge-me.x0,me.x0+=be,me.x1+=be}return Ye}if($.node.x.length&&$.node.y.length){for(Ve=0;Ve<Math.min($.node.x.length,$.node.y.length,De.nodes.length);Ve++)if($.node.x[Ve]&&$.node.y[Ve]){var dt=[$.node.x[Ve]*Se,$.node.y[Ve]*Te];De.nodes[Ve].x0=dt[0]-ce/2,De.nodes[Ve].x1=dt[0]+ce/2;var mt=De.nodes[Ve].y1-De.nodes[Ve].y0;De.nodes[Ve].y0=dt[1]-mt/2,De.nodes[Ve].y1=dt[1]+mt/2}if($.arrangement==="snap"){ke=De.nodes;var St=ht(ke);ft(St)}xe.update(De)}return{circular:Ee,key:K,trace:$,guid:a.randstr(),horizontal:se,width:Se,height:Te,nodePad:$.node.pad,nodeLineColor:$.node.line.color,nodeLineWidth:$.node.line.width,linkLineColor:$.link.line.color,linkLineWidth:$.link.line.width,linkArrowLength:$.link.arrowlen,valueFormat:$.valueformat,valueSuffix:$.valuesuffix,textFont:$.textfont,translateX:J.x[0]*Z.width+Z.margin.l,translateY:Z.height-J.y[1]*Z.height+Z.margin.t,dragParallel:se?Te:Se,dragPerpendicular:se?Se:Te,arrangement:$.arrangement,sankey:xe,graph:De,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function x(Z,G,K){var oe=p(G.color),$=p(G.hovercolor),J=G.source.label+"|"+G.target.label,se=J+"__"+K;return G.trace=Z.trace,G.curveNumber=Z.trace.index,{circular:Z.circular,key:se,traceId:Z.key,pointNumber:G.pointNumber,link:G,tinyColorHue:r.tinyRGB(oe),tinyColorAlpha:oe.getAlpha(),tinyColorHoverHue:r.tinyRGB($),tinyColorHoverAlpha:$.getAlpha(),linkPath:M,linkLineColor:Z.linkLineColor,linkLineWidth:Z.linkLineWidth,linkArrowLength:Z.linkArrowLength,valueFormat:Z.valueFormat,valueSuffix:Z.valueSuffix,sankey:Z.sankey,parent:Z,interactionState:Z.interactionState,flow:G.flow}}function E(Z,G){var K="",oe=Z.width/2,$=Z.circularPathData;return Z.circularLinkType==="top"?K="M "+($.targetX-G)+" "+($.targetY+oe)+" L"+($.rightInnerExtent-G)+" "+($.targetY+oe)+"A"+($.rightLargeArcRadius+oe)+" "+($.rightSmallArcRadius+oe)+" 0 0 1 "+($.rightFullExtent-oe-G)+" "+($.targetY-$.rightSmallArcRadius)+"L"+($.rightFullExtent-oe-G)+" "+$.verticalRightInnerExtent+"A"+($.rightLargeArcRadius+oe)+" "+($.rightLargeArcRadius+oe)+" 0 0 1 "+($.rightInnerExtent-G)+" "+($.verticalFullExtent-oe)+"L"+$.leftInnerExtent+" "+($.verticalFullExtent-oe)+"A"+($.leftLargeArcRadius+oe)+" "+($.leftLargeArcRadius+oe)+" 0 0 1 "+($.leftFullExtent+oe)+" "+$.verticalLeftInnerExtent+"L"+($.leftFullExtent+oe)+" "+($.sourceY-$.leftSmallArcRadius)+"A"+($.leftLargeArcRadius+oe)+" "+($.leftSmallArcRadius+oe)+" 0 0 1 "+$.leftInnerExtent+" "+($.sourceY+oe)+"L"+$.sourceX+" "+($.sourceY+oe)+"L"+$.sourceX+" "+($.sourceY-oe)+"L"+$.leftInnerExtent+" "+($.sourceY-oe)+"A"+($.leftLargeArcRadius-oe)+" "+($.leftSmallArcRadius-oe)+" 0 0 0 "+($.leftFullExtent-oe)+" "+($.sourceY-$.leftSmallArcRadius)+"L"+($.leftFullExtent-oe)+" "+$.verticalLeftInnerExtent+"A"+($.leftLargeArcRadius-oe)+" "+($.leftLargeArcRadius-oe)+" 0 0 0 "+$.leftInnerExtent+" "+($.verticalFullExtent+oe)+"L"+($.rightInnerExtent-G)+" "+($.verticalFullExtent+oe)+"A"+($.rightLargeArcRadius-oe)+" "+($.rightLargeArcRadius-oe)+" 0 0 0 "+($.rightFullExtent+oe-G)+" "+$.verticalRightInnerExtent+"L"+($.rightFullExtent+oe-G)+" "+($.targetY-$.rightSmallArcRadius)+"A"+($.rightLargeArcRadius-oe)+" "+($.rightSmallArcRadius-oe)+" 0 0 0 "+($.rightInnerExtent-G)+" "+($.targetY-oe)+"L"+($.targetX-G)+" "+($.targetY-oe)+(G>0?"L"+$.targetX+" "+$.targetY:"")+"Z":K="M "+($.targetX-G)+" "+($.targetY-oe)+" L"+($.rightInnerExtent-G)+" "+($.targetY-oe)+"A"+($.rightLargeArcRadius+oe)+" "+($.rightSmallArcRadius+oe)+" 0 0 0 "+($.rightFullExtent-oe-G)+" "+($.targetY+$.rightSmallArcRadius)+"L"+($.rightFullExtent-oe-G)+" "+$.verticalRightInnerExtent+"A"+($.rightLargeArcRadius+oe)+" "+($.rightLargeArcRadius+oe)+" 0 0 0 "+($.rightInnerExtent-G)+" "+($.verticalFullExtent+oe)+"L"+$.leftInnerExtent+" "+($.verticalFullExtent+oe)+"A"+($.leftLargeArcRadius+oe)+" "+($.leftLargeArcRadius+oe)+" 0 0 0 "+($.leftFullExtent+oe)+" "+$.verticalLeftInnerExtent+"L"+($.leftFullExtent+oe)+" "+($.sourceY+$.leftSmallArcRadius)+"A"+($.leftLargeArcRadius+oe)+" "+($.leftSmallArcRadius+oe)+" 0 0 0 "+$.leftInnerExtent+" "+($.sourceY-oe)+"L"+$.sourceX+" "+($.sourceY-oe)+"L"+$.sourceX+" "+($.sourceY+oe)+"L"+$.leftInnerExtent+" "+($.sourceY+oe)+"A"+($.leftLargeArcRadius-oe)+" "+($.leftSmallArcRadius-oe)+" 0 0 1 "+($.leftFullExtent-oe)+" "+($.sourceY+$.leftSmallArcRadius)+"L"+($.leftFullExtent-oe)+" "+$.verticalLeftInnerExtent+"A"+($.leftLargeArcRadius-oe)+" "+($.leftLargeArcRadius-oe)+" 0 0 1 "+$.leftInnerExtent+" "+($.verticalFullExtent-oe)+"L"+($.rightInnerExtent-G)+" "+($.verticalFullExtent-oe)+"A"+($.rightLargeArcRadius-oe)+" "+($.rightLargeArcRadius-oe)+" 0 0 1 "+($.rightFullExtent+oe-G)+" "+$.verticalRightInnerExtent+"L"+($.rightFullExtent+oe-G)+" "+($.targetY+$.rightSmallArcRadius)+"A"+($.rightLargeArcRadius-oe)+" "+($.rightSmallArcRadius-oe)+" 0 0 1 "+($.rightInnerExtent-G)+" "+($.targetY+oe)+"L"+($.targetX-G)+" "+($.targetY+oe)+(G>0?"L"+$.targetX+" "+$.targetY:"")+"Z",K}function M(){var Z=.5;function G(K){var oe=K.linkArrowLength;if(K.link.circular)return E(K.link,oe);var $=Math.abs((K.link.target.x0-K.link.source.x1)/2);oe>$&&(oe=$);var J=K.link.source.x1,se=K.link.target.x0-oe,ie=L(J,se),ce=ie(Z),ye=ie(1-Z),Se=K.link.y0-K.link.width/2,Te=K.link.y0+K.link.width/2,ke=K.link.y1-K.link.width/2,we=K.link.y1+K.link.width/2,Ee="M"+J+","+Se,xe="C"+ce+","+Se+" "+ye+","+ke+" "+se+","+ke,De="C"+ye+","+we+" "+ce+","+Te+" "+J+","+Te,Ve=oe>0?"L"+(se+oe)+","+(ke+K.link.width/2):"";return Ve+="L"+se+","+we,Ee+xe+Ve+De+"Z"}return G}function f(Z,G){var K=p(G.color),oe=v.nodePadAcross,$=Z.nodePad/2;G.dx=G.x1-G.x0,G.dy=G.y1-G.y0;var J=G.dx,se=Math.max(.5,G.dy),ie="node_"+G.pointNumber;return G.group&&(ie=a.randstr()),G.trace=Z.trace,G.curveNumber=Z.trace.index,{index:G.pointNumber,key:ie,partOfGroup:G.partOfGroup||!1,group:G.group,traceId:Z.key,trace:Z.trace,node:G,nodePad:Z.nodePad,nodeLineColor:Z.nodeLineColor,nodeLineWidth:Z.nodeLineWidth,textFont:Z.textFont,size:Z.horizontal?Z.height:Z.width,visibleWidth:Math.ceil(J),visibleHeight:se,zoneX:-oe,zoneY:-$,zoneWidth:J+2*oe,zoneHeight:se+2*$,labelY:Z.horizontal?G.dy/2+1:G.dx/2+1,left:G.originalLayer===1,sizeAcross:Z.width,forceLayouts:Z.forceLayouts,horizontal:Z.horizontal,darkBackground:K.getBrightness()<=128,tinyColorHue:r.tinyRGB(K),tinyColorAlpha:K.getAlpha(),valueFormat:Z.valueFormat,valueSuffix:Z.valueSuffix,sankey:Z.sankey,graph:Z.graph,arrangement:Z.arrangement,uniqueNodeLabelPathId:[Z.guid,Z.key,ie].join("_"),interactionState:Z.interactionState,figure:Z}}function P(Z){Z.attr("transform",function(G){return n(G.node.x0.toFixed(3),G.node.y0.toFixed(3))})}function T(Z){Z.call(P)}function z(Z,G){Z.call(T),G.attr("d",M())}function _(Z){Z.attr("width",function(G){return G.node.x1-G.node.x0}).attr("height",function(G){return G.visibleHeight})}function V(Z){return Z.link.width>1||Z.linkLineWidth>0}function F(Z){var G=n(Z.translateX,Z.translateY);return G+(Z.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function N(Z,G,K){Z.on(".basic",null).on("mouseover.basic",function(oe){!oe.interactionState.dragInProgress&&!oe.partOfGroup&&(K.hover(this,oe,G),oe.interactionState.hovered=[this,oe])}).on("mousemove.basic",function(oe){!oe.interactionState.dragInProgress&&!oe.partOfGroup&&(K.follow(this,oe),oe.interactionState.hovered=[this,oe])}).on("mouseout.basic",function(oe){!oe.interactionState.dragInProgress&&!oe.partOfGroup&&(K.unhover(this,oe,G),oe.interactionState.hovered=!1)}).on("click.basic",function(oe){oe.interactionState.hovered&&(K.unhover(this,oe,G),oe.interactionState.hovered=!1),!oe.interactionState.dragInProgress&&!oe.partOfGroup&&K.select(this,oe,G)})}function k(Z,G,K,oe){var $=i.behavior.drag().origin(function(J){return{x:J.node.x0+J.visibleWidth/2,y:J.node.y0+J.visibleHeight/2}}).on("dragstart",function(J){if(J.arrangement!=="fixed"&&(a.ensureSingle(oe._fullLayout._infolayer,"g","dragcover",function(ie){oe._fullLayout._dragCover=ie}),a.raiseToTop(this),J.interactionState.dragInProgress=J.node,ne(J.node),J.interactionState.hovered&&(K.nodeEvents.unhover.apply(0,J.interactionState.hovered),J.interactionState.hovered=!1),J.arrangement==="snap")){var se=J.traceId+"|"+J.key;J.forceLayouts[se]?J.forceLayouts[se].alpha(1):I(Z,se,J),H(Z,G,J,se,oe)}}).on("drag",function(J){if(J.arrangement!=="fixed"){var se=i.event.x,ie=i.event.y;J.arrangement==="snap"?(J.node.x0=se-J.visibleWidth/2,J.node.x1=se+J.visibleWidth/2,J.node.y0=ie-J.visibleHeight/2,J.node.y1=ie+J.visibleHeight/2):(J.arrangement==="freeform"&&(J.node.x0=se-J.visibleWidth/2,J.node.x1=se+J.visibleWidth/2),ie=Math.max(0,Math.min(J.size-J.visibleHeight/2,ie)),J.node.y0=ie-J.visibleHeight/2,J.node.y1=ie+J.visibleHeight/2),ne(J.node),J.arrangement!=="snap"&&(J.sankey.update(J.graph),z(Z.filter(ue(J)),G))}}).on("dragend",function(J){if(J.arrangement!=="fixed"){J.interactionState.dragInProgress=!1;for(var se=0;se<J.node.childrenNodes.length;se++)J.node.childrenNodes[se].x=J.node.x,J.node.childrenNodes[se].y=J.node.y;J.arrangement!=="snap"&&ee(J,oe)}});Z.on(".drag",null).call($)}function I(Z,G,K,oe){q(K.graph.nodes);var $=K.graph.nodes.filter(function(J){return J.originalX===K.node.originalX}).filter(function(J){return!J.partOfGroup});K.forceLayouts[G]=y.forceSimulation($).alphaDecay(0).force("collide",y.forceCollide().radius(function(J){return J.dy/2+K.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",j(Z,G,$,K)).stop()}function H(Z,G,K,oe,$){window.requestAnimationFrame(function J(){var se;for(se=0;se<v.forceTicksPerFrame;se++)K.forceLayouts[oe].tick();var ie=K.graph.nodes;if(Y(ie),K.sankey.update(K.graph),z(Z.filter(ue(K)),G),K.forceLayouts[oe].alpha()>0)window.requestAnimationFrame(J);else{var ce=K.node.originalX;K.node.x0=ce-K.visibleWidth/2,K.node.x1=ce+K.visibleWidth/2,ee(K,$)}})}function j(Z,G,K,oe){return function(){for(var J=0,se=0;se<K.length;se++){var ie=K[se];ie===oe.interactionState.dragInProgress?(ie.x=ie.lastDraggedX,ie.y=ie.lastDraggedY):(ie.vx=(ie.originalX-ie.x)/v.forceTicksPerFrame,ie.y=Math.min(oe.size-ie.dy/2,Math.max(ie.dy/2,ie.y))),J=Math.max(J,Math.abs(ie.vx),Math.abs(ie.vy))}!oe.interactionState.dragInProgress&&J<.1&&oe.forceLayouts[G].alpha()>0&&oe.forceLayouts[G].alpha(0)}}function ee(Z,G){for(var K=[],oe=[],$=0;$<Z.graph.nodes.length;$++){var J=(Z.graph.nodes[$].x0+Z.graph.nodes[$].x1)/2,se=(Z.graph.nodes[$].y0+Z.graph.nodes[$].y1)/2;K.push(J/Z.figure.width),oe.push(se/Z.figure.height)}c.call("_guiRestyle",G,{"node.x":[K],"node.y":[oe]},Z.trace.index).then(function(){G._fullLayout._dragCover&&G._fullLayout._dragCover.remove()})}function te(Z){var G=[],K;for(K=0;K<Z.length;K++)Z[K].originalX=(Z[K].x0+Z[K].x1)/2,Z[K].originalY=(Z[K].y0+Z[K].y1)/2,G.indexOf(Z[K].originalX)===-1&&G.push(Z[K].originalX);for(G.sort(function(oe,$){return oe-$}),K=0;K<Z.length;K++)Z[K].originalLayerIndex=G.indexOf(Z[K].originalX),Z[K].originalLayer=Z[K].originalLayerIndex/(G.length-1)}function ne(Z){Z.lastDraggedX=Z.x0+Z.dx/2,Z.lastDraggedY=Z.y0+Z.dy/2}function ue(Z){return function(G){return G.node.originalX===Z.node.originalX}}function q(Z){for(var G=0;G<Z.length;G++)Z[G].y=(Z[G].y0+Z[G].y1)/2,Z[G].x=(Z[G].x0+Z[G].x1)/2}function Y(Z){for(var G=0;G<Z.length;G++)Z[G].y0=Z[G].y-Z[G].dy/2,Z[G].y1=Z[G].y0+Z[G].dy,Z[G].x0=Z[G].x-Z[G].dx/2,Z[G].x1=Z[G].x0+Z[G].dx}U.exports=function(Z,G,K,oe,$){var J=Z._context.staticPlot,se=!1;a.ensureSingle(Z._fullLayout._infolayer,"g","first-render",function(){se=!0});var ie=Z._fullLayout._dragCover,ce=K.filter(function(De){return h(De).trace.visible}).map(C.bind(null,oe)),ye=G.selectAll("."+v.cn.sankey).data(ce,l);ye.exit().remove(),ye.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",J?"none":"auto").attr("transform",F),ye.each(function(De,Ve){Z._fullData[Ve]._sankey=De;var Ue="bgsankey-"+De.trace.uid+"-"+Ve;a.ensureSingle(Z._fullLayout._draggers,"rect",Ue),Z._fullData[Ve]._bgRect=i.select("."+Ue),Z._fullData[Ve]._bgRect.style("pointer-events",J?"none":"all").attr("width",De.width).attr("height",De.height).attr("x",De.translateX).attr("y",De.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ye.transition().ease(v.ease).duration(v.duration).attr("transform",F);var Se=ye.selectAll("."+v.cn.sankeyLinks).data(m,l);Se.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var Te=Se.selectAll("."+v.cn.sankeyLink).data(function(De){var Ve=De.graph.links;return Ve.filter(function(Ue){return Ue.value}).map(x.bind(null,De))},l);Te.enter().append("path").classed(v.cn.sankeyLink,!0).call(N,ye,$.linkEvents),Te.style("stroke",function(De){return V(De)?r.tinyRGB(p(De.linkLineColor)):De.tinyColorHue}).style("stroke-opacity",function(De){return V(De)?r.opacity(De.linkLineColor):De.tinyColorAlpha}).style("fill",function(De){return De.tinyColorHue}).style("fill-opacity",function(De){return De.tinyColorAlpha}).style("stroke-width",function(De){return V(De)?De.linkLineWidth:1}).attr("d",M()),Te.style("opacity",function(){return Z._context.staticPlot||se||ie?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),Te.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var ke=ye.selectAll("."+v.cn.sankeyNodeSet).data(m,l);ke.enter().append("g").classed(v.cn.sankeyNodeSet,!0),ke.style("cursor",function(De){switch(De.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var we=ke.selectAll("."+v.cn.sankeyNode).data(function(De){var Ve=De.graph.nodes;return te(Ve),Ve.map(f.bind(null,De))},l);we.enter().append("g").classed(v.cn.sankeyNode,!0).call(P).style("opacity",function(De){return(Z._context.staticPlot||se)&&!De.partOfGroup?1:0}),we.call(N,ye,$.nodeEvents).call(k,Te,$,Z),we.transition().ease(v.ease).duration(v.duration).call(P).style("opacity",function(De){return De.partOfGroup?0:1}),we.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Ee=we.selectAll("."+v.cn.nodeRect).data(m);Ee.enter().append("rect").classed(v.cn.nodeRect,!0).call(_),Ee.style("stroke-width",function(De){return De.nodeLineWidth}).style("stroke",function(De){return r.tinyRGB(p(De.nodeLineColor))}).style("stroke-opacity",function(De){return r.opacity(De.nodeLineColor)}).style("fill",function(De){return De.tinyColorHue}).style("fill-opacity",function(De){return De.tinyColorAlpha}),Ee.transition().ease(v.ease).duration(v.duration).call(_);var xe=we.selectAll("."+v.cn.nodeLabel).data(m);xe.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),xe.attr("data-notex",1).text(function(De){return De.node.label}).each(function(De){var Ve=i.select(this);t.font(Ve,De.textFont),g.convertToTspans(Ve,Z)}).style("text-shadow",g.makeTextShadow(Z._fullLayout.paper_bgcolor)).attr("text-anchor",function(De){return De.horizontal&&De.left?"end":"start"}).attr("transform",function(De){var Ve=i.select(this),Ue=g.lineCount(Ve),Be=De.textFont.size*((Ue-1)*w-d),Xe=De.nodeLineWidth/2+A,ot=((De.horizontal?De.visibleHeight:De.visibleWidth)-Be)/2;De.horizontal&&(De.left?Xe=-Xe:Xe+=De.visibleWidth);var ut=De.horizontal?"":"scale(-1,1)"+u(90);return n(De.horizontal?Xe:ot,De.horizontal?ot:Xe)+ut}),xe.transition().ease(v.ease).duration(v.duration)}},81128:function(U){U.exports=function(e,y){for(var L=e.cd,i=[],S=L[0].trace,b=S._sankey.graph.nodes,v=0;v<b.length;v++){var p=b[v];if(!p.partOfGroup){var r=[(p.x0+p.x1)/2,(p.y0+p.y1)/2];S.orientation==="v"&&r.reverse(),y&&y.contains(r,!1,v,e)&&i.push({pointNumber:p.pointNumber})}}return i}},20148:function(U,B,e){var y=e(3400);U.exports=function(i,S){for(var b=0;b<i.length;b++)i[b].i=b;y.mergeArray(S.text,i,"tx"),y.mergeArray(S.texttemplate,i,"txt"),y.mergeArray(S.hovertext,i,"htx"),y.mergeArray(S.customdata,i,"data"),y.mergeArray(S.textposition,i,"tp"),S.textfont&&(y.mergeArrayCastPositive(S.textfont.size,i,"ts"),y.mergeArray(S.textfont.color,i,"tc"),y.mergeArray(S.textfont.family,i,"tf"));var v=S.marker;if(v){y.mergeArrayCastPositive(v.size,i,"ms"),y.mergeArrayCastPositive(v.opacity,i,"mo"),y.mergeArray(v.symbol,i,"mx"),y.mergeArray(v.angle,i,"ma"),y.mergeArray(v.standoff,i,"mf"),y.mergeArray(v.color,i,"mc");var p=v.line;v.line&&(y.mergeArray(p.color,i,"mlc"),y.mergeArrayCastPositive(p.width,i,"mlw"));var r=v.gradient;r&&r.type!=="none"&&(y.mergeArray(r.type,i,"mgt"),y.mergeArray(r.color,i,"mgc"))}}},52904:function(U,B,e){var y=e(29736).axisHoverFormat,L=e(21776).Gw,i=e(21776).Ks,S=e(49084),b=e(25376),v=e(98192).u,p=e(98192).c,r=e(43616),t=e(88200),a=e(92880).extendFlat,n=e(98304);function u(m){return{valType:"any",dflt:0,editType:"calc"}}function s(m){return{valType:"any",editType:"calc"}}function l(m){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}U.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:u(),yperiod:u(),xperiod0:s(),yperiod0:s(),xperiodalignment:l(),yperiodalignment:l(),xhoverformat:y("x"),yhoverformat:y("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:L({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:i({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:a({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:n(!0),fillgradient:a({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:p,marker:a({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:a({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},S("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},S("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:b({editType:"calc",colorEditType:"style",arrayOk:!0})}},16356:function(U,B,e){var y=e(38248),L=e(3400),i=e(54460),S=e(1220),b=e(39032).BADNUM,v=e(43028),p=e(90136),r=e(20148),t=e(4500);function a(h,g){var c=h._fullLayout,o=g._xA=i.getFromId(h,g.xaxis||"x","x"),d=g._yA=i.getFromId(h,g.yaxis||"y","y"),w=o.makeCalcdata(g,"x"),A=d.makeCalcdata(g,"y"),C=S(g,o,"x",w),x=S(g,d,"y",A),E=C.vals,M=x.vals,f=g._length,P=new Array(f),T=g.ids,z=m(g,c,o,d),_=!1,V,F,N,k,I,H;s(c,g);var j="x",ee="y",te;if(z)L.pushUnique(z.traceIndices,g._expandedIndex),V=z.orientation==="v",V?(ee="s",te="x"):(j="s",te="y"),I=z.stackgaps==="interpolate";else{var ne=u(g,f);n(h,g,o,d,E,M,ne)}var ue=!!g.xperiodalignment,q=!!g.yperiodalignment;for(F=0;F<f;F++){var Y=P[F]={},Z=y(E[F]),G=y(M[F]);Z&&G?(Y[j]=E[F],Y[ee]=M[F],ue&&(Y.orig_x=w[F],Y.xEnd=C.ends[F],Y.xStart=C.starts[F]),q&&(Y.orig_y=A[F],Y.yEnd=x.ends[F],Y.yStart=x.starts[F])):z&&(V?Z:G)?(Y[te]=V?E[F]:M[F],Y.gap=!0,I?(Y.s=b,_=!0):Y.s=0):Y[j]=Y[ee]=b,T&&(Y.id=String(T[F]))}if(r(P,g),p(h,g),t(P,g),z){for(F=0;F<P.length;)P[F][te]===b?P.splice(F,1):F++;if(L.sort(P,function(J,se){return J[te]-se[te]||J.i-se.i}),_){for(F=0;F<P.length-1&&P[F].gap;)F++;for(H=P[F].s,H||(H=P[F].s=0),N=0;N<F;N++)P[N].s=H;for(k=P.length-1;k>F&&P[k].gap;)k--;for(H=P[k].s,N=P.length-1;N>k;N--)P[N].s=H;for(;F<k;)if(F++,P[F].gap){for(N=F+1;P[N].gap;)N++;for(var K=P[F-1][te],oe=P[F-1].s,$=(P[N].s-oe)/(P[N][te]-K);F<N;)P[F].s=oe+(P[F][te]-K)*$,F++}}}return P}function n(h,g,c,o,d,w,A){var C=g._length,x=h._fullLayout,E=c._id,M=o._id,f=x._firstScatter[l(g)]===g.uid,P=(m(g,x,c,o)||{}).orientation,T=g.fill;c._minDtick=0,o._minDtick=0;var z={padded:!0},_={padded:!0};A&&(z.ppad=_.ppad=A);var V=C<2||d[0]!==d[C-1]||w[0]!==w[C-1];V&&(T==="tozerox"||T==="tonextx"&&(f||P==="h"))?z.tozero=!0:!(g.error_y||{}).visible&&(T==="tonexty"||T==="tozeroy"||!v.hasMarkers(g)&&!v.hasText(g))&&(z.padded=!1,z.ppad=0),V&&(T==="tozeroy"||T==="tonexty"&&(f||P==="v"))?_.tozero=!0:(T==="tonextx"||T==="tozerox")&&(_.padded=!1),E&&(g._extremes[E]=i.findExtremes(c,d,z)),M&&(g._extremes[M]=i.findExtremes(o,w,_))}function u(h,g){if(v.hasMarkers(h)){var c=h.marker,o=1.6*(h.marker.sizeref||1),d;if(h.marker.sizemode==="area"?d=function(E){return Math.max(Math.sqrt((E||0)/o),3)}:d=function(E){return Math.max((E||0)/o,3)},L.isArrayOrTypedArray(c.size)){var w={type:"linear"};i.setConvert(w);for(var A=w.makeCalcdata(h.marker,"size"),C=new Array(g),x=0;x<g;x++)C[x]=d(A[x]);return C}else return d(c.size)}}function s(h,g){var c=l(g),o=h._firstScatter;o[c]||(o[c]=g.uid)}function l(h){var g=h.stackgroup;return h.xaxis+h.yaxis+h.type+(g?"-"+g:"")}function m(h,g,c,o){var d=h.stackgroup;if(d){var w=g._scatterStackOpts[c._id+o._id][d],A=w.orientation==="v"?o:c;if(A.type==="linear"||A.type==="log")return w}}U.exports={calc:a,calcMarkerSize:u,calcAxisExpansion:n,setFirstScatter:s,getStackOpts:m}},4500:function(U,B,e){var y=e(3400);U.exports=function(i,S){y.isArrayOrTypedArray(S.selectedpoints)&&y.tagSelected(i,S)}},90136:function(U,B,e){var y=e(94288).hasColorscale,L=e(47128),i=e(43028);U.exports=function(b,v){i.hasLines(v)&&y(v,"line")&&L(b,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),i.hasMarkers(v)&&(y(v,"marker")&&L(b,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),y(v,"marker.line")&&L(b,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(U){U.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(U,B,e){var y=e(16356),L=e(96376).setGroupPositions;function i(v,p){for(var r=p.xaxis,t=p.yaxis,a=v._fullLayout,n=v._fullData,u=v.calcdata,s=[],l=[],m=0;m<n.length;m++){var h=n[m];h.visible===!0&&h.type==="scatter"&&h.xaxis===r._id&&h.yaxis===t._id&&(h.orientation==="h"?s.push(u[m]):h.orientation==="v"&&l.push(u[m]))}var g={mode:a.scattermode,gap:a.scattergap};L(v,r,t,l,g),L(v,t,r,s,g)}U.exports=function(p,r){p._fullLayout.scattermode==="group"&&i(p,r);var t=r.xaxis,a=r.yaxis,n=t._id+a._id,u=p._fullLayout._scatterStackOpts[n];if(u){var s=p.calcdata,l,m,h,g,c,o,d,w,A,C,x,E,M,f,P;for(var T in u){C=u[T];var z=C.traceIndices;if(z.length){for(x=C.stackgaps==="interpolate",E=C.groupnorm,C.orientation==="v"?(M="x",f="y"):(M="y",f="x"),P=new Array(z.length),l=0;l<P.length;l++)P[l]=!1;o=s[z[0]];var _=new Array(o.length);for(l=0;l<o.length;l++)_[l]=o[l][M];for(l=1;l<z.length;l++){for(c=s[z[l]],m=h=0;m<c.length;m++){for(d=c[m][M];d>_[h]&&h<_.length;h++)S(c,m,_[h],l,P,x,M),m++;if(d!==_[h]){for(g=0;g<l;g++)S(s[z[g]],h,d,g,P,x,M);_.splice(h,0,d)}h++}for(;h<_.length;h++)S(c,m,_[h],l,P,x,M),m++}var V=_.length;for(m=0;m<o.length;m++){for(w=o[m][f]=o[m].s,l=1;l<z.length;l++)c=s[z[l]],c[0].trace._rawLength=c[0].trace._length,c[0].trace._length=V,w+=c[m].s,c[m][f]=w;if(E)for(A=(E==="fraction"?w:w/100)||1,l=0;l<z.length;l++){var F=s[z[l]][m];F[f]/=A,F.sNorm=F.s/A}}for(l=0;l<z.length;l++){c=s[z[l]];var N=c[0].trace,k=y.calcMarkerSize(N,N._rawLength),I=Array.isArray(k);if(k&&P[l]||I){var H=k;for(k=new Array(V),m=0;m<V;m++)k[m]=c[m].gap?0:I?H[c[m].i]:H}var j=new Array(V),ee=new Array(V);for(m=0;m<V;m++)j[m]=c[m].x,ee[m]=c[m].y;y.calcAxisExpansion(p,N,t,a,j,ee,k),c[0].t.orientation=C.orientation}}}}};function S(v,p,r,t,a,n,u){a[t]=!0;var s={i:null,gap:!0,s:0};if(s[u]=r,v.splice(p,0,s),p&&r===v[p-1][u]){var l=v[p-1];s.s=l.s,s.i=l.i,s.gap=l.gap}else n&&(s.s=b(v,p,r,u));p||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function b(v,p,r,t){var a=v[p-1],n=v[p+1];return n?a?a.s+(n.s-a.s)*(r-a[t])/(n[t]-a[t]):n.s:a.s}},35036:function(U,B,e){var y=e(3400),L=e(20011),i=e(52904);U.exports=function(b,v){var p,r,t;function a(m){return y.coerce(r._input,r,i,m)}if(v.scattermode==="group")for(t=0;t<b.length;t++)r=b[t],r.type==="scatter"&&(p=r._input,L(p,r,v,a));for(t=0;t<b.length;t++){var n=b[t];if(n.type==="scatter"){var u=n.fill;if(!(u==="none"||u==="toself")&&(n.opacity=void 0,u==="tonexty"||u==="tonextx"))for(var s=t-1;s>=0;s--){var l=b[s];if(l.type==="scatter"&&l.xaxis===n.xaxis&&l.yaxis===n.yaxis){l.opacity=void 0;break}}}}}},18800:function(U,B,e){var y=e(3400),L=e(24040),i=e(52904),S=e(88200),b=e(43028),v=e(43980),p=e(31147),r=e(43912),t=e(74428),a=e(66828),n=e(11731),u=e(124),s=e(70840),l=e(3400).coercePattern;U.exports=function(h,g,c,o){function d(P,T){return y.coerce(h,g,i,P,T)}var w=v(h,g,o,d);if(w||(g.visible=!1),!!g.visible){p(h,g,o,d),d("xhoverformat"),d("yhoverformat");var A=r(h,g,o,d);o.scattermode==="group"&&g.orientation===void 0&&d("orientation","v");var C=!A&&w<S.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",C),b.hasMarkers(g)&&t(h,g,c,o,d,{gradient:!0}),b.hasLines(g)&&(a(h,g,c,o,d,{backoff:!0}),n(h,g,d),d("connectgaps"),d("line.simplify")),b.hasText(g)&&(d("texttemplate"),u(h,g,o,d));var x=[];(b.hasMarkers(g)||b.hasText(g))&&(d("cliponaxis"),d("marker.maxdisplayed"),x.push("points")),d("fill",A?A.fillDflt:"none"),g.fill!=="none"&&(s(h,g,c,d,{moduleHasFillgradient:!0}),b.hasLines(g)||n(h,g,d),l(d,"fillpattern",g.fillcolor,!1));var E=(g.line||{}).color,M=(g.marker||{}).color;(g.fill==="tonext"||g.fill==="toself")&&x.push("fills"),d("hoveron",x.join("+")||"points"),g.hoveron!=="fills"&&d("hovertemplate");var f=L.getComponentMethod("errorbars","supplyDefaults");f(h,g,E||M||c,{axis:"y"}),f(h,g,E||M||c,{axis:"x",inherit:"y"}),y.coerceSelectionMarkerOpacity(g,d)}}},98304:function(U){U.exports=function(e){return{valType:"color",editType:"style",anim:!0}}},70840:function(U,B,e){var y=e(76308),L=e(3400).isArrayOrTypedArray;function i(S){for(var b=y.interpolate(S[0][1],S[1][1],.5),v=2;v<S.length;v++){var p=y.interpolate(S[v-1][1],S[v][1],.5);b=y.interpolate(b,p,S[v-1][0]/S[v][0])}return b}U.exports=function(b,v,p,r,t){t||(t={});var a=!1;if(v.marker){var n=v.marker.color,u=(v.marker.line||{}).color;n&&!L(n)?a=n:u&&!L(u)&&(a=u)}var s;if(t.moduleHasFillgradient){var l=r("fillgradient.type");if(l!=="none"){r("fillgradient.start"),r("fillgradient.stop");var m=r("fillgradient.colorscale");m&&(s=i(m))}}r("fillcolor",y.addOpacity((v.line||{}).color||a||s||p,.5))}},76688:function(U,B,e){var y=e(54460);U.exports=function(i,S,b){var v={},p={_fullLayout:b},r=y.getFromTrace(p,S,"x"),t=y.getFromTrace(p,S,"y"),a=i.orig_x;a===void 0&&(a=i.x);var n=i.orig_y;return n===void 0&&(n=i.y),v.xLabel=y.tickText(r,r.c2l(a),!0).text,v.yLabel=y.tickText(t,t.c2l(n),!0).text,v}},44928:function(U,B,e){var y=e(76308),L=e(43028);U.exports=function(S,b){var v,p;if(S.mode==="lines")return v=S.line.color,v&&y.opacity(v)?v:S.fillcolor;if(S.mode==="none")return S.fill?S.fillcolor:"";var r=b.mcc||(S.marker||{}).color,t=b.mlcc||((S.marker||{}).line||{}).color;return p=r&&y.opacity(r)?r:t&&y.opacity(t)&&(b.mlw||((S.marker||{}).line||{}).width)?t:"",p?y.opacity(p)<.3?y.addOpacity(p,.3):p:(v=(S.line||{}).color,v&&y.opacity(v)&&L.hasLines(S)&&S.line.width?v:S.fillcolor)}},20011:function(U,B,e){var y=e(71888).getAxisGroup;U.exports=function(i,S,b,v){var p=S.orientation,r=S[{v:"x",h:"y"}[p]+"axis"],t=y(b,r)+p,a=b._alignmentOpts||{},n=v("alignmentgroup"),u=a[t];u||(u=a[t]={});var s=u[n];s?s.traces.push(S):s=u[n]={traces:[S],alignmentIndex:Object.keys(u).length,offsetGroups:{}};var l=v("offsetgroup"),m=s.offsetGroups,h=m[l];l&&(h||(h=m[l]={offsetIndex:Object.keys(m).length}),S._offsetIndex=h.offsetIndex)}},98723:function(U,B,e){var y=e(3400),L=e(93024),i=e(24040),S=e(44928),b=e(76308),v=y.fillText;U.exports=function(r,t,a,n){var u=r.cd,s=u[0].trace,l=r.xa,m=r.ya,h=l.c2p(t),g=m.c2p(a),c=[h,g],o=s.hoveron||"",d=s.mode.indexOf("markers")!==-1?3:.5,w=!!s.xperiodalignment,A=!!s.yperiodalignment;if(o.indexOf("points")!==-1){var C=function(te){if(w){var ne=l.c2p(te.xStart),ue=l.c2p(te.xEnd);return h>=Math.min(ne,ue)&&h<=Math.max(ne,ue)?0:1/0}var q=Math.max(3,te.mrc||0),Y=1-1/q,Z=Math.abs(l.c2p(te.x)-h);return Z<q?Y*Z/q:Z-q+Y},x=function(te){if(A){var ne=m.c2p(te.yStart),ue=m.c2p(te.yEnd);return g>=Math.min(ne,ue)&&g<=Math.max(ne,ue)?0:1/0}var q=Math.max(3,te.mrc||0),Y=1-1/q,Z=Math.abs(m.c2p(te.y)-g);return Z<q?Y*Z/q:Z-q+Y},E=function(te){var ne=Math.max(d,te.mrc||0),ue=l.c2p(te.x)-h,q=m.c2p(te.y)-g;return Math.max(Math.sqrt(ue*ue+q*q)-ne,1-d/ne)},M=L.getDistanceFunction(n,C,x,E);if(L.getClosest(u,M,r),r.index!==!1){var f=u[r.index],P=l.c2p(f.x,!0),T=m.c2p(f.y,!0),z=f.mrc||1;r.index=f.i;var _=u[0].t.orientation,V=_&&(f.sNorm||f.s),F=_==="h"?V:f.orig_x!==void 0?f.orig_x:f.x,N=_==="v"?V:f.orig_y!==void 0?f.orig_y:f.y;return y.extendFlat(r,{color:S(s,f),x0:P-z,x1:P+z,xLabelVal:F,y0:T-z,y1:T+z,yLabelVal:N,spikeDistance:E(f),hovertemplate:s.hovertemplate}),v(f,s,r),i.getComponentMethod("errorbars","hoverInfo")(f,s,r),[r]}}function k(te){if(!te)return!1;var ne=te.node();try{var ue=new DOMPoint(c[0],c[1]);return ne.isPointInFill(ue)}catch{var q=ne.ownerSVGElement.createSVGPoint();return q.x=c[0],q.y=c[1],ne.isPointInFill(q)}}function I(te){var ne,ue=[],q=1/0,Y=-1/0,Z=1/0,G=-1/0,K;for(ne=0;ne<te.length;ne++){var oe=te[ne];oe.contains(c)&&(ue.push(oe),Z=Math.min(Z,oe.ymin),G=Math.max(G,oe.ymax))}if(ue.length===0)return null;Z=Math.max(Z,0),G=Math.min(G,m._length),K=(Z+G)/2;var $,J,se,ie,ce,ye,Se;for(ne=0;ne<ue.length;ne++)for(J=ue[ne].pts,$=1;$<J.length;$++)ye=J[$-1][1],Se=J[$][1],ye>K!=Se>=K&&(ie=J[$-1][0],ce=J[$][0],Se-ye&&(se=ie+(ce-ie)*(K-ye)/(Se-ye),q=Math.min(q,se),Y=Math.max(Y,se)));return q=Math.max(q,0),Y=Math.min(Y,l._length),{x0:q,x1:Y,y0:K,y1:K}}if(o.indexOf("fills")!==-1&&s._fillElement){var H=k(s._fillElement)&&!k(s._fillExclusionElement);if(H){var j=I(s._polygons);j===null&&(j={x0:c[0],x1:c[0],y0:c[1],y1:c[1]});var ee=b.defaultLine;return b.opacity(s.fillcolor)?ee=s.fillcolor:b.opacity((s.line||{}).color)&&(ee=s.line.color),y.extendFlat(r,{distance:r.maxHoverDistance,x0:j.x0,x1:j.x1,y0:j.y0,y1:j.y1,color:ee,hovertemplate:!1}),delete r.index,s.text&&!y.isArrayOrTypedArray(s.text)?r.text=String(s.text):r.text=s.name,[r]}}}},65875:function(U,B,e){var y=e(43028);U.exports={hasLines:y.hasLines,hasMarkers:y.hasMarkers,hasText:y.hasText,isBubble:y.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(U){U.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(U,B,e){var y=e(3400),L=e(55308);U.exports=function(i,S){function b(p,r){return y.coerce(i,S,L,p,r)}var v=S.barmode==="group";S.scattermode==="group"&&b("scattergap",v?S.bargap:.2)}},66828:function(U,B,e){var y=e(3400).isArrayOrTypedArray,L=e(94288).hasColorscale,i=e(27260);U.exports=function(b,v,p,r,t,a){a||(a={});var n=(b.marker||{}).color;if(n&&n._inputArray&&(n=n._inputArray),t("line.color",p),L(b,"line"))i(b,v,r,t,{prefix:"line.",cLetter:"c"});else{var u=(y(n)?!1:n)||p;t("line.color",u)}t("line.width"),a.noDash||t("line.dash"),a.backoff&&t("line.backoff")}},52340:function(U,B,e){var y=e(43616),L=e(39032),i=L.BADNUM,S=L.LOG_CLIP,b=S+.5,v=S-.5,p=e(3400),r=p.segmentsIntersect,t=p.constrain,a=e(88200);U.exports=function(u,s){var l=s.trace||{},m=s.xaxis,h=s.yaxis,g=m.type==="log",c=h.type==="log",o=m._length,d=h._length,w=s.backoff,A=l.marker,C=s.connectGaps,x=s.baseTolerance,E=s.shape,M=E==="linear",f=l.fill&&l.fill!=="none",P=[],T=a.minTolerance,z=u.length,_=new Array(z),V=0,F,N,k,I,H,j,ee,te,ne,ue,q,Y,Z,G,K,oe;function $(ct){var pt=u[ct];if(!pt)return!1;var Xt=s.linearized?m.l2p(pt.x):m.c2p(pt.x),Yt=s.linearized?h.l2p(pt.y):h.c2p(pt.y);if(Xt===i){if(g&&(Xt=m.c2p(pt.x,!0)),Xt===i)return!1;c&&Yt===i&&(Xt*=Math.abs(m._m*d*(m._m>0?b:v)/(h._m*o*(h._m>0?b:v)))),Xt*=1e3}if(Yt===i){if(c&&(Yt=h.c2p(pt.y,!0)),Yt===i)return!1;Yt*=1e3}return[Xt,Yt]}function J(ct,pt,Xt,Yt){var Tt=Xt-ct,_t=Yt-pt,Qt=.5-ct,wr=.5-pt,xt=Tt*Tt+_t*_t,jt=Tt*Qt+_t*wr;if(jt>0&&jt<xt){var Jt=Qt*_t-wr*Tt;if(Jt*Jt<xt)return!0}}var se,ie;function ce(ct,pt){var Xt=ct[0]/o,Yt=ct[1]/d,Tt=Math.max(0,-Xt,Xt-1,-Yt,Yt-1);return Tt&&se!==void 0&&J(Xt,Yt,se,ie)&&(Tt=0),Tt&&pt&&J(Xt,Yt,pt[0]/o,pt[1]/d)&&(Tt=0),(1+a.toleranceGrowth*Tt)*x}function ye(ct,pt){var Xt=ct[0]-pt[0],Yt=ct[1]-pt[1];return Math.sqrt(Xt*Xt+Yt*Yt)}var Se=a.maxScreensAway,Te=-o*Se,ke=o*(1+Se),we=-d*Se,Ee=d*(1+Se),xe=[[Te,we,ke,we],[ke,we,ke,Ee],[ke,Ee,Te,Ee],[Te,Ee,Te,we]],De,Ve,Ue,Be,Xe,ot;function ut(ct,pt){for(var Xt=[],Yt=0,Tt=0;Tt<4;Tt++){var _t=xe[Tt],Qt=r(ct[0],ct[1],pt[0],pt[1],_t[0],_t[1],_t[2],_t[3]);Qt&&(!Yt||Math.abs(Qt.x-Xt[0][0])>1||Math.abs(Qt.y-Xt[0][1])>1)&&(Qt=[Qt.x,Qt.y],Yt&&ye(Qt,ct)<ye(Xt[0],ct)?Xt.unshift(Qt):Xt.push(Qt),Yt++)}return Xt}function et(ct){if(ct[0]<Te||ct[0]>ke||ct[1]<we||ct[1]>Ee)return[t(ct[0],Te,ke),t(ct[1],we,Ee)]}function qe(ct,pt){if(ct[0]===pt[0]&&(ct[0]===Te||ct[0]===ke)||ct[1]===pt[1]&&(ct[1]===we||ct[1]===Ee))return!0}function ft(ct,pt){var Xt=[],Yt=et(ct),Tt=et(pt);return Yt&&Tt&&qe(Yt,Tt)||(Yt&&Xt.push(Yt),Tt&&Xt.push(Tt)),Xt}function ht(ct,pt,Xt){return function(Yt,Tt){var _t=et(Yt),Qt=et(Tt),wr=[];if(_t&&Qt&&qe(_t,Qt))return wr;_t&&wr.push(_t),Qt&&wr.push(Qt);var xt=2*p.constrain((Yt[ct]+Tt[ct])/2,pt,Xt)-((_t||Yt)[ct]+(Qt||Tt)[ct]);if(xt){var jt;_t&&Qt?jt=xt>0==_t[ct]>Qt[ct]?_t:Qt:jt=_t||Qt,jt[ct]+=xt}return wr}}var dt;E==="linear"||E==="spline"?dt=ut:E==="hv"||E==="vh"?dt=ft:E==="hvh"?dt=ht(0,Te,ke):E==="vhv"&&(dt=ht(1,we,Ee));function mt(ct,pt){var Xt=pt[0]-ct[0],Yt=(pt[1]-ct[1])/Xt,Tt=(ct[1]*pt[0]-pt[1]*ct[0])/Xt;return Tt>0?[Yt>0?Te:ke,Ee]:[Yt>0?ke:Te,we]}function St(ct){var pt=ct[0],Xt=ct[1],Yt=pt===_[V-1][0],Tt=Xt===_[V-1][1];if(!(Yt&&Tt))if(V>1){var _t=pt===_[V-2][0],Qt=Xt===_[V-2][1];Yt&&(pt===Te||pt===ke)&&_t?Qt?V--:_[V-1]=ct:Tt&&(Xt===we||Xt===Ee)&&Qt?_t?V--:_[V-1]=ct:_[V++]=ct}else _[V++]=ct}function rt(ct){_[V-1][0]!==ct[0]&&_[V-1][1]!==ct[1]&&St([Ue,Be]),St(ct),Xe=null,Ue=Be=0}var Oe=p.isArrayOrTypedArray(A);function Ye(ct){if(ct&&w&&(ct.i=F,ct.d=u,ct.trace=l,ct.marker=Oe?A[ct.i]:A,ct.backoff=w),se=ct[0]/o,ie=ct[1]/d,De=ct[0]<Te?Te:ct[0]>ke?ke:0,Ve=ct[1]<we?we:ct[1]>Ee?Ee:0,De||Ve){if(!V)_[V++]=[De||ct[0],Ve||ct[1]];else if(Xe){var pt=dt(Xe,ct);pt.length>1&&(rt(pt[0]),_[V++]=pt[1])}else ot=dt(_[V-1],ct)[0],_[V++]=ot;var Xt=_[V-1];De&&Ve&&(Xt[0]!==De||Xt[1]!==Ve)?(Xe&&(Ue!==De&&Be!==Ve?St(Ue&&Be?mt(Xe,ct):[Ue||De,Be||Ve]):Ue&&Be&&St([Ue,Be])),St([De,Ve])):Ue-De&&Be-Ve&&St([De||Ue,Ve||Be]),Xe=ct,Ue=De,Be=Ve}else Xe&&rt(dt(Xe,ct)[0]),_[V++]=ct}for(F=0;F<z;F++)if(N=$(F),!!N){for(V=0,Xe=null,Ye(N),F++;F<z;F++){if(I=$(F),!I){if(C)continue;break}if(!M||!s.simplify){Ye(I);continue}var Ze=$(F+1);if(ue=ye(I,N),!(!(f&&(V===0||V===z-1))&&ue<ce(I,Ze)*T)){for(te=[(I[0]-N[0])/ue,(I[1]-N[1])/ue],H=N,q=ue,Y=G=K=0,ee=!1,k=I,F++;F<u.length;F++){if(j=Ze,Ze=$(F+1),!j){if(C)continue;break}if(ne=[j[0]-N[0],j[1]-N[1]],oe=ne[0]*te[1]-ne[1]*te[0],G=Math.min(G,oe),K=Math.max(K,oe),K-G>ce(j,Ze))break;k=j,Z=ne[0]*te[0]+ne[1]*te[1],Z>q?(q=Z,I=j,ee=!1):Z<Y&&(Y=Z,H=j,ee=!0)}if(ee?(Ye(I),k!==H&&Ye(H)):(H!==N&&Ye(H),k!==I&&Ye(I)),Ye(k),F>=u.length||!j)break;Ye(j),N=j}}Xe&&St([Ue||Xe[0],Be||Xe[1]]),P.push(_.slice(0,V))}var Ge=E.slice(E.length-1);if(w&&Ge!=="h"&&Ge!=="v"){for(var _e=!1,be=-1,me=[],Ce=0;Ce<P.length;Ce++)for(var Me=0;Me<P[Ce].length-1;Me++){var Ne=P[Ce][Me],je=P[Ce][Me+1],tt=y.applyBackoff(je,Ne);(tt[0]!==je[0]||tt[1]!==je[1])&&(_e=!0),me[be+1]||(be++,me[be]=[Ne,[tt[0],tt[1]]])}return _e?me:P}return P}},11731:function(U){U.exports=function(e,y,L){var i=L("line.shape");i==="spline"&&L("line.smoothing")}},14328:function(U){var B={tonextx:1,tonexty:1,tonext:1};U.exports=function(y,L,i){var S,b,v,p,r,t={},a=!1,n=-1,u=0,s=-1;for(b=0;b<i.length;b++)S=i[b][0].trace,v=S.stackgroup||"",v?v in t?r=t[v]:(r=t[v]=u,u++):S.fill in B&&s>=0?r=s:(r=s=u,u++),r<n&&(a=!0),S._groupIndex=n=r;var l=i.slice();a&&l.sort(function(h,g){var c=h[0].trace,o=g[0].trace;return c._groupIndex-o._groupIndex||c.index-o.index});var m={};for(b=0;b<l.length;b++)S=l[b][0].trace,v=S.stackgroup||"",S.visible===!0?(S._nexttrace=null,S.fill in B&&(p=m[v],S._prevtrace=p||null,p&&(p._nexttrace=S)),S._ownfill=S.fill&&(S.fill.substr(0,6)==="tozero"||S.fill==="toself"||S.fill.substr(0,2)==="to"&&!S._prevtrace),m[v]=S):S._prevtrace=S._nexttrace=S._ownfill=null;return l}},7152:function(U,B,e){var y=e(38248);U.exports=function(i,S){S||(S=2);var b=i.marker,v=b.sizeref||1,p=b.sizemin||0,r=b.sizemode==="area"?function(t){return Math.sqrt(t/v)}:function(t){return t/v};return function(t){var a=r(t/S);return y(a)&&a>0?Math.max(a,p):0}}},5528:function(U){U.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(U,B,e){var y=e(76308),L=e(94288).hasColorscale,i=e(27260),S=e(43028);U.exports=function(v,p,r,t,a,n){var u=S.isBubble(v),s=(v.line||{}).color,l;if(n=n||{},s&&(r=s),a("marker.symbol"),a("marker.opacity",u?.7:1),a("marker.size"),n.noAngle||(a("marker.angle"),n.noAngleRef||a("marker.angleref"),n.noStandOff||a("marker.standoff")),a("marker.color",r),L(v,"marker")&&i(v,p,t,a,{prefix:"marker.",cLetter:"c"}),n.noSelect||(a("selected.marker.color"),a("unselected.marker.color"),a("selected.marker.size"),a("unselected.marker.size")),n.noLine||(s&&!Array.isArray(s)&&p.marker.color!==s?l=s:u?l=y.background:l=y.defaultLine,a("marker.line.color",l),L(v,"marker.line")&&i(v,p,t,a,{prefix:"marker.line.",cLetter:"c"}),a("marker.line.width",u?1:0)),u&&(a("marker.sizeref"),a("marker.sizemin"),a("marker.sizemode")),n.gradient){var m=a("marker.gradient.type");m!=="none"&&a("marker.gradient.color")}}},31147:function(U,B,e){var y=e(3400).dateTick0,L=e(39032),i=L.ONEWEEK;function S(b,v){return b%i===0?y(v,1):y(v,0)}U.exports=function(v,p,r,t,a){if(a||(a={x:!0,y:!0}),a.x){var n=t("xperiod");n&&(t("xperiod0",S(n,p.xcalendar)),t("xperiodalignment"))}if(a.y){var u=t("yperiod");u&&(t("yperiod0",S(u,p.ycalendar)),t("yperiodalignment"))}}},96504:function(U,B,e){var y=e(33428),L=e(24040),i=e(3400),S=i.ensureSingle,b=i.identity,v=e(43616),p=e(43028),r=e(52340),t=e(14328),a=e(92065).tester;U.exports=function(m,h,g,c,o,d){var w,A,C=!o,x=!!o&&o.duration>0,E=t(m,h,g);if(w=c.selectAll("g.trace").data(E,function(f){return f[0].trace.uid}),w.enter().append("g").attr("class",function(f){return"trace scatter trace"+f[0].trace.uid}).style("stroke-miterlimit",2),w.order(),n(m,w,h),x){d&&(A=d());var M=y.transition().duration(o.duration).ease(o.easing).each("end",function(){A&&A()}).each("interrupt",function(){A&&A()});M.each(function(){c.selectAll("g.trace").each(function(f,P){u(m,P,h,f,E,this,o)})})}else w.each(function(f,P){u(m,P,h,f,E,this,o)});C&&w.exit().remove(),c.selectAll("path:not([d])").remove()};function n(l,m,h){m.each(function(g){var c=S(y.select(this),"g","fills");v.setClipUrl(c,h.layerClipId,l);var o=g[0].trace,d=[];o._ownfill&&d.push("_ownFill"),o._nexttrace&&d.push("_nextFill");var w=c.selectAll("g").data(d,b);w.enter().append("g"),w.exit().each(function(A){o[A]=null}).remove(),w.order().each(function(A){o[A]=S(y.select(this),"path","js-fill")})})}function u(l,m,h,g,c,o,d){var w=l._context.staticPlot,A;s(l,m,h,g,c);var C=!!d&&d.duration>0;function x(St){return C?St.transition():St}var E=h.xaxis,M=h.yaxis,f=g[0].trace,P=f.line,T=y.select(o),z=S(T,"g","errorbars"),_=S(T,"g","lines"),V=S(T,"g","points"),F=S(T,"g","text");if(L.getComponentMethod("errorbars","plot")(l,z,h,d),f.visible!==!0)return;x(T).style("opacity",f.opacity);var N,k,I=f.fill.charAt(f.fill.length-1);I!=="x"&&I!=="y"&&(I="");var H,j;I==="y"?(H=1,j=M.c2p(0,!0)):I==="x"&&(H=0,j=E.c2p(0,!0)),g[0][h.isRangePlot?"nodeRangePlot3":"node3"]=T;var ee="",te=[],ne=f._prevtrace,ue=null,q=null;ne&&(ee=ne._prevRevpath||"",k=ne._nextFill,te=ne._ownPolygons,ue=ne._fillsegments,q=ne._fillElement);var Y,Z,G="",K="",oe,$,J,se,ie,ce,ye=[];f._polygons=[];var Se=[],Te=[],ke=i.noop;if(N=f._ownFill,p.hasLines(f)||f.fill!=="none"){k&&k.datum(g),["hv","vh","hvh","vhv"].indexOf(P.shape)!==-1?(oe=v.steps(P.shape),$=v.steps(P.shape.split("").reverse().join(""))):P.shape==="spline"?oe=$=function(St){var rt=St[St.length-1];return St.length>1&&St[0][0]===rt[0]&&St[0][1]===rt[1]?v.smoothclosed(St.slice(1),P.smoothing):v.smoothopen(St,P.smoothing)}:oe=$=function(St){return"M"+St.join("L")},J=function(St){return $(St.reverse())},Te=r(g,{xaxis:E,yaxis:M,trace:f,connectGaps:f.connectgaps,baseTolerance:Math.max(P.width||1,3)/4,shape:P.shape,backoff:P.backoff,simplify:P.simplify,fill:f.fill}),Se=new Array(Te.length);var we=0;for(A=0;A<Te.length;A++){var Ee,xe=Te[A];!Ee||!I?(Ee=xe.slice(),Se[we]=Ee,we++):Ee.push.apply(Ee,xe)}f._fillElement=null,f._fillExclusionElement=q,f._fillsegments=Se.slice(0,we),Se=f._fillsegments,Te.length&&(se=Te[0][0].slice(),ie=Te[Te.length-1],ce=ie[ie.length-1].slice()),ke=function(St){return function(rt){if(Y=oe(rt),Z=J(rt),G?I?(G+="L"+Y.substr(1),K=Z+("L"+K.substr(1))):(G+="Z"+Y,K=Z+"Z"+K):(G=Y,K=Z),p.hasLines(f)){var Oe=y.select(this);if(Oe.datum(g),St)x(Oe.style("opacity",0).attr("d",Y).call(v.lineGroupStyle)).style("opacity",1);else{var Ye=x(Oe);Ye.attr("d",Y),v.singleLineStyle(g,Ye)}}}}}var De=_.selectAll(".js-line").data(Te);x(De.exit()).style("opacity",0).remove(),De.each(ke(!1)),De.enter().append("path").classed("js-line",!0).style("vector-effect",w?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(ke(!0)),v.setClipUrl(De,h.layerClipId,l);function Ve(St){x(St).attr("d","M0,0Z")}var Ue=function(){var St=new Array(Se.length);for(A=0;A<Se.length;A++)St[A]=a(Se[A]);return St},Be=function(St){var rt,Oe;if(!St||St.length===0)for(rt=new Array(Se.length),Oe=0;Oe<Se.length;Oe++){var Ye=Se[Oe][0].slice(),Ze=Se[Oe][Se[Oe].length-1].slice();Ye[H]=Ze[H]=j;var Ge=[Ze,Ye],_e=Ge.concat(Se[Oe]);rt[Oe]=a(_e)}else{for(rt=new Array(St.length-1+Se.length),Oe=0;Oe<St.length-1;Oe++)rt[Oe]=a(St[Oe]);var be=St[St.length-1].slice();for(be.reverse(),Oe=0;Oe<Se.length;Oe++)rt[St.length-1+Oe]=a(Se[Oe].concat(be))}return rt};Te.length?(N?(N.datum(g),se&&ce&&(I?(se[H]=ce[H]=j,x(N).attr("d","M"+ce+"L"+se+"L"+G.substr(1)).call(v.singleFillStyle,l),ye=Be(null)):(x(N).attr("d",G+"Z").call(v.singleFillStyle,l),ye=Ue())),f._polygons=ye,f._fillElement=N):k&&(f.fill.substr(0,6)==="tonext"&&G&&ee?(f.fill==="tonext"?(x(k).attr("d",G+"Z"+ee+"Z").call(v.singleFillStyle,l),ye=Ue(),f._polygons=ye.concat(te)):(x(k).attr("d",G+"L"+ee.substr(1)+"Z").call(v.singleFillStyle,l),ye=Be(ue),f._polygons=ye),f._fillElement=k):Ve(k)),f._prevRevpath=K):(N?Ve(N):k&&Ve(k),f._prevRevpath=null),f._ownPolygons=ye;function Xe(St){return St.filter(function(rt){return!rt.gap&&rt.vis})}function ot(St){return St.filter(function(rt){return rt.vis})}function ut(St){return St.filter(function(rt){return!rt.gap})}function et(St){return St.id}function qe(St){if(St.ids)return et}function ft(){return!1}function ht(St,rt,Oe){var Ye,Ze,Ge,_e=Oe[0].trace,be=p.hasMarkers(_e),me=p.hasText(_e),Ce=qe(_e),Me=ft,Ne=ft;if(be||me){var je=b,tt=_e.stackgroup,ct=tt&&l._fullLayout._scatterStackOpts[E._id+M._id][tt].stackgaps==="infer zero";_e.marker.maxdisplayed||_e._needsCull?je=ct?ot:Xe:tt&&!ct&&(je=ut),be&&(Me=je),me&&(Ne=je)}Ze=St.selectAll("path.point"),Ye=Ze.data(Me,Ce);var pt=Ye.enter().append("path").classed("point",!0);C&&pt.call(v.pointStyle,_e,l).call(v.translatePoints,E,M).style("opacity",0).transition().style("opacity",1),Ye.order();var Xt;be&&(Xt=v.makePointStyleFns(_e)),Ye.each(function(Yt){var Tt=y.select(this),_t=x(Tt);Ge=v.translatePoint(Yt,_t,E,M),Ge?(v.singlePointStyle(Yt,_t,_e,Xt,l),h.layerClipId&&v.hideOutsideRangePoint(Yt,_t,E,M,_e.xcalendar,_e.ycalendar),_e.customdata&&Tt.classed("plotly-customdata",Yt.data!==null&&Yt.data!==void 0)):_t.remove()}),C?Ye.exit().transition().style("opacity",0).remove():Ye.exit().remove(),Ze=rt.selectAll("g"),Ye=Ze.data(Ne,Ce),Ye.enter().append("g").classed("textpoint",!0).append("text"),Ye.order(),Ye.each(function(Yt){var Tt=y.select(this),_t=x(Tt.select("text"));Ge=v.translatePoint(Yt,_t,E,M),Ge?h.layerClipId&&v.hideOutsideRangePoint(Yt,Tt,E,M,_e.xcalendar,_e.ycalendar):Tt.remove()}),Ye.selectAll("text").call(v.textPointStyle,_e,l).each(function(Yt){var Tt=E.c2p(Yt.x),_t=M.c2p(Yt.y);y.select(this).selectAll("tspan.line").each(function(){x(y.select(this)).attr({x:Tt,y:_t})})}),Ye.exit().remove()}V.datum(g),F.datum(g),ht(V,F,g);var dt=f.cliponaxis===!1,mt=dt?null:h.layerClipId;v.setClipUrl(V,mt,l),v.setClipUrl(F,mt,l)}function s(l,m,h,g,c){var o=h.xaxis,d=h.yaxis,w=y.extent(i.simpleMap(o.range,o.r2c)),A=y.extent(i.simpleMap(d.range,d.r2c)),C=g[0].trace;if(p.hasMarkers(C)){var x=C.marker.maxdisplayed;if(x!==0){var E=g.filter(function(T){return T.x>=w[0]&&T.x<=w[1]&&T.y>=A[0]&&T.y<=A[1]}),M=Math.ceil(E.length/x),f=0;c.forEach(function(T,z){var _=T[0].trace;p.hasMarkers(_)&&_.marker.maxdisplayed>0&&z<m&&f++});var P=Math.round(f*M/3+Math.floor(f/3)*M/7.1);g.forEach(function(T){delete T.vis}),E.forEach(function(T,z){Math.round((z+P)%M)===0&&(T.vis=!0)})}}}},91560:function(U,B,e){var y=e(43028);U.exports=function(i,S){var b=i.cd,v=i.xaxis,p=i.yaxis,r=[],t=b[0].trace,a,n,u,s,l=!y.hasMarkers(t)&&!y.hasText(t);if(l)return[];if(S===!1)for(a=0;a<b.length;a++)b[a].selected=0;else for(a=0;a<b.length;a++)n=b[a],u=v.c2p(n.x),s=p.c2p(n.y),n.i!==null&&S.contains([u,s],!1,a,i)?(r.push({pointNumber:n.i,x:v.c2d(n.x),y:p.c2d(n.y)}),n.selected=1):n.selected=0;return r}},43912:function(U){var B=["orientation","groupnorm","stackgaps"];U.exports=function(y,L,i,S){var b=i._scatterStackOpts,v=S("stackgroup");if(v){var p=L.xaxis+L.yaxis,r=b[p];r||(r=b[p]={});var t=r[v],a=!1;t?t.traces.push(L):(t=r[v]={traceIndices:[],traces:[L]},a=!0);for(var n={orientation:L.x&&!L.y?"h":"v"},u=0;u<B.length;u++){var s=B[u],l=s+"Found";if(!t[l]){var m=y[s]!==void 0,h=s==="orientation";if((m||a)&&(t[s]=S(s,n[s]),h&&(t.fillDflt=t[s]==="h"?"tonextx":"tonexty"),m&&(t[l]=!0,!a&&(delete t.traces[0][s],h))))for(var g=0;g<t.traces.length-1;g++){var c=t.traces[g];c._input.fill!==c.fill&&(c.fill=t.fillDflt)}}}return t}}},49224:function(U,B,e){var y=e(33428),L=e(43616),i=e(24040);function S(r){var t=y.select(r).selectAll("g.trace.scatter");t.style("opacity",function(a){return a[0].trace.opacity}),t.selectAll("g.points").each(function(a){var n=y.select(this),u=a.trace||a[0].trace;b(n,u,r)}),t.selectAll("g.text").each(function(a){var n=y.select(this),u=a.trace||a[0].trace;v(n,u,r)}),t.selectAll("g.trace path.js-line").call(L.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(L.fillGroupStyle,r,!1),i.getComponentMethod("errorbars","style")(t)}function b(r,t,a){L.pointStyle(r.selectAll("path.point"),t,a)}function v(r,t,a){L.textPointStyle(r.selectAll("text"),t,a)}function p(r,t,a){var n=t[0].trace;n.selectedpoints?(L.selectedPointStyle(a.selectAll("path.point"),n),L.selectedTextStyle(a.selectAll("text"),n)):(b(a,n,r),v(a,n,r))}U.exports={style:S,stylePoints:b,styleText:v,styleOnSelect:p}},43028:function(U,B,e){var y=e(3400),L=e(38116).isTypedArraySpec;U.exports={hasLines:function(i){return i.visible&&i.mode&&i.mode.indexOf("lines")!==-1},hasMarkers:function(i){return i.visible&&(i.mode&&i.mode.indexOf("markers")!==-1||i.type==="splom")},hasText:function(i){return i.visible&&i.mode&&i.mode.indexOf("text")!==-1},isBubble:function(i){var S=i.marker;return y.isPlainObject(S)&&(y.isArrayOrTypedArray(S.size)||L(S.size))}}},124:function(U,B,e){var y=e(3400);U.exports=function(L,i,S,b,v){v=v||{},b("textposition"),y.coerceFont(b,"textfont",v.font||S.font),v.noSelect||(b("selected.textfont.color"),b("unselected.textfont.color"))}},43980:function(U,B,e){var y=e(3400),L=e(24040);U.exports=function(S,b,v,p){var r=p("x"),t=p("y"),a,n=L.getComponentMethod("calendars","handleTraceDefaults");if(n(S,b,["x","y"],v),r){var u=y.minRowLength(r);t?a=Math.min(u,y.minRowLength(t)):(a=u,p("y0"),p("dy"))}else{if(!t)return 0;a=y.minRowLength(t),p("x0"),p("dx")}return b._length=a,a}},91592:function(U,B,e){var y=e(52904),L=e(49084),i=e(29736).axisHoverFormat,S=e(21776).Ks,b=e(21776).Gw,v=e(45464),p=e(99168),r=e(87792),t=e(92880).extendFlat,a=e(67824).overrideAll,n=e(95376),u=y.line,s=y.marker,l=s.line,m=t({width:u.width,dash:{valType:"enumerated",values:n(p),dflt:"solid"}},L("line"));function h(c){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var g=U.exports=a({x:y.x,y:y.y,z:{valType:"data_array"},text:t({},y.text,{}),texttemplate:b({},{}),hovertext:t({},y.hovertext,{}),hovertemplate:S(),xhoverformat:i("x"),yhoverformat:i("y"),zhoverformat:i("z"),mode:t({},y.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:h(),y:h(),z:h()},connectgaps:y.connectgaps,line:m,marker:t({symbol:{valType:"enumerated",values:n(r),dflt:"circle",arrayOk:!0},size:t({},s.size,{dflt:8}),sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,opacity:t({},s.opacity,{arrayOk:!1}),colorbar:s.colorbar,line:t({width:t({},l.width,{arrayOk:!1})},L("marker.line"))},L("marker")),textposition:t({},y.textposition,{dflt:"top center"}),textfont:{color:y.textfont.color,size:y.textfont.size,family:t({},y.textfont.family,{arrayOk:!1})},opacity:v.opacity,hoverinfo:t({},v.hoverinfo)},"calc","nested");g.x.editType=g.y.editType=g.z.editType="calc+clearAxisTypes"},41484:function(U,B,e){var y=e(20148),L=e(90136);U.exports=function(S,b){var v=[{x:!1,y:!1,trace:b,t:{}}];return y(v,b),L(S,b),v}},45156:function(U,B,e){var y=e(24040);function L(b,v,p,r){if(!v||!v.visible)return null;for(var t=y.getComponentMethod("errorbars","makeComputeError")(v),a=new Array(b.length),n=0;n<b.length;n++){var u=t(+b[n],n);if(r.type==="log"){var s=r.c2l(b[n]),l=b[n]-u[0],m=b[n]+u[1];if(a[n]=[(r.c2l(l,!0)-s)*p,(r.c2l(m,!0)-s)*p],l>0){var h=r.c2l(l);r._lowerLogErrorBound||(r._lowerLogErrorBound=h),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,h)}}else a[n]=[-u[0]*p,u[1]*p]}return a}function i(b){for(var v=0;v<b.length;v++)if(b[v])return b[v].length;return 0}function S(b,v,p){var r=[L(b.x,b.error_x,v[0],p.xaxis),L(b.y,b.error_y,v[1],p.yaxis),L(b.z,b.error_z,v[2],p.zaxis)],t=i(r);if(t===0)return null;for(var a=new Array(t),n=0;n<t;n++){for(var u=[[0,0,0],[0,0,0]],s=0;s<3;s++)if(r[s])for(var l=0;l<2;l++)u[l][s]=r[s][n][l];a[n]=u}return a}U.exports=S},41064:function(U,B,e){var y=e(67792).gl_line3d,L=e(67792).gl_scatter3d,i=e(67792).gl_error3d,S=e(67792).gl_mesh3d,b=e(67792).delaunay_triangulate,v=e(3400),p=e(43080),r=e(33040).formatColor,t=e(7152),a=e(99168),n=e(87792),u=e(54460),s=e(10624).appendArrayPointValue,l=e(45156);function m(T,z){this.scene=T,this.uid=z,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var h=m.prototype;h.handlePick=function(T){if(T.object&&(T.object===this.linePlot||T.object===this.delaunayMesh||T.object===this.textMarkers||T.object===this.scatterPlot)){var z=T.index=T.data.index;return T.object.highlight&&T.object.highlight(null),this.scatterPlot&&(T.object=this.scatterPlot,this.scatterPlot.highlight(T.data)),T.textLabel="",this.textLabels&&(v.isArrayOrTypedArray(this.textLabels)?(this.textLabels[z]||this.textLabels[z]===0)&&(T.textLabel=this.textLabels[z]):T.textLabel=this.textLabels),T.traceCoordinate=[this.data.x[z],this.data.y[z],this.data.z[z]],!0}};function g(T,z,_){var V=(_+1)%3,F=(_+2)%3,N=[],k=[],I;for(I=0;I<T.length;++I){var H=T[I];isNaN(H[V])||!isFinite(H[V])||isNaN(H[F])||!isFinite(H[F])||(N.push([H[V],H[F]]),k.push(I))}var j=b(N);for(I=0;I<j.length;++I)for(var ee=j[I],te=0;te<ee.length;++te)ee[te]=k[ee[te]];return{positions:T,cells:j,meshColor:z}}function c(T){for(var z=[0,0,0],_=[[0,0,0],[0,0,0],[0,0,0]],V=[1,1,1],F=0;F<3;F++){var N=T[F];N&&N.copy_zstyle!==!1&&T[2].visible!==!1&&(N=T[2]),!(!N||!N.visible)&&(z[F]=N.width/2,_[F]=p(N.color),V[F]=N.thickness)}return{capSize:z,color:_,lineWidth:V}}function o(T){return T==null?0:T.indexOf("left")>-1?-1:T.indexOf("right")>-1?1:0}function d(T){return T==null?0:T.indexOf("top")>-1?-1:T.indexOf("bottom")>-1?1:0}function w(T){var z=0,_=0,V=[z,_];if(Array.isArray(T))for(var F=0;F<T.length;F++)V[F]=[z,_],T[F]&&(V[F][0]=o(T[F]),V[F][1]=d(T[F]));else V[0]=o(T),V[1]=d(T);return V}function A(T,z){return z(T*4)}function C(T){return n[T]}function x(T,z,_,V,F){var N=null;if(v.isArrayOrTypedArray(T)){N=[];for(var k=0;k<z;k++)T[k]===void 0?N[k]=V:N[k]=_(T[k],F)}else N=_(T,v.identity);return N}function E(T,z){var _=[],V=T.fullSceneLayout,F=T.dataScale,N=V.xaxis,k=V.yaxis,I=V.zaxis,H=z.marker,j=z.line,ee=z.x||[],te=z.y||[],ne=z.z||[],ue=ee.length,q=z.xcalendar,Y=z.ycalendar,Z=z.zcalendar,G,K,oe,$,J,se;for(J=0;J<ue;J++)G=N.d2l(ee[J],0,q)*F[0],K=k.d2l(te[J],0,Y)*F[1],oe=I.d2l(ne[J],0,Z)*F[2],_[J]=[G,K,oe];if(Array.isArray(z.text))se=z.text;else if(v.isTypedArray(z.text))se=Array.from(z.text);else if(z.text!==void 0)for(se=new Array(ue),J=0;J<ue;J++)se[J]=z.text;function ie(ut,et){var qe=V[ut];return u.tickText(qe,qe.d2l(et),!0).text}var ce=z.texttemplate;if(ce){var ye=T.fullLayout,Se=ye._d3locale,Te=Array.isArray(ce),ke=Te?Math.min(ce.length,ue):ue,we=Te?function(ut){return ce[ut]}:function(){return ce};for(se=new Array(ke),J=0;J<ke;J++){var Ee={x:ee[J],y:te[J],z:ne[J]},xe={xLabel:ie("xaxis",ee[J]),yLabel:ie("yaxis",te[J]),zLabel:ie("zaxis",ne[J])},De={};s(De,z,J);var Ve=z._meta||{};se[J]=v.texttemplateString(we(J),xe,Se,De,Ee,Ve)}}if($={position:_,mode:z.mode,text:se},"line"in z&&($.lineColor=r(j,1,ue),$.lineWidth=j.width,$.lineDashes=j.dash),"marker"in z){var Ue=t(z);$.scatterColor=r(H,1,ue),$.scatterSize=x(H.size,ue,A,20,Ue),$.scatterMarker=x(H.symbol,ue,C,"●"),$.scatterLineWidth=H.line.width,$.scatterLineColor=r(H.line,1,ue),$.scatterAngle=0}"textposition"in z&&($.textOffset=w(z.textposition),$.textColor=r(z.textfont,1,ue),$.textSize=x(z.textfont.size,ue,v.identity,12),$.textFont=z.textfont.family,$.textAngle=0);var Be=["x","y","z"];for($.project=[!1,!1,!1],$.projectScale=[1,1,1],$.projectOpacity=[1,1,1],J=0;J<3;++J){var Xe=z.projection[Be[J]];($.project[J]=Xe.show)&&($.projectOpacity[J]=Xe.opacity,$.projectScale[J]=Xe.scale)}$.errorBounds=l(z,F,V);var ot=c([z.error_x,z.error_y,z.error_z]);return $.errorColor=ot.color,$.errorLineWidth=ot.lineWidth,$.errorCapSize=ot.capSize,$.delaunayAxis=z.surfaceaxis,$.delaunayColor=p(z.surfacecolor),$}function M(T){if(v.isArrayOrTypedArray(T)){var z=T[0];return v.isArrayOrTypedArray(z)&&(T=z),"rgb("+T.slice(0,3).map(function(_){return Math.round(_*255)})+")"}return null}function f(T){return v.isArrayOrTypedArray(T)?T.length===4&&typeof T[0]=="number"?M(T):T.map(M):null}h.update=function(T){var z=this.scene.glplot.gl,_,V,F,N,k=a.solid;this.data=T;var I=E(this.scene,T);"mode"in I&&(this.mode=I.mode),"lineDashes"in I&&I.lineDashes in a&&(k=a[I.lineDashes]),this.color=f(I.scatterColor)||f(I.lineColor),this.dataPoints=I.position,_={gl:this.scene.glplot.gl,position:I.position,color:I.lineColor,lineWidth:I.lineWidth||1,dashes:k[0],dashScale:k[1],opacity:T.opacity,connectGaps:T.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(_):(this.linePlot=y(_),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var H=T.opacity;if(T.marker&&T.marker.opacity!==void 0&&(H*=T.marker.opacity),V={gl:this.scene.glplot.gl,position:I.position,color:I.scatterColor,size:I.scatterSize,glyph:I.scatterMarker,opacity:H,orthographic:!0,lineWidth:I.scatterLineWidth,lineColor:I.scatterLineColor,project:I.project,projectScale:I.projectScale,projectOpacity:I.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(V):(this.scatterPlot=L(V),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),N={gl:this.scene.glplot.gl,position:I.position,glyph:I.text,color:I.textColor,size:I.textSize,angle:I.textAngle,alignment:I.textOffset,font:I.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:T.opacity},this.textLabels=T.hovertext||T.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(N):(this.textMarkers=L(N),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),F={gl:this.scene.glplot.gl,position:I.position,color:I.errorColor,error:I.errorBounds,lineWidth:I.errorLineWidth,capSize:I.errorCapSize,opacity:T.opacity},this.errorBars?I.errorBounds?this.errorBars.update(F):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):I.errorBounds&&(this.errorBars=i(F),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),I.delaunayAxis>=0){var j=g(I.position,I.delaunayColor,I.delaunayAxis);j.opacity=T.opacity,this.delaunayMesh?this.delaunayMesh.update(j):(j.gl=z,this.delaunayMesh=S(j),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},h.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function P(T,z){var _=new m(T,z.uid);return _.update(z),_}U.exports=P},83484:function(U,B,e){var y=e(24040),L=e(3400),i=e(43028),S=e(74428),b=e(66828),v=e(124),p=e(91592);U.exports=function(a,n,u,s){function l(A,C){return L.coerce(a,n,p,A,C)}var m=r(a,n,l,s);if(!m){n.visible=!1;return}l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),i.hasMarkers(n)&&S(a,n,u,s,l,{noSelect:!0,noAngle:!0}),i.hasLines(n)&&(l("connectgaps"),b(a,n,u,s,l)),i.hasText(n)&&(l("texttemplate"),v(a,n,s,l,{noSelect:!0}));var h=(n.line||{}).color,g=(n.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",h||g);for(var c=["x","y","z"],o=0;o<3;++o){var d="projection."+c[o];l(d+".show")&&(l(d+".opacity"),l(d+".scale"))}var w=y.getComponentMethod("errorbars","supplyDefaults");w(a,n,h||g||u,{axis:"z"}),w(a,n,h||g||u,{axis:"y",inherit:"z"}),w(a,n,h||g||u,{axis:"x",inherit:"z"})};function r(t,a,n,u){var s=0,l=n("x"),m=n("y"),h=n("z"),g=y.getComponentMethod("calendars","handleTraceDefaults");return g(t,a,["x","y","z"],u),l&&m&&h&&(s=Math.min(l.length,m.length,h.length),a._length=a._xlength=a._ylength=a._zlength=s),s}},3296:function(U,B,e){U.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(U,B,e){var y=e(98304),L=e(52904),i=e(45464),S=e(21776).Ks,b=e(21776).Gw,v=e(49084),p=e(92880).extendFlat,r=L.marker,t=L.line,a=r.line;U.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:p({},L.mode,{dflt:"markers"}),text:p({},L.text,{}),texttemplate:b({editType:"plot"},{keys:["a","b","text"]}),hovertext:p({},L.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:p({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:L.connectgaps,fill:p({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:y(),marker:p({symbol:r.symbol,opacity:r.opacity,maxdisplayed:r.maxdisplayed,angle:r.angle,angleref:r.angleref,standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:p({width:a.width,editType:"calc"},v("marker.line")),gradient:r.gradient,editType:"calc"},v("marker")),textfont:L.textfont,textposition:L.textposition,selected:L.selected,unselected:L.unselected,hoverinfo:p({},i.hoverinfo,{flags:["a","b","text","name"]}),hoveron:L.hoveron,hovertemplate:S()}},48228:function(U,B,e){var y=e(38248),L=e(90136),i=e(20148),S=e(4500),b=e(16356).calcMarkerSize,v=e(50948);U.exports=function(r,t){var a=t._carpetTrace=v(r,t);if(!(!a||!a.visible||a.visible==="legendonly")){var n;t.xaxis=a.xaxis,t.yaxis=a.yaxis;var u=t._length,s=new Array(u),l,m,h=!1;for(n=0;n<u;n++)if(l=t.a[n],m=t.b[n],y(l)&&y(m)){var g=a.ab2xy(+l,+m,!0),c=a.isVisible(+l,+m);c||(h=!0),s[n]={x:g[0],y:g[1],a:l,b:m,vis:c}}else s[n]={x:!1,y:!1};return t._needsCull=h,s[0].carpet=a,s[0].trace=t,b(t,u),L(r,t),i(s,t),S(s,t),s}}},6176:function(U,B,e){var y=e(3400),L=e(88200),i=e(43028),S=e(74428),b=e(66828),v=e(11731),p=e(124),r=e(70840),t=e(90372);U.exports=function(n,u,s,l){function m(A,C){return y.coerce(n,u,t,A,C)}m("carpet"),u.xaxis="x",u.yaxis="y";var h=m("a"),g=m("b"),c=Math.min(h.length,g.length);if(!c){u.visible=!1;return}u._length=c,m("text"),m("texttemplate"),m("hovertext");var o=c<L.PTS_LINESONLY?"lines+markers":"lines";m("mode",o),i.hasMarkers(u)&&S(n,u,s,l,m,{gradient:!0}),i.hasLines(u)&&(b(n,u,s,l,m,{backoff:!0}),v(n,u,m),m("connectgaps")),i.hasText(u)&&p(n,u,l,m);var d=[];(i.hasMarkers(u)||i.hasText(u))&&(m("marker.maxdisplayed"),d.push("points")),m("fill"),u.fill!=="none"&&(r(n,u,s,m),i.hasLines(u)||v(n,u,m)),(u.fill==="tonext"||u.fill==="toself")&&d.push("fills");var w=m("hoveron",d.join("+")||"points");w!=="fills"&&m("hovertemplate"),y.coerceSelectionMarkerOpacity(u,m)}},89307:function(U){U.exports=function(e,y,L,i,S){var b=i[S];return e.a=b.a,e.b=b.b,e.y=b.y,e}},52364:function(U){U.exports=function(e,y){var L={},i=y._carpet,S=i.ab2ij([e.a,e.b]),b=Math.floor(S[0]),v=S[0]-b,p=Math.floor(S[1]),r=S[1]-p,t=i.evalxy([],b,p,v,r);return L.yLabel=t[1].toFixed(3),L}},58960:function(U,B,e){var y=e(98723),L=e(3400).fillText;U.exports=function(S,b,v,p){var r=y(S,b,v,p);if(!r||r[0].index===!1)return;var t=r[0];if(t.index===void 0){var a=1-t.y0/S.ya._length,n=S.xa._length,u=n*a/2,s=n-u;return t.x0=Math.max(Math.min(t.x0,s),u),t.x1=Math.max(Math.min(t.x1,s),u),r}var l=t.cd[t.index];t.a=l.a,t.b=l.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var m=t.trace,h=m._carpet,g=m._module.formatLabels(l,m);t.yLabel=g.yLabel,delete t.text;var c=[];function o(A,C){var x;A.labelprefix&&A.labelprefix.length>0?x=A.labelprefix.replace(/ = $/,""):x=A._hovertitle,c.push(x+": "+C.toFixed(3)+A.labelsuffix)}if(!m.hovertemplate){var d=l.hi||m.hoverinfo,w=d.split("+");w.indexOf("all")!==-1&&(w=["a","b","text"]),w.indexOf("a")!==-1&&o(h.aaxis,l.a),w.indexOf("b")!==-1&&o(h.baxis,l.b),c.push("y: "+t.yLabel),w.indexOf("text")!==-1&&L(l,m,c),t.extraText=c.join("<br>")}return r}},4184:function(U,B,e){U.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(U,B,e){var y=e(96504),L=e(54460),i=e(43616);U.exports=function(b,v,p,r){var t,a,n,u=p[0][0].carpet,s=L.getFromId(b,u.xaxis||"x"),l=L.getFromId(b,u.yaxis||"y"),m={xaxis:s,yaxis:l,plot:v.plot};for(t=0;t<p.length;t++)a=p[t][0].trace,a._xA=s,a._yA=l;for(y(b,m,p,r),t=0;t<p.length;t++)a=p[t][0].trace,n=r.selectAll("g.trace"+a.uid+" .js-line"),i.setClipUrl(n,p[t][0].carpet._clipPathId,b)}},6096:function(U,B,e){var y=e(21776).Ks,L=e(21776).Gw,i=e(98304),S=e(52904),b=e(45464),v=e(49084),p=e(98192).u,r=e(92880).extendFlat,t=e(67824).overrideAll,a=S.marker,n=S.line,u=a.line;U.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:r({},S.mode,{dflt:"markers"}),text:r({},S.text,{}),texttemplate:L({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:r({},S.hovertext,{}),textfont:S.textfont,textposition:S.textposition,line:{color:n.color,width:n.width,dash:p},connectgaps:S.connectgaps,marker:r({symbol:a.symbol,opacity:a.opacity,angle:a.angle,angleref:r({},a.angleref,{values:["previous","up","north"]}),standoff:a.standoff,size:a.size,sizeref:a.sizeref,sizemin:a.sizemin,sizemode:a.sizemode,colorbar:a.colorbar,line:r({width:u.width},v("marker.line")),gradient:a.gradient},v("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:i(),selected:S.selected,unselected:S.unselected,hoverinfo:r({},b.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:y()},"calc","nested")},25212:function(U,B,e){var y=e(38248),L=e(39032).BADNUM,i=e(90136),S=e(20148),b=e(4500),v=e(3400).isArrayOrTypedArray,p=e(3400)._;function r(t){return t&&typeof t=="string"}U.exports=function(a,n){var u=v(n.locations),s=u?n.locations.length:n._length,l=new Array(s),m;n.geojson?m=function(w){return r(w)||y(w)}:m=r;for(var h=0;h<s;h++){var g=l[h]={};if(u){var c=n.locations[h];g.loc=m(c)?c:null}else{var o=n.lon[h],d=n.lat[h];y(o)&&y(d)?g.lonlat=[+o,+d]:g.lonlat=[L,L]}}return S(l,n),i(a,n),b(l,n),s&&(l[0].t={labels:{lat:p(a,"lat:")+" ",lon:p(a,"lon:")+" "}}),l}},86188:function(U,B,e){var y=e(3400),L=e(43028),i=e(74428),S=e(66828),b=e(124),v=e(70840),p=e(6096);U.exports=function(t,a,n,u){function s(w,A){return y.coerce(t,a,p,w,A)}var l=s("locations"),m;if(l&&l.length){var h=s("geojson"),g;(typeof h=="string"&&h!==""||y.isPlainObject(h))&&(g="geojson-id");var c=s("locationmode",g);c==="geojson-id"&&s("featureidkey"),m=l.length}else{var o=s("lon")||[],d=s("lat")||[];m=Math.min(o.length,d.length)}if(!m){a.visible=!1;return}a._length=m,s("text"),s("hovertext"),s("hovertemplate"),s("mode"),L.hasMarkers(a)&&i(t,a,n,u,s,{gradient:!0}),L.hasLines(a)&&(S(t,a,n,u,s),s("connectgaps")),L.hasText(a)&&(s("texttemplate"),b(t,a,u,s)),s("fill"),a.fill!=="none"&&v(t,a,n,s),y.coerceSelectionMarkerOpacity(a,s)}},58544:function(U){U.exports=function(e,y,L,i,S){e.lon=y.lon,e.lat=y.lat,e.location=y.loc?y.loc:null;var b=i[S];return b.fIn&&b.fIn.properties&&(e.properties=b.fIn.properties),e}},56696:function(U,B,e){var y=e(54460);U.exports=function(i,S,b){var v={},p=b[S.geo]._subplot,r=p.mockAxis,t=i.lonlat;return v.lonLabel=y.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=y.tickText(r,r.c2l(t[1]),!0).text,v}},64292:function(U,B,e){var y=e(93024),L=e(39032).BADNUM,i=e(44928),S=e(3400).fillText,b=e(6096);U.exports=function(r,t,a){var n=r.cd,u=n[0].trace,s=r.xa,l=r.ya,m=r.subplot,h=m.projection.isLonLatOverEdges,g=m.project;function c(E){var M=E.lonlat;if(M[0]===L||h(M))return 1/0;var f=g(M),P=g([t,a]),T=Math.abs(f[0]-P[0]),z=Math.abs(f[1]-P[1]),_=Math.max(3,E.mrc||0);return Math.max(Math.sqrt(T*T+z*z)-_,1-3/_)}if(y.getClosest(n,c,r),r.index!==!1){var o=n[r.index],d=o.lonlat,w=[s.c2p(d),l.c2p(d)],A=o.mrc||1;r.x0=w[0]-A,r.x1=w[0]+A,r.y0=w[1]-A,r.y1=w[1]+A,r.loc=o.loc,r.lon=d[0],r.lat=d[1];var C={};C[u.geo]={_subplot:m};var x=u._module.formatLabels(o,u,C);return r.lonLabel=x.lonLabel,r.latLabel=x.latLabel,r.color=i(u,o),r.extraText=v(u,o,r,n[0].t.labels),r.hovertemplate=u.hovertemplate,[r]}};function v(p,r,t,a){if(p.hovertemplate)return;var n=r.hi||p.hoverinfo,u=n==="all"?b.hoverinfo.flags:n.split("+"),s=u.indexOf("location")!==-1&&Array.isArray(p.locations),l=u.indexOf("lon")!==-1,m=u.indexOf("lat")!==-1,h=u.indexOf("text")!==-1,g=[];function c(o){return o+"°"}return s?g.push(r.loc):l&&m?g.push("("+c(t.latLabel)+", "+c(t.lonLabel)+")"):l?g.push(a.lon+c(t.lonLabel)):m&&g.push(a.lat+c(t.latLabel)),h&&S(r,p,g),g.join("<br>")}},36952:function(U,B,e){U.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(U,B,e){var y=e(33428),L=e(3400),i=e(59972).getTopojsonFeatures,S=e(44808),b=e(27144),v=e(19280).findExtremes,p=e(39032).BADNUM,r=e(16356).calcMarkerSize,t=e(43028),a=e(25064);function n(s,l,m){var h=l.layers.frontplot.select(".scatterlayer"),g=L.makeTraceGroups(h,m,"trace scattergeo");function c(o,d){o.lonlat[0]===p&&y.select(d).remove()}g.selectAll("*").remove(),g.each(function(o){var d=y.select(this),w=o[0].trace;if(t.hasLines(w)||w.fill!=="none"){var A=S.calcTraceToLineCoords(o),C=w.fill!=="none"?S.makePolygon(A):S.makeLine(A);d.selectAll("path.js-line").data([{geojson:C,trace:w}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}t.hasMarkers(w)&&d.selectAll("path.point").data(L.identity).enter().append("path").classed("point",!0).each(function(x){c(x,this)}),t.hasText(w)&&d.selectAll("g").data(L.identity).enter().append("g").append("text").each(function(x){c(x,this)}),a(s,o)})}function u(s,l){var m=s[0].trace,h=l[m.geo],g=h._subplot,c=m._length,o,d;if(L.isArrayOrTypedArray(m.locations)){var w=m.locationmode,A=w==="geojson-id"?b.extractTraceFeature(s):i(m,g.topojson);for(o=0;o<c;o++){d=s[o];var C=w==="geojson-id"?d.fOut:b.locationToFeature(w,d.loc,A);d.lonlat=C?C.properties.ct:[p,p]}}var x={padded:!0},E,M;if(h.fitbounds==="geojson"&&m.locationmode==="geojson-id"){var f=b.computeBbox(b.getTraceGeojson(m));E=[f[0],f[2]],M=[f[1],f[3]]}else{for(E=new Array(c),M=new Array(c),o=0;o<c;o++)d=s[o],E[o]=d.lonlat[0],M[o]=d.lonlat[1];x.ppad=r(m,c)}m._extremes.lon=v(h.lonaxis._ax,E,x),m._extremes.lat=v(h.lataxis._ax,M,x)}U.exports={calcGeoJSON:u,plot:n}},8796:function(U,B,e){var y=e(43028),L=e(39032).BADNUM;U.exports=function(S,b){var v=S.cd,p=S.xaxis,r=S.yaxis,t=[],a=v[0].trace,n,u,s,l,m,h=!y.hasMarkers(a)&&!y.hasText(a);if(h)return[];if(b===!1)for(m=0;m<v.length;m++)v[m].selected=0;else for(m=0;m<v.length;m++)n=v[m],u=n.lonlat,u[0]!==L&&(s=p.c2p(u),l=r.c2p(u),b.contains([s,l],null,m,S)?(t.push({pointNumber:m,lon:u[0],lat:u[1]}),n.selected=1):n.selected=0);return t}},25064:function(U,B,e){var y=e(33428),L=e(43616),i=e(76308),S=e(49224),b=S.stylePoints,v=S.styleText;U.exports=function(t,a){a&&p(t,a)};function p(r,t){var a=t[0].trace,n=t[0].node3;n.style("opacity",t[0].trace.opacity),b(n,a,r),v(n,a,r),n.selectAll("path.js-line").style("fill","none").each(function(u){var s=y.select(this),l=u.trace,m=l.line||{};s.call(i.stroke,m.color).call(L.dashLine,m.dash||"",m.width||0),l.fill!=="none"&&s.call(i.fill,l.fillcolor)})}},2876:function(U,B,e){var y=e(45464),L=e(98304),i=e(52904),S=e(29736).axisHoverFormat,b=e(49084),v=e(95376),p=e(92880).extendFlat,r=e(67824).overrideAll,t=e(67072).DASHES,a=i.line,n=i.marker,u=n.line,s=U.exports=r({x:i.x,x0:i.x0,dx:i.dx,y:i.y,y0:i.y0,dy:i.dy,xperiod:i.xperiod,yperiod:i.yperiod,xperiod0:i.xperiod0,yperiod0:i.yperiod0,xperiodalignment:i.xperiodalignment,yperiodalignment:i.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),text:i.text,hovertext:i.hovertext,textposition:i.textposition,textfont:i.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:a.color,width:a.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:v(t),dflt:"solid"}},marker:p({},b("marker"),{symbol:n.symbol,angle:n.angle,size:n.size,sizeref:n.sizeref,sizemin:n.sizemin,sizemode:n.sizemode,opacity:n.opacity,colorbar:n.colorbar,line:p({},b("marker.line"),{width:u.width})}),connectgaps:i.connectgaps,fill:p({},i.fill,{dflt:"none"}),fillcolor:L(),selected:{marker:i.selected.marker,textfont:i.selected.textfont},unselected:{marker:i.unselected.marker,textfont:i.unselected.textfont},opacity:y.opacity},"calc","nested");s.x.editType=s.y.editType=s.x0.editType=s.y0.editType="calc+clearAxisTypes",s.hovertemplate=i.hovertemplate,s.texttemplate=i.texttemplate},64628:function(U,B,e){var y=e(41272);U.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:y.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(U,B,e){var y=e(3108),L=e(3400),i=e(79811),S=e(19280).findExtremes,b=e(1220),v=e(16356),p=v.calcMarkerSize,r=v.calcAxisExpansion,t=v.setFirstScatter,a=e(90136),n=e(84236),u=e(74588),s=e(39032).BADNUM,l=e(67072).TOO_MANY_POINTS;U.exports=function(c,o){var d=c._fullLayout,w=o._xA=i.getFromId(c,o.xaxis,"x"),A=o._yA=i.getFromId(c,o.yaxis,"y"),C=d._plots[o.xaxis+o.yaxis],x=o._length,E=x>=l,M=x*2,f={},P,T=w.makeCalcdata(o,"x"),z=A.makeCalcdata(o,"y"),_=b(o,w,"x",T),V=b(o,A,"y",z),F=_.vals,N=V.vals;o._x=F,o._y=N,o.xperiodalignment&&(o._origX=T,o._xStarts=_.starts,o._xEnds=_.ends),o.yperiodalignment&&(o._origY=z,o._yStarts=V.starts,o._yEnds=V.ends);var k=new Array(M),I=new Array(x);for(P=0;P<x;P++)k[P*2]=F[P]===s?NaN:F[P],k[P*2+1]=N[P]===s?NaN:N[P],I[P]=P;if(w.type==="log")for(P=0;P<M;P+=2)k[P]=w.c2l(k[P]);if(A.type==="log")for(P=1;P<M;P+=2)k[P]=A.c2l(k[P]);E&&w.type!=="log"&&A.type!=="log"?f.tree=y(k):f.ids=I,a(c,o);var H=h(c,C,o,k,F,N),j=u(c,C);t(d,o);var ee;return E?H.marker&&(ee=H.marker.sizeAvg||Math.max(H.marker.size,3)):ee=p(o,x),r(c,o,w,A,F,N,ee),H.errorX&&m(o,w,H.errorX),H.errorY&&m(o,A,H.errorY),H.fill&&!j.fill2d&&(j.fill2d=!0),H.marker&&!j.scatter2d&&(j.scatter2d=!0),H.line&&!j.line2d&&(j.line2d=!0),(H.errorX||H.errorY)&&!j.error2d&&(j.error2d=!0),H.text&&!j.glText&&(j.glText=!0),H.marker&&(H.marker.snap=x),j.lineOptions.push(H.line),j.errorXOptions.push(H.errorX),j.errorYOptions.push(H.errorY),j.fillOptions.push(H.fill),j.markerOptions.push(H.marker),j.markerSelectedOptions.push(H.markerSel),j.markerUnselectedOptions.push(H.markerUnsel),j.textOptions.push(H.text),j.textSelectedOptions.push(H.textSel),j.textUnselectedOptions.push(H.textUnsel),j.selectBatch.push([]),j.unselectBatch.push([]),f._scene=j,f.index=j.count,f.x=F,f.y=N,f.positions=k,j.count++,[{x:!1,y:!1,t:f,trace:o}]};function m(g,c,o){var d=g._extremes[c._id],w=S(c,o._bnds,{padded:!0});d.min=d.min.concat(w.min),d.max=d.max.concat(w.max)}function h(g,c,o,d,w,A){var C=n.style(g,o);if(C.marker&&(C.marker.positions=d),C.line&&d.length>1&&L.extendFlat(C.line,n.linePositions(g,o,d)),C.errorX||C.errorY){var x=n.errorBarPositions(g,o,d,w,A);C.errorX&&L.extendFlat(C.errorX,x.x),C.errorY&&L.extendFlat(C.errorY,x.y)}return C.text&&(L.extendFlat(C.text,{positions:d},n.textPosition(g,o,C.text,C.marker)),L.extendFlat(C.textSel,{positions:d},n.textPosition(g,o,C.text,C.markerSel)),L.extendFlat(C.textUnsel,{positions:d},n.textPosition(g,o,C.text,C.markerUnsel))),C}},67072:function(U){var B=20;U.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:B,SYMBOL_STROKE:B/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(U,B,e){var y=e(38248),L=e(20472),i=e(72160),S=e(24040),b=e(3400),v=b.isArrayOrTypedArray,p=e(43616),r=e(79811),t=e(33040).formatColor,a=e(43028),n=e(7152),u=e(80088),s=e(67072),l=e(13448).DESELECTDIM,m={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},h=e(10624).appendArrayPointValue;function g(V,F){var N,k={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},I=V._context.plotGlPixelRatio;if(F.visible!==!0)return k;if(a.hasText(F)&&(k.text=c(V,F),k.textSel=w(V,F,F.selected),k.textUnsel=w(V,F,F.unselected)),a.hasMarkers(F)&&(k.marker=o(V,F),k.markerSel=d(V,F,F.selected),k.markerUnsel=d(V,F,F.unselected),!F.unselected&&v(F.marker.opacity))){var H=F.marker.opacity;for(k.markerUnsel.opacity=new Array(H.length),N=0;N<H.length;N++)k.markerUnsel.opacity[N]=l*H[N]}if(a.hasLines(F)){k.line={overlay:!0,thickness:F.line.width*I,color:F.line.color,opacity:F.opacity};var j=(s.DASHES[F.line.dash]||[1]).slice();for(N=0;N<j.length;++N)j[N]*=F.line.width*I;k.line.dashes=j}return F.error_x&&F.error_x.visible&&(k.errorX=A(F,F.error_x,I)),F.error_y&&F.error_y.visible&&(k.errorY=A(F,F.error_y,I)),F.fill&&F.fill!=="none"&&(k.fill={closed:!0,fill:F.fillcolor,thickness:0}),k}function c(V,F){var N=V._fullLayout,k=F._length,I=F.textfont,H=F.textposition,j=v(H)?H:[H],ee=I.color,te=I.size,ne=I.family,ue={},q,Y=V._context.plotGlPixelRatio,Z=F.texttemplate;if(Z){ue.text=[];var G=N._d3locale,K=Array.isArray(Z),oe=K?Math.min(Z.length,k):k,$=K?function(Te){return Z[Te]}:function(){return Z};for(q=0;q<oe;q++){var J={i:q},se=F._module.formatLabels(J,F,N),ie={};h(ie,F,q);var ce=F._meta||{};ue.text.push(b.texttemplateString($(q),se,G,ie,J,ce))}}else v(F.text)&&F.text.length<k?ue.text=F.text.slice():ue.text=F.text;if(v(ue.text))for(q=ue.text.length;q<k;q++)ue.text[q]="";for(ue.opacity=F.opacity,ue.font={},ue.align=[],ue.baseline=[],q=0;q<j.length;q++){var ye=j[q].split(/\s+/);switch(ye[1]){case"left":ue.align.push("right");break;case"right":ue.align.push("left");break;default:ue.align.push(ye[1])}switch(ye[0]){case"top":ue.baseline.push("bottom");break;case"bottom":ue.baseline.push("top");break;default:ue.baseline.push(ye[0])}}if(v(ee))for(ue.color=new Array(k),q=0;q<k;q++)ue.color[q]=ee[q];else ue.color=ee;if(v(te)||v(ne))for(ue.font=new Array(k),q=0;q<k;q++){var Se=ue.font[q]={};Se.size=(b.isTypedArray(te)?te[q]:v(te)?y(te[q])?te[q]:0:te)*Y,Se.family=v(ne)?ne[q]:ne}else ue.font={size:te*Y,family:ne};return ue}function o(V,F){var N=F._length,k=F.marker,I={},H,j=v(k.symbol),ee=v(k.angle),te=v(k.color),ne=v(k.line.color),ue=v(k.opacity),q=v(k.size),Y=v(k.line.width),Z;if(j||(Z=u.isOpenSymbol(k.symbol)),j||te||ne||ue||ee){I.symbols=new Array(N),I.angles=new Array(N),I.colors=new Array(N),I.borderColors=new Array(N);var G=k.symbol,K=k.angle,oe=t(k,k.opacity,N),$=t(k.line,k.opacity,N);if(!v($[0])){var J=$;for($=Array(N),H=0;H<N;H++)$[H]=J}if(!v(oe[0])){var se=oe;for(oe=Array(N),H=0;H<N;H++)oe[H]=se}if(!v(G)){var ie=G;for(G=Array(N),H=0;H<N;H++)G[H]=ie}if(!v(K)){var ce=K;for(K=Array(N),H=0;H<N;H++)K[H]=ce}for(I.symbols=G,I.angles=K,I.colors=oe,I.borderColors=$,H=0;H<N;H++)j&&(Z=u.isOpenSymbol(k.symbol[H])),Z&&($[H]=oe[H].slice(),oe[H]=oe[H].slice(),oe[H][3]=0);for(I.opacity=F.opacity,I.markers=new Array(N),H=0;H<N;H++)I.markers[H]=P({mx:I.symbols[H],ma:I.angles[H]},F)}else Z?(I.color=i(k.color,"uint8"),I.color[3]=0,I.borderColor=i(k.color,"uint8")):(I.color=i(k.color,"uint8"),I.borderColor=i(k.line.color,"uint8")),I.opacity=F.opacity*k.opacity,I.marker=P({mx:k.symbol,ma:k.angle},F);var ye=1,Se=n(F,ye),Te;if(q||Y){var ke=I.sizes=new Array(N),we=I.borderSizes=new Array(N),Ee=0,xe;if(q){for(H=0;H<N;H++)ke[H]=Se(k.size[H]),Ee+=ke[H];xe=Ee/N}else for(Te=Se(k.size),H=0;H<N;H++)ke[H]=Te;if(Y)for(H=0;H<N;H++)we[H]=k.line.width[H];else for(Te=k.line.width,H=0;H<N;H++)we[H]=Te;I.sizeAvg=xe}else I.size=Se(k&&k.size||10),I.borderSizes=Se(k.line.width);return I}function d(V,F,N){var k=F.marker,I={};return N&&(N.marker&&N.marker.symbol?I=o(V,b.extendFlat({},k,N.marker)):N.marker&&(N.marker.size&&(I.size=N.marker.size),N.marker.color&&(I.colors=N.marker.color),N.marker.opacity!==void 0&&(I.opacity=N.marker.opacity))),I}function w(V,F,N){var k={};if(!N)return k;if(N.textfont){var I={opacity:1,text:F.text,texttemplate:F.texttemplate,textposition:F.textposition,textfont:b.extendFlat({},F.textfont)};N.textfont&&b.extendFlat(I.textfont,N.textfont),k=c(V,I)}return k}function A(V,F,N){var k={capSize:F.width*2*N,lineWidth:F.thickness*N,color:F.color};return F.copy_ystyle&&(k=V.error_y),k}var C=s.SYMBOL_SDF_SIZE,x=s.SYMBOL_SIZE,E=s.SYMBOL_STROKE,M={},f=p.symbolFuncs[0](x*.05);function P(V,F){var N=V.mx;if(N==="circle")return null;var k,I,H=p.symbolNumber(N),j=p.symbolFuncs[H%100],ee=!!p.symbolNoDot[H%100],te=!!p.symbolNoFill[H%100],ne=u.isDotSymbol(N);if(V.ma&&(N+="_"+V.ma),M[N])return M[N];var ue=p.getMarkerAngle(V,F);return ne&&!ee?k=j(x*1.1,ue)+f:k=j(x,ue),I=L(k,{w:C,h:C,viewBox:[-x,-x,x,x],stroke:te?E:-E}),M[N]=I,I||null}function T(V,F,N){var k=N.length,I=k/2,H,j;if(a.hasLines(F)&&I)if(F.line.shape==="hv"){for(H=[],j=0;j<I-1;j++)isNaN(N[j*2])||isNaN(N[j*2+1])?H.push(NaN,NaN,NaN,NaN):(H.push(N[j*2],N[j*2+1]),!isNaN(N[j*2+2])&&!isNaN(N[j*2+3])?H.push(N[j*2+2],N[j*2+1]):H.push(NaN,NaN));H.push(N[k-2],N[k-1])}else if(F.line.shape==="hvh"){for(H=[],j=0;j<I-1;j++)if(isNaN(N[j*2])||isNaN(N[j*2+1])||isNaN(N[j*2+2])||isNaN(N[j*2+3]))!isNaN(N[j*2])&&!isNaN(N[j*2+1])?H.push(N[j*2],N[j*2+1]):H.push(NaN,NaN),H.push(NaN,NaN);else{var ee=(N[j*2]+N[j*2+2])/2;H.push(N[j*2],N[j*2+1],ee,N[j*2+1],ee,N[j*2+3])}H.push(N[k-2],N[k-1])}else if(F.line.shape==="vhv"){for(H=[],j=0;j<I-1;j++)if(isNaN(N[j*2])||isNaN(N[j*2+1])||isNaN(N[j*2+2])||isNaN(N[j*2+3]))!isNaN(N[j*2])&&!isNaN(N[j*2+1])?H.push(N[j*2],N[j*2+1]):H.push(NaN,NaN),H.push(NaN,NaN);else{var te=(N[j*2+1]+N[j*2+3])/2;H.push(N[j*2],N[j*2+1],N[j*2],te,N[j*2+2],te)}H.push(N[k-2],N[k-1])}else if(F.line.shape==="vh"){for(H=[],j=0;j<I-1;j++)isNaN(N[j*2])||isNaN(N[j*2+1])?H.push(NaN,NaN,NaN,NaN):(H.push(N[j*2],N[j*2+1]),!isNaN(N[j*2+2])&&!isNaN(N[j*2+3])?H.push(N[j*2],N[j*2+3]):H.push(NaN,NaN));H.push(N[k-2],N[k-1])}else H=N;var ne=!1;for(j=0;j<H.length;j++)if(isNaN(H[j])){ne=!0;break}var ue=ne||H.length>s.TOO_MANY_POINTS||a.hasMarkers(F)?"rect":"round";if(ne&&F.connectgaps){var q=H[0],Y=H[1];for(j=0;j<H.length;j+=2)isNaN(H[j])||isNaN(H[j+1])?(H[j]=q,H[j+1]=Y):(q=H[j],Y=H[j+1])}return{join:ue,positions:H}}function z(V,F,N,k,I){var H=S.getComponentMethod("errorbars","makeComputeError"),j=r.getFromId(V,F.xaxis,"x"),ee=r.getFromId(V,F.yaxis,"y"),te=N.length/2,ne={};function ue(q,Y){var Z=Y._id.charAt(0),G=F["error_"+Z];if(G&&G.visible&&(Y.type==="linear"||Y.type==="log")){for(var K=H(G),oe={x:0,y:1}[Z],$={x:[0,1,2,3],y:[2,3,0,1]}[Z],J=new Float64Array(4*te),se=1/0,ie=-1/0,ce=0,ye=0;ce<te;ce++,ye+=4){var Se=q[ce];if(y(Se)){var Te=N[ce*2+oe],ke=K(Se,ce),we=ke[0],Ee=ke[1];if(y(we)&&y(Ee)){var xe=Se-we,De=Se+Ee;J[ye+$[0]]=Te-Y.c2l(xe),J[ye+$[1]]=Y.c2l(De)-Te,J[ye+$[2]]=0,J[ye+$[3]]=0,se=Math.min(se,Se-we),ie=Math.max(ie,Se+Ee)}}}ne[Z]={positions:N,errors:J,_bnds:[se,ie]}}}return ue(k,j),ue(I,ee),ne}function _(V,F,N,k){var I=F._length,H={},j;if(a.hasMarkers(F)){var ee=N.font,te=N.align,ne=N.baseline;for(H.offset=new Array(I),j=0;j<I;j++){var ue=k.sizes?k.sizes[j]:k.size,q=v(ee)?ee[j].size:ee.size,Y=v(te)?te.length>1?te[j]:te[0]:te,Z=v(ne)?ne.length>1?ne[j]:ne[0]:ne,G=m[Y],K=m[Z],oe=ue?ue/.8+1:0,$=-K*oe-K*.5;H.offset[j]=[G*oe/q,$/q]}}return H}U.exports={style:g,markerStyle:o,markerSelection:d,linePositions:T,errorBarPositions:z,textPosition:_}},80220:function(U,B,e){var y=e(3400),L=e(24040),i=e(80088),S=e(2876),b=e(88200),v=e(43028),p=e(43980),r=e(31147),t=e(74428),a=e(66828),n=e(70840),u=e(124);U.exports=function(l,m,h,g){function c(M,f){return y.coerce(l,m,S,M,f)}var o=l.marker?i.isOpenSymbol(l.marker.symbol):!1,d=v.isBubble(l),w=p(l,m,g,c);if(!w){m.visible=!1;return}r(l,m,g,c),c("xhoverformat"),c("yhoverformat");var A=w<b.PTS_LINESONLY?"lines+markers":"lines";c("text"),c("hovertext"),c("hovertemplate"),c("mode",A),v.hasMarkers(m)&&(t(l,m,h,g,c,{noAngleRef:!0,noStandOff:!0}),c("marker.line.width",o||d?1:0)),v.hasLines(m)&&(c("connectgaps"),a(l,m,h,g,c),c("line.shape")),v.hasText(m)&&(c("texttemplate"),u(l,m,g,c));var C=(m.line||{}).color,x=(m.marker||{}).color;c("fill"),m.fill!=="none"&&n(l,m,h,c);var E=L.getComponentMethod("errorbars","supplyDefaults");E(l,m,C||x||h,{axis:"y"}),E(l,m,C||x||h,{axis:"x",inherit:"y"}),y.coerceSelectionMarkerOpacity(m,c)}},26768:function(U,B,e){var y=e(3400),L=e(76308),i=e(13448).DESELECTDIM;function S(b){var v=b[0],p=v.trace,r=v.t,t=r._scene,a=r.index,n=t.selectBatch[a],u=t.unselectBatch[a],s=t.textOptions[a],l=t.textSelectedOptions[a]||{},m=t.textUnselectedOptions[a]||{},h=y.extendFlat({},s),g,c;if(n.length||u.length){var o=l.color,d=m.color,w=s.color,A=y.isArrayOrTypedArray(w);for(h.color=new Array(p._length),g=0;g<n.length;g++)c=n[g],h.color[c]=o||(A?w[c]:w);for(g=0;g<u.length;g++){c=u[g];var C=A?w[c]:w;h.color[c]=d||(o?C:L.addOpacity(C,i))}}t.glText[a].update(h)}U.exports={styleTextSelection:S}},99396:function(U,B,e){var y=e(76688);U.exports=function(i,S,b){var v=i.i;return"x"in i||(i.x=S._x[v]),"y"in i||(i.y=S._y[v]),y(i,S,b)}},80088:function(U,B,e){var y=e(67072);B.isOpenSymbol=function(L){return typeof L=="string"?y.OPEN_RE.test(L):L%200>100},B.isDotSymbol=function(L){return typeof L=="string"?y.DOT_RE.test(L):L>200}},41272:function(U,B,e){var y=e(24040),L=e(3400),i=e(44928);function S(v,p,r,t){var a=v.cd,n=a[0].t,u=a[0].trace,s=v.xa,l=v.ya,m=n.x,h=n.y,g=s.c2p(p),c=l.c2p(r),o=v.distance,d;if(n.tree){var w=s.p2c(g-o),A=s.p2c(g+o),C=l.p2c(c-o),x=l.p2c(c+o);t==="x"?d=n.tree.range(Math.min(w,A),Math.min(l._rl[0],l._rl[1]),Math.max(w,A),Math.max(l._rl[0],l._rl[1])):d=n.tree.range(Math.min(w,A),Math.min(C,x),Math.max(w,A),Math.max(C,x))}else d=n.ids;var E,M,f,P,T,z,_,V,F,N=o;if(t==="x"){var k=!!u.xperiodalignment,I=!!u.yperiodalignment;for(T=0;T<d.length;T++){if(E=d[T],f=m[E],z=Math.abs(s.c2p(f)-g),k){var H=s.c2p(u._xStarts[E]),j=s.c2p(u._xEnds[E]);z=g>=Math.min(H,j)&&g<=Math.max(H,j)?0:1/0}if(z<N){if(N=z,P=h[E],_=l.c2p(P)-c,I){var ee=l.c2p(u._yStarts[E]),te=l.c2p(u._yEnds[E]);_=c>=Math.min(ee,te)&&c<=Math.max(ee,te)?0:1/0}F=Math.sqrt(z*z+_*_),M=d[T]}}}else for(T=d.length-1;T>-1;T--)E=d[T],f=m[E],P=h[E],z=s.c2p(f)-g,_=l.c2p(P)-c,V=Math.sqrt(z*z+_*_),V<N&&(N=F=V,M=E);return v.index=M,v.distance=N,v.dxy=F,M===void 0?[v]:[b(v,m,h,u)]}function b(v,p,r,t){var a=v.xa,n=v.ya,u=v.distance,s=v.dxy,l=v.index,m={pointNumber:l,x:p[l],y:r[l]};m.tx=L.isArrayOrTypedArray(t.text)?t.text[l]:t.text,m.htx=Array.isArray(t.hovertext)?t.hovertext[l]:t.hovertext,m.data=Array.isArray(t.customdata)?t.customdata[l]:t.customdata,m.tp=Array.isArray(t.textposition)?t.textposition[l]:t.textposition;var h=t.textfont;h&&(m.ts=L.isArrayOrTypedArray(h.size)?h.size[l]:h.size,m.tc=Array.isArray(h.color)?h.color[l]:h.color,m.tf=Array.isArray(h.family)?h.family[l]:h.family);var g=t.marker;g&&(m.ms=L.isArrayOrTypedArray(g.size)?g.size[l]:g.size,m.mo=L.isArrayOrTypedArray(g.opacity)?g.opacity[l]:g.opacity,m.mx=L.isArrayOrTypedArray(g.symbol)?g.symbol[l]:g.symbol,m.ma=L.isArrayOrTypedArray(g.angle)?g.angle[l]:g.angle,m.mc=L.isArrayOrTypedArray(g.color)?g.color[l]:g.color);var c=g&&g.line;c&&(m.mlc=Array.isArray(c.color)?c.color[l]:c.color,m.mlw=L.isArrayOrTypedArray(c.width)?c.width[l]:c.width);var o=g&&g.gradient;o&&o.type!=="none"&&(m.mgt=Array.isArray(o.type)?o.type[l]:o.type,m.mgc=Array.isArray(o.color)?o.color[l]:o.color);var d=a.c2p(m.x,!0),w=n.c2p(m.y,!0),A=m.mrc||1,C=t.hoverlabel;C&&(m.hbg=Array.isArray(C.bgcolor)?C.bgcolor[l]:C.bgcolor,m.hbc=Array.isArray(C.bordercolor)?C.bordercolor[l]:C.bordercolor,m.hts=L.isArrayOrTypedArray(C.font.size)?C.font.size[l]:C.font.size,m.htc=Array.isArray(C.font.color)?C.font.color[l]:C.font.color,m.htf=Array.isArray(C.font.family)?C.font.family[l]:C.font.family,m.hnl=L.isArrayOrTypedArray(C.namelength)?C.namelength[l]:C.namelength);var x=t.hoverinfo;x&&(m.hi=Array.isArray(x)?x[l]:x);var E=t.hovertemplate;E&&(m.ht=Array.isArray(E)?E[l]:E);var M={};M[v.index]=m;var f=t._origX,P=t._origY,T=L.extendFlat({},v,{color:i(t,m),x0:d-A,x1:d+A,xLabelVal:f?f[l]:m.x,y0:w-A,y1:w+A,yLabelVal:P?P[l]:m.y,cd:M,distance:u,spikeDistance:s,hovertemplate:m.ht});return m.htx?T.text=m.htx:m.tx?T.text=m.tx:t.text&&(T.text=t.text),L.fillText(m,t,T),y.getComponentMethod("errorbars","hoverInfo")(m,t,T),T}U.exports={hoverPoints:S,calcHover:b}},38983:function(U,B,e){var y=e(64628);y.plot=e(89876),U.exports=y},89876:function(U,B,e){var y=e(38540),L=e(13472),i=e(24544),S=e(23352),b=e(3400),v=e(72760).selectMode,p=e(5048),r=e(43028),t=e(14328),a=e(26768).styleTextSelection,n={};function u(l,m,h,g){var c=l._size,o=l.width*g,d=l.height*g,w=c.l*g,A=c.b*g,C=c.r*g,x=c.t*g,E=c.w*g,M=c.h*g;return[w+m.domain[0]*E,A+h.domain[0]*M,o-C-(1-m.domain[1])*E,d-x-(1-h.domain[1])*M]}var s=U.exports=function(m,h,g){if(g.length){var c=m._fullLayout,o=h._scene,d=h.xaxis,w=h.yaxis,A,C;if(o){var x=p(m,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!x){o.init();return}var E=o.count,M=c._glcanvas.data()[0].regl;if(t(m,h,g),o.dirty){if((o.line2d||o.error2d)&&!(o.scatter2d||o.fill2d||o.glText)&&M.clear({}),o.error2d===!0&&(o.error2d=i(M)),o.line2d===!0&&(o.line2d=L(M)),o.scatter2d===!0&&(o.scatter2d=y(M)),o.fill2d===!0&&(o.fill2d=L(M)),o.glText===!0)for(o.glText=new Array(E),A=0;A<E;A++)o.glText[A]=new S(M);if(o.glText){if(E>o.glText.length){var f=E-o.glText.length;for(A=0;A<f;A++)o.glText.push(new S(M))}else if(E<o.glText.length){var P=o.glText.length-E,T=o.glText.splice(E,P);T.forEach(function($){$.destroy()})}for(A=0;A<E;A++)o.glText[A].update(o.textOptions[A])}if(o.line2d&&(o.line2d.update(o.lineOptions),o.lineOptions=o.lineOptions.map(function($){if($&&$.positions){for(var J=$.positions,se=0;se<J.length&&(isNaN(J[se])||isNaN(J[se+1]));)se+=2;for(var ie=J.length-2;ie>se&&(isNaN(J[ie])||isNaN(J[ie+1]));)ie-=2;$.positions=J.slice(se,ie+2)}return $}),o.line2d.update(o.lineOptions)),o.error2d){var z=(o.errorXOptions||[]).concat(o.errorYOptions||[]);o.error2d.update(z)}o.scatter2d&&o.scatter2d.update(o.markerOptions),o.fillOrder=b.repeat(null,E),o.fill2d&&(o.fillOptions=o.fillOptions.map(function($,J){var se=g[J];if(!(!$||!se||!se[0]||!se[0].trace)){var ie=se[0],ce=ie.trace,ye=ie.t,Se=o.lineOptions[J],Te,ke,we=[];ce._ownfill&&we.push(J),ce._nexttrace&&we.push(J+1),we.length&&(o.fillOrder[J]=we);var Ee=[],xe=Se&&Se.positions||ye.positions,De,Ve;if(ce.fill==="tozeroy"){for(De=0;De<xe.length&&isNaN(xe[De+1]);)De+=2;for(Ve=xe.length-2;Ve>De&&isNaN(xe[Ve+1]);)Ve-=2;xe[De+1]!==0&&(Ee=[xe[De],0]),Ee=Ee.concat(xe.slice(De,Ve+2)),xe[Ve+1]!==0&&(Ee=Ee.concat([xe[Ve],0]))}else if(ce.fill==="tozerox"){for(De=0;De<xe.length&&isNaN(xe[De]);)De+=2;for(Ve=xe.length-2;Ve>De&&isNaN(xe[Ve]);)Ve-=2;xe[De]!==0&&(Ee=[0,xe[De+1]]),Ee=Ee.concat(xe.slice(De,Ve+2)),xe[Ve]!==0&&(Ee=Ee.concat([0,xe[Ve+1]]))}else if(ce.fill==="toself"||ce.fill==="tonext"){for(Ee=[],Te=0,$.splitNull=!0,ke=0;ke<xe.length;ke+=2)(isNaN(xe[ke])||isNaN(xe[ke+1]))&&(Ee=Ee.concat(xe.slice(Te,ke)),Ee.push(xe[Te],xe[Te+1]),Ee.push(null,null),Te=ke+2);Ee=Ee.concat(xe.slice(Te)),Te&&Ee.push(xe[Te],xe[Te+1])}else{var Ue=ce._nexttrace;if(Ue){var Be=o.lineOptions[J+1];if(Be){var Xe=Be.positions;if(ce.fill==="tonexty"){for(Ee=xe.slice(),J=Math.floor(Xe.length/2);J--;){var ot=Xe[J*2],ut=Xe[J*2+1];isNaN(ot)||isNaN(ut)||Ee.push(ot,ut)}$.fill=Ue.fillcolor}}}}if(ce._prevtrace&&ce._prevtrace.fill==="tonext"){var et=o.lineOptions[J-1].positions,qe=Ee.length/2;Te=qe;var ft=[Te];for(ke=0;ke<et.length;ke+=2)(isNaN(et[ke])||isNaN(et[ke+1]))&&(ft.push(ke/2+qe+1),Te=ke+2);Ee=Ee.concat(et),$.hole=ft}return $.fillmode=ce.fill,$.opacity=ce.opacity,$.positions=Ee,$}}),o.fill2d.update(o.fillOptions))}var _=c.dragmode,V=v(_),F=c.clickmode.indexOf("select")>-1;for(A=0;A<E;A++){var N=g[A][0],k=N.trace,I=N.t,H=I.index,j=k._length,ee=I.x,te=I.y;if(k.selectedpoints||V||F){if(V||(V=!0),k.selectedpoints){var ne=o.selectBatch[H]=b.selIndices2selPoints(k),ue={};for(C=0;C<ne.length;C++)ue[ne[C]]=1;var q=[];for(C=0;C<j;C++)ue[C]||q.push(C);o.unselectBatch[H]=q}var Y=I.xpx=new Array(j),Z=I.ypx=new Array(j);for(C=0;C<j;C++)Y[C]=d.c2p(ee[C]),Z[C]=w.c2p(te[C])}else I.xpx=I.ypx=null}if(V){if(o.select2d||(o.select2d=y(c._glcanvas.data()[1].regl)),o.scatter2d){var G=new Array(E);for(A=0;A<E;A++)G[A]=o.selectBatch[A].length||o.unselectBatch[A].length?o.markerUnselectedOptions[A]:{};o.scatter2d.update(G)}o.select2d&&(o.select2d.update(o.markerOptions),o.select2d.update(o.markerSelectedOptions)),o.glText&&g.forEach(function($){var J=(($||[])[0]||{}).trace||{};r.hasText(J)&&a($)})}else o.scatter2d&&o.scatter2d.update(o.markerOptions);var K={viewport:u(c,d,w,m._context.plotGlPixelRatio),range:[(d._rl||d.range)[0],(w._rl||w.range)[0],(d._rl||d.range)[1],(w._rl||w.range)[1]]},oe=b.repeat(K,o.count);o.fill2d&&o.fill2d.update(oe),o.line2d&&o.line2d.update(oe),o.error2d&&o.error2d.update(oe.concat(oe)),o.scatter2d&&o.scatter2d.update(oe),o.select2d&&o.select2d.update(oe),o.glText&&o.glText.forEach(function($){$.update(K)})}}};s.reglPrecompiled=n},74588:function(U,B,e){var y=e(3400);U.exports=function(i,S){var b=S._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},p={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return S._scene||(b=S._scene={},b.init=function(){y.extendFlat(b,p,v)},b.init(),b.update=function(t){var a=y.repeat(t,b.count);if(b.fill2d&&b.fill2d.update(a),b.scatter2d&&b.scatter2d.update(a),b.line2d&&b.line2d.update(a),b.error2d&&b.error2d.update(a.concat(a)),b.select2d&&b.select2d.update(a),b.glText)for(var n=0;n<b.count;n++)b.glText[n].update(t)},b.draw=function(){for(var t=b.count,a=b.fill2d,n=b.error2d,u=b.line2d,s=b.scatter2d,l=b.glText,m=b.select2d,h=b.selectBatch,g=b.unselectBatch,c=0;c<t;c++){if(a&&b.fillOrder[c]&&a.draw(b.fillOrder[c]),u&&b.lineOptions[c]&&u.draw(c),n&&(b.errorXOptions[c]&&n.draw(c),b.errorYOptions[c]&&n.draw(c+t)),s&&b.markerOptions[c])if(g[c].length){var o=y.repeat([],b.count);o[c]=g[c],s.draw(o)}else h[c].length||s.draw(c);l[c]&&b.textOptions[c]&&l[c].render()}m&&m.draw(h),b.dirty=!1},b.destroy=function(){b.fill2d&&b.fill2d.destroy&&b.fill2d.destroy(),b.scatter2d&&b.scatter2d.destroy&&b.scatter2d.destroy(),b.error2d&&b.error2d.destroy&&b.error2d.destroy(),b.line2d&&b.line2d.destroy&&b.line2d.destroy(),b.select2d&&b.select2d.destroy&&b.select2d.destroy(),b.glText&&b.glText.forEach(function(t){t.destroy&&t.destroy()}),b.lineOptions=null,b.fillOptions=null,b.markerOptions=null,b.markerSelectedOptions=null,b.markerUnselectedOptions=null,b.errorXOptions=null,b.errorYOptions=null,b.textOptions=null,b.textSelectedOptions=null,b.textUnselectedOptions=null,b.selectBatch=null,b.unselectBatch=null,S._scene=null}),b.dirty||y.extendFlat(b,v),b}},73224:function(U,B,e){var y=e(43028),L=e(26768).styleTextSelection;U.exports=function(S,b){var v=S.cd,p=S.xaxis,r=S.yaxis,t=[],a=v[0].trace,n=v[0].t,u=a._length,s=n.x,l=n.y,m=n._scene,h=n.index;if(!m)return t;var g=y.hasText(a),c=y.hasMarkers(a),o=!c&&!g;if(a.visible!==!0||o)return t;var d=[],w=[];if(b!==!1&&!b.degenerate)for(var A=0;A<u;A++)b.contains([n.xpx[A],n.ypx[A]],!1,A,S)?(d.push(A),t.push({pointNumber:A,x:p.c2d(s[A]),y:r.c2d(l[A])})):w.push(A);if(c){var C=m.scatter2d;if(!d.length&&!w.length){var x=new Array(m.count);x[h]=m.markerOptions[h],C.update.apply(C,x)}else if(!m.selectBatch[h].length&&!m.unselectBatch[h].length){var E=new Array(m.count);E[h]=m.markerUnselectedOptions[h],C.update.apply(C,E)}}return m.selectBatch[h]=d,m.unselectBatch[h]=w,g&&L(v),t}},31512:function(U,B,e){var y=e(21776).Ks,L=e(21776).Gw,i=e(98304),S=e(6096),b=e(52904),v=e(5232),p=e(45464),r=e(49084),t=e(92880).extendFlat,a=e(67824).overrideAll,n=e(5232),u=S.line,s=S.marker;U.exports=a({lon:S.lon,lat:S.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},n.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},s.opacity,{dflt:1})},mode:t({},b.mode,{dflt:"markers"}),text:t({},b.text,{}),texttemplate:L({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},b.hovertext,{}),line:{color:u.color,width:u.width},connectgaps:b.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:s.opacity,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode},r("marker")),fill:S.fill,fillcolor:i(),textfont:v.layers.symbol.textfont,textposition:v.layers.symbol.textposition,below:{valType:"string"},selected:{marker:b.selected.marker},unselected:{marker:b.unselected.marker},hoverinfo:t({},p.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:y()},"calc","nested")},59392:function(U,B,e){var y=e(38248),L=e(3400),i=e(39032).BADNUM,S=e(44808),b=e(8932),v=e(43616),p=e(7152),r=e(43028),t=e(89032),a=e(10624).appendArrayPointValue,n=e(72736).NEWLINES,u=e(72736).BR_TAG_ALL;U.exports=function(w,A){var C=A[0].trace,x=C.visible===!0&&C._length!==0,E=C.fill!=="none",M=r.hasLines(C),f=r.hasMarkers(C),P=r.hasText(C),T=f&&C.marker.symbol==="circle",z=f&&C.marker.symbol!=="circle",_=C.cluster&&C.cluster.enabled,V=s("fill"),F=s("line"),N=s("circle"),k=s("symbol"),I={fill:V,line:F,circle:N,symbol:k};if(!x)return I;var H;if((E||M)&&(H=S.calcTraceToLineCoords(A)),E&&(V.geojson=S.makePolygon(H),V.layout.visibility="visible",L.extendFlat(V.paint,{"fill-color":C.fillcolor})),M&&(F.geojson=S.makeLine(H),F.layout.visibility="visible",L.extendFlat(F.paint,{"line-width":C.line.width,"line-color":C.line.color,"line-opacity":C.opacity})),T){var j=l(A);N.geojson=j.geojson,N.layout.visibility="visible",_&&(N.filter=["!",["has","point_count"]],I.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":o(C.cluster.color,C.cluster.step),"circle-radius":o(C.cluster.size,C.cluster.step),"circle-opacity":o(C.cluster.opacity,C.cluster.step)}},I.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),L.extendFlat(N.paint,{"circle-color":j.mcc,"circle-radius":j.mrc,"circle-opacity":j.mo})}if(T&&_&&(N.filter=["!",["has","point_count"]]),(z||P)&&(k.geojson=m(A,w),L.extendFlat(k.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),z&&(L.extendFlat(k.layout,{"icon-size":C.marker.size/10}),"angle"in C.marker&&C.marker.angle!=="auto"&&L.extendFlat(k.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),k.layout["icon-allow-overlap"]=C.marker.allowoverlap,L.extendFlat(k.paint,{"icon-opacity":C.opacity*C.marker.opacity,"icon-color":C.marker.color})),P)){var ee=(C.marker||{}).size,te=t(C.textposition,ee);L.extendFlat(k.layout,{"text-size":C.textfont.size,"text-anchor":te.anchor,"text-offset":te.offset,"text-font":C.textfont.family.split(", ")}),L.extendFlat(k.paint,{"text-color":C.textfont.color,"text-opacity":C.opacity})}return I};function s(d){return{type:d,geojson:S.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function l(d){var w=d[0].trace,A=w.marker,C=w.selectedpoints,x=L.isArrayOrTypedArray(A.color),E=L.isArrayOrTypedArray(A.size),M=L.isArrayOrTypedArray(A.opacity),f;function P(ee){return w.opacity*ee}function T(ee){return ee/2}var z;x&&(b.hasColorscale(w,"marker")?z=b.makeColorScaleFuncFromTrace(A):z=L.identity);var _;E&&(_=p(w));var V;M&&(V=function(ee){var te=y(ee)?+L.constrain(ee,0,1):0;return P(te)});var F=[];for(f=0;f<d.length;f++){var N=d[f],k=N.lonlat;if(!c(k)){var I={};z&&(I.mcc=N.mcc=z(N.mc)),_&&(I.mrc=N.mrc=_(N.ms)),V&&(I.mo=V(N.mo)),C&&(I.selected=N.selected||0),F.push({type:"Feature",id:f+1,geometry:{type:"Point",coordinates:k},properties:I})}}var H;if(C)for(H=v.makeSelectedPointStyleFns(w),f=0;f<F.length;f++){var j=F[f].properties;H.selectedOpacityFn&&(j.mo=P(H.selectedOpacityFn(j))),H.selectedColorFn&&(j.mcc=H.selectedColorFn(j)),H.selectedSizeFn&&(j.mrc=H.selectedSizeFn(j))}return{geojson:{type:"FeatureCollection",features:F},mcc:x||H&&H.selectedColorFn?{type:"identity",property:"mcc"}:A.color,mrc:E||H&&H.selectedSizeFn?{type:"identity",property:"mrc"}:T(A.size),mo:M||H&&H.selectedOpacityFn?{type:"identity",property:"mo"}:P(A.opacity)}}function m(d,w){for(var A=w._fullLayout,C=d[0].trace,x=C.marker||{},E=x.symbol,M=x.angle,f=E!=="circle"?h(E):g,P=M!=="auto"?h(M,!0):g,T=r.hasText(C)?h(C.text):g,z=[],_=0;_<d.length;_++){var V=d[_];if(!c(V.lonlat)){var F=C.texttemplate,N;if(F){var k=Array.isArray(F)?F[_]||"":F,I=C._module.formatLabels(V,C,A),H={};a(H,C,V.i);var j=C._meta||{};N=L.texttemplateString(k,I,A._d3locale,H,V,j)}else N=T(_);N&&(N=N.replace(n,"").replace(u,`
`)),z.push({type:"Feature",geometry:{type:"Point",coordinates:V.lonlat},properties:{symbol:f(_),angle:P(_),text:N}})}}return{type:"FeatureCollection",features:z}}function h(d,w){return L.isArrayOrTypedArray(d)?w?function(A){return y(d[A])?+d[A]:0}:function(A){return d[A]}:d?function(){return d}:g}function g(){return""}function c(d){return d[0]===i}function o(d,w){var A;if(L.isArrayOrTypedArray(d)&&L.isArrayOrTypedArray(w)){A=["step",["get","point_count"],d[0]];for(var C=1;C<d.length;C++)A.push(w[C-1],d[C])}else A=d;return A}},15752:function(U,B,e){var y=e(3400),L=e(43028),i=e(74428),S=e(66828),b=e(124),v=e(70840),p=e(31512),r=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];U.exports=function(n,u,s,l){function m(E,M){return y.coerce(n,u,p,E,M)}function h(E,M){return y.coerce2(n,u,p,E,M)}var g=t(n,u,m);if(!g){u.visible=!1;return}if(m("text"),m("texttemplate"),m("hovertext"),m("hovertemplate"),m("mode"),m("below"),L.hasMarkers(u)){i(n,u,s,l,m,{noLine:!0,noAngle:!0}),m("marker.allowoverlap"),m("marker.angle");var c=u.marker;c.symbol!=="circle"&&(y.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),y.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}L.hasLines(u)&&(S(n,u,s,l,m,{noDash:!0}),m("connectgaps"));var o=h("cluster.maxzoom"),d=h("cluster.step"),w=h("cluster.color",u.marker&&u.marker.color||s),A=h("cluster.size"),C=h("cluster.opacity"),x=o!==!1||d!==!1||w!==!1||A!==!1||C!==!1;m("cluster.enabled",x),L.hasText(u)&&b(n,u,l,m,{noSelect:!0,font:{family:r.indexOf(l.font.family)!==-1?l.font.family:"Open Sans Regular",size:l.font.size,color:l.font.color}}),m("fill"),u.fill!=="none"&&v(n,u,s,m),y.coerceSelectionMarkerOpacity(u,m)};function t(a,n,u){var s=u("lon")||[],l=u("lat")||[],m=Math.min(s.length,l.length);return n._length=m,m}},37920:function(U){U.exports=function(e,y){return e.lon=y.lon,e.lat=y.lat,e}},11960:function(U,B,e){var y=e(54460);U.exports=function(i,S,b){var v={},p=b[S.subplot]._subplot,r=p.mockAxis,t=i.lonlat;return v.lonLabel=y.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=y.tickText(r,r.c2l(t[1]),!0).text,v}},63312:function(U,B,e){var y=e(93024),L=e(3400),i=e(44928),S=L.fillText,b=e(39032).BADNUM,v=e(47552).traceLayerPrefix;function p(t,a,n){var u=t.cd,s=u[0].trace,l=t.xa,m=t.ya,h=t.subplot,g=[],c=v+s.uid+"-circle",o=s.cluster&&s.cluster.enabled;if(o){var d=h.map.queryRenderedFeatures(null,{layers:[c]});g=d.map(function(F){return F.id})}var w=a>=0?Math.floor((a+180)/360):Math.ceil((a-180)/360),A=w*360,C=a-A;function x(F){var N=F.lonlat;if(N[0]===b||o&&g.indexOf(F.i+1)===-1)return 1/0;var k=L.modHalf(N[0],360),I=N[1],H=h.project([k,I]),j=H.x-l.c2p([C,I]),ee=H.y-m.c2p([k,n]),te=Math.max(3,F.mrc||0);return Math.max(Math.sqrt(j*j+ee*ee)-te,1-3/te)}if(y.getClosest(u,x,t),t.index!==!1){var E=u[t.index],M=E.lonlat,f=[L.modHalf(M[0],360)+A,M[1]],P=l.c2p(f),T=m.c2p(f),z=E.mrc||1;t.x0=P-z,t.x1=P+z,t.y0=T-z,t.y1=T+z;var _={};_[s.subplot]={_subplot:h};var V=s._module.formatLabels(E,s,_);return t.lonLabel=V.lonLabel,t.latLabel=V.latLabel,t.color=i(s,E),t.extraText=r(s,E,u[0].t.labels),t.hovertemplate=s.hovertemplate,[t]}}function r(t,a,n){if(t.hovertemplate)return;var u=a.hi||t.hoverinfo,s=u.split("+"),l=s.indexOf("all")!==-1,m=s.indexOf("lon")!==-1,h=s.indexOf("lat")!==-1,g=a.lonlat,c=[];function o(d){return d+"°"}return l||m&&h?c.push("("+o(g[1])+", "+o(g[0])+")"):m?c.push(n.lon+o(g[0])):h&&c.push(n.lat+o(g[1])),(l||s.indexOf("text")!==-1)&&S(a,t,c),c.join("<br>")}U.exports={hoverPoints:p,getExtraText:r}},11572:function(U,B,e){U.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(y,L){if(L){var i=L[0].trace;i._glTrace.update(L)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(U,B,e){var y=e(3400),L=e(59392),i=e(47552).traceLayerPrefix,S={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function b(p,r,t,a){this.type="scattermapbox",this.subplot=p,this.uid=r,this.clusterEnabled=t,this.isHidden=a,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:i+r+"-fill",line:i+r+"-line",circle:i+r+"-circle",symbol:i+r+"-symbol",cluster:i+r+"-cluster",clusterCount:i+r+"-cluster-count"},this.below=null}var v=b.prototype;v.addSource=function(p,r,t){var a={type:"geojson",data:r.geojson};t&&t.enabled&&y.extendFlat(a,{cluster:!0,clusterMaxZoom:t.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[p]);n?n.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[p],a)},v.setSourceData=function(p,r){this.subplot.map.getSource(this.sourceIds[p]).setData(r.geojson)},v.addLayer=function(p,r,t){var a={type:r.type,id:this.layerIds[p],source:this.sourceIds[p],layout:r.layout,paint:r.paint};r.filter&&(a.filter=r.filter);for(var n=this.layerIds[p],u,s=this.subplot.getMapLayers(),l=0;l<s.length;l++)if(s[l].id===n){u=!0;break}u?(this.subplot.setOptions(n,"setLayoutProperty",a.layout),a.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",a.paint)):this.subplot.addLayer(a,t)},v.update=function(r){var t=r[0].trace,a=this.subplot,n=a.map,u=L(a.gd,r),s=a.belowLookup["trace-"+this.uid],l=!!(t.cluster&&t.cluster.enabled),m=!!this.clusterEnabled,h=this;function g(M){M||h.addSource("circle",u.circle,t.cluster);for(var f=S.cluster,P=0;P<f.length;P++){var T=f[P],z=u[T];h.addLayer(T,z,s)}}function c(M){for(var f=S.cluster,P=f.length-1;P>=0;P--){var T=f[P];n.removeLayer(h.layerIds[T])}M||n.removeSource(h.sourceIds.circle)}function o(M){for(var f=S.nonCluster,P=0;P<f.length;P++){var T=f[P],z=u[T];M||h.addSource(T,z),h.addLayer(T,z,s)}}function d(M){for(var f=S.nonCluster,P=f.length-1;P>=0;P--){var T=f[P];n.removeLayer(h.layerIds[T]),M||n.removeSource(h.sourceIds[T])}}function w(M){m?c(M):d(M)}function A(M){l?g(M):o(M)}function C(){for(var M=l?S.cluster:S.nonCluster,f=0;f<M.length;f++){var P=M[f],T=u[P];T&&(a.setOptions(h.layerIds[P],"setLayoutProperty",T.layout),T.layout.visibility==="visible"&&(P!=="cluster"&&h.setSourceData(P,T),a.setOptions(h.layerIds[P],"setPaintProperty",T.paint)))}}var x=this.isHidden,E=t.visible!==!0;E?x||w():x?E||A():m!==l?(w(),A()):(this.below!==s&&(w(!0),A(!0)),C()),this.clusterEnabled=l,this.isHidden=E,this.below=s,r[0].trace._glTrace=this},v.dispose=function(){for(var r=this.subplot.map,t=this.clusterEnabled?S.cluster:S.nonCluster,a=t.length-1;a>=0;a--){var n=t[a];r.removeLayer(this.layerIds[n]),r.removeSource(this.sourceIds[n])}},U.exports=function(r,t){var a=t[0].trace,n=a.cluster&&a.cluster.enabled,u=a.visible!==!0,s=new b(r,a.uid,n,u),l=L(r.gd,t),m=s.below=r.belowLookup["trace-"+a.uid],h,g,c;if(n)for(s.addSource("circle",l.circle,a.cluster),h=0;h<S.cluster.length;h++)g=S.cluster[h],c=l[g],s.addLayer(g,c,m);else for(h=0;h<S.nonCluster.length;h++)g=S.nonCluster[h],c=l[g],s.addSource(g,c,a.cluster),s.addLayer(g,c,m);return t[0].trace._glTrace=s,s}},404:function(U,B,e){var y=e(3400),L=e(43028),i=e(39032).BADNUM;U.exports=function(b,v){var p=b.cd,r=b.xaxis,t=b.yaxis,a=[],n=p[0].trace,u;if(!L.hasMarkers(n))return[];if(v===!1)for(u=0;u<p.length;u++)p[u].selected=0;else for(u=0;u<p.length;u++){var s=p[u],l=s.lonlat;if(l[0]!==i){var m=[y.modHalf(l[0],360),l[1]],h=[r.c2p(m),t.c2p(m)];v.contains(h,null,u,b)?(a.push({pointNumber:u,lon:l[0],lat:l[1]}),s.selected=1):s.selected=0}}return a}},8319:function(U,B,e){var y=e(21776).Ks,L=e(21776).Gw,i=e(92880).extendFlat,S=e(98304),b=e(52904),v=e(45464),p=b.line;U.exports={mode:b.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:b.text,texttemplate:L({editType:"plot"},{keys:["r","theta","text"]}),hovertext:b.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:i({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:b.connectgaps,marker:b.marker,cliponaxis:i({},b.cliponaxis,{dflt:!1}),textposition:b.textposition,textfont:b.textfont,fill:i({},b.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:S(),hoverinfo:i({},v.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:b.hoveron,hovertemplate:y(),selected:b.selected,unselected:b.unselected}},58320:function(U,B,e){var y=e(38248),L=e(39032).BADNUM,i=e(54460),S=e(90136),b=e(20148),v=e(4500),p=e(16356).calcMarkerSize;U.exports=function(t,a){for(var n=t._fullLayout,u=a.subplot,s=n[u].radialaxis,l=n[u].angularaxis,m=s.makeCalcdata(a,"r"),h=l.makeCalcdata(a,"theta"),g=a._length,c=new Array(g),o=0;o<g;o++){var d=m[o],w=h[o],A=c[o]={};y(d)&&y(w)?(A.r=d,A.theta=w):A.r=L}var C=p(a,g);return a._extremes.x=i.findExtremes(s,m,{ppad:C}),S(t,a),b(c,a),v(c,a),c}},85968:function(U,B,e){var y=e(3400),L=e(43028),i=e(74428),S=e(66828),b=e(11731),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(8319);function a(u,s,l,m){function h(o,d){return y.coerce(u,s,t,o,d)}var g=n(u,s,m,h);if(!g){s.visible=!1;return}h("thetaunit"),h("mode",g<r?"lines+markers":"lines"),h("text"),h("hovertext"),s.hoveron!=="fills"&&h("hovertemplate"),L.hasMarkers(s)&&i(u,s,l,m,h,{gradient:!0}),L.hasLines(s)&&(S(u,s,l,m,h,{backoff:!0}),b(u,s,h),h("connectgaps")),L.hasText(s)&&(h("texttemplate"),v(u,s,m,h));var c=[];(L.hasMarkers(s)||L.hasText(s))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),s.fill!=="none"&&(p(u,s,l,h),L.hasLines(s)||b(u,s,h)),(s.fill==="tonext"||s.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),y.coerceSelectionMarkerOpacity(s,h)}function n(u,s,l,m){var h=m("r"),g=m("theta");y.isTypedArray(h)&&(s.r=h=Array.from(h)),y.isTypedArray(g)&&(s.theta=g=Array.from(g));var c;if(h)g?c=Math.min(h.length,g.length):(c=h.length,m("theta0"),m("dtheta"));else{if(!g)return 0;c=s.theta.length,m("r0"),m("dr")}return s._length=c,c}U.exports={handleRThetaDefaults:n,supplyDefaults:a}},22852:function(U,B,e){var y=e(3400),L=e(54460);U.exports=function(S,b,v){var p={},r=v[b.subplot]._subplot,t,a;r?(t=r.radialAxis,a=r.angularAxis):(r=v[b.subplot],t=r.radialaxis,a=r.angularaxis);var n=t.c2l(S.r);p.rLabel=L.tickText(t,n,!0).text;var u=a.thetaunit==="degrees"?y.rad2deg(S.theta):S.theta;return p.thetaLabel=L.tickText(a,u,!0).text,p}},8504:function(U,B,e){var y=e(98723);function L(S,b,v,p){var r=y(S,b,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var a=S.subplot,n=t.cd[t.index],u=t.trace;if(a.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,i(n,u,a,t),t.hovertemplate=u.hovertemplate,r}}function i(S,b,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="r",t._hovertitle="θ";var a={};a[b.subplot]={_subplot:v};var n=b._module.formatLabels(S,b,a);p.rLabel=n.rLabel,p.thetaLabel=n.thetaLabel;var u=S.hi||b.hoverinfo,s=[];function l(h,g){s.push(h._hovertitle+": "+g)}if(!b.hovertemplate){var m=u.split("+");m.indexOf("all")!==-1&&(m=["r","theta","text"]),m.indexOf("r")!==-1&&l(r,p.rLabel),m.indexOf("theta")!==-1&&l(t,p.thetaLabel),m.indexOf("text")!==-1&&p.text&&(s.push(p.text),delete p.text),p.extraText=s.join("<br>")}}U.exports={hoverPoints:L,makeHoverPointText:i}},76924:function(U,B,e){U.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(U,B,e){var y=e(96504),L=e(39032).BADNUM;U.exports=function(S,b,v){for(var p=b.layers.frontplot.select("g.scatterlayer"),r=b.xaxis,t=b.yaxis,a={xaxis:r,yaxis:t,plot:b.framework,layerClipId:b._hasClipOnAxisFalse?b.clipIds.forTraces:null},n=b.radialAxis,u=b.angularAxis,s=0;s<v.length;s++)for(var l=v[s],m=0;m<l.length;m++){m===0&&(l[0].trace._xA=r,l[0].trace._yA=t);var h=l[m],g=h.r;if(g===L)h.x=h.y=L;else{var c=n.c2g(g),o=u.c2g(h.theta);h.x=c*Math.cos(o),h.y=c*Math.sin(o)}}y(S,a,v,p)}},24396:function(U,B,e){var y=e(8319),L=e(2876),i=e(21776).Gw;U.exports={mode:y.mode,r:y.r,theta:y.theta,r0:y.r0,dr:y.dr,theta0:y.theta0,dtheta:y.dtheta,thetaunit:y.thetaunit,text:y.text,texttemplate:i({editType:"plot"},{keys:["r","theta","text"]}),hovertext:y.hovertext,hovertemplate:y.hovertemplate,line:{color:L.line.color,width:L.line.width,dash:L.line.dash,editType:"calc"},connectgaps:L.connectgaps,marker:L.marker,fill:L.fill,fillcolor:L.fillcolor,textposition:L.textposition,textfont:L.textfont,hoverinfo:y.hoverinfo,selected:y.selected,unselected:y.unselected}},27160:function(U,B,e){U.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(U,B,e){var y=e(90136),L=e(16356).calcMarkerSize,i=e(84236),S=e(54460),b=e(67072).TOO_MANY_POINTS;U.exports=function(p,r){var t=p._fullLayout,a=r.subplot,n=t[a].radialaxis,u=t[a].angularaxis,s=r._r=n.makeCalcdata(r,"r"),l=r._theta=u.makeCalcdata(r,"theta"),m=r._length,h={};m<s.length&&(s=s.slice(0,m)),m<l.length&&(l=l.slice(0,m)),h.r=s,h.theta=l,y(p,r);var g=h.opts=i.style(p,r),c;return m<b?c=L(r,m):g.marker&&(c=2*(g.marker.sizeAvg||Math.max(g.marker.size,3))),r._extremes.x=S.findExtremes(n,s,{ppad:c}),[{x:!1,y:!1,t:h,trace:r}]}},98608:function(U,B,e){var y=e(3400),L=e(43028),i=e(85968).handleRThetaDefaults,S=e(74428),b=e(66828),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(24396);U.exports=function(n,u,s,l){function m(g,c){return y.coerce(n,u,t,g,c)}var h=i(n,u,l,m);if(!h){u.visible=!1;return}m("thetaunit"),m("mode",h<r?"lines+markers":"lines"),m("text"),m("hovertext"),u.hoveron!=="fills"&&m("hovertemplate"),L.hasMarkers(u)&&S(n,u,s,l,m,{noAngleRef:!0,noStandOff:!0}),L.hasLines(u)&&(b(n,u,s,l,m),m("connectgaps")),L.hasText(u)&&(m("texttemplate"),v(n,u,l,m)),m("fill"),u.fill!=="none"&&p(n,u,s,m),y.coerceSelectionMarkerOpacity(u,m)}},94120:function(U,B,e){var y=e(22852);U.exports=function(i,S,b){var v=i.i;return"r"in i||(i.r=S._r[v]),"theta"in i||(i.theta=S._theta[v]),y(i,S,b)}},1600:function(U,B,e){var y=e(41272),L=e(8504).makeHoverPointText;function i(S,b,v,p){var r=S.cd,t=r[0].t,a=t.r,n=t.theta,u=y.hoverPoints(S,b,v,p);if(!(!u||u[0].index===!1)){var s=u[0];if(s.index===void 0)return u;var l=S.subplot,m=s.cd[s.index],h=s.trace;if(m.r=a[s.index],m.theta=n[s.index],!!l.isPtInside(m))return s.xLabelVal=void 0,s.yLabelVal=void 0,L(m,h,l,s),u}}U.exports={hoverPoints:i}},62944:function(U,B,e){var y=e(27160);y.plot=e(56512),U.exports=y},56512:function(U,B,e){var y=e(3108),L=e(38248),i=e(89876),S=e(74588),b=e(84236),v=e(3400),p=e(67072).TOO_MANY_POINTS,r={};U.exports=function(a,n,u){if(u.length){var s=n.radialAxis,l=n.angularAxis,m=S(a,n);return u.forEach(function(h){if(!(!h||!h[0]||!h[0].trace)){var g=h[0],c=g.trace,o=g.t,d=c._length,w=o.r,A=o.theta,C=o.opts,x,E=w.slice(),M=A.slice();for(x=0;x<w.length;x++)n.isPtInside({r:w[x],theta:A[x]})||(E[x]=NaN,M[x]=NaN);var f=new Array(d*2),P=Array(d),T=Array(d);for(x=0;x<d;x++){var z=E[x],_,V;if(L(z)){var F=s.c2g(z),N=l.c2g(M[x],c.thetaunit);_=F*Math.cos(N),V=F*Math.sin(N)}else _=V=NaN;P[x]=f[x*2]=_,T[x]=f[x*2+1]=V}o.tree=y(f),C.marker&&d>=p&&(C.marker.cluster=o.tree),C.marker&&(C.markerSel.positions=C.markerUnsel.positions=C.marker.positions=f),C.line&&f.length>1&&v.extendFlat(C.line,b.linePositions(a,c,f)),C.text&&(v.extendFlat(C.text,{positions:f},b.textPosition(a,c,C.text,C.marker)),v.extendFlat(C.textSel,{positions:f},b.textPosition(a,c,C.text,C.markerSel)),v.extendFlat(C.textUnsel,{positions:f},b.textPosition(a,c,C.text,C.markerUnsel))),C.fill&&!m.fill2d&&(m.fill2d=!0),C.marker&&!m.scatter2d&&(m.scatter2d=!0),C.line&&!m.line2d&&(m.line2d=!0),C.text&&!m.glText&&(m.glText=!0),m.lineOptions.push(C.line),m.fillOptions.push(C.fill),m.markerOptions.push(C.marker),m.markerSelectedOptions.push(C.markerSel),m.markerUnselectedOptions.push(C.markerUnsel),m.textOptions.push(C.text),m.textSelectedOptions.push(C.textSel),m.textUnselectedOptions.push(C.textUnsel),m.selectBatch.push([]),m.unselectBatch.push([]),o.x=P,o.y=T,o.rawx=P,o.rawy=T,o.r=w,o.theta=A,o.positions=f,o._scene=m,o.index=m.count,m.count++}}),i(a,n,u)}},U.exports.reglPrecompiled=r},69496:function(U,B,e){var y=e(21776).Ks,L=e(21776).Gw,i=e(92880).extendFlat,S=e(98304),b=e(52904),v=e(45464),p=b.line;U.exports={mode:b.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:b.text,texttemplate:L({editType:"plot"},{keys:["real","imag","text"]}),hovertext:b.hovertext,line:{color:p.color,width:p.width,dash:p.dash,backoff:p.backoff,shape:i({},p.shape,{values:["linear","spline"]}),smoothing:p.smoothing,editType:"calc"},connectgaps:b.connectgaps,marker:b.marker,cliponaxis:i({},b.cliponaxis,{dflt:!1}),textposition:b.textposition,textfont:b.textfont,fill:i({},b.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:S(),hoverinfo:i({},v.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:b.hoveron,hovertemplate:y(),selected:b.selected,unselected:b.unselected}},47507:function(U,B,e){var y=e(38248),L=e(39032).BADNUM,i=e(90136),S=e(20148),b=e(4500),v=e(16356).calcMarkerSize;U.exports=function(r,t){for(var a=r._fullLayout,n=t.subplot,u=a[n].realaxis,s=a[n].imaginaryaxis,l=u.makeCalcdata(t,"real"),m=s.makeCalcdata(t,"imag"),h=t._length,g=new Array(h),c=0;c<h;c++){var o=l[c],d=m[c],w=g[c]={};y(o)&&y(d)?(w.real=o,w.imag=d):w.real=L}return v(t,h),i(r,t),S(g,t),b(g,t),g}},76716:function(U,B,e){var y=e(3400),L=e(43028),i=e(74428),S=e(66828),b=e(11731),v=e(124),p=e(70840),r=e(88200).PTS_LINESONLY,t=e(69496);U.exports=function(u,s,l,m){function h(o,d){return y.coerce(u,s,t,o,d)}var g=a(u,s,m,h);if(!g){s.visible=!1;return}h("mode",g<r?"lines+markers":"lines"),h("text"),h("hovertext"),s.hoveron!=="fills"&&h("hovertemplate"),L.hasMarkers(s)&&i(u,s,l,m,h,{gradient:!0}),L.hasLines(s)&&(S(u,s,l,m,h,{backoff:!0}),b(u,s,h),h("connectgaps")),L.hasText(s)&&(h("texttemplate"),v(u,s,m,h));var c=[];(L.hasMarkers(s)||L.hasText(s))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),s.fill!=="none"&&(p(u,s,l,h),L.hasLines(s)||b(u,s,h)),(s.fill==="tonext"||s.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),y.coerceSelectionMarkerOpacity(s,h)};function a(n,u,s,l){var m=l("real"),h=l("imag"),g;return m&&h&&(g=Math.min(m.length,h.length)),y.isTypedArray(m)&&(u.real=m=Array.from(m)),y.isTypedArray(h)&&(u.imag=h=Array.from(h)),u._length=g,g}},49504:function(U,B,e){var y=e(54460);U.exports=function(i,S,b){var v={},p=b[S.subplot]._subplot;return v.realLabel=y.tickText(p.radialAxis,i.real,!0).text,v.imagLabel=y.tickText(p.angularAxis,i.imag,!0).text,v}},25292:function(U,B,e){var y=e(98723);function L(S,b,v,p){var r=y(S,b,v,p);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var a=S.subplot,n=t.cd[t.index],u=t.trace;if(a.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,i(n,u,a,t),t.hovertemplate=u.hovertemplate,r}}function i(S,b,v,p){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="real",t._hovertitle="imag";var a={};a[b.subplot]={_subplot:v};var n=b._module.formatLabels(S,b,a);p.realLabel=n.realLabel,p.imagLabel=n.imagLabel;var u=S.hi||b.hoverinfo,s=[];function l(h,g){s.push(h._hovertitle+": "+g)}if(!b.hovertemplate){var m=u.split("+");m.indexOf("all")!==-1&&(m=["real","imag","text"]),m.indexOf("real")!==-1&&l(r,p.realLabel),m.indexOf("imag")!==-1&&l(t,p.imagLabel),m.indexOf("text")!==-1&&p.text&&(s.push(p.text),delete p.text),p.extraText=s.join("<br>")}}U.exports={hoverPoints:L,makeHoverPointText:i}},95443:function(U,B,e){U.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(U,B,e){var y=e(96504),L=e(39032).BADNUM,i=e(36416),S=i.smith;U.exports=function(v,p,r){for(var t=p.layers.frontplot.select("g.scatterlayer"),a=p.xaxis,n=p.yaxis,u={xaxis:a,yaxis:n,plot:p.framework,layerClipId:p._hasClipOnAxisFalse?p.clipIds.forTraces:null},s=0;s<r.length;s++)for(var l=r[s],m=0;m<l.length;m++){m===0&&(l[0].trace._xA=a,l[0].trace._yA=n);var h=l[m],g=h.real;if(g===L)h.x=h.y=L;else{var c=S([g,h.imag]);h.x=c[0],h.y=c[1]}}y(v,u,r,t)}},5896:function(U,B,e){var y=e(21776).Ks,L=e(21776).Gw,i=e(98304),S=e(52904),b=e(45464),v=e(49084),p=e(98192).u,r=e(92880).extendFlat,t=S.marker,a=S.line,n=t.line;U.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:r({},S.mode,{dflt:"markers"}),text:r({},S.text,{}),texttemplate:L({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:r({},S.hovertext,{}),line:{color:a.color,width:a.width,dash:p,backoff:a.backoff,shape:r({},a.shape,{values:["linear","spline"]}),smoothing:a.smoothing,editType:"calc"},connectgaps:S.connectgaps,cliponaxis:S.cliponaxis,fill:r({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:i(),marker:r({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:r({width:n.width,editType:"calc"},v("marker.line")),gradient:t.gradient,editType:"calc"},v("marker")),textfont:S.textfont,textposition:S.textposition,selected:S.selected,unselected:S.unselected,hoverinfo:r({},b.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:S.hoveron,hovertemplate:y()}},34335:function(U,B,e){var y=e(38248),L=e(90136),i=e(20148),S=e(4500),b=e(16356).calcMarkerSize,v=["a","b","c"],p={a:["b","c"],b:["a","c"],c:["a","b"]};U.exports=function(t,a){var n=t._fullLayout[a.subplot],u=n.sum,s=a.sum||u,l={a:a.a,b:a.b,c:a.c},m,h,g,c,o,d;for(m=0;m<v.length;m++)if(g=v[m],!l[g]){for(o=l[p[g][0]],d=l[p[g][1]],c=new Array(o.length),h=0;h<o.length;h++)c[h]=s-o[h]-d[h];l[g]=c}var w=a._length,A=new Array(w),C,x,E,M,f,P;for(m=0;m<w;m++)C=l.a[m],x=l.b[m],E=l.c[m],y(C)&&y(x)&&y(E)?(C=+C,x=+x,E=+E,M=u/(C+x+E),M!==1&&(C*=M,x*=M,E*=M),P=C,f=E-x,A[m]={x:f,y:P,a:C,b:x,c:E}):A[m]={x:!1,y:!1};return b(a,w),L(t,a),i(A,a),S(A,a),A}},84256:function(U,B,e){var y=e(3400),L=e(88200),i=e(43028),S=e(74428),b=e(66828),v=e(11731),p=e(124),r=e(70840),t=e(5896);U.exports=function(n,u,s,l){function m(A,C){return y.coerce(n,u,t,A,C)}var h=m("a"),g=m("b"),c=m("c"),o;if(h?(o=h.length,g?(o=Math.min(o,g.length),c&&(o=Math.min(o,c.length))):c?o=Math.min(o,c.length):o=0):g&&c&&(o=Math.min(g.length,c.length)),!o){u.visible=!1;return}u._length=o,m("sum"),m("text"),m("hovertext"),u.hoveron!=="fills"&&m("hovertemplate");var d=o<L.PTS_LINESONLY?"lines+markers":"lines";m("mode",d),i.hasMarkers(u)&&S(n,u,s,l,m,{gradient:!0}),i.hasLines(u)&&(b(n,u,s,l,m,{backoff:!0}),v(n,u,m),m("connectgaps")),i.hasText(u)&&(m("texttemplate"),p(n,u,l,m));var w=[];(i.hasMarkers(u)||i.hasText(u))&&(m("cliponaxis"),m("marker.maxdisplayed"),w.push("points")),m("fill"),u.fill!=="none"&&(r(n,u,s,m),i.hasLines(u)||v(n,u,m)),(u.fill==="tonext"||u.fill==="toself")&&w.push("fills"),m("hoveron",w.join("+")||"points"),y.coerceSelectionMarkerOpacity(u,m)}},97476:function(U){U.exports=function(e,y,L,i,S){if(y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),i[S]){var b=i[S];e.a=b.a,e.b=b.b,e.c=b.c}else e.a=y.a,e.b=y.b,e.c=y.c;return e}},90404:function(U,B,e){var y=e(54460);U.exports=function(i,S,b){var v={},p=b[S.subplot]._subplot;return v.aLabel=y.tickText(p.aaxis,i.a,!0).text,v.bLabel=y.tickText(p.baxis,i.b,!0).text,v.cLabel=y.tickText(p.caxis,i.c,!0).text,v}},26596:function(U,B,e){var y=e(98723);U.exports=function(i,S,b,v){var p=y(i,S,b,v);if(!p||p[0].index===!1)return;var r=p[0];if(r.index===void 0){var t=1-r.y0/i.ya._length,a=i.xa._length,n=a*t/2,u=a-n;return r.x0=Math.max(Math.min(r.x0,u),n),r.x1=Math.max(Math.min(r.x1,u),n),p}var s=r.cd[r.index],l=r.trace,m=r.subplot;r.a=s.a,r.b=s.b,r.c=s.c,r.xLabelVal=void 0,r.yLabelVal=void 0;var h={};h[l.subplot]={_subplot:m};var g=l._module.formatLabels(s,l,h);r.aLabel=g.aLabel,r.bLabel=g.bLabel,r.cLabel=g.cLabel;var c=s.hi||l.hoverinfo,o=[];function d(A,C){o.push(A._hovertitle+": "+C)}if(!l.hovertemplate){var w=c.split("+");w.indexOf("all")!==-1&&(w=["a","b","c"]),w.indexOf("a")!==-1&&d(m.aaxis,r.aLabel),w.indexOf("b")!==-1&&d(m.baxis,r.bLabel),w.indexOf("c")!==-1&&d(m.caxis,r.cLabel)}return r.extraText=o.join("<br>"),r.hovertemplate=l.hovertemplate,p}},34864:function(U,B,e){U.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(U,B,e){var y=e(96504);U.exports=function(i,S,b){var v=S.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var p=S.xaxis,r=S.yaxis,t={xaxis:p,yaxis:r,plot:v,layerClipId:S._hasClipOnAxisFalse?S.clipIdRelative:null},a=S.layers.frontplot.select("g.scatterlayer"),n=0;n<b.length;n++){var u=b[n];u.length&&(u[0].trace._xA=p,u[0].trace._yA=r)}y(i,t,b,a)}},44524:function(U,B,e){var y=e(52904),L=e(49084),i=e(29736).axisHoverFormat,S=e(21776).Ks,b=e(2876),v=e(33816).idRegex,p=e(31780).templatedArray,r=e(92880).extendFlat,t=y.marker,a=t.line,n=r(L("marker.line",{editTypeOverride:"calc"}),{width:r({},a.width,{editType:"calc"}),editType:"calc"}),u=r(L("marker"),{symbol:t.symbol,angle:t.angle,size:r({},t.size,{editType:"markerSize"}),sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,opacity:t.opacity,colorbar:t.colorbar,line:n,editType:"calc"});u.color.editType=u.cmin.editType=u.cmax.editType="style";function s(l){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[l],editType:"plot"}}}U.exports={dimensions:p("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},b.text,{}),hovertext:r({},b.hovertext,{}),hovertemplate:S(),xhoverformat:i("x"),yhoverformat:i("y"),marker:u,xaxes:s("x"),yaxes:s("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:b.selected.marker,editType:"calc"},unselected:{marker:b.unselected.marker,editType:"calc"},opacity:b.opacity}},28888:function(U,B,e){var y=e(24040),L=e(12704);U.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},y.register(L)},99332:function(U,B,e){var y=e(13472),L=e(24040),i=e(5048),S=e(84888)._M,b=e(57952),v=e(79811).getFromId,p=e(54460).shouldShowZeroLine,r="splom",t={};function a(h){var g=h._fullLayout,c=L.getModule(r),o=S(h.calcdata,c)[0],d=i(h,["ANGLE_instanced_arrays","OES_element_index_uint"],t);d&&(g._hasOnlyLargeSploms&&s(h),c.plot(h,{},o))}function n(h){var g=h.calcdata,c=h._fullLayout;c._hasOnlyLargeSploms&&s(h);for(var o=0;o<g.length;o++){var d=g[o][0],w=d.trace,A=c._splomScenes[w.uid];w.type==="splom"&&A&&A.matrix&&u(h,w,A)}}function u(h,g,c){for(var o=c.matrixOptions.data.length,d=g._visibleDims,w=c.viewOpts.ranges=new Array(o),A=0;A<d.length;A++){var C=d[A],x=w[A]=new Array(4),E=v(h,g._diag[C][0]);E&&(x[0]=E.r2l(E.range[0]),x[2]=E.r2l(E.range[1]));var M=v(h,g._diag[C][1]);M&&(x[1]=M.r2l(M.range[0]),x[3]=M.r2l(M.range[1]))}c.selectBatch.length||c.unselectBatch.length?c.matrix.update({ranges:w},{ranges:w}):c.matrix.update({ranges:w})}function s(h){var g=h._fullLayout,c=g._glcanvas.data()[0].regl,o=g._splomGrid;o||(o=g._splomGrid=y(c)),o.update(l(h))}function l(h){var g=h._context.plotGlPixelRatio,c=h._fullLayout,o=c._size,d=[0,0,c.width*g,c.height*g],w={},A;function C(j,ee,te,ne,ue,q){te*=g,ne*=g,ue*=g,q*=g;var Y=ee[j+"color"],Z=ee[j+"width"],G=String(Y+Z);G in w?w[G].data.push(NaN,NaN,te,ne,ue,q):w[G]={data:[te,ne,ue,q],join:"rect",thickness:Z*g,color:Y,viewport:d,range:d,overlay:!1}}for(A in c._splomSubplots){var x=c._plots[A],E=x.xaxis,M=x.yaxis,f=E._gridVals,P=M._gridVals,T=E._offset,z=E._length,_=M._length,V=o.b+M.domain[0]*o.h,F=-M._m,N=-F*M.r2l(M.range[0],M.calendar),k,I;if(E.showgrid)for(A=0;A<f.length;A++)k=T+E.l2p(f[A].x),C("grid",E,k,V,k,V+_);if(M.showgrid)for(A=0;A<P.length;A++)I=V+N+F*P[A].x,C("grid",M,T,I,T+z,I);p(h,E,M)&&(k=T+E.l2p(0),C("zeroline",E,k,V,k,V+_)),p(h,M,E)&&(I=V+N+0,C("zeroline",M,T,I,T+z,I))}var H=[];for(A in w)H.push(w[A]);return H}function m(h,g,c,o){var d={},w;if(o._splomScenes){for(w=0;w<h.length;w++){var A=h[w];A.type==="splom"&&(d[A.uid]=1)}for(w=0;w<c.length;w++){var C=c[w];if(!d[C.uid]){var x=o._splomScenes[C.uid];x&&x.destroy&&x.destroy(),o._splomScenes[C.uid]=null,delete o._splomScenes[C.uid]}}}Object.keys(o._splomScenes||{}).length===0&&delete o._splomScenes,o._splomGrid&&!g._hasOnlyLargeSploms&&o._hasOnlyLargeSploms&&(o._splomGrid.destroy(),o._splomGrid=null,delete o._splomGrid),b.clean(h,g,c,o)}U.exports={name:r,attr:b.attr,attrRegex:b.attrRegex,layoutAttributes:b.layoutAttributes,supplyLayoutDefaults:b.supplyLayoutDefaults,drawFramework:b.drawFramework,plot:a,drag:n,updateGrid:s,clean:m,updateFx:b.updateFx,toSVG:b.toSVG,reglPrecompiled:t}},66821:function(U,B,e){var y=e(3400),L=e(79811),i=e(16356).calcMarkerSize,S=e(16356).calcAxisExpansion,b=e(90136),v=e(84236).markerSelection,p=e(84236).markerStyle,r=e(72308),t=e(39032).BADNUM,a=e(67072).TOO_MANY_POINTS;U.exports=function(u,s){var l=s.dimensions,m=s._length,h={},g=h.cdata=[],c=h.data=[],o=s._visibleDims=[],d,w,A,C,x;function E(z,_){for(var V=z.makeCalcdata({v:_.values,vcalendar:s.calendar},"v"),F=0;F<V.length;F++)V[F]=V[F]===t?NaN:V[F];g.push(V),c.push(z.type==="log"?y.simpleMap(V,z.c2l):V)}for(d=0;d<l.length;d++)if(A=l[d],A.visible){if(C=L.getFromId(u,s._diag[d][0]),x=L.getFromId(u,s._diag[d][1]),C&&x&&C.type!==x.type){y.log("Skipping splom dimension "+d+" with conflicting axis types");continue}C?(E(C,A),x&&x.type==="category"&&(x._categories=C._categories.slice())):E(x,A),o.push(d)}b(u,s),y.extendFlat(h,p(u,s));var M=g.length,f=M*m>a,P;for(f?P=h.sizeAvg||Math.max(h.size,3):P=i(s,m),w=0;w<o.length;w++)d=o[w],A=l[d],C=L.getFromId(u,s._diag[d][0])||{},x=L.getFromId(u,s._diag[d][1])||{},S(u,s,C,x,g[w],g[w],P);var T=r(u,s);return T.matrix||(T.matrix=!0),T.matrixOptions=h,T.selectedOptions=v(u,s,s.selected),T.unselectedOptions=v(u,s,s.unselected),[{x:!1,y:!1,t:{},trace:s}]}},69544:function(U,B,e){var y=e(3400),L=e(51272),i=e(44524),S=e(43028),b=e(74428),v=e(26284),p=e(80088).isOpenSymbol;U.exports=function(n,u,s,l){function m(C,x){return y.coerce(n,u,i,C,x)}var h=L(n,u,{name:"dimensions",handleItemDefaults:r}),g=m("diagonal.visible"),c=m("showupperhalf"),o=m("showlowerhalf"),d=v(u,h,"values");if(!d||!g&&!c&&!o){u.visible=!1;return}m("text"),m("hovertext"),m("hovertemplate"),m("xhoverformat"),m("yhoverformat"),b(n,u,s,l,m,{noAngleRef:!0,noStandOff:!0});var w=p(u.marker.symbol),A=S.isBubble(u);m("marker.line.width",w||A?1:0),t(n,u,l,m),y.coerceSelectionMarkerOpacity(u,m)};function r(a,n){function u(l,m){return y.coerce(a,n,i.dimensions,l,m)}u("label");var s=u("values");s&&s.length?u("visible"):n.visible=!1,u("axis.type"),u("axis.matches")}function t(a,n,u,s){var l=n.dimensions,m=l.length,h=n.showupperhalf,g=n.showlowerhalf,c=n.diagonal.visible,o,d,w=new Array(m),A=new Array(m);for(o=0;o<m;o++){var C=o?o+1:"";w[o]="x"+C,A[o]="y"+C}var x=s("xaxes",w),E=s("yaxes",A),M=n._diag=new Array(m);n._xaxes={},n._yaxes={};var f=[],P=[];function T(j,ee,te,ne){if(j){var ue=j.charAt(0),q=u._splomAxes[ue];if(n["_"+ue+"axes"][j]=1,ne.push(j),!(j in q)){var Y=q[j]={};te&&(Y.label=te.label||"",te.visible&&te.axis&&(te.axis.type&&(Y.type=te.axis.type),te.axis.matches&&(Y.matches=ee)))}}}var z=!c&&!g,_=!c&&!h;for(n._axesDim={},o=0;o<m;o++){var V=l[o],F=o===0,N=o===m-1,k=F&&z||N&&_?void 0:x[o],I=F&&_||N&&z?void 0:E[o];T(k,I,V,f),T(I,k,V,P),M[o]=[k,I],n._axesDim[k]=o,n._axesDim[I]=o}for(o=0;o<f.length;o++)for(d=0;d<P.length;d++){var H=f[o]+P[d];(o>d&&h||o<d&&g||o===d&&(c||!g||!h))&&(u._splomSubplots[H]=1)}(!g||!c&&h&&g)&&(u._splomGridDflt.xside="bottom",u._splomGridDflt.yside="left")}},83156:function(U,B,e){var y=e(3400),L=e(90136),i=e(84236).markerStyle;U.exports=function(b,v){var p=v.trace,r=b._fullLayout._splomScenes[p.uid];if(r){L(b,p),y.extendFlat(r.matrixOptions,i(b,p));var t=y.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(t,null)}}},50328:function(U,B){B.getDimIndex=function(y,L){for(var i=L._id,S=i.charAt(0),b={x:0,y:1}[S],v=y._visibleDims,p=0;p<v.length;p++){var r=v[p];if(y._diag[r][b]===i)return p}return!1}},72248:function(U,B,e){var y=e(50328),L=e(41272).calcHover;function i(S,b,v){var p=S.cd,r=p[0].trace,t=S.scene,a=t.matrixOptions.cdata,n=S.xa,u=S.ya,s=n.c2p(b),l=u.c2p(v),m=S.distance,h=y.getDimIndex(r,n),g=y.getDimIndex(r,u);if(h===!1||g===!1)return[S];for(var c=a[h],o=a[g],d,w,A=m,C=0;C<c.length;C++){var x=c[C],E=o[C],M=n.c2p(x)-s,f=u.c2p(E)-l,P=Math.sqrt(M*M+f*f);P<A&&(A=w=P,d=C)}return S.index=d,S.distance=A,S.dxy=w,d===void 0?[S]:[L(S,c,o,r)]}U.exports={hoverPoints:i}},97924:function(U,B,e){var y=e(28888);y.basePlotModule=e(99332),U.exports=y},54840:function(U,B,e){var y=e(55795),L=e(3400),i=e(79811),S=e(72760).selectMode;U.exports=function(p,r,t){if(t.length)for(var a=0;a<t.length;a++)b(p,t[a][0])};function b(v,p){var r=v._fullLayout,t=r._size,a=p.trace,n=p.t,u=r._splomScenes[a.uid],s=u.matrixOptions,l=s.cdata,m=r._glcanvas.data()[0].regl,h=r.dragmode,g,c,o,d,w;if(l.length!==0){s.lower=a.showupperhalf,s.upper=a.showlowerhalf,s.diagonal=a.diagonal.visible;var A=a._visibleDims,C=l.length,x=u.viewOpts={};for(x.ranges=new Array(C),x.domains=new Array(C),w=0;w<A.length;w++){o=A[w];var E=x.ranges[w]=new Array(4),M=x.domains[w]=new Array(4);g=i.getFromId(v,a._diag[o][0]),g&&(E[0]=g._rl[0],E[2]=g._rl[1],M[0]=g.domain[0],M[2]=g.domain[1]),c=i.getFromId(v,a._diag[o][1]),c&&(E[1]=c._rl[0],E[3]=c._rl[1],M[1]=c.domain[0],M[3]=c.domain[1])}var f=v._context.plotGlPixelRatio,P=t.l*f,T=t.b*f,z=t.w*f,_=t.h*f;x.viewport=[P,T,z+P,_+T],u.matrix===!0&&(u.matrix=y(m));var V=r.clickmode.indexOf("select")>-1,F=S(h)||!!a.selectedpoints||V,N=!0;if(F){var k=a._length;if(a.selectedpoints){u.selectBatch=a.selectedpoints;var I=a.selectedpoints,H={};for(o=0;o<I.length;o++)H[I[o]]=!0;var j=[];for(o=0;o<k;o++)H[o]||j.push(o);u.unselectBatch=j}var ee=n.xpx=new Array(C),te=n.ypx=new Array(C);for(w=0;w<A.length;w++){if(o=A[w],g=i.getFromId(v,a._diag[o][0]),g)for(ee[w]=new Array(k),d=0;d<k;d++)ee[w][d]=g.c2p(l[w][d]);if(c=i.getFromId(v,a._diag[o][1]),c)for(te[w]=new Array(k),d=0;d<k;d++)te[w][d]=c.c2p(l[w][d])}if(u.selectBatch.length||u.unselectBatch.length){var ne=L.extendFlat({},s,u.unselectedOptions,x),ue=L.extendFlat({},s,u.selectedOptions,x);u.matrix.update(ne,ue),N=!1}}else n.xpx=n.ypx=null;if(N){var q=L.extendFlat({},s,x);u.matrix.update(q,null)}}}},72308:function(U,B,e){var y=e(3400);U.exports=function(i,S){var b=i._fullLayout,v=S.uid,p=b._splomScenes;p||(p=b._splomScenes={});var r={dirty:!0,selectBatch:[],unselectBatch:[]},t={matrix:!1,selectBatch:[],unselectBatch:[]},a=p[S.uid];return a||(a=p[v]=y.extendFlat({},r,t),a.draw=function(){a.matrix&&a.matrix.draw&&(a.selectBatch.length||a.unselectBatch.length?a.matrix.draw(a.unselectBatch,a.selectBatch):a.matrix.draw()),a.dirty=!1},a.destroy=function(){a.matrix&&a.matrix.destroy&&a.matrix.destroy(),a.matrixOptions=null,a.selectBatch=null,a.unselectBatch=null,a=null}),a.dirty||y.extendFlat(a,r),a}},62500:function(U,B,e){var y=e(3400),L=y.pushUnique,i=e(43028),S=e(50328);U.exports=function(v,p){var r=v.cd,t=r[0].trace,a=r[0].t,n=v.scene,u=n.matrixOptions.cdata,s=v.xaxis,l=v.yaxis,m=[];if(!n)return m;var h=!i.hasMarkers(t)&&!i.hasText(t);if(t.visible!==!0||h)return m;var g=S.getDimIndex(t,s),c=S.getDimIndex(t,l);if(g===!1||c===!1)return m;var o=a.xpx[g],d=a.ypx[c],w=u[g],A=u[c],C=(v.scene.selectBatch||[]).slice(),x=[];if(p!==!1&&!p.degenerate)for(var E=0;E<w.length;E++)p.contains([o[E],d[E]],null,E,v)?(m.push({pointNumber:E,x:w[E],y:A[E]}),L(C,E)):C.indexOf(E)!==-1?L(C,E):x.push(E);var M=n.matrixOptions;return!C.length&&!x.length?n.matrix.update(M,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,y.extendFlat({},M,n.selectedOptions,n.viewOpts)),n.selectBatch=C,n.unselectBatch=x,m}},90167:function(U,B,e){var y=e(49084),L=e(29736).axisHoverFormat,i=e(21776).Ks,S=e(52948),b=e(45464),v=e(92880).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:L("u",1),vhoverformat:L("v",1),whoverformat:L("w",1),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),showlegend:v({},b.showlegend,{dflt:!1})};v(p,y("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){p[t]=S[t]}),p.hoverinfo=v({},b.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,U.exports=p},3832:function(U,B,e){var y=e(3400),L=e(47128);function i(p,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=v(r.u,r._len),r._v=v(r.v,r._len),r._w=v(r.w,r._len),r._x=v(r.x,r._len),r._y=v(r.y,r._len),r._z=v(r.z,r._len);var t=S(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var a=0,n,u,s;r.starts&&(n=v(r.starts.x||[]),u=v(r.starts.y||[]),s=v(r.starts.z||[]),a=Math.min(n.length,u.length,s.length)),r._startsX=n||[],r._startsY=u||[],r._startsZ=s||[];var l=0,m=1/0,h;for(h=0;h<r._len;h++){var g=r._u[h],c=r._v[h],o=r._w[h],d=Math.sqrt(g*g+c*c+o*o);l=Math.max(l,d),m=Math.min(m,d)}for(L(p,r,{vals:[m,l],containerStr:"",cLetter:"c"}),h=0;h<a;h++){var w=n[h];t.xMax=Math.max(t.xMax,w),t.xMin=Math.min(t.xMin,w);var A=u[h];t.yMax=Math.max(t.yMax,A),t.yMin=Math.min(t.yMin,A);var C=s[h];t.zMax=Math.max(t.zMax,C),t.zMin=Math.min(t.zMin,C)}r._slen=a,r._normMax=l,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function S(p){var r=p._x,t=p._y,a=p._z,n=p._len,u,s,l,m=-1/0,h=1/0,g=-1/0,c=1/0,o=-1/0,d=1/0,w="",A,C,x,E,M,f,P,T,z;for(n&&(E=r[0],f=t[0],T=a[0]),n>1&&(M=r[n-1],P=t[n-1],z=a[n-1]),u=0;u<n;u++)m=Math.max(m,r[u]),h=Math.min(h,r[u]),g=Math.max(g,t[u]),c=Math.min(c,t[u]),o=Math.max(o,a[u]),d=Math.min(d,a[u]),!A&&r[u]!==E&&(A=!0,w+="x"),!C&&t[u]!==f&&(C=!0,w+="y"),!x&&a[u]!==T&&(x=!0,w+="z");A||(w+="x"),C||(w+="y"),x||(w+="z");var _=b(p._x),V=b(p._y),F=b(p._z);w=w.replace("x",(E>M?"-":"+")+"x"),w=w.replace("y",(f>P?"-":"+")+"y"),w=w.replace("z",(T>z?"-":"+")+"z");var N=function(){n=0,_=[],V=[],F=[]};(!n||n<_.length*V.length*F.length)&&N();var k=function(ce){return ce==="x"?r:ce==="y"?t:a},I=function(ce){return ce==="x"?_:ce==="y"?V:F},H=function(ce){return ce[n-1]<ce[0]?-1:1},j=k(w[1]),ee=k(w[3]),te=k(w[5]),ne=I(w[1]).length,ue=I(w[3]).length,q=I(w[5]).length,Y=!1,Z=function(ce,ye,Se){return ne*(ue*ce+ye)+Se},G=H(k(w[1])),K=H(k(w[3])),oe=H(k(w[5]));for(u=0;u<q-1;u++){for(s=0;s<ue-1;s++){for(l=0;l<ne-1;l++){var $=Z(u,s,l),J=Z(u,s,l+1),se=Z(u,s+1,l),ie=Z(u+1,s,l);if((!(j[$]*G<j[J]*G)||!(ee[$]*K<ee[se]*K)||!(te[$]*oe<te[ie]*oe))&&(Y=!0),Y)break}if(Y)break}if(Y)break}return Y&&(y.warn("Encountered arbitrary coordinates! Unable to input data grid."),N()),{xMin:h,yMin:c,zMin:d,xMax:m,yMax:g,zMax:o,Xs:_,Ys:V,Zs:F,len:n,fill:w}}function b(p){return y.distinctVals(p).vals}function v(p,r){if(r===void 0&&(r=p.length),y.isTypedArray(p))return p.subarray(0,r);for(var t=[],a=0;a<r;a++)t[a]=+p[a];return t}U.exports={calc:i,filter:v,processGrid:S}},25668:function(U,B,e){var y=e(67792).gl_streamtube3d,L=y.createTubeMesh,i=e(3400),S=e(33040).parseColorScale,b=e(8932).extractOpts,v=e(52094),p={xaxis:0,yaxis:1,zaxis:2};function r(l,m){this.scene=l,this.uid=m,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(l){var m=this.scene.fullSceneLayout,h=this.scene.dataScale;function g(d,w){var A=m[w],C=h[p[w]];return A.l2c(d)/C}if(l.object===this.mesh){var c=l.data.position,o=l.data.velocity;return l.traceCoordinate=[g(c[0],"xaxis"),g(c[1],"yaxis"),g(c[2],"zaxis"),g(o[0],"xaxis"),g(o[1],"yaxis"),g(o[2],"zaxis"),l.data.intensity*this.data._normMax,l.data.divergence],l.textLabel=this.data.hovertext||this.data.text,!0}};function a(l){var m=l.length,h;return m>2?h=l.slice(1,m-1):m===2?h=[(l[0]+l[1])/2]:h=l,h}function n(l){var m=l.length;return m===1?[.5,.5]:[l[1]-l[0],l[m-1]-l[m-2]]}function u(l,m){var h=l.fullSceneLayout,g=l.dataScale,c=m._len,o={};function d(ue,q){var Y=h[q],Z=g[p[q]];return i.simpleMap(ue,function(G){return Y.d2l(G)*Z})}if(o.vectors=v(d(m._u,"xaxis"),d(m._v,"yaxis"),d(m._w,"zaxis"),c),!c)return{positions:[],cells:[]};var w=d(m._Xs,"xaxis"),A=d(m._Ys,"yaxis"),C=d(m._Zs,"zaxis");o.meshgrid=[w,A,C],o.gridFill=m._gridFill;var x=m._slen;if(x)o.startingPositions=v(d(m._startsX,"xaxis"),d(m._startsY,"yaxis"),d(m._startsZ,"zaxis"));else{for(var E=A[0],M=a(w),f=a(C),P=new Array(M.length*f.length),T=0,z=0;z<M.length;z++)for(var _=0;_<f.length;_++)P[T++]=[M[z],E,f[_]];o.startingPositions=P}o.colormap=S(m),o.tubeSize=m.sizeref,o.maxLength=m.maxdisplayed;var V=d(m._xbnds,"xaxis"),F=d(m._ybnds,"yaxis"),N=d(m._zbnds,"zaxis"),k=n(w),I=n(A),H=n(C),j=[[V[0]-k[0],F[0]-I[0],N[0]-H[0]],[V[1]+k[1],F[1]+I[1],N[1]+H[1]]],ee=y(o,j),te=b(m);ee.vertexIntensityBounds=[te.min/m._normMax,te.max/m._normMax];var ne=m.lightposition;return ee.lightPosition=[ne.x,ne.y,ne.z],ee.ambient=m.lighting.ambient,ee.diffuse=m.lighting.diffuse,ee.specular=m.lighting.specular,ee.roughness=m.lighting.roughness,ee.fresnel=m.lighting.fresnel,ee.opacity=m.opacity,m._pad=ee.tubeScale*m.sizeref*2,ee}t.update=function(l){this.data=l;var m=u(this.scene,l);this.mesh.update(m)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function s(l,m){var h=l.glplot.gl,g=u(l,m),c=L(h,g),o=new r(l,m.uid);return o.mesh=c,o.data=m,c._trace=o,l.glplot.add(c),o}U.exports=s},54304:function(U,B,e){var y=e(3400),L=e(27260),i=e(90167);U.exports=function(b,v,p,r){function t(h,g){return y.coerce(b,v,i,h,g)}var a=t("u"),n=t("v"),u=t("w"),s=t("x"),l=t("y"),m=t("z");if(!a||!a.length||!n||!n.length||!u||!u.length||!s||!s.length||!l||!l.length||!m||!m.length){v.visible=!1;return}t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),L(b,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},15436:function(U,B,e){U.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(y,L){return y.tubex=y.x,y.tubey=y.y,y.tubez=y.z,y.tubeu=L.traceCoordinate[3],y.tubev=L.traceCoordinate[4],y.tubew=L.traceCoordinate[5],y.norm=L.traceCoordinate[6],y.divergence=L.traceCoordinate[7],delete y.x,delete y.y,delete y.z,y},meta:{}}},424:function(U,B,e){var y=e(45464),L=e(21776).Ks,i=e(21776).Gw,S=e(49084),b=e(86968).u,v=e(74996),p=e(27328),r=e(92880).extendFlat,t=e(98192).c;U.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},v.marker.line.color,{dflt:null}),width:r({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:t,editType:"calc"},S("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:i({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:r({},y.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:L({},{keys:p.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:r({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:b({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(U,B,e){var y=e(7316);B.name="sunburst",B.plot=function(L,i,S,b){y.plotBasePlot(B.name,L,i,S,b)},B.clean=function(L,i,S,b){y.cleanBasePlot(B.name,L,i,S,b)}},3776:function(U,B,e){var y=e(74148),L=e(38248),i=e(3400),S=e(8932).makeColorScaleFuncFromTrace,b=e(45768).makePullColorFn,v=e(45768).generateExtendedColors,p=e(8932).calc,r=e(39032).ALMOST_EQUAL,t={},a={},n={};B.calc=function(s,l){var m=s._fullLayout,h=l.ids,g=i.isArrayOrTypedArray(h),c=l.labels,o=l.parents,d=l.values,w=i.isArrayOrTypedArray(d),A=[],C={},x={},E=function(G,K){C[G]?C[G].push(K):C[G]=[K],x[K]=1},M=function(G){return G||typeof G=="number"},f=function(G){return!w||L(d[G])&&d[G]>=0},P,T,z;g?(P=Math.min(h.length,o.length),T=function(G){return M(h[G])&&f(G)},z=function(G){return String(h[G])}):(P=Math.min(c.length,o.length),T=function(G){return M(c[G])&&f(G)},z=function(G){return String(c[G])}),w&&(P=Math.min(P,d.length));for(var _=0;_<P;_++)if(T(_)){var V=z(_),F=M(o[_])?String(o[_]):"",N={i:_,id:V,pid:F,label:M(c[_])?String(c[_]):""};w&&(N.v=+d[_]),A.push(N),E(F,V)}if(C[""]){if(C[""].length>1){for(var H=i.randstr(),j=0;j<A.length;j++)A[j].pid===""&&(A[j].pid=H);A.unshift({hasMultipleRoots:!0,id:H,pid:"",label:""})}}else{var k=[],I;for(I in C)x[I]||k.push(I);if(k.length===1)I=k[0],A.unshift({hasImpliedRoot:!0,id:I,pid:"",label:I});else return i.warn(["Multiple implied roots, cannot build",l.type,"hierarchy of",l.name+".","These roots include:",k.join(", ")].join(" "))}var ee;try{ee=y.stratify().id(function(G){return G.id}).parentId(function(G){return G.pid})(A)}catch(G){return i.warn(["Failed to build",l.type,"hierarchy of",l.name+".","Error:",G.message].join(" "))}var te=y.hierarchy(ee),ne=!1;if(w)switch(l.branchvalues){case"remainder":te.sum(function(G){return G.data.v});break;case"total":te.each(function(G){var K=G.data.data,oe=K.v;if(G.children){var $=G.children.reduce(function(J,se){return J+se.data.data.v},0);if((K.hasImpliedRoot||K.hasMultipleRoots)&&(oe=$),oe<$*r)return ne=!0,i.warn(["Total value for node",G.data.data.id,"of",l.name,"is smaller than the sum of its children.",`
parent value =`,oe,`
children sum =`,$].join(" "))}G.value=oe});break}else u(te,l,{branches:l.count.indexOf("branches")!==-1,leaves:l.count.indexOf("leaves")!==-1});if(!ne){l.sort&&te.sort(function(G,K){return K.value-G.value});var ue,q,Y=l.marker.colors||[],Z=!!Y.length;return l._hasColorscale?(Z||(Y=w?l.values:l._values),p(s,l,{vals:Y,containerStr:"marker",cLetter:"c"}),q=S(l.marker)):ue=b(m["_"+l.type+"colormap"]),te.each(function(G){var K=G.data.data;K.color=l._hasColorscale?q(Y[K.i]):ue(Y[K.i],K.id)}),A[0].hierarchy=te,A}},B._runCrossTraceCalc=function(s,l){var m=l._fullLayout,h=l.calcdata,g=m[s+"colorway"],c=m["_"+s+"colormap"];m["extend"+s+"colors"]&&(g=v(g,s==="icicle"?n:s==="treemap"?a:t));var o=0,d;function w(E){var M=E.data.data,f=M.id;M.color===!1&&(c[f]?M.color=c[f]:E.parent?E.parent.parent?M.color=E.parent.data.data.color:(c[f]=M.color=g[o%g.length],o++):M.color=d)}for(var A=0;A<h.length;A++){var C=h[A],x=C[0];x.trace.type===s&&x.hierarchy&&(d=x.trace.root.color,x.hierarchy.each(w))}},B.crossTraceCalc=function(s){return B._runCrossTraceCalc("sunburst",s)};function u(s,l,m){var h=0,g=s.children;if(g){for(var c=g.length,o=0;o<c;o++)h+=u(g[o],l,m);m.branches&&h++}else m.leaves&&h++;return s.value=s.data.data.value=h,l._values||(l._values=[]),l._values[s.data.data.i]=h,h}},27328:function(U){U.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(U,B,e){var y=e(3400),L=e(424),i=e(86968).Q,S=e(31508).handleText,b=e(74174).handleMarkerDefaults,v=e(8932),p=v.hasColorscale,r=v.handleDefaults;U.exports=function(a,n,u,s){function l(w,A){return y.coerce(a,n,L,w,A)}var m=l("labels"),h=l("parents");if(!m||!m.length||!h||!h.length){n.visible=!1;return}var g=l("values");g&&g.length?l("branchvalues"):l("count"),l("level"),l("maxdepth"),b(a,n,s,l);var c=n._hasColorscale=p(a,"marker","colors")||(a.marker||{}).coloraxis;c&&r(a,n,s,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",c?1:.7);var o=l("text");l("texttemplate"),n.texttemplate||l("textinfo",y.isArrayOrTypedArray(o)?"text+label":"label"),l("hovertext"),l("hovertemplate");var d="auto";S(a,n,s,l,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),i(n,s,l),n._length=null}},60404:function(U,B,e){var y=e(43616),L=e(76308);U.exports=function(S,b,v,p,r){var t=b.data.data,a=t.i,n=r||t.color;if(a>=0){b.i=t.i;var u=v.marker;u.pattern?(!u.colors||!u.pattern.shape)&&(u.color=n,b.color=n):(u.color=n,b.color=n),y.pointStyle(S,v,p,b)}else L.fill(S,n)}},45716:function(U,B,e){var y=e(33428),L=e(24040),i=e(10624).appendArrayPointValue,S=e(93024),b=e(3400),v=e(95924),p=e(78176),r=e(69656),t=r.formatPieValue;U.exports=function(u,s,l,m,h){var g=m[0],c=g.trace,o=g.hierarchy,d=c.type==="sunburst",w=c.type==="treemap"||c.type==="icicle";"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1);var A=function(E){var M=l._fullLayout;if(!(l._dragging||M.hovermode===!1)){var f=l._fullData[c.index],P=E.data.data,T=P.i,z=p.isHierarchyRoot(E),_=p.getParent(o,E),V=p.getValue(E),F=function(J){return b.castOption(f,T,J)},N=F("hovertemplate"),k=S.castHoverinfo(f,M,T),I=M.separators,H;if(N||k&&k!=="none"&&k!=="skip"){var j,ee;d&&(j=g.cx+E.pxmid[0]*(1-E.rInscribed),ee=g.cy+E.pxmid[1]*(1-E.rInscribed)),w&&(j=E._hoverX,ee=E._hoverY);var te={},ne=[],ue=[],q=function(J){return ne.indexOf(J)!==-1};k&&(ne=k==="all"?f._module.attributes.hoverinfo.flags:k.split("+")),te.label=P.label,q("label")&&te.label&&ue.push(te.label),P.hasOwnProperty("v")&&(te.value=P.v,te.valueLabel=t(te.value,I),q("value")&&ue.push(te.valueLabel)),te.currentPath=E.currentPath=p.getPath(E.data),q("current path")&&!z&&ue.push(te.currentPath);var Y,Z=[],G=function(){Z.indexOf(Y)===-1&&(ue.push(Y),Z.push(Y))};te.percentParent=E.percentParent=V/p.getValue(_),te.parent=E.parentString=p.getPtLabel(_),q("percent parent")&&(Y=p.formatPercent(te.percentParent,I)+" of "+te.parent,G()),te.percentEntry=E.percentEntry=V/p.getValue(s),te.entry=E.entry=p.getPtLabel(s),q("percent entry")&&!z&&!E.onPathbar&&(Y=p.formatPercent(te.percentEntry,I)+" of "+te.entry,G()),te.percentRoot=E.percentRoot=V/p.getValue(o),te.root=E.root=p.getPtLabel(o),q("percent root")&&!z&&(Y=p.formatPercent(te.percentRoot,I)+" of "+te.root,G()),te.text=F("hovertext")||F("text"),q("text")&&(Y=te.text,b.isValidTextValue(Y)&&ue.push(Y)),H=[a(E,f,h.eventDataKeys)];var K={trace:f,y:ee,_x0:E._x0,_x1:E._x1,_y0:E._y0,_y1:E._y1,text:ue.join("<br>"),name:N||q("name")?f.name:void 0,color:F("hoverlabel.bgcolor")||P.color,borderColor:F("hoverlabel.bordercolor"),fontFamily:F("hoverlabel.font.family"),fontSize:F("hoverlabel.font.size"),fontColor:F("hoverlabel.font.color"),nameLength:F("hoverlabel.namelength"),textAlign:F("hoverlabel.align"),hovertemplate:N,hovertemplateLabels:te,eventData:H};d&&(K.x0=j-E.rInscribed*E.rpx1,K.x1=j+E.rInscribed*E.rpx1,K.idealAlign=E.pxmid[0]<0?"left":"right"),w&&(K.x=j,K.idealAlign=j<0?"left":"right");var oe=[];S.loneHover(K,{container:M._hoverlayer.node(),outerContainer:M._paper.node(),gd:l,inOut_bbox:oe}),H[0].bbox=oe[0],c._hasHoverLabel=!0}if(w){var $=u.select("path.surface");h.styleOne($,E,f,l,{hovered:!0})}c._hasHoverEvent=!0,l.emit("plotly_hover",{points:H||[a(E,f,h.eventDataKeys)],event:y.event})}},C=function(E){var M=l._fullLayout,f=l._fullData[c.index],P=y.select(this).datum();if(c._hasHoverEvent&&(E.originalEvent=y.event,l.emit("plotly_unhover",{points:[a(P,f,h.eventDataKeys)],event:y.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(S.loneUnhover(M._hoverlayer.node()),c._hasHoverLabel=!1),w){var T=u.select("path.surface");h.styleOne(T,P,f,l,{hovered:!1})}},x=function(E){var M=l._fullLayout,f=l._fullData[c.index],P=d&&(p.isHierarchyRoot(E)||p.isLeaf(E)),T=p.getPtId(E),z=p.isEntry(E)?p.findEntryWithChild(o,T):p.findEntryWithLevel(o,T),_=p.getPtId(z),V={points:[a(E,f,h.eventDataKeys)],event:y.event};P||(V.nextLevel=_);var F=v.triggerHandler(l,"plotly_"+c.type+"click",V);if(F!==!1&&M.hovermode&&(l._hoverdata=[a(E,f,h.eventDataKeys)],S.click(l,y.event)),!P&&F!==!1&&!l._dragging&&!l._transitioning){L.call("_storeDirectGUIEdit",f,M._tracePreGUI[f.uid],{level:f.level});var N={data:[{level:_}],traces:[c.index]},k={frame:{redraw:!1,duration:h.transitionTime},transition:{duration:h.transitionTime,easing:h.transitionEasing},mode:"immediate",fromcurrent:!0};S.loneUnhover(M._hoverlayer.node()),L.call("animate",l,N,k)}};u.on("mouseover",A),u.on("mouseout",C),u.on("click",x)};function a(n,u,s){for(var l=n.data.data,m={curveNumber:u.index,pointNumber:l.i,data:u._input,fullData:u},h=0;h<s.length;h++){var g=s[h];g in n&&(m[g]=n[g])}return"parentString"in n&&!p.isHierarchyRoot(n)&&(m.parent=n.parentString),i(m,u,l.i),m}},78176:function(U,B,e){var y=e(3400),L=e(76308),i=e(93972),S=e(69656);B.findEntryWithLevel=function(r,t){var a;return t&&r.eachAfter(function(n){if(B.getPtId(n)===t)return a=n.copy()}),a||r},B.findEntryWithChild=function(r,t){var a;return r.eachAfter(function(n){for(var u=n.children||[],s=0;s<u.length;s++){var l=u[s];if(B.getPtId(l)===t)return a=n.copy()}}),a||r},B.isEntry=function(r){return!r.parent},B.isLeaf=function(r){return!r.children},B.getPtId=function(r){return r.data.data.id},B.getPtLabel=function(r){return r.data.data.label},B.getValue=function(r){return r.value},B.isHierarchyRoot=function(r){return p(r)===""},B.setSliceCursor=function(r,t,a){var n=a.isTransitioning;if(!n){var u=r.datum();n=a.hideOnRoot&&B.isHierarchyRoot(u)||a.hideOnLeaves&&B.isLeaf(u)}i(r,n?null:"pointer")};function b(r,t,a){return{color:B.getOutsideTextFontKey("color",r,t,a),family:B.getOutsideTextFontKey("family",r,t,a),size:B.getOutsideTextFontKey("size",r,t,a)}}function v(r,t,a,n){var u=(n||{}).onPathbar,s=t.data.data,l=s.i,m=y.castOption(r,l,(u?"pathbar.textfont":"insidetextfont")+".color");return!m&&r._input.textfont&&(m=y.castOption(r._input,l,"textfont.color")),{color:m||L.contrast(s.color),family:B.getInsideTextFontKey("family",r,t,a,n),size:B.getInsideTextFontKey("size",r,t,a,n)}}B.getInsideTextFontKey=function(r,t,a,n,u){var s=(u||{}).onPathbar,l=s?"pathbar.textfont":"insidetextfont",m=a.data.data.i;return y.castOption(t,m,l+"."+r)||y.castOption(t,m,"textfont."+r)||n.size},B.getOutsideTextFontKey=function(r,t,a,n){var u=a.data.data.i;return y.castOption(t,u,"outsidetextfont."+r)||y.castOption(t,u,"textfont."+r)||n.size},B.isOutsideText=function(r,t){return!r._hasColorscale&&B.isHierarchyRoot(t)},B.determineTextFont=function(r,t,a,n){return B.isOutsideText(r,t)?b(r,t,a):v(r,t,a,n)},B.hasTransition=function(r){return!!(r&&r.duration>0)},B.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},B.isHeader=function(r,t){return!(B.isLeaf(r)||r.depth===t._maxDepth-1)};function p(r){return r.data.data.pid}B.getParent=function(r,t){return B.findEntryWithLevel(r,p(t))},B.listPath=function(r,t){var a=r.parent;if(!a)return[];var n=t?[a.data[t]]:[a];return B.listPath(a,t).concat(n)},B.getPath=function(r){return B.listPath(r,"label").join("/")+"/"},B.formatValue=S.formatPieValue,B.formatPercent=function(r,t){var a=y.formatPercent(r,0);return a==="0%"&&(a=S.formatPiePercent(r,t)),a}},5621:function(U,B,e){U.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(U){U.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(U,B,e){var y=e(3400),L=e(84920);U.exports=function(S,b){function v(p,r){return y.coerce(S,b,L,p,r)}v("sunburstcolorway",b.colorway),v("extendsunburstcolors")}},96488:function(U,B,e){var y=e(33428),L=e(74148),i=e(67756).qy,S=e(43616),b=e(3400),v=e(72736),p=e(82744),r=p.recordMinTextSize,t=p.clearMinTextSize,a=e(37820),n=e(69656).getRotationAngle,u=a.computeTransform,s=a.transformInsideText,l=e(85676).styleOne,m=e(60100).resizeText,h=e(45716),g=e(27328),c=e(78176);B.plot=function(x,E,M,f){var P=x._fullLayout,T=P._sunburstlayer,z,_,V=!M,F=!P.uniformtext.mode&&c.hasTransition(M);if(t("sunburst",P),z=T.selectAll("g.trace.sunburst").data(E,function(k){return k[0].trace.uid}),z.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),z.order(),F){f&&(_=f());var N=y.transition().duration(M.duration).ease(M.easing).each("end",function(){_&&_()}).each("interrupt",function(){_&&_()});N.each(function(){T.selectAll("g.trace").each(function(k){o(x,k,this,M)})})}else z.each(function(k){o(x,k,this,M)}),P.uniformtext.mode&&m(x,P._sunburstlayer.selectAll(".trace"),"sunburst");V&&z.exit().remove()};function o(x,E,M,f){var P=x._context.staticPlot,T=x._fullLayout,z=!T.uniformtext.mode&&c.hasTransition(f),_=y.select(M),V=_.selectAll("g.slice"),F=E[0],N=F.trace,k=F.hierarchy,I=c.findEntryWithLevel(k,N.level),H=c.getMaxDepth(N),j=T._size,ee=N.domain,te=j.w*(ee.x[1]-ee.x[0]),ne=j.h*(ee.y[1]-ee.y[0]),ue=.5*Math.min(te,ne),q=F.cx=j.l+j.w*(ee.x[1]+ee.x[0])/2,Y=F.cy=j.t+j.h*(1-ee.y[0])-ne/2;if(!I)return V.remove();var Z=null,G={};z&&V.each(function(Xe){G[c.getPtId(Xe)]={rpx0:Xe.rpx0,rpx1:Xe.rpx1,x0:Xe.x0,x1:Xe.x1,transform:Xe.transform},!Z&&c.isEntry(Xe)&&(Z=Xe)});var K=d(I).descendants(),oe=I.height+1,$=0,J=H;F.hasMultipleRoots&&c.isHierarchyRoot(I)&&(K=K.slice(1),oe-=1,$=1,J+=1),K=K.filter(function(Xe){return Xe.y1<=J});var se=n(N.rotation);se&&K.forEach(function(Xe){Xe.x0+=se,Xe.x1+=se});var ie=Math.min(oe,H),ce=function(Xe){return(Xe-$)/ie*ue},ye=function(Xe,ot){return[Xe*Math.cos(ot),-Xe*Math.sin(ot)]},Se=function(Xe){return b.pathAnnulus(Xe.rpx0,Xe.rpx1,Xe.x0,Xe.x1,q,Y)},Te=function(Xe){return q+A(Xe)[0]*(Xe.transform.rCenter||0)+(Xe.transform.x||0)},ke=function(Xe){return Y+A(Xe)[1]*(Xe.transform.rCenter||0)+(Xe.transform.y||0)};V=V.data(K,c.getPtId),V.enter().append("g").classed("slice",!0),z?V.exit().transition().each(function(){var Xe=y.select(this),ot=Xe.select("path.surface");ot.transition().attrTween("d",function(et){var qe=De(et);return function(ft){return Se(qe(ft))}});var ut=Xe.select("g.slicetext");ut.attr("opacity",0)}).remove():V.exit().remove(),V.order();var we=null;if(z&&Z){var Ee=c.getPtId(Z);V.each(function(Xe){we===null&&c.getPtId(Xe)===Ee&&(we=Xe.x1)})}var xe=V;z&&(xe=xe.transition().each("end",function(){var Xe=y.select(this);c.setSliceCursor(Xe,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),xe.each(function(Xe){var ot=y.select(this),ut=b.ensureSingle(ot,"path","surface",function(mt){mt.style("pointer-events",P?"none":"all")});Xe.rpx0=ce(Xe.y0),Xe.rpx1=ce(Xe.y1),Xe.xmid=(Xe.x0+Xe.x1)/2,Xe.pxmid=ye(Xe.rpx1,Xe.xmid),Xe.midangle=-(Xe.xmid-Math.PI/2),Xe.startangle=-(Xe.x0-Math.PI/2),Xe.stopangle=-(Xe.x1-Math.PI/2),Xe.halfangle=.5*Math.min(b.angleDelta(Xe.x0,Xe.x1)||Math.PI,Math.PI),Xe.ring=1-Xe.rpx0/Xe.rpx1,Xe.rInscribed=w(Xe),z?ut.transition().attrTween("d",function(mt){var St=Ve(mt);return function(rt){return Se(St(rt))}}):ut.attr("d",Se),ot.call(h,I,x,E,{eventDataKeys:g.eventDataKeys,transitionTime:g.CLICK_TRANSITION_TIME,transitionEasing:g.CLICK_TRANSITION_EASING}).call(c.setSliceCursor,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:x._transitioning}),ut.call(l,Xe,N,x);var et=b.ensureSingle(ot,"g","slicetext"),qe=b.ensureSingle(et,"text","",function(mt){mt.attr("data-notex",1)}),ft=b.ensureUniformFontSize(x,c.determineTextFont(N,Xe,T.font));qe.text(B.formatSliceLabel(Xe,I,N,E,T)).classed("slicetext",!0).attr("text-anchor","middle").call(S.font,ft).call(v.convertToTspans,x);var ht=S.bBox(qe.node());Xe.transform=s(ht,Xe,F),Xe.transform.targetX=Te(Xe),Xe.transform.targetY=ke(Xe);var dt=function(mt,St){var rt=mt.transform;return u(rt,St),rt.fontSize=ft.size,r(N.type,rt,T),b.getTextTransform(rt)};z?qe.transition().attrTween("transform",function(mt){var St=Ue(mt);return function(rt){return dt(St(rt),ht)}}):qe.attr("transform",dt(Xe,ht))});function De(Xe){var ot=c.getPtId(Xe),ut=G[ot],et=G[c.getPtId(I)],qe;if(et){var ft=(Xe.x1>et.x1?2*Math.PI:0)+se;qe=Xe.rpx1<et.rpx1?{x0:Xe.x0,x1:Xe.x1,rpx0:0,rpx1:0}:{x0:ft,x1:ft,rpx0:Xe.rpx0,rpx1:Xe.rpx1}}else{var ht,dt=c.getPtId(Xe.parent);V.each(function(Ye){if(c.getPtId(Ye)===dt)return ht=Ye});var mt=ht.children,St;mt.forEach(function(Ye,Ze){if(c.getPtId(Ye)===ot)return St=Ze});var rt=mt.length,Oe=i(ht.x0,ht.x1);qe={rpx0:ue,rpx1:ue,x0:Oe(St/rt),x1:Oe((St+1)/rt)}}return i(ut,qe)}function Ve(Xe){var ot=G[c.getPtId(Xe)],ut,et={x0:Xe.x0,x1:Xe.x1,rpx0:Xe.rpx0,rpx1:Xe.rpx1};if(ot)ut=ot;else if(Z)if(Xe.parent)if(we){var qe=(Xe.x1>we?2*Math.PI:0)+se;ut={x0:qe,x1:qe}}else ut={rpx0:ue,rpx1:ue},b.extendFlat(ut,Be(Xe));else ut={rpx0:0,rpx1:0};else ut={x0:se,x1:se};return i(ut,et)}function Ue(Xe){var ot=G[c.getPtId(Xe)],ut,et=Xe.transform;if(ot)ut=ot;else if(ut={rpx1:Xe.rpx1,transform:{textPosAngle:et.textPosAngle,scale:0,rotate:et.rotate,rCenter:et.rCenter,x:et.x,y:et.y}},Z)if(Xe.parent)if(we){var qe=Xe.x1>we?2*Math.PI:0;ut.x0=ut.x1=qe}else b.extendFlat(ut,Be(Xe));else ut.x0=ut.x1=se;else ut.x0=ut.x1=se;var ft=i(ut.transform.textPosAngle,Xe.transform.textPosAngle),ht=i(ut.rpx1,Xe.rpx1),dt=i(ut.x0,Xe.x0),mt=i(ut.x1,Xe.x1),St=i(ut.transform.scale,et.scale),rt=i(ut.transform.rotate,et.rotate),Oe=et.rCenter===0?3:ut.transform.rCenter===0?1/3:1,Ye=i(ut.transform.rCenter,et.rCenter),Ze=function(Ge){return Ye(Math.pow(Ge,Oe))};return function(Ge){var _e=ht(Ge),be=dt(Ge),me=mt(Ge),Ce=Ze(Ge),Me=ye(_e,(be+me)/2),Ne=ft(Ge),je={pxmid:Me,rpx1:_e,transform:{textPosAngle:Ne,rCenter:Ce,x:et.x,y:et.y}};return r(N.type,et,T),{transform:{targetX:Te(je),targetY:ke(je),scale:St(Ge),rotate:rt(Ge),rCenter:Ce}}}}function Be(Xe){var ot=Xe.parent,ut=G[c.getPtId(ot)],et={};if(ut){var qe=ot.children,ft=qe.indexOf(Xe),ht=qe.length,dt=i(ut.x0,ut.x1);et.x0=dt(ft/ht),et.x1=dt(ft/ht)}else et.x0=et.x1=0;return et}}function d(x){return L.partition().size([2*Math.PI,x.height+1])(x)}B.formatSliceLabel=function(x,E,M,f,P){var T=M.texttemplate,z=M.textinfo;if(!T&&(!z||z==="none"))return"";var _=P.separators,V=f[0],F=x.data.data,N=V.hierarchy,k=c.isHierarchyRoot(x),I=c.getParent(N,x),H=c.getValue(x);if(!T){var j=z.split("+"),ee=function($){return j.indexOf($)!==-1},te=[],ne;if(ee("label")&&F.label&&te.push(F.label),F.hasOwnProperty("v")&&ee("value")&&te.push(c.formatValue(F.v,_)),!k){ee("current path")&&te.push(c.getPath(x.data));var ue=0;ee("percent parent")&&ue++,ee("percent entry")&&ue++,ee("percent root")&&ue++;var q=ue>1;if(ue){var Y,Z=function($){ne=c.formatPercent(Y,_),q&&(ne+=" of "+$),te.push(ne)};ee("percent parent")&&!k&&(Y=H/c.getValue(I),Z("parent")),ee("percent entry")&&(Y=H/c.getValue(E),Z("entry")),ee("percent root")&&(Y=H/c.getValue(N),Z("root"))}}return ee("text")&&(ne=b.castOption(M,F.i,"text"),b.isValidTextValue(ne)&&te.push(ne)),te.join("<br>")}var G=b.castOption(M,F.i,"texttemplate");if(!G)return"";var K={};F.label&&(K.label=F.label),F.hasOwnProperty("v")&&(K.value=F.v,K.valueLabel=c.formatValue(F.v,_)),K.currentPath=c.getPath(x.data),k||(K.percentParent=H/c.getValue(I),K.percentParentLabel=c.formatPercent(K.percentParent,_),K.parent=c.getPtLabel(I)),K.percentEntry=H/c.getValue(E),K.percentEntryLabel=c.formatPercent(K.percentEntry,_),K.entry=c.getPtLabel(E),K.percentRoot=H/c.getValue(N),K.percentRootLabel=c.formatPercent(K.percentRoot,_),K.root=c.getPtLabel(N),F.hasOwnProperty("color")&&(K.color=F.color);var oe=b.castOption(M,F.i,"text");return(b.isValidTextValue(oe)||oe==="")&&(K.text=oe),K.customdata=b.castOption(M,F.i,"customdata"),b.texttemplateString(G,K,P._d3locale,K,M._meta||{})};function w(x){return x.rpx0===0&&b.isFullCircle([x.x0,x.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(x.halfangle)),x.ring/2))}function A(x){return C(x.rpx1,x.transform.textPosAngle)}function C(x,E){return[x*Math.sin(E),-x*Math.cos(E)]}},85676:function(U,B,e){var y=e(33428),L=e(76308),i=e(3400),S=e(82744).resizeText,b=e(60404);function v(r){var t=r._fullLayout._sunburstlayer.selectAll(".trace");S(r,t,"sunburst"),t.each(function(a){var n=y.select(this),u=a[0],s=u.trace;n.style("opacity",s.opacity),n.selectAll("path.surface").each(function(l){y.select(this).call(p,l,s,r)})})}function p(r,t,a,n){var u=t.data.data,s=!t.children,l=u.i,m=i.castOption(a,l,"marker.line.color")||L.defaultLine,h=i.castOption(a,l,"marker.line.width")||0;r.call(b,t,a,n).style("stroke-width",h).call(L.stroke,m).style("opacity",s?a.leaf.opacity:null)}U.exports={style:v,styleOne:p}},16716:function(U,B,e){var y=e(76308),L=e(49084),i=e(29736).axisHoverFormat,S=e(21776).Ks,b=e(45464),v=e(92880).extendFlat,p=e(67824).overrideAll;function r(n){return{valType:"boolean",dflt:!1}}function t(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:r(),y:r(),z:r()},color:{valType:"color",dflt:y.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:y.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var a=U.exports=p(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:S(),xhoverformat:i("x"),yhoverformat:i("y"),zhoverformat:i("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},L("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},L.zauto,{}),zmin:v({},L.zmin,{}),zmax:v({},L.zmax,{})},hoverinfo:v({},b.hoverinfo),showlegend:v({},b.showlegend,{dflt:!1})}),"calc","nested");a.x.editType=a.y.editType=a.z.editType="calc+clearAxisTypes",a.transforms=void 0},56576:function(U,B,e){var y=e(47128);U.exports=function(i,S){S.surfacecolor?y(i,S,{vals:S.surfacecolor,containerStr:"",cLetter:"c"}):y(i,S,{vals:S.z,containerStr:"",cLetter:"c"})}},79164:function(U,B,e){var y=e(67792).gl_surface3d,L=e(67792).ndarray,i=e(67792).ndarray_linear_interpolate.d2,S=e(70448),b=e(11240),v=e(3400).isArrayOrTypedArray,p=e(33040).parseColorScale,r=e(43080),t=e(8932).extractOpts;function a(f,P,T){this.scene=f,this.uid=T,this.surface=P,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=a.prototype;n.getXat=function(f,P,T,z){var _=v(this.data.x)?v(this.data.x[0])?this.data.x[P][f]:this.data.x[f]:f;return T===void 0?_:z.d2l(_,0,T)},n.getYat=function(f,P,T,z){var _=v(this.data.y)?v(this.data.y[0])?this.data.y[P][f]:this.data.y[P]:P;return T===void 0?_:z.d2l(_,0,T)},n.getZat=function(f,P,T,z){var _=this.data.z[P][f];return _===null&&this.data.connectgaps&&this.data._interpolatedZ&&(_=this.data._interpolatedZ[P][f]),T===void 0?_:z.d2l(_,0,T)},n.handlePick=function(f){if(f.object===this.surface){var P=(f.data.index[0]-1)/this.dataScaleX-1,T=(f.data.index[1]-1)/this.dataScaleY-1,z=Math.max(Math.min(Math.round(P),this.data.z[0].length-1),0),_=Math.max(Math.min(Math.round(T),this.data._ylength-1),0);f.index=[z,_],f.traceCoordinate=[this.getXat(z,_),this.getYat(z,_),this.getZat(z,_)],f.dataCoordinate=[this.getXat(z,_,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(z,_,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(z,_,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var V=0;V<3;V++){var F=f.dataCoordinate[V];F!=null&&(f.dataCoordinate[V]*=this.scene.dataScale[V])}var N=this.data.hovertext||this.data.text;return v(N)&&N[_]&&N[_][z]!==void 0?f.textLabel=N[_][z]:N?f.textLabel=N:f.textLabel="",f.data.dataCoordinate=f.dataCoordinate.slice(),this.surface.highlight(f.data),this.scene.glplot.spikes.position=f.dataCoordinate,!0}};function u(f){var P=f[0].rgb,T=f[f.length-1].rgb;return P[0]===T[0]&&P[1]===T[1]&&P[2]===T[2]&&P[3]===T[3]}var s=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function l(f,P){if(f<P)return 0;for(var T=0;Math.floor(f%P)===0;)f/=P,T++;return T}function m(f){for(var P=[],T=0;T<s.length;T++){var z=s[T];P.push(l(f,z))}return P}function h(f){for(var P=m(f),T=f,z=0;z<s.length;z++)if(P[z]>0){T=s[z];break}return T}function g(f,P){if(!(f<1||P<1)){for(var T=m(f),z=m(P),_=1,V=0;V<s.length;V++)_*=Math.pow(s[V],Math.max(T[V],z[V]));return _}}function c(f){if(f.length!==0){for(var P=1,T=0;T<f.length;T++)P=g(P,f[T]);return P}}n.calcXnums=function(f){var P,T=[];for(P=1;P<f;P++){var z=this.getXat(P-1,0),_=this.getXat(P,0);_!==z&&z!==void 0&&z!==null&&_!==void 0&&_!==null?T[P-1]=Math.abs(_-z):T[P-1]=0}var V=0;for(P=1;P<f;P++)V+=T[P-1];for(P=1;P<f;P++)T[P-1]===0?T[P-1]=1:T[P-1]=Math.round(V/T[P-1]);return T},n.calcYnums=function(f){var P,T=[];for(P=1;P<f;P++){var z=this.getYat(0,P-1),_=this.getYat(0,P);_!==z&&z!==void 0&&z!==null&&_!==void 0&&_!==null?T[P-1]=Math.abs(_-z):T[P-1]=0}var V=0;for(P=1;P<f;P++)V+=T[P-1];for(P=1;P<f;P++)T[P-1]===0?T[P-1]=1:T[P-1]=Math.round(V/T[P-1]);return T};var o=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],d=o[9],w=o[13];n.estimateScale=function(f,P){for(var T=P===0?this.calcXnums(f):this.calcYnums(f),z=1+c(T);z<d;)z*=2;for(;z>w;)z--,z/=h(z),z++,z<d&&(z=w);var _=Math.round(z/f);return _>1?_:1};function A(f,P,T){var z=T[8]+T[2]*P[0]+T[5]*P[1];return f[0]=(T[6]+T[0]*P[0]+T[3]*P[1])/z,f[1]=(T[7]+T[1]*P[0]+T[4]*P[1])/z,f}function C(f,P,T){return x(f,P,A,T),f}function x(f,P,T,z){for(var _=[0,0],V=f.shape[0],F=f.shape[1],N=0;N<V;N++)for(var k=0;k<F;k++)T(_,[N,k],z),f.set(N,k,i(P,_[0],_[1]));return f}n.refineCoords=function(f){for(var P=this.dataScaleX,T=this.dataScaleY,z=f[0].shape[0],_=f[0].shape[1],V=Math.floor(f[0].shape[0]*P+1)|0,F=Math.floor(f[0].shape[1]*T+1)|0,N=1+z+1,k=1+_+1,I=L(new Float32Array(N*k),[N,k]),H=[1/P,0,0,0,1/T,0,0,0,1],j=0;j<f.length;++j){this.surface.padField(I,f[j]);var ee=L(new Float32Array(V*F),[V,F]);C(ee,I,H),f[j]=ee}};function E(f,P){for(var T=!1,z=0;z<f.length;z++)if(P===f[z]){T=!0;break}T===!1&&f.push(P)}n.setContourLevels=function(){var f=[[],[],[]],P=[!1,!1,!1],T=!1,z,_,V;for(z=0;z<3;++z)if(this.showContour[z]&&(T=!0,this.contourSize[z]>0&&this.contourStart[z]!==null&&this.contourEnd[z]!==null&&this.contourEnd[z]>this.contourStart[z]))for(P[z]=!0,_=this.contourStart[z];_<this.contourEnd[z];_+=this.contourSize[z])V=_*this.scene.dataScale[z],E(f[z],V);if(T){var F=[[],[],[]];for(z=0;z<3;++z)this.showContour[z]&&(F[z]=P[z]?f[z]:this.scene.contourLevels[z]);this.surface.update({levels:F})}},n.update=function(f){var P=this.scene,T=P.fullSceneLayout,z=this.surface,_=p(f),V=P.dataScale,F=f.z[0].length,N=f._ylength,k=P.contourLevels;this.data=f;var I,H,j,ee,te=[];for(I=0;I<3;I++)for(te[I]=[],H=0;H<F;H++)te[I][H]=[];for(H=0;H<F;H++)for(j=0;j<N;j++)te[0][H][j]=this.getXat(H,j,f.xcalendar,T.xaxis),te[1][H][j]=this.getYat(H,j,f.ycalendar,T.yaxis),te[2][H][j]=this.getZat(H,j,f.zcalendar,T.zaxis);if(f.connectgaps)for(f._emptypoints=b(te[2]),S(te[2],f._emptypoints),f._interpolatedZ=[],H=0;H<F;H++)for(f._interpolatedZ[H]=[],j=0;j<N;j++)f._interpolatedZ[H][j]=te[2][H][j];for(I=0;I<3;I++)for(H=0;H<F;H++)for(j=0;j<N;j++)ee=te[I][H][j],ee==null?te[I][H][j]=NaN:ee=te[I][H][j]*=V[I];for(I=0;I<3;I++)for(H=0;H<F;H++)for(j=0;j<N;j++)ee=te[I][H][j],ee!=null&&(this.minValues[I]>ee&&(this.minValues[I]=ee),this.maxValues[I]<ee&&(this.maxValues[I]=ee));for(I=0;I<3;I++)this.objectOffset[I]=.5*(this.minValues[I]+this.maxValues[I]);for(I=0;I<3;I++)for(H=0;H<F;H++)for(j=0;j<N;j++)ee=te[I][H][j],ee!=null&&(te[I][H][j]-=this.objectOffset[I]);var ne=[L(new Float32Array(F*N),[F,N]),L(new Float32Array(F*N),[F,N]),L(new Float32Array(F*N),[F,N])];for(I=0;I<3;I++)for(H=0;H<F;H++)for(j=0;j<N;j++)ne[I].set(H,j,te[I][H][j]);te=[];var ue={colormap:_,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!f.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:f.opacityscale,opacity:f.opacity},q=t(f);if(ue.intensityBounds=[q.min,q.max],f.surfacecolor){var Y=L(new Float32Array(F*N),[F,N]);for(H=0;H<F;H++)for(j=0;j<N;j++)Y.set(H,j,f.surfacecolor[j][H]);ne.push(Y)}else ue.intensityBounds[0]*=V[2],ue.intensityBounds[1]*=V[2];(w<ne[0].shape[0]||w<ne[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(ne[0].shape[0],0),this.dataScaleY=this.estimateScale(ne[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(ne)),f.surfacecolor&&(ue.intensity=ne.pop());var Z=[!0,!0,!0],G=["x","y","z"];for(I=0;I<3;++I){var K=f.contours[G[I]];Z[I]=K.highlight,ue.showContour[I]=K.show||K.highlight,ue.showContour[I]&&(ue.contourProject[I]=[K.project.x,K.project.y,K.project.z],K.show?(this.showContour[I]=!0,ue.levels[I]=k[I],z.highlightColor[I]=ue.contourColor[I]=r(K.color),K.usecolormap?z.highlightTint[I]=ue.contourTint[I]=0:z.highlightTint[I]=ue.contourTint[I]=1,ue.contourWidth[I]=K.width,this.contourStart[I]=K.start,this.contourEnd[I]=K.end,this.contourSize[I]=K.size):(this.showContour[I]=!1,this.contourStart[I]=null,this.contourEnd[I]=null,this.contourSize[I]=0),K.highlight&&(ue.dynamicColor[I]=r(K.highlightcolor),ue.dynamicWidth[I]=K.highlightwidth))}u(_)&&(ue.vertexColor=!0),ue.objectOffset=this.objectOffset,ue.coords=ne,z.update(ue),z.visible=f.visible,z.enableDynamic=Z,z.enableHighlight=Z,z.snapToData=!0,"lighting"in f&&(z.ambientLight=f.lighting.ambient,z.diffuseLight=f.lighting.diffuse,z.specularLight=f.lighting.specular,z.roughness=f.lighting.roughness,z.fresnel=f.lighting.fresnel),"lightposition"in f&&(z.lightPosition=[f.lightposition.x,f.lightposition.y,f.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function M(f,P){var T=f.glplot.gl,z=y({gl:T}),_=new a(f,z,P.uid);return z._trace=_,_.update(P),f.glplot.add(z),_}U.exports=M},60192:function(U,B,e){var y=e(24040),L=e(3400),i=e(27260),S=e(16716),b=.1;function v(n,u){for(var s=[],l=32,m=0;m<l;m++){var h=m/(l-1),g=u+(1-u)*(1-Math.pow(Math.sin(n*h*Math.PI),2));s.push([h,Math.max(0,Math.min(1,g))])}return s}function p(n){var u=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var s=0;s<n.length;s++){var l=n[s];if(l.length!==2||+l[0]<u)return!1;u=+l[0]}return!0}function r(n,u,s,l){var m,h;function g(f,P){return L.coerce(n,u,S,f,P)}var c=g("x"),o=g("y"),d=g("z");if(!d||!d.length||c&&c.length<1||o&&o.length<1){u.visible=!1;return}u._xlength=Array.isArray(c)&&L.isArrayOrTypedArray(c[0])?d.length:d[0].length,u._ylength=d.length;var w=y.getComponentMethod("calendars","handleTraceDefaults");w(n,u,["x","y","z"],l),g("text"),g("hovertext"),g("hovertemplate"),g("xhoverformat"),g("yhoverformat"),g("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(f){g(f)});var A=g("surfacecolor"),C=["x","y","z"];for(m=0;m<3;++m){var x="contours."+C[m],E=g(x+".show"),M=g(x+".highlight");if(E||M)for(h=0;h<3;++h)g(x+".project."+C[h]);E&&(g(x+".color"),g(x+".width"),g(x+".usecolormap")),M&&(g(x+".highlightcolor"),g(x+".highlightwidth")),g(x+".start"),g(x+".end"),g(x+".size")}A||(a(n,"zmin","cmin"),a(n,"zmax","cmax"),a(n,"zauto","cauto")),i(n,u,l,g,{prefix:"",cLetter:"c"}),t(n,u,l,g),u._length=null}function t(n,u,s,l){var m=l("opacityscale");m==="max"?u.opacityscale=[[0,b],[1,1]]:m==="min"?u.opacityscale=[[0,1],[1,b]]:m==="extremes"?u.opacityscale=v(1,b):p(m)||(u.opacityscale=void 0)}function a(n,u,s){u in n&&!(s in n)&&(n[s]=n[u])}U.exports={supplyDefaults:r,opacityscaleDefaults:t}},91304:function(U,B,e){U.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(U,B,e){var y=e(13916),L=e(92880).extendFlat,i=e(67824).overrideAll,S=e(25376),b=e(86968).u,v=e(29736).descriptionOnlyNumbers,p=U.exports=i({domain:b({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:L({},y.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:L({},S({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:L({},y.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:L({},S({arrayOk:!0}))}},"calc","from-root");p.transforms=void 0},85852:function(U,B,e){var y=e(84888)._M,L=e(24752),i="table";B.name=i,B.plot=function(S){var b=y(S.calcdata,i)[0];b.length&&L(S,b)},B.clean=function(S,b,v,p){var r=p._has&&p._has(i),t=b._has&&b._has(i);r&&!t&&p._paperdiv.selectAll(".table").remove()}},39312:function(U,B,e){var y=e(71688).wrap;U.exports=function(){return y({})}},23536:function(U){U.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(U,B,e){var y=e(23536),L=e(92880).extendFlat,i=e(38248),S=e(38116).isTypedArray,b=e(38116).isArrayOrTypedArray;U.exports=function(m,h){var g=r(h.cells.values),c=function(ee){return ee.slice(h.header.values.length,ee.length)},o=r(h.header.values);o.length&&!o[0].length&&(o[0]=[""],o=r(o));var d=o.concat(c(g).map(function(){return t((o[0]||[""]).length)})),w=h.domain,A=Math.floor(m._fullLayout._size.w*(w.x[1]-w.x[0])),C=Math.floor(m._fullLayout._size.h*(w.y[1]-w.y[0])),x=h.header.values.length?d[0].map(function(){return h.header.height}):[y.emptyHeaderHeight],E=g.length?g[0].map(function(){return h.cells.height}):[],M=x.reduce(p,0),f=C-M,P=f+y.uplift,T=u(E,P),z=u(x,M),_=n(z,[]),V=n(T,_),F={},N=h._fullInput.columnorder;b(N)&&(N=Array.from(N)),N=N.concat(c(g.map(function(ee,te){return te})));var k=d.map(function(ee,te){var ne=b(h.columnwidth)?h.columnwidth[Math.min(te,h.columnwidth.length-1)]:h.columnwidth;return i(ne)?Number(ne):1}),I=k.reduce(p,0);k=k.map(function(ee){return ee/I*A});var H=Math.max(v(h.header.line.width),v(h.cells.line.width)),j={key:h.uid+m._context.staticPlot,translateX:w.x[0]*m._fullLayout._size.w,translateY:m._fullLayout._size.h*(1-w.y[1]),size:m._fullLayout._size,width:A,maxLineWidth:H,height:C,columnOrder:N,groupHeight:C,rowBlocks:V,headerRowBlocks:_,scrollY:0,cells:L({},h.cells,{values:g}),headerCells:L({},h.header,{values:d}),gdColumns:d.map(function(ee){return ee[0]}),gdColumnsOriginalOrder:d.map(function(ee){return ee[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:d.map(function(ee,te){var ne=F[ee];F[ee]=(ne||0)+1;var ue=ee+"__"+F[ee];return{key:ue,label:ee,specIndex:te,xIndex:N[te],xScale:a,x:void 0,calcdata:void 0,columnWidth:k[te]}})};return j.columns.forEach(function(ee){ee.calcdata=j,ee.x=a(ee)}),j};function v(l){if(b(l)){for(var m=0,h=0;h<l.length;h++)m=Math.max(m,v(l[h]));return m}return l}function p(l,m){return l+m}function r(l){var m=l.slice(),h=1/0,g=0,c;for(c=0;c<m.length;c++)S(m[c])?m[c]=Array.from(m[c]):b(m[c])||(m[c]=[m[c]]),h=Math.min(h,m[c].length),g=Math.max(g,m[c].length);if(h!==g)for(c=0;c<m.length;c++){var o=g-m[c].length;o&&(m[c]=m[c].concat(t(o)))}return m}function t(l){for(var m=new Array(l),h=0;h<l;h++)m[h]="";return m}function a(l){return l.calcdata.columns.reduce(function(m,h){return h.xIndex<l.xIndex?m+h.columnWidth:m},0)}function n(l,m){var h=Object.keys(l);return h.map(function(g){return L({},l[g],{auxiliaryBlocks:m})})}function u(l,m){for(var h={},g,c=0,o=0,d=s(),w=0,A=0,C=0;C<l.length;C++)g=l[C],d.rows.push({rowIndex:C,rowHeight:g}),o+=g,(o>=m||C===l.length-1)&&(h[c]=d,d.key=A++,d.firstRowIndex=w,d.lastRowIndex=C,d=s(),c+=o,w=C+1,o=0);return h}function s(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},53056:function(U,B,e){var y=e(92880).extendFlat;B.splitToPanels=function(i){var S=[0,0],b=y({},i,{key:"header",type:"header",page:0,prevPages:S,currentRepaint:[null,null],dragHandle:!0,values:i.calcdata.headerCells.values[i.specIndex],rowBlocks:i.calcdata.headerRowBlocks,calcdata:y({},i.calcdata,{cells:i.calcdata.headerCells})}),v=y({},i,{key:"cells1",type:"cells",page:0,prevPages:S,currentRepaint:[null,null],dragHandle:!1,values:i.calcdata.cells.values[i.specIndex],rowBlocks:i.calcdata.rowBlocks}),p=y({},i,{key:"cells2",type:"cells",page:1,prevPages:S,currentRepaint:[null,null],dragHandle:!1,values:i.calcdata.cells.values[i.specIndex],rowBlocks:i.calcdata.rowBlocks});return[v,p,b]},B.splitToCells=function(i){var S=L(i);return(i.values||[]).slice(S[0],S[1]).map(function(b,v){var p=typeof b=="string"&&b.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+p,key:S[0]+v,column:i,calcdata:i.calcdata,page:i.page,rowBlocks:i.rowBlocks,value:b}})};function L(i){var S=i.rowBlocks[i.page],b=S?S.rows[0].rowIndex:0,v=S?b+S.rows.length:0;return[b,v]}},53212:function(U,B,e){var y=e(3400),L=e(60520),i=e(86968).Q;function S(b,v){for(var p=b.columnorder||[],r=b.header.values.length,t=p.slice(0,r),a=t.slice().sort(function(s,l){return s-l}),n=t.map(function(s){return a.indexOf(s)}),u=n.length;u<r;u++)n.push(u);v("columnorder",n)}U.exports=function(v,p,r,t){function a(n,u){return y.coerce(v,p,L,n,u)}i(p,t,a),a("columnwidth"),a("header.values"),a("header.format"),a("header.align"),a("header.prefix"),a("header.suffix"),a("header.height"),a("header.line.width"),a("header.line.color"),a("header.fill.color"),y.coerceFont(a,"header.font",y.extendFlat({},t.font)),S(p,a),a("cells.values"),a("cells.format"),a("cells.align"),a("cells.prefix"),a("cells.suffix"),a("cells.height"),a("cells.line.width"),a("cells.line.color"),a("cells.fill.color"),y.coerceFont(a,"cells.font",y.extendFlat({},t.font)),p._length=null}},41724:function(U,B,e){U.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(U,B,e){var y=e(23536),L=e(33428),i=e(3400),S=i.numberFormat,b=e(71688),v=e(43616),p=e(72736),r=e(3400).raiseToTop,t=e(3400).strTranslate,a=e(3400).cancelTransition,n=e(55992),u=e(53056),s=e(76308);U.exports=function(se,ie){var ce=!se._context.staticPlot,ye=se._fullLayout._paper.selectAll("."+y.cn.table).data(ie.map(function(et){var qe=b.unwrap(et),ft=qe.trace;return n(se,ft)}),b.keyFun);ye.exit().remove(),ye.enter().append("g").classed(y.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),ye.attr("width",function(et){return et.width+et.size.l+et.size.r}).attr("height",function(et){return et.height+et.size.t+et.size.b}).attr("transform",function(et){return t(et.translateX,et.translateY)});var Se=ye.selectAll("."+y.cn.tableControlView).data(b.repeat,b.keyFun),Te=Se.enter().append("g").classed(y.cn.tableControlView,!0).style("box-sizing","content-box");if(ce){var ke="onwheel"in document?"wheel":"mousewheel";Te.on("mousemove",function(et){Se.filter(function(qe){return et===qe}).call(c,se)}).on(ke,function(et){if(!et.scrollbarState.wheeling){et.scrollbarState.wheeling=!0;var qe=et.scrollY+L.event.deltaY,ft=ee(se,Se,null,qe)(et);ft||(L.event.stopPropagation(),L.event.preventDefault()),et.scrollbarState.wheeling=!1}}).call(c,se,!0)}Se.attr("transform",function(et){return t(et.size.l,et.size.t)});var we=Se.selectAll("."+y.cn.scrollBackground).data(b.repeat,b.keyFun);we.enter().append("rect").classed(y.cn.scrollBackground,!0).attr("fill","none"),we.attr("width",function(et){return et.width}).attr("height",function(et){return et.height}),Se.each(function(et){v.setClipUrl(L.select(this),m(se,et),se)});var Ee=Se.selectAll("."+y.cn.yColumn).data(function(et){return et.columns},b.keyFun);Ee.enter().append("g").classed(y.cn.yColumn,!0),Ee.exit().remove(),Ee.attr("transform",function(et){return t(et.x,0)}),ce&&Ee.call(L.behavior.drag().origin(function(et){var qe=L.select(this);return F(qe,et,-y.uplift),r(this),et.calcdata.columnDragInProgress=!0,c(Se.filter(function(ft){return et.calcdata.key===ft.key}),se),et}).on("drag",function(et){var qe=L.select(this),ft=function(mt){return(et===mt?L.event.x:mt.x)+mt.columnWidth/2};et.x=Math.max(-y.overdrag,Math.min(et.calcdata.width+y.overdrag-et.columnWidth,L.event.x));var ht=g(Ee).filter(function(mt){return mt.calcdata.key===et.calcdata.key}),dt=ht.sort(function(mt,St){return ft(mt)-ft(St)});dt.forEach(function(mt,St){mt.xIndex=St,mt.x=et===mt?mt.x:mt.xScale(mt)}),Ee.filter(function(mt){return et!==mt}).transition().ease(y.transitionEase).duration(y.transitionDuration).attr("transform",function(mt){return t(mt.x,0)}),qe.call(a).attr("transform",t(et.x,-y.uplift))}).on("dragend",function(et){var qe=L.select(this),ft=et.calcdata;et.x=et.xScale(et),et.calcdata.columnDragInProgress=!1,F(qe,et,0),_(se,ft,ft.columns.map(function(ht){return ht.xIndex}))})),Ee.each(function(et){v.setClipUrl(L.select(this),h(se,et),se)});var xe=Ee.selectAll("."+y.cn.columnBlock).data(u.splitToPanels,b.keyFun);xe.enter().append("g").classed(y.cn.columnBlock,!0).attr("id",function(et){return et.key}),xe.style("cursor",function(et){return et.dragHandle?"ew-resize":et.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var De=xe.filter(k),Ve=xe.filter(N);ce&&Ve.call(L.behavior.drag().origin(function(et){return L.event.stopPropagation(),et}).on("drag",ee(se,Se,-1)).on("dragend",function(){})),o(se,Se,De,xe),o(se,Se,Ve,xe);var Ue=Se.selectAll("."+y.cn.scrollAreaClip).data(b.repeat,b.keyFun);Ue.enter().append("clipPath").classed(y.cn.scrollAreaClip,!0).attr("id",function(et){return m(se,et)});var Be=Ue.selectAll("."+y.cn.scrollAreaClipRect).data(b.repeat,b.keyFun);Be.enter().append("rect").classed(y.cn.scrollAreaClipRect,!0).attr("x",-y.overdrag).attr("y",-y.uplift).attr("fill","none"),Be.attr("width",function(et){return et.width+2*y.overdrag}).attr("height",function(et){return et.height+y.uplift});var Xe=Ee.selectAll("."+y.cn.columnBoundary).data(b.repeat,b.keyFun);Xe.enter().append("g").classed(y.cn.columnBoundary,!0);var ot=Ee.selectAll("."+y.cn.columnBoundaryClippath).data(b.repeat,b.keyFun);ot.enter().append("clipPath").classed(y.cn.columnBoundaryClippath,!0),ot.attr("id",function(et){return h(se,et)});var ut=ot.selectAll("."+y.cn.columnBoundaryRect).data(b.repeat,b.keyFun);ut.enter().append("rect").classed(y.cn.columnBoundaryRect,!0).attr("fill","none"),ut.attr("width",function(et){return et.columnWidth+2*l(et)}).attr("height",function(et){return et.calcdata.height+2*l(et)+y.uplift}).attr("x",function(et){return-l(et)}).attr("y",function(et){return-l(et)}),j(null,Ve,Se)};function l(J){return Math.ceil(J.calcdata.maxLineWidth/2)}function m(J,se){return"clip"+J._fullLayout._uid+"_scrollAreaBottomClip_"+se.key}function h(J,se){return"clip"+J._fullLayout._uid+"_columnBoundaryClippath_"+se.calcdata.key+"_"+se.specIndex}function g(J){return[].concat.apply([],J.map(function(se){return se})).map(function(se){return se.__data__})}function c(J,se,ie){function ce(Ee){var xe=Ee.rowBlocks;return Z(xe,xe.length-1)+(xe.length?G(xe[xe.length-1],1/0):1)}var ye=J.selectAll("."+y.cn.scrollbarKit).data(b.repeat,b.keyFun);ye.enter().append("g").classed(y.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),ye.each(function(Ee){var xe=Ee.scrollbarState;xe.totalHeight=ce(Ee),xe.scrollableAreaHeight=Ee.groupHeight-I(Ee),xe.currentlyVisibleHeight=Math.min(xe.totalHeight,xe.scrollableAreaHeight),xe.ratio=xe.currentlyVisibleHeight/xe.totalHeight,xe.barLength=Math.max(xe.ratio*xe.currentlyVisibleHeight,y.goldenRatio*y.scrollbarWidth),xe.barWiggleRoom=xe.currentlyVisibleHeight-xe.barLength,xe.wiggleRoom=Math.max(0,xe.totalHeight-xe.scrollableAreaHeight),xe.topY=xe.barWiggleRoom===0?0:Ee.scrollY/xe.wiggleRoom*xe.barWiggleRoom,xe.bottomY=xe.topY+xe.barLength,xe.dragMultiplier=xe.wiggleRoom/xe.barWiggleRoom}).attr("transform",function(Ee){var xe=Ee.width+y.scrollbarWidth/2+y.scrollbarOffset;return t(xe,I(Ee))});var Se=ye.selectAll("."+y.cn.scrollbar).data(b.repeat,b.keyFun);Se.enter().append("g").classed(y.cn.scrollbar,!0);var Te=Se.selectAll("."+y.cn.scrollbarSlider).data(b.repeat,b.keyFun);Te.enter().append("g").classed(y.cn.scrollbarSlider,!0),Te.attr("transform",function(Ee){return t(0,Ee.scrollbarState.topY||0)});var ke=Te.selectAll("."+y.cn.scrollbarGlyph).data(b.repeat,b.keyFun);ke.enter().append("line").classed(y.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",y.scrollbarWidth).attr("stroke-linecap","round").attr("y1",y.scrollbarWidth/2),ke.attr("y2",function(Ee){return Ee.scrollbarState.barLength-y.scrollbarWidth/2}).attr("stroke-opacity",function(Ee){return Ee.columnDragInProgress||!Ee.scrollbarState.barWiggleRoom||ie?0:.4}),ke.transition().delay(0).duration(0),ke.transition().delay(y.scrollbarHideDelay).duration(y.scrollbarHideDuration).attr("stroke-opacity",0);var we=Se.selectAll("."+y.cn.scrollbarCaptureZone).data(b.repeat,b.keyFun);we.enter().append("line").classed(y.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",y.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Ee){var xe=L.event.y,De=this.getBoundingClientRect(),Ve=Ee.scrollbarState,Ue=xe-De.top,Be=L.scale.linear().domain([0,Ve.scrollableAreaHeight]).range([0,Ve.totalHeight]).clamp(!0);Ve.topY<=Ue&&Ue<=Ve.bottomY||ee(se,J,null,Be(Ue-Ve.barLength/2))(Ee)}).call(L.behavior.drag().origin(function(Ee){return L.event.stopPropagation(),Ee.scrollbarState.scrollbarScrollInProgress=!0,Ee}).on("drag",ee(se,J)).on("dragend",function(){})),we.attr("y2",function(Ee){return Ee.scrollbarState.scrollableAreaHeight}),se._context.staticPlot&&(ke.remove(),we.remove())}function o(J,se,ie,ce){var ye=d(ie),Se=w(ye);E(Se);var Te=A(Se);f(Te);var ke=x(Se),we=C(ke);M(we),P(we,se,ce,J),Y(Se)}function d(J){var se=J.selectAll("."+y.cn.columnCells).data(b.repeat,b.keyFun);return se.enter().append("g").classed(y.cn.columnCells,!0),se.exit().remove(),se}function w(J){var se=J.selectAll("."+y.cn.columnCell).data(u.splitToCells,function(ie){return ie.keyWithinBlock});return se.enter().append("g").classed(y.cn.columnCell,!0),se.exit().remove(),se}function A(J){var se=J.selectAll("."+y.cn.cellRect).data(b.repeat,function(ie){return ie.keyWithinBlock});return se.enter().append("rect").classed(y.cn.cellRect,!0),se}function C(J){var se=J.selectAll("."+y.cn.cellText).data(b.repeat,function(ie){return ie.keyWithinBlock});return se.enter().append("text").classed(y.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){L.event.stopPropagation()}),se}function x(J){var se=J.selectAll("."+y.cn.cellTextHolder).data(b.repeat,function(ie){return ie.keyWithinBlock});return se.enter().append("g").classed(y.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),se}function E(J){J.each(function(se,ie){var ce=se.calcdata.cells.font,ye=se.column.specIndex,Se={size:V(ce.size,ye,ie),color:V(ce.color,ye,ie),family:V(ce.family,ye,ie)};se.rowNumber=se.key,se.align=V(se.calcdata.cells.align,ye,ie),se.cellBorderWidth=V(se.calcdata.cells.line.width,ye,ie),se.font=Se})}function M(J){J.each(function(se){v.font(L.select(this),se.font)})}function f(J){J.attr("width",function(se){return se.column.columnWidth}).attr("stroke-width",function(se){return se.cellBorderWidth}).each(function(se){var ie=L.select(this);s.stroke(ie,V(se.calcdata.cells.line.color,se.column.specIndex,se.rowNumber)),s.fill(ie,V(se.calcdata.cells.fill.color,se.column.specIndex,se.rowNumber))})}function P(J,se,ie,ce){J.text(function(ye){var Se=ye.column.specIndex,Te=ye.rowNumber,ke=ye.value,we=typeof ke=="string",Ee=we&&ke.match(/<br>/i),xe=!we||Ee;ye.mayHaveMarkup=we&&ke.match(/[<&>]/);var De=T(ke);ye.latex=De;var Ve=De?"":V(ye.calcdata.cells.prefix,Se,Te)||"",Ue=De?"":V(ye.calcdata.cells.suffix,Se,Te)||"",Be=De?null:V(ye.calcdata.cells.format,Se,Te)||null,Xe=Ve+(Be?S(Be)(ye.value):ye.value)+Ue,ot;ye.wrappingNeeded=!ye.wrapped&&!xe&&!De&&(ot=z(Xe)),ye.cellHeightMayIncrease=Ee||De||ye.mayHaveMarkup||(ot===void 0?z(Xe):ot),ye.needsConvertToTspans=ye.mayHaveMarkup||ye.wrappingNeeded||ye.latex;var ut;if(ye.wrappingNeeded){var et=y.wrapSplitCharacter===" "?Xe.replace(/<a href=/ig,"<a_href="):Xe,qe=et.split(y.wrapSplitCharacter),ft=y.wrapSplitCharacter===" "?qe.map(function(ht){return ht.replace(/<a_href=/ig,"<a href=")}):qe;ye.fragments=ft.map(function(ht){return{text:ht,width:null}}),ye.fragments.push({fragment:y.wrapSpacer,width:null}),ut=ft.join(y.lineBreaker)+y.lineBreaker+y.wrapSpacer}else delete ye.fragments,ut=Xe;return ut}).attr("dy",function(ye){return ye.needsConvertToTspans?0:"0.75em"}).each(function(ye){var Se=this,Te=L.select(Se),ke=ye.wrappingNeeded?ne:ue;ye.needsConvertToTspans?p.convertToTspans(Te,ce,ke(ie,Se,se,ce,ye)):L.select(Se.parentNode).attr("transform",function(we){return t(q(we),y.cellPad)}).attr("text-anchor",function(we){return{left:"start",center:"middle",right:"end"}[we.align]})})}function T(J){return typeof J=="string"&&J.match(y.latexCheck)}function z(J){return J.indexOf(y.wrapSplitCharacter)!==-1}function _(J,se,ie){var ce=se.gdColumnsOriginalOrder;se.gdColumns.sort(function(ye,Se){return ie[ce.indexOf(ye)]-ie[ce.indexOf(Se)]}),se.columnorder=ie,J.emit("plotly_restyle")}function V(J,se,ie){if(i.isArrayOrTypedArray(J)){var ce=J[Math.min(se,J.length-1)];return i.isArrayOrTypedArray(ce)?ce[Math.min(ie,ce.length-1)]:ce}else return J}function F(J,se,ie){J.transition().ease(y.releaseTransitionEase).duration(y.releaseTransitionDuration).attr("transform",t(se.x,ie))}function N(J){return J.type==="cells"}function k(J){return J.type==="header"}function I(J){var se=J.rowBlocks.length?J.rowBlocks[0].auxiliaryBlocks:[];return se.reduce(function(ie,ce){return ie+G(ce,1/0)},0)}function H(J,se,ie){for(var ce=[],ye=0,Se=0;Se<J.length;Se++){for(var Te=J[Se],ke=Te.rows,we=0,Ee=0;Ee<ke.length;Ee++)we+=ke[Ee].rowHeight;Te.allRowsHeight=we;var xe=ye+we,De=se,Ve=De+ie;De<xe&&Ve>ye&&ce.push(Se),ye+=we}return ce}function j(J,se,ie){var ce=g(se)[0];if(ce!==void 0){var ye=ce.rowBlocks,Se=ce.calcdata,Te=Z(ye,ye.length),ke=ce.calcdata.groupHeight-I(ce),we=Se.scrollY=Math.max(0,Math.min(Te-ke,Se.scrollY)),Ee=H(ye,we,ke);Ee.length===1&&(Ee[0]===ye.length-1?Ee.unshift(Ee[0]-1):Ee.push(Ee[0]+1)),Ee[0]%2&&Ee.reverse(),se.each(function(xe,De){xe.page=Ee[De],xe.scrollY=we}),se.attr("transform",function(xe){var De=Z(xe.rowBlocks,xe.page)-xe.scrollY;return t(0,De)}),J&&(te(J,ie,se,Ee,ce.prevPages,ce,0),te(J,ie,se,Ee,ce.prevPages,ce,1),c(ie,J))}}function ee(J,se,ie,ce){return function(Se){var Te=Se.calcdata?Se.calcdata:Se,ke=se.filter(function(De){return Te.key===De.key}),we=ie||Te.scrollbarState.dragMultiplier,Ee=Te.scrollY;Te.scrollY=ce===void 0?Te.scrollY+we*L.event.dy:ce;var xe=ke.selectAll("."+y.cn.yColumn).selectAll("."+y.cn.columnBlock).filter(N);return j(J,xe,ke),Te.scrollY===Ee}}function te(J,se,ie,ce,ye,Se,Te){var ke=ce[Te]!==ye[Te];ke&&(clearTimeout(Se.currentRepaint[Te]),Se.currentRepaint[Te]=setTimeout(function(){var we=ie.filter(function(Ee,xe){return xe===Te&&ce[xe]!==ye[xe]});o(J,se,we,ie),ye[Te]=ce[Te]}))}function ne(J,se,ie,ce){return function(){var Se=L.select(se.parentNode);Se.each(function(Te){var ke=Te.fragments;Se.selectAll("tspan.line").each(function(Xe,ot){ke[ot].width=this.getComputedTextLength()});var we=ke[ke.length-1].width,Ee=ke.slice(0,-1),xe=[],De,Ve,Ue=0,Be=Te.column.columnWidth-2*y.cellPad;for(Te.value="";Ee.length;)De=Ee.shift(),Ve=De.width+we,Ue+Ve>Be&&(Te.value+=xe.join(y.wrapSpacer)+y.lineBreaker,xe=[],Ue=0),xe.push(De.text),Ue+=Ve;Ue&&(Te.value+=xe.join(y.wrapSpacer)),Te.wrapped=!0}),Se.selectAll("tspan.line").remove(),P(Se.select("."+y.cn.cellText),ie,J,ce),L.select(se.parentNode.parentNode).call(Y)}}function ue(J,se,ie,ce,ye){return function(){if(!ye.settledY){var Te=L.select(se.parentNode),ke=oe(ye),we=ye.key-ke.firstRowIndex,Ee=ke.rows[we].rowHeight,xe=ye.cellHeightMayIncrease?se.parentNode.getBoundingClientRect().height+2*y.cellPad:Ee,De=Math.max(xe,Ee),Ve=De-ke.rows[we].rowHeight;Ve&&(ke.rows[we].rowHeight=De,J.selectAll("."+y.cn.columnCell).call(Y),j(null,J.filter(N),0),c(ie,ce,!0)),Te.attr("transform",function(){var Ue=this,Be=Ue.parentNode,Xe=Be.getBoundingClientRect(),ot=L.select(Ue.parentNode).select("."+y.cn.cellRect).node().getBoundingClientRect(),ut=Ue.transform.baseVal.consolidate(),et=ot.top-Xe.top+(ut?ut.matrix.f:y.cellPad);return t(q(ye,L.select(Ue.parentNode).select("."+y.cn.cellTextHolder).node().getBoundingClientRect().width),et)}),ye.settledY=!0}}}function q(J,se){switch(J.align){case"left":return y.cellPad;case"right":return J.column.columnWidth-(se||0)-y.cellPad;case"center":return(J.column.columnWidth-(se||0))/2;default:return y.cellPad}}function Y(J){J.attr("transform",function(se){var ie=se.rowBlocks[0].auxiliaryBlocks.reduce(function(Te,ke){return Te+G(ke,1/0)},0),ce=oe(se),ye=G(ce,se.key),Se=ye+ie;return t(0,Se)}).selectAll("."+y.cn.cellRect).attr("height",function(se){return $(oe(se),se.key).rowHeight})}function Z(J,se){for(var ie=0,ce=se-1;ce>=0;ce--)ie+=K(J[ce]);return ie}function G(J,se){for(var ie=0,ce=0;ce<J.rows.length&&J.rows[ce].rowIndex<se;ce++)ie+=J.rows[ce].rowHeight;return ie}function K(J){var se=J.allRowsHeight;if(se!==void 0)return se;for(var ie=0,ce=0;ce<J.rows.length;ce++)ie+=J.rows[ce].rowHeight;return J.allRowsHeight=ie,ie}function oe(J){return J.rowBlocks[J.page]}function $(J,se){return J.rows[se-J.firstRowIndex]}},40516:function(U,B,e){var y=e(21776).Ks,L=e(21776).Gw,i=e(49084),S=e(86968).u,b=e(74996),v=e(424),p=e(32984),r=e(92880).extendFlat,t=e(98192).c;U.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:t,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},i("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},b.textfont,{}),editType:"calc"},text:b.text,textinfo:v.textinfo,texttemplate:L({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:b.hovertext,hoverinfo:v.hoverinfo,hovertemplate:y({},{keys:p.eventDataKeys}),textfont:b.textfont,insidetextfont:b.insidetextfont,outsidetextfont:r({},b.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:b.sort,root:v.root,domain:S({name:"treemap",trace:!0,editType:"calc"})}},79516:function(U,B,e){var y=e(7316);B.name="treemap",B.plot=function(L,i,S,b){y.plotBasePlot(B.name,L,i,S,b)},B.clean=function(L,i,S,b){y.cleanBasePlot(B.name,L,i,S,b)}},97840:function(U,B,e){var y=e(3776);B.r=function(L,i){return y.calc(L,i)},B.q=function(L){return y._runCrossTraceCalc("treemap",L)}},32984:function(U){U.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(U,B,e){var y=e(3400),L=e(40516),i=e(76308),S=e(86968).Q,b=e(31508).handleText,v=e(78048).TEXTPAD,p=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,a=r.handleDefaults;U.exports=function(u,s,l,m){function h(f,P){return y.coerce(u,s,L,f,P)}var g=h("labels"),c=h("parents");if(!g||!g.length||!c||!c.length){s.visible=!1;return}var o=h("values");o&&o.length?h("branchvalues"):h("count"),h("level"),h("maxdepth");var d=h("tiling.packing");d==="squarify"&&h("tiling.squarifyratio"),h("tiling.flip"),h("tiling.pad");var w=h("text");h("texttemplate"),s.texttemplate||h("textinfo",y.isArrayOrTypedArray(w)?"text+label":"label"),h("hovertext"),h("hovertemplate");var A=h("pathbar.visible"),C="auto";b(u,s,m,h,C,{hasPathbar:A,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition");var x=s.textposition.indexOf("bottom")!==-1;p(u,s,m,h);var E=s._hasColorscale=t(u,"marker","colors")||(u.marker||{}).coloraxis;E?a(u,s,m,h,{prefix:"marker.",cLetter:"c"}):h("marker.depthfade",!(s.marker.colors||[]).length);var M=s.textfont.size*2;h("marker.pad.t",x?M/4:M),h("marker.pad.l",M/4),h("marker.pad.r",M/4),h("marker.pad.b",x?M:M/4),h("marker.cornerradius"),s._hovered={marker:{line:{width:2,color:i.contrast(m.paper_bgcolor)}}},A&&(h("pathbar.thickness",s.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),S(s,m,h),s._length=null}},95808:function(U,B,e){var y=e(33428),L=e(78176),i=e(82744),S=i.clearMinTextSize,b=e(60100).resizeText,v=e(52960);U.exports=function(r,t,a,n,u){var s=u.type,l=u.drawDescendants,m=r._fullLayout,h=m["_"+s+"layer"],g,c,o=!a;if(S(s,m),g=h.selectAll("g.trace."+s).data(t,function(w){return w[0].trace.uid}),g.enter().append("g").classed("trace",!0).classed(s,!0),g.order(),!m.uniformtext.mode&&L.hasTransition(a)){n&&(c=n());var d=y.transition().duration(a.duration).ease(a.easing).each("end",function(){c&&c()}).each("interrupt",function(){c&&c()});d.each(function(){h.selectAll("g.trace").each(function(w){v(r,w,this,a,l)})})}else g.each(function(w){v(r,w,this,a,l)}),m.uniformtext.mode&&b(r,h.selectAll(".trace"),s);o&&g.exit().remove()}},27336:function(U,B,e){var y=e(33428),L=e(3400),i=e(43616),S=e(72736),b=e(13832),v=e(66192).styleOne,p=e(32984),r=e(78176),t=e(45716),a=!0;U.exports=function(u,s,l,m,h){var g=h.barDifY,c=h.width,o=h.height,d=h.viewX,w=h.viewY,A=h.pathSlice,C=h.toMoveInsideSlice,x=h.strTransform,E=h.hasTransition,M=h.handleSlicesExit,f=h.makeUpdateSliceInterpolator,P=h.makeUpdateTextInterpolator,T={},z=u._context.staticPlot,_=u._fullLayout,V=s[0],F=V.trace,N=V.hierarchy,k=c/F._entryDepth,I=r.listPath(l.data,"id"),H=b(N.copy(),[c,o],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();H=H.filter(function(ee){var te=I.indexOf(ee.data.id);return te===-1?!1:(ee.x0=k*te,ee.x1=k*(te+1),ee.y0=g,ee.y1=g+o,ee.onPathbar=!0,!0)}),H.reverse(),m=m.data(H,r.getPtId),m.enter().append("g").classed("pathbar",!0),M(m,a,T,[c,o],A),m.order();var j=m;E&&(j=j.transition().each("end",function(){var ee=y.select(this);r.setSliceCursor(ee,u,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),j.each(function(ee){ee._x0=d(ee.x0),ee._x1=d(ee.x1),ee._y0=w(ee.y0),ee._y1=w(ee.y1),ee._hoverX=d(ee.x1-Math.min(c,o)/2),ee._hoverY=w(ee.y1-o/2);var te=y.select(this),ne=L.ensureSingle(te,"path","surface",function(Z){Z.style("pointer-events",z?"none":"all")});E?ne.transition().attrTween("d",function(Z){var G=f(Z,a,T,[c,o]);return function(K){return A(G(K))}}):ne.attr("d",A),te.call(t,l,u,s,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:u._transitioning}),ne.call(v,ee,F,u,{hovered:!1}),ee._text=(r.getPtLabel(ee)||"").split("<br>").join(" ")||"";var ue=L.ensureSingle(te,"g","slicetext"),q=L.ensureSingle(ue,"text","",function(Z){Z.attr("data-notex",1)}),Y=L.ensureUniformFontSize(u,r.determineTextFont(F,ee,_.font,{onPathbar:!0}));q.text(ee._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(i.font,Y).call(S.convertToTspans,u),ee.textBB=i.bBox(q.node()),ee.transform=C(ee,{fontSize:Y.size,onPathbar:!0}),ee.transform.fontSize=Y.size,E?q.transition().attrTween("transform",function(Z){var G=P(Z,a,T,[c,o]);return function(K){return x(G(K))}}):q.attr("transform",x(ee))})}},76477:function(U,B,e){var y=e(33428),L=e(3400),i=e(43616),S=e(72736),b=e(13832),v=e(66192).styleOne,p=e(32984),r=e(78176),t=e(45716),a=e(96488).formatSliceLabel,n=!1;U.exports=function(s,l,m,h,g){var c=g.width,o=g.height,d=g.viewX,w=g.viewY,A=g.pathSlice,C=g.toMoveInsideSlice,x=g.strTransform,E=g.hasTransition,M=g.handleSlicesExit,f=g.makeUpdateSliceInterpolator,P=g.makeUpdateTextInterpolator,T=g.prevEntry,z={},_=s._context.staticPlot,V=s._fullLayout,F=l[0],N=F.trace,k=N.textposition.indexOf("left")!==-1,I=N.textposition.indexOf("right")!==-1,H=N.textposition.indexOf("bottom")!==-1,j=!H&&!N.marker.pad.t||H&&!N.marker.pad.b,ee=b(m,[c,o],{packing:N.tiling.packing,squarifyratio:N.tiling.squarifyratio,flipX:N.tiling.flip.indexOf("x")>-1,flipY:N.tiling.flip.indexOf("y")>-1,pad:{inner:N.tiling.pad,top:N.marker.pad.t,left:N.marker.pad.l,right:N.marker.pad.r,bottom:N.marker.pad.b}}),te=ee.descendants(),ne=1/0,ue=-1/0;te.forEach(function(K){var oe=K.depth;oe>=N._maxDepth?(K.x0=K.x1=(K.x0+K.x1)/2,K.y0=K.y1=(K.y0+K.y1)/2):(ne=Math.min(ne,oe),ue=Math.max(ue,oe))}),h=h.data(te,r.getPtId),N._maxVisibleLayers=isFinite(ue)?ue-ne+1:0,h.enter().append("g").classed("slice",!0),M(h,n,z,[c,o],A),h.order();var q=null;if(E&&T){var Y=r.getPtId(T);h.each(function(K){q===null&&r.getPtId(K)===Y&&(q={x0:K.x0,x1:K.x1,y0:K.y0,y1:K.y1})})}var Z=function(){return q||{x0:0,x1:c,y0:0,y1:o}},G=h;return E&&(G=G.transition().each("end",function(){var K=y.select(this);r.setSliceCursor(K,s,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),G.each(function(K){var oe=r.isHeader(K,N);K._x0=d(K.x0),K._x1=d(K.x1),K._y0=w(K.y0),K._y1=w(K.y1),K._hoverX=d(K.x1-N.marker.pad.r),K._hoverY=w(H?K.y1-N.marker.pad.b/2:K.y0+N.marker.pad.t/2);var $=y.select(this),J=L.ensureSingle($,"path","surface",function(Te){Te.style("pointer-events",_?"none":"all")});E?J.transition().attrTween("d",function(Te){var ke=f(Te,n,Z(),[c,o]);return function(we){return A(ke(we))}}):J.attr("d",A),$.call(t,m,s,l,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,s,{isTransitioning:s._transitioning}),J.call(v,K,N,s,{hovered:!1}),K.x0===K.x1||K.y0===K.y1?K._text="":oe?K._text=j?"":r.getPtLabel(K)||"":K._text=a(K,m,N,l,V)||"";var se=L.ensureSingle($,"g","slicetext"),ie=L.ensureSingle(se,"text","",function(Te){Te.attr("data-notex",1)}),ce=L.ensureUniformFontSize(s,r.determineTextFont(N,K,V.font)),ye=K._text||" ",Se=oe&&ye.indexOf("<br>")===-1;ie.text(ye).classed("slicetext",!0).attr("text-anchor",I?"end":k||Se?"start":"middle").call(i.font,ce).call(S.convertToTspans,s),K.textBB=i.bBox(ie.node()),K.transform=C(K,{fontSize:ce.size,isHeader:oe}),K.transform.fontSize=ce.size,E?ie.transition().attrTween("transform",function(Te){var ke=P(Te,n,Z(),[c,o]);return function(we){return x(ke(we))}}):ie.attr("transform",x(K))}),q}},83024:function(U){U.exports=function B(e,y,L){var i;L.swapXY&&(i=e.x0,e.x0=e.y0,e.y0=i,i=e.x1,e.x1=e.y1,e.y1=i),L.flipX&&(i=e.x0,e.x0=y[0]-e.x1,e.x1=y[0]-i),L.flipY&&(i=e.y0,e.y0=y[1]-e.y1,e.y1=y[1]-i);var S=e.children;if(S)for(var b=0;b<S.length;b++)B(S[b],y,L)}},31991:function(U,B,e){U.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(U){U.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(U,B,e){var y=e(3400),L=e(45392);U.exports=function(S,b){function v(p,r){return y.coerce(S,b,L,p,r)}v("treemapcolorway",b.colorway),v("extendtreemapcolors")}},13832:function(U,B,e){var y=e(74148),L=e(83024);U.exports=function(b,v,p){var r=p.flipX,t=p.flipY,a=p.packing==="dice-slice",n=p.pad[t?"bottom":"top"],u=p.pad[r?"right":"left"],s=p.pad[r?"left":"right"],l=p.pad[t?"top":"bottom"],m;a&&(m=u,u=n,n=m,m=s,s=l,l=m);var h=y.treemap().tile(i(p.packing,p.squarifyratio)).paddingInner(p.pad.inner).paddingLeft(u).paddingRight(s).paddingTop(n).paddingBottom(l).size(a?[v[1],v[0]]:v)(b);return(a||r||t)&&L(h,v,{swapXY:a,flipX:r,flipY:t}),h};function i(S,b){switch(S){case"squarify":return y.treemapSquarify.ratio(b);case"binary":return y.treemapBinary;case"dice":return y.treemapDice;case"slice":return y.treemapSlice;default:return y.treemapSliceDice}}},53264:function(U,B,e){var y=e(95808),L=e(76477);U.exports=function(S,b,v,p){return y(S,b,v,p,{type:"treemap",drawDescendants:L})}},52960:function(U,B,e){var y=e(33428),L=e(67756).qy,i=e(78176),S=e(3400),b=e(78048).TEXTPAD,v=e(98184),p=v.toMoveInsideBar,r=e(82744),t=r.recordMinTextSize,a=e(32984),n=e(27336);function u(s){return i.isHierarchyRoot(s)?"":i.getPtId(s)}U.exports=function(l,m,h,g,c){var o=l._fullLayout,d=m[0],w=d.trace,A=w.type,C=A==="icicle",x=d.hierarchy,E=i.findEntryWithLevel(x,w.level),M=y.select(h),f=M.selectAll("g.pathbar"),P=M.selectAll("g.slice");if(!E){f.remove(),P.remove();return}var T=i.isHierarchyRoot(E),z=!o.uniformtext.mode&&i.hasTransition(g),_=i.getMaxDepth(w),V=function(Oe){return Oe.data.depth-E.data.depth<_},F=o._size,N=w.domain,k=F.w*(N.x[1]-N.x[0]),I=F.h*(N.y[1]-N.y[0]),H=k,j=w.pathbar.thickness,ee=w.marker.line.width+a.gapWithPathbar,te=w.pathbar.visible?w.pathbar.side.indexOf("bottom")>-1?I+ee:-(j+ee):0,ne={x0:H,x1:H,y0:te,y1:te+j},ue=function(Oe,Ye,Ze){var Ge=w.tiling.pad,_e=function(Me){return Me-Ge<=Ye.x0},be=function(Me){return Me+Ge>=Ye.x1},me=function(Me){return Me-Ge<=Ye.y0},Ce=function(Me){return Me+Ge>=Ye.y1};return Oe.x0===Ye.x0&&Oe.x1===Ye.x1&&Oe.y0===Ye.y0&&Oe.y1===Ye.y1?{x0:Oe.x0,x1:Oe.x1,y0:Oe.y0,y1:Oe.y1}:{x0:_e(Oe.x0-Ge)?0:be(Oe.x0-Ge)?Ze[0]:Oe.x0,x1:_e(Oe.x1+Ge)?0:be(Oe.x1+Ge)?Ze[0]:Oe.x1,y0:me(Oe.y0-Ge)?0:Ce(Oe.y0-Ge)?Ze[1]:Oe.y0,y1:me(Oe.y1+Ge)?0:Ce(Oe.y1+Ge)?Ze[1]:Oe.y1}},q=null,Y={},Z={},G=null,K=function(Oe,Ye){return Ye?Y[u(Oe)]:Z[u(Oe)]},oe=function(Oe,Ye,Ze,Ge){if(Ye)return Y[u(x)]||ne;var _e=Z[w.level]||Ze;return V(Oe)?ue(Oe,_e,Ge):{}};d.hasMultipleRoots&&T&&_++,w._maxDepth=_,w._backgroundColor=o.paper_bgcolor,w._entryDepth=E.data.depth,w._atRootLevel=T;var $=-k/2+F.l+F.w*(N.x[1]+N.x[0])/2,J=-I/2+F.t+F.h*(1-(N.y[1]+N.y[0])/2),se=function(Oe){return $+Oe},ie=function(Oe){return J+Oe},ce=ie(0),ye=se(0),Se=function(Oe){return ye+Oe},Te=function(Oe){return ce+Oe};function ke(Oe,Ye){return Oe+","+Ye}var we=Se(0),Ee=function(Oe){Oe.x=Math.max(we,Oe.x)},xe=w.pathbar.edgeshape,De=function(Oe){var Ye=Se(Math.max(Math.min(Oe.x0,Oe.x0),0)),Ze=Se(Math.min(Math.max(Oe.x1,Oe.x1),H)),Ge=Te(Oe.y0),_e=Te(Oe.y1),be=j/2,me={},Ce={};me.x=Ye,Ce.x=Ze,me.y=Ce.y=(Ge+_e)/2;var Me={x:Ye,y:Ge},Ne={x:Ze,y:Ge},je={x:Ze,y:_e},tt={x:Ye,y:_e};return xe===">"?(Me.x-=be,Ne.x-=be,je.x-=be,tt.x-=be):xe==="/"?(je.x-=be,tt.x-=be,me.x-=be/2,Ce.x-=be/2):xe==="\\"?(Me.x-=be,Ne.x-=be,me.x-=be/2,Ce.x-=be/2):xe==="<"&&(me.x-=be,Ce.x-=be),Ee(Me),Ee(tt),Ee(me),Ee(Ne),Ee(je),Ee(Ce),"M"+ke(Me.x,Me.y)+"L"+ke(Ne.x,Ne.y)+"L"+ke(Ce.x,Ce.y)+"L"+ke(je.x,je.y)+"L"+ke(tt.x,tt.y)+"L"+ke(me.x,me.y)+"Z"},Ve=w[C?"tiling":"marker"].pad,Ue=function(Oe){return w.textposition.indexOf(Oe)!==-1},Be=Ue("top"),Xe=Ue("left"),ot=Ue("right"),ut=Ue("bottom"),et=function(Oe){var Ye=se(Oe.x0),Ze=se(Oe.x1),Ge=ie(Oe.y0),_e=ie(Oe.y1),be=Ze-Ye,me=_e-Ge;if(!be||!me)return"";var Ce=w.marker.cornerradius||0,Me=Math.min(Ce,be/2,me/2);Me&&Oe.data&&Oe.data.data&&Oe.data.data.label&&(Be&&(Me=Math.min(Me,Ve.t)),Xe&&(Me=Math.min(Me,Ve.l)),ot&&(Me=Math.min(Me,Ve.r)),ut&&(Me=Math.min(Me,Ve.b)));var Ne=function(je,tt){return Me?"a"+ke(Me,Me)+" 0 0 1 "+ke(je,tt):""};return"M"+ke(Ye,Ge+Me)+Ne(Me,-Me)+"L"+ke(Ze-Me,Ge)+Ne(Me,Me)+"L"+ke(Ze,_e-Me)+Ne(-Me,Me)+"L"+ke(Ye+Me,_e)+Ne(-Me,-Me)+"Z"},qe=function(Oe,Ye){var Ze=Oe.x0,Ge=Oe.x1,_e=Oe.y0,be=Oe.y1,me=Oe.textBB,Ce=Be||Ye.isHeader&&!ut,Me=Ce?"start":ut?"end":"middle",Ne=Ue("right"),je=Ue("left")||Ye.onPathbar,tt=je?-1:Ne?1:0;if(Ye.isHeader){if(Ze+=(C?Ve:Ve.l)-b,Ge-=(C?Ve:Ve.r)-b,Ze>=Ge){var ct=(Ze+Ge)/2;Ze=ct,Ge=ct}var pt;ut?(pt=be-(C?Ve:Ve.b),_e<pt&&pt<be&&(_e=pt)):(pt=_e+(C?Ve:Ve.t),_e<pt&&pt<be&&(be=pt))}var Xt=p(Ze,Ge,_e,be,me,{isHorizontal:!1,constrained:!0,angle:0,anchor:Me,leftToRight:tt});return Xt.fontSize=Ye.fontSize,Xt.targetX=se(Xt.targetX),Xt.targetY=ie(Xt.targetY),isNaN(Xt.targetX)||isNaN(Xt.targetY)?{}:(Ze!==Ge&&_e!==be&&t(w.type,Xt,o),{scale:Xt.scale,rotate:Xt.rotate,textX:Xt.textX,textY:Xt.textY,anchorX:Xt.anchorX,anchorY:Xt.anchorY,targetX:Xt.targetX,targetY:Xt.targetY})},ft=function(Oe,Ye){for(var Ze,Ge=0,_e=Oe;!Ze&&Ge<_;)Ge++,_e=_e.parent,_e?Ze=K(_e,Ye):Ge=_;return Ze||{}},ht=function(Oe,Ye,Ze,Ge){var _e=K(Oe,Ye),be;if(Ye)be=ne;else{var me=K(E,Ye);me?be=ue(Oe,me,Ge):be={}}return L(_e,be)},dt=function(Oe,Ye,Ze,Ge,_e){var be=K(Oe,Ye),me;if(be)me=be;else if(Ye)me=ne;else if(q)if(Oe.parent){var Ce=G||Ze;Ce&&!Ye?me=ue(Oe,Ce,Ge):(me={},S.extendFlat(me,ft(Oe,Ye)))}else me=S.extendFlat({},Oe),C&&(_e.orientation==="h"?_e.flipX?me.x0=Oe.x1:me.x1=0:_e.flipY?me.y0=Oe.y1:me.y1=0);else me={};return L(me,{x0:Oe.x0,x1:Oe.x1,y0:Oe.y0,y1:Oe.y1})},mt=function(Oe,Ye,Ze,Ge){var _e=K(Oe,Ye),be={},me=oe(Oe,Ye,Ze,Ge);S.extendFlat(be,{transform:qe({x0:me.x0,x1:me.x1,y0:me.y0,y1:me.y1,textBB:Oe.textBB,_text:Oe._text},{isHeader:i.isHeader(Oe,w)})}),_e?be=_e:Oe.parent&&S.extendFlat(be,ft(Oe,Ye));var Ce=Oe.transform;return Oe.x0!==Oe.x1&&Oe.y0!==Oe.y1&&t(w.type,Ce,o),L(be,{transform:{scale:Ce.scale,rotate:Ce.rotate,textX:Ce.textX,textY:Ce.textY,anchorX:Ce.anchorX,anchorY:Ce.anchorY,targetX:Ce.targetX,targetY:Ce.targetY}})},St=function(Oe,Ye,Ze,Ge,_e){var be=Ge[0],me=Ge[1];z?Oe.exit().transition().each(function(){var Ce=y.select(this),Me=Ce.select("path.surface");Me.transition().attrTween("d",function(je){var tt=ht(je,Ye,Ze,[be,me]);return function(ct){return _e(tt(ct))}});var Ne=Ce.select("g.slicetext");Ne.attr("opacity",0)}).remove():Oe.exit().remove()},rt=function(Oe){var Ye=Oe.transform;return Oe.x0!==Oe.x1&&Oe.y0!==Oe.y1&&t(w.type,Ye,o),S.getTextTransform({textX:Ye.textX,textY:Ye.textY,anchorX:Ye.anchorX,anchorY:Ye.anchorY,targetX:Ye.targetX,targetY:Ye.targetY,scale:Ye.scale,rotate:Ye.rotate})};z&&(f.each(function(Oe){Y[u(Oe)]={x0:Oe.x0,x1:Oe.x1,y0:Oe.y0,y1:Oe.y1},Oe.transform&&(Y[u(Oe)].transform={textX:Oe.transform.textX,textY:Oe.transform.textY,anchorX:Oe.transform.anchorX,anchorY:Oe.transform.anchorY,targetX:Oe.transform.targetX,targetY:Oe.transform.targetY,scale:Oe.transform.scale,rotate:Oe.transform.rotate})}),P.each(function(Oe){Z[u(Oe)]={x0:Oe.x0,x1:Oe.x1,y0:Oe.y0,y1:Oe.y1},Oe.transform&&(Z[u(Oe)].transform={textX:Oe.transform.textX,textY:Oe.transform.textY,anchorX:Oe.transform.anchorX,anchorY:Oe.transform.anchorY,targetX:Oe.transform.targetX,targetY:Oe.transform.targetY,scale:Oe.transform.scale,rotate:Oe.transform.rotate}),!q&&i.isEntry(Oe)&&(q=Oe)})),G=c(l,m,E,P,{width:k,height:I,viewX:se,viewY:ie,pathSlice:et,toMoveInsideSlice:qe,prevEntry:q,makeUpdateSliceInterpolator:dt,makeUpdateTextInterpolator:mt,handleSlicesExit:St,hasTransition:z,strTransform:rt}),w.pathbar.visible?n(l,m,E,f,{barDifY:te,width:H,height:j,viewX:Se,viewY:Te,pathSlice:De,toMoveInsideSlice:qe,makeUpdateSliceInterpolator:dt,makeUpdateTextInterpolator:mt,handleSlicesExit:St,hasTransition:z,strTransform:rt}):f.remove()}},66192:function(U,B,e){var y=e(33428),L=e(76308),i=e(3400),S=e(78176),b=e(82744).resizeText,v=e(60404);function p(t){var a=t._fullLayout._treemaplayer.selectAll(".trace");b(t,a,"treemap"),a.each(function(n){var u=y.select(this),s=n[0],l=s.trace;u.style("opacity",l.opacity),u.selectAll("path.surface").each(function(m){y.select(this).call(r,m,l,t,{hovered:!1})})})}function r(t,a,n,u,s){var l=(s||{}).hovered,m=a.data.data,h=m.i,g,c,o=m.color,d=S.isHierarchyRoot(a),w=1;if(l)g=n._hovered.marker.line.color,c=n._hovered.marker.line.width;else if(d&&o===n.root.color)w=100,g="rgba(0,0,0,0)",c=0;else if(g=i.castOption(n,h,"marker.line.color")||L.defaultLine,c=i.castOption(n,h,"marker.line.width")||0,!n._hasColorscale&&!a.onPathbar){var A=n.marker.depthfade;if(A){var C=L.combine(L.addOpacity(n._backgroundColor,.75),o),x;if(A===!0){var E=S.getMaxDepth(n);isFinite(E)?S.isLeaf(a)?x=0:x=n._maxVisibleLayers-(a.data.depth-n._entryDepth):x=a.data.height+1}else x=a.data.depth-n._entryDepth,n._atRootLevel||x++;if(x>0)for(var M=0;M<x;M++){var f=.5*M/x;o=L.combine(L.addOpacity(C,f),o)}}}t.call(v,a,n,u,o).style("stroke-width",c).call(L.stroke,g).style("opacity",w)}U.exports={style:p,styleOne:r}},13988:function(U,B,e){var y=e(63188),L=e(92880).extendFlat,i=e(29736).axisHoverFormat;U.exports={y:y.y,x:y.x,x0:y.x0,y0:y.y0,xhoverformat:i("x"),yhoverformat:i("y"),name:L({},y.name,{}),orientation:L({},y.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:y.fillcolor,points:L({},y.boxpoints,{}),jitter:L({},y.jitter,{}),pointpos:L({},y.pointpos,{}),width:L({},y.width,{}),marker:y.marker,text:y.text,hovertext:y.hovertext,hovertemplate:y.hovertemplate,quartilemethod:y.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup,selected:y.selected,unselected:y.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},67064:function(U,B,e){var y=e(3400),L=e(54460),i=e(62555),S=e(63800),b=e(39032).BADNUM;U.exports=function(a,n){var u=i(a,n);if(u[0].t.empty)return u;for(var s=a._fullLayout,l=L.getFromId(a,n[n.orientation==="h"?"xaxis":"yaxis"]),m=1/0,h=-1/0,g=0,c=0,o=0;o<u.length;o++){var d=u[o],w=d.pts.map(S.extractVal),A=d.bandwidth=p(n,d,w),C=d.span=r(n,d,l,A);if(d.min===d.max&&A===0)C=d.span=[d.min,d.max],d.density=[{v:1,t:C[0]}],d.bandwidth=A,g=Math.max(g,1);else{var x=C[1]-C[0],E=Math.ceil(x/(A/3)),M=x/E;if(!isFinite(M)||!isFinite(E))return y.error("Something went wrong with computing the violin span"),u[0].t.empty=!0,u;var f=S.makeKDE(d,n,w);d.density=new Array(E);for(var P=0,T=C[0];T<C[1]+M/2;P++,T+=M){var z=f(T);d.density[P]={v:z,t:T},g=Math.max(g,z)}}c=Math.max(c,w.length),m=Math.min(m,C[0]),h=Math.max(h,C[1])}var _=L.findExtremes(l,[m,h],{padded:!0});if(n._extremes[l._id]=_,n.width)u[0].t.maxKDE=g;else{var V=s._violinScaleGroupStats,F=n.scalegroup,N=V[F];N?(N.maxKDE=Math.max(N.maxKDE,g),N.maxCount=Math.max(N.maxCount,c)):V[F]={maxKDE:g,maxCount:c}}return u[0].t.labels.kde=y._(a,"kde:"),u};function v(t,a,n){var u=Math.min(a,n/1.349);return 1.059*u*Math.pow(t,-.2)}function p(t,a,n){var u=a.max-a.min;if(!u)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,u/1e4);var s=n.length,l=y.stdev(n,s-1,a.mean);return Math.max(v(s,l,a.q3-a.q1),u/100)}function r(t,a,n,u){var s=t.spanmode,l=t.span||[],m=[a.min,a.max],h=[a.min-2*u,a.max+2*u],g;function c(d){var w=l[d],A=n.type==="multicategory"?n.r2c(w):n.d2c(w,0,t[a.valLetter+"calendar"]);return A===b?h[d]:A}s==="soft"?g=h:s==="hard"?g=m:g=[c(0),c(1)];var o={type:"linear",range:g};return L.setConvert(o),o.cleanRange(),g}},14348:function(U,B,e){var y=e(96404).setPositionOffset,L=["v","h"];U.exports=function(S,b){for(var v=S.calcdata,p=b.xaxis,r=b.yaxis,t=0;t<L.length;t++){for(var a=L[t],n=a==="h"?r:p,u=[],s=0;s<v.length;s++){var l=v[s],m=l[0].t,h=l[0].trace;h.visible===!0&&h.type==="violin"&&!m.empty&&h.orientation===a&&h.xaxis===p._id&&h.yaxis===r._id&&u.push(s)}y("violin",S,u,n)}}},36240:function(U,B,e){var y=e(3400),L=e(76308),i=e(90624),S=e(13988);U.exports=function(v,p,r,t){function a(M,f){return y.coerce(v,p,S,M,f)}function n(M,f){return y.coerce2(v,p,S,M,f)}if(i.handleSampleDefaults(v,p,a,t),p.visible!==!1){a("bandwidth"),a("side");var u=a("width");u||(a("scalegroup",p.name),a("scalemode"));var s=a("span"),l;Array.isArray(s)&&(l="manual"),a("spanmode",l);var m=a("line.color",(v.marker||{}).color||r),h=a("line.width"),g=a("fillcolor",L.addOpacity(p.line.color,.5));i.handlePointsDefaults(v,p,a,{prefix:""});var c=n("box.width"),o=n("box.fillcolor",g),d=n("box.line.color",m),w=n("box.line.width",h),A=a("box.visible",!!(c||o||d||w));A||(p.box={visible:!1});var C=n("meanline.color",m),x=n("meanline.width",h),E=a("meanline.visible",!!(C||x));E||(p.meanline={visible:!1}),a("quartilemethod")}}},63800:function(U,B,e){var y=e(3400),L={gaussian:function(i){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*i*i)}};B.makeKDE=function(i,S,b){var v=b.length,p=L.gaussian,r=i.bandwidth,t=1/(v*r);return function(a){for(var n=0,u=0;u<v;u++)n+=p((a-b[u])/r);return t*n}},B.getPositionOnKdePath=function(i,S,b){var v,p;S.orientation==="h"?(v="y",p="x"):(v="x",p="y");var r=y.findPointOnPath(i.path,b,p,{pathLength:i.pathLength}),t=i.posCenterPx,a=r[v],n=S.side==="both"?2*t-a:t;return[a,n]},B.getKdeValue=function(i,S,b){var v=i.pts.map(B.extractVal),p=B.makeKDE(i,S,v);return p(b)/i.posDensityScale},B.extractVal=function(i){return i.v}},78e3:function(U,B,e){var y=e(76308),L=e(3400),i=e(54460),S=e(27576),b=e(63800);U.exports=function(p,r,t,a,n){n||(n={});var u=n.hoverLayer,s=p.cd,l=s[0].trace,m=l.hoveron,h=m.indexOf("violins")!==-1,g=m.indexOf("kde")!==-1,c=[],o,d;if(h||g){var w=S.hoverOnBoxes(p,r,t,a);if(g&&w.length>0){var A=p.xa,C=p.ya,x,E,M,f,P;l.orientation==="h"?(P=r,x="y",M=C,E="x",f=A):(P=t,x="x",M=A,E="y",f=C);var T=s[p.index];if(P>=T.span[0]&&P<=T.span[1]){var z=L.extendFlat({},p),_=f.c2p(P,!0),V=b.getKdeValue(T,l,P),F=b.getPositionOnKdePath(T,l,_),N=M._offset,k=M._length;z[x+"0"]=F[0],z[x+"1"]=F[1],z[E+"0"]=z[E+"1"]=_,z[E+"Label"]=E+": "+i.hoverLabelText(f,P,l[E+"hoverformat"])+", "+s[0].t.labels.kde+" "+V.toFixed(3);for(var I=0,H=0;H<w.length;H++)if(w[H].attr==="med"){I=H;break}z.spikeDistance=w[I].spikeDistance;var j=x+"Spike";z[j]=w[I][j],w[I].spikeDistance=void 0,w[I][j]=void 0,z.hovertemplate=!1,c.push(z),d={},d[x+"1"]=L.constrain(N+F[0],N,N+k),d[x+"2"]=L.constrain(N+F[1],N,N+k),d[E+"1"]=d[E+"2"]=f._offset+_}}h&&(c=c.concat(w))}m.indexOf("points")!==-1&&(o=S.hoverOnPoints(p,r,t));var ee=u.selectAll(".violinline-"+l.uid).data(d?[0]:[]);return ee.enter().append("line").classed("violinline-"+l.uid,!0).attr("stroke-width",1.5),ee.exit().remove(),ee.attr(d).call(y.stroke,p.color),a==="closest"?o?[o]:c:(o&&c.push(o),c)}},22869:function(U,B,e){U.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(U,B,e){var y=e(16560),L=e(3400).extendFlat;U.exports={violinmode:L({},y.boxmode,{}),violingap:L({},y.boxgap,{}),violingroupgap:L({},y.boxgroupgap,{})}},8939:function(U,B,e){var y=e(3400),L=e(98228),i=e(68832);U.exports=function(b,v,p){function r(t,a){return y.coerce(b,v,L,t,a)}i._supply(b,v,p,r,"violin")}},5140:function(U,B,e){var y=e(33428),L=e(3400),i=e(43616),S=e(18728),b=e(52340),v=e(63800);U.exports=function(r,t,a,n){var u=r._context.staticPlot,s=r._fullLayout,l=t.xaxis,m=t.yaxis;function h(g,c){var o=b(g,{xaxis:l,yaxis:m,trace:c,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return i.smoothopen(o[0],1)}L.makeTraceGroups(n,a,"trace violins").each(function(g){var c=y.select(this),o=g[0],d=o.t,w=o.trace;if(w.visible!==!0||d.empty){c.remove();return}var A=d.bPos,C=d.bdPos,x=t[d.valLetter+"axis"],E=t[d.posLetter+"axis"],M=w.side==="both",f=M||w.side==="positive",P=M||w.side==="negative",T=c.selectAll("path.violin").data(L.identity);T.enter().append("path").style("vector-effect",u?"none":"non-scaling-stroke").attr("class","violin"),T.exit().remove(),T.each(function(H){var j=y.select(this),ee=H.density,te=ee.length,ne=E.c2l(H.pos+A,!0),ue=E.l2p(ne),q;if(w.width)q=d.maxKDE/C;else{var Y=s._violinScaleGroupStats[w.scalegroup];q=w.scalemode==="count"?Y.maxKDE/C*(Y.maxCount/H.pts.length):Y.maxKDE/C}var Z,G,K,oe,$,J,se;if(f){for(J=new Array(te),oe=0;oe<te;oe++)se=J[oe]={},se[d.posLetter]=ne+ee[oe].v/q,se[d.valLetter]=x.c2l(ee[oe].t,!0);Z=h(J,w)}if(P){for(J=new Array(te),$=0,oe=te-1;$<te;$++,oe--)se=J[$]={},se[d.posLetter]=ne-ee[oe].v/q,se[d.valLetter]=x.c2l(ee[oe].t,!0);G=h(J,w)}if(M)K=Z+"L"+G.substr(1)+"Z";else{var ie=[ue,x.c2p(ee[0].t)],ce=[ue,x.c2p(ee[te-1].t)];w.orientation==="h"&&(ie.reverse(),ce.reverse()),f?K="M"+ie+"L"+Z.substr(1)+"L"+ce:K="M"+ce+"L"+G.substr(1)+"L"+ie}j.attr("d",K),H.posCenterPx=ue,H.posDensityScale=q*C,H.path=j.node(),H.pathLength=H.path.getTotalLength()/(M?2:1)});var z=w.box,_=z.width,V=(z.line||{}).width,F,N;M?(F=C*_,N=0):f?(F=[0,C*_/2],N=V*{x:1,y:-1}[d.posLetter]):(F=[C*_/2,0],N=V*{x:-1,y:1}[d.posLetter]),S.plotBoxAndWhiskers(c,{pos:E,val:x},w,{bPos:A,bdPos:F,bPosPxOffset:N}),S.plotBoxMean(c,{pos:E,val:x},w,{bPos:A,bdPos:F,bPosPxOffset:N});var k;!w.box.visible&&w.meanline.visible&&(k=L.identity);var I=c.selectAll("path.meanline").data(k||[]);I.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",u?"none":"non-scaling-stroke"),I.exit().remove(),I.each(function(H){var j=x.c2p(H.mean,!0),ee=v.getPositionOnKdePath(H,w,j);y.select(this).attr("d",w.orientation==="h"?"M"+j+","+ee[0]+"V"+ee[1]:"M"+ee[0]+","+j+"H"+ee[1])}),S.plotPoints(c,{x:l,y:m},w,d)})}},95908:function(U,B,e){var y=e(33428),L=e(76308),i=e(49224).stylePoints;U.exports=function(b){var v=y.select(b).selectAll("g.trace.violins");v.style("opacity",function(p){return p[0].trace.opacity}),v.each(function(p){var r=p[0].trace,t=y.select(this),a=r.box||{},n=a.line||{},u=r.meanline||{},s=u.width;t.selectAll("path.violin").style("stroke-width",r.line.width+"px").call(L.stroke,r.line.color).call(L.fill,r.fillcolor),t.selectAll("path.box").style("stroke-width",n.width+"px").call(L.stroke,n.color).call(L.fill,a.fillcolor);var l={"stroke-width":s+"px","stroke-dasharray":2*s+"px,"+s+"px"};t.selectAll("path.mean").style(l).call(L.stroke,u.color),t.selectAll("path.meanline").style(l).call(L.stroke,u.color),i(t,r,b)})}},58168:function(U,B,e){var y=e(49084),L=e(50048),i=e(16716),S=e(45464),b=e(92880).extendFlat,v=e(67824).overrideAll,p=U.exports=v(b({x:L.x,y:L.y,z:L.z,value:L.value,isomin:L.isomin,isomax:L.isomax,surface:L.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:L.slices,caps:L.caps,text:L.text,hovertext:L.hovertext,xhoverformat:L.xhoverformat,yhoverformat:L.yhoverformat,zhoverformat:L.zhoverformat,valuehoverformat:L.valuehoverformat,hovertemplate:L.hovertemplate},y("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:L.colorbar,opacity:L.opacity,opacityscale:i.opacityscale,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:b({},S.hoverinfo),showlegend:b({},S.showlegend,{dflt:!1})}),"calc","nested");p.x.editType=p.y.editType=p.z.editType=p.value.editType="calc+clearAxisTypes",p.transforms=void 0},91976:function(U,B,e){var y=e(67792).gl_mesh3d,L=e(33040).parseColorScale,i=e(3400).isArrayOrTypedArray,S=e(43080),b=e(8932).extractOpts,v=e(52094),p=e(31460).findNearestOnAxis,r=e(31460).generateIsoMeshes;function t(u,s,l){this.scene=u,this.uid=l,this.mesh=s,this.name="",this.data=null,this.showContour=!1}var a=t.prototype;a.handlePick=function(u){if(u.object===this.mesh){var s=u.data.index,l=this.data._meshX[s],m=this.data._meshY[s],h=this.data._meshZ[s],g=this.data._Ys.length,c=this.data._Zs.length,o=p(l,this.data._Xs).id,d=p(m,this.data._Ys).id,w=p(h,this.data._Zs).id,A=u.index=w+c*d+c*g*o;u.traceCoordinate=[this.data._meshX[A],this.data._meshY[A],this.data._meshZ[A],this.data._value[A]];var C=this.data.hovertext||this.data.text;return i(C)&&C[A]!==void 0?u.textLabel=C[A]:C&&(u.textLabel=C),!0}},a.update=function(u){var s=this.scene,l=s.fullSceneLayout;this.data=r(u);function m(d,w,A,C){return w.map(function(x){return d.d2l(x,0,C)*A})}var h=v(m(l.xaxis,u._meshX,s.dataScale[0],u.xcalendar),m(l.yaxis,u._meshY,s.dataScale[1],u.ycalendar),m(l.zaxis,u._meshZ,s.dataScale[2],u.zcalendar)),g=v(u._meshI,u._meshJ,u._meshK),c={positions:h,cells:g,lightPosition:[u.lightposition.x,u.lightposition.y,u.lightposition.z],ambient:u.lighting.ambient,diffuse:u.lighting.diffuse,specular:u.lighting.specular,roughness:u.lighting.roughness,fresnel:u.lighting.fresnel,vertexNormalsEpsilon:u.lighting.vertexnormalsepsilon,faceNormalsEpsilon:u.lighting.facenormalsepsilon,opacity:u.opacity,opacityscale:u.opacityscale,contourEnable:u.contour.show,contourColor:S(u.contour.color).slice(0,3),contourWidth:u.contour.width,useFacetNormals:u.flatshading},o=b(u);c.vertexIntensity=u._meshIntensity,c.vertexIntensityBounds=[o.min,o.max],c.colormap=L(u),this.mesh.update(c)},a.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function n(u,s){var l=u.glplot.gl,m=y({gl:l}),h=new t(u,m,s.uid);return m._trace=h,h.update(s),u.glplot.add(m),h}U.exports=n},12448:function(U,B,e){var y=e(3400),L=e(58168),i=e(70548).supplyIsoDefaults,S=e(60192).opacityscaleDefaults;U.exports=function(v,p,r,t){function a(n,u){return y.coerce(v,p,L,n,u)}i(v,p,r,t,a),S(v,p,t,a)}},67776:function(U,B,e){U.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(U,B,e){var y=e(20832),L=e(52904).line,i=e(45464),S=e(29736).axisHoverFormat,b=e(21776).Ks,v=e(21776).Gw,p=e(10213),r=e(92880).extendFlat,t=e(76308);function a(n){return{marker:{color:r({},y.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},y.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},y.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}U.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:y.x,x0:y.x0,dx:y.dx,y:y.y,y0:y.y0,dy:y.dy,xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),hovertext:y.hovertext,hovertemplate:b({},{keys:p.eventDataKeys}),hoverinfo:r({},i.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label"])}),text:y.text,textposition:y.textposition,insidetextanchor:y.insidetextanchor,textangle:y.textangle,textfont:y.textfont,insidetextfont:y.insidetextfont,outsidetextfont:y.outsidetextfont,constraintext:y.constraintext,cliponaxis:y.cliponaxis,orientation:y.orientation,offset:y.offset,width:y.width,increasing:a(),decreasing:a(),totals:a(),connector:{line:{color:r({},L.color,{dflt:t.defaultLine}),width:r({},L.width,{editType:"plot"}),dash:L.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup}},73540:function(U,B,e){var y=e(54460),L=e(1220),i=e(3400).mergeArray,S=e(4500),b=e(39032).BADNUM;function v(r){return r==="a"||r==="absolute"}function p(r){return r==="t"||r==="total"}U.exports=function(t,a){var n=y.getFromId(t,a.xaxis||"x"),u=y.getFromId(t,a.yaxis||"y"),s,l,m,h,g,c;a.orientation==="h"?(s=n.makeCalcdata(a,"x"),m=u.makeCalcdata(a,"y"),h=L(a,u,"y",m),g=!!a.yperiodalignment,c="y"):(s=u.makeCalcdata(a,"y"),m=n.makeCalcdata(a,"x"),h=L(a,n,"x",m),g=!!a.xperiodalignment,c="x"),l=h.vals;for(var o=Math.min(l.length,s.length),d=new Array(o),w=0,A,C=!1,x=0;x<o;x++){var E=s[x]||0,M=!1;(s[x]!==b||p(a.measure[x])||v(a.measure[x]))&&x+1<o&&(s[x+1]!==b||p(a.measure[x+1])||v(a.measure[x+1]))&&(M=!0);var f=d[x]={i:x,p:l[x],s:E,rawS:E,cNext:M};v(a.measure[x])?(w=f.s,f.isSum=!0,f.dir="totals",f.s=w):p(a.measure[x])?(f.isSum=!0,f.dir="totals",f.s=w):(f.isSum=!1,f.dir=f.rawS<0?"decreasing":"increasing",A=f.s,f.s=w+A,w+=A),f.dir==="totals"&&(C=!0),g&&(d[x].orig_p=m[x],d[x][c+"End"]=h.ends[x],d[x][c+"Start"]=h.starts[x]),a.ids&&(f.id=String(a.ids[x])),f.v=(a.base||0)+w}return d.length&&(d[0].hasTotals=C),i(a.text,d,"tx"),i(a.hovertext,d,"htx"),S(d,a),d}},10213:function(U){U.exports={eventDataKeys:["initial","delta","final"]}},50152:function(U,B,e){var y=e(96376).setGroupPositions;U.exports=function(i,S){var b=i._fullLayout,v=i._fullData,p=i.calcdata,r=S.xaxis,t=S.yaxis,a=[],n=[],u=[],s,l;for(l=0;l<v.length;l++){var m=v[l];m.visible===!0&&m.xaxis===r._id&&m.yaxis===t._id&&m.type==="waterfall"&&(s=p[l],m.orientation==="h"?u.push(s):n.push(s),a.push(s))}var h={mode:b.waterfallmode,norm:b.waterfallnorm,gap:b.waterfallgap,groupgap:b.waterfallgroupgap};for(y(i,r,t,n,h),y(i,t,r,u,h),l=0;l<a.length;l++){s=a[l];for(var g=0;g<s.length;g++){var c=s[g];c.isSum===!1&&(c.s0+=g===0?0:s[g-1].s),g+1<s.length&&(s[g].nextP0=s[g+1].p0,s[g].nextS0=s[g+1].s0)}}}},24224:function(U,B,e){var y=e(3400),L=e(20011),i=e(31508).handleText,S=e(43980),b=e(31147),v=e(65776),p=e(76308),r=e(48164),t=r.INCREASING.COLOR,a=r.DECREASING.COLOR,n="#4499FF";function u(m,h,g){m(h+".marker.color",g),m(h+".marker.line.color",p.defaultLine),m(h+".marker.line.width")}function s(m,h,g,c){function o(x,E){return y.coerce(m,h,v,x,E)}var d=S(m,h,c,o);if(!d){h.visible=!1;return}b(m,h,c,o),o("xhoverformat"),o("yhoverformat"),o("measure"),o("orientation",h.x&&!h.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var w=o("textposition");i(m,h,c,o,w,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h.textposition!=="none"&&(o("texttemplate"),h.texttemplate||o("textinfo")),u(o,"increasing",t),u(o,"decreasing",a),u(o,"totals",n);var A=o("connector.visible");if(A){o("connector.mode");var C=o("connector.line.width");C&&(o("connector.line.color"),o("connector.line.dash"))}}function l(m,h){var g,c;function o(w){return y.coerce(c._input,c,v,w)}if(h.waterfallmode==="group")for(var d=0;d<m.length;d++)c=m[d],g=c._input,L(g,c,h,o)}U.exports={supplyDefaults:s,crossTraceDefaults:l}},53256:function(U){U.exports=function(e,y){return e.x="xVal"in y?y.xVal:y.x,e.y="yVal"in y?y.yVal:y.y,"initial"in y&&(e.initial=y.initial),"delta"in y&&(e.delta=y.delta),"final"in y&&(e.final=y.final),y.xa&&(e.xaxis=y.xa),y.ya&&(e.yaxis=y.ya),e}},94196:function(U,B,e){var y=e(54460).hoverLabelText,L=e(76308).opacity,i=e(63400).hoverOnBars,S=e(48164),b={increasing:S.INCREASING.SYMBOL,decreasing:S.DECREASING.SYMBOL};U.exports=function(r,t,a,n,u){var s=i(r,t,a,n,u);if(!s)return;var l=s.cd,m=l[0].trace,h=m.orientation==="h",g=h?"x":"y",c=h?r.xa:r.ya;function o(T){return y(c,T,m[g+"hoverformat"])}var d=s.index,w=l[d],A=w.isSum?w.b+w.s:w.rawS;s.initial=w.b+w.s-A,s.delta=A,s.final=s.initial+s.delta;var C=o(Math.abs(s.delta));s.deltaLabel=A<0?"("+C+")":C,s.finalLabel=o(s.final),s.initialLabel=o(s.initial);var x=w.hi||m.hoverinfo,E=[];if(x&&x!=="none"&&x!=="skip"){var M=x==="all",f=x.split("+"),P=function(T){return M||f.indexOf(T)!==-1};w.isSum||(P("final")&&(h?!P("x"):!P("y"))&&E.push(s.finalLabel),P("delta")&&(A<0?E.push(s.deltaLabel+" "+b.decreasing):E.push(s.deltaLabel+" "+b.increasing)),P("initial")&&E.push("Initial: "+s.initialLabel))}return E.length&&(s.extraText=E.join("<br>")),s.color=v(m,w),[s]};function v(p,r){var t=p[r.dir].marker,a=t.color,n=t.line.color,u=t.line.width;if(L(a))return a;if(L(n)&&u)return n}},95952:function(U,B,e){U.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(U){U.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(U,B,e){var y=e(3400),L=e(91352);U.exports=function(i,S,b){var v=!1;function p(a,n){return y.coerce(i,S,L,a,n)}for(var r=0;r<b.length;r++){var t=b[r];if(t.visible&&t.type==="waterfall"){v=!0;break}}v&&(p("waterfallmode"),p("waterfallgap",.2),p("waterfallgroupgap"))}},64488:function(U,B,e){var y=e(33428),L=e(3400),i=e(43616),S=e(39032).BADNUM,b=e(98184),v=e(82744).clearMinTextSize;U.exports=function(a,n,u,s){var l=a._fullLayout;v("waterfall",l),b.plot(a,n,u,s,{mode:l.waterfallmode,norm:l.waterfallmode,gap:l.waterfallgap,groupgap:l.waterfallgroupgap}),p(a,n,u,s)};function p(t,a,n,u){var s=a.xaxis,l=a.yaxis;L.makeTraceGroups(u,n,"trace bars").each(function(m){var h=y.select(this),g=m[0].trace,c=L.ensureSingle(h,"g","lines");if(!g.connector||!g.connector.visible){c.remove();return}var o=g.orientation==="h",d=g.connector.mode,w=c.selectAll("g.line").data(L.identity);w.enter().append("g").classed("line",!0),w.exit().remove();var A=w.size();w.each(function(C,x){if(!(x!==A-1&&!C.cNext)){var E=r(C,s,l,o),M=E[0],f=E[1],P="";M[0]!==S&&f[0]!==S&&M[1]!==S&&f[1]!==S&&(d==="spanning"&&!C.isSum&&x>0&&(o?P+="M"+M[0]+","+f[1]+"V"+f[0]:P+="M"+M[1]+","+f[0]+"H"+M[0]),d!=="between"&&(C.isSum||x<A-1)&&(o?P+="M"+M[1]+","+f[0]+"V"+f[1]:P+="M"+M[0]+","+f[1]+"H"+M[1]),M[2]!==S&&f[2]!==S&&(o?P+="M"+M[1]+","+f[1]+"V"+f[2]:P+="M"+M[1]+","+f[1]+"H"+M[2])),P===""&&(P="M0,0Z"),L.ensureSingle(y.select(this),"path").attr("d",P).call(i.setClipUrl,a.layerClipId,t)}})})}function r(t,a,n,u){var s=[],l=[],m=u?a:n,h=u?n:a;return s[0]=m.c2p(t.s0,!0),l[0]=h.c2p(t.p0,!0),s[1]=m.c2p(t.s1,!0),l[1]=h.c2p(t.p1,!0),s[2]=m.c2p(t.nextS0,!0),l[2]=h.c2p(t.nextP0,!0),u?[s,l]:[l,s]}},12252:function(U,B,e){var y=e(33428),L=e(43616),i=e(76308),S=e(13448).DESELECTDIM,b=e(60100),v=e(82744).resizeText,p=b.styleTextPoints;function r(t,a,n){var u=n||y.select(t).selectAll("g.waterfalllayer").selectAll("g.trace");v(t,u,"waterfall"),u.style("opacity",function(s){return s[0].trace.opacity}),u.each(function(s){var l=y.select(this),m=s[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var g=m[h.dir].marker;y.select(this).call(i.fill,g.color).call(i.stroke,g.line.color).call(L.dashLine,g.line.dash,g.line.width).style("opacity",m.selectedpoints&&!h.selected?S:1)}}),p(l,m,t),l.selectAll(".lines").each(function(){var h=m.connector.line;L.lineGroupStyle(y.select(this).selectAll("path"),h.width,h.color,h.dash)})})}U.exports={style:r}},84224:function(U,B,e){var y=e(54460),L=e(3400),i=e(73060),S=e(60468).W,b=e(39032).BADNUM;B.moduleType="transform",B.name="aggregate";var v=B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},p=v.aggregations;B.supplyDefaults=function(s,l){var m={},h;function g(T,z){return L.coerce(s,m,v,T,z)}var c=g("enabled");if(!c)return m;var o=i.findArrayAttributes(l),d={};for(h=0;h<o.length;h++)d[o[h]]=1;var w=g("groups");if(!Array.isArray(w)){if(!d[w])return m.enabled=!1,m;d[w]=0}var A=s.aggregations||[],C=m.aggregations=new Array(A.length),x;function E(T,z){return L.coerce(A[h],x,p,T,z)}for(h=0;h<A.length;h++){x={_index:h};var M=E("target"),f=E("func"),P=E("enabled");P&&M&&(d[M]||f==="count"&&d[M]===void 0)?(f==="stddev"&&E("funcmode"),d[M]=0,C[h]=x):C[h]={enabled:!1,_index:h}}for(h=0;h<o.length;h++)d[o[h]]&&C.push({target:o[h],func:p.func.dflt,enabled:!0,_index:-1});return m},B.calcTransform=function(s,l,m){if(m.enabled){var h=m.groups,g=L.getTargetArray(l,{target:h});if(g){var c,o,d,w,A={},C={},x=[],E=S(l.transforms,m),M=g.length;for(l._length&&(M=Math.min(M,l._length)),c=0;c<M;c++)o=g[c],d=A[o],d===void 0?(A[o]=x.length,w=[c],x.push(w),C[A[o]]=E(c)):(x[d].push(c),C[A[o]]=(C[A[o]]||[]).concat(E(c)));m._indexToPoints=C;var f=m.aggregations;for(c=0;c<f.length;c++)r(s,l,x,f[c]);typeof h=="string"&&r(s,l,x,{target:h,func:"first",enabled:!0}),l._length=x.length}}};function r(s,l,m,h){if(h.enabled){for(var g=h.target,c=L.nestedProperty(l,g),o=c.get(),d=y.getDataConversions(s,l,g,o),w=t(h,d),A=new Array(m.length),C=0;C<m.length;C++)A[C]=w(o,m[C]);c.set(A),h.func==="count"&&L.pushUnique(l._arrayAttrs,g)}}function t(s,l){var m=s.func,h=l.d2c,g=l.c2d;switch(m){case"count":return a;case"first":return n;case"last":return u;case"sum":return function(c,o){for(var d=0,w=0;w<o.length;w++){var A=h(c[o[w]]);A!==b&&(d+=A)}return g(d)};case"avg":return function(c,o){for(var d=0,w=0,A=0;A<o.length;A++){var C=h(c[o[A]]);C!==b&&(d+=C,w++)}return w?g(d/w):b};case"min":return function(c,o){for(var d=1/0,w=0;w<o.length;w++){var A=h(c[o[w]]);A!==b&&(d=Math.min(d,A))}return d===1/0?b:g(d)};case"max":return function(c,o){for(var d=-1/0,w=0;w<o.length;w++){var A=h(c[o[w]]);A!==b&&(d=Math.max(d,A))}return d===-1/0?b:g(d)};case"range":return function(c,o){for(var d=1/0,w=-1/0,A=0;A<o.length;A++){var C=h(c[o[A]]);C!==b&&(d=Math.min(d,C),w=Math.max(w,C))}return w===-1/0||d===1/0?b:g(w-d)};case"change":return function(c,o){var d=h(c[o[0]]),w=h(c[o[o.length-1]]);return d===b||w===b?b:g(w-d)};case"median":return function(c,o){for(var d=[],w=0;w<o.length;w++){var A=h(c[o[w]]);A!==b&&d.push(A)}if(!d.length)return b;d.sort(L.sorterAsc);var C=(d.length-1)/2;return g((d[Math.floor(C)]+d[Math.ceil(C)])/2)};case"mode":return function(c,o){for(var d={},w=0,A=b,C=0;C<o.length;C++){var x=h(c[o[C]]);if(x!==b){var E=d[x]=(d[x]||0)+1;E>w&&(w=E,A=x)}}return w?g(A):b};case"rms":return function(c,o){for(var d=0,w=0,A=0;A<o.length;A++){var C=h(c[o[A]]);C!==b&&(d+=C*C,w++)}return w?g(Math.sqrt(d/w)):b};case"stddev":return function(c,o){var d=0,w=0,A=1,C=b,x;for(x=0;x<o.length&&C===b;x++)C=h(c[o[x]]);if(C===b)return b;for(;x<o.length;x++){var E=h(c[o[x]]);if(E!==b){var M=E-C;d+=M,w+=M*M,A++}}var f=s.funcmode==="sample"?A-1:A;return f?Math.sqrt((w-d*d/A)/f):0}}}function a(s,l){return l.length}function n(s,l){return s[l[0]]}function u(s,l){return s[l[l.length-1]]}},76744:function(U,B,e){var y=e(3400),L=e(24040),i=e(54460),S=e(60468).W,b=e(69104),v=b.COMPARISON_OPS,p=b.INTERVAL_OPS,r=b.SET_OPS;B.moduleType="transform",B.name="filter",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(p).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},B.supplyDefaults=function(a){var n={};function u(h,g){return y.coerce(a,n,B.attributes,h,g)}var s=u("enabled");if(s){var l=u("target");if(y.isArrayOrTypedArray(l)&&l.length===0)return n.enabled=!1,n;u("preservegaps"),u("operation"),u("value");var m=L.getComponentMethod("calendars","handleDefaults");m(a,n,"valuecalendar",null),m(a,n,"targetcalendar",null)}return n},B.calcTransform=function(a,n,u){if(!u.enabled)return;var s=y.getTargetArray(n,u);if(!s)return;var l=u.target,m=s.length;n._length&&(m=Math.min(m,n._length));var h=u.targetcalendar,g=n._arrayAttrs,c=u.preservegaps;if(typeof l=="string"){var o=y.nestedProperty(n,l+"calendar").get();o&&(h=o)}var d=i.getDataToCoordFunc(a,n,l,s),w=t(u,d,h),A={},C={},x=0;function E(_,V){for(var F=0;F<g.length;F++){var N=y.nestedProperty(n,g[F]);_(N,V)}}var M,f;c?(M=function(_){A[_.astr]=y.extendDeep([],_.get()),_.set(new Array(m))},f=function(_,V){var F=A[_.astr][V];_.get()[V]=F}):(M=function(_){A[_.astr]=y.extendDeep([],_.get()),_.set([])},f=function(_,V){var F=A[_.astr][V];_.get().push(F)}),E(M);for(var P=S(n.transforms,u),T=0;T<m;T++){var z=w(s[T]);z?(E(f,T),C[x++]=P(T)):c&&x++}u._indexToPoints=C,n._length=x};function t(a,n,u){var s=a.operation,l=a.value,m=y.isArrayOrTypedArray(l);function h(d){return d.indexOf(s)!==-1}var g=function(d){return n(d,0,a.valuecalendar)},c=function(d){return n(d,0,u)},o;switch(h(v)?o=g(m?l[0]:l):h(p)?o=m?[g(l[0]),g(l[1])]:[g(l),g(l)]:h(r)&&(o=m?l.map(g):[g(l)]),s){case"=":return function(d){return c(d)===o};case"!=":return function(d){return c(d)!==o};case"<":return function(d){return c(d)<o};case"<=":return function(d){return c(d)<=o};case">":return function(d){return c(d)>o};case">=":return function(d){return c(d)>=o};case"[]":return function(d){var w=c(d);return w>=o[0]&&w<=o[1]};case"()":return function(d){var w=c(d);return w>o[0]&&w<o[1]};case"[)":return function(d){var w=c(d);return w>=o[0]&&w<o[1]};case"(]":return function(d){var w=c(d);return w>o[0]&&w<=o[1]};case"][":return function(d){var w=c(d);return w<=o[0]||w>=o[1]};case")(":return function(d){var w=c(d);return w<o[0]||w>o[1]};case"](":return function(d){var w=c(d);return w<=o[0]||w>o[1]};case")[":return function(d){var w=c(d);return w<o[0]||w>=o[1]};case"{}":return function(d){return o.indexOf(c(d))!==-1};case"}{":return function(d){return o.indexOf(c(d))===-1}}}},32028:function(U,B,e){var y=e(3400),L=e(73060),i=e(7316),S=e(60468).W;B.moduleType="transform",B.name="groupby",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},B.supplyDefaults=function(v,p,r){var t,a={};function n(g,c){return y.coerce(v,a,B.attributes,g,c)}var u=n("enabled");if(!u)return a;n("groups"),n("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var s=v.styles,l=a.styles=[];if(s)for(t=0;t<s.length;t++){var m=l[t]={};y.coerce(s[t],l[t],B.attributes.styles,"target");var h=y.coerce(s[t],l[t],B.attributes.styles,"value");y.isPlainObject(h)?m.value=y.extendDeep({},h):h&&delete m.value}return a},B.transform=function(v,p){var r,t,a,n=[];for(t=0;t<v.length;t++)for(r=b(v[t],p),a=0;a<r.length;a++)n.push(r[a]);return n};function b(v,p){var r,t,a,n,u,s,l,m,h,g,c=p.transform,o=p.transformIndex,d=v.transforms[o].groups,w=S(v.transforms,c);if(!y.isArrayOrTypedArray(d)||d.length===0)return[v];var A=y.filterUnique(d),C=new Array(A.length),x=d.length,E=L.findArrayAttributes(v),M=c.styles||[],f={};for(r=0;r<M.length;r++)f[M[r].target]=M[r].value;c.styles&&(g=y.keyedContainer(c,"styles","target","value.name"));var P={},T={};for(r=0;r<A.length;r++){s=A[r],P[s]=r,T[s]=0,l=C[r]=y.extendDeepNoArrays({},v),l._group=s,l.transforms[o]._indexToPoints={};var z=null;for(g&&(z=g.get(s)),z||z===""?l.name=z:l.name=y.templateString(c.nameformat,{trace:v.name,group:s}),m=l.transforms,l.transforms=[],t=0;t<m.length;t++)l.transforms[t]=y.extendDeepNoArrays({},m[t]);for(t=0;t<E.length;t++)y.nestedProperty(l,E[t]).set([])}for(a=0;a<E.length;a++){for(n=E[a],t=0,h=[];t<A.length;t++)h[t]=y.nestedProperty(C[t],n).get();for(u=y.nestedProperty(v,n).get(),t=0;t<x;t++)h[P[d[t]]].push(u[t])}for(t=0;t<x;t++){l=C[P[d[t]]];var _=l.transforms[o]._indexToPoints;_[T[d[t]]]=w(t),T[d[t]]++}for(r=0;r<A.length;r++)s=A[r],l=C[r],i.clearExpandedTraceDefaultColors(l),l=y.extendDeepNoArrays(l,f[s]||{});return C}},60468:function(U,B){B.W=function(e,y){for(var L,i,S=0;S<e.length&&(L=e[S],L!==y);S++)!L._indexToPoints||L.enabled===!1||(i=L._indexToPoints);var b=i?function(v){return i[v]}:function(v){return[v]};return b}},76272:function(U,B,e){var y=e(3400),L=e(54460),i=e(60468).W,S=e(39032).BADNUM;B.moduleType="transform",B.name="sort",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},B.supplyDefaults=function(p){var r={};function t(n,u){return y.coerce(p,r,B.attributes,n,u)}var a=t("enabled");return a&&(t("target"),t("order")),r},B.calcTransform=function(p,r,t){if(t.enabled){var a=y.getTargetArray(r,t);if(a){var n=t.target,u=a.length;r._length&&(u=Math.min(u,r._length));var s=r._arrayAttrs,l=L.getDataToCoordFunc(p,r,n,a),m=b(t,a,l,u),h=i(r.transforms,t),g={},c,o;for(c=0;c<s.length;c++){var d=y.nestedProperty(r,s[c]),w=d.get(),A=new Array(u);for(o=0;o<u;o++)A[o]=w[m[o]];d.set(A)}for(o=0;o<u;o++)g[o]=h(m[o]);t._indexToPoints=g,r._length=u}}};function b(p,r,t,a){var n=new Array(a),u=new Array(a),s;for(s=0;s<a;s++)n[s]={v:r[s],i:s};for(n.sort(v(p,t)),s=0;s<a;s++)u[s]=n[s].i;return u}function v(p,r){switch(p.order){case"ascending":return function(t,a){var n=r(t.v),u=r(a.v);return n===S?1:u===S?-1:n-u};case"descending":return function(t,a){var n=r(t.v),u=r(a.v);return n===S?1:u===S?-1:u-n}}}},25788:function(U,B){B.version="2.30.1"},67792:function(U,B,e){var y=e(4168);(function(i,S){U.exports=S()})(self,function(){return function(){var L={7386:function(v,p,r){v.exports={alpha_shape:r(2350),convex_hull:r(5537),delaunay_triangulate:r(4419),gl_cone3d:r(1140),gl_error3d:r(3110),gl_heatmap2d:r(6386),gl_line3d:r(6086),gl_mesh3d:r(8116),gl_plot2d:r(2117),gl_plot3d:r(1059),gl_pointcloud2d:r(8271),gl_scatter3d:r(2182),gl_select_box:r(6623),gl_spikes2d:r(3050),gl_streamtube3d:r(7307),gl_surface3d:r(3754),ndarray:r(5050),ndarray_linear_interpolate:r(3581)}},2146:function(v,p,r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function t(be,me){if(!(be instanceof me))throw new TypeError("Cannot call a class as a function")}function a(be,me){for(var Ce=0;Ce<me.length;Ce++){var Me=me[Ce];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(be,Me.key,Me)}}function n(be,me,Ce){return me&&a(be.prototype,me),Ce&&a(be,Ce),Object.defineProperty(be,"prototype",{writable:!1}),be}function u(be,me){if(typeof me!="function"&&me!==null)throw new TypeError("Super expression must either be null or a function");be.prototype=Object.create(me&&me.prototype,{constructor:{value:be,writable:!0,configurable:!0}}),Object.defineProperty(be,"prototype",{writable:!1}),me&&s(be,me)}function s(be,me){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Me,Ne){return Me.__proto__=Ne,Me},s(be,me)}function l(be){var me=g();return function(){var Me=c(be),Ne;if(me){var je=c(this).constructor;Ne=Reflect.construct(Me,arguments,je)}else Ne=Me.apply(this,arguments);return m(this,Ne)}}function m(be,me){if(me&&(o(me)==="object"||typeof me=="function"))return me;if(me!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(be)}function h(be){if(be===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return be}function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c(be){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ce){return Ce.__proto__||Object.getPrototypeOf(Ce)},c(be)}function o(be){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(me){return typeof me}:function(me){return me&&typeof Symbol=="function"&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me},o(be)}var d=r(3910),w=r(3187),A=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;p.lW=M,p.h2=50;var C=2147483647;M.TYPED_ARRAY_SUPPORT=x(),!M.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function x(){try{var be=new Uint8Array(1),me={foo:function(){return 42}};return Object.setPrototypeOf(me,Uint8Array.prototype),Object.setPrototypeOf(be,me),be.foo()===42}catch{return!1}}Object.defineProperty(M.prototype,"parent",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.buffer}}),Object.defineProperty(M.prototype,"offset",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.byteOffset}});function E(be){if(be>C)throw new RangeError('The value "'+be+'" is invalid for option "size"');var me=new Uint8Array(be);return Object.setPrototypeOf(me,M.prototype),me}function M(be,me,Ce){if(typeof be=="number"){if(typeof me=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return z(be)}return f(be,me,Ce)}M.poolSize=8192;function f(be,me,Ce){if(typeof be=="string")return _(be,me);if(ArrayBuffer.isView(be))return F(be);if(be==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(be));if(Oe(be,ArrayBuffer)||be&&Oe(be.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Oe(be,SharedArrayBuffer)||be&&Oe(be.buffer,SharedArrayBuffer)))return N(be,me,Ce);if(typeof be=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Me=be.valueOf&&be.valueOf();if(Me!=null&&Me!==be)return M.from(Me,me,Ce);var Ne=k(be);if(Ne)return Ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof be[Symbol.toPrimitive]=="function")return M.from(be[Symbol.toPrimitive]("string"),me,Ce);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(be))}M.from=function(be,me,Ce){return f(be,me,Ce)},Object.setPrototypeOf(M.prototype,Uint8Array.prototype),Object.setPrototypeOf(M,Uint8Array);function P(be){if(typeof be!="number")throw new TypeError('"size" argument must be of type number');if(be<0)throw new RangeError('The value "'+be+'" is invalid for option "size"')}function T(be,me,Ce){return P(be),be<=0?E(be):me!==void 0?typeof Ce=="string"?E(be).fill(me,Ce):E(be).fill(me):E(be)}M.alloc=function(be,me,Ce){return T(be,me,Ce)};function z(be){return P(be),E(be<0?0:I(be)|0)}M.allocUnsafe=function(be){return z(be)},M.allocUnsafeSlow=function(be){return z(be)};function _(be,me){if((typeof me!="string"||me==="")&&(me="utf8"),!M.isEncoding(me))throw new TypeError("Unknown encoding: "+me);var Ce=H(be,me)|0,Me=E(Ce),Ne=Me.write(be,me);return Ne!==Ce&&(Me=Me.slice(0,Ne)),Me}function V(be){for(var me=be.length<0?0:I(be.length)|0,Ce=E(me),Me=0;Me<me;Me+=1)Ce[Me]=be[Me]&255;return Ce}function F(be){if(Oe(be,Uint8Array)){var me=new Uint8Array(be);return N(me.buffer,me.byteOffset,me.byteLength)}return V(be)}function N(be,me,Ce){if(me<0||be.byteLength<me)throw new RangeError('"offset" is outside of buffer bounds');if(be.byteLength<me+(Ce||0))throw new RangeError('"length" is outside of buffer bounds');var Me;return me===void 0&&Ce===void 0?Me=new Uint8Array(be):Ce===void 0?Me=new Uint8Array(be,me):Me=new Uint8Array(be,me,Ce),Object.setPrototypeOf(Me,M.prototype),Me}function k(be){if(M.isBuffer(be)){var me=I(be.length)|0,Ce=E(me);return Ce.length===0||be.copy(Ce,0,0,me),Ce}if(be.length!==void 0)return typeof be.length!="number"||Ye(be.length)?E(0):V(be);if(be.type==="Buffer"&&Array.isArray(be.data))return V(be.data)}function I(be){if(be>=C)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+C.toString(16)+" bytes");return be|0}M.isBuffer=function(me){return me!=null&&me._isBuffer===!0&&me!==M.prototype},M.compare=function(me,Ce){if(Oe(me,Uint8Array)&&(me=M.from(me,me.offset,me.byteLength)),Oe(Ce,Uint8Array)&&(Ce=M.from(Ce,Ce.offset,Ce.byteLength)),!M.isBuffer(me)||!M.isBuffer(Ce))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(me===Ce)return 0;for(var Me=me.length,Ne=Ce.length,je=0,tt=Math.min(Me,Ne);je<tt;++je)if(me[je]!==Ce[je]){Me=me[je],Ne=Ce[je];break}return Me<Ne?-1:Ne<Me?1:0},M.isEncoding=function(me){switch(String(me).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(me,Ce){if(!Array.isArray(me))throw new TypeError('"list" argument must be an Array of Buffers');if(me.length===0)return M.alloc(0);var Me;if(Ce===void 0)for(Ce=0,Me=0;Me<me.length;++Me)Ce+=me[Me].length;var Ne=M.allocUnsafe(Ce),je=0;for(Me=0;Me<me.length;++Me){var tt=me[Me];if(Oe(tt,Uint8Array))je+tt.length>Ne.length?(M.isBuffer(tt)||(tt=M.from(tt)),tt.copy(Ne,je)):Uint8Array.prototype.set.call(Ne,tt,je);else if(M.isBuffer(tt))tt.copy(Ne,je);else throw new TypeError('"list" argument must be an Array of Buffers');je+=tt.length}return Ne};function H(be,me){if(M.isBuffer(be))return be.length;if(ArrayBuffer.isView(be)||Oe(be,ArrayBuffer))return be.byteLength;if(typeof be!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+o(be));var Ce=be.length,Me=arguments.length>2&&arguments[2]===!0;if(!Me&&Ce===0)return 0;for(var Ne=!1;;)switch(me){case"ascii":case"latin1":case"binary":return Ce;case"utf8":case"utf-8":return ht(be).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ce*2;case"hex":return Ce>>>1;case"base64":return St(be).length;default:if(Ne)return Me?-1:ht(be).length;me=(""+me).toLowerCase(),Ne=!0}}M.byteLength=H;function j(be,me,Ce){var Me=!1;if((me===void 0||me<0)&&(me=0),me>this.length||((Ce===void 0||Ce>this.length)&&(Ce=this.length),Ce<=0)||(Ce>>>=0,me>>>=0,Ce<=me))return"";for(be||(be="utf8");;)switch(be){case"hex":return ce(this,me,Ce);case"utf8":case"utf-8":return oe(this,me,Ce);case"ascii":return se(this,me,Ce);case"latin1":case"binary":return ie(this,me,Ce);case"base64":return K(this,me,Ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,me,Ce);default:if(Me)throw new TypeError("Unknown encoding: "+be);be=(be+"").toLowerCase(),Me=!0}}M.prototype._isBuffer=!0;function ee(be,me,Ce){var Me=be[me];be[me]=be[Ce],be[Ce]=Me}M.prototype.swap16=function(){var me=this.length;if(me%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ce=0;Ce<me;Ce+=2)ee(this,Ce,Ce+1);return this},M.prototype.swap32=function(){var me=this.length;if(me%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ce=0;Ce<me;Ce+=4)ee(this,Ce,Ce+3),ee(this,Ce+1,Ce+2);return this},M.prototype.swap64=function(){var me=this.length;if(me%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ce=0;Ce<me;Ce+=8)ee(this,Ce,Ce+7),ee(this,Ce+1,Ce+6),ee(this,Ce+2,Ce+5),ee(this,Ce+3,Ce+4);return this},M.prototype.toString=function(){var me=this.length;return me===0?"":arguments.length===0?oe(this,0,me):j.apply(this,arguments)},M.prototype.toLocaleString=M.prototype.toString,M.prototype.equals=function(me){if(!M.isBuffer(me))throw new TypeError("Argument must be a Buffer");return this===me?!0:M.compare(this,me)===0},M.prototype.inspect=function(){var me="",Ce=p.h2;return me=this.toString("hex",0,Ce).replace(/(.{2})/g,"$1 ").trim(),this.length>Ce&&(me+=" ... "),"<Buffer "+me+">"},A&&(M.prototype[A]=M.prototype.inspect),M.prototype.compare=function(me,Ce,Me,Ne,je){if(Oe(me,Uint8Array)&&(me=M.from(me,me.offset,me.byteLength)),!M.isBuffer(me))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+o(me));if(Ce===void 0&&(Ce=0),Me===void 0&&(Me=me?me.length:0),Ne===void 0&&(Ne=0),je===void 0&&(je=this.length),Ce<0||Me>me.length||Ne<0||je>this.length)throw new RangeError("out of range index");if(Ne>=je&&Ce>=Me)return 0;if(Ne>=je)return-1;if(Ce>=Me)return 1;if(Ce>>>=0,Me>>>=0,Ne>>>=0,je>>>=0,this===me)return 0;for(var tt=je-Ne,ct=Me-Ce,pt=Math.min(tt,ct),Xt=this.slice(Ne,je),Yt=me.slice(Ce,Me),Tt=0;Tt<pt;++Tt)if(Xt[Tt]!==Yt[Tt]){tt=Xt[Tt],ct=Yt[Tt];break}return tt<ct?-1:ct<tt?1:0};function te(be,me,Ce,Me,Ne){if(be.length===0)return-1;if(typeof Ce=="string"?(Me=Ce,Ce=0):Ce>2147483647?Ce=2147483647:Ce<-2147483648&&(Ce=-2147483648),Ce=+Ce,Ye(Ce)&&(Ce=Ne?0:be.length-1),Ce<0&&(Ce=be.length+Ce),Ce>=be.length){if(Ne)return-1;Ce=be.length-1}else if(Ce<0)if(Ne)Ce=0;else return-1;if(typeof me=="string"&&(me=M.from(me,Me)),M.isBuffer(me))return me.length===0?-1:ne(be,me,Ce,Me,Ne);if(typeof me=="number")return me=me&255,typeof Uint8Array.prototype.indexOf=="function"?Ne?Uint8Array.prototype.indexOf.call(be,me,Ce):Uint8Array.prototype.lastIndexOf.call(be,me,Ce):ne(be,[me],Ce,Me,Ne);throw new TypeError("val must be string, number or Buffer")}function ne(be,me,Ce,Me,Ne){var je=1,tt=be.length,ct=me.length;if(Me!==void 0&&(Me=String(Me).toLowerCase(),Me==="ucs2"||Me==="ucs-2"||Me==="utf16le"||Me==="utf-16le")){if(be.length<2||me.length<2)return-1;je=2,tt/=2,ct/=2,Ce/=2}function pt(Qt,wr){return je===1?Qt[wr]:Qt.readUInt16BE(wr*je)}var Xt;if(Ne){var Yt=-1;for(Xt=Ce;Xt<tt;Xt++)if(pt(be,Xt)===pt(me,Yt===-1?0:Xt-Yt)){if(Yt===-1&&(Yt=Xt),Xt-Yt+1===ct)return Yt*je}else Yt!==-1&&(Xt-=Xt-Yt),Yt=-1}else for(Ce+ct>tt&&(Ce=tt-ct),Xt=Ce;Xt>=0;Xt--){for(var Tt=!0,_t=0;_t<ct;_t++)if(pt(be,Xt+_t)!==pt(me,_t)){Tt=!1;break}if(Tt)return Xt}return-1}M.prototype.includes=function(me,Ce,Me){return this.indexOf(me,Ce,Me)!==-1},M.prototype.indexOf=function(me,Ce,Me){return te(this,me,Ce,Me,!0)},M.prototype.lastIndexOf=function(me,Ce,Me){return te(this,me,Ce,Me,!1)};function ue(be,me,Ce,Me){Ce=Number(Ce)||0;var Ne=be.length-Ce;Me?(Me=Number(Me),Me>Ne&&(Me=Ne)):Me=Ne;var je=me.length;Me>je/2&&(Me=je/2);var tt;for(tt=0;tt<Me;++tt){var ct=parseInt(me.substr(tt*2,2),16);if(Ye(ct))return tt;be[Ce+tt]=ct}return tt}function q(be,me,Ce,Me){return rt(ht(me,be.length-Ce),be,Ce,Me)}function Y(be,me,Ce,Me){return rt(dt(me),be,Ce,Me)}function Z(be,me,Ce,Me){return rt(St(me),be,Ce,Me)}function G(be,me,Ce,Me){return rt(mt(me,be.length-Ce),be,Ce,Me)}M.prototype.write=function(me,Ce,Me,Ne){if(Ce===void 0)Ne="utf8",Me=this.length,Ce=0;else if(Me===void 0&&typeof Ce=="string")Ne=Ce,Me=this.length,Ce=0;else if(isFinite(Ce))Ce=Ce>>>0,isFinite(Me)?(Me=Me>>>0,Ne===void 0&&(Ne="utf8")):(Ne=Me,Me=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var je=this.length-Ce;if((Me===void 0||Me>je)&&(Me=je),me.length>0&&(Me<0||Ce<0)||Ce>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ne||(Ne="utf8");for(var tt=!1;;)switch(Ne){case"hex":return ue(this,me,Ce,Me);case"utf8":case"utf-8":return q(this,me,Ce,Me);case"ascii":case"latin1":case"binary":return Y(this,me,Ce,Me);case"base64":return Z(this,me,Ce,Me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,me,Ce,Me);default:if(tt)throw new TypeError("Unknown encoding: "+Ne);Ne=(""+Ne).toLowerCase(),tt=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function K(be,me,Ce){return me===0&&Ce===be.length?d.fromByteArray(be):d.fromByteArray(be.slice(me,Ce))}function oe(be,me,Ce){Ce=Math.min(be.length,Ce);for(var Me=[],Ne=me;Ne<Ce;){var je=be[Ne],tt=null,ct=je>239?4:je>223?3:je>191?2:1;if(Ne+ct<=Ce){var pt=void 0,Xt=void 0,Yt=void 0,Tt=void 0;switch(ct){case 1:je<128&&(tt=je);break;case 2:pt=be[Ne+1],(pt&192)===128&&(Tt=(je&31)<<6|pt&63,Tt>127&&(tt=Tt));break;case 3:pt=be[Ne+1],Xt=be[Ne+2],(pt&192)===128&&(Xt&192)===128&&(Tt=(je&15)<<12|(pt&63)<<6|Xt&63,Tt>2047&&(Tt<55296||Tt>57343)&&(tt=Tt));break;case 4:pt=be[Ne+1],Xt=be[Ne+2],Yt=be[Ne+3],(pt&192)===128&&(Xt&192)===128&&(Yt&192)===128&&(Tt=(je&15)<<18|(pt&63)<<12|(Xt&63)<<6|Yt&63,Tt>65535&&Tt<1114112&&(tt=Tt))}}tt===null?(tt=65533,ct=1):tt>65535&&(tt-=65536,Me.push(tt>>>10&1023|55296),tt=56320|tt&1023),Me.push(tt),Ne+=ct}return J(Me)}var $=4096;function J(be){var me=be.length;if(me<=$)return String.fromCharCode.apply(String,be);for(var Ce="",Me=0;Me<me;)Ce+=String.fromCharCode.apply(String,be.slice(Me,Me+=$));return Ce}function se(be,me,Ce){var Me="";Ce=Math.min(be.length,Ce);for(var Ne=me;Ne<Ce;++Ne)Me+=String.fromCharCode(be[Ne]&127);return Me}function ie(be,me,Ce){var Me="";Ce=Math.min(be.length,Ce);for(var Ne=me;Ne<Ce;++Ne)Me+=String.fromCharCode(be[Ne]);return Me}function ce(be,me,Ce){var Me=be.length;(!me||me<0)&&(me=0),(!Ce||Ce<0||Ce>Me)&&(Ce=Me);for(var Ne="",je=me;je<Ce;++je)Ne+=Ze[be[je]];return Ne}function ye(be,me,Ce){for(var Me=be.slice(me,Ce),Ne="",je=0;je<Me.length-1;je+=2)Ne+=String.fromCharCode(Me[je]+Me[je+1]*256);return Ne}M.prototype.slice=function(me,Ce){var Me=this.length;me=~~me,Ce=Ce===void 0?Me:~~Ce,me<0?(me+=Me,me<0&&(me=0)):me>Me&&(me=Me),Ce<0?(Ce+=Me,Ce<0&&(Ce=0)):Ce>Me&&(Ce=Me),Ce<me&&(Ce=me);var Ne=this.subarray(me,Ce);return Object.setPrototypeOf(Ne,M.prototype),Ne};function Se(be,me,Ce){if(be%1!==0||be<0)throw new RangeError("offset is not uint");if(be+me>Ce)throw new RangeError("Trying to access beyond buffer length")}M.prototype.readUintLE=M.prototype.readUIntLE=function(me,Ce,Me){me=me>>>0,Ce=Ce>>>0,Me||Se(me,Ce,this.length);for(var Ne=this[me],je=1,tt=0;++tt<Ce&&(je*=256);)Ne+=this[me+tt]*je;return Ne},M.prototype.readUintBE=M.prototype.readUIntBE=function(me,Ce,Me){me=me>>>0,Ce=Ce>>>0,Me||Se(me,Ce,this.length);for(var Ne=this[me+--Ce],je=1;Ce>0&&(je*=256);)Ne+=this[me+--Ce]*je;return Ne},M.prototype.readUint8=M.prototype.readUInt8=function(me,Ce){return me=me>>>0,Ce||Se(me,1,this.length),this[me]},M.prototype.readUint16LE=M.prototype.readUInt16LE=function(me,Ce){return me=me>>>0,Ce||Se(me,2,this.length),this[me]|this[me+1]<<8},M.prototype.readUint16BE=M.prototype.readUInt16BE=function(me,Ce){return me=me>>>0,Ce||Se(me,2,this.length),this[me]<<8|this[me+1]},M.prototype.readUint32LE=M.prototype.readUInt32LE=function(me,Ce){return me=me>>>0,Ce||Se(me,4,this.length),(this[me]|this[me+1]<<8|this[me+2]<<16)+this[me+3]*16777216},M.prototype.readUint32BE=M.prototype.readUInt32BE=function(me,Ce){return me=me>>>0,Ce||Se(me,4,this.length),this[me]*16777216+(this[me+1]<<16|this[me+2]<<8|this[me+3])},M.prototype.readBigUInt64LE=Ge(function(me){me=me>>>0,ut(me,"offset");var Ce=this[me],Me=this[me+7];(Ce===void 0||Me===void 0)&&et(me,this.length-8);var Ne=Ce+this[++me]*Math.pow(2,8)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,24),je=this[++me]+this[++me]*Math.pow(2,8)+this[++me]*Math.pow(2,16)+Me*Math.pow(2,24);return BigInt(Ne)+(BigInt(je)<<BigInt(32))}),M.prototype.readBigUInt64BE=Ge(function(me){me=me>>>0,ut(me,"offset");var Ce=this[me],Me=this[me+7];(Ce===void 0||Me===void 0)&&et(me,this.length-8);var Ne=Ce*Math.pow(2,24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+this[++me],je=this[++me]*Math.pow(2,24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+Me;return(BigInt(Ne)<<BigInt(32))+BigInt(je)}),M.prototype.readIntLE=function(me,Ce,Me){me=me>>>0,Ce=Ce>>>0,Me||Se(me,Ce,this.length);for(var Ne=this[me],je=1,tt=0;++tt<Ce&&(je*=256);)Ne+=this[me+tt]*je;return je*=128,Ne>=je&&(Ne-=Math.pow(2,8*Ce)),Ne},M.prototype.readIntBE=function(me,Ce,Me){me=me>>>0,Ce=Ce>>>0,Me||Se(me,Ce,this.length);for(var Ne=Ce,je=1,tt=this[me+--Ne];Ne>0&&(je*=256);)tt+=this[me+--Ne]*je;return je*=128,tt>=je&&(tt-=Math.pow(2,8*Ce)),tt},M.prototype.readInt8=function(me,Ce){return me=me>>>0,Ce||Se(me,1,this.length),this[me]&128?(255-this[me]+1)*-1:this[me]},M.prototype.readInt16LE=function(me,Ce){me=me>>>0,Ce||Se(me,2,this.length);var Me=this[me]|this[me+1]<<8;return Me&32768?Me|4294901760:Me},M.prototype.readInt16BE=function(me,Ce){me=me>>>0,Ce||Se(me,2,this.length);var Me=this[me+1]|this[me]<<8;return Me&32768?Me|4294901760:Me},M.prototype.readInt32LE=function(me,Ce){return me=me>>>0,Ce||Se(me,4,this.length),this[me]|this[me+1]<<8|this[me+2]<<16|this[me+3]<<24},M.prototype.readInt32BE=function(me,Ce){return me=me>>>0,Ce||Se(me,4,this.length),this[me]<<24|this[me+1]<<16|this[me+2]<<8|this[me+3]},M.prototype.readBigInt64LE=Ge(function(me){me=me>>>0,ut(me,"offset");var Ce=this[me],Me=this[me+7];(Ce===void 0||Me===void 0)&&et(me,this.length-8);var Ne=this[me+4]+this[me+5]*Math.pow(2,8)+this[me+6]*Math.pow(2,16)+(Me<<24);return(BigInt(Ne)<<BigInt(32))+BigInt(Ce+this[++me]*Math.pow(2,8)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,24))}),M.prototype.readBigInt64BE=Ge(function(me){me=me>>>0,ut(me,"offset");var Ce=this[me],Me=this[me+7];(Ce===void 0||Me===void 0)&&et(me,this.length-8);var Ne=(Ce<<24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+this[++me];return(BigInt(Ne)<<BigInt(32))+BigInt(this[++me]*Math.pow(2,24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+Me)}),M.prototype.readFloatLE=function(me,Ce){return me=me>>>0,Ce||Se(me,4,this.length),w.read(this,me,!0,23,4)},M.prototype.readFloatBE=function(me,Ce){return me=me>>>0,Ce||Se(me,4,this.length),w.read(this,me,!1,23,4)},M.prototype.readDoubleLE=function(me,Ce){return me=me>>>0,Ce||Se(me,8,this.length),w.read(this,me,!0,52,8)},M.prototype.readDoubleBE=function(me,Ce){return me=me>>>0,Ce||Se(me,8,this.length),w.read(this,me,!1,52,8)};function Te(be,me,Ce,Me,Ne,je){if(!M.isBuffer(be))throw new TypeError('"buffer" argument must be a Buffer instance');if(me>Ne||me<je)throw new RangeError('"value" argument is out of bounds');if(Ce+Me>be.length)throw new RangeError("Index out of range")}M.prototype.writeUintLE=M.prototype.writeUIntLE=function(me,Ce,Me,Ne){if(me=+me,Ce=Ce>>>0,Me=Me>>>0,!Ne){var je=Math.pow(2,8*Me)-1;Te(this,me,Ce,Me,je,0)}var tt=1,ct=0;for(this[Ce]=me&255;++ct<Me&&(tt*=256);)this[Ce+ct]=me/tt&255;return Ce+Me},M.prototype.writeUintBE=M.prototype.writeUIntBE=function(me,Ce,Me,Ne){if(me=+me,Ce=Ce>>>0,Me=Me>>>0,!Ne){var je=Math.pow(2,8*Me)-1;Te(this,me,Ce,Me,je,0)}var tt=Me-1,ct=1;for(this[Ce+tt]=me&255;--tt>=0&&(ct*=256);)this[Ce+tt]=me/ct&255;return Ce+Me},M.prototype.writeUint8=M.prototype.writeUInt8=function(me,Ce,Me){return me=+me,Ce=Ce>>>0,Me||Te(this,me,Ce,1,255,0),this[Ce]=me&255,Ce+1},M.prototype.writeUint16LE=M.prototype.writeUInt16LE=function(me,Ce,Me){return me=+me,Ce=Ce>>>0,Me||Te(this,me,Ce,2,65535,0),this[Ce]=me&255,this[Ce+1]=me>>>8,Ce+2},M.prototype.writeUint16BE=M.prototype.writeUInt16BE=function(me,Ce,Me){return me=+me,Ce=Ce>>>0,Me||Te(this,me,Ce,2,65535,0),this[Ce]=me>>>8,this[Ce+1]=me&255,Ce+2},M.prototype.writeUint32LE=M.prototype.writeUInt32LE=function(me,Ce,Me){return me=+me,Ce=Ce>>>0,Me||Te(this,me,Ce,4,4294967295,0),this[Ce+3]=me>>>24,this[Ce+2]=me>>>16,this[Ce+1]=me>>>8,this[Ce]=me&255,Ce+4},M.prototype.writeUint32BE=M.prototype.writeUInt32BE=function(me,Ce,Me){return me=+me,Ce=Ce>>>0,Me||Te(this,me,Ce,4,4294967295,0),this[Ce]=me>>>24,this[Ce+1]=me>>>16,this[Ce+2]=me>>>8,this[Ce+3]=me&255,Ce+4};function ke(be,me,Ce,Me,Ne){ot(me,Me,Ne,be,Ce,7);var je=Number(me&BigInt(4294967295));be[Ce++]=je,je=je>>8,be[Ce++]=je,je=je>>8,be[Ce++]=je,je=je>>8,be[Ce++]=je;var tt=Number(me>>BigInt(32)&BigInt(4294967295));return be[Ce++]=tt,tt=tt>>8,be[Ce++]=tt,tt=tt>>8,be[Ce++]=tt,tt=tt>>8,be[Ce++]=tt,Ce}function we(be,me,Ce,Me,Ne){ot(me,Me,Ne,be,Ce,7);var je=Number(me&BigInt(4294967295));be[Ce+7]=je,je=je>>8,be[Ce+6]=je,je=je>>8,be[Ce+5]=je,je=je>>8,be[Ce+4]=je;var tt=Number(me>>BigInt(32)&BigInt(4294967295));return be[Ce+3]=tt,tt=tt>>8,be[Ce+2]=tt,tt=tt>>8,be[Ce+1]=tt,tt=tt>>8,be[Ce]=tt,Ce+8}M.prototype.writeBigUInt64LE=Ge(function(me){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ke(this,me,Ce,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeBigUInt64BE=Ge(function(me){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return we(this,me,Ce,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeIntLE=function(me,Ce,Me,Ne){if(me=+me,Ce=Ce>>>0,!Ne){var je=Math.pow(2,8*Me-1);Te(this,me,Ce,Me,je-1,-je)}var tt=0,ct=1,pt=0;for(this[Ce]=me&255;++tt<Me&&(ct*=256);)me<0&&pt===0&&this[Ce+tt-1]!==0&&(pt=1),this[Ce+tt]=(me/ct>>0)-pt&255;return Ce+Me},M.prototype.writeIntBE=function(me,Ce,Me,Ne){if(me=+me,Ce=Ce>>>0,!Ne){var je=Math.pow(2,8*Me-1);Te(this,me,Ce,Me,je-1,-je)}var tt=Me-1,ct=1,pt=0;for(this[Ce+tt]=me&255;--tt>=0&&(ct*=256);)me<0&&pt===0&&this[Ce+tt+1]!==0&&(pt=1),this[Ce+tt]=(me/ct>>0)-pt&255;return Ce+Me},M.prototype.writeInt8=function(me,Ce,Me){return me=+me,Ce=Ce>>>0,Me||Te(this,me,Ce,1,127,-128),me<0&&(me=255+me+1),this[Ce]=me&255,Ce+1},M.prototype.writeInt16LE=function(me,Ce,Me){return me=+me,Ce=Ce>>>0,Me||Te(this,me,Ce,2,32767,-32768),this[Ce]=me&255,this[Ce+1]=me>>>8,Ce+2},M.prototype.writeInt16BE=function(me,Ce,Me){return me=+me,Ce=Ce>>>0,Me||Te(this,me,Ce,2,32767,-32768),this[Ce]=me>>>8,this[Ce+1]=me&255,Ce+2},M.prototype.writeInt32LE=function(me,Ce,Me){return me=+me,Ce=Ce>>>0,Me||Te(this,me,Ce,4,2147483647,-2147483648),this[Ce]=me&255,this[Ce+1]=me>>>8,this[Ce+2]=me>>>16,this[Ce+3]=me>>>24,Ce+4},M.prototype.writeInt32BE=function(me,Ce,Me){return me=+me,Ce=Ce>>>0,Me||Te(this,me,Ce,4,2147483647,-2147483648),me<0&&(me=4294967295+me+1),this[Ce]=me>>>24,this[Ce+1]=me>>>16,this[Ce+2]=me>>>8,this[Ce+3]=me&255,Ce+4},M.prototype.writeBigInt64LE=Ge(function(me){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ke(this,me,Ce,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeBigInt64BE=Ge(function(me){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return we(this,me,Ce,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ee(be,me,Ce,Me,Ne,je){if(Ce+Me>be.length)throw new RangeError("Index out of range");if(Ce<0)throw new RangeError("Index out of range")}function xe(be,me,Ce,Me,Ne){return me=+me,Ce=Ce>>>0,Ne||Ee(be,me,Ce,4),w.write(be,me,Ce,Me,23,4),Ce+4}M.prototype.writeFloatLE=function(me,Ce,Me){return xe(this,me,Ce,!0,Me)},M.prototype.writeFloatBE=function(me,Ce,Me){return xe(this,me,Ce,!1,Me)};function De(be,me,Ce,Me,Ne){return me=+me,Ce=Ce>>>0,Ne||Ee(be,me,Ce,8),w.write(be,me,Ce,Me,52,8),Ce+8}M.prototype.writeDoubleLE=function(me,Ce,Me){return De(this,me,Ce,!0,Me)},M.prototype.writeDoubleBE=function(me,Ce,Me){return De(this,me,Ce,!1,Me)},M.prototype.copy=function(me,Ce,Me,Ne){if(!M.isBuffer(me))throw new TypeError("argument should be a Buffer");if(Me||(Me=0),!Ne&&Ne!==0&&(Ne=this.length),Ce>=me.length&&(Ce=me.length),Ce||(Ce=0),Ne>0&&Ne<Me&&(Ne=Me),Ne===Me||me.length===0||this.length===0)return 0;if(Ce<0)throw new RangeError("targetStart out of bounds");if(Me<0||Me>=this.length)throw new RangeError("Index out of range");if(Ne<0)throw new RangeError("sourceEnd out of bounds");Ne>this.length&&(Ne=this.length),me.length-Ce<Ne-Me&&(Ne=me.length-Ce+Me);var je=Ne-Me;return this===me&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ce,Me,Ne):Uint8Array.prototype.set.call(me,this.subarray(Me,Ne),Ce),je},M.prototype.fill=function(me,Ce,Me,Ne){if(typeof me=="string"){if(typeof Ce=="string"?(Ne=Ce,Ce=0,Me=this.length):typeof Me=="string"&&(Ne=Me,Me=this.length),Ne!==void 0&&typeof Ne!="string")throw new TypeError("encoding must be a string");if(typeof Ne=="string"&&!M.isEncoding(Ne))throw new TypeError("Unknown encoding: "+Ne);if(me.length===1){var je=me.charCodeAt(0);(Ne==="utf8"&&je<128||Ne==="latin1")&&(me=je)}}else typeof me=="number"?me=me&255:typeof me=="boolean"&&(me=Number(me));if(Ce<0||this.length<Ce||this.length<Me)throw new RangeError("Out of range index");if(Me<=Ce)return this;Ce=Ce>>>0,Me=Me===void 0?this.length:Me>>>0,me||(me=0);var tt;if(typeof me=="number")for(tt=Ce;tt<Me;++tt)this[tt]=me;else{var ct=M.isBuffer(me)?me:M.from(me,Ne),pt=ct.length;if(pt===0)throw new TypeError('The value "'+me+'" is invalid for argument "value"');for(tt=0;tt<Me-Ce;++tt)this[tt+Ce]=ct[tt%pt]}return this};var Ve={};function Ue(be,me,Ce){Ve[be]=function(Me){u(je,Me);var Ne=l(je);function je(){var tt;return t(this,je),tt=Ne.call(this),Object.defineProperty(h(tt),"message",{value:me.apply(h(tt),arguments),writable:!0,configurable:!0}),tt.name="".concat(tt.name," [").concat(be,"]"),tt.stack,delete tt.name,tt}return n(je,[{key:"code",get:function(){return be},set:function(ct){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ct,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(be,"]: ").concat(this.message)}}]),je}(Ce)}Ue("ERR_BUFFER_OUT_OF_BOUNDS",function(be){return be?"".concat(be," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ue("ERR_INVALID_ARG_TYPE",function(be,me){return'The "'.concat(be,'" argument must be of type number. Received type ').concat(o(me))},TypeError),Ue("ERR_OUT_OF_RANGE",function(be,me,Ce){var Me='The value of "'.concat(be,'" is out of range.'),Ne=Ce;return Number.isInteger(Ce)&&Math.abs(Ce)>Math.pow(2,32)?Ne=Be(String(Ce)):typeof Ce=="bigint"&&(Ne=String(Ce),(Ce>Math.pow(BigInt(2),BigInt(32))||Ce<-Math.pow(BigInt(2),BigInt(32)))&&(Ne=Be(Ne)),Ne+="n"),Me+=" It must be ".concat(me,". Received ").concat(Ne),Me},RangeError);function Be(be){for(var me="",Ce=be.length,Me=be[0]==="-"?1:0;Ce>=Me+4;Ce-=3)me="_".concat(be.slice(Ce-3,Ce)).concat(me);return"".concat(be.slice(0,Ce)).concat(me)}function Xe(be,me,Ce){ut(me,"offset"),(be[me]===void 0||be[me+Ce]===void 0)&&et(me,be.length-(Ce+1))}function ot(be,me,Ce,Me,Ne,je){if(be>Ce||be<me){var tt=typeof me=="bigint"?"n":"",ct;throw je>3?me===0||me===BigInt(0)?ct=">= 0".concat(tt," and < 2").concat(tt," ** ").concat((je+1)*8).concat(tt):ct=">= -(2".concat(tt," ** ").concat((je+1)*8-1).concat(tt,") and < 2 ** ")+"".concat((je+1)*8-1).concat(tt):ct=">= ".concat(me).concat(tt," and <= ").concat(Ce).concat(tt),new Ve.ERR_OUT_OF_RANGE("value",ct,be)}Xe(Me,Ne,je)}function ut(be,me){if(typeof be!="number")throw new Ve.ERR_INVALID_ARG_TYPE(me,"number",be)}function et(be,me,Ce){throw Math.floor(be)!==be?(ut(be,Ce),new Ve.ERR_OUT_OF_RANGE(Ce||"offset","an integer",be)):me<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(Ce||"offset",">= ".concat(Ce?1:0," and <= ").concat(me),be)}var qe=/[^+/0-9A-Za-z-_]/g;function ft(be){if(be=be.split("=")[0],be=be.trim().replace(qe,""),be.length<2)return"";for(;be.length%4!==0;)be=be+"=";return be}function ht(be,me){me=me||1/0;for(var Ce,Me=be.length,Ne=null,je=[],tt=0;tt<Me;++tt){if(Ce=be.charCodeAt(tt),Ce>55295&&Ce<57344){if(!Ne){if(Ce>56319){(me-=3)>-1&&je.push(239,191,189);continue}else if(tt+1===Me){(me-=3)>-1&&je.push(239,191,189);continue}Ne=Ce;continue}if(Ce<56320){(me-=3)>-1&&je.push(239,191,189),Ne=Ce;continue}Ce=(Ne-55296<<10|Ce-56320)+65536}else Ne&&(me-=3)>-1&&je.push(239,191,189);if(Ne=null,Ce<128){if((me-=1)<0)break;je.push(Ce)}else if(Ce<2048){if((me-=2)<0)break;je.push(Ce>>6|192,Ce&63|128)}else if(Ce<65536){if((me-=3)<0)break;je.push(Ce>>12|224,Ce>>6&63|128,Ce&63|128)}else if(Ce<1114112){if((me-=4)<0)break;je.push(Ce>>18|240,Ce>>12&63|128,Ce>>6&63|128,Ce&63|128)}else throw new Error("Invalid code point")}return je}function dt(be){for(var me=[],Ce=0;Ce<be.length;++Ce)me.push(be.charCodeAt(Ce)&255);return me}function mt(be,me){for(var Ce,Me,Ne,je=[],tt=0;tt<be.length&&!((me-=2)<0);++tt)Ce=be.charCodeAt(tt),Me=Ce>>8,Ne=Ce%256,je.push(Ne),je.push(Me);return je}function St(be){return d.toByteArray(ft(be))}function rt(be,me,Ce,Me){var Ne;for(Ne=0;Ne<Me&&!(Ne+Ce>=me.length||Ne>=be.length);++Ne)me[Ne+Ce]=be[Ne];return Ne}function Oe(be,me){return be instanceof me||be!=null&&be.constructor!=null&&be.constructor.name!=null&&be.constructor.name===me.name}function Ye(be){return be!==be}var Ze=function(){for(var be="0123456789abcdef",me=new Array(256),Ce=0;Ce<16;++Ce)for(var Me=Ce*16,Ne=0;Ne<16;++Ne)me[Me+Ne]=be[Ce]+be[Ne];return me}();function Ge(be){return typeof BigInt>"u"?_e:be}function _e(){throw new Error("BigInt not supported")}},2321:function(v){v.exports=a,v.exports.isMobile=a,v.exports.default=a;var p=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,t=/android|ipad|playbook|silk/i;function a(n){n||(n={});var u=n.ua;if(!u&&typeof navigator<"u"&&(u=navigator.userAgent),u&&u.headers&&typeof u.headers["user-agent"]=="string"&&(u=u.headers["user-agent"]),typeof u!="string")return!1;var s=p.test(u)&&!r.test(u)||!!n.tablet&&t.test(u);return!s&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&u.indexOf("Macintosh")!==-1&&u.indexOf("Safari")!==-1&&(s=!0),s}},3910:function(v,p){p.byteLength=m,p.toByteArray=g,p.fromByteArray=d;for(var r=[],t=[],a=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=n.length;u<s;++u)r[u]=n[u],t[n.charCodeAt(u)]=u;t[45]=62,t[95]=63;function l(w){var A=w.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var C=w.indexOf("=");C===-1&&(C=A);var x=C===A?0:4-C%4;return[C,x]}function m(w){var A=l(w),C=A[0],x=A[1];return(C+x)*3/4-x}function h(w,A,C){return(A+C)*3/4-C}function g(w){var A,C=l(w),x=C[0],E=C[1],M=new a(h(w,x,E)),f=0,P=E>0?x-4:x,T;for(T=0;T<P;T+=4)A=t[w.charCodeAt(T)]<<18|t[w.charCodeAt(T+1)]<<12|t[w.charCodeAt(T+2)]<<6|t[w.charCodeAt(T+3)],M[f++]=A>>16&255,M[f++]=A>>8&255,M[f++]=A&255;return E===2&&(A=t[w.charCodeAt(T)]<<2|t[w.charCodeAt(T+1)]>>4,M[f++]=A&255),E===1&&(A=t[w.charCodeAt(T)]<<10|t[w.charCodeAt(T+1)]<<4|t[w.charCodeAt(T+2)]>>2,M[f++]=A>>8&255,M[f++]=A&255),M}function c(w){return r[w>>18&63]+r[w>>12&63]+r[w>>6&63]+r[w&63]}function o(w,A,C){for(var x,E=[],M=A;M<C;M+=3)x=(w[M]<<16&16711680)+(w[M+1]<<8&65280)+(w[M+2]&255),E.push(c(x));return E.join("")}function d(w){for(var A,C=w.length,x=C%3,E=[],M=16383,f=0,P=C-x;f<P;f+=M)E.push(o(w,f,f+M>P?P:f+M));return x===1?(A=w[C-1],E.push(r[A>>2]+r[A<<4&63]+"==")):x===2&&(A=(w[C-2]<<8)+w[C-1],E.push(r[A>>10]+r[A>>4&63]+r[A<<2&63]+"=")),E.join("")}},3187:function(v,p){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */p.read=function(r,t,a,n,u){var s,l,m=u*8-n-1,h=(1<<m)-1,g=h>>1,c=-7,o=a?u-1:0,d=a?-1:1,w=r[t+o];for(o+=d,s=w&(1<<-c)-1,w>>=-c,c+=m;c>0;s=s*256+r[t+o],o+=d,c-=8);for(l=s&(1<<-c)-1,s>>=-c,c+=n;c>0;l=l*256+r[t+o],o+=d,c-=8);if(s===0)s=1-g;else{if(s===h)return l?NaN:(w?-1:1)*(1/0);l=l+Math.pow(2,n),s=s-g}return(w?-1:1)*l*Math.pow(2,s-n)},p.write=function(r,t,a,n,u,s){var l,m,h,g=s*8-u-1,c=(1<<g)-1,o=c>>1,d=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:s-1,A=n?1:-1,C=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(m=isNaN(t)?1:0,l=c):(l=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-l))<1&&(l--,h*=2),l+o>=1?t+=d/h:t+=d*Math.pow(2,1-o),t*h>=2&&(l++,h/=2),l+o>=c?(m=0,l=c):l+o>=1?(m=(t*h-1)*Math.pow(2,u),l=l+o):(m=t*Math.pow(2,o-1)*Math.pow(2,u),l=0));u>=8;r[a+w]=m&255,w+=A,m/=256,u-=8);for(l=l<<u|m,g+=u;g>0;r[a+w]=l&255,w+=A,l/=256,g-=8);r[a+w-A]|=C*128}},1152:function(v,p,r){v.exports=l;var t=r(3440),a=r(7774),n=r(9298);function u(m,h){this._controllerNames=Object.keys(m),this._controllerList=this._controllerNames.map(function(g){return m[g]}),this._mode=h,this._active=m[h],this._active||(this._mode="turntable",this._active=m.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var s=u.prototype;s.flush=function(m){for(var h=this._controllerList,g=0;g<h.length;++g)h[g].flush(m)},s.idle=function(m){for(var h=this._controllerList,g=0;g<h.length;++g)h[g].idle(m)},s.lookAt=function(m,h,g,c){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].lookAt(m,h,g,c)},s.rotate=function(m,h,g,c){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].rotate(m,h,g,c)},s.pan=function(m,h,g,c){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].pan(m,h,g,c)},s.translate=function(m,h,g,c){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].translate(m,h,g,c)},s.setMatrix=function(m,h){for(var g=this._controllerList,c=0;c<g.length;++c)g[c].setMatrix(m,h)},s.setDistanceLimits=function(m,h){for(var g=this._controllerList,c=0;c<g.length;++c)g[c].setDistanceLimits(m,h)},s.setDistance=function(m,h){for(var g=this._controllerList,c=0;c<g.length;++c)g[c].setDistance(m,h)},s.recalcMatrix=function(m){this._active.recalcMatrix(m)},s.getDistance=function(m){return this._active.getDistance(m)},s.getDistanceLimits=function(m){return this._active.getDistanceLimits(m)},s.lastT=function(){return this._active.lastT()},s.setMode=function(m){if(m!==this._mode){var h=this._controllerNames.indexOf(m);if(!(h<0)){var g=this._active,c=this._controllerList[h],o=Math.max(g.lastT(),c.lastT());g.recalcMatrix(o),c.setMatrix(o,g.computedMatrix),this._active=c,this._mode=m,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},s.getMode=function(){return this._mode};function l(m){m=m||{};var h=m.eye||[0,0,1],g=m.center||[0,0,0],c=m.up||[0,1,0],o=m.distanceLimits||[0,1/0],d=m.mode||"turntable",w=t(),A=a(),C=n();return w.setDistanceLimits(o[0],o[1]),w.lookAt(0,h,g,c),A.setDistanceLimits(o[0],o[1]),A.lookAt(0,h,g,c),C.setDistanceLimits(o[0],o[1]),C.lookAt(0,h,g,c),new u({turntable:w,orbit:A,matrix:C},d)}},8126:function(v,p,r){var t=typeof WeakMap>"u"?r(5346):WeakMap,a=r(5827),n=r(2944),u=new t;function s(l){var m=u.get(l),h=m&&(m._triangleBuffer.handle||m._triangleBuffer.buffer);if(!h||!l.isBuffer(h)){var g=a(l,new Float32Array([-1,-1,-1,4,4,-1]));m=n(l,[{buffer:g,type:l.FLOAT,size:2}]),m._triangleBuffer=g,u.set(l,m)}m.bind(),l.drawArrays(l.TRIANGLES,0,3),m.unbind()}v.exports=s},8008:function(v,p,r){var t=r(4930);v.exports=a;function a(n,u,s){u=typeof u=="number"?u:1,s=s||": ";var l=n.split(/\r?\n/),m=String(l.length+u-1).length;return l.map(function(h,g){var c=g+u,o=String(c).length,d=t(c,m-o);return d+s+h}).join(`
`)}},2153:function(v,p,r){v.exports=n;var t=r(417);function a(u,s){for(var l=new Array(s+1),m=0;m<u.length;++m)l[m]=u[m];for(var m=0;m<=u.length;++m){for(var h=u.length;h<=s;++h){for(var g=new Array(s),c=0;c<s;++c)g[c]=Math.pow(h+1-m,c);l[h]=g}var o=t.apply(void 0,l);if(o)return!0}return!1}function n(u){var s=u.length;if(s===0)return[];if(s===1)return[0];for(var l=u[0].length,m=[u[0]],h=[0],g=1;g<s;++g){if(m.push(u[g]),!a(m,l)){m.pop();continue}if(h.push(g),h.length===l+1)return h}return h}},4653:function(v,p,r){v.exports=n;var t=r(4419),a=r(1778);function n(u,s){return t(s).filter(function(l){for(var m=new Array(l.length),h=0;h<l.length;++h)m[h]=s[l[h]];return a(m)*u<1})}},2350:function(v,p,r){v.exports=n;var t=r(4653),a=r(8691);function n(u,s){return a(t(u,s))}},7896:function(v){v.exports=function(r){return atob(r)}},957:function(v,p,r){v.exports=n;var t=r(6606);function a(u){for(var s=0,l=0;l<u.length;++l)s+=u[l];return s}function n(u,s){for(var l=s.length,m=new Array(l+1),h=0;h<l;++h){for(var g=new Array(l+1),c=0;c<=l;++c)g[c]=u[c][h];m[h]=g}m[l]=new Array(l+1);for(var h=0;h<=l;++h)m[l][h]=1;for(var o=new Array(l+1),h=0;h<l;++h)o[h]=s[h];o[l]=1;var d=t(m,o),w=a(d[l+1]);w===0&&(w=1);for(var A=new Array(l+1),h=0;h<=l;++h)A[h]=a(d[h])/w;return A}},1539:function(v,p,r){var t=r(8524);v.exports=a;function a(n,u){return t(n[0].mul(u[1]).add(u[0].mul(n[1])),n[1].mul(u[1]))}},8846:function(v){v.exports=p;function p(r,t){return r[0].mul(t[1]).cmp(t[0].mul(r[1]))}},9189:function(v,p,r){var t=r(8524);v.exports=a;function a(n,u){return t(n[0].mul(u[1]),n[1].mul(u[0]))}},5125:function(v,p,r){var t=r(234),a=r(3218),n=r(5514),u=r(2813),s=r(8524),l=r(9189);v.exports=m;function m(h,g){if(t(h))return g?l(h,m(g)):[h[0].clone(),h[1].clone()];var c=0,o,d;if(a(h))o=h.clone();else if(typeof h=="string")o=u(h);else{if(h===0)return[n(0),n(1)];if(h===Math.floor(h))o=n(h);else{for(;h!==Math.floor(h);)h=h*Math.pow(2,256),c-=256;o=n(h)}}if(t(g))o.mul(g[1]),d=g[0].clone();else if(a(g))d=g.clone();else if(typeof g=="string")d=u(g);else if(!g)d=n(1);else if(g===Math.floor(g))d=n(g);else{for(;g!==Math.floor(g);)g=g*Math.pow(2,256),c+=256;d=n(g)}return c>0?o=o.ushln(c):c<0&&(d=d.ushln(-c)),s(o,d)}},234:function(v,p,r){var t=r(3218);v.exports=a;function a(n){return Array.isArray(n)&&n.length===2&&t(n[0])&&t(n[1])}},4275:function(v,p,r){var t=r(1928);v.exports=a;function a(n){return n.cmp(new t(0))}},9958:function(v,p,r){var t=r(4275);v.exports=a;function a(n){var u=n.length,s=n.words,l=0;if(u===1)l=s[0];else if(u===2)l=s[0]+s[1]*67108864;else for(var m=0;m<u;m++){var h=s[m];l+=h*Math.pow(67108864,m)}return t(n)*l}},1112:function(v,p,r){var t=r(8362),a=r(2288).countTrailingZeros;v.exports=n;function n(u){var s=a(t.lo(u));if(s<32)return s;var l=a(t.hi(u));return l>20?52:l+32}},3218:function(v,p,r){r(1928),v.exports=t;function t(a){return a&&typeof a=="object"&&!!a.words}},5514:function(v,p,r){var t=r(1928),a=r(8362);v.exports=n;function n(u){var s=a.exponent(u);return s<52?new t(u):new t(u*Math.pow(2,52-s)).ushln(s-52)}},8524:function(v,p,r){var t=r(5514),a=r(4275);v.exports=n;function n(u,s){var l=a(u),m=a(s);if(l===0)return[t(0),t(1)];if(m===0)return[t(0),t(0)];m<0&&(u=u.neg(),s=s.neg());var h=u.gcd(s);return h.cmpn(1)?[u.div(h),s.div(h)]:[u,s]}},2813:function(v,p,r){var t=r(1928);v.exports=a;function a(n){return new t(n)}},3962:function(v,p,r){var t=r(8524);v.exports=a;function a(n,u){return t(n[0].mul(u[0]),n[1].mul(u[1]))}},4951:function(v,p,r){var t=r(4275);v.exports=a;function a(n){return t(n[0])*t(n[1])}},4354:function(v,p,r){var t=r(8524);v.exports=a;function a(n,u){return t(n[0].mul(u[1]).sub(n[1].mul(u[0])),n[1].mul(u[1]))}},7999:function(v,p,r){var t=r(9958),a=r(1112);v.exports=n;function n(u){var s=u[0],l=u[1];if(s.cmpn(0)===0)return 0;var m=s.abs().divmod(l.abs()),h=m.div,g=t(h),c=m.mod,o=s.negative!==l.negative?-1:1;if(c.cmpn(0)===0)return o*g;if(g){var d=a(g)+4,w=t(c.ushln(d).divRound(l));return o*(g+w*Math.pow(2,-d))}else{var A=l.bitLength()-c.bitLength()+53,w=t(c.ushln(A).divRound(l));return A<1023?o*w*Math.pow(2,-A):(w*=Math.pow(2,-1023),o*w*Math.pow(2,1023-A))}}},5070:function(v){function p(s,l,m,h,g){for(var c=g+1;h<=g;){var o=h+g>>>1,d=s[o],w=m!==void 0?m(d,l):d-l;w>=0?(c=o,g=o-1):h=o+1}return c}function r(s,l,m,h,g){for(var c=g+1;h<=g;){var o=h+g>>>1,d=s[o],w=m!==void 0?m(d,l):d-l;w>0?(c=o,g=o-1):h=o+1}return c}function t(s,l,m,h,g){for(var c=h-1;h<=g;){var o=h+g>>>1,d=s[o],w=m!==void 0?m(d,l):d-l;w<0?(c=o,h=o+1):g=o-1}return c}function a(s,l,m,h,g){for(var c=h-1;h<=g;){var o=h+g>>>1,d=s[o],w=m!==void 0?m(d,l):d-l;w<=0?(c=o,h=o+1):g=o-1}return c}function n(s,l,m,h,g){for(;h<=g;){var c=h+g>>>1,o=s[c],d=m!==void 0?m(o,l):o-l;if(d===0)return c;d<=0?h=c+1:g=c-1}return-1}function u(s,l,m,h,g,c){return typeof m=="function"?c(s,l,m,h===void 0?0:h|0,g===void 0?s.length-1:g|0):c(s,l,void 0,m===void 0?0:m|0,h===void 0?s.length-1:h|0)}v.exports={ge:function(s,l,m,h,g){return u(s,l,m,h,g,p)},gt:function(s,l,m,h,g){return u(s,l,m,h,g,r)},lt:function(s,l,m,h,g){return u(s,l,m,h,g,t)},le:function(s,l,m,h,g){return u(s,l,m,h,g,a)},eq:function(s,l,m,h,g){return u(s,l,m,h,g,n)}}},2288:function(v,p){"use restrict";var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var u=n>>r-1;return(n^u)-u},p.min=function(n,u){return u^(n^u)&-(n<u)},p.max=function(n,u){return n^(n^u)&-(n<u)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var u,s;return u=(n>65535)<<4,n>>>=u,s=(n>255)<<3,n>>>=s,u|=s,s=(n>15)<<2,n>>>=s,u|=s,s=(n>3)<<1,n>>>=s,u|=s,u|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var u=32;return n&=-n,n&&u--,n&65535&&(u-=16),n&16711935&&(u-=8),n&252645135&&(u-=4),n&858993459&&(u-=2),n&1431655765&&(u-=1),u}p.countTrailingZeros=t,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var a=new Array(256);(function(n){for(var u=0;u<256;++u){var s=u,l=u,m=7;for(s>>>=1;s;s>>>=1)l<<=1,l|=s&1,--m;n[u]=l<<m&255}})(a),p.reverse=function(n){return a[n&255]<<24|a[n>>>8&255]<<16|a[n>>>16&255]<<8|a[n>>>24&255]},p.interleave2=function(n,u){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,u&=65535,u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,u=(u|u<<1)&1431655765,n|u<<1},p.deinterleave2=function(n,u){return n=n>>>u&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,u,s){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|=u<<1,s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,n|s<<2},p.deinterleave3=function(n,u){return n=n>>>u&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var u=n|n-1;return u+1|(~u&-~u)-1>>>t(n)+1}},1928:function(v,p,r){v=r.nmd(v),function(t,a){function n(k,I){if(!k)throw new Error(I||"Assertion failed")}function u(k,I){k.super_=I;var H=function(){};H.prototype=I.prototype,k.prototype=new H,k.prototype.constructor=k}function s(k,I,H){if(s.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&((I==="le"||I==="be")&&(H=I,I=10),this._init(k||0,I||10,H||"be"))}typeof t=="object"?t.exports=s:a.BN=s,s.BN=s,s.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=r(6601).Buffer}catch{}s.isBN=function(I){return I instanceof s?!0:I!==null&&typeof I=="object"&&I.constructor.wordSize===s.wordSize&&Array.isArray(I.words)},s.max=function(I,H){return I.cmp(H)>0?I:H},s.min=function(I,H){return I.cmp(H)<0?I:H},s.prototype._init=function(I,H,j){if(typeof I=="number")return this._initNumber(I,H,j);if(typeof I=="object")return this._initArray(I,H,j);H==="hex"&&(H=16),n(H===(H|0)&&H>=2&&H<=36),I=I.toString().replace(/\s+/g,"");var ee=0;I[0]==="-"&&(ee++,this.negative=1),ee<I.length&&(H===16?this._parseHex(I,ee,j):(this._parseBase(I,H,ee),j==="le"&&this._initArray(this.toArray(),H,j)))},s.prototype._initNumber=function(I,H,j){I<0&&(this.negative=1,I=-I),I<67108864?(this.words=[I&67108863],this.length=1):I<4503599627370496?(this.words=[I&67108863,I/67108864&67108863],this.length=2):(n(I<9007199254740992),this.words=[I&67108863,I/67108864&67108863,1],this.length=3),j==="le"&&this._initArray(this.toArray(),H,j)},s.prototype._initArray=function(I,H,j){if(n(typeof I.length=="number"),I.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(I.length/3),this.words=new Array(this.length);for(var ee=0;ee<this.length;ee++)this.words[ee]=0;var te,ne,ue=0;if(j==="be")for(ee=I.length-1,te=0;ee>=0;ee-=3)ne=I[ee]|I[ee-1]<<8|I[ee-2]<<16,this.words[te]|=ne<<ue&67108863,this.words[te+1]=ne>>>26-ue&67108863,ue+=24,ue>=26&&(ue-=26,te++);else if(j==="le")for(ee=0,te=0;ee<I.length;ee+=3)ne=I[ee]|I[ee+1]<<8|I[ee+2]<<16,this.words[te]|=ne<<ue&67108863,this.words[te+1]=ne>>>26-ue&67108863,ue+=24,ue>=26&&(ue-=26,te++);return this.strip()};function m(k,I){var H=k.charCodeAt(I);return H>=65&&H<=70?H-55:H>=97&&H<=102?H-87:H-48&15}function h(k,I,H){var j=m(k,H);return H-1>=I&&(j|=m(k,H-1)<<4),j}s.prototype._parseHex=function(I,H,j){this.length=Math.ceil((I.length-H)/6),this.words=new Array(this.length);for(var ee=0;ee<this.length;ee++)this.words[ee]=0;var te=0,ne=0,ue;if(j==="be")for(ee=I.length-1;ee>=H;ee-=2)ue=h(I,H,ee)<<te,this.words[ne]|=ue&67108863,te>=18?(te-=18,ne+=1,this.words[ne]|=ue>>>26):te+=8;else{var q=I.length-H;for(ee=q%2===0?H+1:H;ee<I.length;ee+=2)ue=h(I,H,ee)<<te,this.words[ne]|=ue&67108863,te>=18?(te-=18,ne+=1,this.words[ne]|=ue>>>26):te+=8}this.strip()};function g(k,I,H,j){for(var ee=0,te=Math.min(k.length,H),ne=I;ne<te;ne++){var ue=k.charCodeAt(ne)-48;ee*=j,ue>=49?ee+=ue-49+10:ue>=17?ee+=ue-17+10:ee+=ue}return ee}s.prototype._parseBase=function(I,H,j){this.words=[0],this.length=1;for(var ee=0,te=1;te<=67108863;te*=H)ee++;ee--,te=te/H|0;for(var ne=I.length-j,ue=ne%ee,q=Math.min(ne,ne-ue)+j,Y=0,Z=j;Z<q;Z+=ee)Y=g(I,Z,Z+ee,H),this.imuln(te),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y);if(ue!==0){var G=1;for(Y=g(I,Z,I.length,H),Z=0;Z<ue;Z++)G*=H;this.imuln(G),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y)}this.strip()},s.prototype.copy=function(I){I.words=new Array(this.length);for(var H=0;H<this.length;H++)I.words[H]=this.words[H];I.length=this.length,I.negative=this.negative,I.red=this.red},s.prototype.clone=function(){var I=new s(null);return this.copy(I),I},s.prototype._expand=function(I){for(;this.length<I;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],o=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(I,H){I=I||10,H=H|0||1;var j;if(I===16||I==="hex"){j="";for(var ee=0,te=0,ne=0;ne<this.length;ne++){var ue=this.words[ne],q=((ue<<ee|te)&16777215).toString(16);te=ue>>>24-ee&16777215,te!==0||ne!==this.length-1?j=c[6-q.length]+q+j:j=q+j,ee+=2,ee>=26&&(ee-=26,ne--)}for(te!==0&&(j=te.toString(16)+j);j.length%H!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}if(I===(I|0)&&I>=2&&I<=36){var Y=o[I],Z=d[I];j="";var G=this.clone();for(G.negative=0;!G.isZero();){var K=G.modn(Z).toString(I);G=G.idivn(Z),G.isZero()?j=K+j:j=c[Y-K.length]+K+j}for(this.isZero()&&(j="0"+j);j.length%H!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var I=this.words[0];return this.length===2?I+=this.words[1]*67108864:this.length===3&&this.words[2]===1?I+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-I:I},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(I,H){return n(typeof l<"u"),this.toArrayLike(l,I,H)},s.prototype.toArray=function(I,H){return this.toArrayLike(Array,I,H)},s.prototype.toArrayLike=function(I,H,j){var ee=this.byteLength(),te=j||Math.max(1,ee);n(ee<=te,"byte array longer than desired length"),n(te>0,"Requested array length <= 0"),this.strip();var ne=H==="le",ue=new I(te),q,Y,Z=this.clone();if(ne){for(Y=0;!Z.isZero();Y++)q=Z.andln(255),Z.iushrn(8),ue[Y]=q;for(;Y<te;Y++)ue[Y]=0}else{for(Y=0;Y<te-ee;Y++)ue[Y]=0;for(Y=0;!Z.isZero();Y++)q=Z.andln(255),Z.iushrn(8),ue[te-Y-1]=q}return ue},Math.clz32?s.prototype._countBits=function(I){return 32-Math.clz32(I)}:s.prototype._countBits=function(I){var H=I,j=0;return H>=4096&&(j+=13,H>>>=13),H>=64&&(j+=7,H>>>=7),H>=8&&(j+=4,H>>>=4),H>=2&&(j+=2,H>>>=2),j+H},s.prototype._zeroBits=function(I){if(I===0)return 26;var H=I,j=0;return H&8191||(j+=13,H>>>=13),H&127||(j+=7,H>>>=7),H&15||(j+=4,H>>>=4),H&3||(j+=2,H>>>=2),H&1||j++,j},s.prototype.bitLength=function(){var I=this.words[this.length-1],H=this._countBits(I);return(this.length-1)*26+H};function w(k){for(var I=new Array(k.bitLength()),H=0;H<I.length;H++){var j=H/26|0,ee=H%26;I[H]=(k.words[j]&1<<ee)>>>ee}return I}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var I=0,H=0;H<this.length;H++){var j=this._zeroBits(this.words[H]);if(I+=j,j!==26)break}return I},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(I){return this.negative!==0?this.abs().inotn(I).iaddn(1):this.clone()},s.prototype.fromTwos=function(I){return this.testn(I-1)?this.notn(I).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(I){for(;this.length<I.length;)this.words[this.length++]=0;for(var H=0;H<I.length;H++)this.words[H]=this.words[H]|I.words[H];return this.strip()},s.prototype.ior=function(I){return n((this.negative|I.negative)===0),this.iuor(I)},s.prototype.or=function(I){return this.length>I.length?this.clone().ior(I):I.clone().ior(this)},s.prototype.uor=function(I){return this.length>I.length?this.clone().iuor(I):I.clone().iuor(this)},s.prototype.iuand=function(I){var H;this.length>I.length?H=I:H=this;for(var j=0;j<H.length;j++)this.words[j]=this.words[j]&I.words[j];return this.length=H.length,this.strip()},s.prototype.iand=function(I){return n((this.negative|I.negative)===0),this.iuand(I)},s.prototype.and=function(I){return this.length>I.length?this.clone().iand(I):I.clone().iand(this)},s.prototype.uand=function(I){return this.length>I.length?this.clone().iuand(I):I.clone().iuand(this)},s.prototype.iuxor=function(I){var H,j;this.length>I.length?(H=this,j=I):(H=I,j=this);for(var ee=0;ee<j.length;ee++)this.words[ee]=H.words[ee]^j.words[ee];if(this!==H)for(;ee<H.length;ee++)this.words[ee]=H.words[ee];return this.length=H.length,this.strip()},s.prototype.ixor=function(I){return n((this.negative|I.negative)===0),this.iuxor(I)},s.prototype.xor=function(I){return this.length>I.length?this.clone().ixor(I):I.clone().ixor(this)},s.prototype.uxor=function(I){return this.length>I.length?this.clone().iuxor(I):I.clone().iuxor(this)},s.prototype.inotn=function(I){n(typeof I=="number"&&I>=0);var H=Math.ceil(I/26)|0,j=I%26;this._expand(H),j>0&&H--;for(var ee=0;ee<H;ee++)this.words[ee]=~this.words[ee]&67108863;return j>0&&(this.words[ee]=~this.words[ee]&67108863>>26-j),this.strip()},s.prototype.notn=function(I){return this.clone().inotn(I)},s.prototype.setn=function(I,H){n(typeof I=="number"&&I>=0);var j=I/26|0,ee=I%26;return this._expand(j+1),H?this.words[j]=this.words[j]|1<<ee:this.words[j]=this.words[j]&~(1<<ee),this.strip()},s.prototype.iadd=function(I){var H;if(this.negative!==0&&I.negative===0)return this.negative=0,H=this.isub(I),this.negative^=1,this._normSign();if(this.negative===0&&I.negative!==0)return I.negative=0,H=this.isub(I),I.negative=1,H._normSign();var j,ee;this.length>I.length?(j=this,ee=I):(j=I,ee=this);for(var te=0,ne=0;ne<ee.length;ne++)H=(j.words[ne]|0)+(ee.words[ne]|0)+te,this.words[ne]=H&67108863,te=H>>>26;for(;te!==0&&ne<j.length;ne++)H=(j.words[ne]|0)+te,this.words[ne]=H&67108863,te=H>>>26;if(this.length=j.length,te!==0)this.words[this.length]=te,this.length++;else if(j!==this)for(;ne<j.length;ne++)this.words[ne]=j.words[ne];return this},s.prototype.add=function(I){var H;return I.negative!==0&&this.negative===0?(I.negative=0,H=this.sub(I),I.negative^=1,H):I.negative===0&&this.negative!==0?(this.negative=0,H=I.sub(this),this.negative=1,H):this.length>I.length?this.clone().iadd(I):I.clone().iadd(this)},s.prototype.isub=function(I){if(I.negative!==0){I.negative=0;var H=this.iadd(I);return I.negative=1,H._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(I),this.negative=1,this._normSign();var j=this.cmp(I);if(j===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ee,te;j>0?(ee=this,te=I):(ee=I,te=this);for(var ne=0,ue=0;ue<te.length;ue++)H=(ee.words[ue]|0)-(te.words[ue]|0)+ne,ne=H>>26,this.words[ue]=H&67108863;for(;ne!==0&&ue<ee.length;ue++)H=(ee.words[ue]|0)+ne,ne=H>>26,this.words[ue]=H&67108863;if(ne===0&&ue<ee.length&&ee!==this)for(;ue<ee.length;ue++)this.words[ue]=ee.words[ue];return this.length=Math.max(this.length,ue),ee!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(I){return this.clone().isub(I)};function A(k,I,H){H.negative=I.negative^k.negative;var j=k.length+I.length|0;H.length=j,j=j-1|0;var ee=k.words[0]|0,te=I.words[0]|0,ne=ee*te,ue=ne&67108863,q=ne/67108864|0;H.words[0]=ue;for(var Y=1;Y<j;Y++){for(var Z=q>>>26,G=q&67108863,K=Math.min(Y,I.length-1),oe=Math.max(0,Y-k.length+1);oe<=K;oe++){var $=Y-oe|0;ee=k.words[$]|0,te=I.words[oe]|0,ne=ee*te+G,Z+=ne/67108864|0,G=ne&67108863}H.words[Y]=G|0,q=Z|0}return q!==0?H.words[Y]=q|0:H.length--,H.strip()}var C=function(I,H,j){var ee=I.words,te=H.words,ne=j.words,ue=0,q,Y,Z,G=ee[0]|0,K=G&8191,oe=G>>>13,$=ee[1]|0,J=$&8191,se=$>>>13,ie=ee[2]|0,ce=ie&8191,ye=ie>>>13,Se=ee[3]|0,Te=Se&8191,ke=Se>>>13,we=ee[4]|0,Ee=we&8191,xe=we>>>13,De=ee[5]|0,Ve=De&8191,Ue=De>>>13,Be=ee[6]|0,Xe=Be&8191,ot=Be>>>13,ut=ee[7]|0,et=ut&8191,qe=ut>>>13,ft=ee[8]|0,ht=ft&8191,dt=ft>>>13,mt=ee[9]|0,St=mt&8191,rt=mt>>>13,Oe=te[0]|0,Ye=Oe&8191,Ze=Oe>>>13,Ge=te[1]|0,_e=Ge&8191,be=Ge>>>13,me=te[2]|0,Ce=me&8191,Me=me>>>13,Ne=te[3]|0,je=Ne&8191,tt=Ne>>>13,ct=te[4]|0,pt=ct&8191,Xt=ct>>>13,Yt=te[5]|0,Tt=Yt&8191,_t=Yt>>>13,Qt=te[6]|0,wr=Qt&8191,xt=Qt>>>13,jt=te[7]|0,Jt=jt&8191,gr=jt>>>13,or=te[8]|0,yt=or&8191,at=or>>>13,wt=te[9]|0,Et=wt&8191,Rt=wt>>>13;j.negative=I.negative^H.negative,j.length=19,q=Math.imul(K,Ye),Y=Math.imul(K,Ze),Y=Y+Math.imul(oe,Ye)|0,Z=Math.imul(oe,Ze);var Dt=(ue+q|0)+((Y&8191)<<13)|0;ue=(Z+(Y>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,q=Math.imul(J,Ye),Y=Math.imul(J,Ze),Y=Y+Math.imul(se,Ye)|0,Z=Math.imul(se,Ze),q=q+Math.imul(K,_e)|0,Y=Y+Math.imul(K,be)|0,Y=Y+Math.imul(oe,_e)|0,Z=Z+Math.imul(oe,be)|0;var Ut=(ue+q|0)+((Y&8191)<<13)|0;ue=(Z+(Y>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,q=Math.imul(ce,Ye),Y=Math.imul(ce,Ze),Y=Y+Math.imul(ye,Ye)|0,Z=Math.imul(ye,Ze),q=q+Math.imul(J,_e)|0,Y=Y+Math.imul(J,be)|0,Y=Y+Math.imul(se,_e)|0,Z=Z+Math.imul(se,be)|0,q=q+Math.imul(K,Ce)|0,Y=Y+Math.imul(K,Me)|0,Y=Y+Math.imul(oe,Ce)|0,Z=Z+Math.imul(oe,Me)|0;var Nt=(ue+q|0)+((Y&8191)<<13)|0;ue=(Z+(Y>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,q=Math.imul(Te,Ye),Y=Math.imul(Te,Ze),Y=Y+Math.imul(ke,Ye)|0,Z=Math.imul(ke,Ze),q=q+Math.imul(ce,_e)|0,Y=Y+Math.imul(ce,be)|0,Y=Y+Math.imul(ye,_e)|0,Z=Z+Math.imul(ye,be)|0,q=q+Math.imul(J,Ce)|0,Y=Y+Math.imul(J,Me)|0,Y=Y+Math.imul(se,Ce)|0,Z=Z+Math.imul(se,Me)|0,q=q+Math.imul(K,je)|0,Y=Y+Math.imul(K,tt)|0,Y=Y+Math.imul(oe,je)|0,Z=Z+Math.imul(oe,tt)|0;var Kt=(ue+q|0)+((Y&8191)<<13)|0;ue=(Z+(Y>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,q=Math.imul(Ee,Ye),Y=Math.imul(Ee,Ze),Y=Y+Math.imul(xe,Ye)|0,Z=Math.imul(xe,Ze),q=q+Math.imul(Te,_e)|0,Y=Y+Math.imul(Te,be)|0,Y=Y+Math.imul(ke,_e)|0,Z=Z+Math.imul(ke,be)|0,q=q+Math.imul(ce,Ce)|0,Y=Y+Math.imul(ce,Me)|0,Y=Y+Math.imul(ye,Ce)|0,Z=Z+Math.imul(ye,Me)|0,q=q+Math.imul(J,je)|0,Y=Y+Math.imul(J,tt)|0,Y=Y+Math.imul(se,je)|0,Z=Z+Math.imul(se,tt)|0,q=q+Math.imul(K,pt)|0,Y=Y+Math.imul(K,Xt)|0,Y=Y+Math.imul(oe,pt)|0,Z=Z+Math.imul(oe,Xt)|0;var ur=(ue+q|0)+((Y&8191)<<13)|0;ue=(Z+(Y>>>13)|0)+(ur>>>26)|0,ur&=67108863,q=Math.imul(Ve,Ye),Y=Math.imul(Ve,Ze),Y=Y+Math.imul(Ue,Ye)|0,Z=Math.imul(Ue,Ze),q=q+Math.imul(Ee,_e)|0,Y=Y+Math.imul(Ee,be)|0,Y=Y+Math.imul(xe,_e)|0,Z=Z+Math.imul(xe,be)|0,q=q+Math.imul(Te,Ce)|0,Y=Y+Math.imul(Te,Me)|0,Y=Y+Math.imul(ke,Ce)|0,Z=Z+Math.imul(ke,Me)|0,q=q+Math.imul(ce,je)|0,Y=Y+Math.imul(ce,tt)|0,Y=Y+Math.imul(ye,je)|0,Z=Z+Math.imul(ye,tt)|0,q=q+Math.imul(J,pt)|0,Y=Y+Math.imul(J,Xt)|0,Y=Y+Math.imul(se,pt)|0,Z=Z+Math.imul(se,Xt)|0,q=q+Math.imul(K,Tt)|0,Y=Y+Math.imul(K,_t)|0,Y=Y+Math.imul(oe,Tt)|0,Z=Z+Math.imul(oe,_t)|0;var fr=(ue+q|0)+((Y&8191)<<13)|0;ue=(Z+(Y>>>13)|0)+(fr>>>26)|0,fr&=67108863,q=Math.imul(Xe,Ye),Y=Math.imul(Xe,Ze),Y=Y+Math.imul(ot,Ye)|0,Z=Math.imul(ot,Ze),q=q+Math.imul(Ve,_e)|0,Y=Y+Math.imul(Ve,be)|0,Y=Y+Math.imul(Ue,_e)|0,Z=Z+Math.imul(Ue,be)|0,q=q+Math.imul(Ee,Ce)|0,Y=Y+Math.imul(Ee,Me)|0,Y=Y+Math.imul(xe,Ce)|0,Z=Z+Math.imul(xe,Me)|0,q=q+Math.imul(Te,je)|0,Y=Y+Math.imul(Te,tt)|0,Y=Y+Math.imul(ke,je)|0,Z=Z+Math.imul(ke,tt)|0,q=q+Math.imul(ce,pt)|0,Y=Y+Math.imul(ce,Xt)|0,Y=Y+Math.imul(ye,pt)|0,Z=Z+Math.imul(ye,Xt)|0,q=q+Math.imul(J,Tt)|0,Y=Y+Math.imul(J,_t)|0,Y=Y+Math.imul(se,Tt)|0,Z=Z+Math.imul(se,_t)|0,q=q+Math.imul(K,wr)|0,Y=Y+Math.imul(K,xt)|0,Y=Y+Math.imul(oe,wr)|0,Z=Z+Math.imul(oe,xt)|0;var vr=(ue+q|0)+((Y&8191)<<13)|0;ue=(Z+(Y>>>13)|0)+(vr>>>26)|0,vr&=67108863,q=Math.imul(et,Ye),Y=Math.imul(et,Ze),Y=Y+Math.imul(qe,Ye)|0,Z=Math.imul(qe,Ze),q=q+Math.imul(Xe,_e)|0,Y=Y+Math.imul(Xe,be)|0,Y=Y+Math.imul(ot,_e)|0,Z=Z+Math.imul(ot,be)|0,q=q+Math.imul(Ve,Ce)|0,Y=Y+Math.imul(Ve,Me)|0,Y=Y+Math.imul(Ue,Ce)|0,Z=Z+Math.imul(Ue,Me)|0,q=q+Math.imul(Ee,je)|0,Y=Y+Math.imul(Ee,tt)|0,Y=Y+Math.imul(xe,je)|0,Z=Z+Math.imul(xe,tt)|0,q=q+Math.imul(Te,pt)|0,Y=Y+Math.imul(Te,Xt)|0,Y=Y+Math.imul(ke,pt)|0,Z=Z+Math.imul(ke,Xt)|0,q=q+Math.imul(ce,Tt)|0,Y=Y+Math.imul(ce,_t)|0,Y=Y+Math.imul(ye,Tt)|0,Z=Z+Math.imul(ye,_t)|0,q=q+Math.imul(J,wr)|0,Y=Y+Math.imul(J,xt)|0,Y=Y+Math.imul(se,wr)|0,Z=Z+Math.imul(se,xt)|0,q=q+Math.imul(K,Jt)|0,Y=Y+Math.imul(K,gr)|0,Y=Y+Math.imul(oe,Jt)|0,Z=Z+Math.imul(oe,gr)|0;var We=(ue+q|0)+((Y&8191)<<13)|0;ue=(Z+(Y>>>13)|0)+(We>>>26)|0,We&=67108863,q=Math.imul(ht,Ye),Y=Math.imul(ht,Ze),Y=Y+Math.imul(dt,Ye)|0,Z=Math.imul(dt,Ze),q=q+Math.imul(et,_e)|0,Y=Y+Math.imul(et,be)|0,Y=Y+Math.imul(qe,_e)|0,Z=Z+Math.imul(qe,be)|0,q=q+Math.imul(Xe,Ce)|0,Y=Y+Math.imul(Xe,Me)|0,Y=Y+Math.imul(ot,Ce)|0,Z=Z+Math.imul(ot,Me)|0,q=q+Math.imul(Ve,je)|0,Y=Y+Math.imul(Ve,tt)|0,Y=Y+Math.imul(Ue,je)|0,Z=Z+Math.imul(Ue,tt)|0,q=q+Math.imul(Ee,pt)|0,Y=Y+Math.imul(Ee,Xt)|0,Y=Y+Math.imul(xe,pt)|0,Z=Z+Math.imul(xe,Xt)|0,q=q+Math.imul(Te,Tt)|0,Y=Y+Math.imul(Te,_t)|0,Y=Y+Math.imul(ke,Tt)|0,Z=Z+Math.imul(ke,_t)|0,q=q+Math.imul(ce,wr)|0,Y=Y+Math.imul(ce,xt)|0,Y=Y+Math.imul(ye,wr)|0,Z=Z+Math.imul(ye,xt)|0,q=q+Math.imul(J,Jt)|0,Y=Y+Math.imul(J,gr)|0,Y=Y+Math.imul(se,Jt)|0,Z=Z+Math.imul(se,gr)|0,q=q+Math.imul(K,yt)|0,Y=Y+Math.imul(K,at)|0,Y=Y+Math.imul(oe,yt)|0,Z=Z+Math.imul(oe,at)|0;var He=(ue+q|0)+((Y&8191)<<13)|0;ue=(Z+(Y>>>13)|0)+(He>>>26)|0,He&=67108863,q=Math.imul(St,Ye),Y=Math.imul(St,Ze),Y=Y+Math.imul(rt,Ye)|0,Z=Math.imul(rt,Ze),q=q+Math.imul(ht,_e)|0,Y=Y+Math.imul(ht,be)|0,Y=Y+Math.imul(dt,_e)|0,Z=Z+Math.imul(dt,be)|0,q=q+Math.imul(et,Ce)|0,Y=Y+Math.imul(et,Me)|0,Y=Y+Math.imul(qe,Ce)|0,Z=Z+Math.imul(qe,Me)|0,q=q+Math.imul(Xe,je)|0,Y=Y+Math.imul(Xe,tt)|0,Y=Y+Math.imul(ot,je)|0,Z=Z+Math.imul(ot,tt)|0,q=q+Math.imul(Ve,pt)|0,Y=Y+Math.imul(Ve,Xt)|0,Y=Y+Math.imul(Ue,pt)|0,Z=Z+Math.imul(Ue,Xt)|0,q=q+Math.imul(Ee,Tt)|0,Y=Y+Math.imul(Ee,_t)|0,Y=Y+Math.imul(xe,Tt)|0,Z=Z+Math.imul(xe,_t)|0,q=q+Math.imul(Te,wr)|0,Y=Y+Math.imul(Te,xt)|0,Y=Y+Math.imul(ke,wr)|0,Z=Z+Math.imul(ke,xt)|0,q=q+Math.imul(ce,Jt)|0,Y=Y+Math.imul(ce,gr)|0,Y=Y+Math.imul(ye,Jt)|0,Z=Z+Math.imul(ye,gr)|0,q=q+Math.imul(J,yt)|0,Y=Y+Math.imul(J,at)|0,Y=Y+Math.imul(se,yt)|0,Z=Z+Math.imul(se,at)|0,q=q+Math.imul(K,Et)|0,Y=Y+Math.imul(K,Rt)|0,Y=Y+Math.imul(oe,Et)|0,Z=Z+Math.imul(oe,Rt)|0;var zt=(ue+q|0)+((Y&8191)<<13)|0;ue=(Z+(Y>>>13)|0)+(zt>>>26)|0,zt&=67108863,q=Math.imul(St,_e),Y=Math.imul(St,be),Y=Y+Math.imul(rt,_e)|0,Z=Math.imul(rt,be),q=q+Math.imul(ht,Ce)|0,Y=Y+Math.imul(ht,Me)|0,Y=Y+Math.imul(dt,Ce)|0,Z=Z+Math.imul(dt,Me)|0,q=q+Math.imul(et,je)|0,Y=Y+Math.imul(et,tt)|0,Y=Y+Math.imul(qe,je)|0,Z=Z+Math.imul(qe,tt)|0,q=q+Math.imul(Xe,pt)|0,Y=Y+Math.imul(Xe,Xt)|0,Y=Y+Math.imul(ot,pt)|0,Z=Z+Math.imul(ot,Xt)|0,q=q+Math.imul(Ve,Tt)|0,Y=Y+Math.imul(Ve,_t)|0,Y=Y+Math.imul(Ue,Tt)|0,Z=Z+Math.imul(Ue,_t)|0,q=q+Math.imul(Ee,wr)|0,Y=Y+Math.imul(Ee,xt)|0,Y=Y+Math.imul(xe,wr)|0,Z=Z+Math.imul(xe,xt)|0,q=q+Math.imul(Te,Jt)|0,Y=Y+Math.imul(Te,gr)|0,Y=Y+Math.imul(ke,Jt)|0,Z=Z+Math.imul(ke,gr)|0,q=q+Math.imul(ce,yt)|0,Y=Y+Math.imul(ce,at)|0,Y=Y+Math.imul(ye,yt)|0,Z=Z+Math.imul(ye,at)|0,q=q+Math.imul(J,Et)|0,Y=Y+Math.imul(J,Rt)|0,Y=Y+Math.imul(se,Et)|0,Z=Z+Math.imul(se,Rt)|0;var kt=(ue+q|0)+((Y&8191)<<13)|0;ue=(Z+(Y>>>13)|0)+(kt>>>26)|0,kt&=67108863,q=Math.imul(St,Ce),Y=Math.imul(St,Me),Y=Y+Math.imul(rt,Ce)|0,Z=Math.imul(rt,Me),q=q+Math.imul(ht,je)|0,Y=Y+Math.imul(ht,tt)|0,Y=Y+Math.imul(dt,je)|0,Z=Z+Math.imul(dt,tt)|0,q=q+Math.imul(et,pt)|0,Y=Y+Math.imul(et,Xt)|0,Y=Y+Math.imul(qe,pt)|0,Z=Z+Math.imul(qe,Xt)|0,q=q+Math.imul(Xe,Tt)|0,Y=Y+Math.imul(Xe,_t)|0,Y=Y+Math.imul(ot,Tt)|0,Z=Z+Math.imul(ot,_t)|0,q=q+Math.imul(Ve,wr)|0,Y=Y+Math.imul(Ve,xt)|0,Y=Y+Math.imul(Ue,wr)|0,Z=Z+Math.imul(Ue,xt)|0,q=q+Math.imul(Ee,Jt)|0,Y=Y+Math.imul(Ee,gr)|0,Y=Y+Math.imul(xe,Jt)|0,Z=Z+Math.imul(xe,gr)|0,q=q+Math.imul(Te,yt)|0,Y=Y+Math.imul(Te,at)|0,Y=Y+Math.imul(ke,yt)|0,Z=Z+Math.imul(ke,at)|0,q=q+Math.imul(ce,Et)|0,Y=Y+Math.imul(ce,Rt)|0,Y=Y+Math.imul(ye,Et)|0,Z=Z+Math.imul(ye,Rt)|0;var Zt=(ue+q|0)+((Y&8191)<<13)|0;ue=(Z+(Y>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,q=Math.imul(St,je),Y=Math.imul(St,tt),Y=Y+Math.imul(rt,je)|0,Z=Math.imul(rt,tt),q=q+Math.imul(ht,pt)|0,Y=Y+Math.imul(ht,Xt)|0,Y=Y+Math.imul(dt,pt)|0,Z=Z+Math.imul(dt,Xt)|0,q=q+Math.imul(et,Tt)|0,Y=Y+Math.imul(et,_t)|0,Y=Y+Math.imul(qe,Tt)|0,Z=Z+Math.imul(qe,_t)|0,q=q+Math.imul(Xe,wr)|0,Y=Y+Math.imul(Xe,xt)|0,Y=Y+Math.imul(ot,wr)|0,Z=Z+Math.imul(ot,xt)|0,q=q+Math.imul(Ve,Jt)|0,Y=Y+Math.imul(Ve,gr)|0,Y=Y+Math.imul(Ue,Jt)|0,Z=Z+Math.imul(Ue,gr)|0,q=q+Math.imul(Ee,yt)|0,Y=Y+Math.imul(Ee,at)|0,Y=Y+Math.imul(xe,yt)|0,Z=Z+Math.imul(xe,at)|0,q=q+Math.imul(Te,Et)|0,Y=Y+Math.imul(Te,Rt)|0,Y=Y+Math.imul(ke,Et)|0,Z=Z+Math.imul(ke,Rt)|0;var er=(ue+q|0)+((Y&8191)<<13)|0;ue=(Z+(Y>>>13)|0)+(er>>>26)|0,er&=67108863,q=Math.imul(St,pt),Y=Math.imul(St,Xt),Y=Y+Math.imul(rt,pt)|0,Z=Math.imul(rt,Xt),q=q+Math.imul(ht,Tt)|0,Y=Y+Math.imul(ht,_t)|0,Y=Y+Math.imul(dt,Tt)|0,Z=Z+Math.imul(dt,_t)|0,q=q+Math.imul(et,wr)|0,Y=Y+Math.imul(et,xt)|0,Y=Y+Math.imul(qe,wr)|0,Z=Z+Math.imul(qe,xt)|0,q=q+Math.imul(Xe,Jt)|0,Y=Y+Math.imul(Xe,gr)|0,Y=Y+Math.imul(ot,Jt)|0,Z=Z+Math.imul(ot,gr)|0,q=q+Math.imul(Ve,yt)|0,Y=Y+Math.imul(Ve,at)|0,Y=Y+Math.imul(Ue,yt)|0,Z=Z+Math.imul(Ue,at)|0,q=q+Math.imul(Ee,Et)|0,Y=Y+Math.imul(Ee,Rt)|0,Y=Y+Math.imul(xe,Et)|0,Z=Z+Math.imul(xe,Rt)|0;var lr=(ue+q|0)+((Y&8191)<<13)|0;ue=(Z+(Y>>>13)|0)+(lr>>>26)|0,lr&=67108863,q=Math.imul(St,Tt),Y=Math.imul(St,_t),Y=Y+Math.imul(rt,Tt)|0,Z=Math.imul(rt,_t),q=q+Math.imul(ht,wr)|0,Y=Y+Math.imul(ht,xt)|0,Y=Y+Math.imul(dt,wr)|0,Z=Z+Math.imul(dt,xt)|0,q=q+Math.imul(et,Jt)|0,Y=Y+Math.imul(et,gr)|0,Y=Y+Math.imul(qe,Jt)|0,Z=Z+Math.imul(qe,gr)|0,q=q+Math.imul(Xe,yt)|0,Y=Y+Math.imul(Xe,at)|0,Y=Y+Math.imul(ot,yt)|0,Z=Z+Math.imul(ot,at)|0,q=q+Math.imul(Ve,Et)|0,Y=Y+Math.imul(Ve,Rt)|0,Y=Y+Math.imul(Ue,Et)|0,Z=Z+Math.imul(Ue,Rt)|0;var rr=(ue+q|0)+((Y&8191)<<13)|0;ue=(Z+(Y>>>13)|0)+(rr>>>26)|0,rr&=67108863,q=Math.imul(St,wr),Y=Math.imul(St,xt),Y=Y+Math.imul(rt,wr)|0,Z=Math.imul(rt,xt),q=q+Math.imul(ht,Jt)|0,Y=Y+Math.imul(ht,gr)|0,Y=Y+Math.imul(dt,Jt)|0,Z=Z+Math.imul(dt,gr)|0,q=q+Math.imul(et,yt)|0,Y=Y+Math.imul(et,at)|0,Y=Y+Math.imul(qe,yt)|0,Z=Z+Math.imul(qe,at)|0,q=q+Math.imul(Xe,Et)|0,Y=Y+Math.imul(Xe,Rt)|0,Y=Y+Math.imul(ot,Et)|0,Z=Z+Math.imul(ot,Rt)|0;var Ft=(ue+q|0)+((Y&8191)<<13)|0;ue=(Z+(Y>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,q=Math.imul(St,Jt),Y=Math.imul(St,gr),Y=Y+Math.imul(rt,Jt)|0,Z=Math.imul(rt,gr),q=q+Math.imul(ht,yt)|0,Y=Y+Math.imul(ht,at)|0,Y=Y+Math.imul(dt,yt)|0,Z=Z+Math.imul(dt,at)|0,q=q+Math.imul(et,Et)|0,Y=Y+Math.imul(et,Rt)|0,Y=Y+Math.imul(qe,Et)|0,Z=Z+Math.imul(qe,Rt)|0;var cr=(ue+q|0)+((Y&8191)<<13)|0;ue=(Z+(Y>>>13)|0)+(cr>>>26)|0,cr&=67108863,q=Math.imul(St,yt),Y=Math.imul(St,at),Y=Y+Math.imul(rt,yt)|0,Z=Math.imul(rt,at),q=q+Math.imul(ht,Et)|0,Y=Y+Math.imul(ht,Rt)|0,Y=Y+Math.imul(dt,Et)|0,Z=Z+Math.imul(dt,Rt)|0;var pr=(ue+q|0)+((Y&8191)<<13)|0;ue=(Z+(Y>>>13)|0)+(pr>>>26)|0,pr&=67108863,q=Math.imul(St,Et),Y=Math.imul(St,Rt),Y=Y+Math.imul(rt,Et)|0,Z=Math.imul(rt,Rt);var mr=(ue+q|0)+((Y&8191)<<13)|0;return ue=(Z+(Y>>>13)|0)+(mr>>>26)|0,mr&=67108863,ne[0]=Dt,ne[1]=Ut,ne[2]=Nt,ne[3]=Kt,ne[4]=ur,ne[5]=fr,ne[6]=vr,ne[7]=We,ne[8]=He,ne[9]=zt,ne[10]=kt,ne[11]=Zt,ne[12]=er,ne[13]=lr,ne[14]=rr,ne[15]=Ft,ne[16]=cr,ne[17]=pr,ne[18]=mr,ue!==0&&(ne[19]=ue,j.length++),j};Math.imul||(C=A);function x(k,I,H){H.negative=I.negative^k.negative,H.length=k.length+I.length;for(var j=0,ee=0,te=0;te<H.length-1;te++){var ne=ee;ee=0;for(var ue=j&67108863,q=Math.min(te,I.length-1),Y=Math.max(0,te-k.length+1);Y<=q;Y++){var Z=te-Y,G=k.words[Z]|0,K=I.words[Y]|0,oe=G*K,$=oe&67108863;ne=ne+(oe/67108864|0)|0,$=$+ue|0,ue=$&67108863,ne=ne+($>>>26)|0,ee+=ne>>>26,ne&=67108863}H.words[te]=ue,j=ne,ne=ee}return j!==0?H.words[te]=j:H.length--,H.strip()}function E(k,I,H){var j=new M;return j.mulp(k,I,H)}s.prototype.mulTo=function(I,H){var j,ee=this.length+I.length;return this.length===10&&I.length===10?j=C(this,I,H):ee<63?j=A(this,I,H):ee<1024?j=x(this,I,H):j=E(this,I,H),j};function M(k,I){this.x=k,this.y=I}M.prototype.makeRBT=function(I){for(var H=new Array(I),j=s.prototype._countBits(I)-1,ee=0;ee<I;ee++)H[ee]=this.revBin(ee,j,I);return H},M.prototype.revBin=function(I,H,j){if(I===0||I===j-1)return I;for(var ee=0,te=0;te<H;te++)ee|=(I&1)<<H-te-1,I>>=1;return ee},M.prototype.permute=function(I,H,j,ee,te,ne){for(var ue=0;ue<ne;ue++)ee[ue]=H[I[ue]],te[ue]=j[I[ue]]},M.prototype.transform=function(I,H,j,ee,te,ne){this.permute(ne,I,H,j,ee,te);for(var ue=1;ue<te;ue<<=1)for(var q=ue<<1,Y=Math.cos(2*Math.PI/q),Z=Math.sin(2*Math.PI/q),G=0;G<te;G+=q)for(var K=Y,oe=Z,$=0;$<ue;$++){var J=j[G+$],se=ee[G+$],ie=j[G+$+ue],ce=ee[G+$+ue],ye=K*ie-oe*ce;ce=K*ce+oe*ie,ie=ye,j[G+$]=J+ie,ee[G+$]=se+ce,j[G+$+ue]=J-ie,ee[G+$+ue]=se-ce,$!==q&&(ye=Y*K-Z*oe,oe=Y*oe+Z*K,K=ye)}},M.prototype.guessLen13b=function(I,H){var j=Math.max(H,I)|1,ee=j&1,te=0;for(j=j/2|0;j;j=j>>>1)te++;return 1<<te+1+ee},M.prototype.conjugate=function(I,H,j){if(!(j<=1))for(var ee=0;ee<j/2;ee++){var te=I[ee];I[ee]=I[j-ee-1],I[j-ee-1]=te,te=H[ee],H[ee]=-H[j-ee-1],H[j-ee-1]=-te}},M.prototype.normalize13b=function(I,H){for(var j=0,ee=0;ee<H/2;ee++){var te=Math.round(I[2*ee+1]/H)*8192+Math.round(I[2*ee]/H)+j;I[ee]=te&67108863,te<67108864?j=0:j=te/67108864|0}return I},M.prototype.convert13b=function(I,H,j,ee){for(var te=0,ne=0;ne<H;ne++)te=te+(I[ne]|0),j[2*ne]=te&8191,te=te>>>13,j[2*ne+1]=te&8191,te=te>>>13;for(ne=2*H;ne<ee;++ne)j[ne]=0;n(te===0),n((te&-8192)===0)},M.prototype.stub=function(I){for(var H=new Array(I),j=0;j<I;j++)H[j]=0;return H},M.prototype.mulp=function(I,H,j){var ee=2*this.guessLen13b(I.length,H.length),te=this.makeRBT(ee),ne=this.stub(ee),ue=new Array(ee),q=new Array(ee),Y=new Array(ee),Z=new Array(ee),G=new Array(ee),K=new Array(ee),oe=j.words;oe.length=ee,this.convert13b(I.words,I.length,ue,ee),this.convert13b(H.words,H.length,Z,ee),this.transform(ue,ne,q,Y,ee,te),this.transform(Z,ne,G,K,ee,te);for(var $=0;$<ee;$++){var J=q[$]*G[$]-Y[$]*K[$];Y[$]=q[$]*K[$]+Y[$]*G[$],q[$]=J}return this.conjugate(q,Y,ee),this.transform(q,Y,oe,ne,ee,te),this.conjugate(oe,ne,ee),this.normalize13b(oe,ee),j.negative=I.negative^H.negative,j.length=I.length+H.length,j.strip()},s.prototype.mul=function(I){var H=new s(null);return H.words=new Array(this.length+I.length),this.mulTo(I,H)},s.prototype.mulf=function(I){var H=new s(null);return H.words=new Array(this.length+I.length),E(this,I,H)},s.prototype.imul=function(I){return this.clone().mulTo(I,this)},s.prototype.imuln=function(I){n(typeof I=="number"),n(I<67108864);for(var H=0,j=0;j<this.length;j++){var ee=(this.words[j]|0)*I,te=(ee&67108863)+(H&67108863);H>>=26,H+=ee/67108864|0,H+=te>>>26,this.words[j]=te&67108863}return H!==0&&(this.words[j]=H,this.length++),this},s.prototype.muln=function(I){return this.clone().imuln(I)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(I){var H=w(I);if(H.length===0)return new s(1);for(var j=this,ee=0;ee<H.length&&H[ee]===0;ee++,j=j.sqr());if(++ee<H.length)for(var te=j.sqr();ee<H.length;ee++,te=te.sqr())H[ee]!==0&&(j=j.mul(te));return j},s.prototype.iushln=function(I){n(typeof I=="number"&&I>=0);var H=I%26,j=(I-H)/26,ee=67108863>>>26-H<<26-H,te;if(H!==0){var ne=0;for(te=0;te<this.length;te++){var ue=this.words[te]&ee,q=(this.words[te]|0)-ue<<H;this.words[te]=q|ne,ne=ue>>>26-H}ne&&(this.words[te]=ne,this.length++)}if(j!==0){for(te=this.length-1;te>=0;te--)this.words[te+j]=this.words[te];for(te=0;te<j;te++)this.words[te]=0;this.length+=j}return this.strip()},s.prototype.ishln=function(I){return n(this.negative===0),this.iushln(I)},s.prototype.iushrn=function(I,H,j){n(typeof I=="number"&&I>=0);var ee;H?ee=(H-H%26)/26:ee=0;var te=I%26,ne=Math.min((I-te)/26,this.length),ue=67108863^67108863>>>te<<te,q=j;if(ee-=ne,ee=Math.max(0,ee),q){for(var Y=0;Y<ne;Y++)q.words[Y]=this.words[Y];q.length=ne}if(ne!==0)if(this.length>ne)for(this.length-=ne,Y=0;Y<this.length;Y++)this.words[Y]=this.words[Y+ne];else this.words[0]=0,this.length=1;var Z=0;for(Y=this.length-1;Y>=0&&(Z!==0||Y>=ee);Y--){var G=this.words[Y]|0;this.words[Y]=Z<<26-te|G>>>te,Z=G&ue}return q&&Z!==0&&(q.words[q.length++]=Z),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(I,H,j){return n(this.negative===0),this.iushrn(I,H,j)},s.prototype.shln=function(I){return this.clone().ishln(I)},s.prototype.ushln=function(I){return this.clone().iushln(I)},s.prototype.shrn=function(I){return this.clone().ishrn(I)},s.prototype.ushrn=function(I){return this.clone().iushrn(I)},s.prototype.testn=function(I){n(typeof I=="number"&&I>=0);var H=I%26,j=(I-H)/26,ee=1<<H;if(this.length<=j)return!1;var te=this.words[j];return!!(te&ee)},s.prototype.imaskn=function(I){n(typeof I=="number"&&I>=0);var H=I%26,j=(I-H)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=j)return this;if(H!==0&&j++,this.length=Math.min(j,this.length),H!==0){var ee=67108863^67108863>>>H<<H;this.words[this.length-1]&=ee}return this.strip()},s.prototype.maskn=function(I){return this.clone().imaskn(I)},s.prototype.iaddn=function(I){return n(typeof I=="number"),n(I<67108864),I<0?this.isubn(-I):this.negative!==0?this.length===1&&(this.words[0]|0)<I?(this.words[0]=I-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(I),this.negative=1,this):this._iaddn(I)},s.prototype._iaddn=function(I){this.words[0]+=I;for(var H=0;H<this.length&&this.words[H]>=67108864;H++)this.words[H]-=67108864,H===this.length-1?this.words[H+1]=1:this.words[H+1]++;return this.length=Math.max(this.length,H+1),this},s.prototype.isubn=function(I){if(n(typeof I=="number"),n(I<67108864),I<0)return this.iaddn(-I);if(this.negative!==0)return this.negative=0,this.iaddn(I),this.negative=1,this;if(this.words[0]-=I,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var H=0;H<this.length&&this.words[H]<0;H++)this.words[H]+=67108864,this.words[H+1]-=1;return this.strip()},s.prototype.addn=function(I){return this.clone().iaddn(I)},s.prototype.subn=function(I){return this.clone().isubn(I)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(I,H,j){var ee=I.length+j,te;this._expand(ee);var ne,ue=0;for(te=0;te<I.length;te++){ne=(this.words[te+j]|0)+ue;var q=(I.words[te]|0)*H;ne-=q&67108863,ue=(ne>>26)-(q/67108864|0),this.words[te+j]=ne&67108863}for(;te<this.length-j;te++)ne=(this.words[te+j]|0)+ue,ue=ne>>26,this.words[te+j]=ne&67108863;if(ue===0)return this.strip();for(n(ue===-1),ue=0,te=0;te<this.length;te++)ne=-(this.words[te]|0)+ue,ue=ne>>26,this.words[te]=ne&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(I,H){var j=this.length-I.length,ee=this.clone(),te=I,ne=te.words[te.length-1]|0,ue=this._countBits(ne);j=26-ue,j!==0&&(te=te.ushln(j),ee.iushln(j),ne=te.words[te.length-1]|0);var q=ee.length-te.length,Y;if(H!=="mod"){Y=new s(null),Y.length=q+1,Y.words=new Array(Y.length);for(var Z=0;Z<Y.length;Z++)Y.words[Z]=0}var G=ee.clone()._ishlnsubmul(te,1,q);G.negative===0&&(ee=G,Y&&(Y.words[q]=1));for(var K=q-1;K>=0;K--){var oe=(ee.words[te.length+K]|0)*67108864+(ee.words[te.length+K-1]|0);for(oe=Math.min(oe/ne|0,67108863),ee._ishlnsubmul(te,oe,K);ee.negative!==0;)oe--,ee.negative=0,ee._ishlnsubmul(te,1,K),ee.isZero()||(ee.negative^=1);Y&&(Y.words[K]=oe)}return Y&&Y.strip(),ee.strip(),H!=="div"&&j!==0&&ee.iushrn(j),{div:Y||null,mod:ee}},s.prototype.divmod=function(I,H,j){if(n(!I.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var ee,te,ne;return this.negative!==0&&I.negative===0?(ne=this.neg().divmod(I,H),H!=="mod"&&(ee=ne.div.neg()),H!=="div"&&(te=ne.mod.neg(),j&&te.negative!==0&&te.iadd(I)),{div:ee,mod:te}):this.negative===0&&I.negative!==0?(ne=this.divmod(I.neg(),H),H!=="mod"&&(ee=ne.div.neg()),{div:ee,mod:ne.mod}):this.negative&I.negative?(ne=this.neg().divmod(I.neg(),H),H!=="div"&&(te=ne.mod.neg(),j&&te.negative!==0&&te.isub(I)),{div:ne.div,mod:te}):I.length>this.length||this.cmp(I)<0?{div:new s(0),mod:this}:I.length===1?H==="div"?{div:this.divn(I.words[0]),mod:null}:H==="mod"?{div:null,mod:new s(this.modn(I.words[0]))}:{div:this.divn(I.words[0]),mod:new s(this.modn(I.words[0]))}:this._wordDiv(I,H)},s.prototype.div=function(I){return this.divmod(I,"div",!1).div},s.prototype.mod=function(I){return this.divmod(I,"mod",!1).mod},s.prototype.umod=function(I){return this.divmod(I,"mod",!0).mod},s.prototype.divRound=function(I){var H=this.divmod(I);if(H.mod.isZero())return H.div;var j=H.div.negative!==0?H.mod.isub(I):H.mod,ee=I.ushrn(1),te=I.andln(1),ne=j.cmp(ee);return ne<0||te===1&&ne===0?H.div:H.div.negative!==0?H.div.isubn(1):H.div.iaddn(1)},s.prototype.modn=function(I){n(I<=67108863);for(var H=(1<<26)%I,j=0,ee=this.length-1;ee>=0;ee--)j=(H*j+(this.words[ee]|0))%I;return j},s.prototype.idivn=function(I){n(I<=67108863);for(var H=0,j=this.length-1;j>=0;j--){var ee=(this.words[j]|0)+H*67108864;this.words[j]=ee/I|0,H=ee%I}return this.strip()},s.prototype.divn=function(I){return this.clone().idivn(I)},s.prototype.egcd=function(I){n(I.negative===0),n(!I.isZero());var H=this,j=I.clone();H.negative!==0?H=H.umod(I):H=H.clone();for(var ee=new s(1),te=new s(0),ne=new s(0),ue=new s(1),q=0;H.isEven()&&j.isEven();)H.iushrn(1),j.iushrn(1),++q;for(var Y=j.clone(),Z=H.clone();!H.isZero();){for(var G=0,K=1;!(H.words[0]&K)&&G<26;++G,K<<=1);if(G>0)for(H.iushrn(G);G-- >0;)(ee.isOdd()||te.isOdd())&&(ee.iadd(Y),te.isub(Z)),ee.iushrn(1),te.iushrn(1);for(var oe=0,$=1;!(j.words[0]&$)&&oe<26;++oe,$<<=1);if(oe>0)for(j.iushrn(oe);oe-- >0;)(ne.isOdd()||ue.isOdd())&&(ne.iadd(Y),ue.isub(Z)),ne.iushrn(1),ue.iushrn(1);H.cmp(j)>=0?(H.isub(j),ee.isub(ne),te.isub(ue)):(j.isub(H),ne.isub(ee),ue.isub(te))}return{a:ne,b:ue,gcd:j.iushln(q)}},s.prototype._invmp=function(I){n(I.negative===0),n(!I.isZero());var H=this,j=I.clone();H.negative!==0?H=H.umod(I):H=H.clone();for(var ee=new s(1),te=new s(0),ne=j.clone();H.cmpn(1)>0&&j.cmpn(1)>0;){for(var ue=0,q=1;!(H.words[0]&q)&&ue<26;++ue,q<<=1);if(ue>0)for(H.iushrn(ue);ue-- >0;)ee.isOdd()&&ee.iadd(ne),ee.iushrn(1);for(var Y=0,Z=1;!(j.words[0]&Z)&&Y<26;++Y,Z<<=1);if(Y>0)for(j.iushrn(Y);Y-- >0;)te.isOdd()&&te.iadd(ne),te.iushrn(1);H.cmp(j)>=0?(H.isub(j),ee.isub(te)):(j.isub(H),te.isub(ee))}var G;return H.cmpn(1)===0?G=ee:G=te,G.cmpn(0)<0&&G.iadd(I),G},s.prototype.gcd=function(I){if(this.isZero())return I.abs();if(I.isZero())return this.abs();var H=this.clone(),j=I.clone();H.negative=0,j.negative=0;for(var ee=0;H.isEven()&&j.isEven();ee++)H.iushrn(1),j.iushrn(1);do{for(;H.isEven();)H.iushrn(1);for(;j.isEven();)j.iushrn(1);var te=H.cmp(j);if(te<0){var ne=H;H=j,j=ne}else if(te===0||j.cmpn(1)===0)break;H.isub(j)}while(!0);return j.iushln(ee)},s.prototype.invm=function(I){return this.egcd(I).a.umod(I)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(I){return this.words[0]&I},s.prototype.bincn=function(I){n(typeof I=="number");var H=I%26,j=(I-H)/26,ee=1<<H;if(this.length<=j)return this._expand(j+1),this.words[j]|=ee,this;for(var te=ee,ne=j;te!==0&&ne<this.length;ne++){var ue=this.words[ne]|0;ue+=te,te=ue>>>26,ue&=67108863,this.words[ne]=ue}return te!==0&&(this.words[ne]=te,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(I){var H=I<0;if(this.negative!==0&&!H)return-1;if(this.negative===0&&H)return 1;this.strip();var j;if(this.length>1)j=1;else{H&&(I=-I),n(I<=67108863,"Number is too big");var ee=this.words[0]|0;j=ee===I?0:ee<I?-1:1}return this.negative!==0?-j|0:j},s.prototype.cmp=function(I){if(this.negative!==0&&I.negative===0)return-1;if(this.negative===0&&I.negative!==0)return 1;var H=this.ucmp(I);return this.negative!==0?-H|0:H},s.prototype.ucmp=function(I){if(this.length>I.length)return 1;if(this.length<I.length)return-1;for(var H=0,j=this.length-1;j>=0;j--){var ee=this.words[j]|0,te=I.words[j]|0;if(ee!==te){ee<te?H=-1:ee>te&&(H=1);break}}return H},s.prototype.gtn=function(I){return this.cmpn(I)===1},s.prototype.gt=function(I){return this.cmp(I)===1},s.prototype.gten=function(I){return this.cmpn(I)>=0},s.prototype.gte=function(I){return this.cmp(I)>=0},s.prototype.ltn=function(I){return this.cmpn(I)===-1},s.prototype.lt=function(I){return this.cmp(I)===-1},s.prototype.lten=function(I){return this.cmpn(I)<=0},s.prototype.lte=function(I){return this.cmp(I)<=0},s.prototype.eqn=function(I){return this.cmpn(I)===0},s.prototype.eq=function(I){return this.cmp(I)===0},s.red=function(I){return new F(I)},s.prototype.toRed=function(I){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),I.convertTo(this)._forceRed(I)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(I){return this.red=I,this},s.prototype.forceRed=function(I){return n(!this.red,"Already a number in reduction context"),this._forceRed(I)},s.prototype.redAdd=function(I){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,I)},s.prototype.redIAdd=function(I){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,I)},s.prototype.redSub=function(I){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,I)},s.prototype.redISub=function(I){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,I)},s.prototype.redShl=function(I){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,I)},s.prototype.redMul=function(I){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,I),this.red.mul(this,I)},s.prototype.redIMul=function(I){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,I),this.red.imul(this,I)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(I){return n(this.red&&!I.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,I)};var f={k256:null,p224:null,p192:null,p25519:null};function P(k,I){this.name=k,this.p=new s(I,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var I=new s(null);return I.words=new Array(Math.ceil(this.n/13)),I},P.prototype.ireduce=function(I){var H=I,j;do this.split(H,this.tmp),H=this.imulK(H),H=H.iadd(this.tmp),j=H.bitLength();while(j>this.n);var ee=j<this.n?-1:H.ucmp(this.p);return ee===0?(H.words[0]=0,H.length=1):ee>0?H.isub(this.p):H.strip!==void 0?H.strip():H._strip(),H},P.prototype.split=function(I,H){I.iushrn(this.n,0,H)},P.prototype.imulK=function(I){return I.imul(this.k)};function T(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(T,P),T.prototype.split=function(I,H){for(var j=4194303,ee=Math.min(I.length,9),te=0;te<ee;te++)H.words[te]=I.words[te];if(H.length=ee,I.length<=9){I.words[0]=0,I.length=1;return}var ne=I.words[9];for(H.words[H.length++]=ne&j,te=10;te<I.length;te++){var ue=I.words[te]|0;I.words[te-10]=(ue&j)<<4|ne>>>22,ne=ue}ne>>>=22,I.words[te-10]=ne,ne===0&&I.length>10?I.length-=10:I.length-=9},T.prototype.imulK=function(I){I.words[I.length]=0,I.words[I.length+1]=0,I.length+=2;for(var H=0,j=0;j<I.length;j++){var ee=I.words[j]|0;H+=ee*977,I.words[j]=H&67108863,H=ee*64+(H/67108864|0)}return I.words[I.length-1]===0&&(I.length--,I.words[I.length-1]===0&&I.length--),I};function z(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(z,P);function _(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(_,P);function V(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(V,P),V.prototype.imulK=function(I){for(var H=0,j=0;j<I.length;j++){var ee=(I.words[j]|0)*19+H,te=ee&67108863;ee>>>=26,I.words[j]=te,H=ee}return H!==0&&(I.words[I.length++]=H),I},s._prime=function(I){if(f[I])return f[I];var H;if(I==="k256")H=new T;else if(I==="p224")H=new z;else if(I==="p192")H=new _;else if(I==="p25519")H=new V;else throw new Error("Unknown prime "+I);return f[I]=H,H};function F(k){if(typeof k=="string"){var I=s._prime(k);this.m=I.p,this.prime=I}else n(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}F.prototype._verify1=function(I){n(I.negative===0,"red works only with positives"),n(I.red,"red works only with red numbers")},F.prototype._verify2=function(I,H){n((I.negative|H.negative)===0,"red works only with positives"),n(I.red&&I.red===H.red,"red works only with red numbers")},F.prototype.imod=function(I){return this.prime?this.prime.ireduce(I)._forceRed(this):I.umod(this.m)._forceRed(this)},F.prototype.neg=function(I){return I.isZero()?I.clone():this.m.sub(I)._forceRed(this)},F.prototype.add=function(I,H){this._verify2(I,H);var j=I.add(H);return j.cmp(this.m)>=0&&j.isub(this.m),j._forceRed(this)},F.prototype.iadd=function(I,H){this._verify2(I,H);var j=I.iadd(H);return j.cmp(this.m)>=0&&j.isub(this.m),j},F.prototype.sub=function(I,H){this._verify2(I,H);var j=I.sub(H);return j.cmpn(0)<0&&j.iadd(this.m),j._forceRed(this)},F.prototype.isub=function(I,H){this._verify2(I,H);var j=I.isub(H);return j.cmpn(0)<0&&j.iadd(this.m),j},F.prototype.shl=function(I,H){return this._verify1(I),this.imod(I.ushln(H))},F.prototype.imul=function(I,H){return this._verify2(I,H),this.imod(I.imul(H))},F.prototype.mul=function(I,H){return this._verify2(I,H),this.imod(I.mul(H))},F.prototype.isqr=function(I){return this.imul(I,I.clone())},F.prototype.sqr=function(I){return this.mul(I,I)},F.prototype.sqrt=function(I){if(I.isZero())return I.clone();var H=this.m.andln(3);if(n(H%2===1),H===3){var j=this.m.add(new s(1)).iushrn(2);return this.pow(I,j)}for(var ee=this.m.subn(1),te=0;!ee.isZero()&&ee.andln(1)===0;)te++,ee.iushrn(1);n(!ee.isZero());var ne=new s(1).toRed(this),ue=ne.redNeg(),q=this.m.subn(1).iushrn(1),Y=this.m.bitLength();for(Y=new s(2*Y*Y).toRed(this);this.pow(Y,q).cmp(ue)!==0;)Y.redIAdd(ue);for(var Z=this.pow(Y,ee),G=this.pow(I,ee.addn(1).iushrn(1)),K=this.pow(I,ee),oe=te;K.cmp(ne)!==0;){for(var $=K,J=0;$.cmp(ne)!==0;J++)$=$.redSqr();n(J<oe);var se=this.pow(Z,new s(1).iushln(oe-J-1));G=G.redMul(se),Z=se.redSqr(),K=K.redMul(Z),oe=J}return G},F.prototype.invm=function(I){var H=I._invmp(this.m);return H.negative!==0?(H.negative=0,this.imod(H).redNeg()):this.imod(H)},F.prototype.pow=function(I,H){if(H.isZero())return new s(1).toRed(this);if(H.cmpn(1)===0)return I.clone();var j=4,ee=new Array(1<<j);ee[0]=new s(1).toRed(this),ee[1]=I;for(var te=2;te<ee.length;te++)ee[te]=this.mul(ee[te-1],I);var ne=ee[0],ue=0,q=0,Y=H.bitLength()%26;for(Y===0&&(Y=26),te=H.length-1;te>=0;te--){for(var Z=H.words[te],G=Y-1;G>=0;G--){var K=Z>>G&1;if(ne!==ee[0]&&(ne=this.sqr(ne)),K===0&&ue===0){q=0;continue}ue<<=1,ue|=K,q++,!(q!==j&&(te!==0||G!==0))&&(ne=this.mul(ne,ee[ue]),q=0,ue=0)}Y=26}return ne},F.prototype.convertTo=function(I){var H=I.umod(this.m);return H===I?H.clone():H},F.prototype.convertFrom=function(I){var H=I.clone();return H.red=null,H},s.mont=function(I){return new N(I)};function N(k){F.call(this,k),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(N,F),N.prototype.convertTo=function(I){return this.imod(I.ushln(this.shift))},N.prototype.convertFrom=function(I){var H=this.imod(I.mul(this.rinv));return H.red=null,H},N.prototype.imul=function(I,H){if(I.isZero()||H.isZero())return I.words[0]=0,I.length=1,I;var j=I.imul(H),ee=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),te=j.isub(ee).iushrn(this.shift),ne=te;return te.cmp(this.m)>=0?ne=te.isub(this.m):te.cmpn(0)<0&&(ne=te.iadd(this.m)),ne._forceRed(this)},N.prototype.mul=function(I,H){if(I.isZero()||H.isZero())return new s(0)._forceRed(this);var j=I.mul(H),ee=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),te=j.isub(ee).iushrn(this.shift),ne=te;return te.cmp(this.m)>=0?ne=te.isub(this.m):te.cmpn(0)<0&&(ne=te.iadd(this.m)),ne._forceRed(this)},N.prototype.invm=function(I){var H=this.imod(I._invmp(this.m).mul(this.r2));return H._forceRed(this)}}(v,this)},2692:function(v){v.exports=p;function p(r){var t,a,n,u=r.length,s=0;for(t=0;t<u;++t)s+=r[t].length;var l=new Array(s),m=0;for(t=0;t<u;++t){var h=r[t],g=h.length;for(a=0;a<g;++a){var c=l[m++]=new Array(g-1),o=0;for(n=0;n<g;++n)n!==a&&(c[o++]=h[n]);if(a&1){var d=c[1];c[1]=c[0],c[0]=d}}}return l}},2569:function(v,p,r){v.exports=o;var t=r(5306),a=r(1390),n=r(2337);function u(d,w){for(var A=0;A<d;++A)if(!(w[A]<=w[A+d]))return!0;return!1}function s(d,w,A,C){for(var x=0,E=0,M=0,f=d.length;M<f;++M){var P=d[M];if(!u(w,P)){for(var T=0;T<2*w;++T)A[x++]=P[T];C[E++]=M}}return E}function l(d,w,A,C){var x=d.length,E=w.length;if(!(x<=0||E<=0)){var M=d[0].length>>>1;if(!(M<=0)){var f,P=t.mallocDouble(2*M*x),T=t.mallocInt32(x);if(x=s(d,M,P,T),x>0){if(M===1&&C)a.init(x),f=a.sweepComplete(M,A,0,x,P,T,0,x,P,T);else{var z=t.mallocDouble(2*M*E),_=t.mallocInt32(E);E=s(w,M,z,_),E>0&&(a.init(x+E),M===1?f=a.sweepBipartite(M,A,0,x,P,T,0,E,z,_):f=n(M,A,C,x,P,T,E,z,_),t.free(z),t.free(_))}t.free(P),t.free(T)}return f}}}var m;function h(d,w){m.push([d,w])}function g(d){return m=[],l(d,d,h,!0),m}function c(d,w){return m=[],l(d,w,h,!1),m}function o(d,w,A){switch(arguments.length){case 1:return g(d);case 2:return typeof w=="function"?l(d,d,w,!0):c(d,w);case 3:return l(d,w,A,!1);default:throw new Error("box-intersect: Invalid arguments")}}},7333:function(v,p){function r(){function n(l,m,h,g,c,o,d,w,A,C,x){for(var E=2*l,M=g,f=E*g;M<c;++M,f+=E){var P=o[m+f],T=o[m+f+l],z=d[M];e:for(var _=w,V=E*w;_<A;++_,V+=E){var F=C[m+V],N=C[m+V+l],k=x[_];if(!(N<P||T<F)){for(var I=m+1;I<l;++I){var H=o[I+f],j=o[I+l+f],ee=C[I+V],te=C[I+l+V];if(j<ee||te<H)continue e}var ne=h(z,k);if(ne!==void 0)return ne}}}}function u(l,m,h,g,c,o,d,w,A,C,x){for(var E=2*l,M=w,f=E*w;M<A;++M,f+=E){var P=C[m+f],T=C[m+f+l],z=x[M];e:for(var _=g,V=E*g;_<c;++_,V+=E){var F=o[m+V],N=o[m+V+l],k=d[_];if(!(T<F||N<P)){for(var I=m+1;I<l;++I){var H=o[I+V],j=o[I+l+V],ee=C[I+f],te=C[I+l+f];if(j<ee||te<H)continue e}var ne=h(k,z);if(ne!==void 0)return ne}}}}function s(l,m,h,g,c,o,d,w,A,C,x){return c-g>A-w?n(l,m,h,g,c,o,d,w,A,C,x):u(l,m,h,g,c,o,d,w,A,C,x)}return s}function t(){function n(h,g,c,o,d,w,A,C,x,E,M){for(var f=2*h,P=o,T=f*o;P<d;++P,T+=f){var z=w[g+T],_=w[g+T+h],V=A[P];e:for(var F=C,N=f*C;F<x;++F,N+=f){var k=E[g+N],I=M[F];if(!(k<=z||_<k)){for(var H=g+1;H<h;++H){var j=w[H+T],ee=w[H+h+T],te=E[H+N],ne=E[H+h+N];if(ee<te||ne<j)continue e}var ue=c(I,V);if(ue!==void 0)return ue}}}}function u(h,g,c,o,d,w,A,C,x,E,M){for(var f=2*h,P=o,T=f*o;P<d;++P,T+=f){var z=w[g+T],_=w[g+T+h],V=A[P];e:for(var F=C,N=f*C;F<x;++F,N+=f){var k=E[g+N],I=M[F];if(!(k<z||_<k)){for(var H=g+1;H<h;++H){var j=w[H+T],ee=w[H+h+T],te=E[H+N],ne=E[H+h+N];if(ee<te||ne<j)continue e}var ue=c(V,I);if(ue!==void 0)return ue}}}}function s(h,g,c,o,d,w,A,C,x,E,M){for(var f=2*h,P=C,T=f*C;P<x;++P,T+=f){var z=E[g+T],_=M[P];e:for(var V=o,F=f*o;V<d;++V,F+=f){var N=w[g+F],k=w[g+F+h],I=A[V];if(!(z<=N||k<z)){for(var H=g+1;H<h;++H){var j=w[H+F],ee=w[H+h+F],te=E[H+T],ne=E[H+h+T];if(ee<te||ne<j)continue e}var ue=c(_,I);if(ue!==void 0)return ue}}}}function l(h,g,c,o,d,w,A,C,x,E,M){for(var f=2*h,P=C,T=f*C;P<x;++P,T+=f){var z=E[g+T],_=M[P];e:for(var V=o,F=f*o;V<d;++V,F+=f){var N=w[g+F],k=w[g+F+h],I=A[V];if(!(z<N||k<z)){for(var H=g+1;H<h;++H){var j=w[H+F],ee=w[H+h+F],te=E[H+T],ne=E[H+h+T];if(ee<te||ne<j)continue e}var ue=c(I,_);if(ue!==void 0)return ue}}}}function m(h,g,c,o,d,w,A,C,x,E,M,f){return w-d>E-x?o?n(h,g,c,d,w,A,C,x,E,M,f):u(h,g,c,d,w,A,C,x,E,M,f):o?s(h,g,c,d,w,A,C,x,E,M,f):l(h,g,c,d,w,A,C,x,E,M,f)}return m}function a(n){return n?r():t()}p.partial=a(!1),p.full=a(!0)},2337:function(v,p,r){v.exports=k;var t=r(5306),a=r(2288),n=r(7333),u=n.partial,s=n.full,l=r(1390),m=r(2464),h=r(122),g=128,c=1<<22,o=1<<22,d=h("!(lo>=p0)&&!(p1>=hi)"),w=h("lo===p0"),A=h("lo<p0"),C=h("hi<=p0"),x=h("lo<=p0&&p0<=hi"),E=h("lo<p0&&p0<=hi"),M=6,f=2,P=1024,T=t.mallocInt32(P),z=t.mallocDouble(P);function _(I,H){var j=8*a.log2(H+1)*(I+1)|0,ee=a.nextPow2(M*j);T.length<ee&&(t.free(T),T=t.mallocInt32(ee));var te=a.nextPow2(f*j);z.length<te&&(t.free(z),z=t.mallocDouble(te))}function V(I,H,j,ee,te,ne,ue,q,Y){var Z=M*I;T[Z]=H,T[Z+1]=j,T[Z+2]=ee,T[Z+3]=te,T[Z+4]=ne,T[Z+5]=ue;var G=f*I;z[G]=q,z[G+1]=Y}function F(I,H,j,ee,te,ne,ue,q,Y,Z,G){var K=2*I,oe=Y*K,$=Z[oe+H];e:for(var J=te,se=te*K;J<ne;++J,se+=K){var ie=ue[se+H],ce=ue[se+H+I];if(!($<ie||ce<$)&&!(ee&&$===ie)){for(var ye=q[J],Se=H+1;Se<I;++Se){var ie=ue[se+Se],ce=ue[se+Se+I],Te=Z[oe+Se],ke=Z[oe+Se+I];if(ce<Te||ke<ie)continue e}var we;if(ee?we=j(G,ye):we=j(ye,G),we!==void 0)return we}}}function N(I,H,j,ee,te,ne,ue,q,Y,Z){var G=2*I,K=q*G,oe=Y[K+H];e:for(var $=ee,J=ee*G;$<te;++$,J+=G){var se=ue[$];if(se!==Z){var ie=ne[J+H],ce=ne[J+H+I];if(!(oe<ie||ce<oe)){for(var ye=H+1;ye<I;++ye){var ie=ne[J+ye],ce=ne[J+ye+I],Se=Y[K+ye],Te=Y[K+ye+I];if(ce<Se||Te<ie)continue e}var ke=j(se,Z);if(ke!==void 0)return ke}}}}function k(I,H,j,ee,te,ne,ue,q,Y){_(I,ee+ue);var Z=0,G=2*I,K;for(V(Z++,0,0,ee,0,ue,j?16:0,-1/0,1/0),j||V(Z++,0,0,ue,0,ee,1,-1/0,1/0);Z>0;){Z-=1;var oe=Z*M,$=T[oe],J=T[oe+1],se=T[oe+2],ie=T[oe+3],ce=T[oe+4],ye=T[oe+5],Se=Z*f,Te=z[Se],ke=z[Se+1],we=ye&1,Ee=!!(ye&16),xe=te,De=ne,Ve=q,Ue=Y;if(we&&(xe=q,De=Y,Ve=te,Ue=ne),!(ye&2&&(se=A(I,$,J,se,xe,De,ke),J>=se))&&!(ye&4&&(J=C(I,$,J,se,xe,De,Te),J>=se))){var Be=se-J,Xe=ce-ie;if(Ee){if(I*Be*(Be+Xe)<o){if(K=l.scanComplete(I,$,H,J,se,xe,De,ie,ce,Ve,Ue),K!==void 0)return K;continue}}else if(I*Math.min(Be,Xe)<g){if(K=u(I,$,H,we,J,se,xe,De,ie,ce,Ve,Ue),K!==void 0)return K;continue}else if(I*Be*Xe<c){if(K=l.scanBipartite(I,$,H,we,J,se,xe,De,ie,ce,Ve,Ue),K!==void 0)return K;continue}var ot=d(I,$,J,se,xe,De,Te,ke);if(J<ot)if(I*(ot-J)<g){if(K=s(I,$+1,H,J,ot,xe,De,ie,ce,Ve,Ue),K!==void 0)return K}else if($===I-2){if(we?K=l.sweepBipartite(I,H,ie,ce,Ve,Ue,J,ot,xe,De):K=l.sweepBipartite(I,H,J,ot,xe,De,ie,ce,Ve,Ue),K!==void 0)return K}else V(Z++,$+1,J,ot,ie,ce,we,-1/0,1/0),V(Z++,$+1,ie,ce,J,ot,we^1,-1/0,1/0);if(ot<se){var ut=m(I,$,ie,ce,Ve,Ue),et=Ve[G*ut+$],qe=w(I,$,ut,ce,Ve,Ue,et);if(qe<ce&&V(Z++,$,ot,se,qe,ce,(we|4)+(Ee?16:0),et,ke),ie<ut&&V(Z++,$,ot,se,ie,ut,(we|2)+(Ee?16:0),Te,et),ut+1===qe){if(Ee?K=N(I,$,H,ot,se,xe,De,ut,Ve,Ue[ut]):K=F(I,$,H,we,ot,se,xe,De,ut,Ve,Ue[ut]),K!==void 0)return K}else if(ut<qe){var ft;if(Ee){if(ft=x(I,$,ot,se,xe,De,et),ot<ft){var ht=w(I,$,ot,ft,xe,De,et);if($===I-2){if(ot<ht&&(K=l.sweepComplete(I,H,ot,ht,xe,De,ut,qe,Ve,Ue),K!==void 0)||ht<ft&&(K=l.sweepBipartite(I,H,ht,ft,xe,De,ut,qe,Ve,Ue),K!==void 0))return K}else ot<ht&&V(Z++,$+1,ot,ht,ut,qe,16,-1/0,1/0),ht<ft&&(V(Z++,$+1,ht,ft,ut,qe,0,-1/0,1/0),V(Z++,$+1,ut,qe,ht,ft,1,-1/0,1/0))}}else we?ft=E(I,$,ot,se,xe,De,et):ft=x(I,$,ot,se,xe,De,et),ot<ft&&($===I-2?we?K=l.sweepBipartite(I,H,ut,qe,Ve,Ue,ot,ft,xe,De):K=l.sweepBipartite(I,H,ot,ft,xe,De,ut,qe,Ve,Ue):(V(Z++,$+1,ot,ft,ut,qe,we,-1/0,1/0),V(Z++,$+1,ut,qe,ot,ft,we^1,-1/0,1/0)))}}}}}},2464:function(v,p,r){v.exports=s;var t=r(122),a=t("lo<p0"),n=8;function u(l,m,h,g,c,o){for(var d=2*l,w=d*(h+1)+m,A=h+1;A<g;++A,w+=d)for(var C=c[w],x=A,E=d*(A-1);x>h&&c[E+m]>C;--x,E-=d){for(var M=E,f=E+d,P=0;P<d;++P,++M,++f){var T=c[M];c[M]=c[f],c[f]=T}var z=o[x];o[x]=o[x-1],o[x-1]=z}}function s(l,m,h,g,c,o){if(g<=h+1)return h;for(var d=h,w=g,A=g+h>>>1,C=2*l,x=A,E=c[C*A+m];d<w;){if(w-d<n){u(l,m,d,w,c,o),E=c[C*A+m];break}var M=w-d,f=Math.random()*M+d|0,P=c[C*f+m],T=Math.random()*M+d|0,z=c[C*T+m],_=Math.random()*M+d|0,V=c[C*_+m];P<=z?V>=z?(x=T,E=z):P>=V?(x=f,E=P):(x=_,E=V):z>=V?(x=T,E=z):V>=P?(x=f,E=P):(x=_,E=V);for(var k=C*(w-1),I=C*x,F=0;F<C;++F,++k,++I){var N=c[k];c[k]=c[I],c[I]=N}var H=o[w-1];o[w-1]=o[x],o[x]=H,x=a(l,m,d,w-1,c,o,E);for(var k=C*(w-1),I=C*x,F=0;F<C;++F,++k,++I){var N=c[k];c[k]=c[I],c[I]=N}var H=o[w-1];if(o[w-1]=o[x],o[x]=H,A<x){for(w=x-1;d<w&&c[C*(w-1)+m]===E;)w-=1;w+=1}else if(x<A)for(d=x+1;d<w&&c[C*d+m]===E;)d+=1;else break}return a(l,m,h,A,c,o,c[C*A+m])}},122:function(v){v.exports=r;var p={"lo===p0":t,"lo<p0":a,"lo<=p0":n,"hi<=p0":u,"lo<p0&&p0<=hi":l,"lo<=p0&&p0<=hi":s,"!(lo>=p0)&&!(p1>=hi)":m};function r(h){return p[h]}function t(h,g,c,o,d,w,A){for(var C=2*h,x=C*c,E=x,M=c,f=g,P=h+g,T=c;o>T;++T,x+=C){var z=d[x+f];if(z===A)if(M===T)M+=1,E+=C;else{for(var _=0;C>_;++_){var V=d[x+_];d[x+_]=d[E],d[E++]=V}var F=w[T];w[T]=w[M],w[M++]=F}}return M}function a(h,g,c,o,d,w,A){for(var C=2*h,x=C*c,E=x,M=c,f=g,P=h+g,T=c;o>T;++T,x+=C){var z=d[x+f];if(z<A)if(M===T)M+=1,E+=C;else{for(var _=0;C>_;++_){var V=d[x+_];d[x+_]=d[E],d[E++]=V}var F=w[T];w[T]=w[M],w[M++]=F}}return M}function n(h,g,c,o,d,w,A){for(var C=2*h,x=C*c,E=x,M=c,f=g,P=h+g,T=c;o>T;++T,x+=C){var z=d[x+P];if(z<=A)if(M===T)M+=1,E+=C;else{for(var _=0;C>_;++_){var V=d[x+_];d[x+_]=d[E],d[E++]=V}var F=w[T];w[T]=w[M],w[M++]=F}}return M}function u(h,g,c,o,d,w,A){for(var C=2*h,x=C*c,E=x,M=c,f=g,P=h+g,T=c;o>T;++T,x+=C){var z=d[x+P];if(z<=A)if(M===T)M+=1,E+=C;else{for(var _=0;C>_;++_){var V=d[x+_];d[x+_]=d[E],d[E++]=V}var F=w[T];w[T]=w[M],w[M++]=F}}return M}function s(h,g,c,o,d,w,A){for(var C=2*h,x=C*c,E=x,M=c,f=g,P=h+g,T=c;o>T;++T,x+=C){var z=d[x+f],_=d[x+P];if(z<=A&&A<=_)if(M===T)M+=1,E+=C;else{for(var V=0;C>V;++V){var F=d[x+V];d[x+V]=d[E],d[E++]=F}var N=w[T];w[T]=w[M],w[M++]=N}}return M}function l(h,g,c,o,d,w,A){for(var C=2*h,x=C*c,E=x,M=c,f=g,P=h+g,T=c;o>T;++T,x+=C){var z=d[x+f],_=d[x+P];if(z<A&&A<=_)if(M===T)M+=1,E+=C;else{for(var V=0;C>V;++V){var F=d[x+V];d[x+V]=d[E],d[E++]=F}var N=w[T];w[T]=w[M],w[M++]=N}}return M}function m(h,g,c,o,d,w,A,C){for(var x=2*h,E=x*c,M=E,f=c,P=g,T=h+g,z=c;o>z;++z,E+=x){var _=d[E+P],V=d[E+T];if(!(_>=A)&&!(C>=V))if(f===z)f+=1,M+=x;else{for(var F=0;x>F;++F){var N=d[E+F];d[E+F]=d[M],d[M++]=N}var k=w[z];w[z]=w[f],w[f++]=k}}return f}},309:function(v){v.exports=r;var p=32;function r(g,c){c<=4*p?t(0,c-1,g):h(0,c-1,g)}function t(g,c,o){for(var d=2*(g+1),w=g+1;w<=c;++w){for(var A=o[d++],C=o[d++],x=w,E=d-2;x-- >g;){var M=o[E-2],f=o[E-1];if(M<A)break;if(M===A&&f<C)break;o[E]=M,o[E+1]=f,E-=2}o[E]=A,o[E+1]=C}}function a(g,c,o){g*=2,c*=2;var d=o[g],w=o[g+1];o[g]=o[c],o[g+1]=o[c+1],o[c]=d,o[c+1]=w}function n(g,c,o){g*=2,c*=2,o[g]=o[c],o[g+1]=o[c+1]}function u(g,c,o,d){g*=2,c*=2,o*=2;var w=d[g],A=d[g+1];d[g]=d[c],d[g+1]=d[c+1],d[c]=d[o],d[c+1]=d[o+1],d[o]=w,d[o+1]=A}function s(g,c,o,d,w){g*=2,c*=2,w[g]=w[c],w[c]=o,w[g+1]=w[c+1],w[c+1]=d}function l(g,c,o){g*=2,c*=2;var d=o[g],w=o[c];return d<w?!1:d===w?o[g+1]>o[c+1]:!0}function m(g,c,o,d){g*=2;var w=d[g];return w<c?!0:w===c?d[g+1]<o:!1}function h(g,c,o){var d=(c-g+1)/6|0,w=g+d,A=c-d,C=g+c>>1,x=C-d,E=C+d,M=w,f=x,P=C,T=E,z=A,_=g+1,V=c-1,F=0;l(M,f,o)&&(F=M,M=f,f=F),l(T,z,o)&&(F=T,T=z,z=F),l(M,P,o)&&(F=M,M=P,P=F),l(f,P,o)&&(F=f,f=P,P=F),l(M,T,o)&&(F=M,M=T,T=F),l(P,T,o)&&(F=P,P=T,T=F),l(f,z,o)&&(F=f,f=z,z=F),l(f,P,o)&&(F=f,f=P,P=F),l(T,z,o)&&(F=T,T=z,z=F);for(var N=o[2*f],k=o[2*f+1],I=o[2*T],H=o[2*T+1],j=2*M,ee=2*P,te=2*z,ne=2*w,ue=2*C,q=2*A,Y=0;Y<2;++Y){var Z=o[j+Y],G=o[ee+Y],K=o[te+Y];o[ne+Y]=Z,o[ue+Y]=G,o[q+Y]=K}n(x,g,o),n(E,c,o);for(var oe=_;oe<=V;++oe)if(m(oe,N,k,o))oe!==_&&a(oe,_,o),++_;else if(!m(oe,I,H,o))for(;;)if(m(V,I,H,o)){m(V,N,k,o)?(u(oe,_,V,o),++_,--V):(a(oe,V,o),--V);break}else{if(--V<oe)break;continue}s(g,_-1,N,k,o),s(c,V+1,I,H,o),_-2-g<=p?t(g,_-2,o):h(g,_-2,o),c-(V+2)<=p?t(V+2,c,o):h(V+2,c,o),V-_<=p?t(_,V,o):h(_,V,o)}},1390:function(v,p,r){v.exports={init:w,sweepBipartite:x,sweepComplete:E,scanBipartite:M,scanComplete:f};var t=r(5306),a=r(2288),n=r(309),u=1<<28,s=1024,l=t.mallocInt32(s),m=t.mallocInt32(s),h=t.mallocInt32(s),g=t.mallocInt32(s),c=t.mallocInt32(s),o=t.mallocInt32(s),d=t.mallocDouble(s*8);function w(P){var T=a.nextPow2(P);l.length<T&&(t.free(l),l=t.mallocInt32(T)),m.length<T&&(t.free(m),m=t.mallocInt32(T)),h.length<T&&(t.free(h),h=t.mallocInt32(T)),g.length<T&&(t.free(g),g=t.mallocInt32(T)),c.length<T&&(t.free(c),c=t.mallocInt32(T)),o.length<T&&(t.free(o),o=t.mallocInt32(T));var z=8*T;d.length<z&&(t.free(d),d=t.mallocDouble(z))}function A(P,T,z,_){var V=T[_],F=P[z-1];P[V]=F,T[F]=V}function C(P,T,z,_){P[z]=_,T[_]=z}function x(P,T,z,_,V,F,N,k,I,H){for(var j=0,ee=2*P,te=P-1,ne=ee-1,ue=z;ue<_;++ue){var q=F[ue],Y=ee*ue;d[j++]=V[Y+te],d[j++]=-(q+1),d[j++]=V[Y+ne],d[j++]=q}for(var ue=N;ue<k;++ue){var q=H[ue]+u,Z=ee*ue;d[j++]=I[Z+te],d[j++]=-q,d[j++]=I[Z+ne],d[j++]=q}var G=j>>>1;n(d,G);for(var K=0,oe=0,ue=0;ue<G;++ue){var $=d[2*ue+1]|0;if($>=u)$=$-u|0,A(h,g,oe--,$);else if($>=0)A(l,m,K--,$);else if($<=-u){$=-$-u|0;for(var J=0;J<K;++J){var se=T(l[J],$);if(se!==void 0)return se}C(h,g,oe++,$)}else{$=-$-1|0;for(var J=0;J<oe;++J){var se=T($,h[J]);if(se!==void 0)return se}C(l,m,K++,$)}}}function E(P,T,z,_,V,F,N,k,I,H){for(var j=0,ee=2*P,te=P-1,ne=ee-1,ue=z;ue<_;++ue){var q=F[ue]+1<<1,Y=ee*ue;d[j++]=V[Y+te],d[j++]=-q,d[j++]=V[Y+ne],d[j++]=q}for(var ue=N;ue<k;++ue){var q=H[ue]+1<<1,Z=ee*ue;d[j++]=I[Z+te],d[j++]=-q|1,d[j++]=I[Z+ne],d[j++]=q|1}var G=j>>>1;n(d,G);for(var K=0,oe=0,$=0,ue=0;ue<G;++ue){var J=d[2*ue+1]|0,se=J&1;if(ue<G-1&&J>>1===d[2*ue+3]>>1&&(se=2,ue+=1),J<0){for(var ie=-(J>>1)-1,ce=0;ce<$;++ce){var ye=T(c[ce],ie);if(ye!==void 0)return ye}if(se!==0)for(var ce=0;ce<K;++ce){var ye=T(l[ce],ie);if(ye!==void 0)return ye}if(se!==1)for(var ce=0;ce<oe;++ce){var ye=T(h[ce],ie);if(ye!==void 0)return ye}se===0?C(l,m,K++,ie):se===1?C(h,g,oe++,ie):se===2&&C(c,o,$++,ie)}else{var ie=(J>>1)-1;se===0?A(l,m,K--,ie):se===1?A(h,g,oe--,ie):se===2&&A(c,o,$--,ie)}}}function M(P,T,z,_,V,F,N,k,I,H,j,ee){var te=0,ne=2*P,ue=T,q=T+P,Y=1,Z=1;_?Z=u:Y=u;for(var G=V;G<F;++G){var K=G+Y,oe=ne*G;d[te++]=N[oe+ue],d[te++]=-K,d[te++]=N[oe+q],d[te++]=K}for(var G=I;G<H;++G){var K=G+Z,$=ne*G;d[te++]=j[$+ue],d[te++]=-K}var J=te>>>1;n(d,J);for(var se=0,G=0;G<J;++G){var ie=d[2*G+1]|0;if(ie<0){var K=-ie,ce=!1;if(K>=u?(ce=!_,K-=u):(ce=!!_,K-=1),ce)C(l,m,se++,K);else{var ye=ee[K],Se=ne*K,Te=j[Se+T+1],ke=j[Se+T+1+P];e:for(var we=0;we<se;++we){var Ee=l[we],xe=ne*Ee;if(!(ke<N[xe+T+1]||N[xe+T+1+P]<Te)){for(var De=T+2;De<P;++De)if(j[Se+De+P]<N[xe+De]||N[xe+De+P]<j[Se+De])continue e;var Ve=k[Ee],Ue;if(_?Ue=z(ye,Ve):Ue=z(Ve,ye),Ue!==void 0)return Ue}}}}else A(l,m,se--,ie-Y)}}function f(P,T,z,_,V,F,N,k,I,H,j){for(var ee=0,te=2*P,ne=T,ue=T+P,q=_;q<V;++q){var Y=q+u,Z=te*q;d[ee++]=F[Z+ne],d[ee++]=-Y,d[ee++]=F[Z+ue],d[ee++]=Y}for(var q=k;q<I;++q){var Y=q+1,G=te*q;d[ee++]=H[G+ne],d[ee++]=-Y}var K=ee>>>1;n(d,K);for(var oe=0,q=0;q<K;++q){var $=d[2*q+1]|0;if($<0){var Y=-$;if(Y>=u)l[oe++]=Y-u;else{Y-=1;var J=j[Y],se=te*Y,ie=H[se+T+1],ce=H[se+T+1+P];e:for(var ye=0;ye<oe;++ye){var Se=l[ye],Te=N[Se];if(Te===J)break;var ke=te*Se;if(!(ce<F[ke+T+1]||F[ke+T+1+P]<ie)){for(var we=T+2;we<P;++we)if(H[se+we+P]<F[ke+we]||F[ke+we+P]<H[se+we])continue e;var Ee=z(Te,J);if(Ee!==void 0)return Ee}}}}else{for(var Y=$-u,ye=oe-1;ye>=0;--ye)if(l[ye]===Y){for(var we=ye+1;we<oe;++we)l[we-1]=l[we];break}--oe}}}},7761:function(v,p,r){var t=r(9971),a=r(743),n=r(2161),u=r(7098);v.exports=g;function s(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function l(c,o){return c[0]-o[0]||c[1]-o[1]}function m(c){return c.map(s).sort(l)}function h(c,o,d){return o in c?c[o]:d}function g(c,o,d){Array.isArray(o)?(d=d||{},o=o||[]):(d=o||{},o=[]);var w=!!h(d,"delaunay",!0),A=!!h(d,"interior",!0),C=!!h(d,"exterior",!0),x=!!h(d,"infinity",!1);if(!A&&!C||c.length===0)return[];var E=t(c,o);if(w||A!==C||x){for(var M=a(c.length,m(o)),f=0;f<E.length;++f){var P=E[f];M.addTriangle(P[0],P[1],P[2])}return w&&n(c,M),C?A?x?u(M,0,x):M.cells():u(M,1,x):u(M,-1)}else return E}},2161:function(v,p,r){var t=r(2227)[4];r(5070),v.exports=n;function a(u,s,l,m,h,g){var c=s.opposite(m,h);if(!(c<0)){if(h<m){var o=m;m=h,h=o,o=g,g=c,c=o}s.isConstraint(m,h)||t(u[m],u[h],u[g],u[c])<0&&l.push(m,h)}}function n(u,s){for(var l=[],m=u.length,h=s.stars,g=0;g<m;++g)for(var c=h[g],o=1;o<c.length;o+=2){var d=c[o];if(!(d<g)&&!s.isConstraint(g,d)){for(var w=c[o-1],A=-1,C=1;C<c.length;C+=2)if(c[C-1]===d){A=c[C];break}A<0||t(u[g],u[d],u[w],u[A])<0&&l.push(g,d)}}for(;l.length>0;){for(var d=l.pop(),g=l.pop(),w=-1,A=-1,c=h[g],x=1;x<c.length;x+=2){var E=c[x-1],M=c[x];E===d?A=M:M===d&&(w=E)}w<0||A<0||t(u[g],u[d],u[w],u[A])>=0||(s.flip(g,d),a(u,s,l,w,g,A),a(u,s,l,g,A,w),a(u,s,l,A,d,w),a(u,s,l,d,w,A))}}},7098:function(v,p,r){var t=r(5070);v.exports=m;function a(h,g,c,o,d,w,A){this.cells=h,this.neighbor=g,this.flags=o,this.constraint=c,this.active=d,this.next=w,this.boundary=A}var n=a.prototype;function u(h,g){return h[0]-g[0]||h[1]-g[1]||h[2]-g[2]}n.locate=function(){var h=[0,0,0];return function(g,c,o){var d=g,w=c,A=o;return c<o?c<g&&(d=c,w=o,A=g):o<g&&(d=o,w=g,A=c),d<0?-1:(h[0]=d,h[1]=w,h[2]=A,t.eq(this.cells,h,u))}}();function s(h,g){for(var c=h.cells(),o=c.length,d=0;d<o;++d){var w=c[d],A=w[0],C=w[1],x=w[2];C<x?C<A&&(w[0]=C,w[1]=x,w[2]=A):x<A&&(w[0]=x,w[1]=A,w[2]=C)}c.sort(u);for(var E=new Array(o),d=0;d<E.length;++d)E[d]=0;var M=[],f=[],P=new Array(3*o),T=new Array(3*o),z=null;g&&(z=[]);for(var _=new a(c,P,T,E,M,f,z),d=0;d<o;++d)for(var w=c[d],V=0;V<3;++V){var A=w[V],C=w[(V+1)%3],F=P[3*d+V]=_.locate(C,A,h.opposite(C,A)),N=T[3*d+V]=h.isConstraint(A,C);F<0&&(N?f.push(d):(M.push(d),E[d]=1),g&&z.push([C,A,-1]))}return _}function l(h,g,c){for(var o=0,d=0;d<h.length;++d)g[d]===c&&(h[o++]=h[d]);return h.length=o,h}function m(h,g,c){var o=s(h,c);if(g===0)return c?o.cells.concat(o.boundary):o.cells;for(var d=1,w=o.active,A=o.next,C=o.flags,x=o.cells,E=o.constraint,M=o.neighbor;w.length>0||A.length>0;){for(;w.length>0;){var f=w.pop();if(C[f]!==-d){C[f]=d,x[f];for(var P=0;P<3;++P){var T=M[3*f+P];T>=0&&C[T]===0&&(E[3*f+P]?A.push(T):(w.push(T),C[T]=d))}}}var z=A;A=w,w=z,A.length=0,d=-d}var _=l(x,C,g);return c?_.concat(o.boundary):_}},9971:function(v,p,r){var t=r(5070),a=r(417)[3],n=0,u=1,s=2;v.exports=A;function l(C,x,E,M,f){this.a=C,this.b=x,this.idx=E,this.lowerIds=M,this.upperIds=f}function m(C,x,E,M){this.a=C,this.b=x,this.type=E,this.idx=M}function h(C,x){var E=C.a[0]-x.a[0]||C.a[1]-x.a[1]||C.type-x.type;return E||C.type!==n&&(E=a(C.a,C.b,x.b),E)?E:C.idx-x.idx}function g(C,x){return a(C.a,C.b,x)}function c(C,x,E,M,f){for(var P=t.lt(x,M,g),T=t.gt(x,M,g),z=P;z<T;++z){for(var _=x[z],V=_.lowerIds,N=V.length;N>1&&a(E[V[N-2]],E[V[N-1]],M)>0;)C.push([V[N-1],V[N-2],f]),N-=1;V.length=N,V.push(f);for(var F=_.upperIds,N=F.length;N>1&&a(E[F[N-2]],E[F[N-1]],M)<0;)C.push([F[N-2],F[N-1],f]),N-=1;F.length=N,F.push(f)}}function o(C,x){var E;return C.a[0]<x.a[0]?E=a(C.a,C.b,x.a):E=a(x.b,x.a,C.a),E||(x.b[0]<C.b[0]?E=a(C.a,C.b,x.b):E=a(x.b,x.a,C.b),E||C.idx-x.idx)}function d(C,x,E){var M=t.le(C,E,o),f=C[M],P=f.upperIds,T=P[P.length-1];f.upperIds=[T],C.splice(M+1,0,new l(E.a,E.b,E.idx,[T],P))}function w(C,x,E){var M=E.a;E.a=E.b,E.b=M;var f=t.eq(C,E,o),P=C[f],T=C[f-1];T.upperIds=P.upperIds,C.splice(f,1)}function A(C,x){for(var E=C.length,M=x.length,f=[],P=0;P<E;++P)f.push(new m(C[P],null,n,P));for(var P=0;P<M;++P){var T=x[P],z=C[T[0]],_=C[T[1]];z[0]<_[0]?f.push(new m(z,_,s,P),new m(_,z,u,P)):z[0]>_[0]&&f.push(new m(_,z,s,P),new m(z,_,u,P))}f.sort(h);for(var V=f[0].a[0]-(1+Math.abs(f[0].a[0]))*Math.pow(2,-52),F=[new l([V,1],[V,0],-1,[],[])],N=[],P=0,k=f.length;P<k;++P){var I=f[P],H=I.type;H===n?c(N,F,C,I.a,I.idx):H===s?d(F,C,I):w(F,C,I)}return N}},743:function(v,p,r){var t=r(5070);v.exports=s;function a(l,m){this.stars=l,this.edges=m}var n=a.prototype;function u(l,m,h){for(var g=1,c=l.length;g<c;g+=2)if(l[g-1]===m&&l[g]===h){l[g-1]=l[c-2],l[g]=l[c-1],l.length=c-2;return}}n.isConstraint=function(){var l=[0,0];function m(h,g){return h[0]-g[0]||h[1]-g[1]}return function(h,g){return l[0]=Math.min(h,g),l[1]=Math.max(h,g),t.eq(this.edges,l,m)>=0}}(),n.removeTriangle=function(l,m,h){var g=this.stars;u(g[l],m,h),u(g[m],h,l),u(g[h],l,m)},n.addTriangle=function(l,m,h){var g=this.stars;g[l].push(m,h),g[m].push(h,l),g[h].push(l,m)},n.opposite=function(l,m){for(var h=this.stars[m],g=1,c=h.length;g<c;g+=2)if(h[g]===l)return h[g-1];return-1},n.flip=function(l,m){var h=this.opposite(l,m),g=this.opposite(m,l);this.removeTriangle(l,m,h),this.removeTriangle(m,l,g),this.addTriangle(l,g,h),this.addTriangle(m,h,g)},n.edges=function(){for(var l=this.stars,m=[],h=0,g=l.length;h<g;++h)for(var c=l[h],o=0,d=c.length;o<d;o+=2)m.push([c[o],c[o+1]]);return m},n.cells=function(){for(var l=this.stars,m=[],h=0,g=l.length;h<g;++h)for(var c=l[h],o=0,d=c.length;o<d;o+=2){var w=c[o],A=c[o+1];h<Math.min(w,A)&&m.push([h,w,A])}return m};function s(l,m){for(var h=new Array(l),g=0;g<l;++g)h[g]=[];return new a(h,m)}},9887:function(v){v.exports=p;function p(r){for(var t=1,a=1;a<r.length;++a)for(var n=0;n<a;++n)if(r[a]<r[n])t=-t;else if(r[n]===r[a])return 0;return t}},9243:function(v,p,r){var t=r(3094),a=r(6606);function n(l,m){for(var h=0,g=l.length,c=0;c<g;++c)h+=l[c]*m[c];return h}function u(l){var m=l.length;if(m===0)return[];l[0].length;var h=t([l.length+1,l.length+1],1),g=t([l.length+1],1);h[m][m]=0;for(var c=0;c<m;++c){for(var o=0;o<=c;++o)h[o][c]=h[c][o]=2*n(l[c],l[o]);g[c]=n(l[c],l[c])}for(var d=a(h,g),w=0,A=d[m+1],c=0;c<A.length;++c)w+=A[c];for(var C=new Array(m),c=0;c<m;++c){for(var A=d[c],x=0,o=0;o<A.length;++o)x+=A[o];C[c]=x/w}return C}function s(l){if(l.length===0)return[];for(var m=l[0].length,h=t([m]),g=u(l),c=0;c<l.length;++c)for(var o=0;o<m;++o)h[o]+=l[c][o]*g[c];return h}s.barycenetric=u,v.exports=s},1778:function(v,p,r){v.exports=a;var t=r(9243);function a(n){for(var u=t(n),s=0,l=0;l<n.length;++l)for(var m=n[l],h=0;h<u.length;++h)s+=Math.pow(m[h]-u[h],2);return Math.sqrt(s/n.length)}},197:function(v,p,r){v.exports=z;var t=r(1731),a=r(2569),n=r(4434),u=r(5125),s=r(8846),l=r(7999),m=r(2826),h=r(8551),g=r(5528);function c(_){var V=l(_);return[h(V,-1/0),h(V,1/0)]}function o(_,V){for(var F=new Array(V.length),N=0;N<V.length;++N){var k=V[N],I=_[k[0]],H=_[k[1]];F[N]=[h(Math.min(I[0],H[0]),-1/0),h(Math.min(I[1],H[1]),-1/0),h(Math.max(I[0],H[0]),1/0),h(Math.max(I[1],H[1]),1/0)]}return F}function d(_){for(var V=new Array(_.length),F=0;F<_.length;++F){var N=_[F];V[F]=[h(N[0],-1/0),h(N[1],-1/0),h(N[0],1/0),h(N[1],1/0)]}return V}function w(_,V,F){var N=[];return a(F,function(k,I){var H=V[k],j=V[I];if(!(H[0]===j[0]||H[0]===j[1]||H[1]===j[0]||H[1]===j[1])){var ee=_[H[0]],te=_[H[1]],ne=_[j[0]],ue=_[j[1]];n(ee,te,ne,ue)&&N.push([k,I])}}),N}function A(_,V,F,N){var k=[];return a(F,N,function(I,H){var j=V[I];if(!(j[0]===H||j[1]===H)){var ee=_[H],te=_[j[0]],ne=_[j[1]];n(te,ne,ee,ee)&&k.push([I,H])}}),k}function C(_,V,F,N,k){var I,H,j=_.map(function(Se){return[u(Se[0]),u(Se[1])]});for(I=0;I<F.length;++I){var ee=F[I];H=ee[0];var te=ee[1],ne=V[H],ue=V[te],q=g(m(_[ne[0]]),m(_[ne[1]]),m(_[ue[0]]),m(_[ue[1]]));if(q){var Y=_.length;_.push([l(q[0]),l(q[1])]),j.push(q),N.push([H,Y],[te,Y])}}for(N.sort(function(Se,Te){if(Se[0]!==Te[0])return Se[0]-Te[0];var ke=j[Se[1]],we=j[Te[1]];return s(ke[0],we[0])||s(ke[1],we[1])}),I=N.length-1;I>=0;--I){var Z=N[I];H=Z[0];var G=V[H],K=G[0],oe=G[1],$=_[K],J=_[oe];if(($[0]-J[0]||$[1]-J[1])<0){var se=K;K=oe,oe=se}G[0]=K;var ie=G[1]=Z[1],ce;for(k&&(ce=G[2]);I>0&&N[I-1][0]===H;){var Z=N[--I],ye=Z[1];k?V.push([ie,ye,ce]):V.push([ie,ye]),ie=ye}k?V.push([ie,oe,ce]):V.push([ie,oe])}return j}function x(_,V,F){for(var N=V.length,k=new t(N),I=[],H=0;H<V.length;++H){var j=V[H],ee=c(j[0]),te=c(j[1]);I.push([h(ee[0],-1/0),h(te[0],-1/0),h(ee[1],1/0),h(te[1],1/0)])}a(I,function(Z,G){k.link(Z,G)});for(var ne=!0,ue=new Array(N),H=0;H<N;++H){var q=k.find(H);q!==H&&(ne=!1,_[q]=[Math.min(_[H][0],_[q][0]),Math.min(_[H][1],_[q][1])])}if(ne)return null;for(var Y=0,H=0;H<N;++H){var q=k.find(H);q===H?(ue[H]=Y,_[Y++]=_[H]):ue[H]=-1}_.length=Y;for(var H=0;H<N;++H)ue[H]<0&&(ue[H]=ue[k.find(H)]);return ue}function E(_,V){return _[0]-V[0]||_[1]-V[1]}function M(_,V){var F=_[0]-V[0]||_[1]-V[1];return F||(_[2]<V[2]?-1:_[2]>V[2]?1:0)}function f(_,V,F){if(_.length!==0){if(V)for(var N=0;N<_.length;++N){var k=_[N],I=V[k[0]],H=V[k[1]];k[0]=Math.min(I,H),k[1]=Math.max(I,H)}else for(var N=0;N<_.length;++N){var k=_[N],I=k[0],H=k[1];k[0]=Math.min(I,H),k[1]=Math.max(I,H)}F?_.sort(M):_.sort(E);for(var j=1,N=1;N<_.length;++N){var ee=_[N-1],te=_[N];te[0]===ee[0]&&te[1]===ee[1]&&(!F||te[2]===ee[2])||(_[j++]=te)}_.length=j}}function P(_,V,F){var N=x(_,[],d(_));return f(V,N,F),!!N}function T(_,V,F){var N=o(_,V),k=w(_,V,N),I=d(_),H=A(_,V,N,I),j=C(_,V,k,H,F),ee=x(_,j);return f(V,ee,F),ee?!0:k.length>0||H.length>0}function z(_,V,F){var N;if(F){N=V;for(var k=new Array(V.length),I=0;I<V.length;++I){var H=V[I];k[I]=[H[0],H[1],F[I]]}V=k}for(var j=P(_,V,!!F);T(_,V,!!F);)j=!0;if(F&&j){N.length=0,F.length=0;for(var I=0;I<V.length;++I){var H=V[I];N.push([H[0],H[1]]),F.push(H[2])}}return j}},5528:function(v,p,r){v.exports=g;var t=r(3962),a=r(9189),n=r(4354),u=r(4951),s=r(6695),l=r(7584),m=r(4469);function h(c,o){return n(t(c[0],o[1]),t(c[1],o[0]))}function g(c,o,d,w){var A=s(o,c),C=s(w,d),x=h(A,C);if(u(x)===0)return null;var E=s(c,d),M=h(C,E),f=a(M,x),P=m(A,f),T=l(c,P);return T}},5692:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(v,p,r){var t=r(5692),a=r(3578);v.exports=n;function n(m){var h,g,c,o,d,w,A,C,f,x,E;if(m||(m={}),C=(m.nshades||72)-1,A=m.format||"hex",w=m.colormap,w||(w="jet"),typeof w=="string"){if(w=w.toLowerCase(),!t[w])throw Error(w+" not a supported colorscale");d=t[w]}else if(Array.isArray(w))d=w.slice();else throw Error("unsupported colormap option",w);if(d.length>C+1)throw new Error(w+" map requires nshades to be at least size "+d.length);Array.isArray(m.alpha)?m.alpha.length!==2?x=[1,1]:x=m.alpha.slice():typeof m.alpha=="number"?x=[m.alpha,m.alpha]:x=[1,1],h=d.map(function(z){return Math.round(z.index*C)}),x[0]=Math.min(Math.max(x[0],0),1),x[1]=Math.min(Math.max(x[1],0),1);var M=d.map(function(z,_){var V=d[_].index,F=d[_].rgb.slice();return F.length===4&&F[3]>=0&&F[3]<=1||(F[3]=x[0]+(x[1]-x[0])*V),F}),f=[];for(E=0;E<h.length-1;++E){o=h[E+1]-h[E],g=M[E],c=M[E+1];for(var P=0;P<o;P++){var T=P/o;f.push([Math.round(a(g[0],c[0],T)),Math.round(a(g[1],c[1],T)),Math.round(a(g[2],c[2],T)),a(g[3],c[3],T)])}}return f.push(d[d.length-1].rgb.concat(x[1])),A==="hex"?f=f.map(s):A==="rgbaString"?f=f.map(l):A==="float"&&(f=f.map(u)),f}function u(m){return[m[0]/255,m[1]/255,m[2]/255,m[3]]}function s(m){for(var h,g="#",c=0;c<3;++c)h=m[c],h=h.toString(16),g+=("00"+h).substr(h.length);return g}function l(m){return"rgba("+m.join(",")+")"}},9398:function(v,p,r){v.exports=m;var t=r(417),a=r(7538),n=r(87),u=r(2019),s=r(9662);function l(h,g,c){var o=n(h[0],-g[0]),d=n(h[1],-g[1]),w=n(c[0],-g[0]),A=n(c[1],-g[1]),C=s(u(o,w),u(d,A));return C[C.length-1]>=0}function m(h,g,c,o){var d=t(g,c,o);if(d===0){var w=a(t(h,g,c)),A=a(t(h,g,o));if(w===A){if(w===0){var C=l(h,g,c),x=l(h,g,o);return C===x?0:C?1:-1}return 0}else{if(A===0)return w>0||l(h,g,o)?-1:1;if(w===0)return A>0||l(h,g,c)?1:-1}return a(A-w)}var E=t(h,g,c);if(E>0)return d>0&&t(h,g,o)>0?1:-1;if(E<0)return d>0||t(h,g,o)>0?1:-1;var M=t(h,g,o);return M>0||l(h,g,c)?1:-1}},7538:function(v){v.exports=function(r){return r<0?-1:r>0?1:0}},9209:function(v){v.exports=t;var p=Math.min;function r(a,n){return a-n}function t(a,n){var u=a.length,s=a.length-n.length;if(s)return s;switch(u){case 0:return 0;case 1:return a[0]-n[0];case 2:return a[0]+a[1]-n[0]-n[1]||p(a[0],a[1])-p(n[0],n[1]);case 3:var l=a[0]+a[1],m=n[0]+n[1];if(s=l+a[2]-(m+n[2]),s)return s;var h=p(a[0],a[1]),g=p(n[0],n[1]);return p(h,a[2])-p(g,n[2])||p(h+a[2],l)-p(g+n[2],m);case 4:var c=a[0],o=a[1],d=a[2],w=a[3],A=n[0],C=n[1],x=n[2],E=n[3];return c+o+d+w-(A+C+x+E)||p(c,o,d,w)-p(A,C,x,E,A)||p(c+o,c+d,c+w,o+d,o+w,d+w)-p(A+C,A+x,A+E,C+x,C+E,x+E)||p(c+o+d,c+o+w,c+d+w,o+d+w)-p(A+C+x,A+C+E,A+x+E,C+x+E);default:for(var M=a.slice().sort(r),f=n.slice().sort(r),P=0;P<u;++P)if(s=M[P]-f[P],s)return s;return 0}}},1284:function(v,p,r){var t=r(9209),a=r(9887);v.exports=n;function n(u,s){return t(u,s)||a(u)-a(s)}},5537:function(v,p,r){var t=r(8950),a=r(8722),n=r(3332);v.exports=u;function u(s){var l=s.length;if(l===0)return[];if(l===1)return[[0]];var m=s[0].length;return m===0?[]:m===1?t(s):m===2?a(s):n(s,m)}},8950:function(v){v.exports=p;function p(r){for(var t=0,a=0,n=1;n<r.length;++n)r[n][0]<r[t][0]&&(t=n),r[n][0]>r[a][0]&&(a=n);return t<a?[[t],[a]]:t>a?[[a],[t]]:[[t]]}},8722:function(v,p,r){v.exports=a;var t=r(3266);function a(n){var u=t(n),s=u.length;if(s<=2)return[];for(var l=new Array(s),m=u[s-1],h=0;h<s;++h){var g=u[h];l[h]=[m,g],m=g}return l}},3332:function(v,p,r){v.exports=s;var t=r(2183),a=r(2153);function n(l,m){for(var h=l.length,g=new Array(h),c=0;c<m.length;++c)g[c]=l[m[c]];for(var o=m.length,c=0;c<h;++c)m.indexOf(c)<0&&(g[o++]=l[c]);return g}function u(l,m){for(var h=l.length,g=m.length,c=0;c<h;++c)for(var o=l[c],d=0;d<o.length;++d){var w=o[d];if(w<g)o[d]=m[w];else{w=w-g;for(var A=0;A<g;++A)w>=m[A]&&(w+=1);o[d]=w}}return l}function s(l,m){try{return t(l,!0)}catch{var h=a(l);if(h.length<=m)return[];var g=n(l,h),c=t(g,!0);return u(c,h)}}},9680:function(v){function p(t,a,n,u,s,l){var m=6*s*s-6*s,h=3*s*s-4*s+1,g=-6*s*s+6*s,c=3*s*s-2*s;if(t.length){l||(l=new Array(t.length));for(var o=t.length-1;o>=0;--o)l[o]=m*t[o]+h*a[o]+g*n[o]+c*u[o];return l}return m*t+h*a+g*n[o]+c*u}function r(t,a,n,u,s,l){var m=s-1,h=s*s,g=m*m,c=(1+2*s)*g,o=s*g,d=h*(3-2*s),w=h*m;if(t.length){l||(l=new Array(t.length));for(var A=t.length-1;A>=0;--A)l[A]=c*t[A]+o*a[A]+d*n[A]+w*u[A];return l}return c*t+o*a+d*n+w*u}v.exports=r,v.exports.derivative=p},4419:function(v,p,r){var t=r(2183),a=r(1215);v.exports=l;function n(m,h){this.point=m,this.index=h}function u(m,h){for(var g=m.point,c=h.point,o=g.length,d=0;d<o;++d){var w=c[d]-g[d];if(w)return w}return 0}function s(m,h,g){if(m===1)return g?[[-1,0]]:[];var c=h.map(function(C,x){return[C[0],x]});c.sort(function(C,x){return C[0]-x[0]});for(var o=new Array(m-1),d=1;d<m;++d){var w=c[d-1],A=c[d];o[d-1]=[w[1],A[1]]}return g&&o.push([-1,o[0][1]],[o[m-1][1],-1]),o}function l(m,h){var g=m.length;if(g===0)return[];var c=m[0].length;if(c<1)return[];if(c===1)return s(g,m,h);for(var o=new Array(g),d=1,w=0;w<g;++w){for(var A=m[w],C=new Array(c+1),x=0,E=0;E<c;++E){var M=A[E];C[E]=M,x+=M*M}C[c]=x,o[w]=new n(C,w),d=Math.max(x,d)}a(o,u),g=o.length;for(var f=new Array(g+c+1),P=new Array(g+c+1),T=(c+1)*(c+1)*d,z=new Array(c+1),w=0;w<=c;++w)z[w]=0;z[c]=T,f[0]=z.slice(),P[0]=-1;for(var w=0;w<=c;++w){var C=z.slice();C[w]=1,f[w+1]=C,P[w+1]=-1}for(var w=0;w<g;++w){var _=o[w];f[w+c+1]=_.point,P[w+c+1]=_.index}var V=t(f,!1);if(h?V=V.filter(function(F){for(var N=0,k=0;k<=c;++k){var I=P[F[k]];if(I<0&&++N>=2)return!1;F[k]=I}return!0}):V=V.filter(function(F){for(var N=0;N<=c;++N){var k=P[F[N]];if(k<0)return!1;F[N]=k}return!0}),c&1)for(var w=0;w<V.length;++w){var _=V[w],C=_[0];_[0]=_[1],_[1]=C}return V}},8362:function(v){var p=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),t=new Uint32Array(r.buffer);if(r[0]=1,p=!0,t[1]===1072693248){let n=function(l,m){return t[0]=l,t[1]=m,r[0]},u=function(l){return r[0]=l,t[0]},s=function(l){return r[0]=l,t[1]};v.exports=function(m){return r[0]=m,[t[0],t[1]]},v.exports.pack=n,v.exports.lo=u,v.exports.hi=s}else if(t[0]===1072693248){let n=function(l,m){return t[1]=l,t[0]=m,r[0]},u=function(l){return r[0]=l,t[1]},s=function(l){return r[0]=l,t[0]};v.exports=function(m){return r[0]=m,[t[1],t[0]]},v.exports.pack=n,v.exports.lo=u,v.exports.hi=s}else p=!1}if(!p){let n=function(l,m){return a.writeUInt32LE(l,0,!0),a.writeUInt32LE(m,4,!0),a.readDoubleLE(0,!0)},u=function(l){return a.writeDoubleLE(l,0,!0),a.readUInt32LE(0,!0)},s=function(l){return a.writeDoubleLE(l,0,!0),a.readUInt32LE(4,!0)};var a=new Buffer(8);v.exports=function(m){return a.writeDoubleLE(m,0,!0),[a.readUInt32LE(0,!0),a.readUInt32LE(4,!0)]},v.exports.pack=n,v.exports.lo=u,v.exports.hi=s}v.exports.sign=function(n){return v.exports.hi(n)>>>31},v.exports.exponent=function(n){var u=v.exports.hi(n);return(u<<1>>>21)-1023},v.exports.fraction=function(n){var u=v.exports.lo(n),s=v.exports.hi(n),l=s&(1<<20)-1;return s&2146435072&&(l+=1048576),[u,l]},v.exports.denormalized=function(n){var u=v.exports.hi(n);return!(u&2146435072)}},3094:function(v){function p(a,n,u){var s=a[u]|0;if(s<=0)return[];var l=new Array(s),m;if(u===a.length-1)for(m=0;m<s;++m)l[m]=n;else for(m=0;m<s;++m)l[m]=p(a,n,u+1);return l}function r(a,n){var u,s;for(u=new Array(a),s=0;s<a;++s)u[s]=n;return u}function t(a,n){switch(typeof n>"u"&&(n=0),typeof a){case"number":if(a>0)return r(a|0,n);break;case"object":if(typeof a.length=="number")return p(a,n,0);break}return[]}v.exports=t},8348:function(v,p,r){v.exports=a;var t=r(1215);function a(n,u){var s=n.length;if(typeof u!="number"){u=0;for(var l=0;l<s;++l){var m=n[l];u=Math.max(u,m[0],m[1])}u=(u|0)+1}u=u|0;for(var h=new Array(u),l=0;l<u;++l)h[l]=[];for(var l=0;l<s;++l){var m=n[l];h[m[0]].push(m[1]),h[m[1]].push(m[0])}for(var g=0;g<u;++g)t(h[g],function(c,o){return c-o});return h}},5795:function(v){v.exports=p;function p(r,t,a){var n=t||0,u=a||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[n*r[12]+r[8],n*r[13]+r[9],n*r[14]+r[10],n*r[15]+r[11]],[u*r[12]-r[8],u*r[13]-r[9],u*r[14]-r[10],u*r[15]-r[11]]]}},8444:function(v,p,r){v.exports=m;var t=r(9680),a=r(5070);function n(h,g,c){return Math.min(g,Math.max(h,c))}function u(h,g,c){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var o=0;o<this.dimension;++o)this.bounds[0][o]=-1/0,this.bounds[1][o]=1/0;this._state=h.slice().reverse(),this._velocity=g.slice().reverse(),this._time=[c],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var s=u.prototype;s.flush=function(h){var g=a.gt(this._time,h)-1;g<=0||(this._time.splice(0,g),this._state.splice(0,g*this.dimension),this._velocity.splice(0,g*this.dimension))},s.curve=function(h){var g=this._time,c=g.length,o=a.le(g,h),d=this._scratch[0],w=this._state,A=this._velocity,C=this.dimension,x=this.bounds;if(o<0)for(var E=C-1,M=0;M<C;++M,--E)d[M]=w[E];else if(o>=c-1)for(var E=w.length-1,f=h-g[c-1],M=0;M<C;++M,--E)d[M]=w[E]+f*A[E];else{for(var E=C*(o+1)-1,P=g[o],T=g[o+1],z=T-P||1,_=this._scratch[1],V=this._scratch[2],F=this._scratch[3],N=this._scratch[4],k=!0,M=0;M<C;++M,--E)_[M]=w[E],F[M]=A[E]*z,V[M]=w[E+C],N[M]=A[E+C]*z,k=k&&_[M]===V[M]&&F[M]===N[M]&&F[M]===0;if(k)for(var M=0;M<C;++M)d[M]=_[M];else t(_,F,V,N,(h-P)/z,d)}for(var I=x[0],H=x[1],M=0;M<C;++M)d[M]=n(I[M],H[M],d[M]);return d},s.dcurve=function(h){var g=this._time,c=g.length,o=a.le(g,h),d=this._scratch[0],w=this._state,A=this._velocity,C=this.dimension;if(o>=c-1){var x=w.length-1;h-g[c-1];for(var E=0;E<C;++E,--x)d[E]=A[x]}else{for(var x=C*(o+1)-1,M=g[o],f=g[o+1],P=f-M||1,T=this._scratch[1],z=this._scratch[2],_=this._scratch[3],V=this._scratch[4],F=!0,E=0;E<C;++E,--x)T[E]=w[x],_[E]=A[x]*P,z[E]=w[x+C],V[E]=A[x+C]*P,F=F&&T[E]===z[E]&&_[E]===V[E]&&_[E]===0;if(F)for(var E=0;E<C;++E)d[E]=0;else{t.derivative(T,_,z,V,(h-M)/P,d);for(var E=0;E<C;++E)d[E]/=P}}return d},s.lastT=function(){var h=this._time;return h[h.length-1]},s.stable=function(){for(var h=this._velocity,g=h.length,c=this.dimension-1;c>=0;--c)if(h[--g])return!1;return!0},s.jump=function(h){var g=this.lastT(),c=this.dimension;if(!(h<g||arguments.length!==c+1)){var o=this._state,d=this._velocity,w=o.length-this.dimension,A=this.bounds,C=A[0],x=A[1];this._time.push(g,h);for(var E=0;E<2;++E)for(var M=0;M<c;++M)o.push(o[w++]),d.push(0);this._time.push(h);for(var M=c;M>0;--M)o.push(n(C[M-1],x[M-1],arguments[M])),d.push(0)}},s.push=function(h){var g=this.lastT(),c=this.dimension;if(!(h<g||arguments.length!==c+1)){var o=this._state,d=this._velocity,w=o.length-this.dimension,A=h-g,C=this.bounds,x=C[0],E=C[1],M=A>1e-6?1/A:0;this._time.push(h);for(var f=c;f>0;--f){var P=n(x[f-1],E[f-1],arguments[f]);o.push(P),d.push((P-o[w++])*M)}}},s.set=function(h){var g=this.dimension;if(!(h<this.lastT()||arguments.length!==g+1)){var c=this._state,o=this._velocity,d=this.bounds,w=d[0],A=d[1];this._time.push(h);for(var C=g;C>0;--C)c.push(n(w[C-1],A[C-1],arguments[C])),o.push(0)}},s.move=function(h){var g=this.lastT(),c=this.dimension;if(!(h<=g||arguments.length!==c+1)){var o=this._state,d=this._velocity,w=o.length-this.dimension,A=this.bounds,C=A[0],x=A[1],E=h-g,M=E>1e-6?1/E:0;this._time.push(h);for(var f=c;f>0;--f){var P=arguments[f];o.push(n(C[f-1],x[f-1],o[w++]+P)),d.push(P*M)}}},s.idle=function(h){var g=this.lastT();if(!(h<g)){var c=this.dimension,o=this._state,d=this._velocity,w=o.length-c,A=this.bounds,C=A[0],x=A[1],E=h-g;this._time.push(h);for(var M=c-1;M>=0;--M)o.push(n(C[M],x[M],o[w]+E*d[w])),d.push(0),w+=1}};function l(h){for(var g=new Array(h),c=0;c<h;++c)g[c]=0;return g}function m(h,g,c){switch(arguments.length){case 0:return new u([0],[0],0);case 1:if(typeof h=="number"){var o=l(h);return new u(o,o,0)}else return new u(h,l(h.length),0);case 2:if(typeof g=="number"){var o=l(h.length);return new u(h,o,+g)}else c=0;case 3:if(h.length!==g.length)throw new Error("state and velocity lengths must match");return new u(h,g,c)}}},7080:function(v){v.exports=C;var p=0,r=1;function t(x,E,M,f,P,T){this._color=x,this.key=E,this.value=M,this.left=f,this.right=P,this._count=T}function a(x){return new t(x._color,x.key,x.value,x.left,x.right,x._count)}function n(x,E){return new t(x,E.key,E.value,E.left,E.right,E._count)}function u(x){x._count=1+(x.left?x.left._count:0)+(x.right?x.right._count:0)}function s(x,E){this._compare=x,this.root=E}var l=s.prototype;Object.defineProperty(l,"keys",{get:function(){var x=[];return this.forEach(function(E,M){x.push(E)}),x}}),Object.defineProperty(l,"values",{get:function(){var x=[];return this.forEach(function(E,M){x.push(M)}),x}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(x,E){for(var M=this._compare,f=this.root,P=[],T=[];f;){var z=M(x,f.key);P.push(f),T.push(z),z<=0?f=f.left:f=f.right}P.push(new t(p,x,E,null,null,1));for(var _=P.length-2;_>=0;--_){var f=P[_];T[_]<=0?P[_]=new t(f._color,f.key,f.value,P[_+1],f.right,f._count+1):P[_]=new t(f._color,f.key,f.value,f.left,P[_+1],f._count+1)}for(var _=P.length-1;_>1;--_){var V=P[_-1],f=P[_];if(V._color===r||f._color===r)break;var F=P[_-2];if(F.left===V)if(V.left===f){var N=F.right;if(N&&N._color===p)V._color=r,F.right=n(r,N),F._color=p,_-=1;else{if(F._color=p,F.left=V.right,V._color=r,V.right=F,P[_-2]=V,P[_-1]=f,u(F),u(V),_>=3){var k=P[_-3];k.left===F?k.left=V:k.right=V}break}}else{var N=F.right;if(N&&N._color===p)V._color=r,F.right=n(r,N),F._color=p,_-=1;else{if(V.right=f.left,F._color=p,F.left=f.right,f._color=r,f.left=V,f.right=F,P[_-2]=f,P[_-1]=V,u(F),u(V),u(f),_>=3){var k=P[_-3];k.left===F?k.left=f:k.right=f}break}}else if(V.right===f){var N=F.left;if(N&&N._color===p)V._color=r,F.left=n(r,N),F._color=p,_-=1;else{if(F._color=p,F.right=V.left,V._color=r,V.left=F,P[_-2]=V,P[_-1]=f,u(F),u(V),_>=3){var k=P[_-3];k.right===F?k.right=V:k.left=V}break}}else{var N=F.left;if(N&&N._color===p)V._color=r,F.left=n(r,N),F._color=p,_-=1;else{if(V.left=f.right,F._color=p,F.right=f.left,f._color=r,f.right=V,f.left=F,P[_-2]=f,P[_-1]=V,u(F),u(V),u(f),_>=3){var k=P[_-3];k.right===F?k.right=f:k.left=f}break}}}return P[0]._color=r,new s(M,P[0])};function m(x,E){if(E.left){var M=m(x,E.left);if(M)return M}var M=x(E.key,E.value);if(M)return M;if(E.right)return m(x,E.right)}function h(x,E,M,f){var P=E(x,f.key);if(P<=0){if(f.left){var T=h(x,E,M,f.left);if(T)return T}var T=M(f.key,f.value);if(T)return T}if(f.right)return h(x,E,M,f.right)}function g(x,E,M,f,P){var T=M(x,P.key),z=M(E,P.key),_;if(T<=0&&(P.left&&(_=g(x,E,M,f,P.left),_)||z>0&&(_=f(P.key,P.value),_)))return _;if(z>0&&P.right)return g(x,E,M,f,P.right)}l.forEach=function(E,M,f){if(this.root)switch(arguments.length){case 1:return m(E,this.root);case 2:return h(M,this._compare,E,this.root);case 3:return this._compare(M,f)>=0?void 0:g(M,f,this._compare,E,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var x=[],E=this.root;E;)x.push(E),E=E.left;return new c(this,x)}}),Object.defineProperty(l,"end",{get:function(){for(var x=[],E=this.root;E;)x.push(E),E=E.right;return new c(this,x)}}),l.at=function(x){if(x<0)return new c(this,[]);for(var E=this.root,M=[];;){if(M.push(E),E.left){if(x<E.left._count){E=E.left;continue}x-=E.left._count}if(!x)return new c(this,M);if(x-=1,E.right){if(x>=E.right._count)break;E=E.right}else break}return new c(this,[])},l.ge=function(x){for(var E=this._compare,M=this.root,f=[],P=0;M;){var T=E(x,M.key);f.push(M),T<=0&&(P=f.length),T<=0?M=M.left:M=M.right}return f.length=P,new c(this,f)},l.gt=function(x){for(var E=this._compare,M=this.root,f=[],P=0;M;){var T=E(x,M.key);f.push(M),T<0&&(P=f.length),T<0?M=M.left:M=M.right}return f.length=P,new c(this,f)},l.lt=function(x){for(var E=this._compare,M=this.root,f=[],P=0;M;){var T=E(x,M.key);f.push(M),T>0&&(P=f.length),T<=0?M=M.left:M=M.right}return f.length=P,new c(this,f)},l.le=function(x){for(var E=this._compare,M=this.root,f=[],P=0;M;){var T=E(x,M.key);f.push(M),T>=0&&(P=f.length),T<0?M=M.left:M=M.right}return f.length=P,new c(this,f)},l.find=function(x){for(var E=this._compare,M=this.root,f=[];M;){var P=E(x,M.key);if(f.push(M),P===0)return new c(this,f);P<=0?M=M.left:M=M.right}return new c(this,[])},l.remove=function(x){var E=this.find(x);return E?E.remove():this},l.get=function(x){for(var E=this._compare,M=this.root;M;){var f=E(x,M.key);if(f===0)return M.value;f<=0?M=M.left:M=M.right}};function c(x,E){this.tree=x,this._stack=E}var o=c.prototype;Object.defineProperty(o,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(o,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),o.clone=function(){return new c(this.tree,this._stack.slice())};function d(x,E){x.key=E.key,x.value=E.value,x.left=E.left,x.right=E.right,x._color=E._color,x._count=E._count}function w(x){for(var E,M,f,P,T=x.length-1;T>=0;--T){if(E=x[T],T===0){E._color=r;return}if(M=x[T-1],M.left===E){if(f=M.right,f.right&&f.right._color===p){if(f=M.right=a(f),P=f.right=a(f.right),M.right=f.left,f.left=M,f.right=P,f._color=M._color,E._color=r,M._color=r,P._color=r,u(M),u(f),T>1){var z=x[T-2];z.left===M?z.left=f:z.right=f}x[T-1]=f;return}else if(f.left&&f.left._color===p){if(f=M.right=a(f),P=f.left=a(f.left),M.right=P.left,f.left=P.right,P.left=M,P.right=f,P._color=M._color,M._color=r,f._color=r,E._color=r,u(M),u(f),u(P),T>1){var z=x[T-2];z.left===M?z.left=P:z.right=P}x[T-1]=P;return}if(f._color===r)if(M._color===p){M._color=r,M.right=n(p,f);return}else{M.right=n(p,f);continue}else{if(f=a(f),M.right=f.left,f.left=M,f._color=M._color,M._color=p,u(M),u(f),T>1){var z=x[T-2];z.left===M?z.left=f:z.right=f}x[T-1]=f,x[T]=M,T+1<x.length?x[T+1]=E:x.push(E),T=T+2}}else{if(f=M.left,f.left&&f.left._color===p){if(f=M.left=a(f),P=f.left=a(f.left),M.left=f.right,f.right=M,f.left=P,f._color=M._color,E._color=r,M._color=r,P._color=r,u(M),u(f),T>1){var z=x[T-2];z.right===M?z.right=f:z.left=f}x[T-1]=f;return}else if(f.right&&f.right._color===p){if(f=M.left=a(f),P=f.right=a(f.right),M.left=P.right,f.right=P.left,P.right=M,P.left=f,P._color=M._color,M._color=r,f._color=r,E._color=r,u(M),u(f),u(P),T>1){var z=x[T-2];z.right===M?z.right=P:z.left=P}x[T-1]=P;return}if(f._color===r)if(M._color===p){M._color=r,M.left=n(p,f);return}else{M.left=n(p,f);continue}else{if(f=a(f),M.left=f.right,f.right=M,f._color=M._color,M._color=p,u(M),u(f),T>1){var z=x[T-2];z.right===M?z.right=f:z.left=f}x[T-1]=f,x[T]=M,T+1<x.length?x[T+1]=E:x.push(E),T=T+2}}}}o.remove=function(){var x=this._stack;if(x.length===0)return this.tree;var E=new Array(x.length),M=x[x.length-1];E[E.length-1]=new t(M._color,M.key,M.value,M.left,M.right,M._count);for(var f=x.length-2;f>=0;--f){var M=x[f];M.left===x[f+1]?E[f]=new t(M._color,M.key,M.value,E[f+1],M.right,M._count):E[f]=new t(M._color,M.key,M.value,M.left,E[f+1],M._count)}if(M=E[E.length-1],M.left&&M.right){var P=E.length;for(M=M.left;M.right;)E.push(M),M=M.right;var T=E[P-1];E.push(new t(M._color,T.key,T.value,M.left,M.right,M._count)),E[P-1].key=M.key,E[P-1].value=M.value;for(var f=E.length-2;f>=P;--f)M=E[f],E[f]=new t(M._color,M.key,M.value,M.left,E[f+1],M._count);E[P-1].left=E[P]}if(M=E[E.length-1],M._color===p){var z=E[E.length-2];z.left===M?z.left=null:z.right===M&&(z.right=null),E.pop();for(var f=0;f<E.length;++f)E[f]._count--;return new s(this.tree._compare,E[0])}else if(M.left||M.right){M.left?d(M,M.left):M.right&&d(M,M.right),M._color=r;for(var f=0;f<E.length-1;++f)E[f]._count--;return new s(this.tree._compare,E[0])}else{if(E.length===1)return new s(this.tree._compare,null);for(var f=0;f<E.length;++f)E[f]._count--;var _=E[E.length-2];w(E),_.left===M?_.left=null:_.right=null}return new s(this.tree._compare,E[0])},Object.defineProperty(o,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(o,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(o,"index",{get:function(){var x=0,E=this._stack;if(E.length===0){var M=this.tree.root;return M?M._count:0}else E[E.length-1].left&&(x=E[E.length-1].left._count);for(var f=E.length-2;f>=0;--f)E[f+1]===E[f].right&&(++x,E[f].left&&(x+=E[f].left._count));return x},enumerable:!0}),o.next=function(){var x=this._stack;if(x.length!==0){var E=x[x.length-1];if(E.right)for(E=E.right;E;)x.push(E),E=E.left;else for(x.pop();x.length>0&&x[x.length-1].right===E;)E=x[x.length-1],x.pop()}},Object.defineProperty(o,"hasNext",{get:function(){var x=this._stack;if(x.length===0)return!1;if(x[x.length-1].right)return!0;for(var E=x.length-1;E>0;--E)if(x[E-1].left===x[E])return!0;return!1}}),o.update=function(x){var E=this._stack;if(E.length===0)throw new Error("Can't update empty node!");var M=new Array(E.length),f=E[E.length-1];M[M.length-1]=new t(f._color,f.key,x,f.left,f.right,f._count);for(var P=E.length-2;P>=0;--P)f=E[P],f.left===E[P+1]?M[P]=new t(f._color,f.key,f.value,M[P+1],f.right,f._count):M[P]=new t(f._color,f.key,f.value,f.left,M[P+1],f._count);return new s(this.tree._compare,M[0])},o.prev=function(){var x=this._stack;if(x.length!==0){var E=x[x.length-1];if(E.left)for(E=E.left;E;)x.push(E),E=E.right;else for(x.pop();x.length>0&&x[x.length-1].left===E;)E=x[x.length-1],x.pop()}},Object.defineProperty(o,"hasPrev",{get:function(){var x=this._stack;if(x.length===0)return!1;if(x[x.length-1].left)return!0;for(var E=x.length-1;E>0;--E)if(x[E-1].right===x[E])return!0;return!1}});function A(x,E){return x<E?-1:x>E?1:0}function C(x){return new s(x||A,null)}},7453:function(v,p,r){v.exports=f;var t=r(9557),a=r(1681),n=r(1011),u=r(2864),s=r(8468),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function m(P,T){return P[0]=T[0],P[1]=T[1],P[2]=T[2],P}function h(P){this.gl=P,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(P)}var g=h.prototype;g.update=function(P){P=P||{};function T(ne,ue,q){if(q in P){var Y=P[q],Z=this[q],G;(ne?Array.isArray(Y)&&Array.isArray(Y[0]):Array.isArray(Y))?this[q]=G=[ue(Y[0]),ue(Y[1]),ue(Y[2])]:this[q]=G=[ue(Y),ue(Y),ue(Y)];for(var K=0;K<3;++K)if(G[K]!==Z[K])return!0}return!1}var z=T.bind(this,!1,Number),_=T.bind(this,!1,Boolean),V=T.bind(this,!1,String),F=T.bind(this,!0,function(ne){if(Array.isArray(ne)){if(ne.length===3)return[+ne[0],+ne[1],+ne[2],1];if(ne.length===4)return[+ne[0],+ne[1],+ne[2],+ne[3]]}return[0,0,0,1]}),N,k=!1,I=!1;if("bounds"in P)for(var H=P.bounds,j=0;j<2;++j)for(var ee=0;ee<3;++ee)H[j][ee]!==this.bounds[j][ee]&&(I=!0),this.bounds[j][ee]=H[j][ee];if("ticks"in P){N=P.ticks,k=!0,this.autoTicks=!1;for(var j=0;j<3;++j)this.tickSpacing[j]=0}else z("tickSpacing")&&(this.autoTicks=!0,I=!0);if(this._firstInit&&("ticks"in P||"tickSpacing"in P||(this.autoTicks=!0),I=!0,k=!0,this._firstInit=!1),I&&this.autoTicks&&(N=s.create(this.bounds,this.tickSpacing),k=!0),k){for(var j=0;j<3;++j)N[j].sort(function(ue,q){return ue.x-q.x});s.equal(N,this.ticks)?k=!1:this.ticks=N}_("tickEnable"),V("tickFont")&&(k=!0),z("tickSize"),z("tickAngle"),z("tickPad"),F("tickColor");var te=V("labels");V("labelFont")&&(te=!0),_("labelEnable"),z("labelSize"),z("labelPad"),F("labelColor"),_("lineEnable"),_("lineMirror"),z("lineWidth"),F("lineColor"),_("lineTickEnable"),_("lineTickMirror"),z("lineTickLength"),z("lineTickWidth"),F("lineTickColor"),_("gridEnable"),z("gridWidth"),F("gridColor"),_("zeroEnable"),F("zeroLineColor"),z("zeroLineWidth"),_("backgroundEnable"),F("backgroundColor"),this._text?this._text&&(te||k)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=t(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&k&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=a(this.gl,this.bounds,this.ticks))};function c(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var o=[new c,new c,new c];function d(P,T,z,_,V){for(var F=P.primalOffset,N=P.primalMinor,k=P.mirrorOffset,I=P.mirrorMinor,H=_[T],j=0;j<3;++j)if(T!==j){var ee=F,te=k,ne=N,ue=I;H&1<<j&&(ee=k,te=F,ne=I,ue=N),ee[j]=z[0][j],te[j]=z[1][j],V[j]>0?(ne[j]=-1,ue[j]=0):(ne[j]=0,ue[j]=1)}}var w=[0,0,0],A={model:l,view:l,projection:l,_ortho:!1};g.isOpaque=function(){return!0},g.isTransparent=function(){return!1},g.drawTransparent=function(P){};var C=0,x=[0,0,0],E=[0,0,0],M=[0,0,0];g.draw=function(P){P=P||A;for(var Z=this.gl,T=P.model||l,z=P.view||l,_=P.projection||l,V=this.bounds,F=P._ortho||!1,N=u(T,z,_,V,F),k=N.cubeEdges,I=N.axis,H=z[12],j=z[13],ee=z[14],te=z[15],ne=F?2:1,ue=ne*this.pixelRatio*(_[3]*H+_[7]*j+_[11]*ee+_[15]*te)/Z.drawingBufferHeight,q=0;q<3;++q)this.lastCubeProps.cubeEdges[q]=k[q],this.lastCubeProps.axis[q]=I[q];for(var Y=o,q=0;q<3;++q)d(o[q],q,this.bounds,k,I);for(var Z=this.gl,G=w,q=0;q<3;++q)this.backgroundEnable[q]?G[q]=I[q]:G[q]=0;this._background.draw(T,z,_,V,G,this.backgroundColor),this._lines.bind(T,z,_,this);for(var q=0;q<3;++q){var K=[0,0,0];I[q]>0?K[q]=V[1][q]:K[q]=V[0][q];for(var oe=0;oe<2;++oe){var $=(q+1+oe)%3,J=(q+1+(oe^1))%3;this.gridEnable[$]&&this._lines.drawGrid($,J,this.bounds,K,this.gridColor[$],this.gridWidth[$]*this.pixelRatio)}for(var oe=0;oe<2;++oe){var $=(q+1+oe)%3,J=(q+1+(oe^1))%3;this.zeroEnable[J]&&Math.min(V[0][J],V[1][J])<=0&&Math.max(V[0][J],V[1][J])>=0&&this._lines.drawZero($,J,this.bounds,K,this.zeroLineColor[J],this.zeroLineWidth[J]*this.pixelRatio)}}for(var q=0;q<3;++q){this.lineEnable[q]&&this._lines.drawAxisLine(q,this.bounds,Y[q].primalOffset,this.lineColor[q],this.lineWidth[q]*this.pixelRatio),this.lineMirror[q]&&this._lines.drawAxisLine(q,this.bounds,Y[q].mirrorOffset,this.lineColor[q],this.lineWidth[q]*this.pixelRatio);for(var se=m(x,Y[q].primalMinor),ie=m(E,Y[q].mirrorMinor),ce=this.lineTickLength,oe=0;oe<3;++oe){var ye=ue/T[5*oe];se[oe]*=ce[oe]*ye,ie[oe]*=ce[oe]*ye}this.lineTickEnable[q]&&this._lines.drawAxisTicks(q,Y[q].primalOffset,se,this.lineTickColor[q],this.lineTickWidth[q]*this.pixelRatio),this.lineTickMirror[q]&&this._lines.drawAxisTicks(q,Y[q].mirrorOffset,ie,this.lineTickColor[q],this.lineTickWidth[q]*this.pixelRatio)}this._lines.unbind(),this._text.bind(T,z,_,this.pixelRatio);var Se,Te=.5,ke,we;function Ee(Xe){we=[0,0,0],we[Xe]=1}function xe(Xe,ot,ut){var et=(Xe+1)%3,qe=(Xe+2)%3,ft=ot[et],ht=ot[qe],dt=ut[et],mt=ut[qe];if(ft>0&&mt>0){Ee(et);return}else if(ft>0&&mt<0){Ee(et);return}else if(ft<0&&mt>0){Ee(et);return}else if(ft<0&&mt<0){Ee(et);return}else if(ht>0&&dt>0){Ee(qe);return}else if(ht>0&&dt<0){Ee(qe);return}else if(ht<0&&dt>0){Ee(qe);return}else if(ht<0&&dt<0){Ee(qe);return}}for(var q=0;q<3;++q){for(var De=Y[q].primalMinor,Ve=Y[q].mirrorMinor,Ue=m(M,Y[q].primalOffset),oe=0;oe<3;++oe)this.lineTickEnable[q]&&(Ue[oe]+=ue*De[oe]*Math.max(this.lineTickLength[oe],0)/T[5*oe]);var Be=[0,0,0];if(Be[q]=1,this.tickEnable[q]){this.tickAngle[q]===-3600?(this.tickAngle[q]=0,this.tickAlign[q]="auto"):this.tickAlign[q]=-1,ke=1,Se=[this.tickAlign[q],Te,ke],Se[0]==="auto"?Se[0]=C:Se[0]=parseInt(""+Se[0]),we=[0,0,0],xe(q,De,Ve);for(var oe=0;oe<3;++oe)Ue[oe]+=ue*De[oe]*this.tickPad[oe]/T[5*oe];this._text.drawTicks(q,this.tickSize[q],this.tickAngle[q],Ue,this.tickColor[q],Be,we,Se)}if(this.labelEnable[q]){ke=0,we=[0,0,0],this.labels[q].length>4&&(Ee(q),ke=1),Se=[this.labelAlign[q],Te,ke],Se[0]==="auto"?Se[0]=C:Se[0]=parseInt(""+Se[0]);for(var oe=0;oe<3;++oe)Ue[oe]+=ue*De[oe]*this.labelPad[oe]/T[5*oe];Ue[q]+=.5*(V[0][q]+V[1][q]),this._text.drawLabel(q,this.labelSize[q],this.labelAngle[q],Ue,this.labelColor[q],[0,0,0],we,Se)}}this._text.unbind()},g.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function f(P,T){var z=new h(P);return z.update(T),z}},1011:function(v,p,r){v.exports=l;var t=r(5827),a=r(2944),n=r(1943).bg;function u(m,h,g,c){this.gl=m,this.buffer=h,this.vao=g,this.shader=c}var s=u.prototype;s.draw=function(m,h,g,c,o,d){for(var w=!1,A=0;A<3;++A)w=w||o[A];if(w){var C=this.gl;C.enable(C.POLYGON_OFFSET_FILL),C.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:m,view:h,projection:g,bounds:c,enable:o,colors:d},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),C.disable(C.POLYGON_OFFSET_FILL)}},s.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function l(m){for(var h=[],g=[],c=0,o=0;o<3;++o)for(var d=(o+1)%3,w=(o+2)%3,A=[0,0,0],C=[0,0,0],x=-1;x<=1;x+=2){g.push(c,c+2,c+1,c+1,c+2,c+3),A[o]=x,C[o]=x;for(var E=-1;E<=1;E+=2){A[d]=E;for(var M=-1;M<=1;M+=2)A[w]=M,h.push(A[0],A[1],A[2],C[0],C[1],C[2]),c+=1}var f=d;d=w,w=f}var P=t(m,new Float32Array(h)),T=t(m,new Uint16Array(g),m.ELEMENT_ARRAY_BUFFER),z=a(m,[{buffer:P,type:m.FLOAT,size:3,offset:0,stride:24},{buffer:P,type:m.FLOAT,size:3,offset:12,stride:24}],T),_=n(m);return _.attributes.position.location=0,_.attributes.normal.location=1,new u(m,P,z,_)}},2864:function(v,p,r){v.exports=x;var t=r(2288),a=r(104),n=r(4670),u=r(417),s=new Array(16),l=new Array(8),m=new Array(8),h=new Array(3),g=[0,0,0];(function(){for(var E=0;E<8;++E)l[E]=[1,1,1,1],m[E]=[1,1,1]})();function c(E,M,f){for(var P=0;P<4;++P){E[P]=f[12+P];for(var T=0;T<3;++T)E[P]+=M[T]*f[4*T+P]}}var o=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function d(E){for(var M=0;M<o.length;++M)if(E=n.positive(E,o[M]),E.length<3)return 0;for(var f=E[0],P=f[0]/f[3],T=f[1]/f[3],z=0,M=1;M+1<E.length;++M){var _=E[M],V=E[M+1],F=_[0]/_[3],N=_[1]/_[3],k=V[0]/V[3],I=V[1]/V[3],H=F-P,j=N-T,ee=k-P,te=I-T;z+=Math.abs(H*te-j*ee)}return z}var w=[1,1,1],A=[0,0,0],C={cubeEdges:w,axis:A};function x(E,M,f,P,T){a(s,M,E),a(s,f,s);for(var z=0,_=0;_<2;++_){h[2]=P[_][2];for(var V=0;V<2;++V){h[1]=P[V][1];for(var F=0;F<2;++F)h[0]=P[F][0],c(l[z],h,s),z+=1}}for(var N=-1,_=0;_<8;++_){for(var k=l[_][3],I=0;I<3;++I)m[_][I]=l[_][I]/k;T&&(m[_][2]*=-1),k<0&&(N<0||m[_][2]<m[N][2])&&(N=_)}if(N<0){N=0;for(var H=0;H<3;++H){for(var j=(H+2)%3,ee=(H+1)%3,te=-1,ne=-1,ue=0;ue<2;++ue){var q=ue<<H,Y=q+(ue<<j)+(1-ue<<ee),Z=q+(1-ue<<j)+(ue<<ee);u(m[q],m[Y],m[Z],g)<0||(ue?te=1:ne=1)}if(te<0||ne<0){ne>te&&(N|=1<<H);continue}for(var ue=0;ue<2;++ue){var q=ue<<H,Y=q+(ue<<j)+(1-ue<<ee),Z=q+(1-ue<<j)+(ue<<ee),G=d([l[q],l[Y],l[Z],l[q+(1<<j)+(1<<ee)]]);ue?te=G:ne=G}if(ne>te){N|=1<<H;continue}}}for(var K=7^N,oe=-1,_=0;_<8;++_)_===N||_===K||(oe<0||m[oe][1]>m[_][1])&&(oe=_);for(var $=-1,_=0;_<3;++_){var J=oe^1<<_;if(!(J===N||J===K)){$<0&&($=J);var ee=m[J];ee[0]<m[$][0]&&($=J)}}for(var se=-1,_=0;_<3;++_){var J=oe^1<<_;if(!(J===N||J===K||J===$)){se<0&&(se=J);var ee=m[J];ee[0]>m[se][0]&&(se=J)}}var ie=w;ie[0]=ie[1]=ie[2]=0,ie[t.log2($^oe)]=oe&$,ie[t.log2(oe^se)]=oe&se;var ce=se^7;ce===N||ce===K?(ce=$^7,ie[t.log2(se^ce)]=ce&se):ie[t.log2($^ce)]=ce&$;for(var ye=A,Se=N,H=0;H<3;++H)Se&1<<H?ye[H]=-1:ye[H]=1;return C}},1681:function(v,p,r){v.exports=w;var t=r(5827),a=r(2944),n=r(1943).j,u=[0,0,0],s=[0,0,0],l=[0,0,0],m=[0,0,0],h=[1,1];function g(A){return A[0]=A[1]=A[2]=0,A}function c(A,C){return A[0]=C[0],A[1]=C[1],A[2]=C[2],A}function o(A,C,x,E,M,f,P,T){this.gl=A,this.vertBuffer=C,this.vao=x,this.shader=E,this.tickCount=M,this.tickOffset=f,this.gridCount=P,this.gridOffset=T}var d=o.prototype;d.bind=function(A,C,x){this.shader.bind(),this.shader.uniforms.model=A,this.shader.uniforms.view=C,this.shader.uniforms.projection=x,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=h,this.vao.bind()},d.unbind=function(){this.vao.unbind()},d.drawAxisLine=function(A,C,x,E,M){var f=g(s);this.shader.uniforms.majorAxis=s,f[A]=C[1][A]-C[0][A],this.shader.uniforms.minorAxis=f;var P=c(m,x);P[A]+=C[0][A],this.shader.uniforms.offset=P,this.shader.uniforms.lineWidth=M,this.shader.uniforms.color=E;var T=g(l);T[(A+2)%3]=1,this.shader.uniforms.screenAxis=T,this.vao.draw(this.gl.TRIANGLES,6);var T=g(l);T[(A+1)%3]=1,this.shader.uniforms.screenAxis=T,this.vao.draw(this.gl.TRIANGLES,6)},d.drawAxisTicks=function(A,C,x,E,M){if(this.tickCount[A]){var f=g(u);f[A]=1,this.shader.uniforms.majorAxis=f,this.shader.uniforms.offset=C,this.shader.uniforms.minorAxis=x,this.shader.uniforms.color=E,this.shader.uniforms.lineWidth=M;var P=g(l);P[A]=1,this.shader.uniforms.screenAxis=P,this.vao.draw(this.gl.TRIANGLES,this.tickCount[A],this.tickOffset[A])}},d.drawGrid=function(A,C,x,E,M,f){if(this.gridCount[A]){var P=g(s);P[C]=x[1][C]-x[0][C],this.shader.uniforms.minorAxis=P;var T=c(m,E);T[C]+=x[0][C],this.shader.uniforms.offset=T;var z=g(u);z[A]=1,this.shader.uniforms.majorAxis=z;var _=g(l);_[A]=1,this.shader.uniforms.screenAxis=_,this.shader.uniforms.lineWidth=f,this.shader.uniforms.color=M,this.vao.draw(this.gl.TRIANGLES,this.gridCount[A],this.gridOffset[A])}},d.drawZero=function(A,C,x,E,M,f){var P=g(s);this.shader.uniforms.majorAxis=P,P[A]=x[1][A]-x[0][A],this.shader.uniforms.minorAxis=P;var T=c(m,E);T[A]+=x[0][A],this.shader.uniforms.offset=T;var z=g(l);z[C]=1,this.shader.uniforms.screenAxis=z,this.shader.uniforms.lineWidth=f,this.shader.uniforms.color=M,this.vao.draw(this.gl.TRIANGLES,6)},d.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function w(A,C,x){var E=[],M=[0,0,0],f=[0,0,0],P=[0,0,0],T=[0,0,0];E.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var z=0;z<3;++z){for(var F=E.length/3|0,_=0;_<x[z].length;++_){var V=+x[z][_].x;E.push(V,0,1,V,1,1,V,0,-1,V,0,-1,V,1,1,V,1,-1)}var k=E.length/3|0;M[z]=F,f[z]=k-F;for(var F=E.length/3|0,N=0;N<x[z].length;++N){var V=+x[z][N].x;E.push(V,0,1,V,1,1,V,0,-1,V,0,-1,V,1,1,V,1,-1)}var k=E.length/3|0;P[z]=F,T[z]=k-F}var I=t(A,new Float32Array(E)),H=a(A,[{buffer:I,type:A.FLOAT,size:3,stride:0,offset:0}]),j=n(A);return j.attributes.position.location=0,new o(A,I,H,j,f,M,T,P)}},1943:function(v,p,r){var t=r(6832),a=r(5158),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.j=function(g){return a(g,n,u,null,[{name:"position",type:"vec3"}])};var s=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),l=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.f=function(g){return a(g,s,l,null,[{name:"position",type:"vec3"}])};var m=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),h=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);p.bg=function(g){return a(g,m,h,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(v,p,r){v.exports=d;var t=r(5827),a=r(2944),n=r(875),u=r(1943).f,s=window||y.global||{},l=s.__TEXT_CACHE||{};s.__TEXT_CACHE={};var m=3;function h(w,A,C,x){this.gl=w,this.shader=A,this.buffer=C,this.vao=x,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var g=h.prototype,c=[0,0];g.bind=function(w,A,C,x){this.vao.bind(),this.shader.bind();var E=this.shader.uniforms;E.model=w,E.view=A,E.projection=C,E.pixelScale=x,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=c},g.unbind=function(){this.vao.unbind()},g.update=function(w,A,C,x,E){var M=[];function f(I,H,j,ee,te,ne){var ue=l[j];ue||(ue=l[j]={});var q=ue[H];q||(q=ue[H]=o(H,{triangles:!0,font:j,textAlign:"center",textBaseline:"middle",lineSpacing:te,styletags:ne}));for(var Y=(ee||12)/12,Z=q.positions,G=q.cells,K=0,oe=G.length;K<oe;++K)for(var $=G[K],J=2;J>=0;--J){var se=Z[$[J]];M.push(Y*se[0],-Y*se[1],I)}}for(var P=[0,0,0],T=[0,0,0],z=[0,0,0],_=[0,0,0],V=1.25,F={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},N=0;N<3;++N){z[N]=M.length/m|0,f(.5*(w[0][N]+w[1][N]),A[N],C[N],12,V,F),_[N]=(M.length/m|0)-z[N],P[N]=M.length/m|0;for(var k=0;k<x[N].length;++k)x[N][k].text&&f(x[N][k].x,x[N][k].text,x[N][k].font||E,x[N][k].fontSize||12,V,F);T[N]=(M.length/m|0)-P[N]}this.buffer.update(M),this.tickOffset=P,this.tickCount=T,this.labelOffset=z,this.labelCount=_},g.drawTicks=function(w,A,C,x,E,M,f,P){this.tickCount[w]&&(this.shader.uniforms.axis=M,this.shader.uniforms.color=E,this.shader.uniforms.angle=C,this.shader.uniforms.scale=A,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=f,this.shader.uniforms.alignOpt=P,this.vao.draw(this.gl.TRIANGLES,this.tickCount[w],this.tickOffset[w]))},g.drawLabel=function(w,A,C,x,E,M,f,P){this.labelCount[w]&&(this.shader.uniforms.axis=M,this.shader.uniforms.color=E,this.shader.uniforms.angle=C,this.shader.uniforms.scale=A,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=f,this.shader.uniforms.alignOpt=P,this.vao.draw(this.gl.TRIANGLES,this.labelCount[w],this.labelOffset[w]))},g.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function o(w,A){try{return n(w,A)}catch(C){return console.warn('error vectorizing text:"'+w+'" error:',C),{cells:[],positions:[]}}}function d(w,A,C,x,E,M){var f=t(w),P=a(w,[{buffer:f,size:3}]),T=u(w);T.attributes.position.location=0;var z=new h(w,T,f,P);return z.update(A,C,x,E,M),z}},8468:function(v,p){p.create=t,p.equal=a;function r(n,u){var s=n+"",l=s.indexOf("."),m=0;l>=0&&(m=s.length-l-1);var h=Math.pow(10,m),g=Math.round(n*u*h),c=g+"";if(c.indexOf("e")>=0)return c;var o=g/h,d=g%h;g<0?(o=-Math.ceil(o)|0,d=-d|0):(o=Math.floor(o)|0,d=d|0);var w=""+o;if(g<0&&(w="-"+w),m){for(var A=""+d;A.length<m;)A="0"+A;return w+"."+A}else return w}function t(n,u){for(var s=[],l=0;l<3;++l){var m=[];.5*(n[0][l]+n[1][l]);for(var h=0;h*u[l]<=n[1][l];++h)m.push({x:h*u[l],text:r(u[l],h)});for(var h=-1;h*u[l]>=n[0][l];--h)m.push({x:h*u[l],text:r(u[l],h)});s.push(m)}return s}function a(n,u){for(var s=0;s<3;++s){if(n[s].length!==u[s].length)return!1;for(var l=0;l<n[s].length;++l){var m=n[s][l],h=u[s][l];if(m.x!==h.x||m.text!==h.text||m.font!==h.font||m.fontColor!==h.fontColor||m.fontSize!==h.fontSize||m.dx!==h.dx||m.dy!==h.dy)return!1}}return!0}},2771:function(v,p,r){v.exports=C;var t=r(5795),a=r(4670),n=r(2864),u=r(104),s=r(2142),l=r(6342),m=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=new Float32Array(16);function g(x,E,M){this.lo=x,this.hi=E,this.pixelsPerDataUnit=M}var c=[0,0,0,1],o=[0,0,0,1];function d(x,E,M,f,P){for(var T=0;T<3;++T){for(var z=c,_=o,V=0;V<3;++V)_[V]=z[V]=M[V];_[3]=z[3]=1,_[T]+=1,l(_,_,E),_[3]<0&&(x[T]=1/0),z[T]-=1,l(z,z,E),z[3]<0&&(x[T]=1/0);var F=(z[0]/z[3]-_[0]/_[3])*f,N=(z[1]/z[3]-_[1]/_[3])*P;x[T]=.25*Math.sqrt(F*F+N*N)}return x}var w=[new g(1/0,-1/0,1/0),new g(1/0,-1/0,1/0),new g(1/0,-1/0,1/0)],A=[0,0,0];function C(x,E,M,f,N){var T=E.model||m,z=E.view||m,_=E.projection||m,V=E._ortho||!1,F=x.bounds,N=N||n(T,z,_,F,V),k=N.axis;u(h,z,T),u(h,_,h);for(var I=w,H=0;H<3;++H)I[H].lo=1/0,I[H].hi=-1/0,I[H].pixelsPerDataUnit=1/0;var j=t(s(h,h));s(h,h);for(var ee=0;ee<3;++ee){var te=(ee+1)%3,ne=(ee+2)%3,ue=A;e:for(var H=0;H<2;++H){var q=[];if(k[ee]<0!=!!H){ue[ee]=F[H][ee];for(var Y=0;Y<2;++Y){ue[te]=F[Y^H][te];for(var Z=0;Z<2;++Z)ue[ne]=F[Z^Y^H][ne],q.push(ue.slice())}for(var G=V?5:4,Y=G;Y===G;++Y){if(q.length===0)continue e;q=a.positive(q,j[Y])}for(var Y=0;Y<q.length;++Y)for(var ne=q[Y],K=d(A,h,ne,M,f),Z=0;Z<3;++Z)I[Z].lo=Math.min(I[Z].lo,ne[Z]),I[Z].hi=Math.max(I[Z].hi,ne[Z]),Z!==ee&&(I[Z].pixelsPerDataUnit=Math.min(I[Z].pixelsPerDataUnit,Math.abs(K[Z])))}}}return I}},5827:function(v,p,r){var t=r(5306),a=r(7498),n=r(5050),u=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function s(o,d,w,A,C){this.gl=o,this.type=d,this.handle=w,this.length=A,this.usage=C}var l=s.prototype;l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)};function m(o,d,w,A,C,x){var E=C.length*C.BYTES_PER_ELEMENT;if(x<0)return o.bufferData(d,C,A),E;if(E+x>w)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return o.bufferSubData(d,x,C),w}function h(o,d){for(var w=t.malloc(o.length,d),A=o.length,C=0;C<A;++C)w[C]=o[C];return w}function g(o,d){for(var w=1,A=d.length-1;A>=0;--A){if(d[A]!==w)return!1;w*=o[A]}return!0}l.update=function(o,d){if(typeof d!="number"&&(d=-1),this.bind(),typeof o=="object"&&typeof o.shape<"u"){var w=o.dtype;if(u.indexOf(w)<0&&(w="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var A=gl.getExtension("OES_element_index_uint");A&&w!=="uint16"?w="uint32":w="uint16"}if(w===o.dtype&&g(o.shape,o.stride))o.offset===0&&o.data.length===o.shape[0]?this.length=m(this.gl,this.type,this.length,this.usage,o.data,d):this.length=m(this.gl,this.type,this.length,this.usage,o.data.subarray(o.offset,o.shape[0]),d);else{var C=t.malloc(o.size,w),x=n(C,o.shape);a.assign(x,o),d<0?this.length=m(this.gl,this.type,this.length,this.usage,C,d):this.length=m(this.gl,this.type,this.length,this.usage,C.subarray(0,o.size),d),t.free(C)}}else if(Array.isArray(o)){var E;this.type===this.gl.ELEMENT_ARRAY_BUFFER?E=h(o,"uint16"):E=h(o,"float32"),d<0?this.length=m(this.gl,this.type,this.length,this.usage,E,d):this.length=m(this.gl,this.type,this.length,this.usage,E.subarray(0,o.length),d),t.free(E)}else if(typeof o=="object"&&typeof o.length=="number")this.length=m(this.gl,this.type,this.length,this.usage,o,d);else if(typeof o=="number"||o===void 0){if(d>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");o=o|0,o<=0&&(o=1),this.gl.bufferData(this.type,o|0,this.usage),this.length=o}else throw new Error("gl-buffer: Invalid data type")};function c(o,d,w,A){if(w=w||o.ARRAY_BUFFER,A=A||o.DYNAMIC_DRAW,w!==o.ARRAY_BUFFER&&w!==o.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(A!==o.DYNAMIC_DRAW&&A!==o.STATIC_DRAW&&A!==o.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var C=o.createBuffer(),x=new s(o,w,C,0,A);return x.update(d),x}v.exports=c},1140:function(v,p,r){var t=r(2858);v.exports=function(n,u){var s=n.positions,l=n.vectors,m={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return u&&(u[0]=[0,0,0],u[1]=[0,0,0]),m;for(var h=0,g=1/0,c=-1/0,o=1/0,d=-1/0,w=1/0,A=-1/0,C=null,x=null,E=[],M=1/0,f=!1,P=0;P<s.length;P++){var T=s[P];g=Math.min(T[0],g),c=Math.max(T[0],c),o=Math.min(T[1],o),d=Math.max(T[1],d),w=Math.min(T[2],w),A=Math.max(T[2],A);var z=l[P];if(t.length(z)>h&&(h=t.length(z)),P){var _=2*t.distance(C,T)/(t.length(x)+t.length(z));_?(M=Math.min(M,_),f=!1):f=!0}f||(C=T,x=z),E.push(z)}var V=[g,o,w],F=[c,d,A];u&&(u[0]=V,u[1]=F),h===0&&(h=1);var N=1/h;isFinite(M)||(M=1),m.vectorScale=M;var k=n.coneSize||.5;n.absoluteConeSize&&(k=n.absoluteConeSize*N),m.coneScale=k;for(var P=0,I=0;P<s.length;P++)for(var T=s[P],H=T[0],j=T[1],ee=T[2],te=E[P],ne=t.length(te)*N,ue=0,q=8;ue<q;ue++){m.positions.push([H,j,ee,I++]),m.positions.push([H,j,ee,I++]),m.positions.push([H,j,ee,I++]),m.positions.push([H,j,ee,I++]),m.positions.push([H,j,ee,I++]),m.positions.push([H,j,ee,I++]),m.vectors.push(te),m.vectors.push(te),m.vectors.push(te),m.vectors.push(te),m.vectors.push(te),m.vectors.push(te),m.vertexIntensity.push(ne,ne,ne),m.vertexIntensity.push(ne,ne,ne);var Y=m.positions.length;m.cells.push([Y-6,Y-5,Y-4],[Y-3,Y-2,Y-1])}return m};var a=r(7234);v.exports.createMesh=r(5028),v.exports.createConeMesh=function(n,u){return v.exports.createMesh(n,u,{shaders:a,traceType:"cone"})}},5028:function(v,p,r){var t=r(5158),a=r(5827),n=r(2944),u=r(8931),s=r(104),l=r(7437),m=r(5050),h=r(9156),g=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(E,M,f,P,T,z,_,V,F,N,k){this.gl=E,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=M,this.dirty=!0,this.triShader=f,this.pickShader=P,this.trianglePositions=T,this.triangleVectors=z,this.triangleColors=V,this.triangleUVs=F,this.triangleIds=_,this.triangleVAO=N,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=k,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=g,this._view=g,this._projection=g,this._resolution=[1,1]}var o=c.prototype;o.isOpaque=function(){return this.opacity>=1},o.isTransparent=function(){return this.opacity<1},o.pickSlots=1,o.setPickBase=function(E){this.pickId=E};function d(E){for(var M=h({colormap:E,nshades:256,format:"rgba"}),f=new Uint8Array(256*4),P=0;P<256;++P){for(var T=M[P],z=0;z<3;++z)f[4*P+z]=T[z];f[4*P+3]=T[3]*255}return m(f,[256,256,4],[4,0,1])}function w(E){for(var M=E.length,f=new Array(M),P=0;P<M;++P)f[P]=E[P][2];return f}o.update=function(E){E=E||{};var M=this.gl;this.dirty=!0,"lightPosition"in E&&(this.lightPosition=E.lightPosition),"opacity"in E&&(this.opacity=E.opacity),"ambient"in E&&(this.ambientLight=E.ambient),"diffuse"in E&&(this.diffuseLight=E.diffuse),"specular"in E&&(this.specularLight=E.specular),"roughness"in E&&(this.roughness=E.roughness),"fresnel"in E&&(this.fresnel=E.fresnel),E.tubeScale!==void 0&&(this.tubeScale=E.tubeScale),E.vectorScale!==void 0&&(this.vectorScale=E.vectorScale),E.coneScale!==void 0&&(this.coneScale=E.coneScale),E.coneOffset!==void 0&&(this.coneOffset=E.coneOffset),E.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=M.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=M.LINEAR,this.texture.setPixels(d(E.colormap)),this.texture.generateMipmap());var f=E.cells,P=E.positions,T=E.vectors;if(!(!P||!f||!T)){var z=[],_=[],V=[],F=[],N=[];this.cells=f,this.positions=P,this.vectors=T;var k=E.meshColor||[1,1,1,1],I=E.vertexIntensity,H=1/0,j=-1/0;if(I)if(E.vertexIntensityBounds)H=+E.vertexIntensityBounds[0],j=+E.vertexIntensityBounds[1];else for(var ee=0;ee<I.length;++ee){var te=I[ee];H=Math.min(H,te),j=Math.max(j,te)}else for(var ee=0;ee<P.length;++ee){var te=P[ee][2];H=Math.min(H,te),j=Math.max(j,te)}I?this.intensity=I:this.intensity=w(P),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var ee=0;ee<P.length;++ee)for(var ne=P[ee],ue=0;ue<3;++ue)isNaN(ne[ue])||!isFinite(ne[ue])||(this.bounds[0][ue]=Math.min(this.bounds[0][ue],ne[ue]),this.bounds[1][ue]=Math.max(this.bounds[1][ue],ne[ue]));var q=0;e:for(var ee=0;ee<f.length;++ee){var Y=f[ee];switch(Y.length){case 3:for(var ue=0;ue<3;++ue)for(var Z=Y[ue],ne=P[Z],G=0;G<3;++G)if(isNaN(ne[G])||!isFinite(ne[G]))continue e;for(var ue=0;ue<3;++ue){var Z=Y[2-ue],ne=P[Z];z.push(ne[0],ne[1],ne[2],ne[3]);var K=T[Z];_.push(K[0],K[1],K[2],K[3]||0);var oe=k;oe.length===3?V.push(oe[0],oe[1],oe[2],1):V.push(oe[0],oe[1],oe[2],oe[3]);var $;I?$=[(I[Z]-H)/(j-H),0]:$=[(ne[2]-H)/(j-H),0],F.push($[0],$[1]),N.push(ee)}q+=1;break}}this.triangleCount=q,this.trianglePositions.update(z),this.triangleVectors.update(_),this.triangleColors.update(V),this.triangleUVs.update(F),this.triangleIds.update(new Uint32Array(N))}},o.drawTransparent=o.draw=function(E){E=E||{};for(var M=this.gl,f=E.model||g,P=E.view||g,T=E.projection||g,z=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],_=0;_<3;++_)z[0][_]=Math.max(z[0][_],this.clipBounds[0][_]),z[1][_]=Math.min(z[1][_],this.clipBounds[1][_]);var V={model:f,view:P,projection:T,inverseModel:g.slice(),clipBounds:z,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};V.inverseModel=l(V.inverseModel,V.model),M.disable(M.CULL_FACE),this.texture.bind(0);var F=new Array(16);s(F,V.view,V.model),s(F,V.projection,F),l(F,F);for(var _=0;_<3;++_)V.eyePosition[_]=F[12+_]/F[15];for(var N=F[15],_=0;_<3;++_)N+=this.lightPosition[_]*F[4*_+3];for(var _=0;_<3;++_){for(var k=F[12+_],I=0;I<3;++I)k+=F[4*I+_]*this.lightPosition[I];V.lightPosition[_]=k/N}if(this.triangleCount>0){var H=this.triShader;H.bind(),H.uniforms=V,this.triangleVAO.bind(),M.drawArrays(M.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},o.drawPick=function(E){E=E||{};for(var M=this.gl,f=E.model||g,P=E.view||g,T=E.projection||g,z=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],_=0;_<3;++_)z[0][_]=Math.max(z[0][_],this.clipBounds[0][_]),z[1][_]=Math.min(z[1][_],this.clipBounds[1][_]);this._model=[].slice.call(f),this._view=[].slice.call(P),this._projection=[].slice.call(T),this._resolution=[M.drawingBufferWidth,M.drawingBufferHeight];var V={model:f,view:P,projection:T,clipBounds:z,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},F=this.pickShader;F.bind(),F.uniforms=V,this.triangleCount>0&&(this.triangleVAO.bind(),M.drawArrays(M.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},o.pick=function(E){if(!E||E.id!==this.pickId)return null;var M=E.value[0]+256*E.value[1]+65536*E.value[2],f=this.cells[M],P=this.positions[f[1]].slice(0,3),T={position:P,dataCoordinate:P,index:Math.floor(f[1]/48)};return this.traceType==="cone"?T.index=Math.floor(f[1]/48):this.traceType==="streamtube"&&(T.intensity=this.intensity[f[1]],T.velocity=this.vectors[f[1]].slice(0,3),T.divergence=this.vectors[f[1]][3],T.index=M),T},o.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function A(E,M){var f=t(E,M.meshShader.vertex,M.meshShader.fragment,null,M.meshShader.attributes);return f.attributes.position.location=0,f.attributes.color.location=2,f.attributes.uv.location=3,f.attributes.vector.location=4,f}function C(E,M){var f=t(E,M.pickShader.vertex,M.pickShader.fragment,null,M.pickShader.attributes);return f.attributes.position.location=0,f.attributes.id.location=1,f.attributes.vector.location=4,f}function x(E,M,f){var P=f.shaders;arguments.length===1&&(M=E,E=M.gl);var T=A(E,P),z=C(E,P),_=u(E,m(new Uint8Array([255,255,255,255]),[1,1,4]));_.generateMipmap(),_.minFilter=E.LINEAR_MIPMAP_LINEAR,_.magFilter=E.LINEAR;var V=a(E),F=a(E),N=a(E),k=a(E),I=a(E),H=n(E,[{buffer:V,type:E.FLOAT,size:4},{buffer:I,type:E.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:N,type:E.FLOAT,size:4},{buffer:k,type:E.FLOAT,size:2},{buffer:F,type:E.FLOAT,size:4}]),j=new c(E,_,T,z,V,F,I,N,k,H,f.traceType||"cone");return j.update(M),j}v.exports=x},7234:function(v,p,r){var t=r(6832),a=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),u=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),s=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:a,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},p.pickShader={vertex:u,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(v,p,r){var t=r(1950);v.exports=function(n){return t[n]}},3110:function(v,p,r){v.exports=c;var t=r(5827),a=r(2944),n=r(7667),u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(o,d,w,A){this.gl=o,this.shader=A,this.buffer=d,this.vao=w,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=s.prototype;l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(o){var d=this.gl,w=this.shader.uniforms;this.shader.bind();var A=w.view=o.view||u,C=w.projection=o.projection||u;w.model=o.model||u,w.clipBounds=this.clipBounds,w.opacity=this.opacity;var x=A[12],E=A[13],M=A[14],f=A[15],P=o._ortho||!1,T=P?2:1,z=T*this.pixelRatio*(C[3]*x+C[7]*E+C[11]*M+C[15]*f)/d.drawingBufferHeight;this.vao.bind();for(var _=0;_<3;++_)d.lineWidth(this.lineWidth[_]*this.pixelRatio),w.capSize=this.capSize[_]*z,this.lineCount[_]&&d.drawArrays(d.LINES,this.lineOffset[_],this.lineCount[_]);this.vao.unbind()};function m(o,d){for(var w=0;w<3;++w)o[0][w]=Math.min(o[0][w],d[w]),o[1][w]=Math.max(o[1][w],d[w])}var h=function(){for(var o=new Array(3),d=0;d<3;++d){for(var w=[],A=1;A<=2;++A)for(var C=-1;C<=1;C+=2){var x=(A+d)%3,E=[0,0,0];E[x]=C,w.push(E)}o[d]=w}return o}();function g(o,d,w,A){for(var C=h[A],x=0;x<C.length;++x){var E=C[x];o.push(d[0],d[1],d[2],w[0],w[1],w[2],w[3],E[0],E[1],E[2])}return C.length}l.update=function(o){o=o||{},"lineWidth"in o&&(this.lineWidth=o.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in o&&(this.capSize=o.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in o&&(this.opacity=+o.opacity,this.opacity<1&&(this.hasAlpha=!0));var d=o.color||[[0,0,0],[0,0,0],[0,0,0]],w=o.position,A=o.error;if(Array.isArray(d[0])||(d=[d,d,d]),w&&A){var C=[],x=w.length,E=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var M=0;M<3;++M){this.lineOffset[M]=E;e:for(var f=0;f<x;++f){for(var P=w[f],T=0;T<3;++T)if(isNaN(P[T])||!isFinite(P[T]))continue e;var z=A[f],_=d[M];if(Array.isArray(_[0])&&(_=d[f]),_.length===3?_=[_[0],_[1],_[2],1]:_.length===4&&(_=[_[0],_[1],_[2],_[3]],!this.hasAlpha&&_[3]<1&&(this.hasAlpha=!0)),!(isNaN(z[0][M])||isNaN(z[1][M]))){if(z[0][M]<0){var V=P.slice();V[M]+=z[0][M],C.push(P[0],P[1],P[2],_[0],_[1],_[2],_[3],0,0,0,V[0],V[1],V[2],_[0],_[1],_[2],_[3],0,0,0),m(this.bounds,V),E+=2+g(C,V,_,M)}if(z[1][M]>0){var V=P.slice();V[M]+=z[1][M],C.push(P[0],P[1],P[2],_[0],_[1],_[2],_[3],0,0,0,V[0],V[1],V[2],_[0],_[1],_[2],_[3],0,0,0),m(this.bounds,V),E+=2+g(C,V,_,M)}}}this.lineCount[M]=E-this.lineOffset[M]}this.buffer.update(C)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function c(o){var d=o.gl,w=t(d),A=a(d,[{buffer:w,type:d.FLOAT,size:3,offset:0,stride:40},{buffer:w,type:d.FLOAT,size:4,offset:12,stride:40},{buffer:w,type:d.FLOAT,size:3,offset:28,stride:40}]),C=n(d);C.attributes.position.location=0,C.attributes.color.location=1,C.attributes.offset.location=2;var x=new s(d,w,A,C);return x.update(o),x}},7667:function(v,p,r){var t=r(6832),a=r(5158),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(s){return a(s,n,u,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(v,p,r){var t=r(8931);v.exports=E;var a=null,n,u,s,l;function m(M){var f=M.getParameter(M.FRAMEBUFFER_BINDING),P=M.getParameter(M.RENDERBUFFER_BINDING),T=M.getParameter(M.TEXTURE_BINDING_2D);return[f,P,T]}function h(M,f){M.bindFramebuffer(M.FRAMEBUFFER,f[0]),M.bindRenderbuffer(M.RENDERBUFFER,f[1]),M.bindTexture(M.TEXTURE_2D,f[2])}function g(M,f){var P=M.getParameter(f.MAX_COLOR_ATTACHMENTS_WEBGL);a=new Array(P+1);for(var T=0;T<=P;++T){for(var z=new Array(P),_=0;_<T;++_)z[_]=M.COLOR_ATTACHMENT0+_;for(var _=T;_<P;++_)z[_]=M.NONE;a[T]=z}}function c(M){switch(M){case n:throw new Error("gl-fbo: Framebuffer unsupported");case u:throw new Error("gl-fbo: Framebuffer incomplete attachment");case s:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case l:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function o(M,f,P,T,z,_){if(!T)return null;var V=t(M,f,P,z,T);return V.magFilter=M.NEAREST,V.minFilter=M.NEAREST,V.mipSamples=1,V.bind(),M.framebufferTexture2D(M.FRAMEBUFFER,_,M.TEXTURE_2D,V.handle,0),V}function d(M,f,P,T,z){var _=M.createRenderbuffer();return M.bindRenderbuffer(M.RENDERBUFFER,_),M.renderbufferStorage(M.RENDERBUFFER,T,f,P),M.framebufferRenderbuffer(M.FRAMEBUFFER,z,M.RENDERBUFFER,_),_}function w(M){var f=m(M.gl),P=M.gl,T=M.handle=P.createFramebuffer(),z=M._shape[0],_=M._shape[1],V=M.color.length,F=M._ext,N=M._useStencil,k=M._useDepth,I=M._colorType;P.bindFramebuffer(P.FRAMEBUFFER,T);for(var H=0;H<V;++H)M.color[H]=o(P,z,_,I,P.RGBA,P.COLOR_ATTACHMENT0+H);V===0?(M._color_rb=d(P,z,_,P.RGBA4,P.COLOR_ATTACHMENT0),F&&F.drawBuffersWEBGL(a[0])):V>1&&F.drawBuffersWEBGL(a[V]);var j=P.getExtension("WEBGL_depth_texture");j?N?M.depth=o(P,z,_,j.UNSIGNED_INT_24_8_WEBGL,P.DEPTH_STENCIL,P.DEPTH_STENCIL_ATTACHMENT):k&&(M.depth=o(P,z,_,P.UNSIGNED_SHORT,P.DEPTH_COMPONENT,P.DEPTH_ATTACHMENT)):k&&N?M._depth_rb=d(P,z,_,P.DEPTH_STENCIL,P.DEPTH_STENCIL_ATTACHMENT):k?M._depth_rb=d(P,z,_,P.DEPTH_COMPONENT16,P.DEPTH_ATTACHMENT):N&&(M._depth_rb=d(P,z,_,P.STENCIL_INDEX,P.STENCIL_ATTACHMENT));var ee=P.checkFramebufferStatus(P.FRAMEBUFFER);if(ee!==P.FRAMEBUFFER_COMPLETE){M._destroyed=!0,P.bindFramebuffer(P.FRAMEBUFFER,null),P.deleteFramebuffer(M.handle),M.handle=null,M.depth&&(M.depth.dispose(),M.depth=null),M._depth_rb&&(P.deleteRenderbuffer(M._depth_rb),M._depth_rb=null);for(var H=0;H<M.color.length;++H)M.color[H].dispose(),M.color[H]=null;M._color_rb&&(P.deleteRenderbuffer(M._color_rb),M._color_rb=null),h(P,f),c(ee)}h(P,f)}function A(M,f,P,T,z,_,V,F){this.gl=M,this._shape=[f|0,P|0],this._destroyed=!1,this._ext=F,this.color=new Array(z);for(var N=0;N<z;++N)this.color[N]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=T,this._useDepth=_,this._useStencil=V;var k=this,I=[f|0,P|0];Object.defineProperties(I,{0:{get:function(){return k._shape[0]},set:function(H){return k.width=H}},1:{get:function(){return k._shape[1]},set:function(H){return k.height=H}}}),this._shapeVector=I,w(this)}var C=A.prototype;function x(M,f,P){if(M._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(M._shape[0]===f&&M._shape[1]===P)){var T=M.gl,z=T.getParameter(T.MAX_RENDERBUFFER_SIZE);if(f<0||f>z||P<0||P>z)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");M._shape[0]=f,M._shape[1]=P;for(var _=m(T),V=0;V<M.color.length;++V)M.color[V].shape=M._shape;M._color_rb&&(T.bindRenderbuffer(T.RENDERBUFFER,M._color_rb),T.renderbufferStorage(T.RENDERBUFFER,T.RGBA4,M._shape[0],M._shape[1])),M.depth&&(M.depth.shape=M._shape),M._depth_rb&&(T.bindRenderbuffer(T.RENDERBUFFER,M._depth_rb),M._useDepth&&M._useStencil?T.renderbufferStorage(T.RENDERBUFFER,T.DEPTH_STENCIL,M._shape[0],M._shape[1]):M._useDepth?T.renderbufferStorage(T.RENDERBUFFER,T.DEPTH_COMPONENT16,M._shape[0],M._shape[1]):M._useStencil&&T.renderbufferStorage(T.RENDERBUFFER,T.STENCIL_INDEX,M._shape[0],M._shape[1])),T.bindFramebuffer(T.FRAMEBUFFER,M.handle);var F=T.checkFramebufferStatus(T.FRAMEBUFFER);F!==T.FRAMEBUFFER_COMPLETE&&(M.dispose(),h(T,_),c(F)),h(T,_)}}Object.defineProperties(C,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(M){if(Array.isArray(M)||(M=[M|0,M|0]),M.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var f=M[0]|0,P=M[1]|0;return x(this,f,P),[f,P]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(M){return M=M|0,x(this,M,this._shape[1]),M},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(M){return M=M|0,x(this,this._shape[0],M),M},enumerable:!1}}),C.bind=function(){if(!this._destroyed){var M=this.gl;M.bindFramebuffer(M.FRAMEBUFFER,this.handle),M.viewport(0,0,this._shape[0],this._shape[1])}},C.dispose=function(){if(!this._destroyed){this._destroyed=!0;var M=this.gl;M.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(M.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var f=0;f<this.color.length;++f)this.color[f].dispose(),this.color[f]=null;this._color_rb&&(M.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function E(M,f,P,T){n||(n=M.FRAMEBUFFER_UNSUPPORTED,u=M.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,s=M.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,l=M.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var z=M.getExtension("WEBGL_draw_buffers");if(!a&&z&&g(M,z),Array.isArray(f)&&(T=P,P=f[1]|0,f=f[0]|0),typeof f!="number")throw new Error("gl-fbo: Missing shape parameter");var _=M.getParameter(M.MAX_RENDERBUFFER_SIZE);if(f<0||f>_||P<0||P>_)throw new Error("gl-fbo: Parameters are too large for FBO");T=T||{};var V=1;if("color"in T){if(V=Math.max(T.color|0,0),V<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(V>1)if(z){if(V>M.getParameter(z.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+V+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var F=M.UNSIGNED_BYTE,N=M.getExtension("OES_texture_float");if(T.float&&V>0){if(!N)throw new Error("gl-fbo: Context does not support floating point textures");F=M.FLOAT}else T.preferFloat&&V>0&&N&&(F=M.FLOAT);var k=!0;"depth"in T&&(k=!!T.depth);var I=!1;return"stencil"in T&&(I=!!T.stencil),new A(M,f,P,F,V,k,I,z)}},3530:function(v,p,r){var t=r(8974).sprintf,a=r(6603),n=r(9365),u=r(8008);v.exports=s;function s(l,m,h){var g=n(m)||"of unknown name (see npm glsl-shader-name)",c="unknown type";h!==void 0&&(c=h===a.FRAGMENT_SHADER?"fragment":"vertex");for(var o=t(`Error compiling %s shader %s:
`,c,g),d=t("%s%s",o,l),w=l.split(`
`),A={},C=0;C<w.length;C++){var x=w[C];if(!(x===""||x==="\0")){var E=parseInt(x.split(":")[2]);if(isNaN(E))throw new Error(t("Could not parse error: %s",x));A[E]=x}}for(var M=u(m).split(`
`),C=0;C<M.length;C++)if(!(!A[C+3]&&!A[C+2]&&!A[C+1])){var f=M[C];if(o+=f+`
`,A[C+1]){var P=A[C+1];P=P.substr(P.split(":",3).join(":").length+1).trim(),o+=t(`^^^ %s

`,P)}}return{long:o.trim(),short:d.trim()}}},6386:function(v,p,r){v.exports=c;var t=r(5070),a=r(9560),n=r(5306),u=r(5158),s=r(5827),l=r(1292);function m(o,d,w,A,C,x,E){this.plot=o,this.shader=d,this.pickShader=w,this.positionBuffer=A,this.weightBuffer=C,this.colorBuffer=x,this.idBuffer=E,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var h=m.prototype,g=[0,0,1,0,0,1,1,0,1,1,0,1];h.draw=function(){var o=[1,0,0,0,1,0,0,0,1];return function(){var d=this.plot,w=this.shader,A=this.bounds,C=this.numVertices;if(!(C<=0)){var x=d.gl,E=d.dataBox,M=A[2]-A[0],f=A[3]-A[1],P=E[2]-E[0],T=E[3]-E[1];o[0]=2*M/P,o[4]=2*f/T,o[6]=2*(A[0]-E[0])/P-1,o[7]=2*(A[1]-E[1])/T-1,w.bind();var z=w.uniforms;z.viewTransform=o,z.shape=this.shape;var _=w.attributes;this.positionBuffer.bind(),_.position.pointer(),this.weightBuffer.bind(),_.weight.pointer(x.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),_.color.pointer(x.UNSIGNED_BYTE,!0),x.drawArrays(x.TRIANGLES,0,C)}}}(),h.drawPick=function(){var o=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0];return function(w){var A=this.plot,C=this.pickShader,x=this.bounds,E=this.numVertices;if(!(E<=0)){var M=A.gl,f=A.dataBox,P=x[2]-x[0],T=x[3]-x[1],z=f[2]-f[0],_=f[3]-f[1];o[0]=2*P/z,o[4]=2*T/_,o[6]=2*(x[0]-f[0])/z-1,o[7]=2*(x[1]-f[1])/_-1;for(var V=0;V<4;++V)d[V]=w>>V*8&255;this.pickOffset=w,C.bind();var F=C.uniforms;F.viewTransform=o,F.pickOffset=d,F.shape=this.shape;var N=C.attributes;return this.positionBuffer.bind(),N.position.pointer(),this.weightBuffer.bind(),N.weight.pointer(M.UNSIGNED_BYTE,!1),this.idBuffer.bind(),N.pickId.pointer(M.UNSIGNED_BYTE,!1),M.drawArrays(M.TRIANGLES,0,E),w+this.shape[0]*this.shape[1]}}}(),h.pick=function(o,d,w){var A=this.pickOffset,C=this.shape[0]*this.shape[1];if(w<A||w>=A+C)return null;var x=w-A,E=this.xData,M=this.yData;return{object:this,pointId:x,dataCoord:[E[x%this.shape[0]],M[x/this.shape[0]|0]]}},h.update=function(o){o=o||{};var d=o.shape||[0,0],w=o.x||a(d[0]),A=o.y||a(d[1]),C=o.z||new Float32Array(d[0]*d[1]),x=o.zsmooth!==!1;this.xData=w,this.yData=A;var E=o.colorLevels||[0],M=o.colorValues||[0,0,0,1],f=E.length,P=this.bounds,T,z,_,V;x?(T=P[0]=w[0],z=P[1]=A[0],_=P[2]=w[w.length-1],V=P[3]=A[A.length-1]):(T=P[0]=w[0]+(w[1]-w[0])/2,z=P[1]=A[0]+(A[1]-A[0])/2,_=P[2]=w[w.length-1]+(w[w.length-1]-w[w.length-2])/2,V=P[3]=A[A.length-1]+(A[A.length-1]-A[A.length-2])/2);var F=1/(_-T),N=1/(V-z),k=d[0],I=d[1];this.shape=[k,I];var H=(x?(k-1)*(I-1):k*I)*(g.length>>>1);this.numVertices=H;for(var j=n.mallocUint8(H*4),ee=n.mallocFloat32(H*2),te=n.mallocUint8(H*2),ne=n.mallocUint32(H),ue=0,q=x?k-1:k,Y=x?I-1:I,Z=0;Z<Y;++Z){var G,K;x?(G=N*(A[Z]-z),K=N*(A[Z+1]-z)):(G=Z<I-1?N*(A[Z]-(A[Z+1]-A[Z])/2-z):N*(A[Z]-(A[Z]-A[Z-1])/2-z),K=Z<I-1?N*(A[Z]+(A[Z+1]-A[Z])/2-z):N*(A[Z]+(A[Z]-A[Z-1])/2-z));for(var oe=0;oe<q;++oe){var $,J;x?($=F*(w[oe]-T),J=F*(w[oe+1]-T)):($=oe<k-1?F*(w[oe]-(w[oe+1]-w[oe])/2-T):F*(w[oe]-(w[oe]-w[oe-1])/2-T),J=oe<k-1?F*(w[oe]+(w[oe+1]-w[oe])/2-T):F*(w[oe]+(w[oe]-w[oe-1])/2-T));for(var se=0;se<g.length;se+=2){var ie=g[se],ce=g[se+1],ye=x?(Z+ce)*k+(oe+ie):Z*k+oe,Se=C[ye],Te=t.le(E,Se),ke,we,Ee,xe;if(Te<0)ke=M[0],we=M[1],Ee=M[2],xe=M[3];else if(Te===f-1)ke=M[4*f-4],we=M[4*f-3],Ee=M[4*f-2],xe=M[4*f-1];else{var De=(Se-E[Te])/(E[Te+1]-E[Te]),Ve=1-De,Ue=4*Te,Be=4*(Te+1);ke=Ve*M[Ue]+De*M[Be],we=Ve*M[Ue+1]+De*M[Be+1],Ee=Ve*M[Ue+2]+De*M[Be+2],xe=Ve*M[Ue+3]+De*M[Be+3]}j[4*ue]=255*ke,j[4*ue+1]=255*we,j[4*ue+2]=255*Ee,j[4*ue+3]=255*xe,ee[2*ue]=$*.5+J*.5,ee[2*ue+1]=G*.5+K*.5,te[2*ue]=ie,te[2*ue+1]=ce,ne[ue]=Z*k+oe,ue+=1}}}this.positionBuffer.update(ee),this.weightBuffer.update(te),this.colorBuffer.update(j),this.idBuffer.update(ne),n.free(ee),n.free(j),n.free(te),n.free(ne)},h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function c(o,d){var w=o.gl,A=u(w,l.vertex,l.fragment),C=u(w,l.pickVertex,l.pickFragment),x=s(w),E=s(w),M=s(w),f=s(w),P=new m(o,A,C,x,E,M,f);return P.update(d),o.addObject(P),P}},1292:function(v,p,r){var t=r(6832);v.exports={fragment:t([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(v,p,r){var t=r(6832),a=r(5158),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),s=t([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];p.createShader=function(m){return a(m,n,u,null,l)},p.createPickShader=function(m){return a(m,n,s,null,l)}},6086:function(v,p,r){v.exports=M;var t=r(5827),a=r(2944),n=r(8931),u=new Uint8Array(4),s=new Float32Array(u.buffer);function l(f,P,T,z){return u[0]=z,u[1]=T,u[2]=P,u[3]=f,s[0]}var m=r(5070),h=r(5050),g=r(248),c=g.createShader,o=g.createPickShader,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function w(f,P){for(var T=0,z=0;z<3;++z){var _=f[z]-P[z];T+=_*_}return Math.sqrt(T)}function A(f){for(var P=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],T=0;T<3;++T)P[0][T]=Math.max(f[0][T],P[0][T]),P[1][T]=Math.min(f[1][T],P[1][T]);return P}function C(f,P,T,z){this.arcLength=f,this.position=P,this.index=T,this.dataCoordinate=z}function x(f,P,T,z,_,V){this.gl=f,this.shader=P,this.pickShader=T,this.buffer=z,this.vao=_,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=V,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var E=x.prototype;E.isTransparent=function(){return this.hasAlpha},E.isOpaque=function(){return!this.hasAlpha},E.pickSlots=1,E.setPickBase=function(f){this.pickId=f},E.drawTransparent=E.draw=function(f){if(this.vertexCount){var P=this.gl,T=this.shader,z=this.vao;T.bind(),T.uniforms={model:f.model||d,view:f.view||d,projection:f.projection||d,clipBounds:A(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[P.drawingBufferWidth,P.drawingBufferHeight],pixelRatio:this.pixelRatio},z.bind(),z.draw(P.TRIANGLE_STRIP,this.vertexCount),z.unbind()}},E.drawPick=function(f){if(this.vertexCount){var P=this.gl,T=this.pickShader,z=this.vao;T.bind(),T.uniforms={model:f.model||d,view:f.view||d,projection:f.projection||d,pickId:this.pickId,clipBounds:A(this.clipBounds),screenShape:[P.drawingBufferWidth,P.drawingBufferHeight],pixelRatio:this.pixelRatio},z.bind(),z.draw(P.TRIANGLE_STRIP,this.vertexCount),z.unbind()}},E.update=function(f){var P,T;this.dirty=!0;var z=!!f.connectGaps;"dashScale"in f&&(this.dashScale=f.dashScale),this.hasAlpha=!1,"opacity"in f&&(this.opacity=+f.opacity,this.opacity<1&&(this.hasAlpha=!0));var _=[],V=[],F=[],N=0,k=0,I=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],H=f.position||f.positions;if(H){var j=f.color||f.colors||[0,0,0,1],ee=f.lineWidth||1,te=!1;e:for(P=1;P<H.length;++P){var ne=H[P-1],ue=H[P];for(V.push(N),F.push(ne.slice()),T=0;T<3;++T){if(isNaN(ne[T])||isNaN(ue[T])||!isFinite(ne[T])||!isFinite(ue[T])){if(!z&&_.length>0){for(var q=0;q<24;++q)_.push(_[_.length-12]);k+=2,te=!0}continue e}I[0][T]=Math.min(I[0][T],ne[T],ue[T]),I[1][T]=Math.max(I[1][T],ne[T],ue[T])}var Y,Z;Array.isArray(j[0])?(Y=j.length>P-1?j[P-1]:j.length>0?j[j.length-1]:[0,0,0,1],Z=j.length>P?j[P]:j.length>0?j[j.length-1]:[0,0,0,1]):Y=Z=j,Y.length===3&&(Y=[Y[0],Y[1],Y[2],1]),Z.length===3&&(Z=[Z[0],Z[1],Z[2],1]),!this.hasAlpha&&Y[3]<1&&(this.hasAlpha=!0);var G;Array.isArray(ee)?G=ee.length>P-1?ee[P-1]:ee.length>0?ee[ee.length-1]:[0,0,0,1]:G=ee;var K=N;if(N+=w(ne,ue),te){for(T=0;T<2;++T)_.push(ne[0],ne[1],ne[2],ue[0],ue[1],ue[2],K,G,Y[0],Y[1],Y[2],Y[3]);k+=2,te=!1}_.push(ne[0],ne[1],ne[2],ue[0],ue[1],ue[2],K,G,Y[0],Y[1],Y[2],Y[3],ne[0],ne[1],ne[2],ue[0],ue[1],ue[2],K,-G,Y[0],Y[1],Y[2],Y[3],ue[0],ue[1],ue[2],ne[0],ne[1],ne[2],N,-G,Z[0],Z[1],Z[2],Z[3],ue[0],ue[1],ue[2],ne[0],ne[1],ne[2],N,G,Z[0],Z[1],Z[2],Z[3]),k+=4}}if(this.buffer.update(_),V.push(N),F.push(H[H.length-1].slice()),this.bounds=I,this.vertexCount=k,this.points=F,this.arcLength=V,"dashes"in f){var oe=f.dashes,$=oe.slice();for($.unshift(0),P=1;P<$.length;++P)$[P]=$[P-1]+$[P];var J=h(new Array(256*4),[256,1,4]);for(P=0;P<256;++P){for(T=0;T<4;++T)J.set(P,0,T,0);m.le($,$[$.length-1]*P/255)&1?J.set(P,0,0,0):J.set(P,0,0,255)}this.texture.setPixels(J)}},E.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},E.pick=function(f){if(!f||f.id!==this.pickId)return null;var P=l(f.value[0],f.value[1],f.value[2],0),T=m.le(this.arcLength,P);if(T<0)return null;if(T===this.arcLength.length-1)return new C(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),T);for(var z=this.points[T],_=this.points[Math.min(T+1,this.points.length-1)],V=(P-this.arcLength[T])/(this.arcLength[T+1]-this.arcLength[T]),F=1-V,N=[0,0,0],k=0;k<3;++k)N[k]=F*z[k]+V*_[k];var I=Math.min(V<.5?T:T+1,this.points.length-1);return new C(P,N,I,this.points[I])};function M(f){var P=f.gl||f.scene&&f.scene.gl,T=c(P);T.attributes.position.location=0,T.attributes.nextPosition.location=1,T.attributes.arcLength.location=2,T.attributes.lineWidth.location=3,T.attributes.color.location=4;var z=o(P);z.attributes.position.location=0,z.attributes.nextPosition.location=1,z.attributes.arcLength.location=2,z.attributes.lineWidth.location=3,z.attributes.color.location=4;for(var _=t(P),V=a(P,[{buffer:_,size:3,offset:0,stride:48},{buffer:_,size:3,offset:12,stride:48},{buffer:_,size:1,offset:24,stride:48},{buffer:_,size:1,offset:28,stride:48},{buffer:_,size:4,offset:32,stride:48}]),F=h(new Array(256*4),[256,1,4]),N=0;N<1024;++N)F.data[N]=255;var k=n(P,F);k.wrap=P.REPEAT;var I=new x(P,T,z,_,V,k);return I.update(f),I}},7332:function(v){v.exports=p;function p(r){var t=new Float32Array(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},9823:function(v){v.exports=p;function p(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7787:function(v){v.exports=p;function p(r){var t=r[0],a=r[1],n=r[2],u=r[3],s=r[4],l=r[5],m=r[6],h=r[7],g=r[8],c=r[9],o=r[10],d=r[11],w=r[12],A=r[13],C=r[14],x=r[15],E=t*l-a*s,M=t*m-n*s,f=t*h-u*s,P=a*m-n*l,T=a*h-u*l,z=n*h-u*m,_=g*A-c*w,V=g*C-o*w,F=g*x-d*w,N=c*C-o*A,k=c*x-d*A,I=o*x-d*C;return E*I-M*k+f*N+P*F-T*V+z*_}},5950:function(v){v.exports=p;function p(r,t){var a=t[0],n=t[1],u=t[2],s=t[3],l=a+a,m=n+n,h=u+u,g=a*l,c=n*l,o=n*m,d=u*l,w=u*m,A=u*h,C=s*l,x=s*m,E=s*h;return r[0]=1-o-A,r[1]=c+E,r[2]=d-x,r[3]=0,r[4]=c-E,r[5]=1-g-A,r[6]=w+C,r[7]=0,r[8]=d+x,r[9]=w-C,r[10]=1-g-o,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7280:function(v){v.exports=p;function p(r,t,a){var n=t[0],u=t[1],s=t[2],l=t[3],m=n+n,h=u+u,g=s+s,c=n*m,o=n*h,d=n*g,w=u*h,A=u*g,C=s*g,x=l*m,E=l*h,M=l*g;return r[0]=1-(w+C),r[1]=o+M,r[2]=d-E,r[3]=0,r[4]=o-M,r[5]=1-(c+C),r[6]=A+x,r[7]=0,r[8]=d+E,r[9]=A-x,r[10]=1-(c+w),r[11]=0,r[12]=a[0],r[13]=a[1],r[14]=a[2],r[15]=1,r}},9947:function(v){v.exports=p;function p(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7437:function(v){v.exports=p;function p(r,t){var a=t[0],n=t[1],u=t[2],s=t[3],l=t[4],m=t[5],h=t[6],g=t[7],c=t[8],o=t[9],d=t[10],w=t[11],A=t[12],C=t[13],x=t[14],E=t[15],M=a*m-n*l,f=a*h-u*l,P=a*g-s*l,T=n*h-u*m,z=n*g-s*m,_=u*g-s*h,V=c*C-o*A,F=c*x-d*A,N=c*E-w*A,k=o*x-d*C,I=o*E-w*C,H=d*E-w*x,j=M*H-f*I+P*k+T*N-z*F+_*V;return j?(j=1/j,r[0]=(m*H-h*I+g*k)*j,r[1]=(u*I-n*H-s*k)*j,r[2]=(C*_-x*z+E*T)*j,r[3]=(d*z-o*_-w*T)*j,r[4]=(h*N-l*H-g*F)*j,r[5]=(a*H-u*N+s*F)*j,r[6]=(x*P-A*_-E*f)*j,r[7]=(c*_-d*P+w*f)*j,r[8]=(l*I-m*N+g*V)*j,r[9]=(n*N-a*I-s*V)*j,r[10]=(A*z-C*P+E*M)*j,r[11]=(o*P-c*z-w*M)*j,r[12]=(m*F-l*k-h*V)*j,r[13]=(a*k-n*F+u*V)*j,r[14]=(C*f-A*T-x*M)*j,r[15]=(c*T-o*f+d*M)*j,r):null}},3012:function(v,p,r){var t=r(9947);v.exports=a;function a(n,u,s,l){var m,h,g,c,o,d,w,A,C,x,E=u[0],M=u[1],f=u[2],P=l[0],T=l[1],z=l[2],_=s[0],V=s[1],F=s[2];return Math.abs(E-_)<1e-6&&Math.abs(M-V)<1e-6&&Math.abs(f-F)<1e-6?t(n):(w=E-_,A=M-V,C=f-F,x=1/Math.sqrt(w*w+A*A+C*C),w*=x,A*=x,C*=x,m=T*C-z*A,h=z*w-P*C,g=P*A-T*w,x=Math.sqrt(m*m+h*h+g*g),x?(x=1/x,m*=x,h*=x,g*=x):(m=0,h=0,g=0),c=A*g-C*h,o=C*m-w*g,d=w*h-A*m,x=Math.sqrt(c*c+o*o+d*d),x?(x=1/x,c*=x,o*=x,d*=x):(c=0,o=0,d=0),n[0]=m,n[1]=c,n[2]=w,n[3]=0,n[4]=h,n[5]=o,n[6]=A,n[7]=0,n[8]=g,n[9]=d,n[10]=C,n[11]=0,n[12]=-(m*E+h*M+g*f),n[13]=-(c*E+o*M+d*f),n[14]=-(w*E+A*M+C*f),n[15]=1,n)}},104:function(v){v.exports=p;function p(r,t,a){var n=t[0],u=t[1],s=t[2],l=t[3],m=t[4],h=t[5],g=t[6],c=t[7],o=t[8],d=t[9],w=t[10],A=t[11],C=t[12],x=t[13],E=t[14],M=t[15],f=a[0],P=a[1],T=a[2],z=a[3];return r[0]=f*n+P*m+T*o+z*C,r[1]=f*u+P*h+T*d+z*x,r[2]=f*s+P*g+T*w+z*E,r[3]=f*l+P*c+T*A+z*M,f=a[4],P=a[5],T=a[6],z=a[7],r[4]=f*n+P*m+T*o+z*C,r[5]=f*u+P*h+T*d+z*x,r[6]=f*s+P*g+T*w+z*E,r[7]=f*l+P*c+T*A+z*M,f=a[8],P=a[9],T=a[10],z=a[11],r[8]=f*n+P*m+T*o+z*C,r[9]=f*u+P*h+T*d+z*x,r[10]=f*s+P*g+T*w+z*E,r[11]=f*l+P*c+T*A+z*M,f=a[12],P=a[13],T=a[14],z=a[15],r[12]=f*n+P*m+T*o+z*C,r[13]=f*u+P*h+T*d+z*x,r[14]=f*s+P*g+T*w+z*E,r[15]=f*l+P*c+T*A+z*M,r}},5268:function(v){v.exports=p;function p(r,t,a,n,u,s,l){var m=1/(t-a),h=1/(n-u),g=1/(s-l);return r[0]=-2*m,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*h,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*g,r[11]=0,r[12]=(t+a)*m,r[13]=(u+n)*h,r[14]=(l+s)*g,r[15]=1,r}},1120:function(v){v.exports=p;function p(r,t,a,n,u){var s=1/Math.tan(t/2),l=1/(n-u);return r[0]=s/a,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=s,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(u+n)*l,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*u*n*l,r[15]=0,r}},4422:function(v){v.exports=p;function p(r,t,a,n){var u=n[0],s=n[1],l=n[2],m=Math.sqrt(u*u+s*s+l*l),h,g,c,o,d,w,A,C,x,E,M,f,P,T,z,_,V,F,N,k,I,H,j,ee;return Math.abs(m)<1e-6?null:(m=1/m,u*=m,s*=m,l*=m,h=Math.sin(a),g=Math.cos(a),c=1-g,o=t[0],d=t[1],w=t[2],A=t[3],C=t[4],x=t[5],E=t[6],M=t[7],f=t[8],P=t[9],T=t[10],z=t[11],_=u*u*c+g,V=s*u*c+l*h,F=l*u*c-s*h,N=u*s*c-l*h,k=s*s*c+g,I=l*s*c+u*h,H=u*l*c+s*h,j=s*l*c-u*h,ee=l*l*c+g,r[0]=o*_+C*V+f*F,r[1]=d*_+x*V+P*F,r[2]=w*_+E*V+T*F,r[3]=A*_+M*V+z*F,r[4]=o*N+C*k+f*I,r[5]=d*N+x*k+P*I,r[6]=w*N+E*k+T*I,r[7]=A*N+M*k+z*I,r[8]=o*H+C*j+f*ee,r[9]=d*H+x*j+P*ee,r[10]=w*H+E*j+T*ee,r[11]=A*H+M*j+z*ee,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}},6109:function(v){v.exports=p;function p(r,t,a){var n=Math.sin(a),u=Math.cos(a),s=t[4],l=t[5],m=t[6],h=t[7],g=t[8],c=t[9],o=t[10],d=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=s*u+g*n,r[5]=l*u+c*n,r[6]=m*u+o*n,r[7]=h*u+d*n,r[8]=g*u-s*n,r[9]=c*u-l*n,r[10]=o*u-m*n,r[11]=d*u-h*n,r}},7115:function(v){v.exports=p;function p(r,t,a){var n=Math.sin(a),u=Math.cos(a),s=t[0],l=t[1],m=t[2],h=t[3],g=t[8],c=t[9],o=t[10],d=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=s*u-g*n,r[1]=l*u-c*n,r[2]=m*u-o*n,r[3]=h*u-d*n,r[8]=s*n+g*u,r[9]=l*n+c*u,r[10]=m*n+o*u,r[11]=h*n+d*u,r}},5240:function(v){v.exports=p;function p(r,t,a){var n=Math.sin(a),u=Math.cos(a),s=t[0],l=t[1],m=t[2],h=t[3],g=t[4],c=t[5],o=t[6],d=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=s*u+g*n,r[1]=l*u+c*n,r[2]=m*u+o*n,r[3]=h*u+d*n,r[4]=g*u-s*n,r[5]=c*u-l*n,r[6]=o*u-m*n,r[7]=d*u-h*n,r}},3668:function(v){v.exports=p;function p(r,t,a){var n=a[0],u=a[1],s=a[2];return r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r[3]=t[3]*n,r[4]=t[4]*u,r[5]=t[5]*u,r[6]=t[6]*u,r[7]=t[7]*u,r[8]=t[8]*s,r[9]=t[9]*s,r[10]=t[10]*s,r[11]=t[11]*s,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},998:function(v){v.exports=p;function p(r,t,a){var n=a[0],u=a[1],s=a[2],l,m,h,g,c,o,d,w,A,C,x,E;return t===r?(r[12]=t[0]*n+t[4]*u+t[8]*s+t[12],r[13]=t[1]*n+t[5]*u+t[9]*s+t[13],r[14]=t[2]*n+t[6]*u+t[10]*s+t[14],r[15]=t[3]*n+t[7]*u+t[11]*s+t[15]):(l=t[0],m=t[1],h=t[2],g=t[3],c=t[4],o=t[5],d=t[6],w=t[7],A=t[8],C=t[9],x=t[10],E=t[11],r[0]=l,r[1]=m,r[2]=h,r[3]=g,r[4]=c,r[5]=o,r[6]=d,r[7]=w,r[8]=A,r[9]=C,r[10]=x,r[11]=E,r[12]=l*n+c*u+A*s+t[12],r[13]=m*n+o*u+C*s+t[13],r[14]=h*n+d*u+x*s+t[14],r[15]=g*n+w*u+E*s+t[15]),r}},2142:function(v){v.exports=p;function p(r,t){if(r===t){var a=t[1],n=t[2],u=t[3],s=t[6],l=t[7],m=t[11];r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=a,r[6]=t[9],r[7]=t[13],r[8]=n,r[9]=s,r[11]=t[14],r[12]=u,r[13]=l,r[14]=m}else r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15];return r}},4340:function(v,p,r){var t=r(957),a=r(7309);v.exports=m;function n(h,g){for(var c=[0,0,0,0],o=0;o<4;++o)for(var d=0;d<4;++d)c[d]+=h[4*o+d]*g[o];return c}function u(h,g,c,o,d){for(var w=n(o,n(c,n(g,[h[0],h[1],h[2],1]))),A=0;A<3;++A)w[A]/=w[3];return[.5*d[0]*(1+w[0]),.5*d[1]*(1-w[1])]}function s(h,g){if(h.length===2){for(var c=0,o=0,d=0;d<2;++d)c+=Math.pow(g[d]-h[0][d],2),o+=Math.pow(g[d]-h[1][d],2);return c=Math.sqrt(c),o=Math.sqrt(o),c+o<1e-6?[1,0]:[o/(c+o),c/(o+c)]}else if(h.length===3){var w=[0,0];return a(h[0],h[1],h[2],g,w),t(h,w)}return[]}function l(h,g){for(var c=[0,0,0],o=0;o<h.length;++o)for(var d=h[o],w=g[o],A=0;A<3;++A)c[A]+=w*d[A];return c}function m(h,g,c,o,d,w){if(h.length===1)return[0,h[0].slice()];for(var A=new Array(h.length),C=0;C<h.length;++C)A[C]=u(h[C],c,o,d,w);for(var x=0,E=1/0,C=0;C<A.length;++C){for(var M=0,f=0;f<2;++f)M+=Math.pow(A[C][f]-g[f],2);M<E&&(E=M,x=C)}for(var P=s(A,g),T=0,C=0;C<3;++C){if(P[C]<-.001||P[C]>1.0001)return null;T+=P[C]}return Math.abs(T-1)>.001?null:[x,l(h,P),P]}},2056:function(v,p,r){var t=r(6832),a=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),s=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),m=t([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),h=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),g=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),c=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),o=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),d=t([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);p.meshShader={vertex:a,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.wireShader={vertex:u,fragment:s,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.pointShader={vertex:l,fragment:m,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},p.pickShader={vertex:h,fragment:g,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},p.pointPickShader={vertex:c,fragment:g,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},p.contourShader={vertex:o,fragment:d,attributes:[{name:"position",type:"vec3"}]}},8116:function(v,p,r){var t=1e-6,a=1e-6,n=r(5158),u=r(5827),s=r(2944),l=r(8931),m=r(115),h=r(104),g=r(7437),c=r(5050),o=r(9156),d=r(7212),w=r(5306),A=r(2056),C=r(4340),x=A.meshShader,E=A.wireShader,M=A.pointShader,f=A.pickShader,P=A.pointPickShader,T=A.contourShader,z=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function _(q,Y,Z,G,K,oe,$,J,se,ie,ce,ye,Se,Te,ke,we,Ee,xe,De,Ve,Ue,Be,Xe,ot,ut,et,qe){this.gl=q,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=Y,this.dirty=!0,this.triShader=Z,this.lineShader=G,this.pointShader=K,this.pickShader=oe,this.pointPickShader=$,this.contourShader=J,this.trianglePositions=se,this.triangleColors=ce,this.triangleNormals=Se,this.triangleUVs=ye,this.triangleIds=ie,this.triangleVAO=Te,this.triangleCount=0,this.lineWidth=1,this.edgePositions=ke,this.edgeColors=Ee,this.edgeUVs=xe,this.edgeIds=we,this.edgeVAO=De,this.edgeCount=0,this.pointPositions=Ve,this.pointColors=Be,this.pointUVs=Xe,this.pointSizes=ot,this.pointIds=Ue,this.pointVAO=ut,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=et,this.contourVAO=qe,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=z,this._view=z,this._projection=z,this._resolution=[1,1]}var V=_.prototype;V.isOpaque=function(){return!this.hasAlpha},V.isTransparent=function(){return this.hasAlpha},V.pickSlots=1,V.setPickBase=function(q){this.pickId=q};function F(q,Y){if(!Y||!Y.length)return 1;for(var Z=0;Z<Y.length;++Z){if(Y.length<2)return 1;if(Y[Z][0]===q)return Y[Z][1];if(Y[Z][0]>q&&Z>0){var G=(Y[Z][0]-q)/(Y[Z][0]-Y[Z-1][0]);return Y[Z][1]*(1-G)+G*Y[Z-1][1]}}return 1}function N(q,Y){for(var Z=o({colormap:q,nshades:256,format:"rgba"}),G=new Uint8Array(256*4),K=0;K<256;++K){for(var oe=Z[K],$=0;$<3;++$)G[4*K+$]=oe[$];Y?G[4*K+3]=255*F(K/255,Y):G[4*K+3]=255*oe[3]}return c(G,[256,256,4],[4,0,1])}function k(q){for(var Y=q.length,Z=new Array(Y),G=0;G<Y;++G)Z[G]=q[G][2];return Z}V.highlight=function(q){if(!q||!this.contourEnable){this.contourCount=0;return}for(var Y=d(this.cells,this.intensity,q.intensity),Z=Y.cells,G=Y.vertexIds,K=Y.vertexWeights,oe=Z.length,$=w.mallocFloat32(2*3*oe),J=0,se=0;se<oe;++se)for(var ie=Z[se],ce=0;ce<2;++ce){var ye=ie[0];ie.length===2&&(ye=ie[ce]);for(var Se=G[ye][0],Te=G[ye][1],ke=K[ye],we=1-ke,Ee=this.positions[Se],xe=this.positions[Te],De=0;De<3;++De)$[J++]=ke*Ee[De]+we*xe[De]}this.contourCount=J/3|0,this.contourPositions.update($.subarray(0,J)),w.free($)},V.update=function(q){q=q||{};var Y=this.gl;this.dirty=!0,"contourEnable"in q&&(this.contourEnable=q.contourEnable),"contourColor"in q&&(this.contourColor=q.contourColor),"lineWidth"in q&&(this.lineWidth=q.lineWidth),"lightPosition"in q&&(this.lightPosition=q.lightPosition),this.hasAlpha=!1,"opacity"in q&&(this.opacity=q.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in q&&(this.opacityscale=q.opacityscale,this.hasAlpha=!0),"ambient"in q&&(this.ambientLight=q.ambient),"diffuse"in q&&(this.diffuseLight=q.diffuse),"specular"in q&&(this.specularLight=q.specular),"roughness"in q&&(this.roughness=q.roughness),"fresnel"in q&&(this.fresnel=q.fresnel),q.texture?(this.texture.dispose(),this.texture=l(Y,q.texture)):q.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=Y.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=Y.LINEAR,this.texture.setPixels(N(q.colormap,this.opacityscale)),this.texture.generateMipmap());var Z=q.cells,G=q.positions;if(!(!G||!Z)){var K=[],oe=[],$=[],J=[],se=[],ie=[],ce=[],ye=[],Se=[],Te=[],ke=[],we=[],Ee=[],xe=[];this.cells=Z,this.positions=G;var De=q.vertexNormals,Ve=q.cellNormals,Ue=q.vertexNormalsEpsilon===void 0?t:q.vertexNormalsEpsilon,Be=q.faceNormalsEpsilon===void 0?a:q.faceNormalsEpsilon;q.useFacetNormals&&!Ve&&(Ve=m.faceNormals(Z,G,Be)),!Ve&&!De&&(De=m.vertexNormals(Z,G,Ue));var Xe=q.vertexColors,ot=q.cellColors,ut=q.meshColor||[1,1,1,1],et=q.vertexUVs,qe=q.vertexIntensity,ft=q.cellUVs,ht=q.cellIntensity,dt=1/0,mt=-1/0;if(!et&&!ft)if(qe)if(q.vertexIntensityBounds)dt=+q.vertexIntensityBounds[0],mt=+q.vertexIntensityBounds[1];else for(var St=0;St<qe.length;++St){var rt=qe[St];dt=Math.min(dt,rt),mt=Math.max(mt,rt)}else if(ht)if(q.cellIntensityBounds)dt=+q.cellIntensityBounds[0],mt=+q.cellIntensityBounds[1];else for(var St=0;St<ht.length;++St){var rt=ht[St];dt=Math.min(dt,rt),mt=Math.max(mt,rt)}else for(var St=0;St<G.length;++St){var rt=G[St][2];dt=Math.min(dt,rt),mt=Math.max(mt,rt)}qe?this.intensity=qe:ht?this.intensity=ht:this.intensity=k(G),this.pickVertex=!(ht||ot);var Oe=q.pointSizes,Ye=q.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var St=0;St<G.length;++St)for(var Ze=G[St],Ge=0;Ge<3;++Ge)isNaN(Ze[Ge])||!isFinite(Ze[Ge])||(this.bounds[0][Ge]=Math.min(this.bounds[0][Ge],Ze[Ge]),this.bounds[1][Ge]=Math.max(this.bounds[1][Ge],Ze[Ge]));var _e=0,be=0,me=0;e:for(var St=0;St<Z.length;++St){var Ce=Z[St];switch(Ce.length){case 1:for(var Me=Ce[0],Ze=G[Me],Ge=0;Ge<3;++Ge)if(isNaN(Ze[Ge])||!isFinite(Ze[Ge]))continue e;Te.push(Ze[0],Ze[1],Ze[2]);var Ne;Xe?Ne=Xe[Me]:ot?Ne=ot[St]:Ne=ut,this.opacityscale&&qe?oe.push(Ne[0],Ne[1],Ne[2],this.opacity*F((qe[Me]-dt)/(mt-dt),this.opacityscale)):Ne.length===3?ke.push(Ne[0],Ne[1],Ne[2],this.opacity):(ke.push(Ne[0],Ne[1],Ne[2],Ne[3]*this.opacity),Ne[3]<1&&(this.hasAlpha=!0));var je;et?je=et[Me]:qe?je=[(qe[Me]-dt)/(mt-dt),0]:ft?je=ft[St]:ht?je=[(ht[St]-dt)/(mt-dt),0]:je=[(Ze[2]-dt)/(mt-dt),0],we.push(je[0],je[1]),Oe?Ee.push(Oe[Me]):Ee.push(Ye),xe.push(St),me+=1;break;case 2:for(var Ge=0;Ge<2;++Ge)for(var Me=Ce[Ge],Ze=G[Me],tt=0;tt<3;++tt)if(isNaN(Ze[tt])||!isFinite(Ze[tt]))continue e;for(var Ge=0;Ge<2;++Ge){var Me=Ce[Ge],Ze=G[Me];ie.push(Ze[0],Ze[1],Ze[2]);var Ne;Xe?Ne=Xe[Me]:ot?Ne=ot[St]:Ne=ut,this.opacityscale&&qe?oe.push(Ne[0],Ne[1],Ne[2],this.opacity*F((qe[Me]-dt)/(mt-dt),this.opacityscale)):Ne.length===3?ce.push(Ne[0],Ne[1],Ne[2],this.opacity):(ce.push(Ne[0],Ne[1],Ne[2],Ne[3]*this.opacity),Ne[3]<1&&(this.hasAlpha=!0));var je;et?je=et[Me]:qe?je=[(qe[Me]-dt)/(mt-dt),0]:ft?je=ft[St]:ht?je=[(ht[St]-dt)/(mt-dt),0]:je=[(Ze[2]-dt)/(mt-dt),0],ye.push(je[0],je[1]),Se.push(St)}be+=1;break;case 3:for(var Ge=0;Ge<3;++Ge)for(var Me=Ce[Ge],Ze=G[Me],tt=0;tt<3;++tt)if(isNaN(Ze[tt])||!isFinite(Ze[tt]))continue e;for(var Ge=0;Ge<3;++Ge){var Me=Ce[2-Ge],Ze=G[Me];K.push(Ze[0],Ze[1],Ze[2]);var Ne;Xe?Ne=Xe[Me]:ot?Ne=ot[St]:Ne=ut,Ne?this.opacityscale&&qe?oe.push(Ne[0],Ne[1],Ne[2],this.opacity*F((qe[Me]-dt)/(mt-dt),this.opacityscale)):Ne.length===3?oe.push(Ne[0],Ne[1],Ne[2],this.opacity):(oe.push(Ne[0],Ne[1],Ne[2],Ne[3]*this.opacity),Ne[3]<1&&(this.hasAlpha=!0)):oe.push(.5,.5,.5,1);var je;et?je=et[Me]:qe?je=[(qe[Me]-dt)/(mt-dt),0]:ft?je=ft[St]:ht?je=[(ht[St]-dt)/(mt-dt),0]:je=[(Ze[2]-dt)/(mt-dt),0],J.push(je[0],je[1]);var ct;De?ct=De[Me]:ct=Ve[St],$.push(ct[0],ct[1],ct[2]),se.push(St)}_e+=1;break}}this.pointCount=me,this.edgeCount=be,this.triangleCount=_e,this.pointPositions.update(Te),this.pointColors.update(ke),this.pointUVs.update(we),this.pointSizes.update(Ee),this.pointIds.update(new Uint32Array(xe)),this.edgePositions.update(ie),this.edgeColors.update(ce),this.edgeUVs.update(ye),this.edgeIds.update(new Uint32Array(Se)),this.trianglePositions.update(K),this.triangleColors.update(oe),this.triangleUVs.update(J),this.triangleNormals.update($),this.triangleIds.update(new Uint32Array(se))}},V.drawTransparent=V.draw=function(q){q=q||{};for(var Y=this.gl,Z=q.model||z,G=q.view||z,K=q.projection||z,oe=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],$=0;$<3;++$)oe[0][$]=Math.max(oe[0][$],this.clipBounds[0][$]),oe[1][$]=Math.min(oe[1][$],this.clipBounds[1][$]);var J={model:Z,view:G,projection:K,inverseModel:z.slice(),clipBounds:oe,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};J.inverseModel=g(J.inverseModel,J.model),Y.disable(Y.CULL_FACE),this.texture.bind(0);var se=new Array(16);h(se,J.view,J.model),h(se,J.projection,se),g(se,se);for(var $=0;$<3;++$)J.eyePosition[$]=se[12+$]/se[15];for(var ie=se[15],$=0;$<3;++$)ie+=this.lightPosition[$]*se[4*$+3];for(var $=0;$<3;++$){for(var ce=se[12+$],ye=0;ye<3;++ye)ce+=se[4*ye+$]*this.lightPosition[ye];J.lightPosition[$]=ce/ie}if(this.triangleCount>0){var Se=this.triShader;Se.bind(),Se.uniforms=J,this.triangleVAO.bind(),Y.drawArrays(Y.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var Se=this.lineShader;Se.bind(),Se.uniforms=J,this.edgeVAO.bind(),Y.lineWidth(this.lineWidth*this.pixelRatio),Y.drawArrays(Y.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var Se=this.pointShader;Se.bind(),Se.uniforms=J,this.pointVAO.bind(),Y.drawArrays(Y.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var Se=this.contourShader;Se.bind(),Se.uniforms=J,this.contourVAO.bind(),Y.drawArrays(Y.LINES,0,this.contourCount),this.contourVAO.unbind()}},V.drawPick=function(q){q=q||{};for(var Y=this.gl,Z=q.model||z,G=q.view||z,K=q.projection||z,oe=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],$=0;$<3;++$)oe[0][$]=Math.max(oe[0][$],this.clipBounds[0][$]),oe[1][$]=Math.min(oe[1][$],this.clipBounds[1][$]);this._model=[].slice.call(Z),this._view=[].slice.call(G),this._projection=[].slice.call(K),this._resolution=[Y.drawingBufferWidth,Y.drawingBufferHeight];var J={model:Z,view:G,projection:K,clipBounds:oe,pickId:this.pickId/255},se=this.pickShader;if(se.bind(),se.uniforms=J,this.triangleCount>0&&(this.triangleVAO.bind(),Y.drawArrays(Y.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),Y.lineWidth(this.lineWidth*this.pixelRatio),Y.drawArrays(Y.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var se=this.pointPickShader;se.bind(),se.uniforms=J,this.pointVAO.bind(),Y.drawArrays(Y.POINTS,0,this.pointCount),this.pointVAO.unbind()}},V.pick=function(q){if(!q||q.id!==this.pickId)return null;for(var Y=q.value[0]+256*q.value[1]+65536*q.value[2],Z=this.cells[Y],G=this.positions,K=new Array(Z.length),oe=0;oe<Z.length;++oe)K[oe]=G[Z[oe]];var $=q.coord[0],J=q.coord[1];if(!this.pickVertex){var se=this.positions[Z[0]],ie=this.positions[Z[1]],ce=this.positions[Z[2]],ye=[(se[0]+ie[0]+ce[0])/3,(se[1]+ie[1]+ce[1])/3,(se[2]+ie[2]+ce[2])/3];return{_cellCenter:!0,position:[$,J],index:Y,cell:Z,cellId:Y,intensity:this.intensity[Y],dataCoordinate:ye}}var Se=C(K,[$*this.pixelRatio,this._resolution[1]-J*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Se)return null;for(var Te=Se[2],ke=0,oe=0;oe<Z.length;++oe)ke+=Te[oe]*this.intensity[Z[oe]];return{position:Se[1],index:Z[Se[0]],cell:Z,cellId:Y,intensity:ke,dataCoordinate:this.positions[Z[Se[0]]]}},V.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function I(q){var Y=n(q,x.vertex,x.fragment);return Y.attributes.position.location=0,Y.attributes.color.location=2,Y.attributes.uv.location=3,Y.attributes.normal.location=4,Y}function H(q){var Y=n(q,E.vertex,E.fragment);return Y.attributes.position.location=0,Y.attributes.color.location=2,Y.attributes.uv.location=3,Y}function j(q){var Y=n(q,M.vertex,M.fragment);return Y.attributes.position.location=0,Y.attributes.color.location=2,Y.attributes.uv.location=3,Y.attributes.pointSize.location=4,Y}function ee(q){var Y=n(q,f.vertex,f.fragment);return Y.attributes.position.location=0,Y.attributes.id.location=1,Y}function te(q){var Y=n(q,P.vertex,P.fragment);return Y.attributes.position.location=0,Y.attributes.id.location=1,Y.attributes.pointSize.location=4,Y}function ne(q){var Y=n(q,T.vertex,T.fragment);return Y.attributes.position.location=0,Y}function ue(q,Y){arguments.length===1&&(Y=q,q=Y.gl);var Z=q.getExtension("OES_standard_derivatives")||q.getExtension("MOZ_OES_standard_derivatives")||q.getExtension("WEBKIT_OES_standard_derivatives");if(!Z)throw new Error("derivatives not supported");var G=I(q),K=H(q),oe=j(q),$=ee(q),J=te(q),se=ne(q),ie=l(q,c(new Uint8Array([255,255,255,255]),[1,1,4]));ie.generateMipmap(),ie.minFilter=q.LINEAR_MIPMAP_LINEAR,ie.magFilter=q.LINEAR;var ce=u(q),ye=u(q),Se=u(q),Te=u(q),ke=u(q),we=s(q,[{buffer:ce,type:q.FLOAT,size:3},{buffer:ke,type:q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ye,type:q.FLOAT,size:4},{buffer:Se,type:q.FLOAT,size:2},{buffer:Te,type:q.FLOAT,size:3}]),Ee=u(q),xe=u(q),De=u(q),Ve=u(q),Ue=s(q,[{buffer:Ee,type:q.FLOAT,size:3},{buffer:Ve,type:q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:xe,type:q.FLOAT,size:4},{buffer:De,type:q.FLOAT,size:2}]),Be=u(q),Xe=u(q),ot=u(q),ut=u(q),et=u(q),qe=s(q,[{buffer:Be,type:q.FLOAT,size:3},{buffer:et,type:q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Xe,type:q.FLOAT,size:4},{buffer:ot,type:q.FLOAT,size:2},{buffer:ut,type:q.FLOAT,size:1}]),ft=u(q),ht=s(q,[{buffer:ft,type:q.FLOAT,size:3}]),dt=new _(q,ie,G,K,oe,$,J,se,ce,ke,ye,Se,Te,we,Ee,Ve,xe,De,Ue,Be,et,Xe,ot,ut,qe,ft,ht);return dt.update(Y),dt}v.exports=ue},4554:function(v,p,r){v.exports=l;var t=r(5827),a=r(5158),n=r(2709);function u(m,h,g){this.plot=m,this.vbo=h,this.shader=g}var s=u.prototype;s.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},s.drawBox=function(){var m=[0,0],h=[0,0];return function(g,c,o,d,w){var A=this.plot,C=this.shader,x=A.gl;m[0]=g,m[1]=c,h[0]=o,h[1]=d,C.uniforms.lo=m,C.uniforms.hi=h,C.uniforms.color=w,x.drawArrays(x.TRIANGLE_STRIP,0,4)}}(),s.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(m){var h=m.gl,g=t(h,[0,0,0,1,1,0,1,1]),c=a(h,n.boxVert,n.lineFrag);return new u(m,g,c)}},3016:function(v,p,r){v.exports=h;var t=r(5827),a=r(5158),n=r(5070),u=r(2709);function s(g,c,o,d){this.plot=g,this.vbo=c,this.shader=o,this.tickShader=d,this.ticks=[[],[]]}function l(g,c){return g-c}var m=s.prototype;m.draw=function(){var g=[0,0],c=[0,0],o=[0,0];return function(){for(var d=this.plot,w=this.vbo,A=this.shader,C=this.ticks,x=d.gl,E=d._tickBounds,M=d.dataBox,f=d.viewBox,P=d.gridLineWidth,T=d.gridLineColor,z=d.gridLineEnable,_=d.pixelRatio,V=0;V<2;++V){var F=E[V],N=E[V+2],k=N-F,I=.5*(M[V+2]+M[V]),H=M[V+2]-M[V];c[V]=2*k/H,g[V]=2*(F-I)/H}A.bind(),w.bind(),A.attributes.dataCoord.pointer(),A.uniforms.dataShift=g,A.uniforms.dataScale=c;for(var j=0,V=0;V<2;++V){o[0]=o[1]=0,o[V]=1,A.uniforms.dataAxis=o,A.uniforms.lineWidth=P[V]/(f[V+2]-f[V])*_,A.uniforms.color=T[V];var ee=C[V].length*6;z[V]&&ee&&x.drawArrays(x.TRIANGLES,j,ee),j+=ee}}}(),m.drawTickMarks=function(){var g=[0,0],c=[0,0],o=[1,0],d=[0,1],w=[0,0],A=[0,0];return function(){for(var C=this.plot,x=this.vbo,E=this.tickShader,M=this.ticks,f=C.gl,P=C._tickBounds,T=C.dataBox,z=C.viewBox,_=C.pixelRatio,V=C.screenBox,F=V[2]-V[0],N=V[3]-V[1],k=z[2]-z[0],I=z[3]-z[1],H=0;H<2;++H){var j=P[H],ee=P[H+2],te=ee-j,ne=.5*(T[H+2]+T[H]),ue=T[H+2]-T[H];c[H]=2*te/ue,g[H]=2*(j-ne)/ue}c[0]*=k/F,g[0]*=k/F,c[1]*=I/N,g[1]*=I/N,E.bind(),x.bind(),E.attributes.dataCoord.pointer();var q=E.uniforms;q.dataShift=g,q.dataScale=c;var Y=C.tickMarkLength,Z=C.tickMarkWidth,G=C.tickMarkColor,K=0,oe=M[0].length*6,$=Math.min(n.ge(M[0],(T[0]-P[0])/(P[2]-P[0]),l),M[0].length),J=Math.min(n.gt(M[0],(T[2]-P[0])/(P[2]-P[0]),l),M[0].length),se=K+6*$,ie=6*Math.max(0,J-$),ce=Math.min(n.ge(M[1],(T[1]-P[1])/(P[3]-P[1]),l),M[1].length),ye=Math.min(n.gt(M[1],(T[3]-P[1])/(P[3]-P[1]),l),M[1].length),Se=oe+6*ce,Te=6*Math.max(0,ye-ce);w[0]=2*(z[0]-Y[1])/F-1,w[1]=(z[3]+z[1])/N-1,A[0]=Y[1]*_/F,A[1]=Z[1]*_/N,Te&&(q.color=G[1],q.tickScale=A,q.dataAxis=d,q.screenOffset=w,f.drawArrays(f.TRIANGLES,Se,Te)),w[0]=(z[2]+z[0])/F-1,w[1]=2*(z[1]-Y[0])/N-1,A[0]=Z[0]*_/F,A[1]=Y[0]*_/N,ie&&(q.color=G[0],q.tickScale=A,q.dataAxis=o,q.screenOffset=w,f.drawArrays(f.TRIANGLES,se,ie)),w[0]=2*(z[2]+Y[3])/F-1,w[1]=(z[3]+z[1])/N-1,A[0]=Y[3]*_/F,A[1]=Z[3]*_/N,Te&&(q.color=G[3],q.tickScale=A,q.dataAxis=d,q.screenOffset=w,f.drawArrays(f.TRIANGLES,Se,Te)),w[0]=(z[2]+z[0])/F-1,w[1]=2*(z[3]+Y[2])/N-1,A[0]=Z[2]*_/F,A[1]=Y[2]*_/N,ie&&(q.color=G[2],q.tickScale=A,q.dataAxis=o,q.screenOffset=w,f.drawArrays(f.TRIANGLES,se,ie))}}(),m.update=function(){var g=[1,1,-1,-1,1,-1],c=[1,-1,1,1,-1,-1];return function(o){var d=o.ticks,w=o.bounds,A=new Float32Array(6*3*(d[0].length+d[1].length));this.plot.zeroLineEnable;for(var C=0,x=[[],[]],E=0;E<2;++E)for(var M=x[E],f=d[E],P=w[E],T=w[E+2],z=0;z<f.length;++z){var _=(f[z].x-P)/(T-P);M.push(_);for(var V=0;V<6;++V)A[C++]=_,A[C++]=g[V],A[C++]=c[V]}this.ticks=x,this.vbo.update(A)}}(),m.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function h(g){var c=g.gl,o=t(c),d=a(c,u.gridVert,u.gridFrag),w=a(c,u.tickVert,u.gridFrag),A=new s(g,o,d,w);return A}},1154:function(v,p,r){v.exports=l;var t=r(5827),a=r(5158),n=r(2709);function u(m,h,g){this.plot=m,this.vbo=h,this.shader=g}var s=u.prototype;s.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},s.drawLine=function(){var m=[0,0],h=[0,0];return function(g,c,o,d,w,A){var C=this.plot,x=this.shader,E=C.gl;m[0]=g,m[1]=c,h[0]=o,h[1]=d,x.uniforms.start=m,x.uniforms.end=h,x.uniforms.width=w*C.pixelRatio,x.uniforms.color=A,E.drawArrays(E.TRIANGLE_STRIP,0,4)}}(),s.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(m){var h=m.gl,g=t(h,[-1,-1,-1,1,1,-1,1,1]),c=a(h,n.lineVert,n.lineFrag),o=new u(m,g,c);return o}},2709:function(v,p,r){var t=r(6832),a=t([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:a,textVert:t([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:a,gridVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:a,boxVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(v,p,r){v.exports=h;var t=r(5827),a=r(5158),n=r(6946),u=r(5070),s=r(2709);function l(g,c,o){this.plot=g,this.vbo=c,this.shader=o,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var m=l.prototype;m.drawTicks=function(){var g=[0,0],c=[0,0],o=[0,0];return function(d){var w=this.plot,A=this.shader,C=this.tickX[d],x=this.tickOffset[d],E=w.gl,M=w.viewBox,f=w.dataBox,P=w.screenBox,T=w.pixelRatio,z=w.tickEnable,_=w.tickPad,V=w.tickColor,F=w.tickAngle,N=w.labelEnable,k=w.labelPad,I=w.labelColor,H=w.labelAngle,j=this.labelOffset[d],ee=this.labelCount[d],te=u.lt(C,f[d]),ne=u.le(C,f[d+2]);g[0]=g[1]=0,g[d]=1,c[d]=(M[2+d]+M[d])/(P[2+d]-P[d])-1;var ue=2/P[2+(d^1)]-P[d^1];c[d^1]=ue*M[d^1]-1,z[d]&&(c[d^1]-=ue*T*_[d],te<ne&&x[ne]>x[te]&&(A.uniforms.dataAxis=g,A.uniforms.screenOffset=c,A.uniforms.color=V[d],A.uniforms.angle=F[d],E.drawArrays(E.TRIANGLES,x[te],x[ne]-x[te]))),N[d]&&ee&&(c[d^1]-=ue*T*k[d],A.uniforms.dataAxis=o,A.uniforms.screenOffset=c,A.uniforms.color=I[d],A.uniforms.angle=H[d],E.drawArrays(E.TRIANGLES,j,ee)),c[d^1]=ue*M[2+(d^1)]-1,z[d+2]&&(c[d^1]+=ue*T*_[d+2],te<ne&&x[ne]>x[te]&&(A.uniforms.dataAxis=g,A.uniforms.screenOffset=c,A.uniforms.color=V[d+2],A.uniforms.angle=F[d+2],E.drawArrays(E.TRIANGLES,x[te],x[ne]-x[te]))),N[d+2]&&ee&&(c[d^1]+=ue*T*k[d+2],A.uniforms.dataAxis=o,A.uniforms.screenOffset=c,A.uniforms.color=I[d+2],A.uniforms.angle=H[d+2],E.drawArrays(E.TRIANGLES,j,ee))}}(),m.drawTitle=function(){var g=[0,0],c=[0,0];return function(){var o=this.plot,d=this.shader,w=o.gl,A=o.screenBox,C=o.titleCenter,x=o.titleAngle,E=o.titleColor,M=o.pixelRatio;if(this.titleCount){for(var f=0;f<2;++f)c[f]=2*(C[f]*M-A[f])/(A[2+f]-A[f])-1;d.bind(),d.uniforms.dataAxis=g,d.uniforms.screenOffset=c,d.uniforms.angle=x,d.uniforms.color=E,w.drawArrays(w.TRIANGLES,this.titleOffset,this.titleCount)}}}(),m.bind=function(){var g=[0,0],c=[0,0],o=[0,0];return function(){var d=this.plot,w=this.shader,A=d._tickBounds,C=d.dataBox,x=d.screenBox,E=d.viewBox;w.bind();for(var M=0;M<2;++M){var f=A[M],P=A[M+2],T=P-f,z=.5*(C[M+2]+C[M]),_=C[M+2]-C[M],V=E[M],F=E[M+2],N=F-V,k=x[M],I=x[M+2],H=I-k;c[M]=2*T/_*N/H,g[M]=2*(f-z)/_*N/H}o[1]=2*d.pixelRatio/(x[3]-x[1]),o[0]=o[1]*(x[3]-x[1])/(x[2]-x[0]),w.uniforms.dataScale=c,w.uniforms.dataShift=g,w.uniforms.textScale=o,this.vbo.bind(),w.attributes.textCoordinate.pointer()}}(),m.update=function(g){var c=[],o=g.ticks,d=g.bounds,w,A,C,x,E;for(E=0;E<2;++E){var M=[Math.floor(c.length/3)],f=[-1/0],P=o[E];for(w=0;w<P.length;++w){var T=P[w],z=T.x,_=T.text,V=T.font||"sans-serif";x=T.fontSize||12;for(var F=1/(d[E+2]-d[E]),N=d[E],k=_.split(`
`),I=0;I<k.length;I++)for(C=n(V,k[I]).data,A=0;A<C.length;A+=2)c.push(C[A]*x,-C[A+1]*x-I*x*1.2,(z-N)*F);M.push(Math.floor(c.length/3)),f.push(z)}this.tickOffset[E]=M,this.tickX[E]=f}for(E=0;E<2;++E){for(this.labelOffset[E]=Math.floor(c.length/3),C=n(g.labelFont[E],g.labels[E],{textAlign:"center"}).data,x=g.labelSize[E],w=0;w<C.length;w+=2)c.push(C[w]*x,-C[w+1]*x,0);this.labelCount[E]=Math.floor(c.length/3)-this.labelOffset[E]}for(this.titleOffset=Math.floor(c.length/3),C=n(g.titleFont,g.title).data,x=g.titleSize,w=0;w<C.length;w+=2)c.push(C[w]*x,-C[w+1]*x,0);this.titleCount=Math.floor(c.length/3)-this.titleOffset,this.vbo.update(c)},m.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function h(g){var c=g.gl,o=t(c),d=a(c,s.textVert,s.textFrag),w=new l(g,o,d);return w}},2117:function(v,p,r){v.exports=c;var t=r(2611),a=r(3016),n=r(5613),u=r(1154),s=r(4554);function l(o,d){this.gl=o,this.pickBuffer=d,this.screenBox=[0,0,o.drawingBufferWidth,o.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var m=l.prototype;m.setDirty=function(){this.dirty=this.pickDirty=!0},m.setOverlayDirty=function(){this.dirty=!0},m.nextDepthValue=function(){return this._depthCounter++/65536},m.draw=function(){return function(){var o=this.gl,d=this.screenBox,w=this.viewBox,A=this.dataBox,C=this.pixelRatio,x=this.grid,E=this.line,M=this.text,f=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,o.bindFramebuffer(o.FRAMEBUFFER,null),o.enable(o.SCISSOR_TEST),o.disable(o.DEPTH_TEST),o.depthFunc(o.LESS),o.depthMask(!1),o.enable(o.BLEND),o.blendEquation(o.FUNC_ADD,o.FUNC_ADD),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),this.borderColor){o.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]);var P=this.borderColor;o.clearColor(P[0]*P[3],P[1]*P[3],P[2]*P[3],P[3]),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT)}o.scissor(w[0],w[1],w[2]-w[0],w[3]-w[1]),o.viewport(w[0],w[1],w[2]-w[0],w[3]-w[1]);var T=this.backgroundColor;o.clearColor(T[0]*T[3],T[1]*T[3],T[2]*T[3],T[3]),o.clear(o.COLOR_BUFFER_BIT),x.draw();var z=this.zeroLineEnable,_=this.zeroLineColor,V=this.zeroLineWidth;if(z[0]||z[1]){E.bind();for(var F=0;F<2;++F)if(!(!z[F]||!(A[F]<=0&&A[F+2]>=0))){var N=d[F]-A[F]*(d[F+2]-d[F])/(A[F+2]-A[F]);F===0?E.drawLine(N,d[1],N,d[3],V[F],_[F]):E.drawLine(d[0],N,d[2],N,V[F],_[F])}}for(var F=0;F<f.length;++F)f[F].draw();o.viewport(d[0],d[1],d[2]-d[0],d[3]-d[1]),o.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.grid.drawTickMarks(),E.bind();var k=this.borderLineEnable,I=this.borderLineWidth,H=this.borderLineColor;k[1]&&E.drawLine(w[0],w[1]-.5*I[1]*C,w[0],w[3]+.5*I[3]*C,I[1],H[1]),k[0]&&E.drawLine(w[0]-.5*I[0]*C,w[1],w[2]+.5*I[2]*C,w[1],I[0],H[0]),k[3]&&E.drawLine(w[2],w[1]-.5*I[1]*C,w[2],w[3]+.5*I[3]*C,I[3],H[3]),k[2]&&E.drawLine(w[0]-.5*I[0]*C,w[3],w[2]+.5*I[2]*C,w[3],I[2],H[2]),M.bind();for(var F=0;F<2;++F)M.drawTicks(F);this.titleEnable&&M.drawTitle();for(var j=this.overlays,F=0;F<j.length;++F)j[F].draw();o.disable(o.SCISSOR_TEST),o.disable(o.BLEND),o.depthMask(!0)}}}(),m.drawPick=function(){return function(){if(!this.static){var o=this.pickBuffer;this.gl,this._pickTimeout=null,o.begin();for(var d=1,w=this.objects,A=0;A<w.length;++A)d=w[A].drawPick(d);o.end()}}}(),m.pick=function(){return function(o,d){if(!this.static){var w=this.pixelRatio,A=this.pickPixelRatio,C=this.viewBox,x=Math.round((o-C[0]/w)*A)|0,E=Math.round((d-C[1]/w)*A)|0,M=this.pickBuffer.query(x,E,this.pickRadius);if(!M)return null;for(var f=M.id+(M.value[0]<<8)+(M.value[1]<<16)+(M.value[2]<<24),P=this.objects,T=0;T<P.length;++T){var z=P[T].pick(x,E,f);if(z)return z}return null}}}();function h(o){for(var d=o.slice(),w=0;w<d.length;++w)d[w]=d[w].slice();return d}function g(o,d){return o.x-d.x}m.setScreenBox=function(o){var d=this.screenBox,w=this.pixelRatio;d[0]=Math.round(o[0]*w)|0,d[1]=Math.round(o[1]*w)|0,d[2]=Math.round(o[2]*w)|0,d[3]=Math.round(o[3]*w)|0,this.setDirty()},m.setDataBox=function(o){var d=this.dataBox,w=d[0]!==o[0]||d[1]!==o[1]||d[2]!==o[2]||d[3]!==o[3];w&&(d[0]=o[0],d[1]=o[1],d[2]=o[2],d[3]=o[3],this.setDirty())},m.setViewBox=function(o){var d=this.pixelRatio,w=this.viewBox;w[0]=Math.round(o[0]*d)|0,w[1]=Math.round(o[1]*d)|0,w[2]=Math.round(o[2]*d)|0,w[3]=Math.round(o[3]*d)|0;var A=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((o[2]-o[0])*A)|0,Math.round((o[3]-o[1])*A)|0],this.setDirty()},m.update=function(o){o=o||{};var d=this.gl;this.pixelRatio=o.pixelRatio||1;var w=this.pixelRatio;this.pickPixelRatio=Math.max(w,1),this.setScreenBox(o.screenBox||[0,0,d.drawingBufferWidth/w,d.drawingBufferHeight/w]),this.screenBox,this.setViewBox(o.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/w,.125*(this.screenBox[3]-this.screenBox[1])/w,.875*(this.screenBox[2]-this.screenBox[0])/w,.875*(this.screenBox[3]-this.screenBox[1])/w]);var A=this.viewBox,C=(A[2]-A[0])/(A[3]-A[1]);this.setDataBox(o.dataBox||[-10,-10/C,10,10/C]),this.borderColor=o.borderColor!==!1?(o.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(o.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(o.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(o.gridLineWidth||[1,1]).slice(),this.gridLineColor=h(o.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(o.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(o.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=h(o.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(o.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(o.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=h(o.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(o.titleCenter||[.5*(A[0]+A[2])/w,(A[3]+120)/w]).slice(),this.titleEnable=!("titleEnable"in o)||!!o.titleEnable,this.titleAngle=o.titleAngle||0,this.titleColor=(o.titleColor||[0,0,0,1]).slice(),this.labelPad=(o.labelPad||[15,15,15,15]).slice(),this.labelAngle=(o.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(o.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=h(o.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(o.tickPad||[15,15,15,15]).slice(),this.tickAngle=(o.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(o.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=h(o.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(o.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(o.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=h(o.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var x=o.ticks||[[],[]],E=this._tickBounds;E[0]=E[1]=1/0,E[2]=E[3]=-1/0;for(var M=0;M<2;++M){var f=x[M].slice(0);f.length!==0&&(f.sort(g),E[M]=Math.min(E[M],f[0].x),E[M+2]=Math.max(E[M+2],f[f.length-1].x))}this.grid.update({bounds:E,ticks:x}),this.text.update({bounds:E,ticks:x,labels:o.labels||["x","y"],labelSize:o.labelSize||[12,12],labelFont:o.labelFont||["sans-serif","sans-serif"],title:o.title||"",titleSize:o.titleSize||18,titleFont:o.titleFont||"sans-serif"}),this.static=!!o.static,this.setDirty()},m.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var o=this.objects.length-1;o>=0;--o)this.objects[o].dispose();this.objects.length=0;for(var o=this.overlays.length-1;o>=0;--o)this.overlays[o].dispose();this.overlays.length=0,this.gl=null},m.addObject=function(o){this.objects.indexOf(o)<0&&(this.objects.push(o),this.setDirty())},m.removeObject=function(o){for(var d=this.objects,w=0;w<d.length;++w)if(d[w]===o){d.splice(w,1),this.setDirty();break}},m.addOverlay=function(o){this.overlays.indexOf(o)<0&&(this.overlays.push(o),this.setOverlayDirty())},m.removeOverlay=function(o){for(var d=this.overlays,w=0;w<d.length;++w)if(d[w]===o){d.splice(w,1),this.setOverlayDirty();break}};function c(o){var d=o.gl,w=t(d,[d.drawingBufferWidth,d.drawingBufferHeight]),A=new l(d,w);return A.grid=a(A),A.text=n(A),A.line=u(A),A.box=s(A),A.update(o),A}},4296:function(v,p,r){v.exports=m;var t=r(8161),a=r(1152),n=r(6145),u=r(6475),s=r(2565),l=r(5233);function m(h,g){h=h||document.body,g=g||{};var c=[.01,1/0];"distanceLimits"in g&&(c[0]=g.distanceLimits[0],c[1]=g.distanceLimits[1]),"zoomMin"in g&&(c[0]=g.zoomMin),"zoomMax"in g&&(c[1]=g.zoomMax);var o=a({center:g.center||[0,0,0],up:g.up||[0,1,0],eye:g.eye||[0,0,10],mode:g.mode||"orbit",distanceLimits:c}),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=0,A=h.clientWidth,C=h.clientHeight,x={keyBindingMode:"rotate",enableWheel:!0,view:o,element:h,delay:g.delay||16,rotateSpeed:g.rotateSpeed||1,zoomSpeed:g.zoomSpeed||1,translateSpeed:g.translateSpeed||1,flipX:!!g.flipX,flipY:!!g.flipY,modes:o.modes,_ortho:g._ortho||g.projection&&g.projection.type==="orthographic"||!1,tick:function(){var E=t(),M=this.delay,f=E-2*M;o.idle(E-M),o.recalcMatrix(f),o.flush(E-(100+M*2));for(var P=!0,T=o.computedMatrix,z=0;z<16;++z)P=P&&d[z]===T[z],d[z]=T[z];var _=h.clientWidth===A&&h.clientHeight===C;return A=h.clientWidth,C=h.clientHeight,P?!_:(w=Math.exp(o.computedRadius[0]),!0)},lookAt:function(E,M,f){o.lookAt(o.lastT(),E,M,f)},rotate:function(E,M,f){o.rotate(o.lastT(),E,M,f)},pan:function(E,M,f){o.pan(o.lastT(),E,M,f)},translate:function(E,M,f){o.translate(o.lastT(),E,M,f)}};return Object.defineProperties(x,{matrix:{get:function(){return o.computedMatrix},set:function(E){return o.setMatrix(o.lastT(),E),o.computedMatrix},enumerable:!0},mode:{get:function(){return o.getMode()},set:function(E){var M=o.computedUp.slice(),f=o.computedEye.slice(),P=o.computedCenter.slice();if(o.setMode(E),E==="turntable"){var T=t();o._active.lookAt(T,f,P,M),o._active.lookAt(T+500,f,P,[0,0,1]),o._active.flush(T)}return o.getMode()},enumerable:!0},center:{get:function(){return o.computedCenter},set:function(E){return o.lookAt(o.lastT(),null,E),o.computedCenter},enumerable:!0},eye:{get:function(){return o.computedEye},set:function(E){return o.lookAt(o.lastT(),E),o.computedEye},enumerable:!0},up:{get:function(){return o.computedUp},set:function(E){return o.lookAt(o.lastT(),null,null,E),o.computedUp},enumerable:!0},distance:{get:function(){return w},set:function(E){return o.setDistance(o.lastT(),E),E},enumerable:!0},distanceLimits:{get:function(){return o.getDistanceLimits(c)},set:function(E){return o.setDistanceLimits(E),E},enumerable:!0}}),h.addEventListener("contextmenu",function(E){return E.preventDefault(),!1}),x._lastX=-1,x._lastY=-1,x._lastMods={shift:!1,control:!1,alt:!1,meta:!1},x.enableMouseListeners=function(){x.mouseListener=n(h,E),h.addEventListener("touchstart",function(M){var f=s(M.changedTouches[0],h);E(0,f[0],f[1],x._lastMods),E(1,f[0],f[1],x._lastMods)},l?{passive:!0}:!1),h.addEventListener("touchmove",function(M){var f=s(M.changedTouches[0],h);E(1,f[0],f[1],x._lastMods),M.preventDefault()},l?{passive:!1}:!1),h.addEventListener("touchend",function(M){E(0,x._lastX,x._lastY,x._lastMods)},l?{passive:!0}:!1);function E(M,f,P,T){var z=x.keyBindingMode;if(z!==!1){var _=z==="rotate",V=z==="pan",F=z==="zoom",N=!!T.control,k=!!T.alt,I=!!T.shift,H=!!(M&1),j=!!(M&2),ee=!!(M&4),te=1/h.clientHeight,ne=te*(f-x._lastX),ue=te*(P-x._lastY),q=x.flipX?1:-1,Y=x.flipY?1:-1,Z=Math.PI*x.rotateSpeed,G=t();if(x._lastX!==-1&&x._lastY!==-1&&((_&&H&&!N&&!k&&!I||H&&!N&&!k&&I)&&o.rotate(G,q*Z*ne,-Y*Z*ue,0),(V&&H&&!N&&!k&&!I||j||H&&N&&!k&&!I)&&o.pan(G,-x.translateSpeed*ne*w,x.translateSpeed*ue*w,0),F&&H&&!N&&!k&&!I||ee||H&&!N&&k&&!I)){var K=-x.zoomSpeed*ue/window.innerHeight*(G-o.lastT())*100;o.pan(G,0,0,w*(Math.exp(K)-1))}return x._lastX=f,x._lastY=P,x._lastMods=T,!0}}x.wheelListener=u(h,function(M,f){if(x.keyBindingMode!==!1&&x.enableWheel){var P=x.flipX?1:-1,T=x.flipY?1:-1,z=t();if(Math.abs(M)>Math.abs(f))o.rotate(z,0,0,-M*P*Math.PI*x.rotateSpeed/window.innerWidth);else if(!x._ortho){var _=-x.zoomSpeed*T*f/window.innerHeight*(z-o.lastT())/20;o.pan(z,0,0,w*(Math.exp(_)-1))}}},!0)},x.enableMouseListeners(),x}},8245:function(v,p,r){var t=r(6832),a=r(5158),n=t([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),u=t([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(s){return a(s,n,u,null,[{name:"position",type:"vec2"}])}},1059:function(v,p,r){var t=r(4296),a=r(7453),n=r(2771),u=r(6496),s=r(2611),l=r(4234),m=r(8126),h=r(6145),g=r(1120),c=r(5268),o=r(8245),d=r(2321)({tablet:!0,featureDetect:!0});v.exports={createScene:E,createCamera:t};function w(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function A(f,P){var T=null;try{T=f.getContext("webgl",P),T||(T=f.getContext("experimental-webgl",P))}catch{return null}return T}function C(f){var P=Math.round(Math.log(Math.abs(f))/Math.log(10));if(P<0){var T=Math.round(Math.pow(10,-P));return Math.ceil(f*T)/T}else if(P>0){var T=Math.round(Math.pow(10,P));return Math.ceil(f/T)*T}return Math.ceil(f)}function x(f){return typeof f=="boolean"?f:!0}function E(f){f=f||{},f.camera=f.camera||{};var P=f.canvas;if(!P)if(P=document.createElement("canvas"),f.container){var T=f.container;T.appendChild(P)}else document.body.appendChild(P);var z=f.gl;if(z||(f.glOptions&&(d=!!f.glOptions.preserveDrawingBuffer),z=A(P,f.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:d})),!z)throw new Error("webgl not supported");var _=f.bounds||[[-10,-10,-10],[10,10,10]],V=new w,F=l(z,z.drawingBufferWidth,z.drawingBufferHeight,{preferFloat:!d}),N=o(z),k=f.cameraObject&&f.cameraObject._ortho===!0||f.camera.projection&&f.camera.projection.type==="orthographic"||!1,I={eye:f.camera.eye||[2,0,0],center:f.camera.center||[0,0,0],up:f.camera.up||[0,1,0],zoomMin:f.camera.zoomMax||.1,zoomMax:f.camera.zoomMin||100,mode:f.camera.mode||"turntable",_ortho:k},H=f.axes||{},j=a(z,H);j.enable=!H.disable;var ee=f.spikes||{},te=u(z,ee),ne=[],ue=[],q=[],Y=[],Z=!0,$=!0,G=new Array(16),K=new Array(16),oe={view:null,projection:G,model:K,_ortho:!1},$=!0,J=[z.drawingBufferWidth,z.drawingBufferHeight],se=f.cameraObject||t(P,I),ie={gl:z,contextLost:!1,pixelRatio:f.pixelRatio||1,canvas:P,selection:V,camera:se,axes:j,axesPixels:null,spikes:te,bounds:_,objects:ne,shape:J,aspect:f.aspectRatio||[1,1,1],pickRadius:f.pickRadius||10,zNear:f.zNear||.01,zFar:f.zFar||1e3,fovy:f.fovy||Math.PI/4,clearColor:f.clearColor||[0,0,0,0],autoResize:x(f.autoResize),autoBounds:x(f.autoBounds),autoScale:!!f.autoScale,autoCenter:x(f.autoCenter),clipToBounds:x(f.clipToBounds),snapToData:!!f.snapToData,onselect:f.onselect||null,onrender:f.onrender||null,onclick:f.onclick||null,cameraParams:oe,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ve){this.aspect[0]=Ve.x,this.aspect[1]=Ve.y,this.aspect[2]=Ve.z,$=!0},setBounds:function(Ve,Ue){this.bounds[0][Ve]=Ue.min,this.bounds[1][Ve]=Ue.max},setClearColor:function(Ve){this.clearColor=Ve},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},ce=[z.drawingBufferWidth/ie.pixelRatio|0,z.drawingBufferHeight/ie.pixelRatio|0];function ye(){if(!ie._stopped&&ie.autoResize){var Ve=P.parentNode,Ue=1,Be=1;Ve&&Ve!==document.body?(Ue=Ve.clientWidth,Be=Ve.clientHeight):(Ue=window.innerWidth,Be=window.innerHeight);var Xe=Math.ceil(Ue*ie.pixelRatio)|0,ot=Math.ceil(Be*ie.pixelRatio)|0;if(Xe!==P.width||ot!==P.height){P.width=Xe,P.height=ot;var ut=P.style;ut.position=ut.position||"absolute",ut.left="0px",ut.top="0px",ut.width=Ue+"px",ut.height=Be+"px",Z=!0}}}ie.autoResize&&ye(),window.addEventListener("resize",ye);function Se(){for(var Ve=ne.length,Ue=Y.length,Be=0;Be<Ue;++Be)q[Be]=0;e:for(var Be=0;Be<Ve;++Be){var Xe=ne[Be],ot=Xe.pickSlots;if(!ot){ue[Be]=-1;continue}for(var ut=0;ut<Ue;++ut)if(q[ut]+ot<255){ue[Be]=ut,Xe.setPickBase(q[ut]+1),q[ut]+=ot;continue e}var et=s(z,J);ue[Be]=Ue,Y.push(et),q.push(ot),Xe.setPickBase(1),Ue+=1}for(;Ue>0&&q[Ue-1]===0;)q.pop(),Y.pop().dispose()}ie.update=function(Ve){ie._stopped||(Z=!0,$=!0)},ie.add=function(Ve){ie._stopped||(Ve.axes=j,ne.push(Ve),ue.push(-1),Z=!0,$=!0,Se())},ie.remove=function(Ve){if(!ie._stopped){var Ue=ne.indexOf(Ve);Ue<0||(ne.splice(Ue,1),ue.pop(),Z=!0,$=!0,Se())}},ie.dispose=function(){if(!ie._stopped&&(ie._stopped=!0,window.removeEventListener("resize",ye),P.removeEventListener("webglcontextlost",Te),ie.mouseListener.enabled=!1,!ie.contextLost)){j.dispose(),te.dispose();for(var Ve=0;Ve<ne.length;++Ve)ne[Ve].dispose();F.dispose();for(var Ve=0;Ve<Y.length;++Ve)Y[Ve].dispose();N.dispose(),z=null,j=null,te=null,ne=[]}},ie._mouseRotating=!1,ie._prevButtons=0,ie.enableMouseListeners=function(){ie.mouseListener=h(P,function(Ve,Ue,Be){if(!ie._stopped){var Xe=Y.length,ot=ne.length,ut=V.object;V.distance=1/0,V.mouse[0]=Ue,V.mouse[1]=Be,V.object=null,V.screen=null,V.dataCoordinate=V.dataPosition=null;var et=!1;if(Ve&&ie._prevButtons)ie._mouseRotating=!0;else{ie._mouseRotating&&($=!0),ie._mouseRotating=!1;for(var qe=0;qe<Xe;++qe){var ft=Y[qe].query(Ue,ce[1]-Be-1,ie.pickRadius);if(ft){if(ft.distance>V.distance)continue;for(var ht=0;ht<ot;++ht){var dt=ne[ht];if(ue[ht]===qe){var mt=dt.pick(ft);mt&&(V.buttons=Ve,V.screen=ft.coord,V.distance=ft.distance,V.object=dt,V.index=mt.distance,V.dataPosition=mt.position,V.dataCoordinate=mt.dataCoordinate,V.data=mt,et=!0)}}}}}ut&&ut!==V.object&&(ut.highlight&&ut.highlight(null),Z=!0),V.object&&(V.object.highlight&&V.object.highlight(V.data),Z=!0),et=et||V.object!==ut,et&&ie.onselect&&ie.onselect(V),Ve&1&&!(ie._prevButtons&1)&&ie.onclick&&ie.onclick(V),ie._prevButtons=Ve}})};function Te(){if(ie.contextLost)return!0;z.isContextLost()&&(ie.contextLost=!0,ie.mouseListener.enabled=!1,ie.selection.object=null,ie.oncontextloss&&ie.oncontextloss())}P.addEventListener("webglcontextlost",Te);function ke(){if(!Te()){z.colorMask(!0,!0,!0,!0),z.depthMask(!0),z.disable(z.BLEND),z.enable(z.DEPTH_TEST),z.depthFunc(z.LEQUAL);for(var Ve=ne.length,Ue=Y.length,Be=0;Be<Ue;++Be){var Xe=Y[Be];Xe.shape=ce,Xe.begin();for(var ot=0;ot<Ve;++ot)if(ue[ot]===Be){var ut=ne[ot];ut.drawPick&&(ut.pixelRatio=1,ut.drawPick(oe))}Xe.end()}}}var we=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ee=[we[0].slice(),we[1].slice()];function xe(){if(!Te()){ye();var Ve=ie.camera.tick();oe.view=ie.camera.matrix,Z=Z||Ve,$=$||Ve,j.pixelRatio=ie.pixelRatio,te.pixelRatio=ie.pixelRatio;var Ue=ne.length,Be=we[0],Xe=we[1];Be[0]=Be[1]=Be[2]=1/0,Xe[0]=Xe[1]=Xe[2]=-1/0;for(var ot=0;ot<Ue;++ot){var ut=ne[ot];ut.pixelRatio=ie.pixelRatio,ut.axes=ie.axes,Z=Z||!!ut.dirty,$=$||!!ut.dirty;var et=ut.bounds;if(et)for(var qe=et[0],ft=et[1],ht=0;ht<3;++ht)Be[ht]=Math.min(Be[ht],qe[ht]),Xe[ht]=Math.max(Xe[ht],ft[ht])}var dt=ie.bounds;if(ie.autoBounds)for(var ht=0;ht<3;++ht){if(Xe[ht]<Be[ht])Be[ht]=-1,Xe[ht]=1;else{Be[ht]===Xe[ht]&&(Be[ht]-=1,Xe[ht]+=1);var mt=.05*(Xe[ht]-Be[ht]);Be[ht]=Be[ht]-mt,Xe[ht]=Xe[ht]+mt}dt[0][ht]=Be[ht],dt[1][ht]=Xe[ht]}for(var St=!1,ht=0;ht<3;++ht)St=St||Ee[0][ht]!==dt[0][ht]||Ee[1][ht]!==dt[1][ht],Ee[0][ht]=dt[0][ht],Ee[1][ht]=dt[1][ht];if($=$||St,Z=Z||St,!!Z){if(St){for(var rt=[0,0,0],ot=0;ot<3;++ot)rt[ot]=C((dt[1][ot]-dt[0][ot])/10);j.autoTicks?j.update({bounds:dt,tickSpacing:rt}):j.update({bounds:dt})}var Oe=z.drawingBufferWidth,Ye=z.drawingBufferHeight;J[0]=Oe,J[1]=Ye,ce[0]=Math.max(Oe/ie.pixelRatio,1)|0,ce[1]=Math.max(Ye/ie.pixelRatio,1)|0,M(ie,k);for(var ot=0;ot<Ue;++ot){var ut=ne[ot];ut.axesBounds=dt,ie.clipToBounds&&(ut.clipBounds=dt)}V.object&&(ie.snapToData?te.position=V.dataCoordinate:te.position=V.dataPosition,te.bounds=dt),$&&($=!1,ke()),ie.axesPixels=n(ie.axes,oe,Oe,Ye),ie.onrender&&ie.onrender(),z.bindFramebuffer(z.FRAMEBUFFER,null),z.viewport(0,0,Oe,Ye),ie.clearRGBA(),z.depthMask(!0),z.colorMask(!0,!0,!0,!0),z.enable(z.DEPTH_TEST),z.depthFunc(z.LEQUAL),z.disable(z.BLEND),z.disable(z.CULL_FACE);var Ze=!1;j.enable&&(Ze=Ze||j.isTransparent(),j.draw(oe)),te.axes=j,V.object&&te.draw(oe),z.disable(z.CULL_FACE);for(var ot=0;ot<Ue;++ot){var ut=ne[ot];ut.axes=j,ut.pixelRatio=ie.pixelRatio,ut.isOpaque&&ut.isOpaque()&&ut.draw(oe),ut.isTransparent&&ut.isTransparent()&&(Ze=!0)}if(Ze){F.shape=J,F.bind(),z.clear(z.DEPTH_BUFFER_BIT),z.colorMask(!1,!1,!1,!1),z.depthMask(!0),z.depthFunc(z.LESS),j.enable&&j.isTransparent()&&j.drawTransparent(oe);for(var ot=0;ot<Ue;++ot){var ut=ne[ot];ut.isOpaque&&ut.isOpaque()&&ut.draw(oe)}z.enable(z.BLEND),z.blendEquation(z.FUNC_ADD),z.blendFunc(z.ONE,z.ONE_MINUS_SRC_ALPHA),z.colorMask(!0,!0,!0,!0),z.depthMask(!1),z.clearColor(0,0,0,0),z.clear(z.COLOR_BUFFER_BIT),j.isTransparent()&&j.drawTransparent(oe);for(var ot=0;ot<Ue;++ot){var ut=ne[ot];ut.isTransparent&&ut.isTransparent()&&ut.drawTransparent(oe)}z.bindFramebuffer(z.FRAMEBUFFER,null),z.blendFunc(z.ONE,z.ONE_MINUS_SRC_ALPHA),z.disable(z.DEPTH_TEST),N.bind(),F.color[0].bind(0),N.uniforms.accumBuffer=0,m(z),z.disable(z.BLEND)}Z=!1;for(var ot=0;ot<Ue;++ot)ne[ot].dirty=!1}}}function De(){ie._stopped||ie.contextLost||(xe(),requestAnimationFrame(De))}return ie.enableMouseListeners(),De(),ie.redraw=function(){ie._stopped||(Z=!0,xe())},ie}function M(f,P){var T=f.bounds,z=f.cameraParams,_=z.projection,V=z.model,F=f.gl.drawingBufferWidth,N=f.gl.drawingBufferHeight,k=f.zNear,I=f.zFar,H=f.fovy,j=F/N;P?(c(_,-j,j,-1,1,k,I),z._ortho=!0):(g(_,H,j,k,I),z._ortho=!1);for(var ee=0;ee<16;++ee)V[ee]=0;V[15]=1;for(var te=0,ee=0;ee<3;++ee)te=Math.max(te,T[1][ee]-T[0][ee]);for(var ee=0;ee<3;++ee)f.autoScale?V[5*ee]=f.aspect[ee]/(T[1][ee]-T[0][ee]):V[5*ee]=1/te,f.autoCenter&&(V[12+ee]=-V[5*ee]*.5*(T[0][ee]+T[1][ee]))}},8023:function(v,p,r){var t=r(6832);p.pointVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),p.pointFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),p.pickVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),p.pickFragment=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(v,p,r){var t=r(5158),a=r(5827),n=r(5306),u=r(8023);v.exports=h;function s(g,c,o,d,w){this.plot=g,this.offsetBuffer=c,this.pickBuffer=o,this.shader=d,this.pickShader=w,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var l=s.prototype;l.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},l.update=function(g){var c;g=g||{};function o(M,f){return M in g?g[M]:f}this.sizeMin=o("sizeMin",.5),this.sizeMax=o("sizeMax",20),this.color=o("color",[1,0,0,1]).slice(),this.areaRatio=o("areaRatio",1),this.borderColor=o("borderColor",[0,0,0,1]).slice(),this.blend=o("blend",!1);var d=g.positions.length>>>1,w=g.positions instanceof Float32Array,A=g.idToIndex instanceof Int32Array&&g.idToIndex.length>=d,C=g.positions,x=w?C:n.mallocFloat32(C.length),E=A?g.idToIndex:n.mallocInt32(d);if(w||x.set(C),!A)for(x.set(C),c=0;c<d;c++)E[c]=c;this.points=C,this.offsetBuffer.update(x),this.pickBuffer.update(E),w||n.free(x),A||n.free(E),this.pointCount=d,this.pickOffset=0};function m(g,c){var o=0,d=g.length>>>1,w;for(w=0;w<d;w++){var A=g[w*2],C=g[w*2+1];A>=c[0]&&A<=c[2]&&C>=c[1]&&C<=c[3]&&o++}return o}l.unifiedDraw=function(){var g=[1,0,0,0,1,0,0,0,1],c=[0,0,0,0];return function(o){var d=o!==void 0,w=d?this.pickShader:this.shader,A=this.plot.gl,C=this.plot.dataBox;if(this.pointCount===0)return o;var x=C[2]-C[0],E=C[3]-C[1],M=m(this.points,C),f=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(M,.33333)));g[0]=2/x,g[4]=2/E,g[6]=-2*C[0]/x-1,g[7]=-2*C[1]/E-1,this.offsetBuffer.bind(),w.bind(),w.attributes.position.pointer(),w.uniforms.matrix=g,w.uniforms.color=this.color,w.uniforms.borderColor=this.borderColor,w.uniforms.pointCloud=f<5,w.uniforms.pointSize=f,w.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),d&&(c[0]=o&255,c[1]=o>>8&255,c[2]=o>>16&255,c[3]=o>>24&255,this.pickBuffer.bind(),w.attributes.pickId.pointer(A.UNSIGNED_BYTE),w.uniforms.pickOffset=c,this.pickOffset=o);var P=A.getParameter(A.BLEND),T=A.getParameter(A.DITHER);return P&&!this.blend&&A.disable(A.BLEND),T&&A.disable(A.DITHER),A.drawArrays(A.POINTS,0,this.pointCount),P&&!this.blend&&A.enable(A.BLEND),T&&A.enable(A.DITHER),o+this.pointCount}}(),l.draw=l.unifiedDraw,l.drawPick=l.unifiedDraw,l.pick=function(g,c,o){var d=this.pickOffset,w=this.pointCount;if(o<d||o>=d+w)return null;var A=o-d,C=this.points;return{object:this,pointId:A,dataCoord:[C[2*A],C[2*A+1]]}};function h(g,c){var o=g.gl,d=a(o),w=a(o),A=t(o,u.pointVertex,u.pointFragment),C=t(o,u.pickVertex,u.pickFragment),x=new s(g,d,w,A,C);return x.update(c),g.addObject(x),x}},6093:function(v){v.exports=p;function p(r,t,a,n){var u=t[0],s=t[1],l=t[2],m=t[3],h=a[0],g=a[1],c=a[2],o=a[3],d,w,A,C,x;return w=u*h+s*g+l*c+m*o,w<0&&(w=-w,h=-h,g=-g,c=-c,o=-o),1-w>1e-6?(d=Math.acos(w),A=Math.sin(d),C=Math.sin((1-n)*d)/A,x=Math.sin(n*d)/A):(C=1-n,x=n),r[0]=C*u+x*h,r[1]=C*s+x*g,r[2]=C*l+x*c,r[3]=C*m+x*o,r}},8240:function(v){v.exports=function(p){return!p&&p!==0?"":p.toString()}},4123:function(v,p,r){var t=r(875);v.exports=n;var a={};function n(u,s,l){var m=a[s];if(m||(m=a[s]={}),u in m)return m[u];var h={textAlign:"center",textBaseline:"middle",lineHeight:1,font:s,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};h.triangles=!0;var g=t(u,h);h.triangles=!1;var c=t(u,h),o,d;if(l&&l!==1){for(o=0;o<g.positions.length;++o)for(d=0;d<g.positions[o].length;++d)g.positions[o][d]/=l;for(o=0;o<c.positions.length;++o)for(d=0;d<c.positions[o].length;++d)c.positions[o][d]/=l}var w=[[1/0,1/0],[-1/0,-1/0]],A=c.positions.length;for(o=0;o<A;++o){var C=c.positions[o];for(d=0;d<2;++d)w[0][d]=Math.min(w[0][d],C[d]),w[1][d]=Math.max(w[1][d],C[d])}return m[u]=[g,c,w]}},9282:function(v,p,r){var t=r(5158),a=r(6832),n=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),u=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),s=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),l=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),m=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),h=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],g={vertex:n,fragment:l,attributes:h},c={vertex:u,fragment:l,attributes:h},o={vertex:s,fragment:l,attributes:h},d={vertex:n,fragment:m,attributes:h},w={vertex:u,fragment:m,attributes:h},A={vertex:s,fragment:m,attributes:h};function C(x,E){var M=t(x,E),f=M.attributes;return f.position.location=0,f.color.location=1,f.glyph.location=2,f.id.location=3,M}p.createPerspective=function(x){return C(x,g)},p.createOrtho=function(x){return C(x,c)},p.createProject=function(x){return C(x,o)},p.createPickPerspective=function(x){return C(x,d)},p.createPickOrtho=function(x){return C(x,w)},p.createPickProject=function(x){return C(x,A)}},2182:function(v,p,r){var t=r(3596),a=r(5827),n=r(2944),u=r(5306),s=r(104),l=r(9282),m=r(4123),h=r(8240),g=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];v.exports=ue;function c(q,Y){var Z=q[0],G=q[1],K=q[2],oe=q[3];return q[0]=Y[0]*Z+Y[4]*G+Y[8]*K+Y[12]*oe,q[1]=Y[1]*Z+Y[5]*G+Y[9]*K+Y[13]*oe,q[2]=Y[2]*Z+Y[6]*G+Y[10]*K+Y[14]*oe,q[3]=Y[3]*Z+Y[7]*G+Y[11]*K+Y[15]*oe,q}function o(q,Y,Z,G){return c(G,G),c(G,G),c(G,G)}function d(q,Y){this.index=q,this.dataCoordinate=this.position=Y}function w(q){return q===!0||q>1?1:q}function A(q,Y,Z,G,K,oe,$,J,se,ie,ce,ye){this.gl=q,this.pixelRatio=1,this.shader=Y,this.orthoShader=Z,this.projectShader=G,this.pointBuffer=K,this.colorBuffer=oe,this.glyphBuffer=$,this.idBuffer=J,this.vao=se,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ie,this.pickOrthoShader=ce,this.pickProjectShader=ye,this.points=[],this._selectResult=new d(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var C=A.prototype;C.pickSlots=1,C.setPickBase=function(q){this.pickId=q},C.isTransparent=function(){if(this.hasAlpha)return!0;for(var q=0;q<3;++q)if(this.axesProject[q]&&this.projectHasAlpha)return!0;return!1},C.isOpaque=function(){if(!this.hasAlpha)return!0;for(var q=0;q<3;++q)if(this.axesProject[q]&&!this.projectHasAlpha)return!0;return!1};var x=[0,0],E=[0,0,0],M=[0,0,0],f=[0,0,0,1],P=[0,0,0,1],T=g.slice(),z=[0,0,0],_=[[0,0,0],[0,0,0]];function V(q){return q[0]=q[1]=q[2]=0,q}function F(q,Y){return q[0]=Y[0],q[1]=Y[1],q[2]=Y[2],q[3]=1,q}function N(q,Y,Z,G){return q[0]=Y[0],q[1]=Y[1],q[2]=Y[2],q[Z]=G,q}function k(q){for(var Y=_,Z=0;Z<2;++Z)for(var G=0;G<3;++G)Y[Z][G]=Math.max(Math.min(q[Z][G],1e8),-1e8);return Y}function I(q,Y,Z,G){var K=Y.axesProject,oe=Y.gl,$=q.uniforms,J=Z.model||g,se=Z.view||g,ie=Z.projection||g,ce=Y.axesBounds,ye=k(Y.clipBounds),Se;Y.axes&&Y.axes.lastCubeProps?Se=Y.axes.lastCubeProps.axis:Se=[1,1,1],x[0]=2/oe.drawingBufferWidth,x[1]=2/oe.drawingBufferHeight,q.bind(),$.view=se,$.projection=ie,$.screenSize=x,$.highlightId=Y.highlightId,$.highlightScale=Y.highlightScale,$.clipBounds=ye,$.pickGroup=Y.pickId/255,$.pixelRatio=G;for(var Te=0;Te<3;++Te)if(K[Te]){$.scale=Y.projectScale[Te],$.opacity=Y.projectOpacity[Te];for(var ke=T,we=0;we<16;++we)ke[we]=0;for(var we=0;we<4;++we)ke[5*we]=1;ke[5*Te]=0,Se[Te]<0?ke[12+Te]=ce[0][Te]:ke[12+Te]=ce[1][Te],s(ke,J,ke),$.model=ke;var Ee=(Te+1)%3,xe=(Te+2)%3,De=V(E),Ve=V(M);De[Ee]=1,Ve[xe]=1;var Ue=o(ie,se,J,F(f,De)),Be=o(ie,se,J,F(P,Ve));if(Math.abs(Ue[1])>Math.abs(Be[1])){var Xe=Ue;Ue=Be,Be=Xe,Xe=De,De=Ve,Ve=Xe;var ot=Ee;Ee=xe,xe=ot}Ue[0]<0&&(De[Ee]=-1),Be[1]>0&&(Ve[xe]=-1);for(var ut=0,et=0,we=0;we<4;++we)ut+=Math.pow(J[4*Ee+we],2),et+=Math.pow(J[4*xe+we],2);De[Ee]/=Math.sqrt(ut),Ve[xe]/=Math.sqrt(et),$.axes[0]=De,$.axes[1]=Ve,$.fragClipBounds[0]=N(z,ye[0],Te,-1e8),$.fragClipBounds[1]=N(z,ye[1],Te,1e8),Y.vao.bind(),Y.vao.draw(oe.TRIANGLES,Y.vertexCount),Y.lineWidth>0&&(oe.lineWidth(Y.lineWidth*G),Y.vao.draw(oe.LINES,Y.lineVertexCount,Y.vertexCount)),Y.vao.unbind()}}var H=[-1e8,-1e8,-1e8],j=[1e8,1e8,1e8],ee=[H,j];function te(q,Y,Z,G,K,oe,$){var J=Z.gl;if((oe===Z.projectHasAlpha||$)&&I(Y,Z,G,K),oe===Z.hasAlpha||$){q.bind();var se=q.uniforms;se.model=G.model||g,se.view=G.view||g,se.projection=G.projection||g,x[0]=2/J.drawingBufferWidth,x[1]=2/J.drawingBufferHeight,se.screenSize=x,se.highlightId=Z.highlightId,se.highlightScale=Z.highlightScale,se.fragClipBounds=ee,se.clipBounds=Z.axes.bounds,se.opacity=Z.opacity,se.pickGroup=Z.pickId/255,se.pixelRatio=K,Z.vao.bind(),Z.vao.draw(J.TRIANGLES,Z.vertexCount),Z.lineWidth>0&&(J.lineWidth(Z.lineWidth*K),Z.vao.draw(J.LINES,Z.lineVertexCount,Z.vertexCount)),Z.vao.unbind()}}C.draw=function(q){var Y=this.useOrtho?this.orthoShader:this.shader;te(Y,this.projectShader,this,q,this.pixelRatio,!1,!1)},C.drawTransparent=function(q){var Y=this.useOrtho?this.orthoShader:this.shader;te(Y,this.projectShader,this,q,this.pixelRatio,!0,!1)},C.drawPick=function(q){var Y=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;te(Y,this.pickProjectShader,this,q,1,!0,!0)},C.pick=function(q){if(!q||q.id!==this.pickId)return null;var Y=q.value[2]+(q.value[1]<<8)+(q.value[0]<<16);if(Y>=this.pointCount||Y<0)return null;var Z=this.points[Y],G=this._selectResult;G.index=Y;for(var K=0;K<3;++K)G.position[K]=G.dataCoordinate[K]=Z[K];return G},C.highlight=function(q){if(!q)this.highlightId=[1,1,1,1];else{var Y=q.index,Z=Y&255,G=Y>>8&255,K=Y>>16&255;this.highlightId=[Z/255,G/255,K/255,0]}};function ne(q,Y,Z,G){var K;Array.isArray(q)?Y<q.length?K=q[Y]:K=void 0:K=q,K=h(K);var oe=!0;t(K)&&(K="▼",oe=!1);var $=m(K,Z,G);return{mesh:$[0],lines:$[1],bounds:$[2],visible:oe}}C.update=function(q){if(q=q||{},"perspective"in q&&(this.useOrtho=!q.perspective),"orthographic"in q&&(this.useOrtho=!!q.orthographic),"lineWidth"in q&&(this.lineWidth=q.lineWidth),"project"in q)if(Array.isArray(q.project))this.axesProject=q.project;else{var Y=!!q.project;this.axesProject=[Y,Y,Y]}if("projectScale"in q)if(Array.isArray(q.projectScale))this.projectScale=q.projectScale.slice();else{var Z=+q.projectScale;this.projectScale=[Z,Z,Z]}if(this.projectHasAlpha=!1,"projectOpacity"in q){if(Array.isArray(q.projectOpacity))this.projectOpacity=q.projectOpacity.slice();else{var Z=+q.projectOpacity;this.projectOpacity=[Z,Z,Z]}for(var G=0;G<3;++G)this.projectOpacity[G]=w(this.projectOpacity[G]),this.projectOpacity[G]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in q&&(this.opacity=w(q.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var K=q.position,oe=q.font||"normal",$=q.alignment||[0,0],J,se;if($.length===2)J=$[0],se=$[1];else{J=[],se=[];for(var G=0;G<$.length;++G)J[G]=$[G][0],se[G]=$[G][1]}var ie=[1/0,1/0,1/0],ce=[-1/0,-1/0,-1/0],ye=q.glyph,Se=q.color,Te=q.size,ke=q.angle,we=q.lineColor,Ee=-1,xe=0,De=0,Ve=0;if(K.length){Ve=K.length;e:for(var G=0;G<Ve;++G){for(var Ue=K[G],Be=0;Be<3;++Be)if(isNaN(Ue[Be])||!isFinite(Ue[Be]))continue e;var Xe=ne(ye,G,oe,this.pixelRatio),ot=Xe.mesh,ut=Xe.lines,et=Xe.bounds;xe+=ot.cells.length*3,De+=ut.edges.length*2}}var qe=xe+De,ft=u.mallocFloat(3*qe),ht=u.mallocFloat(4*qe),dt=u.mallocFloat(2*qe),mt=u.mallocUint32(qe);if(qe>0){var St=0,rt=xe,Oe=[0,0,0,1],Ye=[0,0,0,1],Ze=Array.isArray(Se)&&Array.isArray(Se[0]),Ge=Array.isArray(we)&&Array.isArray(we[0]);e:for(var G=0;G<Ve;++G){Ee+=1;for(var Ue=K[G],Be=0;Be<3;++Be){if(isNaN(Ue[Be])||!isFinite(Ue[Be]))continue e;ce[Be]=Math.max(ce[Be],Ue[Be]),ie[Be]=Math.min(ie[Be],Ue[Be])}var Xe=ne(ye,G,oe,this.pixelRatio),ot=Xe.mesh,ut=Xe.lines,et=Xe.bounds,_e=Xe.visible;if(!_e)Oe=[1,1,1,0];else if(Array.isArray(Se)){var be;if(Ze?G<Se.length?be=Se[G]:be=[0,0,0,0]:be=Se,be.length===3){for(var Be=0;Be<3;++Be)Oe[Be]=be[Be];Oe[3]=1}else if(be.length===4){for(var Be=0;Be<4;++Be)Oe[Be]=be[Be];!this.hasAlpha&&be[3]<1&&(this.hasAlpha=!0)}}else Oe[0]=Oe[1]=Oe[2]=0,Oe[3]=1;if(!_e)Ye=[1,1,1,0];else if(Array.isArray(we)){var be;if(Ge?G<we.length?be=we[G]:be=[0,0,0,0]:be=we,be.length===3){for(var Be=0;Be<3;++Be)Ye[Be]=be[Be];Ye[Be]=1}else if(be.length===4){for(var Be=0;Be<4;++Be)Ye[Be]=be[Be];!this.hasAlpha&&be[3]<1&&(this.hasAlpha=!0)}}else Ye[0]=Ye[1]=Ye[2]=0,Ye[3]=1;var me=.5;_e?Array.isArray(Te)?G<Te.length?me=+Te[G]:me=12:Te?me=+Te:this.useOrtho&&(me=12):me=0;var Ce=0;Array.isArray(ke)?G<ke.length?Ce=+ke[G]:Ce=0:ke&&(Ce=+ke);for(var Me=Math.cos(Ce),Ne=Math.sin(Ce),Ue=K[G],Be=0;Be<3;++Be)ce[Be]=Math.max(ce[Be],Ue[Be]),ie[Be]=Math.min(ie[Be],Ue[Be]);var je=J,tt=se,je=0;Array.isArray(J)?G<J.length?je=J[G]:je=0:J&&(je=J);var tt=0;Array.isArray(se)?G<se.length?tt=se[G]:tt=0:se&&(tt=se),je*=je>0?1-et[0][0]:je<0?1+et[1][0]:1,tt*=tt>0?1-et[0][1]:tt<0?1+et[1][1]:1;for(var ct=[je,tt],_t=ot.cells||[],Qt=ot.positions||[],Be=0;Be<_t.length;++Be)for(var pt=_t[Be],Xt=0;Xt<3;++Xt){for(var Yt=0;Yt<3;++Yt)ft[3*St+Yt]=Ue[Yt];for(var Yt=0;Yt<4;++Yt)ht[4*St+Yt]=Oe[Yt];mt[St]=Ee;var Tt=Qt[pt[Xt]];dt[2*St]=me*(Me*Tt[0]-Ne*Tt[1]+ct[0]),dt[2*St+1]=me*(Ne*Tt[0]+Me*Tt[1]+ct[1]),St+=1}for(var _t=ut.edges,Qt=ut.positions,Be=0;Be<_t.length;++Be)for(var pt=_t[Be],Xt=0;Xt<2;++Xt){for(var Yt=0;Yt<3;++Yt)ft[3*rt+Yt]=Ue[Yt];for(var Yt=0;Yt<4;++Yt)ht[4*rt+Yt]=Ye[Yt];mt[rt]=Ee;var Tt=Qt[pt[Xt]];dt[2*rt]=me*(Me*Tt[0]-Ne*Tt[1]+ct[0]),dt[2*rt+1]=me*(Ne*Tt[0]+Me*Tt[1]+ct[1]),rt+=1}}}this.bounds=[ie,ce],this.points=K,this.pointCount=K.length,this.vertexCount=xe,this.lineVertexCount=De,this.pointBuffer.update(ft),this.colorBuffer.update(ht),this.glyphBuffer.update(dt),this.idBuffer.update(mt),u.free(ft),u.free(ht),u.free(dt),u.free(mt)},C.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function ue(q){var Y=q.gl,Z=l.createPerspective(Y),G=l.createOrtho(Y),K=l.createProject(Y),oe=l.createPickPerspective(Y),$=l.createPickOrtho(Y),J=l.createPickProject(Y),se=a(Y),ie=a(Y),ce=a(Y),ye=a(Y),Se=n(Y,[{buffer:se,size:3,type:Y.FLOAT},{buffer:ie,size:4,type:Y.FLOAT},{buffer:ce,size:2,type:Y.FLOAT},{buffer:ye,size:4,type:Y.UNSIGNED_BYTE,normalized:!0}]),Te=new A(Y,Z,G,K,se,ie,ce,ye,Se,oe,$,J);return Te.update(q),Te}},1884:function(v,p,r){var t=r(6832);p.boxVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),p.boxFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(v,p,r){var t=r(5158),a=r(5827),n=r(1884);v.exports=l;function u(m,h,g){this.plot=m,this.boxBuffer=h,this.boxShader=g,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var s=u.prototype;s.draw=function(){if(this.enabled){var m=this.plot,h=this.selectBox,g=this.borderWidth;this.innerFill;var c=this.innerColor;this.outerFill;var o=this.outerColor,d=this.borderColor,w=m.box,A=m.screenBox,C=m.dataBox,x=m.viewBox,E=m.pixelRatio,M=(h[0]-C[0])*(x[2]-x[0])/(C[2]-C[0])+x[0],f=(h[1]-C[1])*(x[3]-x[1])/(C[3]-C[1])+x[1],P=(h[2]-C[0])*(x[2]-x[0])/(C[2]-C[0])+x[0],T=(h[3]-C[1])*(x[3]-x[1])/(C[3]-C[1])+x[1];if(M=Math.max(M,x[0]),f=Math.max(f,x[1]),P=Math.min(P,x[2]),T=Math.min(T,x[3]),!(P<M||T<f)){w.bind();var z=A[2]-A[0],_=A[3]-A[1];if(this.outerFill&&(w.drawBox(0,0,z,f,o),w.drawBox(0,f,M,T,o),w.drawBox(0,T,z,_,o),w.drawBox(P,f,z,T,o)),this.innerFill&&w.drawBox(M,f,P,T,c),g>0){var V=g*E;w.drawBox(M-V,f-V,P+V,f+V,d),w.drawBox(M-V,T-V,P+V,T+V,d),w.drawBox(M-V,f-V,M+V,T+V,d),w.drawBox(P-V,f-V,P+V,T+V,d)}}}},s.update=function(m){m=m||{},this.innerFill=!!m.innerFill,this.outerFill=!!m.outerFill,this.innerColor=(m.innerColor||[0,0,0,.5]).slice(),this.outerColor=(m.outerColor||[0,0,0,.5]).slice(),this.borderColor=(m.borderColor||[0,0,0,1]).slice(),this.borderWidth=m.borderWidth||0,this.selectBox=(m.selectBox||this.selectBox).slice()},s.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function l(m,h){var g=m.gl,c=a(g,[0,0,0,1,1,0,1,1]),o=t(g,n.boxVertex,n.boxFragment),d=new u(m,c,o);return d.update(h),m.addOverlay(d),d}},2611:function(v,p,r){v.exports=g;var t=r(4234),a=r(5306),n=r(5050),u=r(2288).nextPow2,s=function(c,o,d){for(var w=1e8,A=-1,C=-1,x=c.shape[0],E=c.shape[1],M=0;M<x;M++)for(var f=0;f<E;f++){var P=c.get(M,f,0),T=c.get(M,f,1),z=c.get(M,f,2),_=c.get(M,f,3);if(P<255||T<255||z<255||_<255){var V=o-M,F=d-f,N=V*V+F*F;N<w&&(w=N,A=M,C=f)}}return[A,C,w]};function l(c,o,d,w,A){this.coord=[c,o],this.id=d,this.value=w,this.distance=A}function m(c,o,d){this.gl=c,this.fbo=o,this.buffer=d,this._readTimeout=null;var w=this;this._readCallback=function(){w.gl&&(o.bind(),c.readPixels(0,0,o.shape[0],o.shape[1],c.RGBA,c.UNSIGNED_BYTE,w.buffer),w._readTimeout=null)}}var h=m.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var o=this.fbo.shape[0],d=this.fbo.shape[1];if(d*o*4>this.buffer.length){a.free(this.buffer);for(var w=this.buffer=a.mallocUint8(u(d*o*4)),A=0;A<d*o*4;++A)w[A]=255}return c}}}),h.begin=function(){var c=this.gl;this.shape,c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},h.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(c,o,d){if(!this.gl)return null;var w=this.fbo.shape.slice();c=c|0,o=o|0,typeof d!="number"&&(d=1);var A=Math.min(Math.max(c-d,0),w[0])|0,C=Math.min(Math.max(c+d,0),w[0])|0,x=Math.min(Math.max(o-d,0),w[1])|0,E=Math.min(Math.max(o+d,0),w[1])|0;if(C<=A||E<=x)return null;var M=[C-A,E-x],f=n(this.buffer,[M[0],M[1],4],[4,w[0]*4,1],4*(A+w[0]*x)),P=s(f.hi(M[0],M[1],1),d,d),T=P[0],z=P[1];if(T<0||Math.pow(this.radius,2)<P[2])return null;var _=f.get(T,z,0),V=f.get(T,z,1),F=f.get(T,z,2),N=f.get(T,z,3);return new l(T+A|0,z+x|0,_,[V,F,N],Math.sqrt(P[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),a.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function g(c,o){var d=o[0],w=o[1],A={},C=t(c,d,w,A),x=a.mallocUint8(d*w*4);return new m(c,C,x)}},5158:function(v,p,r){var t=r(9016),a=r(4280),n=r(3984),u=r(1628),s=r(2631),l=r(9068);function m(o){this.gl=o,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var h=m.prototype;h.bind=function(){this.program||this._relink();var o,d=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),w=this.gl.lastAttribCount;if(d>w)for(o=w;o<d;o++)this.gl.enableVertexAttribArray(o);else if(w>d)for(o=d;o<w;o++)this.gl.disableVertexAttribArray(o);this.gl.lastAttribCount=d,this.gl.useProgram(this.program)},h.dispose=function(){for(var o=this.gl.lastAttribCount,d=0;d<o;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function g(o,d){return o.name<d.name?-1:1}h.update=function(o,d,w,A){if(!d||arguments.length===1){var C=o;o=C.vertex,d=C.fragment,w=C.uniforms,A=C.attributes}var x=this,E=x.gl,M=x._vref;x._vref=u.shader(E,E.VERTEX_SHADER,o),M&&M.dispose(),x.vertShader=x._vref.shader;var f=this._fref;if(x._fref=u.shader(E,E.FRAGMENT_SHADER,d),f&&f.dispose(),x.fragShader=x._fref.shader,!w||!A){var P=E.createProgram();if(E.attachShader(P,x.fragShader),E.attachShader(P,x.vertShader),E.linkProgram(P),!E.getProgramParameter(P,E.LINK_STATUS)){var T=E.getProgramInfoLog(P);throw new l(T,"Error linking program:"+T)}w=w||s.uniforms(E,P),A=A||s.attributes(E,P),E.deleteProgram(P)}A=A.slice(),A.sort(g);var z=[],_=[],V=[],F;for(F=0;F<A.length;++F){var N=A[F];if(N.type.indexOf("mat")>=0){for(var k=N.type.charAt(N.type.length-1)|0,I=new Array(k),H=0;H<k;++H)I[H]=V.length,_.push(N.name+"["+H+"]"),typeof N.location=="number"?V.push(N.location+H):Array.isArray(N.location)&&N.location.length===k&&typeof N.location[H]=="number"?V.push(N.location[H]|0):V.push(-1);z.push({name:N.name,type:N.type,locations:I})}else z.push({name:N.name,type:N.type,locations:[V.length]}),_.push(N.name),typeof N.location=="number"?V.push(N.location|0):V.push(-1)}var j=0;for(F=0;F<V.length;++F)if(V[F]<0){for(;V.indexOf(j)>=0;)j+=1;V[F]=j}var ee=new Array(w.length);function te(){x.program=u.program(E,x._vref,x._fref,_,V);for(var ne=0;ne<w.length;++ne)ee[ne]=E.getUniformLocation(x.program,w[ne].name)}te(),x._relink=te,x.types={uniforms:n(w),attributes:n(A)},x.attributes=a(E,x,z,V),Object.defineProperty(x,"uniforms",t(E,x,w,ee))};function c(o,d,w,A,C){var x=new m(o);return x.update(d,w,A,C),x}v.exports=c},9068:function(v){function p(r,t,a){this.shortMessage=t||"",this.longMessage=a||"",this.rawError=r||"",this.message="gl-shader: "+(t||r||"")+(a?`
`+a:""),this.stack=new Error().stack}p.prototype=new Error,p.prototype.name="GLError",p.prototype.constructor=p,v.exports=p},4280:function(v,p,r){v.exports=m;var t=r(9068);function a(h,g,c,o,d,w){this._gl=h,this._wrapper=g,this._index=c,this._locations=o,this._dimension=d,this._constFunc=w}var n=a.prototype;n.pointer=function(g,c,o,d){var w=this,A=w._gl,C=w._locations[w._index];A.vertexAttribPointer(C,w._dimension,g||A.FLOAT,!!c,o||0,d||0),A.enableVertexAttribArray(C)},n.set=function(h,g,c,o){return this._constFunc(this._locations[this._index],h,g,c,o)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=h|0,this._wrapper.program=null),h|0}});var u=[function(h,g,c){return c.length===void 0?h.vertexAttrib1f(g,c):h.vertexAttrib1fv(g,c)},function(h,g,c,o){return c.length===void 0?h.vertexAttrib2f(g,c,o):h.vertexAttrib2fv(g,c)},function(h,g,c,o,d){return c.length===void 0?h.vertexAttrib3f(g,c,o,d):h.vertexAttrib3fv(g,c)},function(h,g,c,o,d,w){return c.length===void 0?h.vertexAttrib4f(g,c,o,d,w):h.vertexAttrib4fv(g,c)}];function s(h,g,c,o,d,w,A){var C=u[d],x=new a(h,g,c,o,d,C);Object.defineProperty(w,A,{set:function(E){return h.disableVertexAttribArray(o[c]),C(h,o[c],E),E},get:function(){return x},enumerable:!0})}function l(h,g,c,o,d,w,A){for(var C=new Array(d),x=new Array(d),E=0;E<d;++E)s(h,g,c[E],o,d,C,E),x[E]=C[E];Object.defineProperty(C,"location",{set:function(P){if(Array.isArray(P))for(var T=0;T<d;++T)x[T].location=P[T];else for(var T=0;T<d;++T)x[T].location=P+T;return P},get:function(){for(var P=new Array(d),T=0;T<d;++T)P[T]=o[c[T]];return P},enumerable:!0}),C.pointer=function(P,T,z,_){P=P||h.FLOAT,T=!!T,z=z||d*d,_=_||0;for(var V=0;V<d;++V){var F=o[c[V]];h.vertexAttribPointer(F,d,P,T,z,_+V*d),h.enableVertexAttribArray(F)}};var M=new Array(d),f=h["vertexAttrib"+d+"fv"];Object.defineProperty(w,A,{set:function(P){for(var T=0;T<d;++T){var z=o[c[T]];if(h.disableVertexAttribArray(z),Array.isArray(P[0]))f.call(h,z,P[T]);else{for(var _=0;_<d;++_)M[_]=P[d*T+_];f.call(h,z,M)}}return P},get:function(){return C},enumerable:!0})}function m(h,g,c,o){for(var d={},w=0,A=c.length;w<A;++w){var C=c[w],x=C.name,E=C.type,M=C.locations;switch(E){case"bool":case"int":case"float":s(h,g,M[0],o,1,d,x);break;default:if(E.indexOf("vec")>=0){var f=E.charCodeAt(E.length-1)-48;if(f<2||f>4)throw new t("","Invalid data type for attribute "+x+": "+E);s(h,g,M[0],o,f,d,x)}else if(E.indexOf("mat")>=0){var f=E.charCodeAt(E.length-1)-48;if(f<2||f>4)throw new t("","Invalid data type for attribute "+x+": "+E);l(h,g,M,o,f,d,x)}else throw new t("","Unknown data type for attribute "+x+": "+E);break}}return d}},9016:function(v,p,r){var t=r(3984),a=r(9068);v.exports=s;function n(l){return function(){return l}}function u(l,m){for(var h=new Array(l),g=0;g<l;++g)h[g]=m;return h}function s(l,m,h,g){function c(E){return function(M,f,P){return M.getUniform(f.program,P[E])}}function o(E){return function(f){for(var P=d("",E),T=0;T<P.length;++T){var z=P[T],_=z[0],V=z[1];if(g[V]){var F=f;if(typeof _=="string"&&(_.indexOf(".")===0||_.indexOf("[")===0)){var N=_;if(_.indexOf(".")===0&&(N=_.slice(1)),N.indexOf("]")===N.length-1){var k=N.indexOf("["),I=N.slice(0,k),H=N.slice(k+1,N.length-1);F=I?f[I][H]:f[H]}else F=f[N]}var j=h[V].type,ee;switch(j){case"bool":case"int":case"sampler2D":case"samplerCube":l.uniform1i(g[V],F);break;case"float":l.uniform1f(g[V],F);break;default:var te=j.indexOf("vec");if(0<=te&&te<=1&&j.length===4+te){if(ee=j.charCodeAt(j.length-1)-48,ee<2||ee>4)throw new a("","Invalid data type");switch(j.charAt(0)){case"b":case"i":l["uniform"+ee+"iv"](g[V],F);break;case"v":l["uniform"+ee+"fv"](g[V],F);break;default:throw new a("","Unrecognized data type for vector "+name+": "+j)}}else if(j.indexOf("mat")===0&&j.length===4){if(ee=j.charCodeAt(j.length-1)-48,ee<2||ee>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+j);l["uniformMatrix"+ee+"fv"](g[V],!1,F);break}else throw new a("","Unknown uniform data type for "+name+": "+j)}}}}}function d(E,M){if(typeof M!="object")return[[E,M]];var f=[];for(var P in M){var T=M[P],z=E;parseInt(P)+""===P?z+="["+P+"]":z+="."+P,typeof T=="object"?f.push.apply(f,d(z,T)):f.push([z,T])}return f}function w(E){switch(E){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var M=E.indexOf("vec");if(0<=M&&M<=1&&E.length===4+M){var f=E.charCodeAt(E.length-1)-48;if(f<2||f>4)throw new a("","Invalid data type");return E.charAt(0)==="b"?u(f,!1):u(f,0)}else if(E.indexOf("mat")===0&&E.length===4){var f=E.charCodeAt(E.length-1)-48;if(f<2||f>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+E);return u(f*f,0)}else throw new a("","Unknown uniform data type for "+name+": "+E)}}function A(E,M,f){if(typeof f=="object"){var P=C(f);Object.defineProperty(E,M,{get:n(P),set:o(f),enumerable:!0,configurable:!1})}else g[f]?Object.defineProperty(E,M,{get:c(f),set:o(f),enumerable:!0,configurable:!1}):E[M]=w(h[f].type)}function C(E){var M;if(Array.isArray(E)){M=new Array(E.length);for(var f=0;f<E.length;++f)A(M,f,E[f])}else{M={};for(var P in E)A(M,P,E[P])}return M}var x=t(h,!0);return{get:n(C(x)),set:o(x),enumerable:!0,configurable:!0}}},3984:function(v){v.exports=p;function p(r,t){for(var a={},n=0;n<r.length;++n)for(var u=r[n].name,s=u.split("."),l=a,m=0;m<s.length;++m){var h=s[m].split("[");if(h.length>1){h[0]in l||(l[h[0]]=[]),l=l[h[0]];for(var g=1;g<h.length;++g){var c=parseInt(h[g]);g<h.length-1||m<s.length-1?(c in l||(g<h.length-1?l[c]=[]:l[c]={}),l=l[c]):t?l[c]=n:l[c]=r[n].type}}else m<s.length-1?(h[0]in l||(l[h[0]]={}),l=l[h[0]]):t?l[h[0]]=n:l[h[0]]=r[n].type}return a}},2631:function(v,p){p.uniforms=n,p.attributes=u;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},t=null;function a(s,l){if(!t){var m=Object.keys(r);t={};for(var h=0;h<m.length;++h){var g=m[h];t[s[g]]=r[g]}}return t[l]}function n(s,l){for(var m=s.getProgramParameter(l,s.ACTIVE_UNIFORMS),h=[],g=0;g<m;++g){var c=s.getActiveUniform(l,g);if(c){var o=a(s,c.type);if(c.size>1)for(var d=0;d<c.size;++d)h.push({name:c.name.replace("[0]","["+d+"]"),type:o});else h.push({name:c.name,type:o})}}return h}function u(s,l){for(var m=s.getProgramParameter(l,s.ACTIVE_ATTRIBUTES),h=[],g=0;g<m;++g){var c=s.getActiveAttrib(l,g);c&&h.push({name:c.name,type:a(s,c.type)})}return h}},1628:function(v,p,r){p.shader=d,p.program=w;var t=r(9068),a=r(3530),n=typeof WeakMap>"u"?r(4037):WeakMap,u=new n,s=0;function l(A,C,x,E,M,f,P){this.id=A,this.src=C,this.type=x,this.shader=E,this.count=f,this.programs=[],this.cache=P}l.prototype.dispose=function(){if(--this.count===0){for(var A=this.cache,C=A.gl,x=this.programs,E=0,M=x.length;E<M;++E){var f=A.programs[x[E]];f&&(delete A.programs[E],C.deleteProgram(f))}C.deleteShader(this.shader),delete A.shaders[this.type===C.FRAGMENT_SHADER|0][this.src]}};function m(A){this.gl=A,this.shaders=[{},{}],this.programs={}}var h=m.prototype;function g(A,C,x){var E=A.createShader(C);if(A.shaderSource(E,x),A.compileShader(E),!A.getShaderParameter(E,A.COMPILE_STATUS)){var M=A.getShaderInfoLog(E);try{var f=a(M,x,C)}catch(P){throw console.warn("Failed to format compiler error: "+P),new t(M,`Error compiling shader:
`+M)}throw new t(M,f.short,f.long)}return E}h.getShaderReference=function(A,C){var x=this.gl,E=this.shaders[A===x.FRAGMENT_SHADER|0],M=E[C];if(!M||!x.isShader(M.shader)){var f=g(x,A,C);M=E[C]=new l(s++,C,A,f,[],1,this)}else M.count+=1;return M};function c(A,C,x,E,M){var f=A.createProgram();A.attachShader(f,C),A.attachShader(f,x);for(var P=0;P<E.length;++P)A.bindAttribLocation(f,M[P],E[P]);if(A.linkProgram(f),!A.getProgramParameter(f,A.LINK_STATUS)){var T=A.getProgramInfoLog(f);throw new t(T,"Error linking program: "+T)}return f}h.getProgram=function(A,C,x,E){var M=[A.id,C.id,x.join(":"),E.join(":")].join("@"),f=this.programs[M];return(!f||!this.gl.isProgram(f))&&(this.programs[M]=f=c(this.gl,A.shader,C.shader,x,E),A.programs.push(M),C.programs.push(M)),f};function o(A){var C=u.get(A);return C||(C=new m(A),u.set(A,C)),C}function d(A,C,x){return o(A).getShaderReference(C,x)}function w(A,C,x,E,M){return o(A).getProgram(C,x,E,M)}},3050:function(v){v.exports=t;function p(a){this.plot=a,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var r=p.prototype;r.update=function(a){a=a||{},this.enable=(a.enable||[!0,!0,!1,!1]).slice(),this.width=(a.width||[1,1,1,1]).slice(),this.color=(a.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(a.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var a=this.enable,n=this.width,u=this.color,s=this.center,l=this.plot,m=l.line,h=l.dataBox,g=l.viewBox;if(m.bind(),h[0]<=s[0]&&s[0]<=h[2]&&h[1]<=s[1]&&s[1]<=h[3]){var c=g[0]+(s[0]-h[0])/(h[2]-h[0])*(g[2]-g[0]),o=g[1]+(s[1]-h[1])/(h[3]-h[1])*(g[3]-g[1]);a[0]&&m.drawLine(c,o,g[0],o,n[0],u[0]),a[1]&&m.drawLine(c,o,c,g[1],n[1],u[1]),a[2]&&m.drawLine(c,o,g[2],o,n[2],u[2]),a[3]&&m.drawLine(c,o,c,g[3],n[3],u[3])}},r.dispose=function(){this.plot.removeOverlay(this)};function t(a,n){var u=new p(a);return u.update(n),a.addOverlay(u),u}},3540:function(v,p,r){var t=r(6832),a=r(5158),n=t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),u=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(s){return a(s,n,u,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(v,p,r){var t=r(5827),a=r(2944),n=r(3540);v.exports=c;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(o,d,w,A){this.gl=o,this.buffer=d,this.vao=w,this.shader=A,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=s.prototype,m=[0,0,0],h=[0,0,0],g=[0,0];l.isTransparent=function(){return!1},l.drawTransparent=function(o){},l.draw=function(o){var d=this.gl,w=this.vao,A=this.shader;w.bind(),A.bind();var C=o.model||u,x=o.view||u,E=o.projection||u,M;this.axes&&(M=this.axes.lastCubeProps.axis);for(var f=m,P=h,T=0;T<3;++T)M&&M[T]<0?(f[T]=this.bounds[0][T],P[T]=this.bounds[1][T]):(f[T]=this.bounds[1][T],P[T]=this.bounds[0][T]);g[0]=d.drawingBufferWidth,g[1]=d.drawingBufferHeight,A.uniforms.model=C,A.uniforms.view=x,A.uniforms.projection=E,A.uniforms.coordinates=[this.position,f,P],A.uniforms.colors=this.colors,A.uniforms.screenShape=g;for(var T=0;T<3;++T)A.uniforms.lineWidth=this.lineWidth[T]*this.pixelRatio,this.enabled[T]&&(w.draw(d.TRIANGLES,6,6*T),this.drawSides[T]&&w.draw(d.TRIANGLES,12,18+12*T));w.unbind()},l.update=function(o){o&&("bounds"in o&&(this.bounds=o.bounds),"position"in o&&(this.position=o.position),"lineWidth"in o&&(this.lineWidth=o.lineWidth),"colors"in o&&(this.colors=o.colors),"enabled"in o&&(this.enabled=o.enabled),"drawSides"in o&&(this.drawSides=o.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function c(o,d){var w=[];function A(f,P,T,z,_,V){var F=[f,P,T,0,0,0,1];F[z+3]=1,F[z]=_,w.push.apply(w,F),F[6]=-1,w.push.apply(w,F),F[z]=V,w.push.apply(w,F),w.push.apply(w,F),F[6]=1,w.push.apply(w,F),F[z]=_,w.push.apply(w,F)}A(0,0,0,0,0,1),A(0,0,0,1,0,1),A(0,0,0,2,0,1),A(1,0,0,1,-1,1),A(1,0,0,2,-1,1),A(0,1,0,0,-1,1),A(0,1,0,2,-1,1),A(0,0,1,0,-1,1),A(0,0,1,1,-1,1);var C=t(o,w),x=a(o,[{type:o.FLOAT,buffer:C,size:3,offset:0,stride:28},{type:o.FLOAT,buffer:C,size:3,offset:12,stride:28},{type:o.FLOAT,buffer:C,size:1,offset:24,stride:28}]),E=n(o);E.attributes.position.location=0,E.attributes.color.location=1,E.attributes.weight.location=2;var M=new s(o,C,x,E);return M.update(d),M}},9578:function(v,p,r){var t=r(6832),a=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),u=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),s=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:a,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},p.pickShader={vertex:u,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(v,p,r){var t=r(2858),a=r(4020),n=["xyz","xzy","yxz","yzx","zxy","zyx"],u=function(w,A,C,x){for(var E=w.points,M=w.velocities,f=w.divergences,P=[],T=[],z=[],_=[],V=[],F=[],N=0,k=0,I=a.create(),H=a.create(),j=8,ee=0;ee<E.length;ee++){var te=E[ee],ne=M[ee],ue=f[ee];A===0&&(ue=C*.05),k=t.length(ne)/x,I=a.create(),t.copy(I,ne),I[3]=ue;for(var q=0;q<j;q++)V[q]=[te[0],te[1],te[2],q];if(_.length>0)for(var q=0;q<j;q++){var Y=(q+1)%j;P.push(_[q],V[q],V[Y],V[Y],_[Y],_[q]),z.push(H,I,I,I,H,H),F.push(N,k,k,k,N,N);var Z=P.length;T.push([Z-6,Z-5,Z-4],[Z-3,Z-2,Z-1])}var G=_;_=V,V=G;var K=H;H=I,I=K;var oe=N;N=k,k=oe}return{positions:P,cells:T,vectors:z,vertexIntensity:F}},s=function(w,A,C,x){for(var E=0,M=0;M<w.length;M++)for(var f=w[M].velocities,P=0;P<f.length;P++)E=Math.max(E,t.length(f[P]));for(var T=w.map(function(ee){return u(ee,C,x,E)}),z=[],_=[],V=[],F=[],M=0;M<T.length;M++){var N=T[M],k=z.length;z=z.concat(N.positions),V=V.concat(N.vectors),F=F.concat(N.vertexIntensity);for(var P=0;P<N.cells.length;P++){var I=N.cells[P],H=[];_.push(H);for(var j=0;j<I.length;j++)H.push(I[j]+k)}}return{positions:z,cells:_,vectors:V,vertexIntensity:F,colormap:A}},l=function(w,A){var C=w.length,x;for(x=0;x<C;x++){var E=w[x];if(E===A)return x;if(E>A)return x-1}return x},m=function(w,A,C){return w<A?A:w>C?C:w},h=function(w,A,C){var x=A.vectors,E=A.meshgrid,M=w[0],f=w[1],P=w[2],T=E[0].length,z=E[1].length,_=E[2].length,V=l(E[0],M),F=l(E[1],f),N=l(E[2],P),k=V+1,I=F+1,H=N+1;if(V=m(V,0,T-1),k=m(k,0,T-1),F=m(F,0,z-1),I=m(I,0,z-1),N=m(N,0,_-1),H=m(H,0,_-1),V<0||F<0||N<0||k>T-1||I>z-1||H>_-1)return t.create();var j=E[0][V],ee=E[0][k],te=E[1][F],ne=E[1][I],ue=E[2][N],q=E[2][H],Y=(M-j)/(ee-j),Z=(f-te)/(ne-te),G=(P-ue)/(q-ue);isFinite(Y)||(Y=.5),isFinite(Z)||(Z=.5),isFinite(G)||(G=.5);var K,oe,$,J,se,ie;switch(C.reversedX&&(V=T-1-V,k=T-1-k),C.reversedY&&(F=z-1-F,I=z-1-I),C.reversedZ&&(N=_-1-N,H=_-1-H),C.filled){case 5:se=N,ie=H,$=F*_,J=I*_,K=V*_*z,oe=k*_*z;break;case 4:se=N,ie=H,K=V*_,oe=k*_,$=F*_*T,J=I*_*T;break;case 3:$=F,J=I,se=N*z,ie=H*z,K=V*z*_,oe=k*z*_;break;case 2:$=F,J=I,K=V*z,oe=k*z,se=N*z*T,ie=H*z*T;break;case 1:K=V,oe=k,se=N*T,ie=H*T,$=F*T*_,J=I*T*_;break;default:K=V,oe=k,$=F*T,J=I*T,se=N*T*z,ie=H*T*z;break}var ce=x[K+$+se],ye=x[K+$+ie],Se=x[K+J+se],Te=x[K+J+ie],ke=x[oe+$+se],we=x[oe+$+ie],Ee=x[oe+J+se],xe=x[oe+J+ie],De=t.create(),Ve=t.create(),Ue=t.create(),Be=t.create();t.lerp(De,ce,ke,Y),t.lerp(Ve,ye,we,Y),t.lerp(Ue,Se,Ee,Y),t.lerp(Be,Te,xe,Y);var Xe=t.create(),ot=t.create();t.lerp(Xe,De,Ue,Z),t.lerp(ot,Ve,Be,Z);var ut=t.create();return t.lerp(ut,Xe,ot,G),ut},g=function(w){var A=1/0;w.sort(function(M,f){return M-f});for(var C=w.length,x=1;x<C;x++){var E=Math.abs(w[x]-w[x-1]);E<A&&(A=E)}return A},c=function(w){for(var A=[],C=[],x=[],E={},M={},f={},P=w.length,T=0;T<P;T++){var z=w[T],_=z[0],V=z[1],F=z[2];E[_]||(A.push(_),E[_]=!0),M[V]||(C.push(V),M[V]=!0),f[F]||(x.push(F),f[F]=!0)}var N=g(A),k=g(C),I=g(x),H=Math.min(N,k,I);return isFinite(H)?H:1};v.exports=function(w,A){var C=w.startingPositions,x=w.maxLength||1e3,E=w.tubeSize||1,M=w.absoluteTubeSize,f=w.gridFill||"+x+y+z",P={};f.indexOf("-x")!==-1&&(P.reversedX=!0),f.indexOf("-y")!==-1&&(P.reversedY=!0),f.indexOf("-z")!==-1&&(P.reversedZ=!0),P.filled=n.indexOf(f.replace(/-/g,"").replace(/\+/g,""));var T=w.getVelocity||function(we){return h(we,w,P)},z=w.getDivergence||function(we,Ee){var xe=t.create(),De=1e-4;t.add(xe,we,[De,0,0]);var Ve=T(xe);t.subtract(Ve,Ve,Ee),t.scale(Ve,Ve,1/De),t.add(xe,we,[0,De,0]);var Ue=T(xe);t.subtract(Ue,Ue,Ee),t.scale(Ue,Ue,1/De),t.add(xe,we,[0,0,De]);var Be=T(xe);return t.subtract(Be,Be,Ee),t.scale(Be,Be,1/De),t.add(xe,Ve,Ue),t.add(xe,xe,Be),xe},_=[],V=A[0][0],F=A[0][1],N=A[0][2],k=A[1][0],I=A[1][1],H=A[1][2],j=function(we){var Ee=we[0],xe=we[1],De=we[2];return!(Ee<V||Ee>k||xe<F||xe>I||De<N||De>H)},ee=t.distance(A[0],A[1]),te=10*ee/x,ne=te*te,ue=1,q=0,Y=C.length;Y>1&&(ue=c(C));for(var Z=0;Z<Y;Z++){var G=t.create();t.copy(G,C[Z]);var K=[G],oe=[],$=T(G),J=G;oe.push($);var se=[],ie=z(G,$),ce=t.length(ie);isFinite(ce)&&ce>q&&(q=ce),se.push(ce),_.push({points:K,velocities:oe,divergences:se});for(var ye=0;ye<x*100&&K.length<x&&j(G);){ye++;var Se=t.clone($),Te=t.squaredLength(Se);if(Te===0)break;if(Te>ne&&t.scale(Se,Se,te/Math.sqrt(Te)),t.add(Se,Se,G),$=T(Se),t.squaredDistance(J,Se)-ne>-1e-4*ne){K.push(Se),J=Se,oe.push($);var ie=z(Se,$),ce=t.length(ie);isFinite(ce)&&ce>q&&(q=ce),se.push(ce)}G=Se}}var ke=s(_,w.colormap,q,ue);return M?ke.tubeScale=M:(q===0&&(q=1),ke.tubeScale=E*.5*ue/q),ke};var o=r(9578),d=r(1140).createMesh;v.exports.createTubeMesh=function(w,A){return d(w,A,{shaders:o,traceType:"streamtube"})}},9054:function(v,p,r){var t=r(5158),a=r(6832),n=a([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),u=a([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color — in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),s=a([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),l=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);p.createShader=function(m){var h=t(m,n,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},p.createPickShader=function(m){var h=t(m,n,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},p.createContourShader=function(m){var h=t(m,s,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h},p.createPickContourShader=function(m){var h=t(m,s,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h}},3754:function(v,p,r){v.exports=oe;var t=r(2288),a=r(5827),n=r(2944),u=r(8931),s=r(5306),l=r(9156),m=r(7498),h=r(7382),g=r(5050),c=r(4162),o=r(104),d=r(7437),w=r(5070),A=r(9144),C=r(9054),x=C.createShader,E=C.createContourShader,M=C.createPickShader,f=C.createPickContourShader,P=4*10,T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],z=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],_=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var $=0;$<3;++$){var J=_[$],se=($+1)%3,ie=($+2)%3;J[se+0]=1,J[ie+3]=1,J[$+6]=1}})();function V($,J,se,ie,ce){this.position=$,this.index=J,this.uv=se,this.level=ie,this.dataCoordinate=ce}var F=256;function N($,J,se,ie,ce,ye,Se,Te,ke,we,Ee,xe,De,Ve,Ue){this.gl=$,this.shape=J,this.bounds=se,this.objectOffset=Ue,this.intensityBounds=[],this._shader=ie,this._pickShader=ce,this._coordinateBuffer=ye,this._vao=Se,this._colorMap=Te,this._contourShader=ke,this._contourPickShader=we,this._contourBuffer=Ee,this._contourVAO=xe,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new V([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=De,this._dynamicVAO=Ve,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[g(s.mallocFloat(1024),[0,0]),g(s.mallocFloat(1024),[0,0]),g(s.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var k=N.prototype;k.genColormap=function($,J){var se=!1,ie=h([l({colormap:$,nshades:F,format:"rgba"}).map(function(ce,ye){var Se=J?I(ye/255,J):ce[3];return Se<1&&(se=!0),[ce[0],ce[1],ce[2],255*Se]})]);return m.divseq(ie,255),this.hasAlphaScale=se,ie},k.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},k.isOpaque=function(){return!this.isTransparent()},k.pickSlots=1,k.setPickBase=function($){this.pickId=$};function I($,J){if(!J||!J.length)return 1;for(var se=0;se<J.length;++se){if(J.length<2)return 1;if(J[se][0]===$)return J[se][1];if(J[se][0]>$&&se>0){var ie=(J[se][0]-$)/(J[se][0]-J[se-1][0]);return J[se][1]*(1-ie)+ie*J[se-1][1]}}return 1}var H=[0,0,0],j={showSurface:!1,showContour:!1,projections:[T.slice(),T.slice(),T.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function ee($,J){var se,ie,ce,ye=J.axes&&J.axes.lastCubeProps.axis||H,Se=J.showSurface,Te=J.showContour;for(se=0;se<3;++se)for(Se=Se||J.surfaceProject[se],ie=0;ie<3;++ie)Te=Te||J.contourProject[se][ie];for(se=0;se<3;++se){var ke=j.projections[se];for(ie=0;ie<16;++ie)ke[ie]=0;for(ie=0;ie<4;++ie)ke[5*ie]=1;ke[5*se]=0,ke[12+se]=J.axesBounds[+(ye[se]>0)][se],o(ke,$.model,ke);var we=j.clipBounds[se];for(ce=0;ce<2;++ce)for(ie=0;ie<3;++ie)we[ce][ie]=$.clipBounds[ce][ie];we[0][se]=-1e8,we[1][se]=1e8}return j.showSurface=Se,j.showContour=Te,j}var te={model:T,view:T,projection:T,inverseModel:T.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},ne=T.slice(),ue=[1,0,0,0,1,0,0,0,1];function q($,J){$=$||{};var se=this.gl;se.disable(se.CULL_FACE),this._colorMap.bind(0);var ie=te;ie.model=$.model||T,ie.view=$.view||T,ie.projection=$.projection||T,ie.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ie.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ie.objectOffset=this.objectOffset,ie.contourColor=this.contourColor[0],ie.inverseModel=d(ie.inverseModel,ie.model);for(var ce=0;ce<2;++ce)for(var ye=ie.clipBounds[ce],Se=0;Se<3;++Se)ye[Se]=Math.min(Math.max(this.clipBounds[ce][Se],-1e8),1e8);ie.kambient=this.ambientLight,ie.kdiffuse=this.diffuseLight,ie.kspecular=this.specularLight,ie.roughness=this.roughness,ie.fresnel=this.fresnel,ie.opacity=this.opacity,ie.height=0,ie.permutation=ue,ie.vertexColor=this.vertexColor;var Te=ne;for(o(Te,ie.view,ie.model),o(Te,ie.projection,Te),d(Te,Te),ce=0;ce<3;++ce)ie.eyePosition[ce]=Te[12+ce]/Te[15];var ke=Te[15];for(ce=0;ce<3;++ce)ke+=this.lightPosition[ce]*Te[4*ce+3];for(ce=0;ce<3;++ce){var we=Te[12+ce];for(Se=0;Se<3;++Se)we+=Te[4*Se+ce]*this.lightPosition[Se];ie.lightPosition[ce]=we/ke}var Ee=ee(ie,this);if(Ee.showSurface){for(this._shader.bind(),this._shader.uniforms=ie,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(se.TRIANGLES,this._vertexCount),ce=0;ce<3;++ce)!this.surfaceProject[ce]||!this.vertexCount||(this._shader.uniforms.model=Ee.projections[ce],this._shader.uniforms.clipBounds=Ee.clipBounds[ce],this._vao.draw(se.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ee.showContour){var xe=this._contourShader;ie.kambient=1,ie.kdiffuse=0,ie.kspecular=0,ie.opacity=1,xe.bind(),xe.uniforms=ie;var De=this._contourVAO;for(De.bind(),ce=0;ce<3;++ce)for(xe.uniforms.permutation=_[ce],se.lineWidth(this.contourWidth[ce]*this.pixelRatio),Se=0;Se<this.contourLevels[ce].length;++Se)Se===this.highlightLevel[ce]?(xe.uniforms.contourColor=this.highlightColor[ce],xe.uniforms.contourTint=this.highlightTint[ce]):(Se===0||Se-1===this.highlightLevel[ce])&&(xe.uniforms.contourColor=this.contourColor[ce],xe.uniforms.contourTint=this.contourTint[ce]),this._contourCounts[ce][Se]&&(xe.uniforms.height=this.contourLevels[ce][Se],De.draw(se.LINES,this._contourCounts[ce][Se],this._contourOffsets[ce][Se]));for(ce=0;ce<3;++ce)for(xe.uniforms.model=Ee.projections[ce],xe.uniforms.clipBounds=Ee.clipBounds[ce],Se=0;Se<3;++Se)if(this.contourProject[ce][Se]){xe.uniforms.permutation=_[Se],se.lineWidth(this.contourWidth[Se]*this.pixelRatio);for(var Ve=0;Ve<this.contourLevels[Se].length;++Ve)Ve===this.highlightLevel[Se]?(xe.uniforms.contourColor=this.highlightColor[Se],xe.uniforms.contourTint=this.highlightTint[Se]):(Ve===0||Ve-1===this.highlightLevel[Se])&&(xe.uniforms.contourColor=this.contourColor[Se],xe.uniforms.contourTint=this.contourTint[Se]),this._contourCounts[Se][Ve]&&(xe.uniforms.height=this.contourLevels[Se][Ve],De.draw(se.LINES,this._contourCounts[Se][Ve],this._contourOffsets[Se][Ve]))}for(De.unbind(),De=this._dynamicVAO,De.bind(),ce=0;ce<3;++ce)if(this._dynamicCounts[ce]!==0)for(xe.uniforms.model=ie.model,xe.uniforms.clipBounds=ie.clipBounds,xe.uniforms.permutation=_[ce],se.lineWidth(this.dynamicWidth[ce]*this.pixelRatio),xe.uniforms.contourColor=this.dynamicColor[ce],xe.uniforms.contourTint=this.dynamicTint[ce],xe.uniforms.height=this.dynamicLevel[ce],De.draw(se.LINES,this._dynamicCounts[ce],this._dynamicOffsets[ce]),Se=0;Se<3;++Se)this.contourProject[Se][ce]&&(xe.uniforms.model=Ee.projections[Se],xe.uniforms.clipBounds=Ee.clipBounds[Se],De.draw(se.LINES,this._dynamicCounts[ce],this._dynamicOffsets[ce]));De.unbind()}}k.draw=function($){return q.call(this,$,!1)},k.drawTransparent=function($){return q.call(this,$,!0)};var Y={model:T,view:T,projection:T,inverseModel:T,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};k.drawPick=function($){$=$||{};var J=this.gl;J.disable(J.CULL_FACE);var se=Y;se.model=$.model||T,se.view=$.view||T,se.projection=$.projection||T,se.shape=this._field[2].shape,se.pickId=this.pickId/255,se.lowerBound=this.bounds[0],se.upperBound=this.bounds[1],se.objectOffset=this.objectOffset,se.permutation=ue;for(var ie=0;ie<2;++ie)for(var ce=se.clipBounds[ie],ye=0;ye<3;++ye)ce[ye]=Math.min(Math.max(this.clipBounds[ie][ye],-1e8),1e8);var Se=ee(se,this);if(Se.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=se,this._vao.bind(),this._vao.draw(J.TRIANGLES,this._vertexCount),ie=0;ie<3;++ie)this.surfaceProject[ie]&&(this._pickShader.uniforms.model=Se.projections[ie],this._pickShader.uniforms.clipBounds=Se.clipBounds[ie],this._vao.draw(J.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Se.showContour){var Te=this._contourPickShader;Te.bind(),Te.uniforms=se;var ke=this._contourVAO;for(ke.bind(),ye=0;ye<3;++ye)for(J.lineWidth(this.contourWidth[ye]*this.pixelRatio),Te.uniforms.permutation=_[ye],ie=0;ie<this.contourLevels[ye].length;++ie)this._contourCounts[ye][ie]&&(Te.uniforms.height=this.contourLevels[ye][ie],ke.draw(J.LINES,this._contourCounts[ye][ie],this._contourOffsets[ye][ie]));for(ie=0;ie<3;++ie)for(Te.uniforms.model=Se.projections[ie],Te.uniforms.clipBounds=Se.clipBounds[ie],ye=0;ye<3;++ye)if(this.contourProject[ie][ye]){Te.uniforms.permutation=_[ye],J.lineWidth(this.contourWidth[ye]*this.pixelRatio);for(var we=0;we<this.contourLevels[ye].length;++we)this._contourCounts[ye][we]&&(Te.uniforms.height=this.contourLevels[ye][we],ke.draw(J.LINES,this._contourCounts[ye][we],this._contourOffsets[ye][we]))}ke.unbind()}},k.pick=function($){if(!$||$.id!==this.pickId)return null;var J=this._field[2].shape,se=this._pickResult,ie=J[0]*($.value[0]+($.value[2]>>4)/16)/255,ce=Math.floor(ie),ye=ie-ce,Se=J[1]*($.value[1]+($.value[2]&15)/16)/255,Te=Math.floor(Se),ke=Se-Te;ce+=1,Te+=1;var we=se.position;we[0]=we[1]=we[2]=0;for(var Ee=0;Ee<2;++Ee)for(var xe=Ee?ye:1-ye,De=0;De<2;++De)for(var Ve=De?ke:1-ke,Ue=ce+Ee,Be=Te+De,Xe=xe*Ve,ot=0;ot<3;++ot)we[ot]+=this._field[ot].get(Ue,Be)*Xe;for(var ut=this._pickResult.level,et=0;et<3;++et)if(ut[et]=w.le(this.contourLevels[et],we[et]),ut[et]<0)this.contourLevels[et].length>0&&(ut[et]=0);else if(ut[et]<this.contourLevels[et].length-1){var qe=this.contourLevels[et][ut[et]],ft=this.contourLevels[et][ut[et]+1];Math.abs(qe-we[et])>Math.abs(ft-we[et])&&(ut[et]+=1)}for(se.index[0]=ye<.5?ce:ce+1,se.index[1]=ke<.5?Te:Te+1,se.uv[0]=ie/J[0],se.uv[1]=Se/J[1],ot=0;ot<3;++ot)se.dataCoordinate[ot]=this._field[ot].get(se.index[0],se.index[1]);return se},k.padField=function($,J){var se=J.shape.slice(),ie=$.shape.slice();m.assign($.lo(1,1).hi(se[0],se[1]),J),m.assign($.lo(1).hi(se[0],1),J.hi(se[0],1)),m.assign($.lo(1,ie[1]-1).hi(se[0],1),J.lo(0,se[1]-1).hi(se[0],1)),m.assign($.lo(0,1).hi(1,se[1]),J.hi(1)),m.assign($.lo(ie[0]-1,1).hi(1,se[1]),J.lo(se[0]-1)),$.set(0,0,J.get(0,0)),$.set(0,ie[1]-1,J.get(0,se[1]-1)),$.set(ie[0]-1,0,J.get(se[0]-1,0)),$.set(ie[0]-1,ie[1]-1,J.get(se[0]-1,se[1]-1))};function Z($,J){return Array.isArray($)?[J($[0]),J($[1]),J($[2])]:[J($),J($),J($)]}function G($){return Array.isArray($)?$.length===3?[$[0],$[1],$[2],1]:[$[0],$[1],$[2],$[3]]:[0,0,0,1]}function K($){if(Array.isArray($)){if(Array.isArray($))return[G($[0]),G($[1]),G($[2])];var J=G($);return[J.slice(),J.slice(),J.slice()]}}k.update=function($){$=$||{},this.objectOffset=$.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in $&&(this.contourWidth=Z($.contourWidth,Number)),"showContour"in $&&(this.showContour=Z($.showContour,Boolean)),"showSurface"in $&&(this.showSurface=!!$.showSurface),"contourTint"in $&&(this.contourTint=Z($.contourTint,Boolean)),"contourColor"in $&&(this.contourColor=K($.contourColor)),"contourProject"in $&&(this.contourProject=Z($.contourProject,function(kt){return Z(kt,Boolean)})),"surfaceProject"in $&&(this.surfaceProject=$.surfaceProject),"dynamicColor"in $&&(this.dynamicColor=K($.dynamicColor)),"dynamicTint"in $&&(this.dynamicTint=Z($.dynamicTint,Number)),"dynamicWidth"in $&&(this.dynamicWidth=Z($.dynamicWidth,Number)),"opacity"in $&&(this.opacity=$.opacity),"opacityscale"in $&&(this.opacityscale=$.opacityscale),"colorBounds"in $&&(this.colorBounds=$.colorBounds),"vertexColor"in $&&(this.vertexColor=$.vertexColor?1:0),"colormap"in $&&this._colorMap.setPixels(this.genColormap($.colormap,this.opacityscale));var J=$.field||$.coords&&$.coords[2]||null,se=!1;if(J||(this._field[2].shape[0]||this._field[2].shape[2]?J=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):J=this._field[2].hi(0,0)),"field"in $||"coords"in $){var ie=(J.shape[0]+2)*(J.shape[1]+2);ie>this._field[2].data.length&&(s.freeFloat(this._field[2].data),this._field[2].data=s.mallocFloat(t.nextPow2(ie))),this._field[2]=g(this._field[2].data,[J.shape[0]+2,J.shape[1]+2]),this.padField(this._field[2],J),this.shape=J.shape.slice();for(var ce=this.shape,ye=0;ye<2;++ye)this._field[2].size>this._field[ye].data.length&&(s.freeFloat(this._field[ye].data),this._field[ye].data=s.mallocFloat(this._field[2].size)),this._field[ye]=g(this._field[ye].data,[ce[0]+2,ce[1]+2]);if($.coords){var Se=$.coords;if(!Array.isArray(Se)||Se.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(ye=0;ye<2;++ye){var Te=Se[ye];for(De=0;De<2;++De)if(Te.shape[De]!==ce[De])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[ye],Te)}}else if($.ticks){var ke=$.ticks;if(!Array.isArray(ke)||ke.length!==2)throw new Error("gl-surface: invalid ticks");for(ye=0;ye<2;++ye){var we=ke[ye];if((Array.isArray(we)||we.length)&&(we=g(we)),we.shape[0]!==ce[ye])throw new Error("gl-surface: invalid tick length");var Ee=g(we.data,ce);Ee.stride[ye]=we.stride[0],Ee.stride[ye^1]=0,this.padField(this._field[ye],Ee)}}else{for(ye=0;ye<2;++ye){var xe=[0,0];xe[ye]=1,this._field[ye]=g(this._field[ye].data,[ce[0]+2,ce[1]+2],xe,0)}this._field[0].set(0,0,0);for(var De=0;De<ce[0];++De)this._field[0].set(De+1,0,De);for(this._field[0].set(ce[0]+1,0,ce[0]-1),this._field[1].set(0,0,0),De=0;De<ce[1];++De)this._field[1].set(0,De+1,De);this._field[1].set(0,ce[1]+1,ce[1]-1)}var Ve=this._field,Ue=g(s.mallocFloat(Ve[2].size*3*2),[3,ce[0]+2,ce[1]+2,2]);for(ye=0;ye<3;++ye)A(Ue.pick(ye),Ve[ye],"mirror");var Be=g(s.mallocFloat(Ve[2].size*3),[ce[0]+2,ce[1]+2,3]);for(ye=0;ye<ce[0]+2;++ye)for(De=0;De<ce[1]+2;++De){var Xe=Ue.get(0,ye,De,0),ot=Ue.get(0,ye,De,1),ut=Ue.get(1,ye,De,0),et=Ue.get(1,ye,De,1),qe=Ue.get(2,ye,De,0),ft=Ue.get(2,ye,De,1),ht=ut*ft-et*qe,dt=qe*ot-ft*Xe,mt=Xe*et-ot*ut,St=Math.sqrt(ht*ht+dt*dt+mt*mt);St<1e-8?(St=Math.max(Math.abs(ht),Math.abs(dt),Math.abs(mt)),St<1e-8?(mt=1,dt=ht=0,St=1):St=1/St):St=1/Math.sqrt(St),Be.set(ye,De,0,ht*St),Be.set(ye,De,1,dt*St),Be.set(ye,De,2,mt*St)}s.free(Ue.data);var rt=[1/0,1/0,1/0],Oe=[-1/0,-1/0,-1/0],Ye=1/0,Ze=-1/0,Ge=(ce[0]-1)*(ce[1]-1)*6,_e=s.mallocFloat(t.nextPow2(10*Ge)),be=0,me=0;for(ye=0;ye<ce[0]-1;++ye)e:for(De=0;De<ce[1]-1;++De){for(var Ce=0;Ce<2;++Ce)for(var Me=0;Me<2;++Me)for(var Ne=0;Ne<3;++Ne){var je=this._field[Ne].get(1+ye+Ce,1+De+Me);if(isNaN(je)||!isFinite(je))continue e}for(Ne=0;Ne<6;++Ne){var tt=ye+z[Ne][0],ct=De+z[Ne][1],pt=this._field[0].get(tt+1,ct+1),Xt=this._field[1].get(tt+1,ct+1);je=this._field[2].get(tt+1,ct+1),ht=Be.get(tt+1,ct+1,0),dt=Be.get(tt+1,ct+1,1),mt=Be.get(tt+1,ct+1,2),$.intensity&&(Yt=$.intensity.get(tt,ct));var Yt=$.intensity?$.intensity.get(tt,ct):je+this.objectOffset[2];_e[be++]=tt,_e[be++]=ct,_e[be++]=pt,_e[be++]=Xt,_e[be++]=je,_e[be++]=0,_e[be++]=Yt,_e[be++]=ht,_e[be++]=dt,_e[be++]=mt,rt[0]=Math.min(rt[0],pt+this.objectOffset[0]),rt[1]=Math.min(rt[1],Xt+this.objectOffset[1]),rt[2]=Math.min(rt[2],je+this.objectOffset[2]),Ye=Math.min(Ye,Yt),Oe[0]=Math.max(Oe[0],pt+this.objectOffset[0]),Oe[1]=Math.max(Oe[1],Xt+this.objectOffset[1]),Oe[2]=Math.max(Oe[2],je+this.objectOffset[2]),Ze=Math.max(Ze,Yt),me+=1}}for($.intensityBounds&&(Ye=+$.intensityBounds[0],Ze=+$.intensityBounds[1]),ye=6;ye<be;ye+=10)_e[ye]=(_e[ye]-Ye)/(Ze-Ye);this._vertexCount=me,this._coordinateBuffer.update(_e.subarray(0,be)),s.freeFloat(_e),s.free(Be.data),this.bounds=[rt,Oe],this.intensity=$.intensity||this._field[2],(this.intensityBounds[0]!==Ye||this.intensityBounds[1]!==Ze)&&(se=!0),this.intensityBounds=[Ye,Ze]}if("levels"in $){var Tt=$.levels;for(Array.isArray(Tt[0])?Tt=Tt.slice():Tt=[[],[],Tt],ye=0;ye<3;++ye)Tt[ye]=Tt[ye].slice(),Tt[ye].sort(function(kt,Zt){return kt-Zt});for(ye=0;ye<3;++ye)for(De=0;De<Tt[ye].length;++De)Tt[ye][De]-=this.objectOffset[ye];e:for(ye=0;ye<3;++ye){if(Tt[ye].length!==this.contourLevels[ye].length){se=!0;break}for(De=0;De<Tt[ye].length;++De)if(Tt[ye][De]!==this.contourLevels[ye][De]){se=!0;break e}}this.contourLevels=Tt}if(se){Ve=this._field,ce=this.shape;for(var _t=[],Qt=0;Qt<3;++Qt){var wr=this.contourLevels[Qt],xt=[],jt=[],Jt=[0,0,0];for(ye=0;ye<wr.length;++ye){var gr=c(this._field[Qt],wr[ye]);xt.push(_t.length/5|0),me=0;e:for(De=0;De<gr.cells.length;++De){var or=gr.cells[De];for(Ne=0;Ne<2;++Ne){var yt=gr.positions[or[Ne]],at=yt[0],wt=Math.floor(at)|0,Et=at-wt,Rt=yt[1],Dt=Math.floor(Rt)|0,Ut=Rt-Dt,Nt=!1;t:for(var Kt=0;Kt<3;++Kt){Jt[Kt]=0;var ur=(Qt+Kt+1)%3;for(Ce=0;Ce<2;++Ce){var fr=Ce?Et:1-Et;for(tt=Math.min(Math.max(wt+Ce,0),ce[0])|0,Me=0;Me<2;++Me){var vr=Me?Ut:1-Ut;if(ct=Math.min(Math.max(Dt+Me,0),ce[1])|0,Kt<2?je=this._field[ur].get(tt,ct):je=(this.intensity.get(tt,ct)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(je)||isNaN(je)){Nt=!0;break t}var We=fr*vr;Jt[Kt]+=We*je}}}if(!Nt)_t.push(Jt[0],Jt[1],yt[0],yt[1],Jt[2]),me+=1;else{if(Ne>0){for(var He=0;He<5;++He)_t.pop();me-=1}continue e}}}jt.push(me)}this._contourOffsets[Qt]=xt,this._contourCounts[Qt]=jt}var zt=s.mallocFloat(_t.length);for(ye=0;ye<_t.length;++ye)zt[ye]=_t[ye];this._contourBuffer.update(zt),s.freeFloat(zt)}},k.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var $=0;$<3;++$)s.freeFloat(this._field[$].data)},k.highlight=function($){var J;if(!$){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(J=0;J<3;++J)this.enableHighlight[J]?this.highlightLevel[J]=$.level[J]:this.highlightLevel[J]=-1;var se;for(this.snapToData?se=$.dataCoordinate:se=$.position,J=0;J<3;++J)se[J]-=this.objectOffset[J];if(!((!this.enableDynamic[0]||se[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||se[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||se[2]===this.dynamicLevel[2]))){for(var ie=0,ce=this.shape,ye=s.mallocFloat(12*ce[0]*ce[1]),Se=0;Se<3;++Se){if(!this.enableDynamic[Se]){this.dynamicLevel[Se]=NaN,this._dynamicCounts[Se]=0;continue}this.dynamicLevel[Se]=se[Se];var Te=(Se+1)%3,ke=(Se+2)%3,we=this._field[Se],Ee=this._field[Te],xe=this._field[ke],De=c(we,se[Se]),Ve=De.cells,Ue=De.positions;for(this._dynamicOffsets[Se]=ie,J=0;J<Ve.length;++J)for(var Be=Ve[J],Xe=0;Xe<2;++Xe){var ot=Ue[Be[Xe]],ut=+ot[0],et=ut|0,qe=Math.min(et+1,ce[0])|0,ft=ut-et,ht=1-ft,dt=+ot[1],mt=dt|0,St=Math.min(mt+1,ce[1])|0,rt=dt-mt,Oe=1-rt,Ye=ht*Oe,Ze=ht*rt,Ge=ft*Oe,_e=ft*rt,be=Ye*Ee.get(et,mt)+Ze*Ee.get(et,St)+Ge*Ee.get(qe,mt)+_e*Ee.get(qe,St),me=Ye*xe.get(et,mt)+Ze*xe.get(et,St)+Ge*xe.get(qe,mt)+_e*xe.get(qe,St);if(isNaN(be)||isNaN(me)){Xe&&(ie-=1);break}ye[2*ie+0]=be,ye[2*ie+1]=me,ie+=1}this._dynamicCounts[Se]=ie-this._dynamicOffsets[Se]}this._dynamicBuffer.update(ye.subarray(0,2*ie)),s.freeFloat(ye)}};function oe($){var J=$.gl,se=x(J),ie=M(J),ce=E(J),ye=f(J),Se=a(J),Te=n(J,[{buffer:Se,size:4,stride:P,offset:0},{buffer:Se,size:3,stride:P,offset:16},{buffer:Se,size:3,stride:P,offset:28}]),ke=a(J),we=n(J,[{buffer:ke,size:4,stride:20,offset:0},{buffer:ke,size:1,stride:20,offset:16}]),Ee=a(J),xe=n(J,[{buffer:Ee,size:2,type:J.FLOAT}]),De=u(J,1,F,J.RGBA,J.UNSIGNED_BYTE);De.minFilter=J.LINEAR,De.magFilter=J.LINEAR;var Ve=new N(J,[0,0],[[0,0,0],[0,0,0]],se,ie,Se,Te,De,ce,ye,ke,we,Ee,xe,[0,0,0]),Ue={levels:[[],[],[]]};for(var Be in $)Ue[Be]=$[Be];return Ue.colormap=Ue.colormap||"jet",Ve.update(Ue),Ve}},8931:function(v,p,r){var t=r(5050),a=r(7498),n=r(5306);v.exports=f;var u=null,s=null,l=null;function m(P){u=[P.LINEAR,P.NEAREST_MIPMAP_LINEAR,P.LINEAR_MIPMAP_NEAREST,P.LINEAR_MIPMAP_NEAREST],s=[P.NEAREST,P.LINEAR,P.NEAREST_MIPMAP_NEAREST,P.NEAREST_MIPMAP_LINEAR,P.LINEAR_MIPMAP_NEAREST,P.LINEAR_MIPMAP_LINEAR],l=[P.REPEAT,P.CLAMP_TO_EDGE,P.MIRRORED_REPEAT]}function h(P){return typeof HTMLCanvasElement<"u"&&P instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&P instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&P instanceof HTMLVideoElement||typeof ImageData<"u"&&P instanceof ImageData}var g=function(P,T){a.muls(P,T,255)};function c(P,T,z){var _=P.gl,V=_.getParameter(_.MAX_TEXTURE_SIZE);if(T<0||T>V||z<0||z>V)throw new Error("gl-texture2d: Invalid texture size");return P._shape=[T,z],P.bind(),_.texImage2D(_.TEXTURE_2D,0,P.format,T,z,0,P.format,P.type,null),P._mipLevels=[0],P}function o(P,T,z,_,V,F){this.gl=P,this.handle=T,this.format=V,this.type=F,this._shape=[z,_],this._mipLevels=[0],this._magFilter=P.NEAREST,this._minFilter=P.NEAREST,this._wrapS=P.CLAMP_TO_EDGE,this._wrapT=P.CLAMP_TO_EDGE,this._anisoSamples=1;var N=this,k=[this._wrapS,this._wrapT];Object.defineProperties(k,[{get:function(){return N._wrapS},set:function(H){return N.wrapS=H}},{get:function(){return N._wrapT},set:function(H){return N.wrapT=H}}]),this._wrapVector=k;var I=[this._shape[0],this._shape[1]];Object.defineProperties(I,[{get:function(){return N._shape[0]},set:function(H){return N.width=H}},{get:function(){return N._shape[1]},set:function(H){return N.height=H}}]),this._shapeVector=I}var d=o.prototype;Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(P){this.bind();var T=this.gl;if(this.type===T.FLOAT&&u.indexOf(P)>=0&&(T.getExtension("OES_texture_float_linear")||(P=T.NEAREST)),s.indexOf(P)<0)throw new Error("gl-texture2d: Unknown filter mode "+P);return T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,P),this._minFilter=P}},magFilter:{get:function(){return this._magFilter},set:function(P){this.bind();var T=this.gl;if(this.type===T.FLOAT&&u.indexOf(P)>=0&&(T.getExtension("OES_texture_float_linear")||(P=T.NEAREST)),s.indexOf(P)<0)throw new Error("gl-texture2d: Unknown filter mode "+P);return T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,P),this._magFilter=P}},mipSamples:{get:function(){return this._anisoSamples},set:function(P){var T=this._anisoSamples;if(this._anisoSamples=Math.max(P,1)|0,T!==this._anisoSamples){var z=this.gl.getExtension("EXT_texture_filter_anisotropic");z&&this.gl.texParameterf(this.gl.TEXTURE_2D,z.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(P){if(this.bind(),l.indexOf(P)<0)throw new Error("gl-texture2d: Unknown wrap mode "+P);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,P),this._wrapS=P}},wrapT:{get:function(){return this._wrapT},set:function(P){if(this.bind(),l.indexOf(P)<0)throw new Error("gl-texture2d: Unknown wrap mode "+P);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,P),this._wrapT=P}},wrap:{get:function(){return this._wrapVector},set:function(P){if(Array.isArray(P)||(P=[P,P]),P.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var T=0;T<2;++T)if(l.indexOf(P[T])<0)throw new Error("gl-texture2d: Unknown wrap mode "+P);this._wrapS=P[0],this._wrapT=P[1];var z=this.gl;return this.bind(),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_S,this._wrapS),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_T,this._wrapT),P}},shape:{get:function(){return this._shapeVector},set:function(P){if(!Array.isArray(P))P=[P|0,P|0];else if(P.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return c(this,P[0]|0,P[1]|0),[P[0]|0,P[1]|0]}},width:{get:function(){return this._shape[0]},set:function(P){return P=P|0,c(this,P,this._shape[1]),P}},height:{get:function(){return this._shape[1]},set:function(P){return P=P|0,c(this,this._shape[0],P),P}}}),d.bind=function(P){var T=this.gl;return P!==void 0&&T.activeTexture(T.TEXTURE0+(P|0)),T.bindTexture(T.TEXTURE_2D,this.handle),P!==void 0?P|0:T.getParameter(T.ACTIVE_TEXTURE)-T.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var P=Math.min(this._shape[0],this._shape[1]),T=0;P>0;++T,P>>>=1)this._mipLevels.indexOf(T)<0&&this._mipLevels.push(T)},d.setPixels=function(P,T,z,_){var V=this.gl;this.bind(),Array.isArray(T)?(_=z,z=T[1]|0,T=T[0]|0):(T=T||0,z=z||0),_=_||0;var F=h(P)?P:P.raw;if(F){var N=this._mipLevels.indexOf(_)<0;N?(V.texImage2D(V.TEXTURE_2D,0,this.format,this.format,this.type,F),this._mipLevels.push(_)):V.texSubImage2D(V.TEXTURE_2D,_,T,z,this.format,this.type,F)}else if(P.shape&&P.stride&&P.data){if(P.shape.length<2||T+P.shape[1]>this._shape[1]>>>_||z+P.shape[0]>this._shape[0]>>>_||T<0||z<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");A(V,T,z,_,this.format,this.type,this._mipLevels,P)}else throw new Error("gl-texture2d: Unsupported data type")};function w(P,T){return P.length===3?T[2]===1&&T[1]===P[0]*P[2]&&T[0]===P[2]:T[0]===1&&T[1]===P[0]}function A(P,T,z,_,V,F,N,k){var I=k.dtype,H=k.shape.slice();if(H.length<2||H.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var j=0,ee=0,te=w(H,k.stride.slice());if(I==="float32"?j=P.FLOAT:I==="float64"?(j=P.FLOAT,te=!1,I="float32"):I==="uint8"?j=P.UNSIGNED_BYTE:(j=P.UNSIGNED_BYTE,te=!1,I="uint8"),H.length===2)ee=P.LUMINANCE,H=[H[0],H[1],1],k=t(k.data,H,[k.stride[0],k.stride[1],1],k.offset);else if(H.length===3){if(H[2]===1)ee=P.ALPHA;else if(H[2]===2)ee=P.LUMINANCE_ALPHA;else if(H[2]===3)ee=P.RGB;else if(H[2]===4)ee=P.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");H[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((ee===P.LUMINANCE||ee===P.ALPHA)&&(V===P.LUMINANCE||V===P.ALPHA)&&(ee=V),ee!==V)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ne=k.size,ue=N.indexOf(_)<0;if(ue&&N.push(_),j===F&&te)k.offset===0&&k.data.length===ne?ue?P.texImage2D(P.TEXTURE_2D,_,V,H[0],H[1],0,V,F,k.data):P.texSubImage2D(P.TEXTURE_2D,_,T,z,H[0],H[1],V,F,k.data):ue?P.texImage2D(P.TEXTURE_2D,_,V,H[0],H[1],0,V,F,k.data.subarray(k.offset,k.offset+ne)):P.texSubImage2D(P.TEXTURE_2D,_,T,z,H[0],H[1],V,F,k.data.subarray(k.offset,k.offset+ne));else{var q;F===P.FLOAT?q=n.mallocFloat32(ne):q=n.mallocUint8(ne);var Y=t(q,H,[H[2],H[2]*H[0],1]);j===P.FLOAT&&F===P.UNSIGNED_BYTE?g(Y,k):a.assign(Y,k),ue?P.texImage2D(P.TEXTURE_2D,_,V,H[0],H[1],0,V,F,q.subarray(0,ne)):P.texSubImage2D(P.TEXTURE_2D,_,T,z,H[0],H[1],V,F,q.subarray(0,ne)),F===P.FLOAT?n.freeFloat32(q):n.freeUint8(q)}}function C(P){var T=P.createTexture();return P.bindTexture(P.TEXTURE_2D,T),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,P.NEAREST),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,P.NEAREST),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_S,P.CLAMP_TO_EDGE),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_T,P.CLAMP_TO_EDGE),T}function x(P,T,z,_,V){var F=P.getParameter(P.MAX_TEXTURE_SIZE);if(T<0||T>F||z<0||z>F)throw new Error("gl-texture2d: Invalid texture shape");if(V===P.FLOAT&&!P.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var N=C(P);return P.texImage2D(P.TEXTURE_2D,0,_,T,z,0,_,V,null),new o(P,N,T,z,_,V)}function E(P,T,z,_,V,F){var N=C(P);return P.texImage2D(P.TEXTURE_2D,0,V,V,F,T),new o(P,N,z,_,V,F)}function M(P,T){var z=T.dtype,_=T.shape.slice(),V=P.getParameter(P.MAX_TEXTURE_SIZE);if(_[0]<0||_[0]>V||_[1]<0||_[1]>V)throw new Error("gl-texture2d: Invalid texture size");var F=w(_,T.stride.slice()),N=0;z==="float32"?N=P.FLOAT:z==="float64"?(N=P.FLOAT,F=!1,z="float32"):z==="uint8"?N=P.UNSIGNED_BYTE:(N=P.UNSIGNED_BYTE,F=!1,z="uint8");var k=0;if(_.length===2)k=P.LUMINANCE,_=[_[0],_[1],1],T=t(T.data,_,[T.stride[0],T.stride[1],1],T.offset);else if(_.length===3)if(_[2]===1)k=P.ALPHA;else if(_[2]===2)k=P.LUMINANCE_ALPHA;else if(_[2]===3)k=P.RGB;else if(_[2]===4)k=P.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");N===P.FLOAT&&!P.getExtension("OES_texture_float")&&(N=P.UNSIGNED_BYTE,F=!1);var I,H,j=T.size;if(F)T.offset===0&&T.data.length===j?I=T.data:I=T.data.subarray(T.offset,T.offset+j);else{var ee=[_[2],_[2]*_[0],1];H=n.malloc(j,z);var te=t(H,_,ee,0);(z==="float32"||z==="float64")&&N===P.UNSIGNED_BYTE?g(te,T):a.assign(te,T),I=H.subarray(0,j)}var ne=C(P);return P.texImage2D(P.TEXTURE_2D,0,k,_[0],_[1],0,k,N,I),F||n.free(H),new o(P,ne,_[0],_[1],k,N)}function f(P){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(u||m(P),typeof arguments[1]=="number")return x(P,arguments[1],arguments[2],arguments[3]||P.RGBA,arguments[4]||P.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return x(P,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||P.RGBA,arguments[3]||P.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var T=arguments[1],z=h(T)?T:T.raw;if(z)return E(P,z,T.width|0,T.height|0,arguments[2]||P.RGBA,arguments[3]||P.UNSIGNED_BYTE);if(T.shape&&T.data&&T.stride)return M(P,T)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},3056:function(v){function p(r,t,a){t?t.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var n=r.getParameter(r.MAX_VERTEX_ATTRIBS)|0;if(a){if(a.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var u=0;u<a.length;++u){var s=a[u];if(s.buffer){var l=s.buffer,m=s.size||4,h=s.type||r.FLOAT,g=!!s.normalized,c=s.stride||0,o=s.offset||0;l.bind(),r.enableVertexAttribArray(u),r.vertexAttribPointer(u,m,h,g,c,o)}else{if(typeof s=="number")r.vertexAttrib1f(u,s);else if(s.length===1)r.vertexAttrib1f(u,s[0]);else if(s.length===2)r.vertexAttrib2f(u,s[0],s[1]);else if(s.length===3)r.vertexAttrib3f(u,s[0],s[1],s[2]);else if(s.length===4)r.vertexAttrib4f(u,s[0],s[1],s[2],s[3]);else throw new Error("gl-vao: Invalid vertex attribute");r.disableVertexAttribArray(u)}}for(;u<n;++u)r.disableVertexAttribArray(u)}else{r.bindBuffer(r.ARRAY_BUFFER,null);for(var u=0;u<n;++u)r.disableVertexAttribArray(u)}}v.exports=p},7220:function(v,p,r){var t=r(3056);function a(u){this.gl=u,this._elements=null,this._attributes=null,this._elementsType=u.UNSIGNED_SHORT}a.prototype.bind=function(){t(this.gl,this._elements,this._attributes)},a.prototype.update=function(u,s,l){this._elements=s,this._attributes=u,this._elementsType=l||this.gl.UNSIGNED_SHORT},a.prototype.dispose=function(){},a.prototype.unbind=function(){},a.prototype.draw=function(u,s,l){l=l||0;var m=this.gl;this._elements?m.drawElements(u,s,this._elementsType,l):m.drawArrays(u,l,s)};function n(u){return new a(u)}v.exports=n},3778:function(v,p,r){var t=r(3056);function a(s,l,m,h,g,c){this.location=s,this.dimension=l,this.a=m,this.b=h,this.c=g,this.d=c}a.prototype.bind=function(s){switch(this.dimension){case 1:s.vertexAttrib1f(this.location,this.a);break;case 2:s.vertexAttrib2f(this.location,this.a,this.b);break;case 3:s.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:s.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(s,l,m){this.gl=s,this._ext=l,this.handle=m,this._attribs=[],this._useElements=!1,this._elementsType=s.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var s=0;s<this._attribs.length;++s)this._attribs[s].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(s,l,m){if(this.bind(),t(this.gl,l,s),this.unbind(),this._attribs.length=0,s)for(var h=0;h<s.length;++h){var g=s[h];typeof g=="number"?this._attribs.push(new a(h,1,g)):Array.isArray(g)&&this._attribs.push(new a(h,g.length,g[0],g[1],g[2],g[3]))}this._useElements=!!l,this._elementsType=m||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(s,l,m){m=m||0;var h=this.gl;this._useElements?h.drawElements(s,l,this._elementsType,m):h.drawArrays(s,m,l)};function u(s,l){return new n(s,l,l.createVertexArrayOES())}v.exports=u},2944:function(v,p,r){var t=r(3778),a=r(7220);function n(s){this.bindVertexArrayOES=s.bindVertexArray.bind(s),this.createVertexArrayOES=s.createVertexArray.bind(s),this.deleteVertexArrayOES=s.deleteVertexArray.bind(s)}function u(s,l,m,h){var g=s.createVertexArray?new n(s):s.getExtension("OES_vertex_array_object"),c;return g?c=t(s,g):c=a(s),c.update(l,m,h),c}v.exports=u},2598:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]+a[0],r[1]=t[1]+a[1],r[2]=t[2]+a[2],r}},5879:function(v,p,r){v.exports=u;var t=r(5415),a=r(899),n=r(9305);function u(s,l){var m=t(s[0],s[1],s[2]),h=t(l[0],l[1],l[2]);a(m,m),a(h,h);var g=n(m,h);return g>1?0:Math.acos(g)}},8827:function(v){v.exports=p;function p(r,t){return r[0]=Math.ceil(t[0]),r[1]=Math.ceil(t[1]),r[2]=Math.ceil(t[2]),r}},7622:function(v){v.exports=p;function p(r){var t=new Float32Array(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},8782:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},8501:function(v){v.exports=p;function p(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},903:function(v){v.exports=p;function p(r,t,a){var n=t[0],u=t[1],s=t[2],l=a[0],m=a[1],h=a[2];return r[0]=u*h-s*m,r[1]=s*l-n*h,r[2]=n*m-u*l,r}},5981:function(v,p,r){v.exports=r(8288)},8288:function(v){v.exports=p;function p(r,t){var a=t[0]-r[0],n=t[1]-r[1],u=t[2]-r[2];return Math.sqrt(a*a+n*n+u*u)}},8629:function(v,p,r){v.exports=r(7979)},7979:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]/a[0],r[1]=t[1]/a[1],r[2]=t[2]/a[2],r}},9305:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}},154:function(v){v.exports=1e-6},4932:function(v,p,r){v.exports=a;var t=r(154);function a(n,u){var s=n[0],l=n[1],m=n[2],h=u[0],g=u[1],c=u[2];return Math.abs(s-h)<=t*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(l-g)<=t*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(m-c)<=t*Math.max(1,Math.abs(m),Math.abs(c))}},5777:function(v){v.exports=p;function p(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]}},3306:function(v){v.exports=p;function p(r,t){return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r[2]=Math.floor(t[2]),r}},7447:function(v,p,r){v.exports=a;var t=r(8501)();function a(n,u,s,l,m,h){var g,c;for(u||(u=3),s||(s=0),l?c=Math.min(l*u+s,n.length):c=n.length,g=s;g<c;g+=u)t[0]=n[g],t[1]=n[g+1],t[2]=n[g+2],m(t,t,h),n[g]=t[0],n[g+1]=t[1],n[g+2]=t[2];return n}},5415:function(v){v.exports=p;function p(r,t,a){var n=new Float32Array(3);return n[0]=r,n[1]=t,n[2]=a,n}},2858:function(v,p,r){v.exports={EPSILON:r(154),create:r(8501),clone:r(7622),angle:r(5879),fromValues:r(5415),copy:r(8782),set:r(831),equals:r(4932),exactEquals:r(5777),add:r(2598),subtract:r(911),sub:r(8921),multiply:r(105),mul:r(5733),divide:r(7979),div:r(8629),min:r(3605),max:r(1716),floor:r(3306),ceil:r(8827),round:r(1624),scale:r(5685),scaleAndAdd:r(6722),distance:r(8288),dist:r(5981),squaredDistance:r(6403),sqrDist:r(5294),length:r(4693),len:r(1468),squaredLength:r(4337),sqrLen:r(3303),negate:r(435),inverse:r(2073),normalize:r(899),dot:r(9305),cross:r(903),lerp:r(1868),random:r(6660),transformMat4:r(3255),transformMat3:r(9908),transformQuat:r(6568),rotateX:r(392),rotateY:r(3222),rotateZ:r(3388),forEach:r(7447)}},2073:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r}},1468:function(v,p,r){v.exports=r(4693)},4693:function(v){v.exports=p;function p(r){var t=r[0],a=r[1],n=r[2];return Math.sqrt(t*t+a*a+n*n)}},1868:function(v){v.exports=p;function p(r,t,a,n){var u=t[0],s=t[1],l=t[2];return r[0]=u+n*(a[0]-u),r[1]=s+n*(a[1]-s),r[2]=l+n*(a[2]-l),r}},1716:function(v){v.exports=p;function p(r,t,a){return r[0]=Math.max(t[0],a[0]),r[1]=Math.max(t[1],a[1]),r[2]=Math.max(t[2],a[2]),r}},3605:function(v){v.exports=p;function p(r,t,a){return r[0]=Math.min(t[0],a[0]),r[1]=Math.min(t[1],a[1]),r[2]=Math.min(t[2],a[2]),r}},5733:function(v,p,r){v.exports=r(105)},105:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]*a[0],r[1]=t[1]*a[1],r[2]=t[2]*a[2],r}},435:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}},899:function(v){v.exports=p;function p(r,t){var a=t[0],n=t[1],u=t[2],s=a*a+n*n+u*u;return s>0&&(s=1/Math.sqrt(s),r[0]=t[0]*s,r[1]=t[1]*s,r[2]=t[2]*s),r}},6660:function(v){v.exports=p;function p(r,t){t=t||1;var a=Math.random()*2*Math.PI,n=Math.random()*2-1,u=Math.sqrt(1-n*n)*t;return r[0]=Math.cos(a)*u,r[1]=Math.sin(a)*u,r[2]=n*t,r}},392:function(v){v.exports=p;function p(r,t,a,n){var u=a[1],s=a[2],l=t[1]-u,m=t[2]-s,h=Math.sin(n),g=Math.cos(n);return r[0]=t[0],r[1]=u+l*g-m*h,r[2]=s+l*h+m*g,r}},3222:function(v){v.exports=p;function p(r,t,a,n){var u=a[0],s=a[2],l=t[0]-u,m=t[2]-s,h=Math.sin(n),g=Math.cos(n);return r[0]=u+m*h+l*g,r[1]=t[1],r[2]=s+m*g-l*h,r}},3388:function(v){v.exports=p;function p(r,t,a,n){var u=a[0],s=a[1],l=t[0]-u,m=t[1]-s,h=Math.sin(n),g=Math.cos(n);return r[0]=u+l*g-m*h,r[1]=s+l*h+m*g,r[2]=t[2],r}},1624:function(v){v.exports=p;function p(r,t){return r[0]=Math.round(t[0]),r[1]=Math.round(t[1]),r[2]=Math.round(t[2]),r}},5685:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]*a,r[1]=t[1]*a,r[2]=t[2]*a,r}},6722:function(v){v.exports=p;function p(r,t,a,n){return r[0]=t[0]+a[0]*n,r[1]=t[1]+a[1]*n,r[2]=t[2]+a[2]*n,r}},831:function(v){v.exports=p;function p(r,t,a,n){return r[0]=t,r[1]=a,r[2]=n,r}},5294:function(v,p,r){v.exports=r(6403)},3303:function(v,p,r){v.exports=r(4337)},6403:function(v){v.exports=p;function p(r,t){var a=t[0]-r[0],n=t[1]-r[1],u=t[2]-r[2];return a*a+n*n+u*u}},4337:function(v){v.exports=p;function p(r){var t=r[0],a=r[1],n=r[2];return t*t+a*a+n*n}},8921:function(v,p,r){v.exports=r(911)},911:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]-a[0],r[1]=t[1]-a[1],r[2]=t[2]-a[2],r}},9908:function(v){v.exports=p;function p(r,t,a){var n=t[0],u=t[1],s=t[2];return r[0]=n*a[0]+u*a[3]+s*a[6],r[1]=n*a[1]+u*a[4]+s*a[7],r[2]=n*a[2]+u*a[5]+s*a[8],r}},3255:function(v){v.exports=p;function p(r,t,a){var n=t[0],u=t[1],s=t[2],l=a[3]*n+a[7]*u+a[11]*s+a[15];return l=l||1,r[0]=(a[0]*n+a[4]*u+a[8]*s+a[12])/l,r[1]=(a[1]*n+a[5]*u+a[9]*s+a[13])/l,r[2]=(a[2]*n+a[6]*u+a[10]*s+a[14])/l,r}},6568:function(v){v.exports=p;function p(r,t,a){var n=t[0],u=t[1],s=t[2],l=a[0],m=a[1],h=a[2],g=a[3],c=g*n+m*s-h*u,o=g*u+h*n-l*s,d=g*s+l*u-m*n,w=-l*n-m*u-h*s;return r[0]=c*g+w*-l+o*-h-d*-m,r[1]=o*g+w*-m+d*-l-c*-h,r[2]=d*g+w*-h+c*-m-o*-l,r}},3433:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]+a[0],r[1]=t[1]+a[1],r[2]=t[2]+a[2],r[3]=t[3]+a[3],r}},1413:function(v){v.exports=p;function p(r){var t=new Float32Array(4);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},3470:function(v){v.exports=p;function p(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},5313:function(v){v.exports=p;function p(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},5446:function(v){v.exports=p;function p(r,t){var a=t[0]-r[0],n=t[1]-r[1],u=t[2]-r[2],s=t[3]-r[3];return Math.sqrt(a*a+n*n+u*u+s*s)}},205:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]/a[0],r[1]=t[1]/a[1],r[2]=t[2]/a[2],r[3]=t[3]/a[3],r}},4242:function(v){v.exports=p;function p(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]}},5680:function(v){v.exports=p;function p(r,t,a,n){var u=new Float32Array(4);return u[0]=r,u[1]=t,u[2]=a,u[3]=n,u}},4020:function(v,p,r){v.exports={create:r(5313),clone:r(1413),fromValues:r(5680),copy:r(3470),set:r(6453),add:r(3433),subtract:r(2705),multiply:r(746),divide:r(205),min:r(2170),max:r(3030),scale:r(5510),scaleAndAdd:r(4224),distance:r(5446),squaredDistance:r(1542),length:r(8177),squaredLength:r(9037),negate:r(6459),inverse:r(8057),normalize:r(381),dot:r(4242),lerp:r(8746),random:r(3770),transformMat4:r(6342),transformQuat:r(5022)}},8057:function(v){v.exports=p;function p(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r[3]=1/t[3],r}},8177:function(v){v.exports=p;function p(r){var t=r[0],a=r[1],n=r[2],u=r[3];return Math.sqrt(t*t+a*a+n*n+u*u)}},8746:function(v){v.exports=p;function p(r,t,a,n){var u=t[0],s=t[1],l=t[2],m=t[3];return r[0]=u+n*(a[0]-u),r[1]=s+n*(a[1]-s),r[2]=l+n*(a[2]-l),r[3]=m+n*(a[3]-m),r}},3030:function(v){v.exports=p;function p(r,t,a){return r[0]=Math.max(t[0],a[0]),r[1]=Math.max(t[1],a[1]),r[2]=Math.max(t[2],a[2]),r[3]=Math.max(t[3],a[3]),r}},2170:function(v){v.exports=p;function p(r,t,a){return r[0]=Math.min(t[0],a[0]),r[1]=Math.min(t[1],a[1]),r[2]=Math.min(t[2],a[2]),r[3]=Math.min(t[3],a[3]),r}},746:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]*a[0],r[1]=t[1]*a[1],r[2]=t[2]*a[2],r[3]=t[3]*a[3],r}},6459:function(v){v.exports=p;function p(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=-t[3],r}},381:function(v){v.exports=p;function p(r,t){var a=t[0],n=t[1],u=t[2],s=t[3],l=a*a+n*n+u*u+s*s;return l>0&&(l=1/Math.sqrt(l),r[0]=a*l,r[1]=n*l,r[2]=u*l,r[3]=s*l),r}},3770:function(v,p,r){var t=r(381),a=r(5510);v.exports=n;function n(u,s){return s=s||1,u[0]=Math.random(),u[1]=Math.random(),u[2]=Math.random(),u[3]=Math.random(),t(u,u),a(u,u,s),u}},5510:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]*a,r[1]=t[1]*a,r[2]=t[2]*a,r[3]=t[3]*a,r}},4224:function(v){v.exports=p;function p(r,t,a,n){return r[0]=t[0]+a[0]*n,r[1]=t[1]+a[1]*n,r[2]=t[2]+a[2]*n,r[3]=t[3]+a[3]*n,r}},6453:function(v){v.exports=p;function p(r,t,a,n,u){return r[0]=t,r[1]=a,r[2]=n,r[3]=u,r}},1542:function(v){v.exports=p;function p(r,t){var a=t[0]-r[0],n=t[1]-r[1],u=t[2]-r[2],s=t[3]-r[3];return a*a+n*n+u*u+s*s}},9037:function(v){v.exports=p;function p(r){var t=r[0],a=r[1],n=r[2],u=r[3];return t*t+a*a+n*n+u*u}},2705:function(v){v.exports=p;function p(r,t,a){return r[0]=t[0]-a[0],r[1]=t[1]-a[1],r[2]=t[2]-a[2],r[3]=t[3]-a[3],r}},6342:function(v){v.exports=p;function p(r,t,a){var n=t[0],u=t[1],s=t[2],l=t[3];return r[0]=a[0]*n+a[4]*u+a[8]*s+a[12]*l,r[1]=a[1]*n+a[5]*u+a[9]*s+a[13]*l,r[2]=a[2]*n+a[6]*u+a[10]*s+a[14]*l,r[3]=a[3]*n+a[7]*u+a[11]*s+a[15]*l,r}},5022:function(v){v.exports=p;function p(r,t,a){var n=t[0],u=t[1],s=t[2],l=a[0],m=a[1],h=a[2],g=a[3],c=g*n+m*s-h*u,o=g*u+h*n-l*s,d=g*s+l*u-m*n,w=-l*n-m*u-h*s;return r[0]=c*g+w*-l+o*-h-d*-m,r[1]=o*g+w*-m+d*-l-c*-h,r[2]=d*g+w*-h+c*-m-o*-l,r[3]=t[3],r}},9365:function(v,p,r){var t=r(8096),a=r(7896);v.exports=n;function n(u){for(var s=Array.isArray(u)?u:t(u),l=0;l<s.length;l++){var m=s[l];if(m.type==="preprocessor"){var h=m.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(h&&h[2]){var g=h[1],c=h[2];return(g?a(c):c).trim()}}}}},3193:function(v,p,r){v.exports=T;var t=r(399),a=r(9746),n=r(9525),u=r(9458),s=r(3585),l=999,m=9999,h=0,g=1,c=2,o=3,d=4,w=5,A=6,C=7,x=8,E=9,M=10,f=11,P=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function T(z){var _=0,V=0,F=l,N,k,I=[],H=[],j=1,ee=0,te=0,ne=!1,ue=!1,q="",Y;z=z||{};var Z=n,G=t;z.version==="300 es"&&(Z=s,G=u);for(var K={},oe={},_=0;_<Z.length;_++)K[Z[_]]=!0;for(var _=0;_<G.length;_++)oe[G[_]]=!0;return function(Ue){return H=[],Ue!==null?J(Ue):se()};function $(Ue){Ue.length&&H.push({type:P[F],data:Ue,position:te,line:j,column:ee})}function J(Ue){_=0,Ue.toString&&(Ue=Ue.toString()),q+=Ue.replace(/\r\n/g,`
`),Y=q.length;for(var Be;N=q[_],_<Y;){switch(Be=_,F){case h:_=Te();break;case g:_=Se();break;case c:_=ye();break;case o:_=ke();break;case d:_=xe();break;case f:_=Ee();break;case w:_=De();break;case m:_=Ve();break;case E:_=ce();break;case l:_=ie();break}if(Be!==_)switch(q[Be]){case`
`:ee=0,++j;break;default:++ee;break}}return V+=_,q=q.slice(_),H}function se(Ue){return I.length&&$(I.join("")),F=M,$("(eof)"),H}function ie(){return I=I.length?[]:I,k==="/"&&N==="*"?(te=V+_-1,F=h,k=N,_+1):k==="/"&&N==="/"?(te=V+_-1,F=g,k=N,_+1):N==="#"?(F=c,te=V+_,_):/\s/.test(N)?(F=E,te=V+_,_):(ne=/\d/.test(N),ue=/[^\w_]/.test(N),te=V+_,F=ne?d:ue?o:m,_)}function ce(){return/[^\s]/g.test(N)?($(I.join("")),F=l,_):(I.push(N),k=N,_+1)}function ye(){return(N==="\r"||N===`
`)&&k!=="\\"?($(I.join("")),F=l,_):(I.push(N),k=N,_+1)}function Se(){return ye()}function Te(){return N==="/"&&k==="*"?(I.push(N),$(I.join("")),F=l,_+1):(I.push(N),k=N,_+1)}function ke(){if(k==="."&&/\d/.test(N))return F=w,_;if(k==="/"&&N==="*")return F=h,_;if(k==="/"&&N==="/")return F=g,_;if(N==="."&&I.length){for(;we(I););return F=w,_}if(N===";"||N===")"||N==="("){if(I.length)for(;we(I););return $(N),F=l,_+1}var Ue=I.length===2&&N!=="=";if(/[\w_\d\s]/.test(N)||Ue){for(;we(I););return F=l,_}return I.push(N),k=N,_+1}function we(Ue){var Be=0,Xe,ot;do{if(Xe=a.indexOf(Ue.slice(0,Ue.length+Be).join("")),ot=a[Xe],Xe===-1){if(Be--+Ue.length>0)continue;ot=Ue.slice(0,1).join("")}return $(ot),te+=ot.length,I=I.slice(ot.length),I.length}while(!0)}function Ee(){return/[^a-fA-F0-9]/.test(N)?($(I.join("")),F=l,_):(I.push(N),k=N,_+1)}function xe(){return N==="."||/[eE]/.test(N)?(I.push(N),F=w,k=N,_+1):N==="x"&&I.length===1&&I[0]==="0"?(F=f,I.push(N),k=N,_+1):/[^\d]/.test(N)?($(I.join("")),F=l,_):(I.push(N),k=N,_+1)}function De(){return N==="f"&&(I.push(N),k=N,_+=1),/[eE]/.test(N)||(N==="-"||N==="+")&&/[eE]/.test(k)?(I.push(N),k=N,_+1):/[^\d]/.test(N)?($(I.join("")),F=l,_):(I.push(N),k=N,_+1)}function Ve(){if(/[^\d\w_]/.test(N)){var Ue=I.join("");return oe[Ue]?F=x:K[Ue]?F=C:F=A,$(I.join("")),F=l,_}return I.push(N),k=N,_+1}}},3585:function(v,p,r){var t=r(9525);t=t.slice().filter(function(a){return!/^(gl\_|texture)/.test(a)}),v.exports=t.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(v,p,r){var t=r(399);v.exports=t.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(v,p,r){var t=r(3193);v.exports=a;function a(n,u){var s=t(u),l=[];return l=l.concat(s(n)),l=l.concat(s(null)),l}},6832:function(v){v.exports=function(p){typeof p=="string"&&(p=[p]);for(var r=[].slice.call(arguments,1),t=[],a=0;a<p.length-1;a++)t.push(p[a],r[a]||"");return t.push(p[a]),t.join("")}},5233:function(v,p,r){var t=r(4846);function a(){var n=!1;try{var u=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,u),window.removeEventListener("test",null,u)}catch{n=!1}return n}v.exports=t&&a()},2183:function(v,p,r){v.exports=o;var t=r(417),a=r(8211).H;function n(d,w,A){this.vertices=d,this.adjacent=w,this.boundary=A,this.lastVisited=-1}n.prototype.flip=function(){var d=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=d;var w=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=w};function u(d,w,A){this.vertices=d,this.cell=w,this.index=A}function s(d,w){return a(d.vertices,w.vertices)}function l(d){return function(){var w=this.tuple;return d.apply(this,w)}}function m(d){var w=t[d+1];return w||(w=t),l(w)}var h=[];function g(d,w,A){this.dimension=d,this.vertices=w,this.simplices=A,this.interior=A.filter(function(E){return!E.boundary}),this.tuple=new Array(d+1);for(var C=0;C<=d;++C)this.tuple[C]=this.vertices[C];var x=h[d];x||(x=h[d]=m(d)),this.orient=x}var c=g.prototype;c.handleBoundaryDegeneracy=function(d,w){var A=this.dimension,C=this.vertices.length-1,x=this.tuple,E=this.vertices,M=[d];for(d.lastVisited=-C;M.length>0;){d=M.pop();for(var f=d.adjacent,P=0;P<=A;++P){var T=f[P];if(!(!T.boundary||T.lastVisited<=-C)){for(var z=T.vertices,_=0;_<=A;++_){var V=z[_];V<0?x[_]=w:x[_]=E[V]}var F=this.orient();if(F>0)return T;T.lastVisited=-C,F===0&&M.push(T)}}}return null},c.walk=function(d,w){var A=this.vertices.length-1,C=this.dimension,x=this.vertices,E=this.tuple,M=w?this.interior.length*Math.random()|0:this.interior.length-1,f=this.interior[M];e:for(;!f.boundary;){for(var P=f.vertices,T=f.adjacent,z=0;z<=C;++z)E[z]=x[P[z]];f.lastVisited=A;for(var z=0;z<=C;++z){var _=T[z];if(!(_.lastVisited>=A)){var V=E[z];E[z]=d;var F=this.orient();if(E[z]=V,F<0){f=_;continue e}else _.boundary?_.lastVisited=-A:_.lastVisited=A}}return}return f},c.addPeaks=function(d,w){var A=this.vertices.length-1,C=this.dimension,x=this.vertices,E=this.tuple,M=this.interior,f=this.simplices,P=[w];w.lastVisited=A,w.vertices[w.vertices.indexOf(-1)]=A,w.boundary=!1,M.push(w);for(var T=[];P.length>0;){var w=P.pop(),z=w.vertices,_=w.adjacent,V=z.indexOf(A);if(!(V<0)){for(var F=0;F<=C;++F)if(F!==V){var N=_[F];if(!(!N.boundary||N.lastVisited>=A)){var k=N.vertices;if(N.lastVisited!==-A){for(var I=0,H=0;H<=C;++H)k[H]<0?(I=H,E[H]=d):E[H]=x[k[H]];var j=this.orient();if(j>0){k[I]=A,N.boundary=!1,M.push(N),P.push(N),N.lastVisited=A;continue}else N.lastVisited=-A}var ee=N.adjacent,te=z.slice(),ne=_.slice(),ue=new n(te,ne,!0);f.push(ue);var q=ee.indexOf(w);if(!(q<0)){ee[q]=ue,ne[V]=N,te[F]=-1,ne[F]=w,_[F]=ue,ue.flip();for(var H=0;H<=C;++H){var Y=te[H];if(!(Y<0||Y===A)){for(var Z=new Array(C-1),G=0,K=0;K<=C;++K){var oe=te[K];oe<0||K===H||(Z[G++]=oe)}T.push(new u(Z,ue,H))}}}}}}}T.sort(s);for(var F=0;F+1<T.length;F+=2){var $=T[F],J=T[F+1],se=$.index,ie=J.index;se<0||ie<0||($.cell.adjacent[$.index]=J.cell,J.cell.adjacent[J.index]=$.cell)}},c.insert=function(d,w){var A=this.vertices;A.push(d);var C=this.walk(d,w);if(C){for(var x=this.dimension,E=this.tuple,M=0;M<=x;++M){var f=C.vertices[M];f<0?E[M]=d:E[M]=A[f]}var P=this.orient(E);P<0||P===0&&(C=this.handleBoundaryDegeneracy(C,d),!C)||this.addPeaks(d,C)}},c.boundary=function(){for(var d=this.dimension,w=[],A=this.simplices,C=A.length,x=0;x<C;++x){var E=A[x];if(E.boundary){for(var M=new Array(d),f=E.vertices,P=0,T=0,z=0;z<=d;++z)f[z]>=0?M[P++]=f[z]:T=z&1;if(T===(d&1)){var _=M[0];M[0]=M[1],M[1]=_}w.push(M)}}return w};function o(d,w){var A=d.length;if(A===0)throw new Error("Must have at least d+1 points");var C=d[0].length;if(A<=C)throw new Error("Must input at least d+1 points");var x=d.slice(0,C+1),E=t.apply(void 0,x);if(E===0)throw new Error("Input not in general position");for(var M=new Array(C+1),f=0;f<=C;++f)M[f]=f;E<0&&(M[0]=1,M[1]=0);for(var P=new n(M,new Array(C+1),!1),T=P.adjacent,z=new Array(C+2),f=0;f<=C;++f){for(var _=M.slice(),V=0;V<=C;++V)V===f&&(_[V]=-1);var F=_[0];_[0]=_[1],_[1]=F;var N=new n(_,new Array(C+1),!0);T[f]=N,z[f]=N}z[C+1]=P;for(var f=0;f<=C;++f)for(var _=T[f].vertices,k=T[f].adjacent,V=0;V<=C;++V){var I=_[V];if(I<0){k[V]=P;continue}for(var H=0;H<=C;++H)T[H].vertices.indexOf(I)<0&&(k[V]=T[H])}for(var j=new g(C,x,z),ee=!!w,f=C+1;f<A;++f)j.insert(d[f],ee);return j.boundary()}},9014:function(v,p,r){var t=r(5070),a=0,n=1,u=2;v.exports=P;function s(T,z,_,V,F){this.mid=T,this.left=z,this.right=_,this.leftPoints=V,this.rightPoints=F,this.count=(z?z.count:0)+(_?_.count:0)+V.length}var l=s.prototype;function m(T,z){T.mid=z.mid,T.left=z.left,T.right=z.right,T.leftPoints=z.leftPoints,T.rightPoints=z.rightPoints,T.count=z.count}function h(T,z){var _=E(z);T.mid=_.mid,T.left=_.left,T.right=_.right,T.leftPoints=_.leftPoints,T.rightPoints=_.rightPoints,T.count=_.count}function g(T,z){var _=T.intervals([]);_.push(z),h(T,_)}function c(T,z){var _=T.intervals([]),V=_.indexOf(z);return V<0?a:(_.splice(V,1),h(T,_),n)}l.intervals=function(T){return T.push.apply(T,this.leftPoints),this.left&&this.left.intervals(T),this.right&&this.right.intervals(T),T},l.insert=function(T){var z=this.count-this.leftPoints.length;if(this.count+=1,T[1]<this.mid)this.left?4*(this.left.count+1)>3*(z+1)?g(this,T):this.left.insert(T):this.left=E([T]);else if(T[0]>this.mid)this.right?4*(this.right.count+1)>3*(z+1)?g(this,T):this.right.insert(T):this.right=E([T]);else{var _=t.ge(this.leftPoints,T,C),V=t.ge(this.rightPoints,T,x);this.leftPoints.splice(_,0,T),this.rightPoints.splice(V,0,T)}},l.remove=function(T){var z=this.count-this.leftPoints;if(T[1]<this.mid){if(!this.left)return a;var _=this.right?this.right.count:0;if(4*_>3*(z-1))return c(this,T);var V=this.left.remove(T);return V===u?(this.left=null,this.count-=1,n):(V===n&&(this.count-=1),V)}else if(T[0]>this.mid){if(!this.right)return a;var F=this.left?this.left.count:0;if(4*F>3*(z-1))return c(this,T);var V=this.right.remove(T);return V===u?(this.right=null,this.count-=1,n):(V===n&&(this.count-=1),V)}else{if(this.count===1)return this.leftPoints[0]===T?u:a;if(this.leftPoints.length===1&&this.leftPoints[0]===T){if(this.left&&this.right){for(var N=this,k=this.left;k.right;)N=k,k=k.right;if(N===this)k.right=this.right;else{var I=this.left,V=this.right;N.count-=k.count,N.right=k.left,k.left=I,k.right=V}m(this,k),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?m(this,this.left):m(this,this.right);return n}for(var I=t.ge(this.leftPoints,T,C);I<this.leftPoints.length&&this.leftPoints[I][0]===T[0];++I)if(this.leftPoints[I]===T){this.count-=1,this.leftPoints.splice(I,1);for(var V=t.ge(this.rightPoints,T,x);V<this.rightPoints.length&&this.rightPoints[V][1]===T[1];++V)if(this.rightPoints[V]===T)return this.rightPoints.splice(V,1),n}return a}};function o(T,z,_){for(var V=0;V<T.length&&T[V][0]<=z;++V){var F=_(T[V]);if(F)return F}}function d(T,z,_){for(var V=T.length-1;V>=0&&T[V][1]>=z;--V){var F=_(T[V]);if(F)return F}}function w(T,z){for(var _=0;_<T.length;++_){var V=z(T[_]);if(V)return V}}l.queryPoint=function(T,z){if(T<this.mid){if(this.left){var _=this.left.queryPoint(T,z);if(_)return _}return o(this.leftPoints,T,z)}else if(T>this.mid){if(this.right){var _=this.right.queryPoint(T,z);if(_)return _}return d(this.rightPoints,T,z)}else return w(this.leftPoints,z)},l.queryInterval=function(T,z,_){if(T<this.mid&&this.left){var V=this.left.queryInterval(T,z,_);if(V)return V}if(z>this.mid&&this.right){var V=this.right.queryInterval(T,z,_);if(V)return V}return z<this.mid?o(this.leftPoints,z,_):T>this.mid?d(this.rightPoints,T,_):w(this.leftPoints,_)};function A(T,z){return T-z}function C(T,z){var _=T[0]-z[0];return _||T[1]-z[1]}function x(T,z){var _=T[1]-z[1];return _||T[0]-z[0]}function E(T){if(T.length===0)return null;for(var z=[],_=0;_<T.length;++_)z.push(T[_][0],T[_][1]);z.sort(A);for(var V=z[z.length>>1],F=[],N=[],k=[],_=0;_<T.length;++_){var I=T[_];I[1]<V?F.push(I):V<I[0]?N.push(I):k.push(I)}var H=k,j=k.slice();return H.sort(C),j.sort(x),new s(V,E(F),E(N),H,j)}function M(T){this.root=T}var f=M.prototype;f.insert=function(T){this.root?this.root.insert(T):this.root=new s(T[0],null,null,[T],[T])},f.remove=function(T){if(this.root){var z=this.root.remove(T);return z===u&&(this.root=null),z!==a}return!1},f.queryPoint=function(T,z){if(this.root)return this.root.queryPoint(T,z)},f.queryInterval=function(T,z,_){if(T<=z&&this.root)return this.root.queryInterval(T,z,_)},Object.defineProperty(f,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(f,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function P(T){return!T||T.length===0?new M(null):new M(E(T))}},9560:function(v){function p(r){for(var t=new Array(r),a=0;a<r;++a)t[a]=a;return t}v.exports=p},4846:function(v){v.exports=!0},4780:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(t){return t!=null&&(p(t)||r(t)||!!t._isBuffer)};function p(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function r(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&p(t.slice(0,0))}},3596:function(v){v.exports=function(p){for(var r=p.length,t,a=0;a<r;a++)if(t=p.charCodeAt(a),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},3578:function(v){function p(r,t,a){return r*(1-a)+t*a}v.exports=p},7191:function(v,p,r){var t=r(4690),a=r(9823),n=r(7332),u=r(7787),s=r(7437),l=r(2142),m={length:r(4693),normalize:r(899),dot:r(9305),cross:r(903)},h=a(),g=a(),c=[0,0,0,0],o=[[0,0,0],[0,0,0],[0,0,0]],d=[0,0,0];v.exports=function(E,M,f,P,T,z){if(M||(M=[0,0,0]),f||(f=[0,0,0]),P||(P=[0,0,0]),T||(T=[0,0,0,1]),z||(z=[0,0,0,1]),!t(h,E)||(n(g,h),g[3]=0,g[7]=0,g[11]=0,g[15]=1,Math.abs(u(g)<1e-8)))return!1;var _=h[3],V=h[7],F=h[11],N=h[12],k=h[13],I=h[14],H=h[15];if(_!==0||V!==0||F!==0){c[0]=_,c[1]=V,c[2]=F,c[3]=H;var j=s(g,g);if(!j)return!1;l(g,g),w(T,c,g)}else T[0]=T[1]=T[2]=0,T[3]=1;if(M[0]=N,M[1]=k,M[2]=I,A(o,h),f[0]=m.length(o[0]),m.normalize(o[0],o[0]),P[0]=m.dot(o[0],o[1]),C(o[1],o[1],o[0],1,-P[0]),f[1]=m.length(o[1]),m.normalize(o[1],o[1]),P[0]/=f[1],P[1]=m.dot(o[0],o[2]),C(o[2],o[2],o[0],1,-P[1]),P[2]=m.dot(o[1],o[2]),C(o[2],o[2],o[1],1,-P[2]),f[2]=m.length(o[2]),m.normalize(o[2],o[2]),P[1]/=f[2],P[2]/=f[2],m.cross(d,o[1],o[2]),m.dot(o[0],d)<0)for(var ee=0;ee<3;ee++)f[ee]*=-1,o[ee][0]*=-1,o[ee][1]*=-1,o[ee][2]*=-1;return z[0]=.5*Math.sqrt(Math.max(1+o[0][0]-o[1][1]-o[2][2],0)),z[1]=.5*Math.sqrt(Math.max(1-o[0][0]+o[1][1]-o[2][2],0)),z[2]=.5*Math.sqrt(Math.max(1-o[0][0]-o[1][1]+o[2][2],0)),z[3]=.5*Math.sqrt(Math.max(1+o[0][0]+o[1][1]+o[2][2],0)),o[2][1]>o[1][2]&&(z[0]=-z[0]),o[0][2]>o[2][0]&&(z[1]=-z[1]),o[1][0]>o[0][1]&&(z[2]=-z[2]),!0};function w(x,E,M){var f=E[0],P=E[1],T=E[2],z=E[3];return x[0]=M[0]*f+M[4]*P+M[8]*T+M[12]*z,x[1]=M[1]*f+M[5]*P+M[9]*T+M[13]*z,x[2]=M[2]*f+M[6]*P+M[10]*T+M[14]*z,x[3]=M[3]*f+M[7]*P+M[11]*T+M[15]*z,x}function A(x,E){x[0][0]=E[0],x[0][1]=E[1],x[0][2]=E[2],x[1][0]=E[4],x[1][1]=E[5],x[1][2]=E[6],x[2][0]=E[8],x[2][1]=E[9],x[2][2]=E[10]}function C(x,E,M,f,P){x[0]=E[0]*f+M[0]*P,x[1]=E[1]*f+M[1]*P,x[2]=E[2]*f+M[2]*P}},4690:function(v){v.exports=function(r,t){var a=t[15];if(a===0)return!1;for(var n=1/a,u=0;u<16;u++)r[u]=t[u]*n;return!0}},7649:function(v,p,r){var t=r(1868),a=r(1102),n=r(7191),u=r(7787),s=r(1116),l=c(),m=c(),h=c();v.exports=g;function g(w,A,C,x){if(u(A)===0||u(C)===0)return!1;var E=n(A,l.translate,l.scale,l.skew,l.perspective,l.quaternion),M=n(C,m.translate,m.scale,m.skew,m.perspective,m.quaternion);return!E||!M?!1:(t(h.translate,l.translate,m.translate,x),t(h.skew,l.skew,m.skew,x),t(h.scale,l.scale,m.scale,x),t(h.perspective,l.perspective,m.perspective,x),s(h.quaternion,l.quaternion,m.quaternion,x),a(w,h.translate,h.scale,h.skew,h.perspective,h.quaternion),!0)}function c(){return{translate:o(),scale:o(1),skew:o(),perspective:d(),quaternion:d()}}function o(w){return[w||0,w||0,w||0]}function d(){return[0,0,0,1]}},1102:function(v,p,r){var t={identity:r(9947),translate:r(998),multiply:r(104),create:r(9823),scale:r(3668),fromRotationTranslation:r(7280)};t.create();var a=t.create();v.exports=function(u,s,l,m,h,g){return t.identity(u),t.fromRotationTranslation(u,g,s),u[3]=h[0],u[7]=h[1],u[11]=h[2],u[15]=h[3],t.identity(a),m[2]!==0&&(a[9]=m[2],t.multiply(u,u,a)),m[1]!==0&&(a[9]=0,a[8]=m[1],t.multiply(u,u,a)),m[0]!==0&&(a[8]=0,a[4]=m[0],t.multiply(u,u,a)),t.scale(u,u,l),u}},9298:function(v,p,r){var t=r(5070),a=r(7649),n=r(7437),u=r(6109),s=r(7115),l=r(5240),m=r(3012),h=r(998);r(3668);var g=r(899),c=[0,0,0];v.exports=A;function o(C){this._components=C.slice(),this._time=[0],this.prevMatrix=C.slice(),this.nextMatrix=C.slice(),this.computedMatrix=C.slice(),this.computedInverse=C.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var d=o.prototype;d.recalcMatrix=function(C){var x=this._time,E=t.le(x,C),M=this.computedMatrix;if(!(E<0)){var f=this._components;if(E===x.length-1)for(var P=16*E,T=0;T<16;++T)M[T]=f[P++];else{for(var z=x[E+1]-x[E],P=16*E,_=this.prevMatrix,V=!0,T=0;T<16;++T)_[T]=f[P++];for(var F=this.nextMatrix,T=0;T<16;++T)F[T]=f[P++],V=V&&_[T]===F[T];if(z<1e-6||V)for(var T=0;T<16;++T)M[T]=_[T];else a(M,_,F,(C-x[E])/z)}var N=this.computedUp;N[0]=M[1],N[1]=M[5],N[2]=M[9],g(N,N);var k=this.computedInverse;n(k,M);var I=this.computedEye,H=k[15];I[0]=k[12]/H,I[1]=k[13]/H,I[2]=k[14]/H;for(var j=this.computedCenter,ee=Math.exp(this.computedRadius[0]),T=0;T<3;++T)j[T]=I[T]-M[2+4*T]*ee}},d.idle=function(C){if(!(C<this.lastT())){for(var x=this._components,E=x.length-16,M=0;M<16;++M)x.push(x[E++]);this._time.push(C)}},d.flush=function(C){var x=t.gt(this._time,C)-2;x<0||(this._time.splice(0,x),this._components.splice(0,16*x))},d.lastT=function(){return this._time[this._time.length-1]},d.lookAt=function(C,x,E,M){this.recalcMatrix(C),x=x||this.computedEye,E=E||c,M=M||this.computedUp,this.setMatrix(C,m(this.computedMatrix,x,E,M));for(var f=0,P=0;P<3;++P)f+=Math.pow(E[P]-x[P],2);f=Math.log(Math.sqrt(f)),this.computedRadius[0]=f},d.rotate=function(C,x,E,M){this.recalcMatrix(C);var f=this.computedInverse;x&&s(f,f,x),E&&u(f,f,E),M&&l(f,f,M),this.setMatrix(C,n(this.computedMatrix,f))};var w=[0,0,0];d.pan=function(C,x,E,M){w[0]=-(x||0),w[1]=-(E||0),w[2]=-(M||0),this.recalcMatrix(C);var f=this.computedInverse;h(f,f,w),this.setMatrix(C,n(f,f))},d.translate=function(C,x,E,M){w[0]=x||0,w[1]=E||0,w[2]=M||0,this.recalcMatrix(C);var f=this.computedMatrix;h(f,f,w),this.setMatrix(C,f)},d.setMatrix=function(C,x){if(!(C<this.lastT())){this._time.push(C);for(var E=0;E<16;++E)this._components.push(x[E])}},d.setDistance=function(C,x){this.computedRadius[0]=x},d.setDistanceLimits=function(C,x){var E=this._limits;E[0]=C,E[1]=x},d.getDistanceLimits=function(C){var x=this._limits;return C?(C[0]=x[0],C[1]=x[1],C):x};function A(C){C=C||{};var x=C.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new o(x)}},3266:function(v,p,r){v.exports=a;var t=r(417)[3];function a(n){var u=n.length;if(u<3){for(var d=new Array(u),s=0;s<u;++s)d[s]=s;return u===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:d}for(var l=new Array(u),s=0;s<u;++s)l[s]=s;l.sort(function(x,E){var M=n[x][0]-n[E][0];return M||n[x][1]-n[E][1]});for(var m=[l[0],l[1]],h=[l[0],l[1]],s=2;s<u;++s){for(var g=l[s],c=n[g],o=m.length;o>1&&t(n[m[o-2]],n[m[o-1]],c)<=0;)o-=1,m.pop();for(m.push(g),o=h.length;o>1&&t(n[h[o-2]],n[h[o-1]],c)>=0;)o-=1,h.pop();h.push(g)}for(var d=new Array(h.length+m.length-2),w=0,s=0,A=m.length;s<A;++s)d[w++]=m[s];for(var C=h.length-2;C>0;--C)d[w++]=h[C];return d}},6145:function(v,p,r){v.exports=a;var t=r(4110);function a(n,u){u||(u=n,n=window);var s=0,l=0,m=0,h={shift:!1,alt:!1,control:!1,meta:!1},g=!1;function c(T){var z=!1;return"altKey"in T&&(z=z||T.altKey!==h.alt,h.alt=!!T.altKey),"shiftKey"in T&&(z=z||T.shiftKey!==h.shift,h.shift=!!T.shiftKey),"ctrlKey"in T&&(z=z||T.ctrlKey!==h.control,h.control=!!T.ctrlKey),"metaKey"in T&&(z=z||T.metaKey!==h.meta,h.meta=!!T.metaKey),z}function o(T,z){var _=t.x(z),V=t.y(z);"buttons"in z&&(T=z.buttons|0),(T!==s||_!==l||V!==m||c(z))&&(s=T|0,l=_||0,m=V||0,u&&u(s,l,m,h))}function d(T){o(0,T)}function w(){(s||l||m||h.shift||h.alt||h.meta||h.control)&&(l=m=0,s=0,h.shift=h.alt=h.control=h.meta=!1,u&&u(0,0,0,h))}function A(T){c(T)&&u&&u(s,l,m,h)}function C(T){t.buttons(T)===0?o(0,T):o(s,T)}function x(T){o(s|t.buttons(T),T)}function E(T){o(s&~t.buttons(T),T)}function M(){g||(g=!0,n.addEventListener("mousemove",C),n.addEventListener("mousedown",x),n.addEventListener("mouseup",E),n.addEventListener("mouseleave",d),n.addEventListener("mouseenter",d),n.addEventListener("mouseout",d),n.addEventListener("mouseover",d),n.addEventListener("blur",w),n.addEventListener("keyup",A),n.addEventListener("keydown",A),n.addEventListener("keypress",A),n!==window&&(window.addEventListener("blur",w),window.addEventListener("keyup",A),window.addEventListener("keydown",A),window.addEventListener("keypress",A)))}function f(){g&&(g=!1,n.removeEventListener("mousemove",C),n.removeEventListener("mousedown",x),n.removeEventListener("mouseup",E),n.removeEventListener("mouseleave",d),n.removeEventListener("mouseenter",d),n.removeEventListener("mouseout",d),n.removeEventListener("mouseover",d),n.removeEventListener("blur",w),n.removeEventListener("keyup",A),n.removeEventListener("keydown",A),n.removeEventListener("keypress",A),n!==window&&(window.removeEventListener("blur",w),window.removeEventListener("keyup",A),window.removeEventListener("keydown",A),window.removeEventListener("keypress",A)))}M();var P={element:n};return Object.defineProperties(P,{enabled:{get:function(){return g},set:function(T){T?M():f()},enumerable:!0},buttons:{get:function(){return s},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return m},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),P}},2565:function(v){var p={left:0,top:0};v.exports=r;function r(a,n,u){n=n||a.currentTarget||a.srcElement,Array.isArray(u)||(u=[0,0]);var s=a.clientX||0,l=a.clientY||0,m=t(n);return u[0]=s-m.left,u[1]=l-m.top,u}function t(a){return a===window||a===document||a===document.body?p:a.getBoundingClientRect()}},4110:function(v,p){function r(u){if(typeof u=="object"){if("buttons"in u)return u.buttons;if("which"in u){var s=u.which;if(s===2)return 4;if(s===3)return 2;if(s>0)return 1<<s-1}else if("button"in u){var s=u.button;if(s===1)return 4;if(s===2)return 2;if(s>=0)return 1<<s}}return 0}p.buttons=r;function t(u){return u.target||u.srcElement||window}p.element=t;function a(u){if(typeof u=="object"){if("offsetX"in u)return u.offsetX;var s=t(u),l=s.getBoundingClientRect();return u.clientX-l.left}return 0}p.x=a;function n(u){if(typeof u=="object"){if("offsetY"in u)return u.offsetY;var s=t(u),l=s.getBoundingClientRect();return u.clientY-l.top}return 0}p.y=n},6475:function(v,p,r){var t=r(14);v.exports=a;function a(n,u,s){typeof n=="function"&&(s=!!u,u=n,n=window);var l=t("ex",n),m=function(h){s&&h.preventDefault();var g=h.deltaX||0,c=h.deltaY||0,o=h.deltaZ||0,d=h.deltaMode,w=1;switch(d){case 1:w=l;break;case 2:w=window.innerHeight;break}if(g*=w,c*=w,o*=w,g||c||o)return u(g,c,o,h)};return n.addEventListener("wheel",m),m}},9284:function(v,p,r){var t=r(5306);v.exports=u;var a={"false,0,1":function(l,m,h,g,c){return function(d,w,A,C){var x=d.shape[0]|0,E=d.shape[1]|0,M=d.data,f=d.offset|0,P=d.stride[0]|0,T=d.stride[1]|0,z=f,_,V=-P|0,F=0,N=-T|0,k=0,I=-P-T|0,H=0,j=P|0,ee=T-P*x|0,te=0,ne=0,ue=0,q=2*x|0,Y=g(q),Z=g(q),G=0,K=0,oe=-1,$=-1,J=0,se=-x|0,ie=x|0,ce=0,ye=-x-1|0,Se=x-1|0,Te=0,ke=0,we=0;for(te=0;te<x;++te)Y[G++]=h(M[z],w,A,C),z+=j;if(z+=ee,E>0){if(ne=1,Y[G++]=h(M[z],w,A,C),z+=j,x>0)for(te=1,_=M[z],K=Y[G]=h(_,w,A,C),J=Y[G+oe],ce=Y[G+se],Te=Y[G+ye],(K!==J||K!==ce||K!==Te)&&(F=M[z+V],k=M[z+N],H=M[z+I],l(te,ne,_,F,k,H,K,J,ce,Te,w,A,C),ke=Z[G]=ue++),G+=1,z+=j,te=2;te<x;++te)_=M[z],K=Y[G]=h(_,w,A,C),J=Y[G+oe],ce=Y[G+se],Te=Y[G+ye],(K!==J||K!==ce||K!==Te)&&(F=M[z+V],k=M[z+N],H=M[z+I],l(te,ne,_,F,k,H,K,J,ce,Te,w,A,C),ke=Z[G]=ue++,Te!==J&&m(Z[G+oe],ke,H,F,Te,J,w,A,C)),G+=1,z+=j;for(z+=ee,G=0,we=oe,oe=$,$=we,we=se,se=ie,ie=we,we=ye,ye=Se,Se=we,ne=2;ne<E;++ne){if(Y[G++]=h(M[z],w,A,C),z+=j,x>0)for(te=1,_=M[z],K=Y[G]=h(_,w,A,C),J=Y[G+oe],ce=Y[G+se],Te=Y[G+ye],(K!==J||K!==ce||K!==Te)&&(F=M[z+V],k=M[z+N],H=M[z+I],l(te,ne,_,F,k,H,K,J,ce,Te,w,A,C),ke=Z[G]=ue++,Te!==ce&&m(Z[G+se],ke,k,H,ce,Te,w,A,C)),G+=1,z+=j,te=2;te<x;++te)_=M[z],K=Y[G]=h(_,w,A,C),J=Y[G+oe],ce=Y[G+se],Te=Y[G+ye],(K!==J||K!==ce||K!==Te)&&(F=M[z+V],k=M[z+N],H=M[z+I],l(te,ne,_,F,k,H,K,J,ce,Te,w,A,C),ke=Z[G]=ue++,Te!==ce&&m(Z[G+se],ke,k,H,ce,Te,w,A,C),Te!==J&&m(Z[G+oe],ke,H,F,Te,J,w,A,C)),G+=1,z+=j;ne&1&&(G=0),we=oe,oe=$,$=we,we=se,se=ie,ie=we,we=ye,ye=Se,Se=we,z+=ee}}c(Z),c(Y)}},"false,1,0":function(l,m,h,g,c){return function(d,w,A,C){var x=d.shape[0]|0,E=d.shape[1]|0,M=d.data,f=d.offset|0,P=d.stride[0]|0,T=d.stride[1]|0,z=f,_,V=-P|0,F=0,N=-T|0,k=0,I=-P-T|0,H=0,j=T|0,ee=P-T*E|0,te=0,ne=0,ue=0,q=2*E|0,Y=g(q),Z=g(q),G=0,K=0,oe=-1,$=-1,J=0,se=-E|0,ie=E|0,ce=0,ye=-E-1|0,Se=E-1|0,Te=0,ke=0,we=0;for(ne=0;ne<E;++ne)Y[G++]=h(M[z],w,A,C),z+=j;if(z+=ee,x>0){if(te=1,Y[G++]=h(M[z],w,A,C),z+=j,E>0)for(ne=1,_=M[z],K=Y[G]=h(_,w,A,C),ce=Y[G+se],J=Y[G+oe],Te=Y[G+ye],(K!==ce||K!==J||K!==Te)&&(F=M[z+V],k=M[z+N],H=M[z+I],l(te,ne,_,F,k,H,K,ce,J,Te,w,A,C),ke=Z[G]=ue++),G+=1,z+=j,ne=2;ne<E;++ne)_=M[z],K=Y[G]=h(_,w,A,C),ce=Y[G+se],J=Y[G+oe],Te=Y[G+ye],(K!==ce||K!==J||K!==Te)&&(F=M[z+V],k=M[z+N],H=M[z+I],l(te,ne,_,F,k,H,K,ce,J,Te,w,A,C),ke=Z[G]=ue++,Te!==J&&m(Z[G+oe],ke,k,H,J,Te,w,A,C)),G+=1,z+=j;for(z+=ee,G=0,we=se,se=ie,ie=we,we=oe,oe=$,$=we,we=ye,ye=Se,Se=we,te=2;te<x;++te){if(Y[G++]=h(M[z],w,A,C),z+=j,E>0)for(ne=1,_=M[z],K=Y[G]=h(_,w,A,C),ce=Y[G+se],J=Y[G+oe],Te=Y[G+ye],(K!==ce||K!==J||K!==Te)&&(F=M[z+V],k=M[z+N],H=M[z+I],l(te,ne,_,F,k,H,K,ce,J,Te,w,A,C),ke=Z[G]=ue++,Te!==ce&&m(Z[G+se],ke,H,F,Te,ce,w,A,C)),G+=1,z+=j,ne=2;ne<E;++ne)_=M[z],K=Y[G]=h(_,w,A,C),ce=Y[G+se],J=Y[G+oe],Te=Y[G+ye],(K!==ce||K!==J||K!==Te)&&(F=M[z+V],k=M[z+N],H=M[z+I],l(te,ne,_,F,k,H,K,ce,J,Te,w,A,C),ke=Z[G]=ue++,Te!==J&&m(Z[G+oe],ke,k,H,J,Te,w,A,C),Te!==ce&&m(Z[G+se],ke,H,F,Te,ce,w,A,C)),G+=1,z+=j;te&1&&(G=0),we=se,se=ie,ie=we,we=oe,oe=$,$=we,we=ye,ye=Se,Se=we,z+=ee}}c(Z),c(Y)}}};function n(s,l,m,h,g,c){var o=[c,g].join(","),d=a[o];return d(s,l,m,t.mallocUint32,t.freeUint32)}function u(s){function l(w){throw new Error("ndarray-extract-contour: "+w)}typeof s!="object"&&l("Must specify arguments");var m=s.order;Array.isArray(m)||l("Must specify order");var h=s.arrayArguments||1;h<1&&l("Must have at least one array argument");var g=s.scalarArguments||0;g<0&&l("Scalar arg count must be > 0"),typeof s.vertex!="function"&&l("Must specify vertex creation function"),typeof s.cell!="function"&&l("Must specify cell creation function"),typeof s.phase!="function"&&l("Must specify phase function");for(var c=s.getters||[],o=new Array(h),d=0;d<h;++d)c.indexOf(d)>=0?o[d]=!0:o[d]=!1;return n(s.vertex,s.cell,s.phase,g,m,o)}},9144:function(v,p,r){var t=r(3094),a={zero:function(A,C,x,E){var M=A[0],f=x[0];E|=0;var P=0,T=f;for(P=0;P<M;++P)C[E]=0,E+=T},fdTemplate1:function(A,C,x,E,M,f,P){var T=A[0],z=x[0],_=f[0],V=-1*z,F=z;E|=0,P|=0;var N=0,k=z,I=_;for(N=0;N<T;++N)M[P]=.5*(C[E+V]-C[E+F]),E+=k,P+=I},fdTemplate2:function(A,C,x,E,M,f,P,T,z,_){var V=A[0],F=A[1],N=x[0],k=x[1],I=f[0],H=f[1],j=z[0],ee=z[1],te=-1*N,ne=N,ue=-1*k,q=k;E|=0,P|=0,_|=0;var Y=0,Z=0,G=k,K=N-F*k,oe=H,$=I-F*H,J=ee,se=j-F*ee;for(Z=0;Z<V;++Z){for(Y=0;Y<F;++Y)M[P]=.5*(C[E+te]-C[E+ne]),T[_]=.5*(C[E+ue]-C[E+q]),E+=G,P+=oe,_+=J;E+=K,P+=$,_+=se}}},n={cdiff:function(A){var C={};return function(E,M,f){var P=E.dtype,T=E.order,z=M.dtype,_=M.order,V=f.dtype,F=f.order,N=[P,T.join(),z,_.join(),V,F.join()].join(),k=C[N];return k||(C[N]=k=A([P,T,z,_,V,F])),k(E.shape.slice(0),E.data,E.stride,E.offset|0,M.data,M.stride,M.offset|0,f.data,f.stride,f.offset|0)}},zero:function(A){var C={};return function(E){var M=E.dtype,f=E.order,P=[M,f.join()].join(),T=C[P];return T||(C[P]=T=A([M,f])),T(E.shape.slice(0),E.data,E.stride,E.offset|0)}},fdTemplate1:function(A){var C={};return function(E,M){var f=E.dtype,P=E.order,T=M.dtype,z=M.order,_=[f,P.join(),T,z.join()].join(),V=C[_];return V||(C[_]=V=A([f,P,T,z])),V(E.shape.slice(0),E.data,E.stride,E.offset|0,M.data,M.stride,M.offset|0)}},fdTemplate2:function(A){var C={};return function(E,M,f){var P=E.dtype,T=E.order,z=M.dtype,_=M.order,V=f.dtype,F=f.order,N=[P,T.join(),z,_.join(),V,F.join()].join(),k=C[N];return k||(C[N]=k=A([P,T,z,_,V,F])),k(E.shape.slice(0),E.data,E.stride,E.offset|0,M.data,M.stride,M.offset|0,f.data,f.stride,f.offset|0)}}};function u(A){var C=n[A.funcName];return C(s.bind(void 0,A))}function s(A){return a[A.funcName]}function l(A){return u({funcName:A.funcName})}var m={},h={},g=l({funcName:"cdiff"}),c=l({funcName:"zero"});function o(A){return A in m?m[A]:m[A]=l({funcName:"fdTemplate"+A})}function d(A,C,x,E){return function(M,f){var P=f.shape.slice();return P[0]>2&&P[1]>2&&E(f.pick(-1,-1).lo(1,1).hi(P[0]-2,P[1]-2),M.pick(-1,-1,0).lo(1,1).hi(P[0]-2,P[1]-2),M.pick(-1,-1,1).lo(1,1).hi(P[0]-2,P[1]-2)),P[1]>2&&(x(f.pick(0,-1).lo(1).hi(P[1]-2),M.pick(0,-1,1).lo(1).hi(P[1]-2)),C(M.pick(0,-1,0).lo(1).hi(P[1]-2))),P[1]>2&&(x(f.pick(P[0]-1,-1).lo(1).hi(P[1]-2),M.pick(P[0]-1,-1,1).lo(1).hi(P[1]-2)),C(M.pick(P[0]-1,-1,0).lo(1).hi(P[1]-2))),P[0]>2&&(x(f.pick(-1,0).lo(1).hi(P[0]-2),M.pick(-1,0,0).lo(1).hi(P[0]-2)),C(M.pick(-1,0,1).lo(1).hi(P[0]-2))),P[0]>2&&(x(f.pick(-1,P[1]-1).lo(1).hi(P[0]-2),M.pick(-1,P[1]-1,0).lo(1).hi(P[0]-2)),C(M.pick(-1,P[1]-1,1).lo(1).hi(P[0]-2))),M.set(0,0,0,0),M.set(0,0,1,0),M.set(P[0]-1,0,0,0),M.set(P[0]-1,0,1,0),M.set(0,P[1]-1,0,0),M.set(0,P[1]-1,1,0),M.set(P[0]-1,P[1]-1,0,0),M.set(P[0]-1,P[1]-1,1,0),M}}function w(A){var C=A.join(),P=h[C];if(P)return P;for(var x=A.length,E=[g,c],M=1;M<=x;++M)E.push(o(M));var f=d,P=f.apply(void 0,E);return h[C]=P,P}v.exports=function(C,x,E){if(Array.isArray(E)||(typeof E=="string"?E=t(x.dimension,E):E=t(x.dimension,"clamp")),x.size===0)return C;if(x.dimension===0)return C.set(0),C;var M=w(E);return M(C,x)}},3581:function(v){function p(u,s){var l=Math.floor(s),m=s-l,h=0<=l&&l<u.shape[0],g=0<=l+1&&l+1<u.shape[0],c=h?+u.get(l):0,o=g?+u.get(l+1):0;return(1-m)*c+m*o}function r(u,s,l){var m=Math.floor(s),h=s-m,g=0<=m&&m<u.shape[0],c=0<=m+1&&m+1<u.shape[0],o=Math.floor(l),d=l-o,w=0<=o&&o<u.shape[1],A=0<=o+1&&o+1<u.shape[1],C=g&&w?u.get(m,o):0,x=g&&A?u.get(m,o+1):0,E=c&&w?u.get(m+1,o):0,M=c&&A?u.get(m+1,o+1):0;return(1-d)*((1-h)*C+h*E)+d*((1-h)*x+h*M)}function t(u,s,l,m){var h=Math.floor(s),g=s-h,c=0<=h&&h<u.shape[0],o=0<=h+1&&h+1<u.shape[0],d=Math.floor(l),w=l-d,A=0<=d&&d<u.shape[1],C=0<=d+1&&d+1<u.shape[1],x=Math.floor(m),E=m-x,M=0<=x&&x<u.shape[2],f=0<=x+1&&x+1<u.shape[2],P=c&&A&&M?u.get(h,d,x):0,T=c&&C&&M?u.get(h,d+1,x):0,z=o&&A&&M?u.get(h+1,d,x):0,_=o&&C&&M?u.get(h+1,d+1,x):0,V=c&&A&&f?u.get(h,d,x+1):0,F=c&&C&&f?u.get(h,d+1,x+1):0,N=o&&A&&f?u.get(h+1,d,x+1):0,k=o&&C&&f?u.get(h+1,d+1,x+1):0;return(1-E)*((1-w)*((1-g)*P+g*z)+w*((1-g)*T+g*_))+E*((1-w)*((1-g)*V+g*N)+w*((1-g)*F+g*k))}function a(u){var s=u.shape.length|0,l=new Array(s),m=new Array(s),h=new Array(s),g=new Array(s),c,o;for(c=0;c<s;++c)o=+arguments[c+1],l[c]=Math.floor(o),m[c]=o-l[c],h[c]=0<=l[c]&&l[c]<u.shape[c],g[c]=0<=l[c]+1&&l[c]+1<u.shape[c];var d=0,w,A,C;e:for(c=0;c<1<<s;++c){for(A=1,C=u.offset,w=0;w<s;++w)if(c&1<<w){if(!g[w])continue e;A*=m[w],C+=u.stride[w]*(l[w]+1)}else{if(!h[w])continue e;A*=1-m[w],C+=u.stride[w]*l[w]}d+=A*u.data[C]}return d}function n(u,s,l,m){switch(u.shape.length){case 0:return 0;case 1:return p(u,s);case 2:return r(u,s,l);case 3:return t(u,s,l,m);default:return a.apply(void 0,arguments)}}v.exports=n,v.exports.d1=p,v.exports.d2=r,v.exports.d3=t},7498:function(v,p){var r={"float64,2,1,0":function(){return function(h,g,c,o,d){var w=h[0],A=h[1],C=h[2],x=c[0],E=c[1],M=c[2];o|=0;var f=0,P=0,T=0,z=M,_=E-C*M,V=x-A*E;for(T=0;T<w;++T){for(P=0;P<A;++P){for(f=0;f<C;++f)g[o]/=d,o+=z;o+=_}o+=V}}},"uint8,2,0,1,float64,2,1,0":function(){return function(h,g,c,o,d,w,A,C){var x=h[0],E=h[1],M=h[2],f=c[0],P=c[1],T=c[2],z=w[0],_=w[1],V=w[2];o|=0,A|=0;for(var F=o,N=A,k=h[0]|0;k>0;){k<64?(x=k,k=0):(x=64,k-=64);for(var I=h[1]|0;I>0;){I<64?(E=I,I=0):(E=64,I-=64),o=F+k*f+I*P,A=N+k*z+I*_;var H=0,j=0,ee=0,te=T,ne=f-M*T,ue=P-x*f,q=V,Y=z-M*V,Z=_-x*z;for(ee=0;ee<E;++ee){for(j=0;j<x;++j){for(H=0;H<M;++H)g[o]=d[A]*C,o+=te,A+=q;o+=ne,A+=Y}o+=ue,A+=Z}}}}},"float32,1,0,float32,1,0":function(){return function(h,g,c,o,d,w,A){var C=h[0],x=h[1],E=c[0],M=c[1],f=w[0],P=w[1];o|=0,A|=0;var T=0,z=0,_=M,V=E-x*M,F=P,N=f-x*P;for(z=0;z<C;++z){for(T=0;T<x;++T)g[o]=d[A],o+=_,A+=F;o+=V,A+=N}}},"float32,1,0,float32,0,1":function(){return function(h,g,c,o,d,w,A){var C=h[0],x=h[1],E=c[0],M=c[1],f=w[0],P=w[1];o|=0,A|=0;for(var T=o,z=A,_=h[1]|0;_>0;){_<64?(x=_,_=0):(x=64,_-=64);for(var V=h[0]|0;V>0;){V<64?(C=V,V=0):(C=64,V-=64),o=T+_*M+V*E,A=z+_*P+V*f;var F=0,N=0,k=M,I=E-x*M,H=P,j=f-x*P;for(N=0;N<C;++N){for(F=0;F<x;++F)g[o]=d[A],o+=k,A+=H;o+=I,A+=j}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(h,g,c,o,d,w,A){var C=h[0],x=h[1],E=h[2],M=c[0],f=c[1],P=c[2],T=w[0],z=w[1],_=w[2];o|=0,A|=0;for(var V=o,F=A,N=h[2]|0;N>0;){N<64?(E=N,N=0):(E=64,N-=64);for(var k=h[0]|0;k>0;){k<64?(C=k,k=0):(C=64,k-=64);for(var I=h[1]|0;I>0;){I<64?(x=I,I=0):(x=64,I-=64),o=V+N*P+k*M+I*f,A=F+N*_+k*T+I*z;var H=0,j=0,ee=0,te=P,ne=M-E*P,ue=f-C*M,q=_,Y=T-E*_,Z=z-C*T;for(ee=0;ee<x;++ee){for(j=0;j<C;++j){for(H=0;H<E;++H)g[o]=d[A],o+=te,A+=q;o+=ne,A+=Y}o+=ue,A+=Z}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(h,g,c,o,d,w,A){var C=h[0],x=h[1],E=h[2],M=c[0],f=c[1],P=c[2],T=w[0],z=w[1],_=w[2];o|=0,A|=0;var V=0,F=0,N=0,k=P,I=M-E*P,H=f-C*M,j=_,ee=T-E*_,te=z-C*T;for(N=0;N<x;++N){for(F=0;F<C;++F){for(V=0;V<E;++V)g[o]=d[A],o+=k,A+=j;o+=I,A+=ee}o+=H,A+=te}}}};function t(m,h){var g=h.join(","),c=r[g];return c()}var a=t,n={mul:function(m){var h={};return function(c,o,d){var w=c.dtype,A=c.order,C=o.dtype,x=o.order,E=d.dtype,M=d.order,f=[w,A.join(),C,x.join(),E,M.join()].join(),P=h[f];return P||(h[f]=P=m([w,A,C,x,E,M])),P(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,d.data,d.stride,d.offset|0)}},muls:function(m){var h={};return function(c,o,d){var w=c.dtype,A=c.order,C=o.dtype,x=o.order,E=[w,A.join(),C,x.join()].join(),M=h[E];return M||(h[E]=M=m([w,A,C,x])),M(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,d)}},mulseq:function(m){var h={};return function(c,o){var d=c.dtype,w=c.order,A=[d,w.join()].join(),C=h[A];return C||(h[A]=C=m([d,w])),C(c.shape.slice(0),c.data,c.stride,c.offset|0,o)}},div:function(m){var h={};return function(c,o,d){var w=c.dtype,A=c.order,C=o.dtype,x=o.order,E=d.dtype,M=d.order,f=[w,A.join(),C,x.join(),E,M.join()].join(),P=h[f];return P||(h[f]=P=m([w,A,C,x,E,M])),P(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,d.data,d.stride,d.offset|0)}},divs:function(m){var h={};return function(c,o,d){var w=c.dtype,A=c.order,C=o.dtype,x=o.order,E=[w,A.join(),C,x.join()].join(),M=h[E];return M||(h[E]=M=m([w,A,C,x])),M(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0,d)}},divseq:function(m){var h={};return function(c,o){var d=c.dtype,w=c.order,A=[d,w.join()].join(),C=h[A];return C||(h[A]=C=m([d,w])),C(c.shape.slice(0),c.data,c.stride,c.offset|0,o)}},assign:function(m){var h={};return function(c,o){var d=c.dtype,w=c.order,A=o.dtype,C=o.order,x=[d,w.join(),A,C.join()].join(),E=h[x];return E||(h[x]=E=m([d,w,A,C])),E(c.shape.slice(0),c.data,c.stride,c.offset|0,o.data,o.stride,o.offset|0)}}};function u(m){var h=n[m.funcName];return h(a.bind(void 0,m))}function s(m){return u({funcName:m.funcName})}var l={mul:"*",div:"/"};(function(){for(var m in l)p[m]=s({funcName:m}),p[m+"s"]=s({funcName:m+"s"}),p[m+"seq"]=s({funcName:m+"seq"})})(),p.assign=s({funcName:"assign"})},7382:function(v,p,r){var t=r(5050),a=r(9262);v.exports=function(u,s){for(var l=[],m=u,h=1;Array.isArray(m);)l.push(m.length),h*=m.length,m=m[0];return l.length===0?t():(s||(s=t(new Float64Array(h),l)),a(s,u),s)}},9262:function(v){function p(){return function(s,l,m,h,g){var c=s[0],o=s[1],d=s[2],w=m[0],A=m[1],C=m[2],x=[0,0,0];h|=0;var E=0,M=0,f=0,P=C,T=A-d*C,z=w-o*A;for(f=0;f<c;++f){for(M=0;M<o;++M){for(E=0;E<d;++E){{var _=g,V;for(V=0;V<x.length-1;++V)_=_[x[V]];l[h]=_[x[x.length-1]]}h+=P,++x[2]}h+=T,x[2]-=d,++x[1]}h+=z,x[1]-=o,++x[0]}}}function r(){return p()}var t=r;function a(s){var l={};return function(h,g){var c=h.dtype,o=h.order,d=[c,o.join()].join(),w=l[d];return w||(l[d]=w=s([c,o])),w(h.shape.slice(0),h.data,h.stride,h.offset|0,g)}}function n(s){return a(t.bind(void 0,s))}function u(s){return n({funcName:s.funcName})}v.exports=u({funcName:"convert"})},8139:function(v,p,r){var t=r(5306);function a(g){switch(g){case"uint32":return[t.mallocUint32,t.freeUint32];default:return null}}var n={"uint32,1,0":function(g,c){return function(d,w,A,C,x,E,M,f,P,T,z){var _,V,F,N=d*x+C,k,I=g(f),H,j,ee,te;for(_=d+1;_<=w;++_){for(V=_,N+=x,F=N,H=0,j=N,k=0;k<f;++k)I[H++]=A[j],j+=P;e:for(;V-- >d;){H=0,j=F-x;t:for(k=0;k<f;++k){if(ee=A[j],te=I[H],ee<te)break e;if(ee>te)break t;j+=T,H+=z}for(H=F,j=F-x,k=0;k<f;++k)A[H]=A[j],H+=P,j+=P;F-=x}for(H=F,j=0,k=0;k<f;++k)A[H]=I[j++],H+=P}c(I)}}};function u(g,c){var o=a(c),d=[c,g].join(","),w=n[d];return o?w(o[0],o[1]):w()}var s={"uint32,1,0":function(g,c,o){return function d(w,A,C,x,E,M,f,P,T,z,_){var V=(A-w+1)/6|0,F=w+V,N=A-V,k=w+A>>1,I=k-V,H=k+V,j=F,ee=I,te=k,ne=H,ue=N,q=w+1,Y=A-1,Z=!0,G,K,oe,$,J,se,ie,ce,ye,Se=0,Te=0,ke=0,we,Ee,xe,De,Ve,Ue,Be,Xe,ot,ut,et,qe,ft,ht,dt,mt,St=P,rt=c(St),Oe=c(St);Ee=E*j,xe=E*ee,mt=x;e:for(we=0;we<P;++we){if(ie=Ee+mt,ce=xe+mt,ke=C[ie]-C[ce],ke>0){K=j,j=ee,ee=K;break e}if(ke<0)break e;mt+=z}Ee=E*ne,xe=E*ue,mt=x;e:for(we=0;we<P;++we){if(ie=Ee+mt,ce=xe+mt,ke=C[ie]-C[ce],ke>0){K=ne,ne=ue,ue=K;break e}if(ke<0)break e;mt+=z}Ee=E*j,xe=E*te,mt=x;e:for(we=0;we<P;++we){if(ie=Ee+mt,ce=xe+mt,ke=C[ie]-C[ce],ke>0){K=j,j=te,te=K;break e}if(ke<0)break e;mt+=z}Ee=E*ee,xe=E*te,mt=x;e:for(we=0;we<P;++we){if(ie=Ee+mt,ce=xe+mt,ke=C[ie]-C[ce],ke>0){K=ee,ee=te,te=K;break e}if(ke<0)break e;mt+=z}Ee=E*j,xe=E*ne,mt=x;e:for(we=0;we<P;++we){if(ie=Ee+mt,ce=xe+mt,ke=C[ie]-C[ce],ke>0){K=j,j=ne,ne=K;break e}if(ke<0)break e;mt+=z}Ee=E*te,xe=E*ne,mt=x;e:for(we=0;we<P;++we){if(ie=Ee+mt,ce=xe+mt,ke=C[ie]-C[ce],ke>0){K=te,te=ne,ne=K;break e}if(ke<0)break e;mt+=z}Ee=E*ee,xe=E*ue,mt=x;e:for(we=0;we<P;++we){if(ie=Ee+mt,ce=xe+mt,ke=C[ie]-C[ce],ke>0){K=ee,ee=ue,ue=K;break e}if(ke<0)break e;mt+=z}Ee=E*ee,xe=E*te,mt=x;e:for(we=0;we<P;++we){if(ie=Ee+mt,ce=xe+mt,ke=C[ie]-C[ce],ke>0){K=ee,ee=te,te=K;break e}if(ke<0)break e;mt+=z}Ee=E*ne,xe=E*ue,mt=x;e:for(we=0;we<P;++we){if(ie=Ee+mt,ce=xe+mt,ke=C[ie]-C[ce],ke>0){K=ne,ne=ue,ue=K;break e}if(ke<0)break e;mt+=z}for(Ee=E*j,xe=E*ee,De=E*te,Ve=E*ne,Ue=E*ue,Be=E*F,Xe=E*k,ot=E*N,dt=0,mt=x,we=0;we<P;++we)ie=Ee+mt,ce=xe+mt,ye=De+mt,ut=Ve+mt,et=Ue+mt,qe=Be+mt,ft=Xe+mt,ht=ot+mt,rt[dt]=C[ce],Oe[dt]=C[ut],Z=Z&&rt[dt]===Oe[dt],oe=C[ie],$=C[ye],J=C[et],C[qe]=oe,C[ft]=$,C[ht]=J,++dt,mt+=T;for(Ee=E*I,xe=E*w,mt=x,we=0;we<P;++we)ie=Ee+mt,ce=xe+mt,C[ie]=C[ce],mt+=T;for(Ee=E*H,xe=E*A,mt=x,we=0;we<P;++we)ie=Ee+mt,ce=xe+mt,C[ie]=C[ce],mt+=T;if(Z)for(se=q;se<=Y;++se){ie=x+se*E,dt=0;e:for(we=0;we<P;++we){if(ke=C[ie]-rt[dt],ke!==0)break e;dt+=_,ie+=z}if(ke!==0)if(ke<0){if(se!==q)for(Ee=E*se,xe=E*q,mt=x,we=0;we<P;++we)ie=Ee+mt,ce=xe+mt,G=C[ie],C[ie]=C[ce],C[ce]=G,mt+=T;++q}else for(;;){ie=x+Y*E,dt=0;e:for(we=0;we<P;++we){if(ke=C[ie]-rt[dt],ke!==0)break e;dt+=_,ie+=z}if(ke>0)Y--;else if(ke<0){for(Ee=E*se,xe=E*q,De=E*Y,mt=x,we=0;we<P;++we)ie=Ee+mt,ce=xe+mt,ye=De+mt,G=C[ie],C[ie]=C[ce],C[ce]=C[ye],C[ye]=G,mt+=T;++q,--Y;break}else{for(Ee=E*se,xe=E*Y,mt=x,we=0;we<P;++we)ie=Ee+mt,ce=xe+mt,G=C[ie],C[ie]=C[ce],C[ce]=G,mt+=T;--Y;break}}}else for(se=q;se<=Y;++se){ie=x+se*E,dt=0;e:for(we=0;we<P;++we){if(Se=C[ie]-rt[dt],Se!==0)break e;dt+=_,ie+=z}if(Se<0){if(se!==q)for(Ee=E*se,xe=E*q,mt=x,we=0;we<P;++we)ie=Ee+mt,ce=xe+mt,G=C[ie],C[ie]=C[ce],C[ce]=G,mt+=T;++q}else{ie=x+se*E,dt=0;e:for(we=0;we<P;++we){if(Te=C[ie]-Oe[dt],Te!==0)break e;dt+=_,ie+=z}if(Te>0)for(;;){ie=x+Y*E,dt=0;e:for(we=0;we<P;++we){if(ke=C[ie]-Oe[dt],ke!==0)break e;dt+=_,ie+=z}if(ke>0){if(--Y<se)break;continue}else{ie=x+Y*E,dt=0;e:for(we=0;we<P;++we){if(ke=C[ie]-rt[dt],ke!==0)break e;dt+=_,ie+=z}if(ke<0){for(Ee=E*se,xe=E*q,De=E*Y,mt=x,we=0;we<P;++we)ie=Ee+mt,ce=xe+mt,ye=De+mt,G=C[ie],C[ie]=C[ce],C[ce]=C[ye],C[ye]=G,mt+=T;++q,--Y}else{for(Ee=E*se,xe=E*Y,mt=x,we=0;we<P;++we)ie=Ee+mt,ce=xe+mt,G=C[ie],C[ie]=C[ce],C[ce]=G,mt+=T;--Y}break}}}}for(Ee=E*w,xe=E*(q-1),dt=0,mt=x,we=0;we<P;++we)ie=Ee+mt,ce=xe+mt,C[ie]=C[ce],C[ce]=rt[dt],++dt,mt+=T;for(Ee=E*A,xe=E*(Y+1),dt=0,mt=x,we=0;we<P;++we)ie=Ee+mt,ce=xe+mt,C[ie]=C[ce],C[ce]=Oe[dt],++dt,mt+=T;if(q-2-w<=32?g(w,q-2,C,x,E,M,f,P,T,z,_):d(w,q-2,C,x,E,M,f,P,T,z,_),A-(Y+2)<=32?g(Y+2,A,C,x,E,M,f,P,T,z,_):d(Y+2,A,C,x,E,M,f,P,T,z,_),Z){o(rt),o(Oe);return}if(q<F&&Y>N){e:for(;;){for(ie=x+q*E,dt=0,mt=x,we=0;we<P;++we){if(C[ie]!==rt[dt])break e;++dt,ie+=T}++q}e:for(;;){for(ie=x+Y*E,dt=0,mt=x,we=0;we<P;++we){if(C[ie]!==Oe[dt])break e;++dt,ie+=T}--Y}for(se=q;se<=Y;++se){ie=x+se*E,dt=0;e:for(we=0;we<P;++we){if(Se=C[ie]-rt[dt],Se!==0)break e;dt+=_,ie+=z}if(Se===0){if(se!==q)for(Ee=E*se,xe=E*q,mt=x,we=0;we<P;++we)ie=Ee+mt,ce=xe+mt,G=C[ie],C[ie]=C[ce],C[ce]=G,mt+=T;++q}else{ie=x+se*E,dt=0;e:for(we=0;we<P;++we){if(Te=C[ie]-Oe[dt],Te!==0)break e;dt+=_,ie+=z}if(Te===0)for(;;){ie=x+Y*E,dt=0;e:for(we=0;we<P;++we){if(ke=C[ie]-Oe[dt],ke!==0)break e;dt+=_,ie+=z}if(ke===0){if(--Y<se)break;continue}else{ie=x+Y*E,dt=0;e:for(we=0;we<P;++we){if(ke=C[ie]-rt[dt],ke!==0)break e;dt+=_,ie+=z}if(ke<0){for(Ee=E*se,xe=E*q,De=E*Y,mt=x,we=0;we<P;++we)ie=Ee+mt,ce=xe+mt,ye=De+mt,G=C[ie],C[ie]=C[ce],C[ce]=C[ye],C[ye]=G,mt+=T;++q,--Y}else{for(Ee=E*se,xe=E*Y,mt=x,we=0;we<P;++we)ie=Ee+mt,ce=xe+mt,G=C[ie],C[ie]=C[ce],C[ce]=G,mt+=T;--Y}break}}}}}o(rt),o(Oe),Y-q<=32?g(q,Y,C,x,E,M,f,P,T,z,_):d(q,Y,C,x,E,M,f,P,T,z,_)}}};function l(g,c,o){var d=a(c),w=[c,g].join(","),A=s[w];return g.length>1&&d?A(o,d[0],d[1]):A(o)}var m={"uint32,1,0":function(g,c){return function(o){var d=o.data,w=o.offset|0,A=o.shape,C=o.stride,x=C[0]|0,E=A[0]|0,M=C[1]|0,f=A[1]|0,P=M,T=M,z=1;E<=32?g(0,E-1,d,w,x,M,E,f,P,T,z):c(0,E-1,d,w,x,M,E,f,P,T,z)}}};function h(g,c){var o=[c,g].join(","),d=m[o],w=u(g,c),A=l(g,c,w);return d(w,A)}v.exports=h},8729:function(v,p,r){var t=r(8139),a={};function n(u){var s=u.order,l=u.dtype,m=[s,l],h=m.join(":"),g=a[h];return g||(a[h]=g=t(s,l)),g(u),u}v.exports=n},5050:function(v,p,r){var t=r(4780),a=typeof Float64Array<"u";function n(c,o){return c[0]-o[0]}function u(){var c=this.stride,o=new Array(c.length),d;for(d=0;d<o.length;++d)o[d]=[Math.abs(c[d]),d];o.sort(n);var w=new Array(o.length);for(d=0;d<w.length;++d)w[d]=o[d][1];return w}var s={T:function(c){function o(w){this.data=w}var d=o.prototype;return d.dtype=c,d.index=function(){return-1},d.size=0,d.dimension=-1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new o(this.data)},d.get=d.set=function(){},d.pick=function(){return null},function(A){return new o(A)}},0:function(c,o){function d(A,C){this.data=A,this.offset=C}var w=d.prototype;return w.dtype=c,w.index=function(){return this.offset},w.dimension=0,w.size=1,w.shape=w.stride=w.order=[],w.lo=w.hi=w.transpose=w.step=function(){return new d(this.data,this.offset)},w.pick=function(){return o(this.data)},w.valueOf=w.get=function(){return c==="generic"?this.data.get(this.offset):this.data[this.offset]},w.set=function(C){return c==="generic"?this.data.set(this.offset,C):this.data[this.offset]=C},function(C,x,E,M){return new d(C,M)}},1:function(c,o,d){function w(C,x,E,M){this.data=C,this.shape=[x],this.stride=[E],this.offset=M|0}var A=w.prototype;return A.dtype=c,A.dimension=1,Object.defineProperty(A,"size",{get:function(){return this.shape[0]}}),A.order=[0],A.set=function(x,E){return c==="generic"?this.data.set(this.offset+this.stride[0]*x,E):this.data[this.offset+this.stride[0]*x]=E},A.get=function(x){return c==="generic"?this.data.get(this.offset+this.stride[0]*x):this.data[this.offset+this.stride[0]*x]},A.index=function(x){return this.offset+this.stride[0]*x},A.hi=function(x){return new w(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,this.stride[0],this.offset)},A.lo=function(x){var E=this.offset,M=0,f=this.shape[0],P=this.stride[0];return typeof x=="number"&&x>=0&&(M=x|0,E+=P*M,f-=M),new w(this.data,f,P,E)},A.step=function(x){var E=this.shape[0],M=this.stride[0],f=this.offset,P=0,T=Math.ceil;return typeof x=="number"&&(P=x|0,P<0?(f+=M*(E-1),E=T(-E/P)):E=T(E/P),M*=P),new w(this.data,E,M,f)},A.transpose=function(x){x=x===void 0?0:x|0;var E=this.shape,M=this.stride;return new w(this.data,E[x],M[x],this.offset)},A.pick=function(x){var E=[],M=[],f=this.offset;typeof x=="number"&&x>=0?f=f+this.stride[0]*x|0:(E.push(this.shape[0]),M.push(this.stride[0]));var P=o[E.length+1];return P(this.data,E,M,f)},function(x,E,M,f){return new w(x,E[0],M[0],f)}},2:function(c,o,d){function w(C,x,E,M,f,P){this.data=C,this.shape=[x,E],this.stride=[M,f],this.offset=P|0}var A=w.prototype;return A.dtype=c,A.dimension=2,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(A,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),A.set=function(x,E,M){return c==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*E,M):this.data[this.offset+this.stride[0]*x+this.stride[1]*E]=M},A.get=function(x,E){return c==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*E):this.data[this.offset+this.stride[0]*x+this.stride[1]*E]},A.index=function(x,E){return this.offset+this.stride[0]*x+this.stride[1]*E},A.hi=function(x,E){return new w(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof E!="number"||E<0?this.shape[1]:E|0,this.stride[0],this.stride[1],this.offset)},A.lo=function(x,E){var M=this.offset,f=0,P=this.shape[0],T=this.shape[1],z=this.stride[0],_=this.stride[1];return typeof x=="number"&&x>=0&&(f=x|0,M+=z*f,P-=f),typeof E=="number"&&E>=0&&(f=E|0,M+=_*f,T-=f),new w(this.data,P,T,z,_,M)},A.step=function(x,E){var M=this.shape[0],f=this.shape[1],P=this.stride[0],T=this.stride[1],z=this.offset,_=0,V=Math.ceil;return typeof x=="number"&&(_=x|0,_<0?(z+=P*(M-1),M=V(-M/_)):M=V(M/_),P*=_),typeof E=="number"&&(_=E|0,_<0?(z+=T*(f-1),f=V(-f/_)):f=V(f/_),T*=_),new w(this.data,M,f,P,T,z)},A.transpose=function(x,E){x=x===void 0?0:x|0,E=E===void 0?1:E|0;var M=this.shape,f=this.stride;return new w(this.data,M[x],M[E],f[x],f[E],this.offset)},A.pick=function(x,E){var M=[],f=[],P=this.offset;typeof x=="number"&&x>=0?P=P+this.stride[0]*x|0:(M.push(this.shape[0]),f.push(this.stride[0])),typeof E=="number"&&E>=0?P=P+this.stride[1]*E|0:(M.push(this.shape[1]),f.push(this.stride[1]));var T=o[M.length+1];return T(this.data,M,f,P)},function(x,E,M,f){return new w(x,E[0],E[1],M[0],M[1],f)}},3:function(c,o,d){function w(C,x,E,M,f,P,T,z){this.data=C,this.shape=[x,E,M],this.stride=[f,P,T],this.offset=z|0}var A=w.prototype;return A.dtype=c,A.dimension=3,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(A,"order",{get:function(){var x=Math.abs(this.stride[0]),E=Math.abs(this.stride[1]),M=Math.abs(this.stride[2]);return x>E?E>M?[2,1,0]:x>M?[1,2,0]:[1,0,2]:x>M?[2,0,1]:M>E?[0,1,2]:[0,2,1]}}),A.set=function(x,E,M,f){return c==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*M,f):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*M]=f},A.get=function(x,E,M){return c==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*M):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*M]},A.index=function(x,E,M){return this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*M},A.hi=function(x,E,M){return new w(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof M!="number"||M<0?this.shape[2]:M|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},A.lo=function(x,E,M){var f=this.offset,P=0,T=this.shape[0],z=this.shape[1],_=this.shape[2],V=this.stride[0],F=this.stride[1],N=this.stride[2];return typeof x=="number"&&x>=0&&(P=x|0,f+=V*P,T-=P),typeof E=="number"&&E>=0&&(P=E|0,f+=F*P,z-=P),typeof M=="number"&&M>=0&&(P=M|0,f+=N*P,_-=P),new w(this.data,T,z,_,V,F,N,f)},A.step=function(x,E,M){var f=this.shape[0],P=this.shape[1],T=this.shape[2],z=this.stride[0],_=this.stride[1],V=this.stride[2],F=this.offset,N=0,k=Math.ceil;return typeof x=="number"&&(N=x|0,N<0?(F+=z*(f-1),f=k(-f/N)):f=k(f/N),z*=N),typeof E=="number"&&(N=E|0,N<0?(F+=_*(P-1),P=k(-P/N)):P=k(P/N),_*=N),typeof M=="number"&&(N=M|0,N<0?(F+=V*(T-1),T=k(-T/N)):T=k(T/N),V*=N),new w(this.data,f,P,T,z,_,V,F)},A.transpose=function(x,E,M){x=x===void 0?0:x|0,E=E===void 0?1:E|0,M=M===void 0?2:M|0;var f=this.shape,P=this.stride;return new w(this.data,f[x],f[E],f[M],P[x],P[E],P[M],this.offset)},A.pick=function(x,E,M){var f=[],P=[],T=this.offset;typeof x=="number"&&x>=0?T=T+this.stride[0]*x|0:(f.push(this.shape[0]),P.push(this.stride[0])),typeof E=="number"&&E>=0?T=T+this.stride[1]*E|0:(f.push(this.shape[1]),P.push(this.stride[1])),typeof M=="number"&&M>=0?T=T+this.stride[2]*M|0:(f.push(this.shape[2]),P.push(this.stride[2]));var z=o[f.length+1];return z(this.data,f,P,T)},function(x,E,M,f){return new w(x,E[0],E[1],E[2],M[0],M[1],M[2],f)}},4:function(c,o,d){function w(C,x,E,M,f,P,T,z,_,V){this.data=C,this.shape=[x,E,M,f],this.stride=[P,T,z,_],this.offset=V|0}var A=w.prototype;return A.dtype=c,A.dimension=4,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(A,"order",{get:d}),A.set=function(x,E,M,f,P){return c==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*M+this.stride[3]*f,P):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*M+this.stride[3]*f]=P},A.get=function(x,E,M,f){return c==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*M+this.stride[3]*f):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*M+this.stride[3]*f]},A.index=function(x,E,M,f){return this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*M+this.stride[3]*f},A.hi=function(x,E,M,f){return new w(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof M!="number"||M<0?this.shape[2]:M|0,typeof f!="number"||f<0?this.shape[3]:f|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},A.lo=function(x,E,M,f){var P=this.offset,T=0,z=this.shape[0],_=this.shape[1],V=this.shape[2],F=this.shape[3],N=this.stride[0],k=this.stride[1],I=this.stride[2],H=this.stride[3];return typeof x=="number"&&x>=0&&(T=x|0,P+=N*T,z-=T),typeof E=="number"&&E>=0&&(T=E|0,P+=k*T,_-=T),typeof M=="number"&&M>=0&&(T=M|0,P+=I*T,V-=T),typeof f=="number"&&f>=0&&(T=f|0,P+=H*T,F-=T),new w(this.data,z,_,V,F,N,k,I,H,P)},A.step=function(x,E,M,f){var P=this.shape[0],T=this.shape[1],z=this.shape[2],_=this.shape[3],V=this.stride[0],F=this.stride[1],N=this.stride[2],k=this.stride[3],I=this.offset,H=0,j=Math.ceil;return typeof x=="number"&&(H=x|0,H<0?(I+=V*(P-1),P=j(-P/H)):P=j(P/H),V*=H),typeof E=="number"&&(H=E|0,H<0?(I+=F*(T-1),T=j(-T/H)):T=j(T/H),F*=H),typeof M=="number"&&(H=M|0,H<0?(I+=N*(z-1),z=j(-z/H)):z=j(z/H),N*=H),typeof f=="number"&&(H=f|0,H<0?(I+=k*(_-1),_=j(-_/H)):_=j(_/H),k*=H),new w(this.data,P,T,z,_,V,F,N,k,I)},A.transpose=function(x,E,M,f){x=x===void 0?0:x|0,E=E===void 0?1:E|0,M=M===void 0?2:M|0,f=f===void 0?3:f|0;var P=this.shape,T=this.stride;return new w(this.data,P[x],P[E],P[M],P[f],T[x],T[E],T[M],T[f],this.offset)},A.pick=function(x,E,M,f){var P=[],T=[],z=this.offset;typeof x=="number"&&x>=0?z=z+this.stride[0]*x|0:(P.push(this.shape[0]),T.push(this.stride[0])),typeof E=="number"&&E>=0?z=z+this.stride[1]*E|0:(P.push(this.shape[1]),T.push(this.stride[1])),typeof M=="number"&&M>=0?z=z+this.stride[2]*M|0:(P.push(this.shape[2]),T.push(this.stride[2])),typeof f=="number"&&f>=0?z=z+this.stride[3]*f|0:(P.push(this.shape[3]),T.push(this.stride[3]));var _=o[P.length+1];return _(this.data,P,T,z)},function(x,E,M,f){return new w(x,E[0],E[1],E[2],E[3],M[0],M[1],M[2],M[3],f)}},5:function(o,d,w){function A(x,E,M,f,P,T,z,_,V,F,N,k){this.data=x,this.shape=[E,M,f,P,T],this.stride=[z,_,V,F,N],this.offset=k|0}var C=A.prototype;return C.dtype=o,C.dimension=5,Object.defineProperty(C,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(C,"order",{get:w}),C.set=function(E,M,f,P,T,z){return o==="generic"?this.data.set(this.offset+this.stride[0]*E+this.stride[1]*M+this.stride[2]*f+this.stride[3]*P+this.stride[4]*T,z):this.data[this.offset+this.stride[0]*E+this.stride[1]*M+this.stride[2]*f+this.stride[3]*P+this.stride[4]*T]=z},C.get=function(E,M,f,P,T){return o==="generic"?this.data.get(this.offset+this.stride[0]*E+this.stride[1]*M+this.stride[2]*f+this.stride[3]*P+this.stride[4]*T):this.data[this.offset+this.stride[0]*E+this.stride[1]*M+this.stride[2]*f+this.stride[3]*P+this.stride[4]*T]},C.index=function(E,M,f,P,T){return this.offset+this.stride[0]*E+this.stride[1]*M+this.stride[2]*f+this.stride[3]*P+this.stride[4]*T},C.hi=function(E,M,f,P,T){return new A(this.data,typeof E!="number"||E<0?this.shape[0]:E|0,typeof M!="number"||M<0?this.shape[1]:M|0,typeof f!="number"||f<0?this.shape[2]:f|0,typeof P!="number"||P<0?this.shape[3]:P|0,typeof T!="number"||T<0?this.shape[4]:T|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},C.lo=function(E,M,f,P,T){var z=this.offset,_=0,V=this.shape[0],F=this.shape[1],N=this.shape[2],k=this.shape[3],I=this.shape[4],H=this.stride[0],j=this.stride[1],ee=this.stride[2],te=this.stride[3],ne=this.stride[4];return typeof E=="number"&&E>=0&&(_=E|0,z+=H*_,V-=_),typeof M=="number"&&M>=0&&(_=M|0,z+=j*_,F-=_),typeof f=="number"&&f>=0&&(_=f|0,z+=ee*_,N-=_),typeof P=="number"&&P>=0&&(_=P|0,z+=te*_,k-=_),typeof T=="number"&&T>=0&&(_=T|0,z+=ne*_,I-=_),new A(this.data,V,F,N,k,I,H,j,ee,te,ne,z)},C.step=function(E,M,f,P,T){var z=this.shape[0],_=this.shape[1],V=this.shape[2],F=this.shape[3],N=this.shape[4],k=this.stride[0],I=this.stride[1],H=this.stride[2],j=this.stride[3],ee=this.stride[4],te=this.offset,ne=0,ue=Math.ceil;return typeof E=="number"&&(ne=E|0,ne<0?(te+=k*(z-1),z=ue(-z/ne)):z=ue(z/ne),k*=ne),typeof M=="number"&&(ne=M|0,ne<0?(te+=I*(_-1),_=ue(-_/ne)):_=ue(_/ne),I*=ne),typeof f=="number"&&(ne=f|0,ne<0?(te+=H*(V-1),V=ue(-V/ne)):V=ue(V/ne),H*=ne),typeof P=="number"&&(ne=P|0,ne<0?(te+=j*(F-1),F=ue(-F/ne)):F=ue(F/ne),j*=ne),typeof T=="number"&&(ne=T|0,ne<0?(te+=ee*(N-1),N=ue(-N/ne)):N=ue(N/ne),ee*=ne),new A(this.data,z,_,V,F,N,k,I,H,j,ee,te)},C.transpose=function(E,M,f,P,T){E=E===void 0?0:E|0,M=M===void 0?1:M|0,f=f===void 0?2:f|0,P=P===void 0?3:P|0,T=T===void 0?4:T|0;var z=this.shape,_=this.stride;return new A(this.data,z[E],z[M],z[f],z[P],z[T],_[E],_[M],_[f],_[P],_[T],this.offset)},C.pick=function(E,M,f,P,T){var z=[],_=[],V=this.offset;typeof E=="number"&&E>=0?V=V+this.stride[0]*E|0:(z.push(this.shape[0]),_.push(this.stride[0])),typeof M=="number"&&M>=0?V=V+this.stride[1]*M|0:(z.push(this.shape[1]),_.push(this.stride[1])),typeof f=="number"&&f>=0?V=V+this.stride[2]*f|0:(z.push(this.shape[2]),_.push(this.stride[2])),typeof P=="number"&&P>=0?V=V+this.stride[3]*P|0:(z.push(this.shape[3]),_.push(this.stride[3])),typeof T=="number"&&T>=0?V=V+this.stride[4]*T|0:(z.push(this.shape[4]),_.push(this.stride[4]));var F=d[z.length+1];return F(this.data,z,_,V)},function(E,M,f,P){return new A(E,M[0],M[1],M[2],M[3],M[4],f[0],f[1],f[2],f[3],f[4],P)}}};function l(c,o){var d=o===-1?"T":String(o),w=s[d];return o===-1?w(c):o===0?w(c,h[c][0]):w(c,h[c],u)}function m(c){if(t(c))return"buffer";if(a)switch(Object.prototype.toString.call(c)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(c)?"array":"generic"}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function g(c,o,d,w){if(c===void 0){var f=h.array[0];return f([])}else typeof c=="number"&&(c=[c]);o===void 0&&(o=[c.length]);var A=o.length;if(d===void 0){d=new Array(A);for(var C=A-1,x=1;C>=0;--C)d[C]=x,x*=o[C]}if(w===void 0){w=0;for(var C=0;C<A;++C)d[C]<0&&(w-=(o[C]-1)*d[C])}for(var E=m(c),M=h[E];M.length<=A+1;)M.push(l(E,M.length-1));var f=M[A+1];return f(c,o,d,w)}v.exports=g},8551:function(v,p,r){var t=r(8362),a=Math.pow(2,-1074),n=-1>>>0;v.exports=u;function u(s,l){if(isNaN(s)||isNaN(l))return NaN;if(s===l)return s;if(s===0)return l<0?-a:a;var m=t.hi(s),h=t.lo(s);return l>s==s>0?h===n?(m+=1,h=0):h+=1:h===0?(h=n,m-=1):h-=1,t.pack(h,m)}},115:function(v,p){var r=1e-6,t=1e-6;p.vertexNormals=function(a,n,u){for(var s=n.length,l=new Array(s),m=u===void 0?r:u,h=0;h<s;++h)l[h]=[0,0,0];for(var h=0;h<a.length;++h)for(var g=a[h],c=0,o=g[g.length-1],d=g[0],w=0;w<g.length;++w){c=o,o=d,d=g[(w+1)%g.length];for(var A=n[c],C=n[o],x=n[d],E=new Array(3),M=0,f=new Array(3),P=0,T=0;T<3;++T)E[T]=A[T]-C[T],M+=E[T]*E[T],f[T]=x[T]-C[T],P+=f[T]*f[T];if(M*P>m)for(var z=l[o],_=1/Math.sqrt(M*P),T=0;T<3;++T){var V=(T+1)%3,F=(T+2)%3;z[T]+=_*(f[V]*E[F]-f[F]*E[V])}}for(var h=0;h<s;++h){for(var z=l[h],N=0,T=0;T<3;++T)N+=z[T]*z[T];if(N>m)for(var _=1/Math.sqrt(N),T=0;T<3;++T)z[T]*=_;else for(var T=0;T<3;++T)z[T]=0}return l},p.faceNormals=function(a,n,u){for(var s=a.length,l=new Array(s),m=u===void 0?t:u,h=0;h<s;++h){for(var g=a[h],c=new Array(3),o=0;o<3;++o)c[o]=n[g[o]];for(var d=new Array(3),w=new Array(3),o=0;o<3;++o)d[o]=c[1][o]-c[0][o],w[o]=c[2][o]-c[0][o];for(var A=new Array(3),C=0,o=0;o<3;++o){var x=(o+1)%3,E=(o+2)%3;A[o]=d[x]*w[E]-d[E]*w[x],C+=A[o]*A[o]}C>m?C=1/Math.sqrt(C):C=0;for(var o=0;o<3;++o)A[o]*=C;l[h]=A}return l}},567:function(v){v.exports=p;function p(r,t,a,n,u,s,l,m,h,g){var c=t+s+g;if(o>0){var o=Math.sqrt(c+1);r[0]=.5*(l-h)/o,r[1]=.5*(m-n)/o,r[2]=.5*(a-s)/o,r[3]=.5*o}else{var d=Math.max(t,s,g),o=Math.sqrt(2*d-c+1);t>=d?(r[0]=.5*o,r[1]=.5*(u+a)/o,r[2]=.5*(m+n)/o,r[3]=.5*(l-h)/o):s>=d?(r[0]=.5*(a+u)/o,r[1]=.5*o,r[2]=.5*(h+l)/o,r[3]=.5*(m-n)/o):(r[0]=.5*(n+m)/o,r[1]=.5*(l+h)/o,r[2]=.5*o,r[3]=.5*(a-u)/o)}return r}},7774:function(v,p,r){v.exports=o;var t=r(8444),a=r(3012),n=r(5950),u=r(7437),s=r(567);function l(d,w,A){return Math.sqrt(Math.pow(d,2)+Math.pow(w,2)+Math.pow(A,2))}function m(d,w,A,C){return Math.sqrt(Math.pow(d,2)+Math.pow(w,2)+Math.pow(A,2)+Math.pow(C,2))}function h(d,w){var A=w[0],C=w[1],x=w[2],E=w[3],M=m(A,C,x,E);M>1e-6?(d[0]=A/M,d[1]=C/M,d[2]=x/M,d[3]=E/M):(d[0]=d[1]=d[2]=0,d[3]=1)}function g(d,w,A){this.radius=t([A]),this.center=t(w),this.rotation=t(d),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var c=g.prototype;c.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},c.recalcMatrix=function(d){this.radius.curve(d),this.center.curve(d),this.rotation.curve(d);var w=this.computedRotation;h(w,w);var A=this.computedMatrix;n(A,w);var C=this.computedCenter,x=this.computedEye,E=this.computedUp,M=Math.exp(this.computedRadius[0]);x[0]=C[0]+M*A[2],x[1]=C[1]+M*A[6],x[2]=C[2]+M*A[10],E[0]=A[1],E[1]=A[5],E[2]=A[9];for(var f=0;f<3;++f){for(var P=0,T=0;T<3;++T)P+=A[f+4*T]*x[T];A[12+f]=-P}},c.getMatrix=function(d,w){this.recalcMatrix(d);var A=this.computedMatrix;if(w){for(var C=0;C<16;++C)w[C]=A[C];return w}return A},c.idle=function(d){this.center.idle(d),this.radius.idle(d),this.rotation.idle(d)},c.flush=function(d){this.center.flush(d),this.radius.flush(d),this.rotation.flush(d)},c.pan=function(d,w,A,C){w=w||0,A=A||0,C=C||0,this.recalcMatrix(d);var x=this.computedMatrix,E=x[1],M=x[5],f=x[9],P=l(E,M,f);E/=P,M/=P,f/=P;var T=x[0],z=x[4],_=x[8],V=T*E+z*M+_*f;T-=E*V,z-=M*V,_-=f*V;var F=l(T,z,_);T/=F,z/=F,_/=F,x[2],x[6],x[10];var N=T*w+E*A,k=z*w+M*A,I=_*w+f*A;this.center.move(d,N,k,I);var H=Math.exp(this.computedRadius[0]);H=Math.max(1e-4,H+C),this.radius.set(d,Math.log(H))},c.rotate=function(d,w,A,C){this.recalcMatrix(d),w=w||0,A=A||0;var x=this.computedMatrix,E=x[0],M=x[4],f=x[8],P=x[1],T=x[5],z=x[9],_=x[2],V=x[6],F=x[10],N=w*E+A*P,k=w*M+A*T,I=w*f+A*z,H=-(V*I-F*k),j=-(F*N-_*I),ee=-(_*k-V*N),te=Math.sqrt(Math.max(0,1-Math.pow(H,2)-Math.pow(j,2)-Math.pow(ee,2))),ne=m(H,j,ee,te);ne>1e-6?(H/=ne,j/=ne,ee/=ne,te/=ne):(H=j=ee=0,te=1);var ue=this.computedRotation,q=ue[0],Y=ue[1],Z=ue[2],G=ue[3],K=q*te+G*H+Y*ee-Z*j,oe=Y*te+G*j+Z*H-q*ee,$=Z*te+G*ee+q*j-Y*H,J=G*te-q*H-Y*j-Z*ee;if(C){H=_,j=V,ee=F;var se=Math.sin(C)/l(H,j,ee);H*=se,j*=se,ee*=se,te=Math.cos(w),K=K*te+J*H+oe*ee-$*j,oe=oe*te+J*j+$*H-K*ee,$=$*te+J*ee+K*j-oe*H,J=J*te-K*H-oe*j-$*ee}var ie=m(K,oe,$,J);ie>1e-6?(K/=ie,oe/=ie,$/=ie,J/=ie):(K=oe=$=0,J=1),this.rotation.set(d,K,oe,$,J)},c.lookAt=function(d,w,A,C){this.recalcMatrix(d),A=A||this.computedCenter,w=w||this.computedEye,C=C||this.computedUp;var x=this.computedMatrix;a(x,w,A,C);var E=this.computedRotation;s(E,x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]),h(E,E),this.rotation.set(d,E[0],E[1],E[2],E[3]);for(var M=0,f=0;f<3;++f)M+=Math.pow(A[f]-w[f],2);this.radius.set(d,.5*Math.log(Math.max(M,1e-6))),this.center.set(d,A[0],A[1],A[2])},c.translate=function(d,w,A,C){this.center.move(d,w||0,A||0,C||0)},c.setMatrix=function(d,w){var A=this.computedRotation;s(A,w[0],w[1],w[2],w[4],w[5],w[6],w[8],w[9],w[10]),h(A,A),this.rotation.set(d,A[0],A[1],A[2],A[3]);var C=this.computedMatrix;u(C,w);var x=C[15];if(Math.abs(x)>1e-6){var E=C[12]/x,M=C[13]/x,f=C[14]/x;this.recalcMatrix(d);var P=Math.exp(this.computedRadius[0]);this.center.set(d,E-C[2]*P,M-C[6]*P,f-C[10]*P),this.radius.idle(d)}else this.center.idle(d),this.radius.idle(d)},c.setDistance=function(d,w){w>0&&this.radius.set(d,Math.log(w))},c.setDistanceLimits=function(d,w){d>0?d=Math.log(d):d=-1/0,w>0?w=Math.log(w):w=1/0,w=Math.max(w,d),this.radius.bounds[0][0]=d,this.radius.bounds[1][0]=w},c.getDistanceLimits=function(d){var w=this.radius.bounds;return d?(d[0]=Math.exp(w[0][0]),d[1]=Math.exp(w[1][0]),d):[Math.exp(w[0][0]),Math.exp(w[1][0])]},c.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},c.fromJSON=function(d){var w=this.lastT(),A=d.center;A&&this.center.set(w,A[0],A[1],A[2]);var C=d.rotation;C&&this.rotation.set(w,C[0],C[1],C[2],C[3]);var x=d.distance;x&&x>0&&this.radius.set(w,Math.log(x)),this.setDistanceLimits(d.zoomMin,d.zoomMax)};function o(d){d=d||{};var w=d.center||[0,0,0],A=d.rotation||[0,0,0,1],C=d.radius||1;w=[].slice.call(w,0,3),A=[].slice.call(A,0,4),h(A,A);var x=new g(A,w,Math.log(C));return x.setDistanceLimits(d.zoomMin,d.zoomMax),("eye"in d||"up"in d)&&x.lookAt(0,d.eye,d.center,d.up),x}},4930:function(v,p,r){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var t=r(6184);v.exports=function(n,u,s){return s=typeof s<"u"?s+"":" ",t(s,u)+n}},4405:function(v){v.exports=function(r,t){t||(t=[0,""]),r=String(r);var a=parseFloat(r,10);return t[0]=a,t[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},4166:function(v,p,r){v.exports=a;var t=r(9398);function a(n,u){for(var s=u.length|0,l=n.length,m=[new Array(s),new Array(s)],h=0;h<s;++h)m[0][h]=[],m[1][h]=[];for(var h=0;h<l;++h){var g=n[h];m[0][g[0]].push(g),m[1][g[1]].push(g)}for(var c=[],h=0;h<s;++h)m[0][h].length+m[1][h].length===0&&c.push([h]);function o(M,f){var P=m[f][M[f]];P.splice(P.indexOf(M),1)}function d(M,f,P){for(var T,z,_,V=0;V<2;++V)if(m[V][f].length>0){T=m[V][f][0],_=V;break}z=T[_^1];for(var F=0;F<2;++F)for(var N=m[F][f],k=0;k<N.length;++k){var I=N[k],H=I[F^1],j=t(u[M],u[f],u[z],u[H]);j>0&&(T=I,z=H,_=F)}return P||T&&o(T,_),z}function w(M,f){var P=m[f][M][0],T=[M];o(P,f);for(var z=P[f^1];;){for(;z!==M;)T.push(z),z=d(T[T.length-2],z,!1);if(m[0][M].length+m[1][M].length===0)break;var _=T[T.length-1],V=M,F=T[1],N=d(_,V,!0);if(t(u[_],u[V],u[F],u[N])<0)break;T.push(M),z=d(_,V)}return T}function A(M,f){return f[1]===f[f.length-1]}for(var h=0;h<s;++h)for(var C=0;C<2;++C){for(var x=[];m[C][h].length>0;){m[0][h].length;var E=w(h,C);A(x,E)?x.push.apply(x,E):(x.length>0&&c.push(x),x=E)}x.length>0&&c.push(x)}return c}},3959:function(v,p,r){v.exports=a;var t=r(8348);function a(n,u){for(var s=t(n,u.length),l=new Array(u.length),m=new Array(u.length),h=[],g=0;g<u.length;++g){var c=s[g].length;m[g]=c,l[g]=!0,c<=1&&h.push(g)}for(;h.length>0;){var o=h.pop();l[o]=!1;for(var d=s[o],g=0;g<d.length;++g){var w=d[g];--m[w]===0&&h.push(w)}}for(var A=new Array(u.length),C=[],g=0;g<u.length;++g)if(l[g]){var o=C.length;A[g]=o,C.push(u[g])}else A[g]=-1;for(var x=[],g=0;g<n.length;++g){var E=n[g];l[E[0]]&&l[E[1]]&&x.push([A[E[0]],A[E[1]]])}return[x,C]}},8040:function(v,p,r){v.exports=c;var t=r(8348),a=r(4166),n=r(211),u=r(9660),s=r(9662),l=r(1215),m=r(3959);function h(o,d){for(var w=new Array(o),A=0;A<o;++A)w[A]=d;return w}function g(o){for(var d=new Array(o),w=0;w<o;++w)d[w]=[];return d}function c(o,d){var J=m(o,d);o=J[0],d=J[1];var w=d.length;o.length;for(var A=t(o,d.length),C=0;C<w;++C)if(A[C].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var x=a(o,d);function E(ke){for(var we=ke.length,Ee=[0],xe=0;xe<we;++xe){var De=d[ke[xe]],Ve=d[ke[(xe+1)%we]],Ue=u(-De[0],De[1]),Be=u(-De[0],Ve[1]),Xe=u(Ve[0],De[1]),ot=u(Ve[0],Ve[1]);Ee=s(Ee,s(s(Ue,Be),s(Xe,ot)))}return Ee[Ee.length-1]>0}x=x.filter(E);for(var M=x.length,f=new Array(M),P=new Array(M),C=0;C<M;++C){f[C]=C;var T=new Array(M),z=x[C].map(function(we){return d[we]}),_=n([z]),V=0;e:for(var F=0;F<M;++F)if(T[F]=0,C!==F){for(var N=x[F],k=N.length,I=0;I<k;++I){var H=_(d[N[I]]);if(H!==0){H<0&&(T[F]=1,V+=1);continue e}}T[F]=1,V+=1}P[C]=[V,C,T]}P.sort(function(ke,we){return we[0]-ke[0]});for(var C=0;C<M;++C)for(var T=P[C],j=T[1],ee=T[2],F=0;F<M;++F)ee[F]&&(f[F]=j);for(var te=g(M),C=0;C<M;++C)te[C].push(f[C]),te[f[C]].push(C);for(var ne={},ue=h(w,!1),C=0;C<M;++C)for(var N=x[C],k=N.length,F=0;F<k;++F){var q=N[F],Y=N[(F+1)%k],Z=Math.min(q,Y)+":"+Math.max(q,Y);if(Z in ne){var G=ne[Z];te[G].push(C),te[C].push(G),ue[q]=ue[Y]=!0}else ne[Z]=C}function K(ke){for(var we=ke.length,Ee=0;Ee<we;++Ee)if(!ue[ke[Ee]])return!1;return!0}for(var oe=[],$=h(M,-1),C=0;C<M;++C)f[C]===C&&!K(x[C])?(oe.push(C),$[C]=0):$[C]=-1;for(var J=[];oe.length>0;){var se=oe.pop(),ie=te[se];l(ie,function(ke,we){return ke-we});var ce=ie.length,ye=$[se],Se;if(ye===0){var N=x[se];Se=[N]}for(var C=0;C<ce;++C){var Te=ie[C];if(!($[Te]>=0)&&($[Te]=ye^1,oe.push(Te),ye===0)){var N=x[Te];K(N)||(N.reverse(),Se.push(N))}}ye===0&&J.push(Se)}return J}},211:function(v,p,r){v.exports=d;var t=r(417)[3],a=r(4385),n=r(9014),u=r(5070);function s(){return!0}function l(w){return function(A,C){var x=w[A];return x?!!x.queryPoint(C,s):!1}}function m(w){for(var A={},C=0;C<w.length;++C){var x=w[C],E=x[0][0],M=x[0][1],f=x[1][1],P=[Math.min(M,f),Math.max(M,f)];E in A?A[E].push(P):A[E]=[P]}for(var T={},z=Object.keys(A),C=0;C<z.length;++C){var _=A[z[C]];T[z[C]]=n(_)}return l(T)}function h(w,A){return function(C){var x=u.le(A,C[0]);if(x<0)return 1;var E=w[x];if(!E)if(x>0&&A[x]===C[0])E=w[x-1];else return 1;for(var M=1;E;){var f=E.key,P=t(C,f[0],f[1]);if(f[0][0]<f[1][0])if(P<0)E=E.left;else if(P>0)M=-1,E=E.right;else return 0;else if(P>0)E=E.left;else if(P<0)M=1,E=E.right;else return 0}return M}}function g(w){return 1}function c(w){return function(C){return w(C[0],C[1])?0:1}}function o(w,A){return function(x){return w(x[0],x[1])?0:A(x)}}function d(w){for(var A=w.length,C=[],x=[],E=0;E<A;++E)for(var M=w[E],f=M.length,P=f-1,T=0;T<f;P=T++){var z=M[P],_=M[T];z[0]===_[0]?x.push([z,_]):C.push([z,_])}if(C.length===0)return x.length===0?g:c(m(x));var V=a(C),F=h(V.slabs,V.coordinates);return x.length===0?F:o(m(x),F)}},7309:function(v){var p=new Float64Array(4),r=new Float64Array(4),t=new Float64Array(4);function a(n,u,s,l,m){p.length<l.length&&(p=new Float64Array(l.length),r=new Float64Array(l.length),t=new Float64Array(l.length));for(var h=0;h<l.length;++h)p[h]=n[h]-l[h],r[h]=u[h]-n[h],t[h]=s[h]-n[h];for(var g=0,c=0,o=0,d=0,w=0,A=0,h=0;h<l.length;++h){var C=r[h],x=t[h],E=p[h];g+=C*C,c+=C*x,o+=x*x,d+=E*C,w+=E*x,A+=E*E}var M=Math.abs(g*o-c*c),f=c*w-o*d,P=c*d-g*w,T;if(f+P<=M)if(f<0)P<0&&d<0?(P=0,-d>=g?(f=1,T=g+2*d+A):(f=-d/g,T=d*f+A)):(f=0,w>=0?(P=0,T=A):-w>=o?(P=1,T=o+2*w+A):(P=-w/o,T=w*P+A));else if(P<0)P=0,d>=0?(f=0,T=A):-d>=g?(f=1,T=g+2*d+A):(f=-d/g,T=d*f+A);else{var z=1/M;f*=z,P*=z,T=f*(g*f+c*P+2*d)+P*(c*f+o*P+2*w)+A}else{var _,V,F,N;f<0?(_=c+d,V=o+w,V>_?(F=V-_,N=g-2*c+o,F>=N?(f=1,P=0,T=g+2*d+A):(f=F/N,P=1-f,T=f*(g*f+c*P+2*d)+P*(c*f+o*P+2*w)+A)):(f=0,V<=0?(P=1,T=o+2*w+A):w>=0?(P=0,T=A):(P=-w/o,T=w*P+A))):P<0?(_=c+w,V=g+d,V>_?(F=V-_,N=g-2*c+o,F>=N?(P=1,f=0,T=o+2*w+A):(P=F/N,f=1-P,T=f*(g*f+c*P+2*d)+P*(c*f+o*P+2*w)+A)):(P=0,V<=0?(f=1,T=g+2*d+A):d>=0?(f=0,T=A):(f=-d/g,T=d*f+A))):(F=o+w-c-d,F<=0?(f=0,P=1,T=o+2*w+A):(N=g-2*c+o,F>=N?(f=1,P=0,T=g+2*d+A):(f=F/N,P=1-f,T=f*(g*f+c*P+2*d)+P*(c*f+o*P+2*w)+A)))}for(var k=1-f-P,h=0;h<l.length;++h)m[h]=k*n[h]+f*u[h]+P*s[h];return T<0?0:T}v.exports=a},1116:function(v,p,r){v.exports=r(6093)},7584:function(v,p,r){var t=r(1539);v.exports=a;function a(n,u){for(var s=n.length,l=new Array(s),m=0;m<s;++m)l[m]=t(n[m],u[m]);return l}},2826:function(v,p,r){v.exports=a;var t=r(5125);function a(n){for(var u=new Array(n.length),s=0;s<n.length;++s)u[s]=t(n[s]);return u}},4469:function(v,p,r){var t=r(5125),a=r(3962);v.exports=n;function n(u,s){for(var l=t(s),m=u.length,h=new Array(m),g=0;g<m;++g)h[g]=a(u[g],l);return h}},6695:function(v,p,r){var t=r(4354);v.exports=a;function a(n,u){for(var s=n.length,l=new Array(s),m=0;m<s;++m)l[m]=t(n[m],u[m]);return l}},7037:function(v,p,r){var t=r(9209),a=r(1284),n=r(9887);v.exports=u;function u(s){s.sort(a);for(var l=s.length,m=0,h=0;h<l;++h){var g=s[h],c=n(g);if(c!==0){if(m>0){var o=s[m-1];if(t(g,o)===0&&n(o)!==c){m-=1;continue}}s[m++]=g}}return s.length=m,s}},6184:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var p="",r;v.exports=t;function t(a,n){if(typeof a!="string")throw new TypeError("expected a string");if(n===1)return a;if(n===2)return a+a;var u=a.length*n;if(r!==a||typeof r>"u")r=a,p="";else if(p.length>=u)return p.substr(0,u);for(;u>p.length&&n>1;)n&1&&(p+=a),n>>=1,a+=a;return p+=a,p=p.substr(0,u),p}},8161:function(v,p,r){v.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(v){v.exports=p;function p(r){for(var t=r.length,a=r[r.length-1],n=t,u=t-2;u>=0;--u){var s=a,l=r[u];a=s+l;var m=a-s,h=l-m;h&&(r[--n]=a,a=h)}for(var g=0,u=n;u<t;++u){var s=r[u],l=a;a=s+l;var m=a-s,h=l-m;h&&(r[g++]=h)}return r[g++]=a,r.length=g,r}},8167:function(v,p,r){var t=r(9660),a=r(9662),n=r(8289),u=r(402),s=6;function l(A,C,x,E){return function(f){return E(A(x(f[0][0],f[1][1]),x(-f[0][1],f[1][0])))}}function m(A,C,x,E){return function(f){return E(A(C(A(x(f[1][1],f[2][2]),x(-f[1][2],f[2][1])),f[0][0]),A(C(A(x(f[1][0],f[2][2]),x(-f[1][2],f[2][0])),-f[0][1]),C(A(x(f[1][0],f[2][1]),x(-f[1][1],f[2][0])),f[0][2]))))}}function h(A,C,x,E){return function(f){return E(A(A(C(A(C(A(x(f[2][2],f[3][3]),x(-f[2][3],f[3][2])),f[1][1]),A(C(A(x(f[2][1],f[3][3]),x(-f[2][3],f[3][1])),-f[1][2]),C(A(x(f[2][1],f[3][2]),x(-f[2][2],f[3][1])),f[1][3]))),f[0][0]),C(A(C(A(x(f[2][2],f[3][3]),x(-f[2][3],f[3][2])),f[1][0]),A(C(A(x(f[2][0],f[3][3]),x(-f[2][3],f[3][0])),-f[1][2]),C(A(x(f[2][0],f[3][2]),x(-f[2][2],f[3][0])),f[1][3]))),-f[0][1])),A(C(A(C(A(x(f[2][1],f[3][3]),x(-f[2][3],f[3][1])),f[1][0]),A(C(A(x(f[2][0],f[3][3]),x(-f[2][3],f[3][0])),-f[1][1]),C(A(x(f[2][0],f[3][1]),x(-f[2][1],f[3][0])),f[1][3]))),f[0][2]),C(A(C(A(x(f[2][1],f[3][2]),x(-f[2][2],f[3][1])),f[1][0]),A(C(A(x(f[2][0],f[3][2]),x(-f[2][2],f[3][0])),-f[1][1]),C(A(x(f[2][0],f[3][1]),x(-f[2][1],f[3][0])),f[1][2]))),-f[0][3]))))}}function g(A,C,x,E){return function(f){return E(A(A(C(A(A(C(A(C(A(x(f[3][3],f[4][4]),x(-f[3][4],f[4][3])),f[2][2]),A(C(A(x(f[3][2],f[4][4]),x(-f[3][4],f[4][2])),-f[2][3]),C(A(x(f[3][2],f[4][3]),x(-f[3][3],f[4][2])),f[2][4]))),f[1][1]),C(A(C(A(x(f[3][3],f[4][4]),x(-f[3][4],f[4][3])),f[2][1]),A(C(A(x(f[3][1],f[4][4]),x(-f[3][4],f[4][1])),-f[2][3]),C(A(x(f[3][1],f[4][3]),x(-f[3][3],f[4][1])),f[2][4]))),-f[1][2])),A(C(A(C(A(x(f[3][2],f[4][4]),x(-f[3][4],f[4][2])),f[2][1]),A(C(A(x(f[3][1],f[4][4]),x(-f[3][4],f[4][1])),-f[2][2]),C(A(x(f[3][1],f[4][2]),x(-f[3][2],f[4][1])),f[2][4]))),f[1][3]),C(A(C(A(x(f[3][2],f[4][3]),x(-f[3][3],f[4][2])),f[2][1]),A(C(A(x(f[3][1],f[4][3]),x(-f[3][3],f[4][1])),-f[2][2]),C(A(x(f[3][1],f[4][2]),x(-f[3][2],f[4][1])),f[2][3]))),-f[1][4]))),f[0][0]),C(A(A(C(A(C(A(x(f[3][3],f[4][4]),x(-f[3][4],f[4][3])),f[2][2]),A(C(A(x(f[3][2],f[4][4]),x(-f[3][4],f[4][2])),-f[2][3]),C(A(x(f[3][2],f[4][3]),x(-f[3][3],f[4][2])),f[2][4]))),f[1][0]),C(A(C(A(x(f[3][3],f[4][4]),x(-f[3][4],f[4][3])),f[2][0]),A(C(A(x(f[3][0],f[4][4]),x(-f[3][4],f[4][0])),-f[2][3]),C(A(x(f[3][0],f[4][3]),x(-f[3][3],f[4][0])),f[2][4]))),-f[1][2])),A(C(A(C(A(x(f[3][2],f[4][4]),x(-f[3][4],f[4][2])),f[2][0]),A(C(A(x(f[3][0],f[4][4]),x(-f[3][4],f[4][0])),-f[2][2]),C(A(x(f[3][0],f[4][2]),x(-f[3][2],f[4][0])),f[2][4]))),f[1][3]),C(A(C(A(x(f[3][2],f[4][3]),x(-f[3][3],f[4][2])),f[2][0]),A(C(A(x(f[3][0],f[4][3]),x(-f[3][3],f[4][0])),-f[2][2]),C(A(x(f[3][0],f[4][2]),x(-f[3][2],f[4][0])),f[2][3]))),-f[1][4]))),-f[0][1])),A(C(A(A(C(A(C(A(x(f[3][3],f[4][4]),x(-f[3][4],f[4][3])),f[2][1]),A(C(A(x(f[3][1],f[4][4]),x(-f[3][4],f[4][1])),-f[2][3]),C(A(x(f[3][1],f[4][3]),x(-f[3][3],f[4][1])),f[2][4]))),f[1][0]),C(A(C(A(x(f[3][3],f[4][4]),x(-f[3][4],f[4][3])),f[2][0]),A(C(A(x(f[3][0],f[4][4]),x(-f[3][4],f[4][0])),-f[2][3]),C(A(x(f[3][0],f[4][3]),x(-f[3][3],f[4][0])),f[2][4]))),-f[1][1])),A(C(A(C(A(x(f[3][1],f[4][4]),x(-f[3][4],f[4][1])),f[2][0]),A(C(A(x(f[3][0],f[4][4]),x(-f[3][4],f[4][0])),-f[2][1]),C(A(x(f[3][0],f[4][1]),x(-f[3][1],f[4][0])),f[2][4]))),f[1][3]),C(A(C(A(x(f[3][1],f[4][3]),x(-f[3][3],f[4][1])),f[2][0]),A(C(A(x(f[3][0],f[4][3]),x(-f[3][3],f[4][0])),-f[2][1]),C(A(x(f[3][0],f[4][1]),x(-f[3][1],f[4][0])),f[2][3]))),-f[1][4]))),f[0][2]),A(C(A(A(C(A(C(A(x(f[3][2],f[4][4]),x(-f[3][4],f[4][2])),f[2][1]),A(C(A(x(f[3][1],f[4][4]),x(-f[3][4],f[4][1])),-f[2][2]),C(A(x(f[3][1],f[4][2]),x(-f[3][2],f[4][1])),f[2][4]))),f[1][0]),C(A(C(A(x(f[3][2],f[4][4]),x(-f[3][4],f[4][2])),f[2][0]),A(C(A(x(f[3][0],f[4][4]),x(-f[3][4],f[4][0])),-f[2][2]),C(A(x(f[3][0],f[4][2]),x(-f[3][2],f[4][0])),f[2][4]))),-f[1][1])),A(C(A(C(A(x(f[3][1],f[4][4]),x(-f[3][4],f[4][1])),f[2][0]),A(C(A(x(f[3][0],f[4][4]),x(-f[3][4],f[4][0])),-f[2][1]),C(A(x(f[3][0],f[4][1]),x(-f[3][1],f[4][0])),f[2][4]))),f[1][2]),C(A(C(A(x(f[3][1],f[4][2]),x(-f[3][2],f[4][1])),f[2][0]),A(C(A(x(f[3][0],f[4][2]),x(-f[3][2],f[4][0])),-f[2][1]),C(A(x(f[3][0],f[4][1]),x(-f[3][1],f[4][0])),f[2][2]))),-f[1][4]))),-f[0][3]),C(A(A(C(A(C(A(x(f[3][2],f[4][3]),x(-f[3][3],f[4][2])),f[2][1]),A(C(A(x(f[3][1],f[4][3]),x(-f[3][3],f[4][1])),-f[2][2]),C(A(x(f[3][1],f[4][2]),x(-f[3][2],f[4][1])),f[2][3]))),f[1][0]),C(A(C(A(x(f[3][2],f[4][3]),x(-f[3][3],f[4][2])),f[2][0]),A(C(A(x(f[3][0],f[4][3]),x(-f[3][3],f[4][0])),-f[2][2]),C(A(x(f[3][0],f[4][2]),x(-f[3][2],f[4][0])),f[2][3]))),-f[1][1])),A(C(A(C(A(x(f[3][1],f[4][3]),x(-f[3][3],f[4][1])),f[2][0]),A(C(A(x(f[3][0],f[4][3]),x(-f[3][3],f[4][0])),-f[2][1]),C(A(x(f[3][0],f[4][1]),x(-f[3][1],f[4][0])),f[2][3]))),f[1][2]),C(A(C(A(x(f[3][1],f[4][2]),x(-f[3][2],f[4][1])),f[2][0]),A(C(A(x(f[3][0],f[4][2]),x(-f[3][2],f[4][0])),-f[2][1]),C(A(x(f[3][0],f[4][1]),x(-f[3][1],f[4][0])),f[2][2]))),-f[1][3]))),f[0][4])))))}}function c(A){var C=A===2?l:A===3?m:A===4?h:A===5?g:void 0;return C(a,n,t,u)}var o=[function(){return[0]},function(C){return[C[0][0]]}];function d(A,C,x,E,M,f,P,T){return function(_){switch(_.length){case 0:return A(_);case 1:return C(_);case 2:return x(_);case 3:return E(_);case 4:return M(_);case 5:return f(_)}var V=P[_.length];return V||(V=P[_.length]=T(_.length)),V(_)}}function w(){for(;o.length<s;)o.push(c(o.length));v.exports=d.apply(void 0,o.concat([o,c]));for(var A=0;A<o.length;++A)v.exports[A]=o[A]}w()},9130:function(v,p,r){var t=r(9660),a=r(9662);v.exports=n;function n(u,s){for(var l=t(u[0],s[0]),m=1;m<u.length;++m)l=a(l,t(u[m],s[m]));return l}},2227:function(v,p,r){var t=r(9660),a=r(9662),n=r(4078),u=r(8289),s=6;function l(M){var f=M===3?c:M===4?o:M===5?d:w;return f(a,n,t,u)}function m(){return 0}function h(){return 0}function g(){return 0}function c(M,f,P,T){function z(_,V,F){var N=P(_[0],_[0]),k=T(N,V[0]),I=T(N,F[0]),H=P(V[0],V[0]),j=T(H,_[0]),ee=T(H,F[0]),te=P(F[0],F[0]),ne=T(te,_[0]),ue=T(te,V[0]),q=M(f(ue,ee),f(j,k)),Y=f(ne,I),Z=f(q,Y);return Z[Z.length-1]}return z}function o(M,f,P,T){function z(_,V,F,N){var k=M(P(_[0],_[0]),P(_[1],_[1])),I=T(k,V[0]),H=T(k,F[0]),j=T(k,N[0]),ee=M(P(V[0],V[0]),P(V[1],V[1])),te=T(ee,_[0]),ne=T(ee,F[0]),ue=T(ee,N[0]),q=M(P(F[0],F[0]),P(F[1],F[1])),Y=T(q,_[0]),Z=T(q,V[0]),G=T(q,N[0]),K=M(P(N[0],N[0]),P(N[1],N[1])),oe=T(K,_[0]),$=T(K,V[0]),J=T(K,F[0]),se=M(M(T(f(J,G),V[1]),M(T(f($,ue),-F[1]),T(f(Z,ne),N[1]))),M(T(f($,ue),_[1]),M(T(f(oe,j),-V[1]),T(f(te,I),N[1])))),ie=M(M(T(f(J,G),_[1]),M(T(f(oe,j),-F[1]),T(f(Y,H),N[1]))),M(T(f(Z,ne),_[1]),M(T(f(Y,H),-V[1]),T(f(te,I),F[1])))),ce=f(se,ie);return ce[ce.length-1]}return z}function d(M,f,P,T){function z(_,V,F,N,k){var I=M(P(_[0],_[0]),M(P(_[1],_[1]),P(_[2],_[2]))),H=T(I,V[0]),j=T(I,F[0]),ee=T(I,N[0]),te=T(I,k[0]),ne=M(P(V[0],V[0]),M(P(V[1],V[1]),P(V[2],V[2]))),ue=T(ne,_[0]),q=T(ne,F[0]),Y=T(ne,N[0]),Z=T(ne,k[0]),G=M(P(F[0],F[0]),M(P(F[1],F[1]),P(F[2],F[2]))),K=T(G,_[0]),oe=T(G,V[0]),$=T(G,N[0]),J=T(G,k[0]),se=M(P(N[0],N[0]),M(P(N[1],N[1]),P(N[2],N[2]))),ie=T(se,_[0]),ce=T(se,V[0]),ye=T(se,F[0]),Se=T(se,k[0]),Te=M(P(k[0],k[0]),M(P(k[1],k[1]),P(k[2],k[2]))),ke=T(Te,_[0]),we=T(Te,V[0]),Ee=T(Te,F[0]),xe=T(Te,N[0]),De=M(M(M(T(M(T(f(xe,Se),F[1]),M(T(f(Ee,J),-N[1]),T(f(ye,$),k[1]))),V[2]),M(T(M(T(f(xe,Se),V[1]),M(T(f(we,Z),-N[1]),T(f(ce,Y),k[1]))),-F[2]),T(M(T(f(Ee,J),V[1]),M(T(f(we,Z),-F[1]),T(f(oe,q),k[1]))),N[2]))),M(T(M(T(f(ye,$),V[1]),M(T(f(ce,Y),-F[1]),T(f(oe,q),N[1]))),-k[2]),M(T(M(T(f(xe,Se),V[1]),M(T(f(we,Z),-N[1]),T(f(ce,Y),k[1]))),_[2]),T(M(T(f(xe,Se),_[1]),M(T(f(ke,te),-N[1]),T(f(ie,ee),k[1]))),-V[2])))),M(M(T(M(T(f(we,Z),_[1]),M(T(f(ke,te),-V[1]),T(f(ue,H),k[1]))),N[2]),M(T(M(T(f(ce,Y),_[1]),M(T(f(ie,ee),-V[1]),T(f(ue,H),N[1]))),-k[2]),T(M(T(f(ye,$),V[1]),M(T(f(ce,Y),-F[1]),T(f(oe,q),N[1]))),_[2]))),M(T(M(T(f(ye,$),_[1]),M(T(f(ie,ee),-F[1]),T(f(K,j),N[1]))),-V[2]),M(T(M(T(f(ce,Y),_[1]),M(T(f(ie,ee),-V[1]),T(f(ue,H),N[1]))),F[2]),T(M(T(f(oe,q),_[1]),M(T(f(K,j),-V[1]),T(f(ue,H),F[1]))),-N[2]))))),Ve=M(M(M(T(M(T(f(xe,Se),F[1]),M(T(f(Ee,J),-N[1]),T(f(ye,$),k[1]))),_[2]),T(M(T(f(xe,Se),_[1]),M(T(f(ke,te),-N[1]),T(f(ie,ee),k[1]))),-F[2])),M(T(M(T(f(Ee,J),_[1]),M(T(f(ke,te),-F[1]),T(f(K,j),k[1]))),N[2]),T(M(T(f(ye,$),_[1]),M(T(f(ie,ee),-F[1]),T(f(K,j),N[1]))),-k[2]))),M(M(T(M(T(f(Ee,J),V[1]),M(T(f(we,Z),-F[1]),T(f(oe,q),k[1]))),_[2]),T(M(T(f(Ee,J),_[1]),M(T(f(ke,te),-F[1]),T(f(K,j),k[1]))),-V[2])),M(T(M(T(f(we,Z),_[1]),M(T(f(ke,te),-V[1]),T(f(ue,H),k[1]))),F[2]),T(M(T(f(oe,q),_[1]),M(T(f(K,j),-V[1]),T(f(ue,H),F[1]))),-k[2])))),Ue=f(De,Ve);return Ue[Ue.length-1]}return z}function w(M,f,P,T){function z(_,V,F,N,k,I){var H=M(M(P(_[0],_[0]),P(_[1],_[1])),M(P(_[2],_[2]),P(_[3],_[3]))),j=T(H,V[0]),ee=T(H,F[0]),te=T(H,N[0]),ne=T(H,k[0]),ue=T(H,I[0]),q=M(M(P(V[0],V[0]),P(V[1],V[1])),M(P(V[2],V[2]),P(V[3],V[3]))),Y=T(q,_[0]),Z=T(q,F[0]),G=T(q,N[0]),K=T(q,k[0]),oe=T(q,I[0]),$=M(M(P(F[0],F[0]),P(F[1],F[1])),M(P(F[2],F[2]),P(F[3],F[3]))),J=T($,_[0]),se=T($,V[0]),ie=T($,N[0]),ce=T($,k[0]),ye=T($,I[0]),Se=M(M(P(N[0],N[0]),P(N[1],N[1])),M(P(N[2],N[2]),P(N[3],N[3]))),Te=T(Se,_[0]),ke=T(Se,V[0]),we=T(Se,F[0]),Ee=T(Se,k[0]),xe=T(Se,I[0]),De=M(M(P(k[0],k[0]),P(k[1],k[1])),M(P(k[2],k[2]),P(k[3],k[3]))),Ve=T(De,_[0]),Ue=T(De,V[0]),Be=T(De,F[0]),Xe=T(De,N[0]),ot=T(De,I[0]),ut=M(M(P(I[0],I[0]),P(I[1],I[1])),M(P(I[2],I[2]),P(I[3],I[3]))),et=T(ut,_[0]),qe=T(ut,V[0]),ft=T(ut,F[0]),ht=T(ut,N[0]),dt=T(ut,k[0]),mt=M(M(M(T(M(M(T(M(T(f(dt,ot),N[1]),M(T(f(ht,xe),-k[1]),T(f(Xe,Ee),I[1]))),F[2]),T(M(T(f(dt,ot),F[1]),M(T(f(ft,ye),-k[1]),T(f(Be,ce),I[1]))),-N[2])),M(T(M(T(f(ht,xe),F[1]),M(T(f(ft,ye),-N[1]),T(f(we,ie),I[1]))),k[2]),T(M(T(f(Xe,Ee),F[1]),M(T(f(Be,ce),-N[1]),T(f(we,ie),k[1]))),-I[2]))),V[3]),M(T(M(M(T(M(T(f(dt,ot),N[1]),M(T(f(ht,xe),-k[1]),T(f(Xe,Ee),I[1]))),V[2]),T(M(T(f(dt,ot),V[1]),M(T(f(qe,oe),-k[1]),T(f(Ue,K),I[1]))),-N[2])),M(T(M(T(f(ht,xe),V[1]),M(T(f(qe,oe),-N[1]),T(f(ke,G),I[1]))),k[2]),T(M(T(f(Xe,Ee),V[1]),M(T(f(Ue,K),-N[1]),T(f(ke,G),k[1]))),-I[2]))),-F[3]),T(M(M(T(M(T(f(dt,ot),F[1]),M(T(f(ft,ye),-k[1]),T(f(Be,ce),I[1]))),V[2]),T(M(T(f(dt,ot),V[1]),M(T(f(qe,oe),-k[1]),T(f(Ue,K),I[1]))),-F[2])),M(T(M(T(f(ft,ye),V[1]),M(T(f(qe,oe),-F[1]),T(f(se,Z),I[1]))),k[2]),T(M(T(f(Be,ce),V[1]),M(T(f(Ue,K),-F[1]),T(f(se,Z),k[1]))),-I[2]))),N[3]))),M(M(T(M(M(T(M(T(f(ht,xe),F[1]),M(T(f(ft,ye),-N[1]),T(f(we,ie),I[1]))),V[2]),T(M(T(f(ht,xe),V[1]),M(T(f(qe,oe),-N[1]),T(f(ke,G),I[1]))),-F[2])),M(T(M(T(f(ft,ye),V[1]),M(T(f(qe,oe),-F[1]),T(f(se,Z),I[1]))),N[2]),T(M(T(f(we,ie),V[1]),M(T(f(ke,G),-F[1]),T(f(se,Z),N[1]))),-I[2]))),-k[3]),T(M(M(T(M(T(f(Xe,Ee),F[1]),M(T(f(Be,ce),-N[1]),T(f(we,ie),k[1]))),V[2]),T(M(T(f(Xe,Ee),V[1]),M(T(f(Ue,K),-N[1]),T(f(ke,G),k[1]))),-F[2])),M(T(M(T(f(Be,ce),V[1]),M(T(f(Ue,K),-F[1]),T(f(se,Z),k[1]))),N[2]),T(M(T(f(we,ie),V[1]),M(T(f(ke,G),-F[1]),T(f(se,Z),N[1]))),-k[2]))),I[3])),M(T(M(M(T(M(T(f(dt,ot),N[1]),M(T(f(ht,xe),-k[1]),T(f(Xe,Ee),I[1]))),V[2]),T(M(T(f(dt,ot),V[1]),M(T(f(qe,oe),-k[1]),T(f(Ue,K),I[1]))),-N[2])),M(T(M(T(f(ht,xe),V[1]),M(T(f(qe,oe),-N[1]),T(f(ke,G),I[1]))),k[2]),T(M(T(f(Xe,Ee),V[1]),M(T(f(Ue,K),-N[1]),T(f(ke,G),k[1]))),-I[2]))),_[3]),T(M(M(T(M(T(f(dt,ot),N[1]),M(T(f(ht,xe),-k[1]),T(f(Xe,Ee),I[1]))),_[2]),T(M(T(f(dt,ot),_[1]),M(T(f(et,ue),-k[1]),T(f(Ve,ne),I[1]))),-N[2])),M(T(M(T(f(ht,xe),_[1]),M(T(f(et,ue),-N[1]),T(f(Te,te),I[1]))),k[2]),T(M(T(f(Xe,Ee),_[1]),M(T(f(Ve,ne),-N[1]),T(f(Te,te),k[1]))),-I[2]))),-V[3])))),M(M(M(T(M(M(T(M(T(f(dt,ot),V[1]),M(T(f(qe,oe),-k[1]),T(f(Ue,K),I[1]))),_[2]),T(M(T(f(dt,ot),_[1]),M(T(f(et,ue),-k[1]),T(f(Ve,ne),I[1]))),-V[2])),M(T(M(T(f(qe,oe),_[1]),M(T(f(et,ue),-V[1]),T(f(Y,j),I[1]))),k[2]),T(M(T(f(Ue,K),_[1]),M(T(f(Ve,ne),-V[1]),T(f(Y,j),k[1]))),-I[2]))),N[3]),T(M(M(T(M(T(f(ht,xe),V[1]),M(T(f(qe,oe),-N[1]),T(f(ke,G),I[1]))),_[2]),T(M(T(f(ht,xe),_[1]),M(T(f(et,ue),-N[1]),T(f(Te,te),I[1]))),-V[2])),M(T(M(T(f(qe,oe),_[1]),M(T(f(et,ue),-V[1]),T(f(Y,j),I[1]))),N[2]),T(M(T(f(ke,G),_[1]),M(T(f(Te,te),-V[1]),T(f(Y,j),N[1]))),-I[2]))),-k[3])),M(T(M(M(T(M(T(f(Xe,Ee),V[1]),M(T(f(Ue,K),-N[1]),T(f(ke,G),k[1]))),_[2]),T(M(T(f(Xe,Ee),_[1]),M(T(f(Ve,ne),-N[1]),T(f(Te,te),k[1]))),-V[2])),M(T(M(T(f(Ue,K),_[1]),M(T(f(Ve,ne),-V[1]),T(f(Y,j),k[1]))),N[2]),T(M(T(f(ke,G),_[1]),M(T(f(Te,te),-V[1]),T(f(Y,j),N[1]))),-k[2]))),I[3]),T(M(M(T(M(T(f(ht,xe),F[1]),M(T(f(ft,ye),-N[1]),T(f(we,ie),I[1]))),V[2]),T(M(T(f(ht,xe),V[1]),M(T(f(qe,oe),-N[1]),T(f(ke,G),I[1]))),-F[2])),M(T(M(T(f(ft,ye),V[1]),M(T(f(qe,oe),-F[1]),T(f(se,Z),I[1]))),N[2]),T(M(T(f(we,ie),V[1]),M(T(f(ke,G),-F[1]),T(f(se,Z),N[1]))),-I[2]))),_[3]))),M(M(T(M(M(T(M(T(f(ht,xe),F[1]),M(T(f(ft,ye),-N[1]),T(f(we,ie),I[1]))),_[2]),T(M(T(f(ht,xe),_[1]),M(T(f(et,ue),-N[1]),T(f(Te,te),I[1]))),-F[2])),M(T(M(T(f(ft,ye),_[1]),M(T(f(et,ue),-F[1]),T(f(J,ee),I[1]))),N[2]),T(M(T(f(we,ie),_[1]),M(T(f(Te,te),-F[1]),T(f(J,ee),N[1]))),-I[2]))),-V[3]),T(M(M(T(M(T(f(ht,xe),V[1]),M(T(f(qe,oe),-N[1]),T(f(ke,G),I[1]))),_[2]),T(M(T(f(ht,xe),_[1]),M(T(f(et,ue),-N[1]),T(f(Te,te),I[1]))),-V[2])),M(T(M(T(f(qe,oe),_[1]),M(T(f(et,ue),-V[1]),T(f(Y,j),I[1]))),N[2]),T(M(T(f(ke,G),_[1]),M(T(f(Te,te),-V[1]),T(f(Y,j),N[1]))),-I[2]))),F[3])),M(T(M(M(T(M(T(f(ft,ye),V[1]),M(T(f(qe,oe),-F[1]),T(f(se,Z),I[1]))),_[2]),T(M(T(f(ft,ye),_[1]),M(T(f(et,ue),-F[1]),T(f(J,ee),I[1]))),-V[2])),M(T(M(T(f(qe,oe),_[1]),M(T(f(et,ue),-V[1]),T(f(Y,j),I[1]))),F[2]),T(M(T(f(se,Z),_[1]),M(T(f(J,ee),-V[1]),T(f(Y,j),F[1]))),-I[2]))),-N[3]),T(M(M(T(M(T(f(we,ie),V[1]),M(T(f(ke,G),-F[1]),T(f(se,Z),N[1]))),_[2]),T(M(T(f(we,ie),_[1]),M(T(f(Te,te),-F[1]),T(f(J,ee),N[1]))),-V[2])),M(T(M(T(f(ke,G),_[1]),M(T(f(Te,te),-V[1]),T(f(Y,j),N[1]))),F[2]),T(M(T(f(se,Z),_[1]),M(T(f(J,ee),-V[1]),T(f(Y,j),F[1]))),-N[2]))),I[3]))))),St=M(M(M(T(M(M(T(M(T(f(dt,ot),N[1]),M(T(f(ht,xe),-k[1]),T(f(Xe,Ee),I[1]))),F[2]),T(M(T(f(dt,ot),F[1]),M(T(f(ft,ye),-k[1]),T(f(Be,ce),I[1]))),-N[2])),M(T(M(T(f(ht,xe),F[1]),M(T(f(ft,ye),-N[1]),T(f(we,ie),I[1]))),k[2]),T(M(T(f(Xe,Ee),F[1]),M(T(f(Be,ce),-N[1]),T(f(we,ie),k[1]))),-I[2]))),_[3]),M(T(M(M(T(M(T(f(dt,ot),N[1]),M(T(f(ht,xe),-k[1]),T(f(Xe,Ee),I[1]))),_[2]),T(M(T(f(dt,ot),_[1]),M(T(f(et,ue),-k[1]),T(f(Ve,ne),I[1]))),-N[2])),M(T(M(T(f(ht,xe),_[1]),M(T(f(et,ue),-N[1]),T(f(Te,te),I[1]))),k[2]),T(M(T(f(Xe,Ee),_[1]),M(T(f(Ve,ne),-N[1]),T(f(Te,te),k[1]))),-I[2]))),-F[3]),T(M(M(T(M(T(f(dt,ot),F[1]),M(T(f(ft,ye),-k[1]),T(f(Be,ce),I[1]))),_[2]),T(M(T(f(dt,ot),_[1]),M(T(f(et,ue),-k[1]),T(f(Ve,ne),I[1]))),-F[2])),M(T(M(T(f(ft,ye),_[1]),M(T(f(et,ue),-F[1]),T(f(J,ee),I[1]))),k[2]),T(M(T(f(Be,ce),_[1]),M(T(f(Ve,ne),-F[1]),T(f(J,ee),k[1]))),-I[2]))),N[3]))),M(M(T(M(M(T(M(T(f(ht,xe),F[1]),M(T(f(ft,ye),-N[1]),T(f(we,ie),I[1]))),_[2]),T(M(T(f(ht,xe),_[1]),M(T(f(et,ue),-N[1]),T(f(Te,te),I[1]))),-F[2])),M(T(M(T(f(ft,ye),_[1]),M(T(f(et,ue),-F[1]),T(f(J,ee),I[1]))),N[2]),T(M(T(f(we,ie),_[1]),M(T(f(Te,te),-F[1]),T(f(J,ee),N[1]))),-I[2]))),-k[3]),T(M(M(T(M(T(f(Xe,Ee),F[1]),M(T(f(Be,ce),-N[1]),T(f(we,ie),k[1]))),_[2]),T(M(T(f(Xe,Ee),_[1]),M(T(f(Ve,ne),-N[1]),T(f(Te,te),k[1]))),-F[2])),M(T(M(T(f(Be,ce),_[1]),M(T(f(Ve,ne),-F[1]),T(f(J,ee),k[1]))),N[2]),T(M(T(f(we,ie),_[1]),M(T(f(Te,te),-F[1]),T(f(J,ee),N[1]))),-k[2]))),I[3])),M(T(M(M(T(M(T(f(dt,ot),F[1]),M(T(f(ft,ye),-k[1]),T(f(Be,ce),I[1]))),V[2]),T(M(T(f(dt,ot),V[1]),M(T(f(qe,oe),-k[1]),T(f(Ue,K),I[1]))),-F[2])),M(T(M(T(f(ft,ye),V[1]),M(T(f(qe,oe),-F[1]),T(f(se,Z),I[1]))),k[2]),T(M(T(f(Be,ce),V[1]),M(T(f(Ue,K),-F[1]),T(f(se,Z),k[1]))),-I[2]))),_[3]),T(M(M(T(M(T(f(dt,ot),F[1]),M(T(f(ft,ye),-k[1]),T(f(Be,ce),I[1]))),_[2]),T(M(T(f(dt,ot),_[1]),M(T(f(et,ue),-k[1]),T(f(Ve,ne),I[1]))),-F[2])),M(T(M(T(f(ft,ye),_[1]),M(T(f(et,ue),-F[1]),T(f(J,ee),I[1]))),k[2]),T(M(T(f(Be,ce),_[1]),M(T(f(Ve,ne),-F[1]),T(f(J,ee),k[1]))),-I[2]))),-V[3])))),M(M(M(T(M(M(T(M(T(f(dt,ot),V[1]),M(T(f(qe,oe),-k[1]),T(f(Ue,K),I[1]))),_[2]),T(M(T(f(dt,ot),_[1]),M(T(f(et,ue),-k[1]),T(f(Ve,ne),I[1]))),-V[2])),M(T(M(T(f(qe,oe),_[1]),M(T(f(et,ue),-V[1]),T(f(Y,j),I[1]))),k[2]),T(M(T(f(Ue,K),_[1]),M(T(f(Ve,ne),-V[1]),T(f(Y,j),k[1]))),-I[2]))),F[3]),T(M(M(T(M(T(f(ft,ye),V[1]),M(T(f(qe,oe),-F[1]),T(f(se,Z),I[1]))),_[2]),T(M(T(f(ft,ye),_[1]),M(T(f(et,ue),-F[1]),T(f(J,ee),I[1]))),-V[2])),M(T(M(T(f(qe,oe),_[1]),M(T(f(et,ue),-V[1]),T(f(Y,j),I[1]))),F[2]),T(M(T(f(se,Z),_[1]),M(T(f(J,ee),-V[1]),T(f(Y,j),F[1]))),-I[2]))),-k[3])),M(T(M(M(T(M(T(f(Be,ce),V[1]),M(T(f(Ue,K),-F[1]),T(f(se,Z),k[1]))),_[2]),T(M(T(f(Be,ce),_[1]),M(T(f(Ve,ne),-F[1]),T(f(J,ee),k[1]))),-V[2])),M(T(M(T(f(Ue,K),_[1]),M(T(f(Ve,ne),-V[1]),T(f(Y,j),k[1]))),F[2]),T(M(T(f(se,Z),_[1]),M(T(f(J,ee),-V[1]),T(f(Y,j),F[1]))),-k[2]))),I[3]),T(M(M(T(M(T(f(Xe,Ee),F[1]),M(T(f(Be,ce),-N[1]),T(f(we,ie),k[1]))),V[2]),T(M(T(f(Xe,Ee),V[1]),M(T(f(Ue,K),-N[1]),T(f(ke,G),k[1]))),-F[2])),M(T(M(T(f(Be,ce),V[1]),M(T(f(Ue,K),-F[1]),T(f(se,Z),k[1]))),N[2]),T(M(T(f(we,ie),V[1]),M(T(f(ke,G),-F[1]),T(f(se,Z),N[1]))),-k[2]))),_[3]))),M(M(T(M(M(T(M(T(f(Xe,Ee),F[1]),M(T(f(Be,ce),-N[1]),T(f(we,ie),k[1]))),_[2]),T(M(T(f(Xe,Ee),_[1]),M(T(f(Ve,ne),-N[1]),T(f(Te,te),k[1]))),-F[2])),M(T(M(T(f(Be,ce),_[1]),M(T(f(Ve,ne),-F[1]),T(f(J,ee),k[1]))),N[2]),T(M(T(f(we,ie),_[1]),M(T(f(Te,te),-F[1]),T(f(J,ee),N[1]))),-k[2]))),-V[3]),T(M(M(T(M(T(f(Xe,Ee),V[1]),M(T(f(Ue,K),-N[1]),T(f(ke,G),k[1]))),_[2]),T(M(T(f(Xe,Ee),_[1]),M(T(f(Ve,ne),-N[1]),T(f(Te,te),k[1]))),-V[2])),M(T(M(T(f(Ue,K),_[1]),M(T(f(Ve,ne),-V[1]),T(f(Y,j),k[1]))),N[2]),T(M(T(f(ke,G),_[1]),M(T(f(Te,te),-V[1]),T(f(Y,j),N[1]))),-k[2]))),F[3])),M(T(M(M(T(M(T(f(Be,ce),V[1]),M(T(f(Ue,K),-F[1]),T(f(se,Z),k[1]))),_[2]),T(M(T(f(Be,ce),_[1]),M(T(f(Ve,ne),-F[1]),T(f(J,ee),k[1]))),-V[2])),M(T(M(T(f(Ue,K),_[1]),M(T(f(Ve,ne),-V[1]),T(f(Y,j),k[1]))),F[2]),T(M(T(f(se,Z),_[1]),M(T(f(J,ee),-V[1]),T(f(Y,j),F[1]))),-k[2]))),-N[3]),T(M(M(T(M(T(f(we,ie),V[1]),M(T(f(ke,G),-F[1]),T(f(se,Z),N[1]))),_[2]),T(M(T(f(we,ie),_[1]),M(T(f(Te,te),-F[1]),T(f(J,ee),N[1]))),-V[2])),M(T(M(T(f(ke,G),_[1]),M(T(f(Te,te),-V[1]),T(f(Y,j),N[1]))),F[2]),T(M(T(f(se,Z),_[1]),M(T(f(J,ee),-V[1]),T(f(Y,j),F[1]))),-N[2]))),k[3]))))),rt=f(mt,St);return rt[rt.length-1]}return z}var A=[m,h,g];function C(M){var f=A[M.length];return f||(f=A[M.length]=l(M.length)),f.apply(void 0,M)}function x(M,f,P,T,z,_,V,F){function N(k,I,H,j,ee,te){switch(arguments.length){case 0:case 1:return 0;case 2:return T(k,I);case 3:return z(k,I,H);case 4:return _(k,I,H,j);case 5:return V(k,I,H,j,ee);case 6:return F(k,I,H,j,ee,te)}for(var ne=new Array(arguments.length),ue=0;ue<arguments.length;++ue)ne[ue]=arguments[ue];return M(ne)}return N}function E(){for(;A.length<=s;)A.push(l(A.length));v.exports=x.apply(void 0,[C].concat(A));for(var M=0;M<=s;++M)v.exports[M]=A[M]}E()},6606:function(v,p,r){var t=r(8167),a=6;function n(A){var C=A===2?l:A===3?m:A===4?h:A===5?g:c;return A<6?C(t[A]):C(t)}function u(){return[[0]]}function s(A,C){return[[C[0]],[A[0][0]]]}function l(A){return function(x,E){return[A([[+E[0],+x[0][1]],[+E[1],+x[1][1]]]),A([[+x[0][0],+E[0]],[+x[1][0],+E[1]]]),A(x)]}}function m(A){return function(x,E){return[A([[+E[0],+x[0][1],+x[0][2]],[+E[1],+x[1][1],+x[1][2]],[+E[2],+x[2][1],+x[2][2]]]),A([[+x[0][0],+E[0],+x[0][2]],[+x[1][0],+E[1],+x[1][2]],[+x[2][0],+E[2],+x[2][2]]]),A([[+x[0][0],+x[0][1],+E[0]],[+x[1][0],+x[1][1],+E[1]],[+x[2][0],+x[2][1],+E[2]]]),A(x)]}}function h(A){return function(x,E){return[A([[+E[0],+x[0][1],+x[0][2],+x[0][3]],[+E[1],+x[1][1],+x[1][2],+x[1][3]],[+E[2],+x[2][1],+x[2][2],+x[2][3]],[+E[3],+x[3][1],+x[3][2],+x[3][3]]]),A([[+x[0][0],+E[0],+x[0][2],+x[0][3]],[+x[1][0],+E[1],+x[1][2],+x[1][3]],[+x[2][0],+E[2],+x[2][2],+x[2][3]],[+x[3][0],+E[3],+x[3][2],+x[3][3]]]),A([[+x[0][0],+x[0][1],+E[0],+x[0][3]],[+x[1][0],+x[1][1],+E[1],+x[1][3]],[+x[2][0],+x[2][1],+E[2],+x[2][3]],[+x[3][0],+x[3][1],+E[3],+x[3][3]]]),A([[+x[0][0],+x[0][1],+x[0][2],+E[0]],[+x[1][0],+x[1][1],+x[1][2],+E[1]],[+x[2][0],+x[2][1],+x[2][2],+E[2]],[+x[3][0],+x[3][1],+x[3][2],+E[3]]]),A(x)]}}function g(A){return function(x,E){return[A([[+E[0],+x[0][1],+x[0][2],+x[0][3],+x[0][4]],[+E[1],+x[1][1],+x[1][2],+x[1][3],+x[1][4]],[+E[2],+x[2][1],+x[2][2],+x[2][3],+x[2][4]],[+E[3],+x[3][1],+x[3][2],+x[3][3],+x[3][4]],[+E[4],+x[4][1],+x[4][2],+x[4][3],+x[4][4]]]),A([[+x[0][0],+E[0],+x[0][2],+x[0][3],+x[0][4]],[+x[1][0],+E[1],+x[1][2],+x[1][3],+x[1][4]],[+x[2][0],+E[2],+x[2][2],+x[2][3],+x[2][4]],[+x[3][0],+E[3],+x[3][2],+x[3][3],+x[3][4]],[+x[4][0],+E[4],+x[4][2],+x[4][3],+x[4][4]]]),A([[+x[0][0],+x[0][1],+E[0],+x[0][3],+x[0][4]],[+x[1][0],+x[1][1],+E[1],+x[1][3],+x[1][4]],[+x[2][0],+x[2][1],+E[2],+x[2][3],+x[2][4]],[+x[3][0],+x[3][1],+E[3],+x[3][3],+x[3][4]],[+x[4][0],+x[4][1],+E[4],+x[4][3],+x[4][4]]]),A([[+x[0][0],+x[0][1],+x[0][2],+E[0],+x[0][4]],[+x[1][0],+x[1][1],+x[1][2],+E[1],+x[1][4]],[+x[2][0],+x[2][1],+x[2][2],+E[2],+x[2][4]],[+x[3][0],+x[3][1],+x[3][2],+E[3],+x[3][4]],[+x[4][0],+x[4][1],+x[4][2],+E[4],+x[4][4]]]),A([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+E[0]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+E[1]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+E[2]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+E[3]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+E[4]]]),A(x)]}}function c(A){return function(x,E){return[A([[+E[0],+x[0][1],+x[0][2],+x[0][3],+x[0][4],+x[0][5]],[+E[1],+x[1][1],+x[1][2],+x[1][3],+x[1][4],+x[1][5]],[+E[2],+x[2][1],+x[2][2],+x[2][3],+x[2][4],+x[2][5]],[+E[3],+x[3][1],+x[3][2],+x[3][3],+x[3][4],+x[3][5]],[+E[4],+x[4][1],+x[4][2],+x[4][3],+x[4][4],+x[4][5]],[+E[5],+x[5][1],+x[5][2],+x[5][3],+x[5][4],+x[5][5]]]),A([[+x[0][0],+E[0],+x[0][2],+x[0][3],+x[0][4],+x[0][5]],[+x[1][0],+E[1],+x[1][2],+x[1][3],+x[1][4],+x[1][5]],[+x[2][0],+E[2],+x[2][2],+x[2][3],+x[2][4],+x[2][5]],[+x[3][0],+E[3],+x[3][2],+x[3][3],+x[3][4],+x[3][5]],[+x[4][0],+E[4],+x[4][2],+x[4][3],+x[4][4],+x[4][5]],[+x[5][0],+E[5],+x[5][2],+x[5][3],+x[5][4],+x[5][5]]]),A([[+x[0][0],+x[0][1],+E[0],+x[0][3],+x[0][4],+x[0][5]],[+x[1][0],+x[1][1],+E[1],+x[1][3],+x[1][4],+x[1][5]],[+x[2][0],+x[2][1],+E[2],+x[2][3],+x[2][4],+x[2][5]],[+x[3][0],+x[3][1],+E[3],+x[3][3],+x[3][4],+x[3][5]],[+x[4][0],+x[4][1],+E[4],+x[4][3],+x[4][4],+x[4][5]],[+x[5][0],+x[5][1],+E[5],+x[5][3],+x[5][4],+x[5][5]]]),A([[+x[0][0],+x[0][1],+x[0][2],+E[0],+x[0][4],+x[0][5]],[+x[1][0],+x[1][1],+x[1][2],+E[1],+x[1][4],+x[1][5]],[+x[2][0],+x[2][1],+x[2][2],+E[2],+x[2][4],+x[2][5]],[+x[3][0],+x[3][1],+x[3][2],+E[3],+x[3][4],+x[3][5]],[+x[4][0],+x[4][1],+x[4][2],+E[4],+x[4][4],+x[4][5]],[+x[5][0],+x[5][1],+x[5][2],+E[5],+x[5][4],+x[5][5]]]),A([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+E[0],+x[0][5]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+E[1],+x[1][5]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+E[2],+x[2][5]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+E[3],+x[3][5]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+E[4],+x[4][5]],[+x[5][0],+x[5][1],+x[5][2],+x[5][3],+E[5],+x[5][5]]]),A([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+x[0][4],+E[0]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+x[1][4],+E[1]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+x[2][4],+E[2]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+x[3][4],+E[3]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+x[4][4],+E[4]],[+x[5][0],+x[5][1],+x[5][2],+x[5][3],+x[5][4],+E[5]]]),A(x)]}}var o=[u,s];function d(A,C,x,E,M,f,P,T){return function(_,V){switch(_.length){case 0:return A(_,V);case 1:return C(_,V);case 2:return x(_,V);case 3:return E(_,V);case 4:return M(_,V);case 5:return f(_,V)}var F=P[_.length];return F||(F=P[_.length]=T(_.length)),F(_,V)}}function w(){for(;o.length<a;)o.push(n(o.length));v.exports=d.apply(void 0,o.concat([o,n]));for(var A=0;A<a;++A)v.exports[A]=o[A]}w()},417:function(v,p,r){var t=r(9660),a=r(9662),n=r(8289),u=r(4078),s=5,l=11102230246251565e-32,m=(3+16*l)*l,h=(7+56*l)*l;function g(f,P,T,z){return function(V,F,N){var k=f(f(P(F[1],N[0]),P(-N[1],F[0])),f(P(V[1],F[0]),P(-F[1],V[0]))),I=f(P(V[1],N[0]),P(-N[1],V[0])),H=z(k,I);return H[H.length-1]}}function c(f,P,T,z){return function(V,F,N,k){var I=f(f(T(f(P(N[1],k[0]),P(-k[1],N[0])),F[2]),f(T(f(P(F[1],k[0]),P(-k[1],F[0])),-N[2]),T(f(P(F[1],N[0]),P(-N[1],F[0])),k[2]))),f(T(f(P(F[1],k[0]),P(-k[1],F[0])),V[2]),f(T(f(P(V[1],k[0]),P(-k[1],V[0])),-F[2]),T(f(P(V[1],F[0]),P(-F[1],V[0])),k[2])))),H=f(f(T(f(P(N[1],k[0]),P(-k[1],N[0])),V[2]),f(T(f(P(V[1],k[0]),P(-k[1],V[0])),-N[2]),T(f(P(V[1],N[0]),P(-N[1],V[0])),k[2]))),f(T(f(P(F[1],N[0]),P(-N[1],F[0])),V[2]),f(T(f(P(V[1],N[0]),P(-N[1],V[0])),-F[2]),T(f(P(V[1],F[0]),P(-F[1],V[0])),N[2])))),j=z(I,H);return j[j.length-1]}}function o(f,P,T,z){return function(V,F,N,k,I){var H=f(f(f(T(f(T(f(P(k[1],I[0]),P(-I[1],k[0])),N[2]),f(T(f(P(N[1],I[0]),P(-I[1],N[0])),-k[2]),T(f(P(N[1],k[0]),P(-k[1],N[0])),I[2]))),F[3]),f(T(f(T(f(P(k[1],I[0]),P(-I[1],k[0])),F[2]),f(T(f(P(F[1],I[0]),P(-I[1],F[0])),-k[2]),T(f(P(F[1],k[0]),P(-k[1],F[0])),I[2]))),-N[3]),T(f(T(f(P(N[1],I[0]),P(-I[1],N[0])),F[2]),f(T(f(P(F[1],I[0]),P(-I[1],F[0])),-N[2]),T(f(P(F[1],N[0]),P(-N[1],F[0])),I[2]))),k[3]))),f(T(f(T(f(P(N[1],k[0]),P(-k[1],N[0])),F[2]),f(T(f(P(F[1],k[0]),P(-k[1],F[0])),-N[2]),T(f(P(F[1],N[0]),P(-N[1],F[0])),k[2]))),-I[3]),f(T(f(T(f(P(k[1],I[0]),P(-I[1],k[0])),F[2]),f(T(f(P(F[1],I[0]),P(-I[1],F[0])),-k[2]),T(f(P(F[1],k[0]),P(-k[1],F[0])),I[2]))),V[3]),T(f(T(f(P(k[1],I[0]),P(-I[1],k[0])),V[2]),f(T(f(P(V[1],I[0]),P(-I[1],V[0])),-k[2]),T(f(P(V[1],k[0]),P(-k[1],V[0])),I[2]))),-F[3])))),f(f(T(f(T(f(P(F[1],I[0]),P(-I[1],F[0])),V[2]),f(T(f(P(V[1],I[0]),P(-I[1],V[0])),-F[2]),T(f(P(V[1],F[0]),P(-F[1],V[0])),I[2]))),k[3]),f(T(f(T(f(P(F[1],k[0]),P(-k[1],F[0])),V[2]),f(T(f(P(V[1],k[0]),P(-k[1],V[0])),-F[2]),T(f(P(V[1],F[0]),P(-F[1],V[0])),k[2]))),-I[3]),T(f(T(f(P(N[1],k[0]),P(-k[1],N[0])),F[2]),f(T(f(P(F[1],k[0]),P(-k[1],F[0])),-N[2]),T(f(P(F[1],N[0]),P(-N[1],F[0])),k[2]))),V[3]))),f(T(f(T(f(P(N[1],k[0]),P(-k[1],N[0])),V[2]),f(T(f(P(V[1],k[0]),P(-k[1],V[0])),-N[2]),T(f(P(V[1],N[0]),P(-N[1],V[0])),k[2]))),-F[3]),f(T(f(T(f(P(F[1],k[0]),P(-k[1],F[0])),V[2]),f(T(f(P(V[1],k[0]),P(-k[1],V[0])),-F[2]),T(f(P(V[1],F[0]),P(-F[1],V[0])),k[2]))),N[3]),T(f(T(f(P(F[1],N[0]),P(-N[1],F[0])),V[2]),f(T(f(P(V[1],N[0]),P(-N[1],V[0])),-F[2]),T(f(P(V[1],F[0]),P(-F[1],V[0])),N[2]))),-k[3]))))),j=f(f(f(T(f(T(f(P(k[1],I[0]),P(-I[1],k[0])),N[2]),f(T(f(P(N[1],I[0]),P(-I[1],N[0])),-k[2]),T(f(P(N[1],k[0]),P(-k[1],N[0])),I[2]))),V[3]),T(f(T(f(P(k[1],I[0]),P(-I[1],k[0])),V[2]),f(T(f(P(V[1],I[0]),P(-I[1],V[0])),-k[2]),T(f(P(V[1],k[0]),P(-k[1],V[0])),I[2]))),-N[3])),f(T(f(T(f(P(N[1],I[0]),P(-I[1],N[0])),V[2]),f(T(f(P(V[1],I[0]),P(-I[1],V[0])),-N[2]),T(f(P(V[1],N[0]),P(-N[1],V[0])),I[2]))),k[3]),T(f(T(f(P(N[1],k[0]),P(-k[1],N[0])),V[2]),f(T(f(P(V[1],k[0]),P(-k[1],V[0])),-N[2]),T(f(P(V[1],N[0]),P(-N[1],V[0])),k[2]))),-I[3]))),f(f(T(f(T(f(P(N[1],I[0]),P(-I[1],N[0])),F[2]),f(T(f(P(F[1],I[0]),P(-I[1],F[0])),-N[2]),T(f(P(F[1],N[0]),P(-N[1],F[0])),I[2]))),V[3]),T(f(T(f(P(N[1],I[0]),P(-I[1],N[0])),V[2]),f(T(f(P(V[1],I[0]),P(-I[1],V[0])),-N[2]),T(f(P(V[1],N[0]),P(-N[1],V[0])),I[2]))),-F[3])),f(T(f(T(f(P(F[1],I[0]),P(-I[1],F[0])),V[2]),f(T(f(P(V[1],I[0]),P(-I[1],V[0])),-F[2]),T(f(P(V[1],F[0]),P(-F[1],V[0])),I[2]))),N[3]),T(f(T(f(P(F[1],N[0]),P(-N[1],F[0])),V[2]),f(T(f(P(V[1],N[0]),P(-N[1],V[0])),-F[2]),T(f(P(V[1],F[0]),P(-F[1],V[0])),N[2]))),-I[3])))),ee=z(H,j);return ee[ee.length-1]}}function d(f){var P=f===3?g:f===4?c:o;return P(a,t,n,u)}var w=d(3),A=d(4),C=[function(){return 0},function(){return 0},function(P,T){return T[0]-P[0]},function(P,T,z){var _=(P[1]-z[1])*(T[0]-z[0]),V=(P[0]-z[0])*(T[1]-z[1]),F=_-V,N;if(_>0){if(V<=0)return F;N=_+V}else if(_<0){if(V>=0)return F;N=-(_+V)}else return F;var k=m*N;return F>=k||F<=-k?F:w(P,T,z)},function(P,T,z,_){var V=P[0]-_[0],F=T[0]-_[0],N=z[0]-_[0],k=P[1]-_[1],I=T[1]-_[1],H=z[1]-_[1],j=P[2]-_[2],ee=T[2]-_[2],te=z[2]-_[2],ne=F*H,ue=N*I,q=N*k,Y=V*H,Z=V*I,G=F*k,K=j*(ne-ue)+ee*(q-Y)+te*(Z-G),oe=(Math.abs(ne)+Math.abs(ue))*Math.abs(j)+(Math.abs(q)+Math.abs(Y))*Math.abs(ee)+(Math.abs(Z)+Math.abs(G))*Math.abs(te),$=h*oe;return K>$||-K>$?K:A(P,T,z,_)}];function x(f){var P=C[f.length];return P||(P=C[f.length]=d(f.length)),P.apply(void 0,f)}function E(f,P,T,z,_,V,F){return function(k,I,H,j,ee){switch(arguments.length){case 0:case 1:return 0;case 2:return z(k,I);case 3:return _(k,I,H);case 4:return V(k,I,H,j);case 5:return F(k,I,H,j,ee)}for(var te=new Array(arguments.length),ne=0;ne<arguments.length;++ne)te[ne]=arguments[ne];return f(te)}}function M(){for(;C.length<=s;)C.push(d(C.length));v.exports=E.apply(void 0,[x].concat(C));for(var f=0;f<=s;++f)v.exports[f]=C[f]}M()},2019:function(v,p,r){var t=r(9662),a=r(8289);v.exports=n;function n(u,s){if(u.length===1)return a(s,u[0]);if(s.length===1)return a(u,s[0]);if(u.length===0||s.length===0)return[0];var l=[0];if(u.length<s.length)for(var m=0;m<u.length;++m)l=t(l,a(s,u[m]));else for(var m=0;m<s.length;++m)l=t(l,a(u,s[m]));return l}},8289:function(v,p,r){var t=r(9660),a=r(87);v.exports=n;function n(u,s){var l=u.length;if(l===1){var m=t(u[0],s);return m[0]?m:[m[1]]}var h=new Array(2*l),g=[.1,.1],c=[.1,.1],o=0;t(u[0],s,g),g[0]&&(h[o++]=g[0]);for(var d=1;d<l;++d){t(u[d],s,c);var w=g[1];a(w,c[0],g),g[0]&&(h[o++]=g[0]);var A=c[1],C=g[1],x=A+C,E=x-A,M=C-E;g[1]=x,M&&(h[o++]=M)}return g[1]&&(h[o++]=g[1]),o===0&&(h[o++]=0),h.length=o,h}},4434:function(v,p,r){v.exports=n;var t=r(417)[3];function a(u,s,l,m){for(var h=0;h<2;++h){var g=u[h],c=s[h],o=Math.min(g,c),d=Math.max(g,c),w=l[h],A=m[h],C=Math.min(w,A),x=Math.max(w,A);if(x<o||d<C)return!1}return!0}function n(u,s,l,m){var h=t(u,l,m),g=t(s,l,m);if(h>0&&g>0||h<0&&g<0)return!1;var c=t(l,u,s),o=t(m,u,s);return c>0&&o>0||c<0&&o<0?!1:h===0&&g===0&&c===0&&o===0?a(u,s,l,m):!0}},4078:function(v){v.exports=r;function p(t,a){var n=t+a,u=n-t,s=n-u,l=a-u,m=t-s,h=m+l;return h?[h,n]:[n]}function r(t,a){var n=t.length|0,u=a.length|0;if(n===1&&u===1)return p(t[0],-a[0]);var s=n+u,l=new Array(s),m=0,h=0,g=0,c=Math.abs,o=t[h],d=c(o),w=-a[g],A=c(w),C,x;d<A?(x=o,h+=1,h<n&&(o=t[h],d=c(o))):(x=w,g+=1,g<u&&(w=-a[g],A=c(w))),h<n&&d<A||g>=u?(C=o,h+=1,h<n&&(o=t[h],d=c(o))):(C=w,g+=1,g<u&&(w=-a[g],A=c(w)));for(var E=C+x,M=E-C,f=x-M,P=f,T=E,z,_,V,F,N;h<n&&g<u;)d<A?(C=o,h+=1,h<n&&(o=t[h],d=c(o))):(C=w,g+=1,g<u&&(w=-a[g],A=c(w))),x=P,E=C+x,M=E-C,f=x-M,f&&(l[m++]=f),z=T+E,_=z-T,V=z-_,F=E-_,N=T-V,P=N+F,T=z;for(;h<n;)C=o,x=P,E=C+x,M=E-C,f=x-M,f&&(l[m++]=f),z=T+E,_=z-T,V=z-_,F=E-_,N=T-V,P=N+F,T=z,h+=1,h<n&&(o=t[h]);for(;g<u;)C=w,x=P,E=C+x,M=E-C,f=x-M,f&&(l[m++]=f),z=T+E,_=z-T,V=z-_,F=E-_,N=T-V,P=N+F,T=z,g+=1,g<u&&(w=-a[g]);return P&&(l[m++]=P),T&&(l[m++]=T),m||(l[m++]=0),l.length=m,l}},9662:function(v){v.exports=r;function p(t,a){var n=t+a,u=n-t,s=n-u,l=a-u,m=t-s,h=m+l;return h?[h,n]:[n]}function r(t,a){var n=t.length|0,u=a.length|0;if(n===1&&u===1)return p(t[0],a[0]);var s=n+u,l=new Array(s),m=0,h=0,g=0,c=Math.abs,o=t[h],d=c(o),w=a[g],A=c(w),C,x;d<A?(x=o,h+=1,h<n&&(o=t[h],d=c(o))):(x=w,g+=1,g<u&&(w=a[g],A=c(w))),h<n&&d<A||g>=u?(C=o,h+=1,h<n&&(o=t[h],d=c(o))):(C=w,g+=1,g<u&&(w=a[g],A=c(w)));for(var E=C+x,M=E-C,f=x-M,P=f,T=E,z,_,V,F,N;h<n&&g<u;)d<A?(C=o,h+=1,h<n&&(o=t[h],d=c(o))):(C=w,g+=1,g<u&&(w=a[g],A=c(w))),x=P,E=C+x,M=E-C,f=x-M,f&&(l[m++]=f),z=T+E,_=z-T,V=z-_,F=E-_,N=T-V,P=N+F,T=z;for(;h<n;)C=o,x=P,E=C+x,M=E-C,f=x-M,f&&(l[m++]=f),z=T+E,_=z-T,V=z-_,F=E-_,N=T-V,P=N+F,T=z,h+=1,h<n&&(o=t[h]);for(;g<u;)C=w,x=P,E=C+x,M=E-C,f=x-M,f&&(l[m++]=f),z=T+E,_=z-T,V=z-_,F=E-_,N=T-V,P=N+F,T=z,g+=1,g<u&&(w=a[g]);return P&&(l[m++]=P),T&&(l[m++]=T),m||(l[m++]=0),l.length=m,l}},8691:function(v,p,r){v.exports=n;var t=r(2692),a=r(7037);function n(u){return a(t(u))}},7212:function(v,p,r){v.exports=o;var t=r(5050),a=r(5306),n=r(8729),u=r(1168);function s(d){for(var w=d.length,A=0,C=0;C<w;++C)A=Math.max(A,d[C].length)|0;return A-1}function l(d,w){for(var A=d.length,C=a.mallocUint8(A),x=0;x<A;++x)C[x]=d[x]<w|0;return C}function m(d,w){for(var A=d.length,C=w*(w+1)/2*A|0,x=a.mallocUint32(C*2),E=0,M=0;M<A;++M)for(var f=d[M],w=f.length,P=0;P<w;++P)for(var T=0;T<P;++T){var z=f[T],_=f[P];x[E++]=Math.min(z,_)|0,x[E++]=Math.max(z,_)|0}var V=E/2|0;n(t(x,[V,2]));for(var F=2,M=2;M<E;M+=2)x[M-2]===x[M]&&x[M-1]===x[M+1]||(x[F++]=x[M],x[F++]=x[M+1]);return t(x,[F/2|0,2])}function h(d,w,A,C){for(var x=d.data,E=d.shape[0],M=a.mallocDouble(E),f=0,P=0;P<E;++P){var T=x[2*P],z=x[2*P+1];if(A[T]!==A[z]){var _=w[T],V=w[z];x[2*f]=T,x[2*f+1]=z,M[f++]=(V-C)/(V-_)}}return d.shape[0]=f,t(M,[f])}function g(d,w){var A=a.mallocInt32(w*2),C=d.shape[0],x=d.data;A[0]=0;for(var E=0,M=0;M<C;++M){var f=x[2*M];if(f!==E){for(A[2*E+1]=M;++E<f;)A[2*E]=M,A[2*E+1]=M;A[2*E]=M}}for(A[2*E+1]=C;++E<w;)A[2*E]=A[2*E+1]=C;return A}function c(d){for(var w=d.shape[0]|0,A=d.data,C=new Array(w),x=0;x<w;++x)C[x]=[A[2*x],A[2*x+1]];return C}function o(d,w,A,C){A=A||0,typeof C>"u"&&(C=s(d));var x=d.length;if(x===0||C<1)return{cells:[],vertexIds:[],vertexWeights:[]};var E=l(w,+A),M=m(d,C),f=h(M,w,E,+A),P=g(M,w.length|0),T=u(C)(d,M.data,P,E),z=c(M),_=[].slice.call(f.data,0,f.shape[0]);return a.free(E),a.free(M.data),a.free(f.data),a.free(P),{cells:T,vertexIds:z,vertexWeights:_}}},1168:function(v){v.exports=r;var p=[function(){function a(n,u,s,l){for(var m=n.length,h=[],g=0;g<m;++g){var c=n[g];c.length}return h}return a},function(){function a(u,s,l,m){for(var h=Math.min(l,m)|0,g=Math.max(l,m)|0,c=u[2*h],o=u[2*h+1];c<o;){var d=c+o>>1,w=s[2*d+1];if(w===g)return d;g<w?o=d:c=d+1}return c}function n(u,s,l,m){for(var h=u.length,g=[],c=0;c<h;++c){var o=u[c],d=o.length;if(d===2){var w=(m[o[0]]<<0)+(m[o[1]]<<1);if(w===0||w===3)continue;switch(w){case 0:break;case 1:g.push([a(l,s,o[0],o[1])]);break;case 2:g.push([a(l,s,o[1],o[0])]);break}}}return g}return n},function(){function a(u,s,l,m){for(var h=Math.min(l,m)|0,g=Math.max(l,m)|0,c=u[2*h],o=u[2*h+1];c<o;){var d=c+o>>1,w=s[2*d+1];if(w===g)return d;g<w?o=d:c=d+1}return c}function n(u,s,l,m){for(var h=u.length,g=[],c=0;c<h;++c){var o=u[c],d=o.length;if(d===3){var w=(m[o[0]]<<0)+(m[o[1]]<<1)+(m[o[2]]<<2);if(w===0||w===7)continue;switch(w){case 0:break;case 1:g.push([a(l,s,o[0],o[2]),a(l,s,o[0],o[1])]);break;case 2:g.push([a(l,s,o[1],o[0]),a(l,s,o[1],o[2])]);break;case 3:g.push([a(l,s,o[0],o[2]),a(l,s,o[1],o[2])]);break;case 4:g.push([a(l,s,o[2],o[1]),a(l,s,o[2],o[0])]);break;case 5:g.push([a(l,s,o[2],o[1]),a(l,s,o[0],o[1])]);break;case 6:g.push([a(l,s,o[1],o[0]),a(l,s,o[2],o[0])]);break}}else if(d===2){var w=(m[o[0]]<<0)+(m[o[1]]<<1);if(w===0||w===3)continue;switch(w){case 0:break;case 1:g.push([a(l,s,o[0],o[1])]);break;case 2:g.push([a(l,s,o[1],o[0])]);break}}}return g}return n},function(){function a(u,s,l,m){for(var h=Math.min(l,m)|0,g=Math.max(l,m)|0,c=u[2*h],o=u[2*h+1];c<o;){var d=c+o>>1,w=s[2*d+1];if(w===g)return d;g<w?o=d:c=d+1}return c}function n(u,s,l,m){for(var h=u.length,g=[],c=0;c<h;++c){var o=u[c],d=o.length;if(d===4){var w=(m[o[0]]<<0)+(m[o[1]]<<1)+(m[o[2]]<<2)+(m[o[3]]<<3);if(w===0||w===15)continue;switch(w){case 0:break;case 1:g.push([a(l,s,o[0],o[1]),a(l,s,o[0],o[2]),a(l,s,o[0],o[3])]);break;case 2:g.push([a(l,s,o[1],o[2]),a(l,s,o[1],o[0]),a(l,s,o[1],o[3])]);break;case 3:g.push([a(l,s,o[1],o[2]),a(l,s,o[0],o[2]),a(l,s,o[0],o[3])],[a(l,s,o[1],o[3]),a(l,s,o[1],o[2]),a(l,s,o[0],o[3])]);break;case 4:g.push([a(l,s,o[2],o[0]),a(l,s,o[2],o[1]),a(l,s,o[2],o[3])]);break;case 5:g.push([a(l,s,o[0],o[1]),a(l,s,o[2],o[1]),a(l,s,o[0],o[3])],[a(l,s,o[2],o[1]),a(l,s,o[2],o[3]),a(l,s,o[0],o[3])]);break;case 6:g.push([a(l,s,o[2],o[0]),a(l,s,o[1],o[0]),a(l,s,o[1],o[3])],[a(l,s,o[2],o[3]),a(l,s,o[2],o[0]),a(l,s,o[1],o[3])]);break;case 7:g.push([a(l,s,o[0],o[3]),a(l,s,o[1],o[3]),a(l,s,o[2],o[3])]);break;case 8:g.push([a(l,s,o[3],o[1]),a(l,s,o[3],o[0]),a(l,s,o[3],o[2])]);break;case 9:g.push([a(l,s,o[3],o[1]),a(l,s,o[0],o[1]),a(l,s,o[0],o[2])],[a(l,s,o[3],o[2]),a(l,s,o[3],o[1]),a(l,s,o[0],o[2])]);break;case 10:g.push([a(l,s,o[1],o[0]),a(l,s,o[3],o[0]),a(l,s,o[1],o[2])],[a(l,s,o[3],o[0]),a(l,s,o[3],o[2]),a(l,s,o[1],o[2])]);break;case 11:g.push([a(l,s,o[1],o[2]),a(l,s,o[0],o[2]),a(l,s,o[3],o[2])]);break;case 12:g.push([a(l,s,o[3],o[0]),a(l,s,o[2],o[0]),a(l,s,o[2],o[1])],[a(l,s,o[3],o[1]),a(l,s,o[3],o[0]),a(l,s,o[2],o[1])]);break;case 13:g.push([a(l,s,o[0],o[1]),a(l,s,o[2],o[1]),a(l,s,o[3],o[1])]);break;case 14:g.push([a(l,s,o[2],o[0]),a(l,s,o[1],o[0]),a(l,s,o[3],o[0])]);break}}else if(d===3){var w=(m[o[0]]<<0)+(m[o[1]]<<1)+(m[o[2]]<<2);if(w===0||w===7)continue;switch(w){case 0:break;case 1:g.push([a(l,s,o[0],o[2]),a(l,s,o[0],o[1])]);break;case 2:g.push([a(l,s,o[1],o[0]),a(l,s,o[1],o[2])]);break;case 3:g.push([a(l,s,o[0],o[2]),a(l,s,o[1],o[2])]);break;case 4:g.push([a(l,s,o[2],o[1]),a(l,s,o[2],o[0])]);break;case 5:g.push([a(l,s,o[2],o[1]),a(l,s,o[0],o[1])]);break;case 6:g.push([a(l,s,o[1],o[0]),a(l,s,o[2],o[0])]);break}}else if(d===2){var w=(m[o[0]]<<0)+(m[o[1]]<<1);if(w===0||w===3)continue;switch(w){case 0:break;case 1:g.push([a(l,s,o[0],o[1])]);break;case 2:g.push([a(l,s,o[1],o[0])]);break}}}return g}return n}];function r(t){return p[t]()}},8211:function(v,p,r){r(2288),r(1731);function t(a,n){var u=a.length,s=a.length-n.length,l=Math.min;if(s)return s;switch(u){case 0:return 0;case 1:return a[0]-n[0];case 2:var o=a[0]+a[1]-n[0]-n[1];return o||l(a[0],a[1])-l(n[0],n[1]);case 3:var m=a[0]+a[1],h=n[0]+n[1];if(o=m+a[2]-(h+n[2]),o)return o;var g=l(a[0],a[1]),c=l(n[0],n[1]),o=l(g,a[2])-l(c,n[2]);return o||l(g+a[2],m)-l(c+n[2],h);default:var d=a.slice(0);d.sort();var w=n.slice(0);w.sort();for(var A=0;A<u;++A)if(s=d[A]-w[A],s)return s;return 0}}p.H=t},9392:function(v,p){"use restrict";var r=32;p.INT_BITS=r,p.INT_MAX=2147483647,p.INT_MIN=-1<<r-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var u=n>>r-1;return(n^u)-u},p.min=function(n,u){return u^(n^u)&-(n<u)},p.max=function(n,u){return n^(n^u)&-(n<u)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var u,s;return u=(n>65535)<<4,n>>>=u,s=(n>255)<<3,n>>>=s,u|=s,s=(n>15)<<2,n>>>=s,u|=s,s=(n>3)<<1,n>>>=s,u|=s,u|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var u=32;return n&=-n,n&&u--,n&65535&&(u-=16),n&16711935&&(u-=8),n&252645135&&(u-=4),n&858993459&&(u-=2),n&1431655765&&(u-=1),u}p.countTrailingZeros=t,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var a=new Array(256);(function(n){for(var u=0;u<256;++u){var s=u,l=u,m=7;for(s>>>=1;s;s>>>=1)l<<=1,l|=s&1,--m;n[u]=l<<m&255}})(a),p.reverse=function(n){return a[n&255]<<24|a[n>>>8&255]<<16|a[n>>>16&255]<<8|a[n>>>24&255]},p.interleave2=function(n,u){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,u&=65535,u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,u=(u|u<<1)&1431655765,n|u<<1},p.deinterleave2=function(n,u){return n=n>>>u&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,u,s){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|=u<<1,s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,n|s<<2},p.deinterleave3=function(n,u){return n=n>>>u&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var u=n|n-1;return u+1|(~u&-~u)-1>>>t(n)+1}},6656:function(v,p,r){"use restrict";var t=r(9392),a=r(9521);function n(f){for(var P=0,T=Math.max,z=0,_=f.length;z<_;++z)P=T(P,f[z].length);return P-1}p.dimension=n;function u(f){for(var P=-1,T=Math.max,z=0,_=f.length;z<_;++z)for(var V=f[z],F=0,N=V.length;F<N;++F)P=T(P,V[F]);return P+1}p.countVertices=u;function s(f){for(var P=new Array(f.length),T=0,z=f.length;T<z;++T)P[T]=f[T].slice(0);return P}p.cloneCells=s;function l(f,P){var T=f.length,z=f.length-P.length,_=Math.min;if(z)return z;switch(T){case 0:return 0;case 1:return f[0]-P[0];case 2:var I=f[0]+f[1]-P[0]-P[1];return I||_(f[0],f[1])-_(P[0],P[1]);case 3:var V=f[0]+f[1],F=P[0]+P[1];if(I=V+f[2]-(F+P[2]),I)return I;var N=_(f[0],f[1]),k=_(P[0],P[1]),I=_(N,f[2])-_(k,P[2]);return I||_(N+f[2],V)-_(k+P[2],F);default:var H=f.slice(0);H.sort();var j=P.slice(0);j.sort();for(var ee=0;ee<T;++ee)if(z=H[ee]-j[ee],z)return z;return 0}}p.compareCells=l;function m(f,P){return l(f[0],P[0])}function h(f,P){if(P){for(var T=f.length,z=new Array(T),_=0;_<T;++_)z[_]=[f[_],P[_]];z.sort(m);for(var _=0;_<T;++_)f[_]=z[_][0],P[_]=z[_][1];return f}else return f.sort(l),f}p.normalize=h;function g(f){if(f.length===0)return[];for(var P=1,T=f.length,z=1;z<T;++z){var _=f[z];if(l(_,f[z-1])){if(z===P){P++;continue}f[P++]=_}}return f.length=P,f}p.unique=g;function c(f,P){for(var T=0,z=f.length-1,_=-1;T<=z;){var V=T+z>>1,F=l(f[V],P);F<=0?(F===0&&(_=V),T=V+1):F>0&&(z=V-1)}return _}p.findCell=c;function o(f,P){for(var T=new Array(f.length),z=0,_=T.length;z<_;++z)T[z]=[];for(var V=[],z=0,F=P.length;z<F;++z)for(var N=P[z],k=N.length,I=1,H=1<<k;I<H;++I){V.length=t.popCount(I);for(var j=0,ee=0;ee<k;++ee)I&1<<ee&&(V[j++]=N[ee]);var te=c(f,V);if(!(te<0))for(;T[te++].push(z),!(te>=f.length||l(f[te],V)!==0););}return T}p.incidence=o;function d(f,P){if(!P)return o(g(A(f,0)),f);for(var T=new Array(P),z=0;z<P;++z)T[z]=[];for(var z=0,_=f.length;z<_;++z)for(var V=f[z],F=0,N=V.length;F<N;++F)T[V[F]].push(z);return T}p.dual=d;function w(f){for(var P=[],T=0,z=f.length;T<z;++T)for(var _=f[T],V=_.length|0,F=1,N=1<<V;F<N;++F){for(var k=[],I=0;I<V;++I)F>>>I&1&&k.push(_[I]);P.push(k)}return h(P)}p.explode=w;function A(f,P){if(P<0)return[];for(var T=[],z=(1<<P+1)-1,_=0;_<f.length;++_)for(var V=f[_],F=z;F<1<<V.length;F=t.nextCombination(F)){for(var N=new Array(P+1),k=0,I=0;I<V.length;++I)F&1<<I&&(N[k++]=V[I]);T.push(N)}return h(T)}p.skeleton=A;function C(f){for(var P=[],T=0,z=f.length;T<z;++T)for(var _=f[T],V=0,F=_.length;V<F;++V){for(var N=new Array(_.length-1),k=0,I=0;k<F;++k)k!==V&&(N[I++]=_[k]);P.push(N)}return h(P)}p.boundary=C;function x(f,P){for(var T=new a(P),z=0;z<f.length;++z)for(var _=f[z],V=0;V<_.length;++V)for(var F=V+1;F<_.length;++F)T.link(_[V],_[F]);for(var N=[],k=T.ranks,z=0;z<k.length;++z)k[z]=-1;for(var z=0;z<f.length;++z){var I=T.find(f[z][0]);k[I]<0?(k[I]=N.length,N.push([f[z].slice(0)])):N[k[I]].push(f[z].slice(0))}return N}function E(f){for(var P=g(h(A(f,0))),T=new a(P.length),z=0;z<f.length;++z)for(var _=f[z],V=0;V<_.length;++V)for(var F=c(P,[_[V]]),N=V+1;N<_.length;++N)T.link(F,c(P,[_[N]]));for(var k=[],I=T.ranks,z=0;z<I.length;++z)I[z]=-1;for(var z=0;z<f.length;++z){var H=T.find(c(P,[f[z][0]]));I[H]<0?(I[H]=k.length,k.push([f[z].slice(0)])):k[I[H]].push(f[z].slice(0))}return k}function M(f,P){return P?x(f,P):E(f)}p.connectedComponents=M},9521:function(v){"use restrict";v.exports=p;function p(r){this.roots=new Array(r),this.ranks=new Array(r);for(var t=0;t<r;++t)this.roots[t]=t,this.ranks[t]=0}p.prototype.length=function(){return this.roots.length},p.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},p.prototype.find=function(r){for(var t=this.roots;t[r]!==r;){var a=t[r];t[r]=t[a],r=a}return r},p.prototype.link=function(r,t){var a=this.find(r),n=this.find(t);if(a!==n){var u=this.ranks,s=this.roots,l=u[a],m=u[n];l<m?s[a]=n:m<l?s[n]=a:(s[n]=a,++u[a])}}},8243:function(v,p,r){v.exports=u;var t=r(417),a=r(6656);function n(s,l,m){var h=Math.abs(t(s,l,m)),g=Math.sqrt(Math.pow(l[0]-m[0],2)+Math.pow(l[1]-m[1],2));return h/g}function u(s,l,m){for(var h=l.length,g=s.length,c=new Array(h),o=new Array(h),d=new Array(h),w=new Array(h),A=0;A<h;++A)c[A]=o[A]=-1,d[A]=1/0,w[A]=!1;for(var A=0;A<g;++A){var C=s[A];if(C.length!==2)throw new Error("Input must be a graph");var x=C[1],E=C[0];o[E]!==-1?o[E]=-2:o[E]=x,c[x]!==-1?c[x]=-2:c[x]=E}function M(q){if(w[q])return 1/0;var Y=c[q],Z=o[q];return Y<0||Z<0?1/0:n(l[q],l[Y],l[Z])}function f(q,Y){var Z=k[q],G=k[Y];k[q]=G,k[Y]=Z,I[Z]=Y,I[G]=q}function P(q){return d[k[q]]}function T(q){return q&1?q-1>>1:(q>>1)-1}function z(q){for(var Y=P(q);;){var Z=Y,G=2*q+1,K=2*(q+1),oe=q;if(G<j){var $=P(G);$<Z&&(oe=G,Z=$)}if(K<j){var J=P(K);J<Z&&(oe=K)}if(oe===q)return q;f(q,oe),q=oe}}function _(q){for(var Y=P(q);q>0;){var Z=T(q);if(Z>=0){var G=P(Z);if(Y<G){f(q,Z),q=Z;continue}}return q}}function V(){if(j>0){var q=k[0];return f(0,j-1),j-=1,z(0),q}return-1}function F(q,Y){var Z=k[q];return d[Z]===Y?q:(d[Z]=-1/0,_(q),V(),d[Z]=Y,j+=1,_(j-1))}function N(q){if(!w[q]){w[q]=!0;var Y=c[q],Z=o[q];c[Z]>=0&&(c[Z]=Y),o[Y]>=0&&(o[Y]=Z),I[Y]>=0&&F(I[Y],M(Y)),I[Z]>=0&&F(I[Z],M(Z))}}for(var k=[],I=new Array(h),A=0;A<h;++A){var H=d[A]=M(A);H<1/0?(I[A]=k.length,k.push(A)):I[A]=-1}for(var j=k.length,A=j>>1;A>=0;--A)z(A);for(;;){var ee=V();if(ee<0||d[ee]>m)break;N(ee)}for(var te=[],A=0;A<h;++A)w[A]||(I[A]=te.length,te.push(l[A].slice()));te.length;function ne(q,Y){if(q[Y]<0)return Y;var Z=Y,G=Y;do{var K=q[G];if(!w[G]||K<0||K===G||(G=K,K=q[G],!w[G]||K<0||K===G))break;G=K,Z=q[Z]}while(Z!==G);for(var oe=Y;oe!==G;oe=q[oe])q[oe]=G;return G}var ue=[];return s.forEach(function(q){var Y=ne(c,q[0]),Z=ne(o,q[1]);if(Y>=0&&Z>=0&&Y!==Z){var G=I[Y],K=I[Z];G!==K&&ue.push([G,K])}}),a.unique(a.normalize(ue)),{positions:te,edges:ue}}},6638:function(v,p,r){v.exports=n;var t=r(417);function a(u,s){var l,m;if(s[0][0]<s[1][0])l=s[0],m=s[1];else if(s[0][0]>s[1][0])l=s[1],m=s[0];else{var h=Math.min(u[0][1],u[1][1]),g=Math.max(u[0][1],u[1][1]),c=Math.min(s[0][1],s[1][1]),o=Math.max(s[0][1],s[1][1]);return g<c?g-c:h>o?h-o:g-o}var d,w;u[0][1]<u[1][1]?(d=u[0],w=u[1]):(d=u[1],w=u[0]);var A=t(m,l,d);return A||(A=t(m,l,w),A)?A:w-m}function n(u,s){var l,m;if(s[0][0]<s[1][0])l=s[0],m=s[1];else if(s[0][0]>s[1][0])l=s[1],m=s[0];else return a(s,u);var h,g;if(u[0][0]<u[1][0])h=u[0],g=u[1];else if(u[0][0]>u[1][0])h=u[1],g=u[0];else return-a(u,s);var c=t(l,m,g),o=t(l,m,h);if(c<0){if(o<=0)return c}else if(c>0){if(o>=0)return c}else if(o)return o;if(c=t(g,h,m),o=t(g,h,l),c<0){if(o<=0)return c}else if(c>0){if(o>=0)return c}else if(o)return o;return m[0]-g[0]}},4385:function(v,p,r){v.exports=o;var t=r(5070),a=r(7080),n=r(417),u=r(6638);function s(d,w,A){this.slabs=d,this.coordinates=w,this.horizontal=A}var l=s.prototype;function m(d,w){return d.y-w}function h(d,w){for(var A=null;d;){var C=d.key,x,E;C[0][0]<C[1][0]?(x=C[0],E=C[1]):(x=C[1],E=C[0]);var M=n(x,E,w);if(M<0)d=d.left;else if(M>0)if(w[0]!==C[1][0])A=d,d=d.right;else{var f=h(d.right,w);if(f)return f;d=d.left}else{if(w[0]!==C[1][0])return d;var f=h(d.right,w);if(f)return f;d=d.left}}return A}l.castUp=function(d){var w=t.le(this.coordinates,d[0]);if(w<0)return-1;this.slabs[w];var A=h(this.slabs[w],d),C=-1;if(A&&(C=A.value),this.coordinates[w]===d[0]){var x=null;if(A&&(x=A.key),w>0){var E=h(this.slabs[w-1],d);E&&(x?u(E.key,x)>0&&(x=E.key,C=E.value):(C=E.value,x=E.key))}var M=this.horizontal[w];if(M.length>0){var f=t.ge(M,d[1],m);if(f<M.length){var P=M[f];if(d[1]===P.y){if(P.closed)return P.index;for(;f<M.length-1&&M[f+1].y===d[1];)if(f=f+1,P=M[f],P.closed)return P.index;if(P.y===d[1]&&!P.start){if(f=f+1,f>=M.length)return C;P=M[f]}}if(P.start)if(x){var T=n(x[0],x[1],[d[0],P.y]);x[0][0]>x[1][0]&&(T=-T),T>0&&(C=P.index)}else C=P.index;else P.y!==d[1]&&(C=P.index)}}}return C};function g(d,w,A,C){this.y=d,this.index=w,this.start=A,this.closed=C}function c(d,w,A,C){this.x=d,this.segment=w,this.create=A,this.index=C}function o(d){for(var w=d.length,A=2*w,C=new Array(A),x=0;x<w;++x){var E=d[x],M=E[0][0]<E[1][0];C[2*x]=new c(E[0][0],E,M,x),C[2*x+1]=new c(E[1][0],E,!M,x)}C.sort(function(N,k){var I=N.x-k.x;return I||(I=N.create-k.create,I)?I:Math.min(N.segment[0][1],N.segment[1][1])-Math.min(k.segment[0][1],k.segment[1][1])});for(var f=a(u),P=[],T=[],z=[],x=0;x<A;){for(var _=C[x].x,V=[];x<A;){var F=C[x];if(F.x!==_)break;x+=1,F.segment[0][0]===F.x&&F.segment[1][0]===F.x?F.create&&(F.segment[0][1]<F.segment[1][1]?(V.push(new g(F.segment[0][1],F.index,!0,!0)),V.push(new g(F.segment[1][1],F.index,!1,!1))):(V.push(new g(F.segment[1][1],F.index,!0,!1)),V.push(new g(F.segment[0][1],F.index,!1,!0)))):F.create?f=f.insert(F.segment,F.index):f=f.remove(F.segment)}P.push(f.root),T.push(_),z.push(V)}return new s(P,T,z)}},4670:function(v,p,r){var t=r(9130),a=r(9662);v.exports=s,v.exports.positive=l,v.exports.negative=m;function n(h,g){var c=a(t(h,g),[g[g.length-1]]);return c[c.length-1]}function u(h,g,c,o){var d=o-g,w=-g/d;w<0?w=0:w>1&&(w=1);for(var A=1-w,C=h.length,x=new Array(C),E=0;E<C;++E)x[E]=w*h[E]+A*c[E];return x}function s(h,g){for(var c=[],o=[],d=n(h[h.length-1],g),w=h[h.length-1],A=h[0],C=0;C<h.length;++C,w=A){A=h[C];var x=n(A,g);if(d<0&&x>0||d>0&&x<0){var E=u(w,x,A,d);c.push(E),o.push(E.slice())}x<0?o.push(A.slice()):x>0?c.push(A.slice()):(c.push(A.slice()),o.push(A.slice())),d=x}return{positive:c,negative:o}}function l(h,g){for(var c=[],o=n(h[h.length-1],g),d=h[h.length-1],w=h[0],A=0;A<h.length;++A,d=w){w=h[A];var C=n(w,g);(o<0&&C>0||o>0&&C<0)&&c.push(u(d,C,w,o)),C>=0&&c.push(w.slice()),o=C}return c}function m(h,g){for(var c=[],o=n(h[h.length-1],g),d=h[h.length-1],w=h[0],A=0;A<h.length;++A,d=w){w=h[A];var C=n(w,g);(o<0&&C>0||o>0&&C<0)&&c.push(u(d,C,w,o)),C<=0&&c.push(w.slice()),o=C}return c}},8974:function(v,p,r){var t;(function(){var a={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(h){return s(m(h),arguments)}function u(h,g){return n.apply(null,[h].concat(g||[]))}function s(h,g){var c=1,o=h.length,d,w="",A,C,x,E,M,f,P,T;for(A=0;A<o;A++)if(typeof h[A]=="string")w+=h[A];else if(typeof h[A]=="object"){if(x=h[A],x.keys)for(d=g[c],C=0;C<x.keys.length;C++){if(d==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',x.keys[C],x.keys[C-1]));d=d[x.keys[C]]}else x.param_no?d=g[x.param_no]:d=g[c++];if(a.not_type.test(x.type)&&a.not_primitive.test(x.type)&&d instanceof Function&&(d=d()),a.numeric_arg.test(x.type)&&typeof d!="number"&&isNaN(d))throw new TypeError(n("[sprintf] expecting number but found %T",d));switch(a.number.test(x.type)&&(P=d>=0),x.type){case"b":d=parseInt(d,10).toString(2);break;case"c":d=String.fromCharCode(parseInt(d,10));break;case"d":case"i":d=parseInt(d,10);break;case"j":d=JSON.stringify(d,null,x.width?parseInt(x.width):0);break;case"e":d=x.precision?parseFloat(d).toExponential(x.precision):parseFloat(d).toExponential();break;case"f":d=x.precision?parseFloat(d).toFixed(x.precision):parseFloat(d);break;case"g":d=x.precision?String(Number(d.toPrecision(x.precision))):parseFloat(d);break;case"o":d=(parseInt(d,10)>>>0).toString(8);break;case"s":d=String(d),d=x.precision?d.substring(0,x.precision):d;break;case"t":d=String(!!d),d=x.precision?d.substring(0,x.precision):d;break;case"T":d=Object.prototype.toString.call(d).slice(8,-1).toLowerCase(),d=x.precision?d.substring(0,x.precision):d;break;case"u":d=parseInt(d,10)>>>0;break;case"v":d=d.valueOf(),d=x.precision?d.substring(0,x.precision):d;break;case"x":d=(parseInt(d,10)>>>0).toString(16);break;case"X":d=(parseInt(d,10)>>>0).toString(16).toUpperCase();break}a.json.test(x.type)?w+=d:(a.number.test(x.type)&&(!P||x.sign)?(T=P?"+":"-",d=d.toString().replace(a.sign,"")):T="",M=x.pad_char?x.pad_char==="0"?"0":x.pad_char.charAt(1):" ",f=x.width-(T+d).length,E=x.width&&f>0?M.repeat(f):"",w+=x.align?T+d+E:M==="0"?T+E+d:E+T+d)}return w}var l=Object.create(null);function m(h){if(l[h])return l[h];for(var g=h,c,o=[],d=0;g;){if((c=a.text.exec(g))!==null)o.push(c[0]);else if((c=a.modulo.exec(g))!==null)o.push("%");else if((c=a.placeholder.exec(g))!==null){if(c[2]){d|=1;var w=[],A=c[2],C=[];if((C=a.key.exec(A))!==null)for(w.push(C[1]);(A=A.substring(C[0].length))!=="";)if((C=a.key_access.exec(A))!==null)w.push(C[1]);else if((C=a.index_access.exec(A))!==null)w.push(C[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");c[2]=w}else d|=2;if(d===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");g=g.substring(c[0].length)}return l[h]=o}p.sprintf=n,p.vsprintf=u,typeof window<"u"&&(window.sprintf=n,window.vsprintf=u,t=(function(){return{sprintf:n,vsprintf:u}}).call(p,r,p,v),t!==void 0&&(v.exports=t))})()},4162:function(v,p,r){v.exports=m;var t=r(9284),a=r(9584),n={"2d":function(h,g,c){var o=h({order:g,scalarArguments:3,getters:c==="generic"?[0]:void 0,phase:function(w,A,C,x){return w>x|0},vertex:function(w,A,C,x,E,M,f,P,T,z,_,V,F){var N=(f<<0)+(P<<1)+(T<<2)+(z<<3)|0;if(!(N===0||N===15))switch(N){case 0:_.push([w-.5,A-.5]);break;case 1:_.push([w-.25-.25*(x+C-2*F)/(C-x),A-.25-.25*(E+C-2*F)/(C-E)]);break;case 2:_.push([w-.75-.25*(-x-C+2*F)/(x-C),A-.25-.25*(M+x-2*F)/(x-M)]);break;case 3:_.push([w-.5,A-.5-.5*(E+C+M+x-4*F)/(C-E+x-M)]);break;case 4:_.push([w-.25-.25*(M+E-2*F)/(E-M),A-.75-.25*(-E-C+2*F)/(E-C)]);break;case 5:_.push([w-.5-.5*(x+C+M+E-4*F)/(C-x+E-M),A-.5]);break;case 6:_.push([w-.5-.25*(-x-C+M+E)/(x-C+E-M),A-.5-.25*(-E-C+M+x)/(E-C+x-M)]);break;case 7:_.push([w-.75-.25*(M+E-2*F)/(E-M),A-.75-.25*(M+x-2*F)/(x-M)]);break;case 8:_.push([w-.75-.25*(-M-E+2*F)/(M-E),A-.75-.25*(-M-x+2*F)/(M-x)]);break;case 9:_.push([w-.5-.25*(x+C+-M-E)/(C-x+M-E),A-.5-.25*(E+C+-M-x)/(C-E+M-x)]);break;case 10:_.push([w-.5-.5*(-x-C+-M-E+4*F)/(x-C+M-E),A-.5]);break;case 11:_.push([w-.25-.25*(-M-E+2*F)/(M-E),A-.75-.25*(E+C-2*F)/(C-E)]);break;case 12:_.push([w-.5,A-.5-.5*(-E-C+-M-x+4*F)/(E-C+M-x)]);break;case 13:_.push([w-.75-.25*(x+C-2*F)/(C-x),A-.25-.25*(-M-x+2*F)/(M-x)]);break;case 14:_.push([w-.25-.25*(-x-C+2*F)/(x-C),A-.25-.25*(-E-C+2*F)/(E-C)]);break;case 15:_.push([w-.5,A-.5]);break}},cell:function(w,A,C,x,E,M,f,P,T){E?P.push([w,A]):P.push([A,w])}});return function(d,w){var A=[],C=[];return o(d,A,C,w),{positions:A,cells:C}}}};function u(h,g){var c=h.length+"d",o=n[c];if(o)return o(t,h,g)}function s(h,g){for(var c=a(h,g),o=c.length,d=new Array(o),w=new Array(o),A=0;A<o;++A)d[A]=[c[A]],w[A]=[A];return{positions:d,cells:w}}var l={};function m(h,d){if(h.dimension<=0)return{positions:[],cells:[]};if(h.dimension===1)return s(h,d);var c=h.order.join()+"-"+h.dtype,o=l[c],d=+d||0;return o||(o=l[c]=u(h.order,h.dtype)),o(h,d)}},6946:function(v,p,r){v.exports=s;var t=r(875),a=window||y.global||{},n=a.__TEXT_CACHE||{};a.__TEXT_CACHE={};function u(l){for(var m=l.cells,h=l.positions,g=new Float32Array(m.length*6),c=0,o=0,d=0;d<m.length;++d)for(var w=m[d],A=0;A<3;++A){var C=h[w[A]];g[c++]=C[0],g[c++]=C[1]+1.4,o=Math.max(C[0],o)}return{data:g,shape:o}}function s(l,m,g){var g=g||{},c=n[l];c||(c=n[l]={" ":{data:new Float32Array(0),shape:.2}});var o=c[m];if(!o)if(m.length<=1||!/\d/.test(m))o=c[m]=u(t(m,{triangles:!0,font:l,textAlign:g.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var d=m.split(/(\d|\s)/),w=new Array(d.length),A=0,C=0,x=0;x<d.length;++x)w[x]=s(l,d[x]),A+=w[x].data.length,C+=w[x].shape,x>0&&(C+=.02);for(var E=new Float32Array(A),M=0,f=-.5*C,x=0;x<w.length;++x){for(var P=w[x].data,T=0;T<P.length;T+=2)E[M++]=P[T]+f,E[M++]=P[T+1];f+=w[x].shape+.02}o=c[m]={data:E,shape:C}}return o}},14:function(v,p,r){var t=r(4405);v.exports=s;var a=96;function n(l,m){var h=t(getComputedStyle(l).getPropertyValue(m));return h[0]*s(h[1],l)}function u(l,m){var h=document.createElement("div");h.style["font-size"]="128"+l,m.appendChild(h);var g=n(h,"font-size")/128;return m.removeChild(h),g}function s(l,m){switch(m=m||document.body,l=(l||"px").trim().toLowerCase(),(m===window||m===document)&&(m=document.body),l){case"%":return m.clientHeight/100;case"ch":case"ex":return u(l,m);case"em":return n(m,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return a;case"cm":return a/2.54;case"mm":return a/25.4;case"pt":return a/72;case"pc":return a/6}return 1}},3440:function(v,p,r){v.exports=w;var t=r(8444),a=r(7437),n=r(4422),u=r(903),s=r(899),l=r(9305);function m(A,C,x){return Math.sqrt(Math.pow(A,2)+Math.pow(C,2)+Math.pow(x,2))}function h(A){return Math.min(1,Math.max(-1,A))}function g(A){var C=Math.abs(A[0]),x=Math.abs(A[1]),E=Math.abs(A[2]),M=[0,0,0];C>Math.max(x,E)?M[2]=1:x>Math.max(C,E)?M[0]=1:M[1]=1;for(var f=0,P=0,T=0;T<3;++T)f+=A[T]*A[T],P+=M[T]*A[T];for(var T=0;T<3;++T)M[T]-=P/f*A[T];return s(M,M),M}function c(A,C,x,E,M,f,P,T){this.center=t(x),this.up=t(E),this.right=t(M),this.radius=t([f]),this.angle=t([P,T]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(A,C),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var z=0;z<16;++z)this.computedMatrix[z]=.5;this.recalcMatrix(0)}var o=c.prototype;o.setDistanceLimits=function(A,C){A>0?A=Math.log(A):A=-1/0,C>0?C=Math.log(C):C=1/0,C=Math.max(C,A),this.radius.bounds[0][0]=A,this.radius.bounds[1][0]=C},o.getDistanceLimits=function(A){var C=this.radius.bounds[0];return A?(A[0]=Math.exp(C[0][0]),A[1]=Math.exp(C[1][0]),A):[Math.exp(C[0][0]),Math.exp(C[1][0])]},o.recalcMatrix=function(A){this.center.curve(A),this.up.curve(A),this.right.curve(A),this.radius.curve(A),this.angle.curve(A);for(var C=this.computedUp,x=this.computedRight,E=0,M=0,f=0;f<3;++f)M+=C[f]*x[f],E+=C[f]*C[f];for(var P=Math.sqrt(E),T=0,f=0;f<3;++f)x[f]-=C[f]*M/E,T+=x[f]*x[f],C[f]/=P;for(var z=Math.sqrt(T),f=0;f<3;++f)x[f]/=z;var _=this.computedToward;u(_,C,x),s(_,_);for(var V=Math.exp(this.computedRadius[0]),F=this.computedAngle[0],N=this.computedAngle[1],k=Math.cos(F),I=Math.sin(F),H=Math.cos(N),j=Math.sin(N),ee=this.computedCenter,te=k*H,ne=I*H,ue=j,q=-k*j,Y=-I*j,Z=H,G=this.computedEye,K=this.computedMatrix,f=0;f<3;++f){var oe=te*x[f]+ne*_[f]+ue*C[f];K[4*f+1]=q*x[f]+Y*_[f]+Z*C[f],K[4*f+2]=oe,K[4*f+3]=0}var $=K[1],J=K[5],se=K[9],ie=K[2],ce=K[6],ye=K[10],Se=J*ye-se*ce,Te=se*ie-$*ye,ke=$*ce-J*ie,we=m(Se,Te,ke);Se/=we,Te/=we,ke/=we,K[0]=Se,K[4]=Te,K[8]=ke;for(var f=0;f<3;++f)G[f]=ee[f]+K[2+4*f]*V;for(var f=0;f<3;++f){for(var T=0,Ee=0;Ee<3;++Ee)T+=K[f+4*Ee]*G[Ee];K[12+f]=-T}K[15]=1},o.getMatrix=function(A,C){this.recalcMatrix(A);var x=this.computedMatrix;if(C){for(var E=0;E<16;++E)C[E]=x[E];return C}return x};var d=[0,0,0];o.rotate=function(A,C,x,E){if(this.angle.move(A,C,x),E){this.recalcMatrix(A);var M=this.computedMatrix;d[0]=M[2],d[1]=M[6],d[2]=M[10];for(var f=this.computedUp,P=this.computedRight,T=this.computedToward,z=0;z<3;++z)M[4*z]=f[z],M[4*z+1]=P[z],M[4*z+2]=T[z];n(M,M,E,d);for(var z=0;z<3;++z)f[z]=M[4*z],P[z]=M[4*z+1];this.up.set(A,f[0],f[1],f[2]),this.right.set(A,P[0],P[1],P[2])}},o.pan=function(A,C,x,E){C=C||0,x=x||0,E=E||0,this.recalcMatrix(A);var M=this.computedMatrix;Math.exp(this.computedRadius[0]);var f=M[1],P=M[5],T=M[9],z=m(f,P,T);f/=z,P/=z,T/=z;var _=M[0],V=M[4],F=M[8],N=_*f+V*P+F*T;_-=f*N,V-=P*N,F-=T*N;var k=m(_,V,F);_/=k,V/=k,F/=k;var I=_*C+f*x,H=V*C+P*x,j=F*C+T*x;this.center.move(A,I,H,j);var ee=Math.exp(this.computedRadius[0]);ee=Math.max(1e-4,ee+E),this.radius.set(A,Math.log(ee))},o.translate=function(A,C,x,E){this.center.move(A,C||0,x||0,E||0)},o.setMatrix=function(A,C,x,E){var M=1;typeof x=="number"&&(M=x|0),(M<0||M>3)&&(M=1);var f=(M+2)%3;C||(this.recalcMatrix(A),C=this.computedMatrix);var P=C[M],T=C[M+4],z=C[M+8];if(E){var V=Math.abs(P),F=Math.abs(T),N=Math.abs(z),k=Math.max(V,F,N);V===k?(P=P<0?-1:1,T=z=0):N===k?(z=z<0?-1:1,P=T=0):(T=T<0?-1:1,P=z=0)}else{var _=m(P,T,z);P/=_,T/=_,z/=_}var I=C[f],H=C[f+4],j=C[f+8],ee=I*P+H*T+j*z;I-=P*ee,H-=T*ee,j-=z*ee;var te=m(I,H,j);I/=te,H/=te,j/=te;var ne=T*j-z*H,ue=z*I-P*j,q=P*H-T*I,Y=m(ne,ue,q);ne/=Y,ue/=Y,q/=Y,this.center.jump(A,Ue,Be,Xe),this.radius.idle(A),this.up.jump(A,P,T,z),this.right.jump(A,I,H,j);var Z,G;if(M===2){var K=C[1],oe=C[5],$=C[9],J=K*I+oe*H+$*j,se=K*ne+oe*ue+$*q;Se<0?Z=-Math.PI/2:Z=Math.PI/2,G=Math.atan2(se,J)}else{var ie=C[2],ce=C[6],ye=C[10],Se=ie*P+ce*T+ye*z,Te=ie*I+ce*H+ye*j,ke=ie*ne+ce*ue+ye*q;Z=Math.asin(h(Se)),G=Math.atan2(ke,Te)}this.angle.jump(A,G,Z),this.recalcMatrix(A);var we=C[2],Ee=C[6],xe=C[10],De=this.computedMatrix;a(De,C);var Ve=De[15],Ue=De[12]/Ve,Be=De[13]/Ve,Xe=De[14]/Ve,ot=Math.exp(this.computedRadius[0]);this.center.jump(A,Ue-we*ot,Be-Ee*ot,Xe-xe*ot)},o.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},o.idle=function(A){this.center.idle(A),this.up.idle(A),this.right.idle(A),this.radius.idle(A),this.angle.idle(A)},o.flush=function(A){this.center.flush(A),this.up.flush(A),this.right.flush(A),this.radius.flush(A),this.angle.flush(A)},o.setDistance=function(A,C){C>0&&this.radius.set(A,Math.log(C))},o.lookAt=function(A,C,x,E){this.recalcMatrix(A),C=C||this.computedEye,x=x||this.computedCenter,E=E||this.computedUp;var M=E[0],f=E[1],P=E[2],T=m(M,f,P);if(!(T<1e-6)){M/=T,f/=T,P/=T;var z=C[0]-x[0],_=C[1]-x[1],V=C[2]-x[2],F=m(z,_,V);if(!(F<1e-6)){z/=F,_/=F,V/=F;var N=this.computedRight,k=N[0],I=N[1],H=N[2],j=M*k+f*I+P*H;k-=j*M,I-=j*f,H-=j*P;var ee=m(k,I,H);if(!(ee<.01&&(k=f*V-P*_,I=P*z-M*V,H=M*_-f*z,ee=m(k,I,H),ee<1e-6))){k/=ee,I/=ee,H/=ee,this.up.set(A,M,f,P),this.right.set(A,k,I,H),this.center.set(A,x[0],x[1],x[2]),this.radius.set(A,Math.log(F));var te=f*H-P*I,ne=P*k-M*H,ue=M*I-f*k,q=m(te,ne,ue);te/=q,ne/=q,ue/=q;var Y=M*z+f*_+P*V,Z=k*z+I*_+H*V,G=te*z+ne*_+ue*V,K=Math.asin(h(Y)),oe=Math.atan2(G,Z),$=this.angle._state,J=$[$.length-1],se=$[$.length-2];J=J%(2*Math.PI);var ie=Math.abs(J+2*Math.PI-oe),ce=Math.abs(J-oe),ye=Math.abs(J-2*Math.PI-oe);ie<ce&&(J+=2*Math.PI),ye<ce&&(J-=2*Math.PI),this.angle.jump(this.angle.lastT(),J,se),this.angle.set(A,oe,K)}}}};function w(A){A=A||{};var C=A.center||[0,0,0],x=A.up||[0,1,0],E=A.right||g(x),M=A.radius||1,f=A.theta||0,P=A.phi||0;if(C=[].slice.call(C,0,3),x=[].slice.call(x,0,3),s(x,x),E=[].slice.call(E,0,3),s(E,E),"eye"in A){var T=A.eye,z=[T[0]-C[0],T[1]-C[1],T[2]-C[2]];u(E,z,x),m(E[0],E[1],E[2])<1e-6?E=g(x):s(E,E),M=m(z[0],z[1],z[2]);var _=l(x,z)/M,V=l(E,z)/M;P=Math.acos(_),f=Math.acos(V)}return M=Math.log(M),new c(A.zoomMin,A.zoomMax,C,x,E,M,f,P)}},9660:function(v){v.exports=r;var p=+(Math.pow(2,27)+1);function r(t,a,n){var u=t*a,s=p*t,l=s-t,m=s-l,h=t-m,g=p*a,c=g-a,o=g-c,d=a-o,w=u-m*o,A=w-h*o,C=A-m*d,x=h*d-C;return n?(n[0]=x,n[1]=u,n):[x,u]}},87:function(v){v.exports=p;function p(r,t,a){var n=r+t,u=n-r,s=n-u,l=t-u,m=r-s;return a?(a[0]=m+l,a[1]=n,a):[m+l,n]}},5306:function(v,p,r){var t=r(2288),a=r(3094),n=r(2146).lW;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:a([32,0]),UINT16:a([32,0]),UINT32:a([32,0]),BIGUINT64:a([32,0]),INT8:a([32,0]),INT16:a([32,0]),INT32:a([32,0]),BIGINT64:a([32,0]),FLOAT:a([32,0]),DOUBLE:a([32,0]),DATA:a([32,0]),UINT8C:a([32,0]),BUFFER:a([32,0])});var u=typeof Uint8ClampedArray<"u",s=typeof BigUint64Array<"u",l=typeof BigInt64Array<"u",m=r.g.__TYPEDARRAY_POOL;m.UINT8C||(m.UINT8C=a([32,0])),m.BIGUINT64||(m.BIGUINT64=a([32,0])),m.BIGINT64||(m.BIGINT64=a([32,0])),m.BUFFER||(m.BUFFER=a([32,0]));var h=m.DATA,g=m.BUFFER;p.free=function(k){if(n.isBuffer(k))g[t.log2(k.length)].push(k);else{if(Object.prototype.toString.call(k)!=="[object ArrayBuffer]"&&(k=k.buffer),!k)return;var I=k.length||k.byteLength,H=t.log2(I)|0;h[H].push(k)}};function c(N){if(N){var k=N.length||N.byteLength,I=t.log2(k);h[I].push(N)}}function o(N){c(N.buffer)}p.freeUint8=p.freeUint16=p.freeUint32=p.freeBigUint64=p.freeInt8=p.freeInt16=p.freeInt32=p.freeBigInt64=p.freeFloat32=p.freeFloat=p.freeFloat64=p.freeDouble=p.freeUint8Clamped=p.freeDataView=o,p.freeArrayBuffer=c,p.freeBuffer=function(k){g[t.log2(k.length)].push(k)},p.malloc=function(k,I){if(I===void 0||I==="arraybuffer")return d(k);switch(I){case"uint8":return w(k);case"uint16":return A(k);case"uint32":return C(k);case"int8":return x(k);case"int16":return E(k);case"int32":return M(k);case"float":case"float32":return f(k);case"double":case"float64":return P(k);case"uint8_clamped":return T(k);case"bigint64":return _(k);case"biguint64":return z(k);case"buffer":return F(k);case"data":case"dataview":return V(k);default:return null}return null};function d(k){var k=t.nextPow2(k),I=t.log2(k),H=h[I];return H.length>0?H.pop():new ArrayBuffer(k)}p.mallocArrayBuffer=d;function w(N){return new Uint8Array(d(N),0,N)}p.mallocUint8=w;function A(N){return new Uint16Array(d(2*N),0,N)}p.mallocUint16=A;function C(N){return new Uint32Array(d(4*N),0,N)}p.mallocUint32=C;function x(N){return new Int8Array(d(N),0,N)}p.mallocInt8=x;function E(N){return new Int16Array(d(2*N),0,N)}p.mallocInt16=E;function M(N){return new Int32Array(d(4*N),0,N)}p.mallocInt32=M;function f(N){return new Float32Array(d(4*N),0,N)}p.mallocFloat32=p.mallocFloat=f;function P(N){return new Float64Array(d(8*N),0,N)}p.mallocFloat64=p.mallocDouble=P;function T(N){return u?new Uint8ClampedArray(d(N),0,N):w(N)}p.mallocUint8Clamped=T;function z(N){return s?new BigUint64Array(d(8*N),0,N):null}p.mallocBigUint64=z;function _(N){return l?new BigInt64Array(d(8*N),0,N):null}p.mallocBigInt64=_;function V(N){return new DataView(d(N),0,N)}p.mallocDataView=V;function F(N){N=t.nextPow2(N);var k=t.log2(N),I=g[k];return I.length>0?I.pop():new n(N)}p.mallocBuffer=F,p.clearCache=function(){for(var k=0;k<32;++k)m.UINT8[k].length=0,m.UINT16[k].length=0,m.UINT32[k].length=0,m.INT8[k].length=0,m.INT16[k].length=0,m.INT32[k].length=0,m.FLOAT[k].length=0,m.DOUBLE[k].length=0,m.BIGUINT64[k].length=0,m.BIGINT64[k].length=0,m.UINT8C[k].length=0,h[k].length=0,g[k].length=0}},1731:function(v){"use restrict";v.exports=p;function p(t){this.roots=new Array(t),this.ranks=new Array(t);for(var a=0;a<t;++a)this.roots[a]=a,this.ranks[a]=0}var r=p.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var a=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[a]!==t;){var u=n[a];n[a]=t,a=u}return t},r.link=function(t,a){var n=this.find(t),u=this.find(a);if(n!==u){var s=this.ranks,l=this.roots,m=s[n],h=s[u];m<h?l[n]=u:h<m?l[u]=n:(l[u]=n,++s[n])}}},1215:function(v){function p(a,n){for(var u=1,s=a.length,l=a[0],m=a[0],h=1;h<s;++h)if(m=l,l=a[h],n(l,m)){if(h===u){u++;continue}a[u++]=l}return a.length=u,a}function r(a){for(var n=1,u=a.length,s=a[0],l=a[0],m=1;m<u;++m,l=s)if(l=s,s=a[m],s!==l){if(m===n){n++;continue}a[n++]=s}return a.length=n,a}function t(a,n,u){return a.length===0?a:n?(u||a.sort(n),p(a,n)):(u||a.sort(),r(a))}v.exports=t},875:function(v,p,r){v.exports=u;var t=r(712),a=null,n=null;typeof document<"u"&&(a=document.createElement("canvas"),a.width=8192,a.height=1024,n=a.getContext("2d"));function u(s,l){return(typeof l!="object"||l===null)&&(l={}),t(s,l.canvas||a,l.context||n,l)}},712:function(v,p,r){v.exports=_,v.exports.processPixels=z;var t=r(4162),a=r(5050),n=r(8243),u=r(197),s=r(7761),l=r(8040),m="b",h="b|",g="i",c="i|",o="sup",d="+",w="+1",A="sub",C="-",x="-1";function E(V,F,N,k){for(var I="<"+V+">",H="</"+V+">",j=I.length,ee=H.length,te=F[0]===d||F[0]===C,ne=0,ue=-ee;ne>-1&&(ne=N.indexOf(I,ne),!(ne===-1||(ue=N.indexOf(H,ne+j),ue===-1)||ue<=ne));){for(var q=ne;q<ue+ee;++q)if(q<ne+j||q>=ue)k[q]=null,N=N.substr(0,q)+" "+N.substr(q+1);else if(k[q]!==null){var Y=k[q].indexOf(F[0]);Y===-1?k[q]+=F:te&&(k[q]=k[q].substr(0,Y+1)+(1+parseInt(k[q][Y+1]))+k[q].substr(Y+2))}var Z=ne+j,G=N.substr(Z,ue-Z),K=G.indexOf(I);K!==-1?ne=K:ne=ue+ee}return k}function M(V,F,N){for(var k=F.textAlign||"start",I=F.textBaseline||"alphabetic",H=[1<<30,1<<30],j=[0,0],ee=V.length,te=0;te<ee;++te)for(var ne=V[te],ue=0;ue<2;++ue)H[ue]=Math.min(H[ue],ne[ue])|0,j[ue]=Math.max(j[ue],ne[ue])|0;var q=0;switch(k){case"center":q=-.5*(H[0]+j[0]);break;case"right":case"end":q=-j[0];break;case"left":case"start":q=-H[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+k+"'")}var Y=0;switch(I){case"hanging":case"top":Y=-H[1];break;case"middle":Y=-.5*(H[1]+j[1]);break;case"alphabetic":case"ideographic":Y=-3*N;break;case"bottom":Y=-j[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+I+"'")}var Z=1/N;return"lineHeight"in F?Z*=+F.lineHeight:"width"in F?Z=F.width/(j[0]-H[0]):"height"in F&&(Z=F.height/(j[1]-H[1])),V.map(function(G){return[Z*(G[0]+q),Z*(G[1]+Y)]})}function f(V,F,N,k,I,H){N=N.replace(/\n/g,""),H.breaklines===!0?N=N.replace(/\<br\>/g,`
`):N=N.replace(/\<br\>/g," ");var j="",ee=[];for(J=0;J<N.length;++J)ee[J]=j;H.bolds===!0&&(ee=E(m,h,N,ee)),H.italics===!0&&(ee=E(g,c,N,ee)),H.superscripts===!0&&(ee=E(o,w,N,ee)),H.subscripts===!0&&(ee=E(A,x,N,ee));var te=[],ne="";for(J=0;J<N.length;++J)ee[J]!==null&&(ne+=N[J],te.push(ee[J]));var ue=ne.split(`
`),q=ue.length,Y=Math.round(I*k),Z=k,G=k*2,K=0,oe=q*Y+G;V.height<oe&&(V.height=oe),F.fillStyle="#000",F.fillRect(0,0,V.width,V.height),F.fillStyle="#fff";var $,J,se,ie,ce,ye=0,Se="";function Te(){if(Se!==""){var Xe=F.measureText(Se).width;F.fillText(Se,Z+se,G+ie),se+=Xe}}function ke(){return""+Math.round(ce)+"px "}function we(Xe,ot){var ut=""+F.font;if(H.subscripts===!0){var et=Xe.indexOf(C),qe=ot.indexOf(C),ft=et>-1?parseInt(Xe[1+et]):0,ht=qe>-1?parseInt(ot[1+qe]):0;ft!==ht&&(ut=ut.replace(ke(),"?px "),ce*=Math.pow(.75,ht-ft),ut=ut.replace("?px ",ke())),ie+=.25*Y*(ht-ft)}if(H.superscripts===!0){var dt=Xe.indexOf(d),mt=ot.indexOf(d),St=dt>-1?parseInt(Xe[1+dt]):0,rt=mt>-1?parseInt(ot[1+mt]):0;St!==rt&&(ut=ut.replace(ke(),"?px "),ce*=Math.pow(.75,rt-St),ut=ut.replace("?px ",ke())),ie-=.25*Y*(rt-St)}if(H.bolds===!0){var Oe=Xe.indexOf(h)>-1,Ye=ot.indexOf(h)>-1;!Oe&&Ye&&(Ze?ut=ut.replace("italic ","italic bold "):ut="bold "+ut),Oe&&!Ye&&(ut=ut.replace("bold ",""))}if(H.italics===!0){var Ze=Xe.indexOf(c)>-1,Ge=ot.indexOf(c)>-1;!Ze&&Ge&&(ut="italic "+ut),Ze&&!Ge&&(ut=ut.replace("italic ",""))}F.font=ut}for($=0;$<q;++$){var Ee=ue[$]+`
`;for(se=0,ie=$*Y,ce=k,Se="",J=0;J<Ee.length;++J){var xe=J+ye<te.length?te[J+ye]:te[te.length-1];j===xe?Se+=Ee[J]:(Te(),Se=Ee[J],xe!==void 0&&(we(j,xe),j=xe))}Te(),ye+=Ee.length;var De=Math.round(se+2*Z)|0;K<De&&(K=De)}var Ve=K,Ue=G+Y*q,Be=a(F.getImageData(0,0,Ve,Ue).data,[Ue,Ve,4]);return Be.pick(-1,-1,0).transpose(1,0)}function P(V,F){var N=t(V,128);return F?n(N.cells,N.positions,.25):{edges:N.cells,positions:N.positions}}function T(V,F,N,k){var I=P(V,k),H=M(I.positions,F,N),j=I.edges,ee=F.orientation==="ccw";if(u(H,j),F.polygons||F.polygon||F.polyline){for(var te=l(j,H),ne=new Array(te.length),ue=0;ue<te.length;++ue){for(var q=te[ue],Y=new Array(q.length),Z=0;Z<q.length;++Z){for(var G=q[Z],K=new Array(G.length),oe=0;oe<G.length;++oe)K[oe]=H[G[oe]].slice();ee&&K.reverse(),Y[Z]=K}ne[ue]=Y}return ne}else return F.triangles||F.triangulate||F.triangle?{cells:s(H,j,{delaunay:!1,exterior:!1,interior:!0}),positions:H}:{edges:j,positions:H}}function z(V,F,N){try{return T(V,F,N,!0)}catch{}try{return T(V,F,N,!1)}catch{}return F.polygons||F.polyline||F.polygon?[]:F.triangles||F.triangulate||F.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function _(V,F,N,k){var I=64,H=1.25,j={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};k&&(k.size&&k.size>0&&(I=k.size),k.lineSpacing&&k.lineSpacing>0&&(H=k.lineSpacing),k.styletags&&k.styletags.breaklines&&(j.breaklines=!!k.styletags.breaklines),k.styletags&&k.styletags.bolds&&(j.bolds=!!k.styletags.bolds),k.styletags&&k.styletags.italics&&(j.italics=!!k.styletags.italics),k.styletags&&k.styletags.subscripts&&(j.subscripts=!!k.styletags.subscripts),k.styletags&&k.styletags.superscripts&&(j.superscripts=!!k.styletags.superscripts)),N.font=[k.fontStyle,k.fontVariant,k.fontWeight,I+"px",k.font].filter(function(te){return te}).join(" "),N.textAlign="start",N.textBaseline="alphabetic",N.direction="ltr";var ee=f(F,N,V,I,H,j);return z(ee,k,I)}},5346:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function r(P){P.permitHostObjects___&&P.permitHostObjects___(r)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=r);var t=!1;if(typeof WeakMap=="function"){var a=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var n=new a,u=Object.freeze({});if(n.set(u,1),n.get(u)!==1)t=!0;else{v.exports=WeakMap;return}}}var s=Object.getOwnPropertyNames,l=Object.defineProperty,m=Object.isExtensible,h="weakmap:",g=h+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var c=new ArrayBuffer(25),o=new Uint8Array(c);crypto.getRandomValues(o),g=h+"rand:"+Array.prototype.map.call(o,function(P){return(P%36).toString(36)}).join("")+"___"}function d(P){return!(P.substr(0,h.length)==h&&P.substr(P.length-3)==="___")}if(l(Object,"getOwnPropertyNames",{value:function(T){return s(T).filter(d)}}),"getPropertyNames"in Object){var w=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(T){return w(T).filter(d)}})}function A(P){if(P!==Object(P))throw new TypeError("Not an object: "+P);var T=P[g];if(T&&T.key===P)return T;if(m(P)){T={key:P};try{return l(P,g,{value:T,writable:!1,enumerable:!1,configurable:!1}),T}catch{return}}}(function(){var P=Object.freeze;l(Object,"freeze",{value:function(V){return A(V),P(V)}});var T=Object.seal;l(Object,"seal",{value:function(V){return A(V),T(V)}});var z=Object.preventExtensions;l(Object,"preventExtensions",{value:function(V){return A(V),z(V)}})})();function C(P){return P.prototype=null,Object.freeze(P)}var x=!1;function E(){!x&&typeof console<"u"&&(x=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var M=0,f=function(){this instanceof f||E();var P=[],T=[],z=M++;function _(k,I){var H,j=A(k);return j?z in j?j[z]:I:(H=P.indexOf(k),H>=0?T[H]:I)}function V(k){var I=A(k);return I?z in I:P.indexOf(k)>=0}function F(k,I){var H,j=A(k);return j?j[z]=I:(H=P.indexOf(k),H>=0?T[H]=I:(H=P.length,T[H]=I,P[H]=k)),this}function N(k){var I=A(k),H,j;return I?z in I&&delete I[z]:(H=P.indexOf(k),H<0?!1:(j=P.length-1,P[H]=void 0,T[H]=T[j],P[H]=P[j],P.length=j,T.length=j,!0))}return Object.create(f.prototype,{get___:{value:C(_)},has___:{value:C(V)},set___:{value:C(F)},delete___:{value:C(N)}})};f.prototype=Object.create(Object.prototype,{get:{value:function(T,z){return this.get___(T,z)},writable:!0,configurable:!0},has:{value:function(T){return this.has___(T)},writable:!0,configurable:!0},set:{value:function(T,z){return this.set___(T,z)},writable:!0,configurable:!0},delete:{value:function(T){return this.delete___(T)},writable:!0,configurable:!0}}),typeof a=="function"?function(){t&&typeof Proxy<"u"&&(Proxy=void 0);function P(){this instanceof f||E();var T=new a,z=void 0,_=!1;function V(I,H){return z?T.has(I)?T.get(I):z.get___(I,H):T.get(I,H)}function F(I){return T.has(I)||(z?z.has___(I):!1)}var N;t?N=function(I,H){return T.set(I,H),T.has(I)||(z||(z=new f),z.set(I,H)),this}:N=function(I,H){if(_)try{T.set(I,H)}catch{z||(z=new f),z.set___(I,H)}else T.set(I,H);return this};function k(I){var H=!!T.delete(I);return z&&z.delete___(I)||H}return Object.create(f.prototype,{get___:{value:C(V)},has___:{value:C(F)},set___:{value:C(N)},delete___:{value:C(k)},permitHostObjects___:{value:C(function(I){if(I===r)_=!0;else throw new Error("bogus call to permitHostObjects___")})}})}P.prototype=f.prototype,v.exports=P,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=f)})()},9222:function(v,p,r){var t=r(7178);v.exports=a;function a(){var n={};return function(u){if((typeof u!="object"||u===null)&&typeof u!="function")throw new Error("Weakmap-shim: Key must be object");var s=u.valueOf(n);return s&&s.identity===n?s:t(u,n)}}},7178:function(v){v.exports=p;function p(r,t){var a={identity:t},n=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(u){return u!==t?n.apply(this,arguments):a},writable:!0}),a}},4037:function(v,p,r){var t=r(9222);v.exports=a;function a(){var n=t();return{get:function(u,s){var l=n(u);return l.hasOwnProperty("value")?l.value:s},set:function(u,s){return n(u).value=s,this},has:function(u){return"value"in n(u)},delete:function(u){return delete n(u).value}}}},6183:function(v){function p(){return function(s,l,m,h,g,c){var o=s[0],d=m[0],w=[0],A=d;h|=0;var C=0,x=d;for(C=0;C<o;++C){{var E=l[h]-c,M=l[h+A]-c;E>=0!=M>=0&&g.push(w[0]+.5+.5*(E+M)/(E-M))}h+=x,++w[0]}}}function r(){return p()}var t=r;function a(s){var l={};return function(h,g,c){var o=h.dtype,d=h.order,w=[o,d.join()].join(),A=l[w];return A||(l[w]=A=s([o,d])),A(h.shape.slice(0),h.data,h.stride,h.offset|0,g,c)}}function n(s){return a(t.bind(void 0,s))}function u(s){return n({funcName:s.funcName})}v.exports=u({funcName:"zeroCrossings"})},9584:function(v,p,r){v.exports=a;var t=r(6183);function a(n,u){var s=[];return u=+u||0,t(n.hi(n.shape[0]-1),s,u),s}},6601:function(){}},i={};function S(v){var p=i[v];if(p!==void 0)return p.exports;var r=i[v]={id:v,loaded:!1,exports:{}};return L[v].call(r.exports,r,r.exports,S),r.loaded=!0,r.exports}(function(){S.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){S.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var b=S(7386);return b}()})},33576:function(U,B,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function y(rt,Oe){if(!(rt instanceof Oe))throw new TypeError("Cannot call a class as a function")}function L(rt,Oe){for(var Ye=0;Ye<Oe.length;Ye++){var Ze=Oe[Ye];Ze.enumerable=Ze.enumerable||!1,Ze.configurable=!0,"value"in Ze&&(Ze.writable=!0),Object.defineProperty(rt,S(Ze.key),Ze)}}function i(rt,Oe,Ye){return Oe&&L(rt.prototype,Oe),Ye&&L(rt,Ye),Object.defineProperty(rt,"prototype",{writable:!1}),rt}function S(rt){var Oe=b(rt,"string");return u(Oe)==="symbol"?Oe:String(Oe)}function b(rt,Oe){if(u(rt)!=="object"||rt===null)return rt;var Ye=rt[Symbol.toPrimitive];if(Ye!==void 0){var Ze=Ye.call(rt,Oe||"default");if(u(Ze)!=="object")return Ze;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Oe==="string"?String:Number)(rt)}function v(rt,Oe,Ye){function Ze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}return Oe=r(Oe),p(rt,Ze()?Reflect.construct(Oe,Ye||[],r(rt).constructor):Oe.apply(rt,Ye))}function p(rt,Oe){if(Oe&&(u(Oe)==="object"||typeof Oe=="function"))return Oe;if(Oe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(rt)}function r(rt){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ye){return Ye.__proto__||Object.getPrototypeOf(Ye)},r(rt)}function t(rt){if(rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return rt}function a(rt,Oe){if(typeof Oe!="function"&&Oe!==null)throw new TypeError("Super expression must either be null or a function");rt.prototype=Object.create(Oe&&Oe.prototype,{constructor:{value:rt,writable:!0,configurable:!0}}),Object.defineProperty(rt,"prototype",{writable:!1}),Oe&&n(rt,Oe)}function n(rt,Oe){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ze,Ge){return Ze.__proto__=Ge,Ze},n(rt,Oe)}function u(rt){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Oe){return typeof Oe}:function(Oe){return Oe&&typeof Symbol=="function"&&Oe.constructor===Symbol&&Oe!==Symbol.prototype?"symbol":typeof Oe},u(rt)}var s=e(59968),l=e(35984),m=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;B.Buffer=o,B.SlowBuffer=z,B.INSPECT_MAX_BYTES=50;var h=2147483647;B.kMaxLength=h,o.TYPED_ARRAY_SUPPORT=g(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function g(){try{var rt=new Uint8Array(1),Oe={foo:function(){return 42}};return Object.setPrototypeOf(Oe,Uint8Array.prototype),Object.setPrototypeOf(rt,Oe),rt.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function c(rt){if(rt>h)throw new RangeError('The value "'+rt+'" is invalid for option "size"');var Oe=new Uint8Array(rt);return Object.setPrototypeOf(Oe,o.prototype),Oe}function o(rt,Oe,Ye){if(typeof rt=="number"){if(typeof Oe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(rt)}return d(rt,Oe,Ye)}o.poolSize=8192;function d(rt,Oe,Ye){if(typeof rt=="string")return x(rt,Oe);if(ArrayBuffer.isView(rt))return M(rt);if(rt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(rt));if(ft(rt,ArrayBuffer)||rt&&ft(rt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ft(rt,SharedArrayBuffer)||rt&&ft(rt.buffer,SharedArrayBuffer)))return f(rt,Oe,Ye);if(typeof rt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ze=rt.valueOf&&rt.valueOf();if(Ze!=null&&Ze!==rt)return o.from(Ze,Oe,Ye);var Ge=P(rt);if(Ge)return Ge;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof rt[Symbol.toPrimitive]=="function")return o.from(rt[Symbol.toPrimitive]("string"),Oe,Ye);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(rt))}o.from=function(rt,Oe,Ye){return d(rt,Oe,Ye)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function w(rt){if(typeof rt!="number")throw new TypeError('"size" argument must be of type number');if(rt<0)throw new RangeError('The value "'+rt+'" is invalid for option "size"')}function A(rt,Oe,Ye){return w(rt),rt<=0?c(rt):Oe!==void 0?typeof Ye=="string"?c(rt).fill(Oe,Ye):c(rt).fill(Oe):c(rt)}o.alloc=function(rt,Oe,Ye){return A(rt,Oe,Ye)};function C(rt){return w(rt),c(rt<0?0:T(rt)|0)}o.allocUnsafe=function(rt){return C(rt)},o.allocUnsafeSlow=function(rt){return C(rt)};function x(rt,Oe){if((typeof Oe!="string"||Oe==="")&&(Oe="utf8"),!o.isEncoding(Oe))throw new TypeError("Unknown encoding: "+Oe);var Ye=_(rt,Oe)|0,Ze=c(Ye),Ge=Ze.write(rt,Oe);return Ge!==Ye&&(Ze=Ze.slice(0,Ge)),Ze}function E(rt){for(var Oe=rt.length<0?0:T(rt.length)|0,Ye=c(Oe),Ze=0;Ze<Oe;Ze+=1)Ye[Ze]=rt[Ze]&255;return Ye}function M(rt){if(ft(rt,Uint8Array)){var Oe=new Uint8Array(rt);return f(Oe.buffer,Oe.byteOffset,Oe.byteLength)}return E(rt)}function f(rt,Oe,Ye){if(Oe<0||rt.byteLength<Oe)throw new RangeError('"offset" is outside of buffer bounds');if(rt.byteLength<Oe+(Ye||0))throw new RangeError('"length" is outside of buffer bounds');var Ze;return Oe===void 0&&Ye===void 0?Ze=new Uint8Array(rt):Ye===void 0?Ze=new Uint8Array(rt,Oe):Ze=new Uint8Array(rt,Oe,Ye),Object.setPrototypeOf(Ze,o.prototype),Ze}function P(rt){if(o.isBuffer(rt)){var Oe=T(rt.length)|0,Ye=c(Oe);return Ye.length===0||rt.copy(Ye,0,0,Oe),Ye}if(rt.length!==void 0)return typeof rt.length!="number"||ht(rt.length)?c(0):E(rt);if(rt.type==="Buffer"&&Array.isArray(rt.data))return E(rt.data)}function T(rt){if(rt>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return rt|0}function z(rt){return+rt!=rt&&(rt=0),o.alloc(+rt)}o.isBuffer=function(Oe){return Oe!=null&&Oe._isBuffer===!0&&Oe!==o.prototype},o.compare=function(Oe,Ye){if(ft(Oe,Uint8Array)&&(Oe=o.from(Oe,Oe.offset,Oe.byteLength)),ft(Ye,Uint8Array)&&(Ye=o.from(Ye,Ye.offset,Ye.byteLength)),!o.isBuffer(Oe)||!o.isBuffer(Ye))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Oe===Ye)return 0;for(var Ze=Oe.length,Ge=Ye.length,_e=0,be=Math.min(Ze,Ge);_e<be;++_e)if(Oe[_e]!==Ye[_e]){Ze=Oe[_e],Ge=Ye[_e];break}return Ze<Ge?-1:Ge<Ze?1:0},o.isEncoding=function(Oe){switch(String(Oe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(Oe,Ye){if(!Array.isArray(Oe))throw new TypeError('"list" argument must be an Array of Buffers');if(Oe.length===0)return o.alloc(0);var Ze;if(Ye===void 0)for(Ye=0,Ze=0;Ze<Oe.length;++Ze)Ye+=Oe[Ze].length;var Ge=o.allocUnsafe(Ye),_e=0;for(Ze=0;Ze<Oe.length;++Ze){var be=Oe[Ze];if(ft(be,Uint8Array))_e+be.length>Ge.length?(o.isBuffer(be)||(be=o.from(be)),be.copy(Ge,_e)):Uint8Array.prototype.set.call(Ge,be,_e);else if(o.isBuffer(be))be.copy(Ge,_e);else throw new TypeError('"list" argument must be an Array of Buffers');_e+=be.length}return Ge};function _(rt,Oe){if(o.isBuffer(rt))return rt.length;if(ArrayBuffer.isView(rt)||ft(rt,ArrayBuffer))return rt.byteLength;if(typeof rt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+u(rt));var Ye=rt.length,Ze=arguments.length>2&&arguments[2]===!0;if(!Ze&&Ye===0)return 0;for(var Ge=!1;;)switch(Oe){case"ascii":case"latin1":case"binary":return Ye;case"utf8":case"utf-8":return Xe(rt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ye*2;case"hex":return Ye>>>1;case"base64":return et(rt).length;default:if(Ge)return Ze?-1:Xe(rt).length;Oe=(""+Oe).toLowerCase(),Ge=!0}}o.byteLength=_;function V(rt,Oe,Ye){var Ze=!1;if((Oe===void 0||Oe<0)&&(Oe=0),Oe>this.length||((Ye===void 0||Ye>this.length)&&(Ye=this.length),Ye<=0)||(Ye>>>=0,Oe>>>=0,Ye<=Oe))return"";for(rt||(rt="utf8");;)switch(rt){case"hex":return K(this,Oe,Ye);case"utf8":case"utf-8":return ue(this,Oe,Ye);case"ascii":return Z(this,Oe,Ye);case"latin1":case"binary":return G(this,Oe,Ye);case"base64":return ne(this,Oe,Ye);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,Oe,Ye);default:if(Ze)throw new TypeError("Unknown encoding: "+rt);rt=(rt+"").toLowerCase(),Ze=!0}}o.prototype._isBuffer=!0;function F(rt,Oe,Ye){var Ze=rt[Oe];rt[Oe]=rt[Ye],rt[Ye]=Ze}o.prototype.swap16=function(){var Oe=this.length;if(Oe%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ye=0;Ye<Oe;Ye+=2)F(this,Ye,Ye+1);return this},o.prototype.swap32=function(){var Oe=this.length;if(Oe%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ye=0;Ye<Oe;Ye+=4)F(this,Ye,Ye+3),F(this,Ye+1,Ye+2);return this},o.prototype.swap64=function(){var Oe=this.length;if(Oe%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ye=0;Ye<Oe;Ye+=8)F(this,Ye,Ye+7),F(this,Ye+1,Ye+6),F(this,Ye+2,Ye+5),F(this,Ye+3,Ye+4);return this},o.prototype.toString=function(){var Oe=this.length;return Oe===0?"":arguments.length===0?ue(this,0,Oe):V.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(Oe){if(!o.isBuffer(Oe))throw new TypeError("Argument must be a Buffer");return this===Oe?!0:o.compare(this,Oe)===0},o.prototype.inspect=function(){var Oe="",Ye=B.INSPECT_MAX_BYTES;return Oe=this.toString("hex",0,Ye).replace(/(.{2})/g,"$1 ").trim(),this.length>Ye&&(Oe+=" ... "),"<Buffer "+Oe+">"},m&&(o.prototype[m]=o.prototype.inspect),o.prototype.compare=function(Oe,Ye,Ze,Ge,_e){if(ft(Oe,Uint8Array)&&(Oe=o.from(Oe,Oe.offset,Oe.byteLength)),!o.isBuffer(Oe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+u(Oe));if(Ye===void 0&&(Ye=0),Ze===void 0&&(Ze=Oe?Oe.length:0),Ge===void 0&&(Ge=0),_e===void 0&&(_e=this.length),Ye<0||Ze>Oe.length||Ge<0||_e>this.length)throw new RangeError("out of range index");if(Ge>=_e&&Ye>=Ze)return 0;if(Ge>=_e)return-1;if(Ye>=Ze)return 1;if(Ye>>>=0,Ze>>>=0,Ge>>>=0,_e>>>=0,this===Oe)return 0;for(var be=_e-Ge,me=Ze-Ye,Ce=Math.min(be,me),Me=this.slice(Ge,_e),Ne=Oe.slice(Ye,Ze),je=0;je<Ce;++je)if(Me[je]!==Ne[je]){be=Me[je],me=Ne[je];break}return be<me?-1:me<be?1:0};function N(rt,Oe,Ye,Ze,Ge){if(rt.length===0)return-1;if(typeof Ye=="string"?(Ze=Ye,Ye=0):Ye>2147483647?Ye=2147483647:Ye<-2147483648&&(Ye=-2147483648),Ye=+Ye,ht(Ye)&&(Ye=Ge?0:rt.length-1),Ye<0&&(Ye=rt.length+Ye),Ye>=rt.length){if(Ge)return-1;Ye=rt.length-1}else if(Ye<0)if(Ge)Ye=0;else return-1;if(typeof Oe=="string"&&(Oe=o.from(Oe,Ze)),o.isBuffer(Oe))return Oe.length===0?-1:k(rt,Oe,Ye,Ze,Ge);if(typeof Oe=="number")return Oe=Oe&255,typeof Uint8Array.prototype.indexOf=="function"?Ge?Uint8Array.prototype.indexOf.call(rt,Oe,Ye):Uint8Array.prototype.lastIndexOf.call(rt,Oe,Ye):k(rt,[Oe],Ye,Ze,Ge);throw new TypeError("val must be string, number or Buffer")}function k(rt,Oe,Ye,Ze,Ge){var _e=1,be=rt.length,me=Oe.length;if(Ze!==void 0&&(Ze=String(Ze).toLowerCase(),Ze==="ucs2"||Ze==="ucs-2"||Ze==="utf16le"||Ze==="utf-16le")){if(rt.length<2||Oe.length<2)return-1;_e=2,be/=2,me/=2,Ye/=2}function Ce(ct,pt){return _e===1?ct[pt]:ct.readUInt16BE(pt*_e)}var Me;if(Ge){var Ne=-1;for(Me=Ye;Me<be;Me++)if(Ce(rt,Me)===Ce(Oe,Ne===-1?0:Me-Ne)){if(Ne===-1&&(Ne=Me),Me-Ne+1===me)return Ne*_e}else Ne!==-1&&(Me-=Me-Ne),Ne=-1}else for(Ye+me>be&&(Ye=be-me),Me=Ye;Me>=0;Me--){for(var je=!0,tt=0;tt<me;tt++)if(Ce(rt,Me+tt)!==Ce(Oe,tt)){je=!1;break}if(je)return Me}return-1}o.prototype.includes=function(Oe,Ye,Ze){return this.indexOf(Oe,Ye,Ze)!==-1},o.prototype.indexOf=function(Oe,Ye,Ze){return N(this,Oe,Ye,Ze,!0)},o.prototype.lastIndexOf=function(Oe,Ye,Ze){return N(this,Oe,Ye,Ze,!1)};function I(rt,Oe,Ye,Ze){Ye=Number(Ye)||0;var Ge=rt.length-Ye;Ze?(Ze=Number(Ze),Ze>Ge&&(Ze=Ge)):Ze=Ge;var _e=Oe.length;Ze>_e/2&&(Ze=_e/2);var be;for(be=0;be<Ze;++be){var me=parseInt(Oe.substr(be*2,2),16);if(ht(me))return be;rt[Ye+be]=me}return be}function H(rt,Oe,Ye,Ze){return qe(Xe(Oe,rt.length-Ye),rt,Ye,Ze)}function j(rt,Oe,Ye,Ze){return qe(ot(Oe),rt,Ye,Ze)}function ee(rt,Oe,Ye,Ze){return qe(et(Oe),rt,Ye,Ze)}function te(rt,Oe,Ye,Ze){return qe(ut(Oe,rt.length-Ye),rt,Ye,Ze)}o.prototype.write=function(Oe,Ye,Ze,Ge){if(Ye===void 0)Ge="utf8",Ze=this.length,Ye=0;else if(Ze===void 0&&typeof Ye=="string")Ge=Ye,Ze=this.length,Ye=0;else if(isFinite(Ye))Ye=Ye>>>0,isFinite(Ze)?(Ze=Ze>>>0,Ge===void 0&&(Ge="utf8")):(Ge=Ze,Ze=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var _e=this.length-Ye;if((Ze===void 0||Ze>_e)&&(Ze=_e),Oe.length>0&&(Ze<0||Ye<0)||Ye>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ge||(Ge="utf8");for(var be=!1;;)switch(Ge){case"hex":return I(this,Oe,Ye,Ze);case"utf8":case"utf-8":return H(this,Oe,Ye,Ze);case"ascii":case"latin1":case"binary":return j(this,Oe,Ye,Ze);case"base64":return ee(this,Oe,Ye,Ze);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,Oe,Ye,Ze);default:if(be)throw new TypeError("Unknown encoding: "+Ge);Ge=(""+Ge).toLowerCase(),be=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ne(rt,Oe,Ye){return Oe===0&&Ye===rt.length?s.fromByteArray(rt):s.fromByteArray(rt.slice(Oe,Ye))}function ue(rt,Oe,Ye){Ye=Math.min(rt.length,Ye);for(var Ze=[],Ge=Oe;Ge<Ye;){var _e=rt[Ge],be=null,me=_e>239?4:_e>223?3:_e>191?2:1;if(Ge+me<=Ye){var Ce=void 0,Me=void 0,Ne=void 0,je=void 0;switch(me){case 1:_e<128&&(be=_e);break;case 2:Ce=rt[Ge+1],(Ce&192)===128&&(je=(_e&31)<<6|Ce&63,je>127&&(be=je));break;case 3:Ce=rt[Ge+1],Me=rt[Ge+2],(Ce&192)===128&&(Me&192)===128&&(je=(_e&15)<<12|(Ce&63)<<6|Me&63,je>2047&&(je<55296||je>57343)&&(be=je));break;case 4:Ce=rt[Ge+1],Me=rt[Ge+2],Ne=rt[Ge+3],(Ce&192)===128&&(Me&192)===128&&(Ne&192)===128&&(je=(_e&15)<<18|(Ce&63)<<12|(Me&63)<<6|Ne&63,je>65535&&je<1114112&&(be=je))}}be===null?(be=65533,me=1):be>65535&&(be-=65536,Ze.push(be>>>10&1023|55296),be=56320|be&1023),Ze.push(be),Ge+=me}return Y(Ze)}var q=4096;function Y(rt){var Oe=rt.length;if(Oe<=q)return String.fromCharCode.apply(String,rt);for(var Ye="",Ze=0;Ze<Oe;)Ye+=String.fromCharCode.apply(String,rt.slice(Ze,Ze+=q));return Ye}function Z(rt,Oe,Ye){var Ze="";Ye=Math.min(rt.length,Ye);for(var Ge=Oe;Ge<Ye;++Ge)Ze+=String.fromCharCode(rt[Ge]&127);return Ze}function G(rt,Oe,Ye){var Ze="";Ye=Math.min(rt.length,Ye);for(var Ge=Oe;Ge<Ye;++Ge)Ze+=String.fromCharCode(rt[Ge]);return Ze}function K(rt,Oe,Ye){var Ze=rt.length;(!Oe||Oe<0)&&(Oe=0),(!Ye||Ye<0||Ye>Ze)&&(Ye=Ze);for(var Ge="",_e=Oe;_e<Ye;++_e)Ge+=dt[rt[_e]];return Ge}function oe(rt,Oe,Ye){for(var Ze=rt.slice(Oe,Ye),Ge="",_e=0;_e<Ze.length-1;_e+=2)Ge+=String.fromCharCode(Ze[_e]+Ze[_e+1]*256);return Ge}o.prototype.slice=function(Oe,Ye){var Ze=this.length;Oe=~~Oe,Ye=Ye===void 0?Ze:~~Ye,Oe<0?(Oe+=Ze,Oe<0&&(Oe=0)):Oe>Ze&&(Oe=Ze),Ye<0?(Ye+=Ze,Ye<0&&(Ye=0)):Ye>Ze&&(Ye=Ze),Ye<Oe&&(Ye=Oe);var Ge=this.subarray(Oe,Ye);return Object.setPrototypeOf(Ge,o.prototype),Ge};function $(rt,Oe,Ye){if(rt%1!==0||rt<0)throw new RangeError("offset is not uint");if(rt+Oe>Ye)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(Oe,Ye,Ze){Oe=Oe>>>0,Ye=Ye>>>0,Ze||$(Oe,Ye,this.length);for(var Ge=this[Oe],_e=1,be=0;++be<Ye&&(_e*=256);)Ge+=this[Oe+be]*_e;return Ge},o.prototype.readUintBE=o.prototype.readUIntBE=function(Oe,Ye,Ze){Oe=Oe>>>0,Ye=Ye>>>0,Ze||$(Oe,Ye,this.length);for(var Ge=this[Oe+--Ye],_e=1;Ye>0&&(_e*=256);)Ge+=this[Oe+--Ye]*_e;return Ge},o.prototype.readUint8=o.prototype.readUInt8=function(Oe,Ye){return Oe=Oe>>>0,Ye||$(Oe,1,this.length),this[Oe]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(Oe,Ye){return Oe=Oe>>>0,Ye||$(Oe,2,this.length),this[Oe]|this[Oe+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(Oe,Ye){return Oe=Oe>>>0,Ye||$(Oe,2,this.length),this[Oe]<<8|this[Oe+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(Oe,Ye){return Oe=Oe>>>0,Ye||$(Oe,4,this.length),(this[Oe]|this[Oe+1]<<8|this[Oe+2]<<16)+this[Oe+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(Oe,Ye){return Oe=Oe>>>0,Ye||$(Oe,4,this.length),this[Oe]*16777216+(this[Oe+1]<<16|this[Oe+2]<<8|this[Oe+3])},o.prototype.readBigUInt64LE=mt(function(Oe){Oe=Oe>>>0,De(Oe,"offset");var Ye=this[Oe],Ze=this[Oe+7];(Ye===void 0||Ze===void 0)&&Ve(Oe,this.length-8);var Ge=Ye+this[++Oe]*Math.pow(2,8)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,24),_e=this[++Oe]+this[++Oe]*Math.pow(2,8)+this[++Oe]*Math.pow(2,16)+Ze*Math.pow(2,24);return BigInt(Ge)+(BigInt(_e)<<BigInt(32))}),o.prototype.readBigUInt64BE=mt(function(Oe){Oe=Oe>>>0,De(Oe,"offset");var Ye=this[Oe],Ze=this[Oe+7];(Ye===void 0||Ze===void 0)&&Ve(Oe,this.length-8);var Ge=Ye*Math.pow(2,24)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,8)+this[++Oe],_e=this[++Oe]*Math.pow(2,24)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,8)+Ze;return(BigInt(Ge)<<BigInt(32))+BigInt(_e)}),o.prototype.readIntLE=function(Oe,Ye,Ze){Oe=Oe>>>0,Ye=Ye>>>0,Ze||$(Oe,Ye,this.length);for(var Ge=this[Oe],_e=1,be=0;++be<Ye&&(_e*=256);)Ge+=this[Oe+be]*_e;return _e*=128,Ge>=_e&&(Ge-=Math.pow(2,8*Ye)),Ge},o.prototype.readIntBE=function(Oe,Ye,Ze){Oe=Oe>>>0,Ye=Ye>>>0,Ze||$(Oe,Ye,this.length);for(var Ge=Ye,_e=1,be=this[Oe+--Ge];Ge>0&&(_e*=256);)be+=this[Oe+--Ge]*_e;return _e*=128,be>=_e&&(be-=Math.pow(2,8*Ye)),be},o.prototype.readInt8=function(Oe,Ye){return Oe=Oe>>>0,Ye||$(Oe,1,this.length),this[Oe]&128?(255-this[Oe]+1)*-1:this[Oe]},o.prototype.readInt16LE=function(Oe,Ye){Oe=Oe>>>0,Ye||$(Oe,2,this.length);var Ze=this[Oe]|this[Oe+1]<<8;return Ze&32768?Ze|4294901760:Ze},o.prototype.readInt16BE=function(Oe,Ye){Oe=Oe>>>0,Ye||$(Oe,2,this.length);var Ze=this[Oe+1]|this[Oe]<<8;return Ze&32768?Ze|4294901760:Ze},o.prototype.readInt32LE=function(Oe,Ye){return Oe=Oe>>>0,Ye||$(Oe,4,this.length),this[Oe]|this[Oe+1]<<8|this[Oe+2]<<16|this[Oe+3]<<24},o.prototype.readInt32BE=function(Oe,Ye){return Oe=Oe>>>0,Ye||$(Oe,4,this.length),this[Oe]<<24|this[Oe+1]<<16|this[Oe+2]<<8|this[Oe+3]},o.prototype.readBigInt64LE=mt(function(Oe){Oe=Oe>>>0,De(Oe,"offset");var Ye=this[Oe],Ze=this[Oe+7];(Ye===void 0||Ze===void 0)&&Ve(Oe,this.length-8);var Ge=this[Oe+4]+this[Oe+5]*Math.pow(2,8)+this[Oe+6]*Math.pow(2,16)+(Ze<<24);return(BigInt(Ge)<<BigInt(32))+BigInt(Ye+this[++Oe]*Math.pow(2,8)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,24))}),o.prototype.readBigInt64BE=mt(function(Oe){Oe=Oe>>>0,De(Oe,"offset");var Ye=this[Oe],Ze=this[Oe+7];(Ye===void 0||Ze===void 0)&&Ve(Oe,this.length-8);var Ge=(Ye<<24)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,8)+this[++Oe];return(BigInt(Ge)<<BigInt(32))+BigInt(this[++Oe]*Math.pow(2,24)+this[++Oe]*Math.pow(2,16)+this[++Oe]*Math.pow(2,8)+Ze)}),o.prototype.readFloatLE=function(Oe,Ye){return Oe=Oe>>>0,Ye||$(Oe,4,this.length),l.read(this,Oe,!0,23,4)},o.prototype.readFloatBE=function(Oe,Ye){return Oe=Oe>>>0,Ye||$(Oe,4,this.length),l.read(this,Oe,!1,23,4)},o.prototype.readDoubleLE=function(Oe,Ye){return Oe=Oe>>>0,Ye||$(Oe,8,this.length),l.read(this,Oe,!0,52,8)},o.prototype.readDoubleBE=function(Oe,Ye){return Oe=Oe>>>0,Ye||$(Oe,8,this.length),l.read(this,Oe,!1,52,8)};function J(rt,Oe,Ye,Ze,Ge,_e){if(!o.isBuffer(rt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Oe>Ge||Oe<_e)throw new RangeError('"value" argument is out of bounds');if(Ye+Ze>rt.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(Oe,Ye,Ze,Ge){if(Oe=+Oe,Ye=Ye>>>0,Ze=Ze>>>0,!Ge){var _e=Math.pow(2,8*Ze)-1;J(this,Oe,Ye,Ze,_e,0)}var be=1,me=0;for(this[Ye]=Oe&255;++me<Ze&&(be*=256);)this[Ye+me]=Oe/be&255;return Ye+Ze},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(Oe,Ye,Ze,Ge){if(Oe=+Oe,Ye=Ye>>>0,Ze=Ze>>>0,!Ge){var _e=Math.pow(2,8*Ze)-1;J(this,Oe,Ye,Ze,_e,0)}var be=Ze-1,me=1;for(this[Ye+be]=Oe&255;--be>=0&&(me*=256);)this[Ye+be]=Oe/me&255;return Ye+Ze},o.prototype.writeUint8=o.prototype.writeUInt8=function(Oe,Ye,Ze){return Oe=+Oe,Ye=Ye>>>0,Ze||J(this,Oe,Ye,1,255,0),this[Ye]=Oe&255,Ye+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(Oe,Ye,Ze){return Oe=+Oe,Ye=Ye>>>0,Ze||J(this,Oe,Ye,2,65535,0),this[Ye]=Oe&255,this[Ye+1]=Oe>>>8,Ye+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(Oe,Ye,Ze){return Oe=+Oe,Ye=Ye>>>0,Ze||J(this,Oe,Ye,2,65535,0),this[Ye]=Oe>>>8,this[Ye+1]=Oe&255,Ye+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(Oe,Ye,Ze){return Oe=+Oe,Ye=Ye>>>0,Ze||J(this,Oe,Ye,4,4294967295,0),this[Ye+3]=Oe>>>24,this[Ye+2]=Oe>>>16,this[Ye+1]=Oe>>>8,this[Ye]=Oe&255,Ye+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(Oe,Ye,Ze){return Oe=+Oe,Ye=Ye>>>0,Ze||J(this,Oe,Ye,4,4294967295,0),this[Ye]=Oe>>>24,this[Ye+1]=Oe>>>16,this[Ye+2]=Oe>>>8,this[Ye+3]=Oe&255,Ye+4};function se(rt,Oe,Ye,Ze,Ge){xe(Oe,Ze,Ge,rt,Ye,7);var _e=Number(Oe&BigInt(4294967295));rt[Ye++]=_e,_e=_e>>8,rt[Ye++]=_e,_e=_e>>8,rt[Ye++]=_e,_e=_e>>8,rt[Ye++]=_e;var be=Number(Oe>>BigInt(32)&BigInt(4294967295));return rt[Ye++]=be,be=be>>8,rt[Ye++]=be,be=be>>8,rt[Ye++]=be,be=be>>8,rt[Ye++]=be,Ye}function ie(rt,Oe,Ye,Ze,Ge){xe(Oe,Ze,Ge,rt,Ye,7);var _e=Number(Oe&BigInt(4294967295));rt[Ye+7]=_e,_e=_e>>8,rt[Ye+6]=_e,_e=_e>>8,rt[Ye+5]=_e,_e=_e>>8,rt[Ye+4]=_e;var be=Number(Oe>>BigInt(32)&BigInt(4294967295));return rt[Ye+3]=be,be=be>>8,rt[Ye+2]=be,be=be>>8,rt[Ye+1]=be,be=be>>8,rt[Ye]=be,Ye+8}o.prototype.writeBigUInt64LE=mt(function(Oe){var Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,Oe,Ye,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=mt(function(Oe){var Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ie(this,Oe,Ye,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(Oe,Ye,Ze,Ge){if(Oe=+Oe,Ye=Ye>>>0,!Ge){var _e=Math.pow(2,8*Ze-1);J(this,Oe,Ye,Ze,_e-1,-_e)}var be=0,me=1,Ce=0;for(this[Ye]=Oe&255;++be<Ze&&(me*=256);)Oe<0&&Ce===0&&this[Ye+be-1]!==0&&(Ce=1),this[Ye+be]=(Oe/me>>0)-Ce&255;return Ye+Ze},o.prototype.writeIntBE=function(Oe,Ye,Ze,Ge){if(Oe=+Oe,Ye=Ye>>>0,!Ge){var _e=Math.pow(2,8*Ze-1);J(this,Oe,Ye,Ze,_e-1,-_e)}var be=Ze-1,me=1,Ce=0;for(this[Ye+be]=Oe&255;--be>=0&&(me*=256);)Oe<0&&Ce===0&&this[Ye+be+1]!==0&&(Ce=1),this[Ye+be]=(Oe/me>>0)-Ce&255;return Ye+Ze},o.prototype.writeInt8=function(Oe,Ye,Ze){return Oe=+Oe,Ye=Ye>>>0,Ze||J(this,Oe,Ye,1,127,-128),Oe<0&&(Oe=255+Oe+1),this[Ye]=Oe&255,Ye+1},o.prototype.writeInt16LE=function(Oe,Ye,Ze){return Oe=+Oe,Ye=Ye>>>0,Ze||J(this,Oe,Ye,2,32767,-32768),this[Ye]=Oe&255,this[Ye+1]=Oe>>>8,Ye+2},o.prototype.writeInt16BE=function(Oe,Ye,Ze){return Oe=+Oe,Ye=Ye>>>0,Ze||J(this,Oe,Ye,2,32767,-32768),this[Ye]=Oe>>>8,this[Ye+1]=Oe&255,Ye+2},o.prototype.writeInt32LE=function(Oe,Ye,Ze){return Oe=+Oe,Ye=Ye>>>0,Ze||J(this,Oe,Ye,4,2147483647,-2147483648),this[Ye]=Oe&255,this[Ye+1]=Oe>>>8,this[Ye+2]=Oe>>>16,this[Ye+3]=Oe>>>24,Ye+4},o.prototype.writeInt32BE=function(Oe,Ye,Ze){return Oe=+Oe,Ye=Ye>>>0,Ze||J(this,Oe,Ye,4,2147483647,-2147483648),Oe<0&&(Oe=4294967295+Oe+1),this[Ye]=Oe>>>24,this[Ye+1]=Oe>>>16,this[Ye+2]=Oe>>>8,this[Ye+3]=Oe&255,Ye+4},o.prototype.writeBigInt64LE=mt(function(Oe){var Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,Oe,Ye,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=mt(function(Oe){var Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ie(this,Oe,Ye,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ce(rt,Oe,Ye,Ze,Ge,_e){if(Ye+Ze>rt.length)throw new RangeError("Index out of range");if(Ye<0)throw new RangeError("Index out of range")}function ye(rt,Oe,Ye,Ze,Ge){return Oe=+Oe,Ye=Ye>>>0,Ge||ce(rt,Oe,Ye,4),l.write(rt,Oe,Ye,Ze,23,4),Ye+4}o.prototype.writeFloatLE=function(Oe,Ye,Ze){return ye(this,Oe,Ye,!0,Ze)},o.prototype.writeFloatBE=function(Oe,Ye,Ze){return ye(this,Oe,Ye,!1,Ze)};function Se(rt,Oe,Ye,Ze,Ge){return Oe=+Oe,Ye=Ye>>>0,Ge||ce(rt,Oe,Ye,8),l.write(rt,Oe,Ye,Ze,52,8),Ye+8}o.prototype.writeDoubleLE=function(Oe,Ye,Ze){return Se(this,Oe,Ye,!0,Ze)},o.prototype.writeDoubleBE=function(Oe,Ye,Ze){return Se(this,Oe,Ye,!1,Ze)},o.prototype.copy=function(Oe,Ye,Ze,Ge){if(!o.isBuffer(Oe))throw new TypeError("argument should be a Buffer");if(Ze||(Ze=0),!Ge&&Ge!==0&&(Ge=this.length),Ye>=Oe.length&&(Ye=Oe.length),Ye||(Ye=0),Ge>0&&Ge<Ze&&(Ge=Ze),Ge===Ze||Oe.length===0||this.length===0)return 0;if(Ye<0)throw new RangeError("targetStart out of bounds");if(Ze<0||Ze>=this.length)throw new RangeError("Index out of range");if(Ge<0)throw new RangeError("sourceEnd out of bounds");Ge>this.length&&(Ge=this.length),Oe.length-Ye<Ge-Ze&&(Ge=Oe.length-Ye+Ze);var _e=Ge-Ze;return this===Oe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ye,Ze,Ge):Uint8Array.prototype.set.call(Oe,this.subarray(Ze,Ge),Ye),_e},o.prototype.fill=function(Oe,Ye,Ze,Ge){if(typeof Oe=="string"){if(typeof Ye=="string"?(Ge=Ye,Ye=0,Ze=this.length):typeof Ze=="string"&&(Ge=Ze,Ze=this.length),Ge!==void 0&&typeof Ge!="string")throw new TypeError("encoding must be a string");if(typeof Ge=="string"&&!o.isEncoding(Ge))throw new TypeError("Unknown encoding: "+Ge);if(Oe.length===1){var _e=Oe.charCodeAt(0);(Ge==="utf8"&&_e<128||Ge==="latin1")&&(Oe=_e)}}else typeof Oe=="number"?Oe=Oe&255:typeof Oe=="boolean"&&(Oe=Number(Oe));if(Ye<0||this.length<Ye||this.length<Ze)throw new RangeError("Out of range index");if(Ze<=Ye)return this;Ye=Ye>>>0,Ze=Ze===void 0?this.length:Ze>>>0,Oe||(Oe=0);var be;if(typeof Oe=="number")for(be=Ye;be<Ze;++be)this[be]=Oe;else{var me=o.isBuffer(Oe)?Oe:o.from(Oe,Ge),Ce=me.length;if(Ce===0)throw new TypeError('The value "'+Oe+'" is invalid for argument "value"');for(be=0;be<Ze-Ye;++be)this[be+Ye]=me[be%Ce]}return this};var Te={};function ke(rt,Oe,Ye){Te[rt]=function(Ze){a(Ge,Ze);function Ge(){var _e;return y(this,Ge),_e=v(this,Ge),Object.defineProperty(t(_e),"message",{value:Oe.apply(t(_e),arguments),writable:!0,configurable:!0}),_e.name="".concat(_e.name," [").concat(rt,"]"),_e.stack,delete _e.name,_e}return i(Ge,[{key:"code",get:function(){return rt},set:function(be){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:be,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(rt,"]: ").concat(this.message)}}]),Ge}(Ye)}ke("ERR_BUFFER_OUT_OF_BOUNDS",function(rt){return rt?"".concat(rt," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),ke("ERR_INVALID_ARG_TYPE",function(rt,Oe){return'The "'.concat(rt,'" argument must be of type number. Received type ').concat(u(Oe))},TypeError),ke("ERR_OUT_OF_RANGE",function(rt,Oe,Ye){var Ze='The value of "'.concat(rt,'" is out of range.'),Ge=Ye;return Number.isInteger(Ye)&&Math.abs(Ye)>Math.pow(2,32)?Ge=we(String(Ye)):typeof Ye=="bigint"&&(Ge=String(Ye),(Ye>Math.pow(BigInt(2),BigInt(32))||Ye<-Math.pow(BigInt(2),BigInt(32)))&&(Ge=we(Ge)),Ge+="n"),Ze+=" It must be ".concat(Oe,". Received ").concat(Ge),Ze},RangeError);function we(rt){for(var Oe="",Ye=rt.length,Ze=rt[0]==="-"?1:0;Ye>=Ze+4;Ye-=3)Oe="_".concat(rt.slice(Ye-3,Ye)).concat(Oe);return"".concat(rt.slice(0,Ye)).concat(Oe)}function Ee(rt,Oe,Ye){De(Oe,"offset"),(rt[Oe]===void 0||rt[Oe+Ye]===void 0)&&Ve(Oe,rt.length-(Ye+1))}function xe(rt,Oe,Ye,Ze,Ge,_e){if(rt>Ye||rt<Oe){var be=typeof Oe=="bigint"?"n":"",me;throw _e>3?Oe===0||Oe===BigInt(0)?me=">= 0".concat(be," and < 2").concat(be," ** ").concat((_e+1)*8).concat(be):me=">= -(2".concat(be," ** ").concat((_e+1)*8-1).concat(be,") and < 2 ** ")+"".concat((_e+1)*8-1).concat(be):me=">= ".concat(Oe).concat(be," and <= ").concat(Ye).concat(be),new Te.ERR_OUT_OF_RANGE("value",me,rt)}Ee(Ze,Ge,_e)}function De(rt,Oe){if(typeof rt!="number")throw new Te.ERR_INVALID_ARG_TYPE(Oe,"number",rt)}function Ve(rt,Oe,Ye){throw Math.floor(rt)!==rt?(De(rt,Ye),new Te.ERR_OUT_OF_RANGE(Ye||"offset","an integer",rt)):Oe<0?new Te.ERR_BUFFER_OUT_OF_BOUNDS:new Te.ERR_OUT_OF_RANGE(Ye||"offset",">= ".concat(Ye?1:0," and <= ").concat(Oe),rt)}var Ue=/[^+/0-9A-Za-z-_]/g;function Be(rt){if(rt=rt.split("=")[0],rt=rt.trim().replace(Ue,""),rt.length<2)return"";for(;rt.length%4!==0;)rt=rt+"=";return rt}function Xe(rt,Oe){Oe=Oe||1/0;for(var Ye,Ze=rt.length,Ge=null,_e=[],be=0;be<Ze;++be){if(Ye=rt.charCodeAt(be),Ye>55295&&Ye<57344){if(!Ge){if(Ye>56319){(Oe-=3)>-1&&_e.push(239,191,189);continue}else if(be+1===Ze){(Oe-=3)>-1&&_e.push(239,191,189);continue}Ge=Ye;continue}if(Ye<56320){(Oe-=3)>-1&&_e.push(239,191,189),Ge=Ye;continue}Ye=(Ge-55296<<10|Ye-56320)+65536}else Ge&&(Oe-=3)>-1&&_e.push(239,191,189);if(Ge=null,Ye<128){if((Oe-=1)<0)break;_e.push(Ye)}else if(Ye<2048){if((Oe-=2)<0)break;_e.push(Ye>>6|192,Ye&63|128)}else if(Ye<65536){if((Oe-=3)<0)break;_e.push(Ye>>12|224,Ye>>6&63|128,Ye&63|128)}else if(Ye<1114112){if((Oe-=4)<0)break;_e.push(Ye>>18|240,Ye>>12&63|128,Ye>>6&63|128,Ye&63|128)}else throw new Error("Invalid code point")}return _e}function ot(rt){for(var Oe=[],Ye=0;Ye<rt.length;++Ye)Oe.push(rt.charCodeAt(Ye)&255);return Oe}function ut(rt,Oe){for(var Ye,Ze,Ge,_e=[],be=0;be<rt.length&&!((Oe-=2)<0);++be)Ye=rt.charCodeAt(be),Ze=Ye>>8,Ge=Ye%256,_e.push(Ge),_e.push(Ze);return _e}function et(rt){return s.toByteArray(Be(rt))}function qe(rt,Oe,Ye,Ze){var Ge;for(Ge=0;Ge<Ze&&!(Ge+Ye>=Oe.length||Ge>=rt.length);++Ge)Oe[Ge+Ye]=rt[Ge];return Ge}function ft(rt,Oe){return rt instanceof Oe||rt!=null&&rt.constructor!=null&&rt.constructor.name!=null&&rt.constructor.name===Oe.name}function ht(rt){return rt!==rt}var dt=function(){for(var rt="0123456789abcdef",Oe=new Array(256),Ye=0;Ye<16;++Ye)for(var Ze=Ye*16,Ge=0;Ge<16;++Ge)Oe[Ze+Ge]=rt[Ye]+rt[Ge];return Oe}();function mt(rt){return typeof BigInt>"u"?St:rt}function St(){throw new Error("BigInt not supported")}},25928:function(U){U.exports=L,U.exports.isMobile=L,U.exports.default=L;var B=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,y=/android|ipad|playbook|silk/i;function L(i){i||(i={});var S=i.ua;if(!S&&typeof navigator<"u"&&(S=navigator.userAgent),S&&S.headers&&typeof S.headers["user-agent"]=="string"&&(S=S.headers["user-agent"]),typeof S!="string")return!1;var b=B.test(S)&&!e.test(S)||!!i.tablet&&y.test(S);return!b&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&S.indexOf("Macintosh")!==-1&&S.indexOf("Safari")!==-1&&(b=!0),b}},48932:function(U,B,e){e.r(B),e.d(B,{sankeyCenter:function(){return a},sankeyCircular:function(){return P},sankeyJustify:function(){return t},sankeyLeft:function(){return p},sankeyRight:function(){return r}});var y=e(84706),L=e(34712),i=e(10132),S=e(6688),b=e.n(S);function v(Te){return Te.target.depth}function p(Te){return Te.depth}function r(Te,ke){return ke-1-Te.height}function t(Te,ke){return Te.sourceLinks.length?Te.depth:ke-1}function a(Te){return Te.targetLinks.length?Te.depth:Te.sourceLinks.length?(0,y.SY)(Te.sourceLinks,v)-1:0}function n(Te){return function(){return Te}}var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Te){return typeof Te}:function(Te){return Te&&typeof Symbol=="function"&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te};function s(Te,ke){return m(Te.source,ke.source)||Te.index-ke.index}function l(Te,ke){return m(Te.target,ke.target)||Te.index-ke.index}function m(Te,ke){return Te.partOfCycle===ke.partOfCycle?Te.y0-ke.y0:Te.circularLinkType==="top"||ke.circularLinkType==="bottom"?-1:1}function h(Te){return Te.value}function g(Te){return(Te.y0+Te.y1)/2}function c(Te){return g(Te.source)}function o(Te){return g(Te.target)}function d(Te){return Te.index}function w(Te){return Te.nodes}function A(Te){return Te.links}function C(Te,ke){var we=Te.get(ke);if(!we)throw new Error("missing: "+ke);return we}function x(Te,ke){return ke(Te)}var E=25,M=10,f=.3;function P(){var Te=0,ke=0,we=1,Ee=1,xe=24,De,Ve=d,Ue=t,Be=w,Xe=A,ot=32,ut=2,et,qe=null;function ft(){var Ze={nodes:Be.apply(null,arguments),links:Xe.apply(null,arguments)};ht(Ze),T(Ze,Ve,qe),dt(Ze),rt(Ze),z(Ze,Ve),Oe(Ze,ot,Ve),Ye(Ze);for(var Ge=4,_e=0;_e<Ge;_e++)J(Ze,Ee,Ve),se(Ze,Ee,Ve),K(Ze,ke,Ee,Ve),J(Ze,Ee,Ve),se(Ze,Ee,Ve);return Se(Ze,ke,Ee),I(Ze,ut,Ee,Ve),Ze}ft.nodeId=function(Ze){return arguments.length?(Ve=typeof Ze=="function"?Ze:n(Ze),ft):Ve},ft.nodeAlign=function(Ze){return arguments.length?(Ue=typeof Ze=="function"?Ze:n(Ze),ft):Ue},ft.nodeWidth=function(Ze){return arguments.length?(xe=+Ze,ft):xe},ft.nodePadding=function(Ze){return arguments.length?(De=+Ze,ft):De},ft.nodes=function(Ze){return arguments.length?(Be=typeof Ze=="function"?Ze:n(Ze),ft):Be},ft.links=function(Ze){return arguments.length?(Xe=typeof Ze=="function"?Ze:n(Ze),ft):Xe},ft.size=function(Ze){return arguments.length?(Te=ke=0,we=+Ze[0],Ee=+Ze[1],ft):[we-Te,Ee-ke]},ft.extent=function(Ze){return arguments.length?(Te=+Ze[0][0],we=+Ze[1][0],ke=+Ze[0][1],Ee=+Ze[1][1],ft):[[Te,ke],[we,Ee]]},ft.iterations=function(Ze){return arguments.length?(ot=+Ze,ft):ot},ft.circularLinkGap=function(Ze){return arguments.length?(ut=+Ze,ft):ut},ft.nodePaddingRatio=function(Ze){return arguments.length?(et=+Ze,ft):et},ft.sortNodes=function(Ze){return arguments.length?(qe=Ze,ft):qe},ft.update=function(Ze){return z(Ze,Ve),Ye(Ze),Ze.links.forEach(function(Ge){Ge.circular&&(Ge.circularLinkType=Ge.y0+Ge.y1<Ee?"top":"bottom",Ge.source.circularLinkType=Ge.circularLinkType,Ge.target.circularLinkType=Ge.circularLinkType)}),J(Ze,Ee,Ve,!1),se(Ze,Ee,Ve),I(Ze,ut,Ee,Ve),Ze};function ht(Ze){Ze.nodes.forEach(function(_e,be){_e.index=be,_e.sourceLinks=[],_e.targetLinks=[]});var Ge=(0,L.kH)(Ze.nodes,Ve);return Ze.links.forEach(function(_e,be){_e.index=be;var me=_e.source,Ce=_e.target;(typeof me>"u"?"undefined":u(me))!=="object"&&(me=_e.source=C(Ge,me)),(typeof Ce>"u"?"undefined":u(Ce))!=="object"&&(Ce=_e.target=C(Ge,Ce)),me.sourceLinks.push(_e),Ce.targetLinks.push(_e)}),Ze}function dt(Ze){Ze.nodes.forEach(function(Ge){Ge.partOfCycle=!1,Ge.value=Math.max((0,y.oh)(Ge.sourceLinks,h),(0,y.oh)(Ge.targetLinks,h)),Ge.sourceLinks.forEach(function(_e){_e.circular&&(Ge.partOfCycle=!0,Ge.circularLinkType=_e.circularLinkType)}),Ge.targetLinks.forEach(function(_e){_e.circular&&(Ge.partOfCycle=!0,Ge.circularLinkType=_e.circularLinkType)})})}function mt(Ze){var Ge=0,_e=0,be=0,me=0,Ce=(0,y.kv)(Ze.nodes,function(Me){return Me.column});return Ze.links.forEach(function(Me){Me.circular&&(Me.circularLinkType=="top"?Ge=Ge+Me.width:_e=_e+Me.width,Me.target.column==0&&(me=me+Me.width),Me.source.column==Ce&&(be=be+Me.width))}),Ge=Ge>0?Ge+E+M:Ge,_e=_e>0?_e+E+M:_e,be=be>0?be+E+M:be,me=me>0?me+E+M:me,{top:Ge,bottom:_e,left:me,right:be}}function St(Ze,Ge){var _e=(0,y.kv)(Ze.nodes,function(tt){return tt.column}),be=we-Te,me=Ee-ke,Ce=be+Ge.right+Ge.left,Me=me+Ge.top+Ge.bottom,Ne=be/Ce,je=me/Me;return Te=Te*Ne+Ge.left,we=Ge.right==0?we:we*Ne,ke=ke*je+Ge.top,Ee=Ee*je,Ze.nodes.forEach(function(tt){tt.x0=Te+tt.column*((we-Te-xe)/_e),tt.x1=tt.x0+xe}),je}function rt(Ze){var Ge,_e,be;for(Ge=Ze.nodes,_e=[],be=0;Ge.length;++be,Ge=_e,_e=[])Ge.forEach(function(me){me.depth=be,me.sourceLinks.forEach(function(Ce){_e.indexOf(Ce.target)<0&&!Ce.circular&&_e.push(Ce.target)})});for(Ge=Ze.nodes,_e=[],be=0;Ge.length;++be,Ge=_e,_e=[])Ge.forEach(function(me){me.height=be,me.targetLinks.forEach(function(Ce){_e.indexOf(Ce.source)<0&&!Ce.circular&&_e.push(Ce.source)})});Ze.nodes.forEach(function(me){me.column=Math.floor(Ue.call(null,me,be))})}function Oe(Ze,Ge,_e){var be=(0,L.UJ)().key(function(tt){return tt.column}).sortKeys(y.XE).entries(Ze.nodes).map(function(tt){return tt.values});Me(_e),je();for(var me=1,Ce=Ge;Ce>0;--Ce)Ne(me*=.99,_e),je();function Me(tt){if(et){var ct=1/0;be.forEach(function(Tt){var _t=Ee*et/(Tt.length+1);ct=_t<ct?_t:ct}),De=ct}var pt=(0,y.SY)(be,function(Tt){return(Ee-ke-(Tt.length-1)*De)/(0,y.oh)(Tt,h)});pt=pt*f,Ze.links.forEach(function(Tt){Tt.width=Tt.value*pt});var Xt=mt(Ze),Yt=St(Ze,Xt);pt=pt*Yt,Ze.links.forEach(function(Tt){Tt.width=Tt.value*pt}),be.forEach(function(Tt){var _t=Tt.length;Tt.forEach(function(Qt,wr){Qt.depth==be.length-1&&_t==1||Qt.depth==0&&_t==1?(Qt.y0=Ee/2-Qt.value*pt,Qt.y1=Qt.y0+Qt.value*pt):Qt.partOfCycle?F(Qt,tt)==0?(Qt.y0=Ee/2+wr,Qt.y1=Qt.y0+Qt.value*pt):Qt.circularLinkType=="top"?(Qt.y0=ke+wr,Qt.y1=Qt.y0+Qt.value*pt):(Qt.y0=Ee-Qt.value*pt-wr,Qt.y1=Qt.y0+Qt.value*pt):Xt.top==0||Xt.bottom==0?(Qt.y0=(Ee-ke)/_t*wr,Qt.y1=Qt.y0+Qt.value*pt):(Qt.y0=(Ee-ke)/2-_t/2+wr,Qt.y1=Qt.y0+Qt.value*pt)})})}function Ne(tt,ct){var pt=be.length;be.forEach(function(Xt){var Yt=Xt.length,Tt=Xt[0].depth;Xt.forEach(function(_t){var Qt;if((_t.sourceLinks.length||_t.targetLinks.length)&&!(_t.partOfCycle&&F(_t,ct)>0))if(Tt==0&&Yt==1)Qt=_t.y1-_t.y0,_t.y0=Ee/2-Qt/2,_t.y1=Ee/2+Qt/2;else if(Tt==pt-1&&Yt==1)Qt=_t.y1-_t.y0,_t.y0=Ee/2-Qt/2,_t.y1=Ee/2+Qt/2;else{var wr=0,xt=(0,y.mo)(_t.sourceLinks,o),jt=(0,y.mo)(_t.targetLinks,c);xt&&jt?wr=(xt+jt)/2:wr=xt||jt;var Jt=(wr-g(_t))*tt;_t.y0+=Jt,_t.y1+=Jt}})})}function je(){be.forEach(function(tt){var ct,pt,Xt=ke,Yt=tt.length,Tt;for(tt.sort(m),Tt=0;Tt<Yt;++Tt)ct=tt[Tt],pt=Xt-ct.y0,pt>0&&(ct.y0+=pt,ct.y1+=pt),Xt=ct.y1+De;if(pt=Xt-De-Ee,pt>0)for(Xt=ct.y0-=pt,ct.y1-=pt,Tt=Yt-2;Tt>=0;--Tt)ct=tt[Tt],pt=ct.y1+De-Xt,pt>0&&(ct.y0-=pt,ct.y1-=pt),Xt=ct.y0})}}function Ye(Ze){Ze.nodes.forEach(function(Ge){Ge.sourceLinks.sort(l),Ge.targetLinks.sort(s)}),Ze.nodes.forEach(function(Ge){var _e=Ge.y0,be=_e,me=Ge.y1,Ce=me;Ge.sourceLinks.forEach(function(Me){Me.circular?(Me.y0=me-Me.width/2,me=me-Me.width):(Me.y0=_e+Me.width/2,_e+=Me.width)}),Ge.targetLinks.forEach(function(Me){Me.circular?(Me.y1=Ce-Me.width/2,Ce=Ce-Me.width):(Me.y1=be+Me.width/2,be+=Me.width)})})}return ft}function T(Te,ke,we){var Ee=0;if(we===null){for(var xe=[],De=0;De<Te.links.length;De++){var Ve=Te.links[De],Ue=Ve.source.index,Be=Ve.target.index;xe[Ue]||(xe[Ue]=[]),xe[Be]||(xe[Be]=[]),xe[Ue].indexOf(Be)===-1&&xe[Ue].push(Be)}var Xe=b()(xe);Xe.sort(function(qe,ft){return qe.length-ft.length});var ot={};for(De=0;De<Xe.length;De++){var ut=Xe[De],et=ut.slice(-2);ot[et[0]]||(ot[et[0]]={}),ot[et[0]][et[1]]=!0}Te.links.forEach(function(qe){var ft=qe.target.index,ht=qe.source.index;ft===ht||ot[ht]&&ot[ht][ft]?(qe.circular=!0,qe.circularLinkID=Ee,Ee=Ee+1):qe.circular=!1})}else Te.links.forEach(function(qe){qe.source[we]<qe.target[we]?qe.circular=!1:(qe.circular=!0,qe.circularLinkID=Ee,Ee=Ee+1)})}function z(Te,ke){var we=0,Ee=0;Te.links.forEach(function(xe){xe.circular&&(xe.source.circularLinkType||xe.target.circularLinkType?xe.circularLinkType=xe.source.circularLinkType?xe.source.circularLinkType:xe.target.circularLinkType:xe.circularLinkType=we<Ee?"top":"bottom",xe.circularLinkType=="top"?we=we+1:Ee=Ee+1,Te.nodes.forEach(function(De){(x(De,ke)==x(xe.source,ke)||x(De,ke)==x(xe.target,ke))&&(De.circularLinkType=xe.circularLinkType)}))}),Te.links.forEach(function(xe){xe.circular&&(xe.source.circularLinkType==xe.target.circularLinkType&&(xe.circularLinkType=xe.source.circularLinkType),ye(xe,ke)&&(xe.circularLinkType=xe.source.circularLinkType))})}function _(Te){var ke=Math.abs(Te.y1-Te.y0),we=Math.abs(Te.target.x0-Te.source.x1);return Math.atan(we/ke)}function V(Te,ke){return Te.source.column<ke.target.column?!1:!(Te.target.column>ke.source.column)}function F(Te,ke){var we=0;Te.sourceLinks.forEach(function(xe){we=xe.circular&&!ye(xe,ke)?we+1:we});var Ee=0;return Te.targetLinks.forEach(function(xe){Ee=xe.circular&&!ye(xe,ke)?Ee+1:Ee}),we+Ee}function N(Te){var ke=Te.source.sourceLinks,we=0;ke.forEach(function(De){we=De.circular?we+1:we});var Ee=Te.target.targetLinks,xe=0;return Ee.forEach(function(De){xe=De.circular?xe+1:xe}),!(we>1||xe>1)}function k(Te,ke,we){return Te.sort(j),Te.forEach(function(Ee,xe){var De=0;if(ye(Ee,we)&&N(Ee))Ee.circularPathData.verticalBuffer=De+Ee.width/2;else{var Ve=0;for(Ve;Ve<xe;Ve++)if(V(Te[xe],Te[Ve])){var Ue=Te[Ve].circularPathData.verticalBuffer+Te[Ve].width/2+ke;De=Ue>De?Ue:De}Ee.circularPathData.verticalBuffer=De+Ee.width/2}}),Te}function I(Te,ke,we,Ee){var xe=5,De=(0,y.SY)(Te.links,function(Be){return Be.source.y0});Te.links.forEach(function(Be){Be.circular&&(Be.circularPathData={})});var Ve=Te.links.filter(function(Be){return Be.circularLinkType=="top"});k(Ve,ke,Ee);var Ue=Te.links.filter(function(Be){return Be.circularLinkType=="bottom"});k(Ue,ke,Ee),Te.links.forEach(function(Be){if(Be.circular){if(Be.circularPathData.arcRadius=Be.width+M,Be.circularPathData.leftNodeBuffer=xe,Be.circularPathData.rightNodeBuffer=xe,Be.circularPathData.sourceWidth=Be.source.x1-Be.source.x0,Be.circularPathData.sourceX=Be.source.x0+Be.circularPathData.sourceWidth,Be.circularPathData.targetX=Be.target.x0,Be.circularPathData.sourceY=Be.y0,Be.circularPathData.targetY=Be.y1,ye(Be,Ee)&&N(Be))Be.circularPathData.leftSmallArcRadius=M+Be.width/2,Be.circularPathData.leftLargeArcRadius=M+Be.width/2,Be.circularPathData.rightSmallArcRadius=M+Be.width/2,Be.circularPathData.rightLargeArcRadius=M+Be.width/2,Be.circularLinkType=="bottom"?(Be.circularPathData.verticalFullExtent=Be.source.y1+E+Be.circularPathData.verticalBuffer,Be.circularPathData.verticalLeftInnerExtent=Be.circularPathData.verticalFullExtent-Be.circularPathData.leftLargeArcRadius,Be.circularPathData.verticalRightInnerExtent=Be.circularPathData.verticalFullExtent-Be.circularPathData.rightLargeArcRadius):(Be.circularPathData.verticalFullExtent=Be.source.y0-E-Be.circularPathData.verticalBuffer,Be.circularPathData.verticalLeftInnerExtent=Be.circularPathData.verticalFullExtent+Be.circularPathData.leftLargeArcRadius,Be.circularPathData.verticalRightInnerExtent=Be.circularPathData.verticalFullExtent+Be.circularPathData.rightLargeArcRadius);else{var Xe=Be.source.column,ot=Be.circularLinkType,ut=Te.links.filter(function(ft){return ft.source.column==Xe&&ft.circularLinkType==ot});Be.circularLinkType=="bottom"?ut.sort(te):ut.sort(ee);var et=0;ut.forEach(function(ft,ht){ft.circularLinkID==Be.circularLinkID&&(Be.circularPathData.leftSmallArcRadius=M+Be.width/2+et,Be.circularPathData.leftLargeArcRadius=M+Be.width/2+ht*ke+et),et=et+ft.width}),Xe=Be.target.column,ut=Te.links.filter(function(ft){return ft.target.column==Xe&&ft.circularLinkType==ot}),Be.circularLinkType=="bottom"?ut.sort(ue):ut.sort(ne),et=0,ut.forEach(function(ft,ht){ft.circularLinkID==Be.circularLinkID&&(Be.circularPathData.rightSmallArcRadius=M+Be.width/2+et,Be.circularPathData.rightLargeArcRadius=M+Be.width/2+ht*ke+et),et=et+ft.width}),Be.circularLinkType=="bottom"?(Be.circularPathData.verticalFullExtent=Math.max(we,Be.source.y1,Be.target.y1)+E+Be.circularPathData.verticalBuffer,Be.circularPathData.verticalLeftInnerExtent=Be.circularPathData.verticalFullExtent-Be.circularPathData.leftLargeArcRadius,Be.circularPathData.verticalRightInnerExtent=Be.circularPathData.verticalFullExtent-Be.circularPathData.rightLargeArcRadius):(Be.circularPathData.verticalFullExtent=De-E-Be.circularPathData.verticalBuffer,Be.circularPathData.verticalLeftInnerExtent=Be.circularPathData.verticalFullExtent+Be.circularPathData.leftLargeArcRadius,Be.circularPathData.verticalRightInnerExtent=Be.circularPathData.verticalFullExtent+Be.circularPathData.rightLargeArcRadius)}Be.circularPathData.leftInnerExtent=Be.circularPathData.sourceX+Be.circularPathData.leftNodeBuffer,Be.circularPathData.rightInnerExtent=Be.circularPathData.targetX-Be.circularPathData.rightNodeBuffer,Be.circularPathData.leftFullExtent=Be.circularPathData.sourceX+Be.circularPathData.leftLargeArcRadius+Be.circularPathData.leftNodeBuffer,Be.circularPathData.rightFullExtent=Be.circularPathData.targetX-Be.circularPathData.rightLargeArcRadius-Be.circularPathData.rightNodeBuffer}if(Be.circular)Be.path=H(Be);else{var qe=(0,i.ak)().source(function(ft){var ht=ft.source.x0+(ft.source.x1-ft.source.x0),dt=ft.y0;return[ht,dt]}).target(function(ft){var ht=ft.target.x0,dt=ft.y1;return[ht,dt]});Be.path=qe(Be)}})}function H(Te){var ke="";return Te.circularLinkType=="top"?ke="M"+Te.circularPathData.sourceX+" "+Te.circularPathData.sourceY+" L"+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.sourceY+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftSmallArcRadius+" 0 0 0 "+Te.circularPathData.leftFullExtent+" "+(Te.circularPathData.sourceY-Te.circularPathData.leftSmallArcRadius)+" L"+Te.circularPathData.leftFullExtent+" "+Te.circularPathData.verticalLeftInnerExtent+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftLargeArcRadius+" 0 0 0 "+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.verticalFullExtent+" L"+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.verticalFullExtent+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightLargeArcRadius+" 0 0 0 "+Te.circularPathData.rightFullExtent+" "+Te.circularPathData.verticalRightInnerExtent+" L"+Te.circularPathData.rightFullExtent+" "+(Te.circularPathData.targetY-Te.circularPathData.rightSmallArcRadius)+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightSmallArcRadius+" 0 0 0 "+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.targetY+" L"+Te.circularPathData.targetX+" "+Te.circularPathData.targetY:ke="M"+Te.circularPathData.sourceX+" "+Te.circularPathData.sourceY+" L"+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.sourceY+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftSmallArcRadius+" 0 0 1 "+Te.circularPathData.leftFullExtent+" "+(Te.circularPathData.sourceY+Te.circularPathData.leftSmallArcRadius)+" L"+Te.circularPathData.leftFullExtent+" "+Te.circularPathData.verticalLeftInnerExtent+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftLargeArcRadius+" 0 0 1 "+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.verticalFullExtent+" L"+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.verticalFullExtent+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightLargeArcRadius+" 0 0 1 "+Te.circularPathData.rightFullExtent+" "+Te.circularPathData.verticalRightInnerExtent+" L"+Te.circularPathData.rightFullExtent+" "+(Te.circularPathData.targetY+Te.circularPathData.rightSmallArcRadius)+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightSmallArcRadius+" 0 0 1 "+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.targetY+" L"+Te.circularPathData.targetX+" "+Te.circularPathData.targetY,ke}function j(Te,ke){return q(Te)==q(ke)?Te.circularLinkType=="bottom"?te(Te,ke):ee(Te,ke):q(ke)-q(Te)}function ee(Te,ke){return Te.y0-ke.y0}function te(Te,ke){return ke.y0-Te.y0}function ne(Te,ke){return Te.y1-ke.y1}function ue(Te,ke){return ke.y1-Te.y1}function q(Te){return Te.target.column-Te.source.column}function Y(Te){return Te.target.x0-Te.source.x1}function Z(Te,ke){var we=_(Te),Ee=Y(ke)/Math.tan(we),xe=ce(Te)=="up"?Te.y1+Ee:Te.y1-Ee;return xe}function G(Te,ke){var we=_(Te),Ee=Y(ke)/Math.tan(we),xe=ce(Te)=="up"?Te.y1-Ee:Te.y1+Ee;return xe}function K(Te,ke,we,Ee){Te.links.forEach(function(xe){if(!xe.circular&&xe.target.column-xe.source.column>1){var De=xe.source.column+1,Ve=xe.target.column-1,Ue=1,Be=Ve-De+1;for(Ue=1;De<=Ve;De++,Ue++)Te.nodes.forEach(function(Xe){if(Xe.column==De){var ot=Ue/(Be+1),ut=Math.pow(1-ot,3),et=3*ot*Math.pow(1-ot,2),qe=3*Math.pow(ot,2)*(1-ot),ft=Math.pow(ot,3),ht=ut*xe.y0+et*xe.y0+qe*xe.y1+ft*xe.y1,dt=ht-xe.width/2,mt=ht+xe.width/2,St;dt>Xe.y0&&dt<Xe.y1?(St=Xe.y1-dt+10,St=Xe.circularLinkType=="bottom"?St:-St,Xe=$(Xe,St,ke,we),Te.nodes.forEach(function(rt){x(rt,Ee)==x(Xe,Ee)||rt.column!=Xe.column||oe(Xe,rt)&&$(rt,St,ke,we)})):mt>Xe.y0&&mt<Xe.y1?(St=mt-Xe.y0+10,Xe=$(Xe,St,ke,we),Te.nodes.forEach(function(rt){x(rt,Ee)==x(Xe,Ee)||rt.column!=Xe.column||rt.y0<Xe.y1&&rt.y1>Xe.y1&&$(rt,St,ke,we)})):dt<Xe.y0&&mt>Xe.y1&&(St=mt-Xe.y0+10,Xe=$(Xe,St,ke,we),Te.nodes.forEach(function(rt){x(rt,Ee)==x(Xe,Ee)||rt.column!=Xe.column||rt.y0<Xe.y1&&rt.y1>Xe.y1&&$(rt,St,ke,we)}))}})}})}function oe(Te,ke){return Te.y0>ke.y0&&Te.y0<ke.y1||Te.y1>ke.y0&&Te.y1<ke.y1?!0:Te.y0<ke.y0&&Te.y1>ke.y1}function $(Te,ke,we,Ee){return Te.y0+ke>=we&&Te.y1+ke<=Ee&&(Te.y0=Te.y0+ke,Te.y1=Te.y1+ke,Te.targetLinks.forEach(function(xe){xe.y1=xe.y1+ke}),Te.sourceLinks.forEach(function(xe){xe.y0=xe.y0+ke})),Te}function J(Te,ke,we,Ee){Te.nodes.forEach(function(xe){Ee&&xe.y+(xe.y1-xe.y0)>ke&&(xe.y=xe.y-(xe.y+(xe.y1-xe.y0)-ke));var De=Te.links.filter(function(Be){return x(Be.source,we)==x(xe,we)}),Ve=De.length;Ve>1&&De.sort(function(Be,Xe){if(!Be.circular&&!Xe.circular){if(Be.target.column==Xe.target.column)return Be.y1-Xe.y1;if(ie(Be,Xe)){if(Be.target.column>Xe.target.column){var ot=G(Xe,Be);return Be.y1-ot}if(Xe.target.column>Be.target.column){var ut=G(Be,Xe);return ut-Xe.y1}}else return Be.y1-Xe.y1}if(Be.circular&&!Xe.circular)return Be.circularLinkType=="top"?-1:1;if(Xe.circular&&!Be.circular)return Xe.circularLinkType=="top"?1:-1;if(Be.circular&&Xe.circular)return Be.circularLinkType===Xe.circularLinkType&&Be.circularLinkType=="top"?Be.target.column===Xe.target.column?Be.target.y1-Xe.target.y1:Xe.target.column-Be.target.column:Be.circularLinkType===Xe.circularLinkType&&Be.circularLinkType=="bottom"?Be.target.column===Xe.target.column?Xe.target.y1-Be.target.y1:Be.target.column-Xe.target.column:Be.circularLinkType=="top"?-1:1});var Ue=xe.y0;De.forEach(function(Be){Be.y0=Ue+Be.width/2,Ue=Ue+Be.width}),De.forEach(function(Be,Xe){if(Be.circularLinkType=="bottom"){var ot=Xe+1,ut=0;for(ot;ot<Ve;ot++)ut=ut+De[ot].width;Be.y0=xe.y1-ut-Be.width/2}})})}function se(Te,ke,we){Te.nodes.forEach(function(Ee){var xe=Te.links.filter(function(Ue){return x(Ue.target,we)==x(Ee,we)}),De=xe.length;De>1&&xe.sort(function(Ue,Be){if(!Ue.circular&&!Be.circular){if(Ue.source.column==Be.source.column)return Ue.y0-Be.y0;if(ie(Ue,Be)){if(Be.source.column<Ue.source.column){var Xe=Z(Be,Ue);return Ue.y0-Xe}if(Ue.source.column<Be.source.column){var ot=Z(Ue,Be);return ot-Be.y0}}else return Ue.y0-Be.y0}if(Ue.circular&&!Be.circular)return Ue.circularLinkType=="top"?-1:1;if(Be.circular&&!Ue.circular)return Be.circularLinkType=="top"?1:-1;if(Ue.circular&&Be.circular)return Ue.circularLinkType===Be.circularLinkType&&Ue.circularLinkType=="top"?Ue.source.column===Be.source.column?Ue.source.y1-Be.source.y1:Ue.source.column-Be.source.column:Ue.circularLinkType===Be.circularLinkType&&Ue.circularLinkType=="bottom"?Ue.source.column===Be.source.column?Ue.source.y1-Be.source.y1:Be.source.column-Ue.source.column:Ue.circularLinkType=="top"?-1:1});var Ve=Ee.y0;xe.forEach(function(Ue){Ue.y1=Ve+Ue.width/2,Ve=Ve+Ue.width}),xe.forEach(function(Ue,Be){if(Ue.circularLinkType=="bottom"){var Xe=Be+1,ot=0;for(Xe;Xe<De;Xe++)ot=ot+xe[Xe].width;Ue.y1=Ee.y1-ot-Ue.width/2}})})}function ie(Te,ke){return ce(Te)==ce(ke)}function ce(Te){return Te.y0-Te.y1>0?"up":"down"}function ye(Te,ke){return x(Te.source,ke)==x(Te.target,ke)}function Se(Te,ke,we){var Ee=Te.nodes,xe=Te.links,De=!1,Ve=!1;if(xe.forEach(function(et){et.circularLinkType=="top"?De=!0:et.circularLinkType=="bottom"&&(Ve=!0)}),De==!1||Ve==!1){var Ue=(0,y.SY)(Ee,function(et){return et.y0}),Be=(0,y.kv)(Ee,function(et){return et.y1}),Xe=Be-Ue,ot=we-ke,ut=ot/Xe;Ee.forEach(function(et){var qe=(et.y1-et.y0)*ut;et.y0=(et.y0-Ue)*ut,et.y1=et.y0+qe}),xe.forEach(function(et){et.y0=(et.y0-Ue)*ut,et.y1=(et.y1-Ue)*ut,et.width=et.width*ut})}}},26800:function(U,B,e){e.r(B),e.d(B,{sankey:function(){return d},sankeyCenter:function(){return p},sankeyJustify:function(){return v},sankeyLeft:function(){return S},sankeyLinkHorizontal:function(){return x},sankeyRight:function(){return b}});var y=e(84706),L=e(34712);function i(E){return E.target.depth}function S(E){return E.depth}function b(E,M){return M-1-E.height}function v(E,M){return E.sourceLinks.length?E.depth:M-1}function p(E){return E.targetLinks.length?E.depth:E.sourceLinks.length?(0,y.SY)(E.sourceLinks,i)-1:0}function r(E){return function(){return E}}function t(E,M){return n(E.source,M.source)||E.index-M.index}function a(E,M){return n(E.target,M.target)||E.index-M.index}function n(E,M){return E.y0-M.y0}function u(E){return E.value}function s(E){return(E.y0+E.y1)/2}function l(E){return s(E.source)*E.value}function m(E){return s(E.target)*E.value}function h(E){return E.index}function g(E){return E.nodes}function c(E){return E.links}function o(E,M){var f=E.get(M);if(!f)throw new Error("missing: "+M);return f}function d(){var E=0,M=0,f=1,P=1,T=24,z=8,_=h,V=v,F=g,N=c,k=32,I=2/3;function H(){var q={nodes:F.apply(null,arguments),links:N.apply(null,arguments)};return j(q),ee(q),te(q),ne(q),ue(q),q}H.update=function(q){return ue(q),q},H.nodeId=function(q){return arguments.length?(_=typeof q=="function"?q:r(q),H):_},H.nodeAlign=function(q){return arguments.length?(V=typeof q=="function"?q:r(q),H):V},H.nodeWidth=function(q){return arguments.length?(T=+q,H):T},H.nodePadding=function(q){return arguments.length?(z=+q,H):z},H.nodes=function(q){return arguments.length?(F=typeof q=="function"?q:r(q),H):F},H.links=function(q){return arguments.length?(N=typeof q=="function"?q:r(q),H):N},H.size=function(q){return arguments.length?(E=M=0,f=+q[0],P=+q[1],H):[f-E,P-M]},H.extent=function(q){return arguments.length?(E=+q[0][0],f=+q[1][0],M=+q[0][1],P=+q[1][1],H):[[E,M],[f,P]]},H.iterations=function(q){return arguments.length?(k=+q,H):k};function j(q){q.nodes.forEach(function(Z,G){Z.index=G,Z.sourceLinks=[],Z.targetLinks=[]});var Y=(0,L.kH)(q.nodes,_);q.links.forEach(function(Z,G){Z.index=G;var K=Z.source,oe=Z.target;typeof K!="object"&&(K=Z.source=o(Y,K)),typeof oe!="object"&&(oe=Z.target=o(Y,oe)),K.sourceLinks.push(Z),oe.targetLinks.push(Z)})}function ee(q){q.nodes.forEach(function(Y){Y.value=Math.max((0,y.oh)(Y.sourceLinks,u),(0,y.oh)(Y.targetLinks,u))})}function te(q){var Y,Z,G;for(Y=q.nodes,Z=[],G=0;Y.length;++G,Y=Z,Z=[])Y.forEach(function(oe){oe.depth=G,oe.sourceLinks.forEach(function($){Z.indexOf($.target)<0&&Z.push($.target)})});for(Y=q.nodes,Z=[],G=0;Y.length;++G,Y=Z,Z=[])Y.forEach(function(oe){oe.height=G,oe.targetLinks.forEach(function($){Z.indexOf($.source)<0&&Z.push($.source)})});var K=(f-E-T)/(G-1);q.nodes.forEach(function(oe){oe.x1=(oe.x0=E+Math.max(0,Math.min(G-1,Math.floor(V.call(null,oe,G))))*K)+T})}function ne(q){var Y=(0,L.UJ)().key(function(se){return se.x0}).sortKeys(y.XE).entries(q.nodes).map(function(se){return se.values});K(),J();for(var Z=1,G=k;G>0;--G)$(Z*=.99),J(),oe(Z),J();function K(){var se=(0,y.kv)(Y,function(ye){return ye.length}),ie=I*(P-M)/(se-1);z>ie&&(z=ie);var ce=(0,y.SY)(Y,function(ye){return(P-M-(ye.length-1)*z)/(0,y.oh)(ye,u)});Y.forEach(function(ye){ye.forEach(function(Se,Te){Se.y1=(Se.y0=Te)+Se.value*ce})}),q.links.forEach(function(ye){ye.width=ye.value*ce})}function oe(se){Y.forEach(function(ie){ie.forEach(function(ce){if(ce.targetLinks.length){var ye=((0,y.oh)(ce.targetLinks,l)/(0,y.oh)(ce.targetLinks,u)-s(ce))*se;ce.y0+=ye,ce.y1+=ye}})})}function $(se){Y.slice().reverse().forEach(function(ie){ie.forEach(function(ce){if(ce.sourceLinks.length){var ye=((0,y.oh)(ce.sourceLinks,m)/(0,y.oh)(ce.sourceLinks,u)-s(ce))*se;ce.y0+=ye,ce.y1+=ye}})})}function J(){Y.forEach(function(se){var ie,ce,ye=M,Se=se.length,Te;for(se.sort(n),Te=0;Te<Se;++Te)ie=se[Te],ce=ye-ie.y0,ce>0&&(ie.y0+=ce,ie.y1+=ce),ye=ie.y1+z;if(ce=ye-z-P,ce>0)for(ye=ie.y0-=ce,ie.y1-=ce,Te=Se-2;Te>=0;--Te)ie=se[Te],ce=ie.y1+z-ye,ce>0&&(ie.y0-=ce,ie.y1-=ce),ye=ie.y0})}}function ue(q){q.nodes.forEach(function(Y){Y.sourceLinks.sort(a),Y.targetLinks.sort(t)}),q.nodes.forEach(function(Y){var Z=Y.y0,G=Z;Y.sourceLinks.forEach(function(K){K.y0=Z+K.width/2,Z+=K.width}),Y.targetLinks.forEach(function(K){K.y1=G+K.width/2,G+=K.width})})}return H}var w=e(10132);function A(E){return[E.source.x1,E.y0]}function C(E){return[E.target.x0,E.y1]}function x(){return(0,w.ak)().source(A).target(C)}},33428:function(U,B,e){var y,L;(function(){var i={version:"3.8.0"},S=[].slice,b=function(fe){return S.call(fe)},v=self.document;function p(fe){return fe&&(fe.ownerDocument||fe.document||fe).documentElement}function r(fe){return fe&&(fe.ownerDocument&&fe.ownerDocument.defaultView||fe.document&&fe||fe.defaultView)}if(v)try{b(v.documentElement.childNodes)[0].nodeType}catch{b=function(Le){for(var Fe=Le.length,$e=new Array(Fe);Fe--;)$e[Fe]=Le[Fe];return $e}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var t=this.Element.prototype,a=t.setAttribute,n=t.setAttributeNS,u=this.CSSStyleDeclaration.prototype,s=u.setProperty;t.setAttribute=function(Le,Fe){a.call(this,Le,Fe+"")},t.setAttributeNS=function(Le,Fe,$e){n.call(this,Le,Fe,$e+"")},u.setProperty=function(Le,Fe,$e){s.call(this,Le,Fe+"",$e)}}i.ascending=l;function l(fe,Le){return fe<Le?-1:fe>Le?1:fe>=Le?0:NaN}i.descending=function(fe,Le){return Le<fe?-1:Le>fe?1:Le>=fe?0:NaN},i.min=function(fe,Le){var Fe=-1,$e=fe.length,nt,lt;if(arguments.length===1){for(;++Fe<$e;)if((lt=fe[Fe])!=null&&lt>=lt){nt=lt;break}for(;++Fe<$e;)(lt=fe[Fe])!=null&&nt>lt&&(nt=lt)}else{for(;++Fe<$e;)if((lt=Le.call(fe,fe[Fe],Fe))!=null&&lt>=lt){nt=lt;break}for(;++Fe<$e;)(lt=Le.call(fe,fe[Fe],Fe))!=null&&nt>lt&&(nt=lt)}return nt},i.max=function(fe,Le){var Fe=-1,$e=fe.length,nt,lt;if(arguments.length===1){for(;++Fe<$e;)if((lt=fe[Fe])!=null&&lt>=lt){nt=lt;break}for(;++Fe<$e;)(lt=fe[Fe])!=null&&lt>nt&&(nt=lt)}else{for(;++Fe<$e;)if((lt=Le.call(fe,fe[Fe],Fe))!=null&&lt>=lt){nt=lt;break}for(;++Fe<$e;)(lt=Le.call(fe,fe[Fe],Fe))!=null&&lt>nt&&(nt=lt)}return nt},i.extent=function(fe,Le){var Fe=-1,$e=fe.length,nt,lt,Lt;if(arguments.length===1){for(;++Fe<$e;)if((lt=fe[Fe])!=null&&lt>=lt){nt=Lt=lt;break}for(;++Fe<$e;)(lt=fe[Fe])!=null&&(nt>lt&&(nt=lt),Lt<lt&&(Lt=lt))}else{for(;++Fe<$e;)if((lt=Le.call(fe,fe[Fe],Fe))!=null&&lt>=lt){nt=Lt=lt;break}for(;++Fe<$e;)(lt=Le.call(fe,fe[Fe],Fe))!=null&&(nt>lt&&(nt=lt),Lt<lt&&(Lt=lt))}return[nt,Lt]};function m(fe){return fe===null?NaN:+fe}function h(fe){return!isNaN(fe)}i.sum=function(fe,Le){var Fe=0,$e=fe.length,nt,lt=-1;if(arguments.length===1)for(;++lt<$e;)h(nt=+fe[lt])&&(Fe+=nt);else for(;++lt<$e;)h(nt=+Le.call(fe,fe[lt],lt))&&(Fe+=nt);return Fe},i.mean=function(fe,Le){var Fe=0,$e=fe.length,nt,lt=-1,Lt=$e;if(arguments.length===1)for(;++lt<$e;)h(nt=m(fe[lt]))?Fe+=nt:--Lt;else for(;++lt<$e;)h(nt=m(Le.call(fe,fe[lt],lt)))?Fe+=nt:--Lt;if(Lt)return Fe/Lt},i.quantile=function(fe,Le){var Fe=(fe.length-1)*Le+1,$e=Math.floor(Fe),nt=+fe[$e-1],lt=Fe-$e;return lt?nt+lt*(fe[$e]-nt):nt},i.median=function(fe,Le){var Fe=[],$e=fe.length,nt,lt=-1;if(arguments.length===1)for(;++lt<$e;)h(nt=m(fe[lt]))&&Fe.push(nt);else for(;++lt<$e;)h(nt=m(Le.call(fe,fe[lt],lt)))&&Fe.push(nt);if(Fe.length)return i.quantile(Fe.sort(l),.5)},i.variance=function(fe,Le){var Fe=fe.length,$e=0,nt,lt,Lt=0,At=-1,Ht=0;if(arguments.length===1)for(;++At<Fe;)h(nt=m(fe[At]))&&(lt=nt-$e,$e+=lt/++Ht,Lt+=lt*(nt-$e));else for(;++At<Fe;)h(nt=m(Le.call(fe,fe[At],At)))&&(lt=nt-$e,$e+=lt/++Ht,Lt+=lt*(nt-$e));if(Ht>1)return Lt/(Ht-1)},i.deviation=function(){var fe=i.variance.apply(this,arguments);return fe&&Math.sqrt(fe)};function g(fe){return{left:function(Le,Fe,$e,nt){for(arguments.length<3&&($e=0),arguments.length<4&&(nt=Le.length);$e<nt;){var lt=$e+nt>>>1;fe(Le[lt],Fe)<0?$e=lt+1:nt=lt}return $e},right:function(Le,Fe,$e,nt){for(arguments.length<3&&($e=0),arguments.length<4&&(nt=Le.length);$e<nt;){var lt=$e+nt>>>1;fe(Le[lt],Fe)>0?nt=lt:$e=lt+1}return $e}}}var c=g(l);i.bisectLeft=c.left,i.bisect=i.bisectRight=c.right,i.bisector=function(fe){return g(fe.length===1?function(Le,Fe){return l(fe(Le),Fe)}:fe)},i.shuffle=function(fe,Le,Fe){($e=arguments.length)<3&&(Fe=fe.length,$e<2&&(Le=0));for(var $e=Fe-Le,nt,lt;$e;)lt=Math.random()*$e--|0,nt=fe[$e+Le],fe[$e+Le]=fe[lt+Le],fe[lt+Le]=nt;return fe},i.permute=function(fe,Le){for(var Fe=Le.length,$e=new Array(Fe);Fe--;)$e[Fe]=fe[Le[Fe]];return $e},i.pairs=function(fe){for(var Le=0,Fe=fe.length-1,$e=fe[0],nt=new Array(Fe<0?0:Fe);Le<Fe;)nt[Le]=[$e,$e=fe[++Le]];return nt},i.transpose=function(fe){if(!(lt=fe.length))return[];for(var Le=-1,Fe=i.min(fe,o),$e=new Array(Fe);++Le<Fe;)for(var nt=-1,lt,Lt=$e[Le]=new Array(lt);++nt<lt;)Lt[nt]=fe[nt][Le];return $e};function o(fe){return fe.length}i.zip=function(){return i.transpose(arguments)},i.keys=function(fe){var Le=[];for(var Fe in fe)Le.push(Fe);return Le},i.values=function(fe){var Le=[];for(var Fe in fe)Le.push(fe[Fe]);return Le},i.entries=function(fe){var Le=[];for(var Fe in fe)Le.push({key:Fe,value:fe[Fe]});return Le},i.merge=function(fe){for(var Le=fe.length,Fe,$e=-1,nt=0,lt,Lt;++$e<Le;)nt+=fe[$e].length;for(lt=new Array(nt);--Le>=0;)for(Lt=fe[Le],Fe=Lt.length;--Fe>=0;)lt[--nt]=Lt[Fe];return lt};var d=Math.abs;i.range=function(fe,Le,Fe){if(arguments.length<3&&(Fe=1,arguments.length<2&&(Le=fe,fe=0)),(Le-fe)/Fe===1/0)throw new Error("infinite range");var $e=[],nt=w(d(Fe)),lt=-1,Lt;if(fe*=nt,Le*=nt,Fe*=nt,Fe<0)for(;(Lt=fe+Fe*++lt)>Le;)$e.push(Lt/nt);else for(;(Lt=fe+Fe*++lt)<Le;)$e.push(Lt/nt);return $e};function w(fe){for(var Le=1;fe*Le%1;)Le*=10;return Le}function A(fe,Le){for(var Fe in Le)Object.defineProperty(fe.prototype,Fe,{value:Le[Fe],enumerable:!1})}i.map=function(fe,Le){var Fe=new C;if(fe instanceof C)fe.forEach(function(At,Ht){Fe.set(At,Ht)});else if(Array.isArray(fe)){var $e=-1,nt=fe.length,lt;if(arguments.length===1)for(;++$e<nt;)Fe.set($e,fe[$e]);else for(;++$e<nt;)Fe.set(Le.call(fe,lt=fe[$e],$e),lt)}else for(var Lt in fe)Fe.set(Lt,fe[Lt]);return Fe};function C(){this._=Object.create(null)}var x="__proto__",E="\0";A(C,{has:P,get:function(fe){return this._[M(fe)]},set:function(fe,Le){return this._[M(fe)]=Le},remove:T,keys:z,values:function(){var fe=[];for(var Le in this._)fe.push(this._[Le]);return fe},entries:function(){var fe=[];for(var Le in this._)fe.push({key:f(Le),value:this._[Le]});return fe},size:_,empty:V,forEach:function(fe){for(var Le in this._)fe.call(this,f(Le),this._[Le])}});function M(fe){return(fe+="")===x||fe[0]===E?E+fe:fe}function f(fe){return(fe+="")[0]===E?fe.slice(1):fe}function P(fe){return M(fe)in this._}function T(fe){return(fe=M(fe))in this._&&delete this._[fe]}function z(){var fe=[];for(var Le in this._)fe.push(f(Le));return fe}function _(){var fe=0;for(var Le in this._)++fe;return fe}function V(){for(var fe in this._)return!1;return!0}i.nest=function(){var fe={},Le=[],Fe=[],$e,nt;function lt(At,Ht,Gt){if(Gt>=Le.length)return nt?nt.call(fe,Ht):$e?Ht.sort($e):Ht;for(var tr=-1,Cr=Ht.length,Pr=Le[Gt++],Jr,on,Rr,Br=new C,Zr;++tr<Cr;)(Zr=Br.get(Jr=Pr(on=Ht[tr])))?Zr.push(on):Br.set(Jr,[on]);return At?(on=At(),Rr=function(un,vn){on.set(un,lt(At,vn,Gt))}):(on={},Rr=function(un,vn){on[un]=lt(At,vn,Gt)}),Br.forEach(Rr),on}function Lt(At,Ht){if(Ht>=Le.length)return At;var Gt=[],tr=Fe[Ht++];return At.forEach(function(Cr,Pr){Gt.push({key:Cr,values:Lt(Pr,Ht)})}),tr?Gt.sort(function(Cr,Pr){return tr(Cr.key,Pr.key)}):Gt}return fe.map=function(At,Ht){return lt(Ht,At,0)},fe.entries=function(At){return Lt(lt(i.map,At,0),0)},fe.key=function(At){return Le.push(At),fe},fe.sortKeys=function(At){return Fe[Le.length-1]=At,fe},fe.sortValues=function(At){return $e=At,fe},fe.rollup=function(At){return nt=At,fe},fe},i.set=function(fe){var Le=new F;if(fe)for(var Fe=0,$e=fe.length;Fe<$e;++Fe)Le.add(fe[Fe]);return Le};function F(){this._=Object.create(null)}A(F,{has:P,add:function(fe){return this._[M(fe+="")]=!0,fe},remove:T,values:z,size:_,empty:V,forEach:function(fe){for(var Le in this._)fe.call(this,f(Le))}}),i.behavior={};function N(fe){return fe}i.rebind=function(fe,Le){for(var Fe=1,$e=arguments.length,nt;++Fe<$e;)fe[nt=arguments[Fe]]=k(fe,Le,Le[nt]);return fe};function k(fe,Le,Fe){return function(){var $e=Fe.apply(Le,arguments);return $e===Le?fe:$e}}function I(fe,Le){if(Le in fe)return Le;Le=Le.charAt(0).toUpperCase()+Le.slice(1);for(var Fe=0,$e=H.length;Fe<$e;++Fe){var nt=H[Fe]+Le;if(nt in fe)return nt}}var H=["webkit","ms","moz","Moz","o","O"];function j(){}i.dispatch=function(){for(var fe=new ee,Le=-1,Fe=arguments.length;++Le<Fe;)fe[arguments[Le]]=te(fe);return fe};function ee(){}ee.prototype.on=function(fe,Le){var Fe=fe.indexOf("."),$e="";if(Fe>=0&&($e=fe.slice(Fe+1),fe=fe.slice(0,Fe)),fe)return arguments.length<2?this[fe].on($e):this[fe].on($e,Le);if(arguments.length===2){if(Le==null)for(fe in this)this.hasOwnProperty(fe)&&this[fe].on($e,null);return this}};function te(fe){var Le=[],Fe=new C;function $e(){for(var nt=Le,lt=-1,Lt=nt.length,At;++lt<Lt;)(At=nt[lt].on)&&At.apply(this,arguments);return fe}return $e.on=function(nt,lt){var Lt=Fe.get(nt),At;return arguments.length<2?Lt&&Lt.on:(Lt&&(Lt.on=null,Le=Le.slice(0,At=Le.indexOf(Lt)).concat(Le.slice(At+1)),Fe.remove(nt)),lt&&Le.push(Fe.set(nt,{on:lt})),fe)},$e}i.event=null;function ne(){i.event.preventDefault()}function ue(){for(var fe=i.event,Le;Le=fe.sourceEvent;)fe=Le;return fe}function q(fe){for(var Le=new ee,Fe=0,$e=arguments.length;++Fe<$e;)Le[arguments[Fe]]=te(Le);return Le.of=function(nt,lt){return function(Lt){try{var At=Lt.sourceEvent=i.event;Lt.target=fe,i.event=Lt,Le[Lt.type].apply(nt,lt)}finally{i.event=At}}},Le}i.requote=function(fe){return fe.replace(Y,"\\$&")};var Y=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Z={}.__proto__?function(fe,Le){fe.__proto__=Le}:function(fe,Le){for(var Fe in Le)fe[Fe]=Le[Fe]};function G(fe){return Z(fe,J),fe}var K=function(fe,Le){return Le.querySelector(fe)},oe=function(fe,Le){return Le.querySelectorAll(fe)},$=function(fe,Le){var Fe=fe.matches||fe[I(fe,"matchesSelector")];return $=function($e,nt){return Fe.call($e,nt)},$(fe,Le)};typeof Sizzle=="function"&&(K=function(fe,Le){return Sizzle(fe,Le)[0]||null},oe=Sizzle,$=Sizzle.matchesSelector),i.selection=function(){return i.select(v.documentElement)};var J=i.selection.prototype=[];J.select=function(fe){var Le=[],Fe,$e,nt,lt;fe=se(fe);for(var Lt=-1,At=this.length;++Lt<At;){Le.push(Fe=[]),Fe.parentNode=(nt=this[Lt]).parentNode;for(var Ht=-1,Gt=nt.length;++Ht<Gt;)(lt=nt[Ht])?(Fe.push($e=fe.call(lt,lt.__data__,Ht,Lt)),$e&&"__data__"in lt&&($e.__data__=lt.__data__)):Fe.push(null)}return G(Le)};function se(fe){return typeof fe=="function"?fe:function(){return K(fe,this)}}J.selectAll=function(fe){var Le=[],Fe,$e;fe=ie(fe);for(var nt=-1,lt=this.length;++nt<lt;)for(var Lt=this[nt],At=-1,Ht=Lt.length;++At<Ht;)($e=Lt[At])&&(Le.push(Fe=b(fe.call($e,$e.__data__,At,nt))),Fe.parentNode=$e);return G(Le)};function ie(fe){return typeof fe=="function"?fe:function(){return oe(fe,this)}}var ce="http://www.w3.org/1999/xhtml",ye={svg:"http://www.w3.org/2000/svg",xhtml:ce,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};i.ns={prefix:ye,qualify:function(fe){var Le=fe.indexOf(":"),Fe=fe;return Le>=0&&(Fe=fe.slice(0,Le))!=="xmlns"&&(fe=fe.slice(Le+1)),ye.hasOwnProperty(Fe)?{space:ye[Fe],local:fe}:fe}},J.attr=function(fe,Le){if(arguments.length<2){if(typeof fe=="string"){var Fe=this.node();return fe=i.ns.qualify(fe),fe.local?Fe.getAttributeNS(fe.space,fe.local):Fe.getAttribute(fe)}for(Le in fe)this.each(Se(Le,fe[Le]));return this}return this.each(Se(fe,Le))};function Se(fe,Le){fe=i.ns.qualify(fe);function Fe(){this.removeAttribute(fe)}function $e(){this.removeAttributeNS(fe.space,fe.local)}function nt(){this.setAttribute(fe,Le)}function lt(){this.setAttributeNS(fe.space,fe.local,Le)}function Lt(){var Ht=Le.apply(this,arguments);Ht==null?this.removeAttribute(fe):this.setAttribute(fe,Ht)}function At(){var Ht=Le.apply(this,arguments);Ht==null?this.removeAttributeNS(fe.space,fe.local):this.setAttributeNS(fe.space,fe.local,Ht)}return Le==null?fe.local?$e:Fe:typeof Le=="function"?fe.local?At:Lt:fe.local?lt:nt}function Te(fe){return fe.trim().replace(/\s+/g," ")}J.classed=function(fe,Le){if(arguments.length<2){if(typeof fe=="string"){var Fe=this.node(),$e=(fe=we(fe)).length,nt=-1;if(Le=Fe.classList){for(;++nt<$e;)if(!Le.contains(fe[nt]))return!1}else for(Le=Fe.getAttribute("class");++nt<$e;)if(!ke(fe[nt]).test(Le))return!1;return!0}for(Le in fe)this.each(Ee(Le,fe[Le]));return this}return this.each(Ee(fe,Le))};function ke(fe){return new RegExp("(?:^|\\s+)"+i.requote(fe)+"(?:\\s+|$)","g")}function we(fe){return(fe+"").trim().split(/^|\s+/)}function Ee(fe,Le){fe=we(fe).map(xe);var Fe=fe.length;function $e(){for(var lt=-1;++lt<Fe;)fe[lt](this,Le)}function nt(){for(var lt=-1,Lt=Le.apply(this,arguments);++lt<Fe;)fe[lt](this,Lt)}return typeof Le=="function"?nt:$e}function xe(fe){var Le=ke(fe);return function(Fe,$e){if(nt=Fe.classList)return $e?nt.add(fe):nt.remove(fe);var nt=Fe.getAttribute("class")||"";$e?(Le.lastIndex=0,Le.test(nt)||Fe.setAttribute("class",Te(nt+" "+fe))):Fe.setAttribute("class",Te(nt.replace(Le," ")))}}J.style=function(fe,Le,Fe){var $e=arguments.length;if($e<3){if(typeof fe!="string"){$e<2&&(Le="");for(Fe in fe)this.each(De(Fe,fe[Fe],Le));return this}if($e<2){var nt=this.node();return r(nt).getComputedStyle(nt,null).getPropertyValue(fe)}Fe=""}return this.each(De(fe,Le,Fe))};function De(fe,Le,Fe){function $e(){this.style.removeProperty(fe)}function nt(){this.style.setProperty(fe,Le,Fe)}function lt(){var Lt=Le.apply(this,arguments);Lt==null?this.style.removeProperty(fe):this.style.setProperty(fe,Lt,Fe)}return Le==null?$e:typeof Le=="function"?lt:nt}J.property=function(fe,Le){if(arguments.length<2){if(typeof fe=="string")return this.node()[fe];for(Le in fe)this.each(Ve(Le,fe[Le]));return this}return this.each(Ve(fe,Le))};function Ve(fe,Le){function Fe(){delete this[fe]}function $e(){this[fe]=Le}function nt(){var lt=Le.apply(this,arguments);lt==null?delete this[fe]:this[fe]=lt}return Le==null?Fe:typeof Le=="function"?nt:$e}J.text=function(fe){return arguments.length?this.each(typeof fe=="function"?function(){var Le=fe.apply(this,arguments);this.textContent=Le??""}:fe==null?function(){this.textContent=""}:function(){this.textContent=fe}):this.node().textContent},J.html=function(fe){return arguments.length?this.each(typeof fe=="function"?function(){var Le=fe.apply(this,arguments);this.innerHTML=Le??""}:fe==null?function(){this.innerHTML=""}:function(){this.innerHTML=fe}):this.node().innerHTML},J.append=function(fe){return fe=Ue(fe),this.select(function(){return this.appendChild(fe.apply(this,arguments))})};function Ue(fe){function Le(){var $e=this.ownerDocument,nt=this.namespaceURI;return nt===ce&&$e.documentElement.namespaceURI===ce?$e.createElement(fe):$e.createElementNS(nt,fe)}function Fe(){return this.ownerDocument.createElementNS(fe.space,fe.local)}return typeof fe=="function"?fe:(fe=i.ns.qualify(fe)).local?Fe:Le}J.insert=function(fe,Le){return fe=Ue(fe),Le=se(Le),this.select(function(){return this.insertBefore(fe.apply(this,arguments),Le.apply(this,arguments)||null)})},J.remove=function(){return this.each(Be)};function Be(){var fe=this.parentNode;fe&&fe.removeChild(this)}J.data=function(fe,Le){var Fe=-1,$e=this.length,nt,lt;if(!arguments.length){for(fe=new Array($e=(nt=this[0]).length);++Fe<$e;)(lt=nt[Fe])&&(fe[Fe]=lt.__data__);return fe}function Lt(tr,Cr){var Pr,Jr=tr.length,on=Cr.length,Rr=Math.min(Jr,on),Br=new Array(on),Zr=new Array(on),un=new Array(Jr),vn,qr;if(Le){var Un=new C,qn=new Array(Jr),ui;for(Pr=-1;++Pr<Jr;)(vn=tr[Pr])&&(Un.has(ui=Le.call(vn,vn.__data__,Pr))?un[Pr]=vn:Un.set(ui,vn),qn[Pr]=ui);for(Pr=-1;++Pr<on;)(vn=Un.get(ui=Le.call(Cr,qr=Cr[Pr],Pr)))?vn!==!0&&(Br[Pr]=vn,vn.__data__=qr):Zr[Pr]=Xe(qr),Un.set(ui,!0);for(Pr=-1;++Pr<Jr;)Pr in qn&&Un.get(qn[Pr])!==!0&&(un[Pr]=tr[Pr])}else{for(Pr=-1;++Pr<Rr;)vn=tr[Pr],qr=Cr[Pr],vn?(vn.__data__=qr,Br[Pr]=vn):Zr[Pr]=Xe(qr);for(;Pr<on;++Pr)Zr[Pr]=Xe(Cr[Pr]);for(;Pr<Jr;++Pr)un[Pr]=tr[Pr]}Zr.update=Br,Zr.parentNode=Br.parentNode=un.parentNode=tr.parentNode,At.push(Zr),Ht.push(Br),Gt.push(un)}var At=qe([]),Ht=G([]),Gt=G([]);if(typeof fe=="function")for(;++Fe<$e;)Lt(nt=this[Fe],fe.call(nt,nt.parentNode.__data__,Fe));else for(;++Fe<$e;)Lt(nt=this[Fe],fe);return Ht.enter=function(){return At},Ht.exit=function(){return Gt},Ht};function Xe(fe){return{__data__:fe}}J.datum=function(fe){return arguments.length?this.property("__data__",fe):this.property("__data__")},J.filter=function(fe){var Le=[],Fe,$e,nt;typeof fe!="function"&&(fe=ot(fe));for(var lt=0,Lt=this.length;lt<Lt;lt++){Le.push(Fe=[]),Fe.parentNode=($e=this[lt]).parentNode;for(var At=0,Ht=$e.length;At<Ht;At++)(nt=$e[At])&&fe.call(nt,nt.__data__,At,lt)&&Fe.push(nt)}return G(Le)};function ot(fe){return function(){return $(this,fe)}}J.order=function(){for(var fe=-1,Le=this.length;++fe<Le;)for(var Fe=this[fe],$e=Fe.length-1,nt=Fe[$e],lt;--$e>=0;)(lt=Fe[$e])&&(nt&&nt!==lt.nextSibling&&nt.parentNode.insertBefore(lt,nt),nt=lt);return this},J.sort=function(fe){fe=ut.apply(this,arguments);for(var Le=-1,Fe=this.length;++Le<Fe;)this[Le].sort(fe);return this.order()};function ut(fe){return arguments.length||(fe=l),function(Le,Fe){return Le&&Fe?fe(Le.__data__,Fe.__data__):!Le-!Fe}}J.each=function(fe){return et(this,function(Le,Fe,$e){fe.call(Le,Le.__data__,Fe,$e)})};function et(fe,Le){for(var Fe=0,$e=fe.length;Fe<$e;Fe++)for(var nt=fe[Fe],lt=0,Lt=nt.length,At;lt<Lt;lt++)(At=nt[lt])&&Le(At,lt,Fe);return fe}J.call=function(fe){var Le=b(arguments);return fe.apply(Le[0]=this,Le),this},J.empty=function(){return!this.node()},J.node=function(){for(var fe=0,Le=this.length;fe<Le;fe++)for(var Fe=this[fe],$e=0,nt=Fe.length;$e<nt;$e++){var lt=Fe[$e];if(lt)return lt}return null},J.size=function(){var fe=0;return et(this,function(){++fe}),fe};function qe(fe){return Z(fe,ft),fe}var ft=[];i.selection.enter=qe,i.selection.enter.prototype=ft,ft.append=J.append,ft.empty=J.empty,ft.node=J.node,ft.call=J.call,ft.size=J.size,ft.select=function(fe){for(var Le=[],Fe,$e,nt,lt,Lt,At=-1,Ht=this.length;++At<Ht;){nt=(lt=this[At]).update,Le.push(Fe=[]),Fe.parentNode=lt.parentNode;for(var Gt=-1,tr=lt.length;++Gt<tr;)(Lt=lt[Gt])?(Fe.push(nt[Gt]=$e=fe.call(lt.parentNode,Lt.__data__,Gt,At)),$e.__data__=Lt.__data__):Fe.push(null)}return G(Le)},ft.insert=function(fe,Le){return arguments.length<2&&(Le=ht(this)),J.insert.call(this,fe,Le)};function ht(fe){var Le,Fe;return function($e,nt,lt){var Lt=fe[lt].update,At=Lt.length,Ht;for(lt!=Fe&&(Fe=lt,Le=0),nt>=Le&&(Le=nt+1);!(Ht=Lt[Le])&&++Le<At;);return Ht}}i.select=function(fe){var Le;return typeof fe=="string"?(Le=[K(fe,v)],Le.parentNode=v.documentElement):(Le=[fe],Le.parentNode=p(fe)),G([Le])},i.selectAll=function(fe){var Le;return typeof fe=="string"?(Le=b(oe(fe,v)),Le.parentNode=v.documentElement):(Le=b(fe),Le.parentNode=null),G([Le])},J.on=function(fe,Le,Fe){var $e=arguments.length;if($e<3){if(typeof fe!="string"){$e<2&&(Le=!1);for(Fe in fe)this.each(dt(Fe,fe[Fe],Le));return this}if($e<2)return($e=this.node()["__on"+fe])&&$e._;Fe=!1}return this.each(dt(fe,Le,Fe))};function dt(fe,Le,Fe){var $e="__on"+fe,nt=fe.indexOf("."),lt=St;nt>0&&(fe=fe.slice(0,nt));var Lt=mt.get(fe);Lt&&(fe=Lt,lt=rt);function At(){var tr=this[$e];tr&&(this.removeEventListener(fe,tr,tr.$),delete this[$e])}function Ht(){var tr=lt(Le,b(arguments));At.call(this),this.addEventListener(fe,this[$e]=tr,tr.$=Fe),tr._=Le}function Gt(){var tr=new RegExp("^__on([^.]+)"+i.requote(fe)+"$"),Cr;for(var Pr in this)if(Cr=Pr.match(tr)){var Jr=this[Pr];this.removeEventListener(Cr[1],Jr,Jr.$),delete this[Pr]}}return nt?Le?Ht:At:Le?j:Gt}var mt=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&mt.forEach(function(fe){"on"+fe in v&&mt.remove(fe)});function St(fe,Le){return function(Fe){var $e=i.event;i.event=Fe,Le[0]=this.__data__;try{fe.apply(this,Le)}finally{i.event=$e}}}function rt(fe,Le){var Fe=St(fe,Le);return function($e){var nt=this,lt=$e.relatedTarget;(!lt||lt!==nt&&!(lt.compareDocumentPosition(nt)&8))&&Fe.call(nt,$e)}}var Oe,Ye=0;function Ze(fe){var Le=".dragsuppress-"+ ++Ye,Fe="click"+Le,$e=i.select(r(fe)).on("touchmove"+Le,ne).on("dragstart"+Le,ne).on("selectstart"+Le,ne);if(Oe==null&&(Oe="onselectstart"in fe?!1:I(fe.style,"userSelect")),Oe){var nt=p(fe).style,lt=nt[Oe];nt[Oe]="none"}return function(Lt){if($e.on(Le,null),Oe&&(nt[Oe]=lt),Lt){var At=function(){$e.on(Fe,null)};$e.on(Fe,function(){ne(),At()},!0),setTimeout(At,0)}}}i.mouse=function(fe){return _e(fe,ue())};var Ge=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function _e(fe,Le){Le.changedTouches&&(Le=Le.changedTouches[0]);var Fe=fe.ownerSVGElement||fe;if(Fe.createSVGPoint){var $e=Fe.createSVGPoint();if(Ge<0){var nt=r(fe);if(nt.scrollX||nt.scrollY){Fe=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var lt=Fe[0][0].getScreenCTM();Ge=!(lt.f||lt.e),Fe.remove()}}return Ge?($e.x=Le.pageX,$e.y=Le.pageY):($e.x=Le.clientX,$e.y=Le.clientY),$e=$e.matrixTransform(fe.getScreenCTM().inverse()),[$e.x,$e.y]}var Lt=fe.getBoundingClientRect();return[Le.clientX-Lt.left-fe.clientLeft,Le.clientY-Lt.top-fe.clientTop]}i.touch=function(fe,Le,Fe){if(arguments.length<3&&(Fe=Le,Le=ue().changedTouches),Le){for(var $e=0,nt=Le.length,lt;$e<nt;++$e)if((lt=Le[$e]).identifier===Fe)return _e(fe,lt)}},i.behavior.drag=function(){var fe=q(nt,"drag","dragstart","dragend"),Le=null,Fe=lt(j,i.mouse,r,"mousemove","mouseup"),$e=lt(be,i.touch,N,"touchmove","touchend");function nt(){this.on("mousedown.drag",Fe).on("touchstart.drag",$e)}function lt(Lt,At,Ht,Gt,tr){return function(){var Cr=this,Pr=i.event.target.correspondingElement||i.event.target,Jr=Cr.parentNode,on=fe.of(Cr,arguments),Rr=0,Br=Lt(),Zr=".drag"+(Br==null?"":"-"+Br),un,vn=i.select(Ht(Pr)).on(Gt+Zr,qn).on(tr+Zr,ui),qr=Ze(Pr),Un=At(Jr,Br);Le?(un=Le.apply(Cr,arguments),un=[un.x-Un[0],un.y-Un[1]]):un=[0,0],on({type:"dragstart"});function qn(){var Qn=At(Jr,Br),ii,fi;Qn&&(ii=Qn[0]-Un[0],fi=Qn[1]-Un[1],Rr|=ii|fi,Un=Qn,on({type:"drag",x:Qn[0]+un[0],y:Qn[1]+un[1],dx:ii,dy:fi}))}function ui(){At(Jr,Br)&&(vn.on(Gt+Zr,null).on(tr+Zr,null),qr(Rr),on({type:"dragend"}))}}}return nt.origin=function(Lt){return arguments.length?(Le=Lt,nt):Le},i.rebind(nt,fe,"on")};function be(){return i.event.changedTouches[0].identifier}i.touches=function(fe,Le){return arguments.length<2&&(Le=ue().touches),Le?b(Le).map(function(Fe){var $e=_e(fe,Fe);return $e.identifier=Fe.identifier,$e}):[]};var me=1e-6,Ce=me*me,Me=Math.PI,Ne=2*Me,je=Ne-me,tt=Me/2,ct=Me/180,pt=180/Me;function Xt(fe,Le,Fe){return(Le[0]-fe[0])*(Fe[1]-fe[1])-(Le[1]-fe[1])*(Fe[0]-fe[0])}function Yt(fe){return fe>1?tt:fe<-1?-tt:Math.asin(fe)}function Tt(fe){return((fe=Math.exp(fe))-1/fe)/2}function _t(fe){return((fe=Math.exp(fe))+1/fe)/2}function Qt(fe){return((fe=Math.exp(2*fe))-1)/(fe+1)}var wr=Math.SQRT2,xt=2,jt=4;i.interpolateZoom=function(fe,Le){var Fe=fe[0],$e=fe[1],nt=fe[2],lt=Le[0],Lt=Le[1],At=Le[2],Ht=lt-Fe,Gt=Lt-$e,tr=Ht*Ht+Gt*Gt,Cr,Pr;if(tr<Ce)Pr=Math.log(At/nt)/wr,Cr=function(un){return[Fe+un*Ht,$e+un*Gt,nt*Math.exp(wr*un*Pr)]};else{var Jr=Math.sqrt(tr),on=(At*At-nt*nt+jt*tr)/(2*nt*xt*Jr),Rr=(At*At-nt*nt-jt*tr)/(2*At*xt*Jr),Br=Math.log(Math.sqrt(on*on+1)-on),Zr=Math.log(Math.sqrt(Rr*Rr+1)-Rr);Pr=(Zr-Br)/wr,Cr=function(un){var vn=un*Pr,qr=_t(Br),Un=nt/(xt*Jr)*(qr*Qt(wr*vn+Br)-Tt(Br));return[Fe+Un*Ht,$e+Un*Gt,nt*qr/_t(wr*vn+Br)]}}return Cr.duration=Pr*1e3,Cr},i.behavior.zoom=function(){var fe={x:0,y:0,k:1},Le,Fe,$e,nt=[960,500],lt=Jt,Lt=250,At=0,Ht="mousedown.zoom",Gt="mousemove.zoom",tr="mouseup.zoom",Cr,Pr="touchstart.zoom",Jr,on=q(vn,"zoomstart","zoom","zoomend"),Rr,Br,Zr,un;or||(or="onwheel"in v?(gr=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(gr=function(){return i.event.wheelDelta},"mousewheel"):(gr=function(){return-i.event.detail},"MozMousePixelScroll"));function vn(Zn){Zn.on(Ht,Oi).on(or+".zoom",Na).on("dblclick.zoom",fa).on(Pr,ia)}vn.event=function(Zn){Zn.each(function(){var Hi=on.of(this,arguments),Ai=fe;_r?i.select(this).transition().each("start.zoom",function(){fe=this.__chart__||{x:0,y:0,k:1},fi(Hi)}).tween("zoom:zoom",function(){var Ki=nt[0],Ta=nt[1],aa=Fe?Fe[0]:Ki/2,qa=Fe?Fe[1]:Ta/2,eo=i.interpolateZoom([(aa-fe.x)/fe.k,(qa-fe.y)/fe.k,Ki/fe.k],[(aa-Ai.x)/Ai.k,(qa-Ai.y)/Ai.k,Ki/Ai.k]);return function(ao){var Aa=eo(ao),yo=Ki/Aa[2];this.__chart__=fe={x:aa-Aa[0]*yo,y:qa-Aa[1]*yo,k:yo},Bi(Hi)}}).each("interrupt.zoom",function(){Si(Hi)}).each("end.zoom",function(){Si(Hi)}):(this.__chart__=fe,fi(Hi),Bi(Hi),Si(Hi))})},vn.translate=function(Zn){return arguments.length?(fe={x:+Zn[0],y:+Zn[1],k:fe.k},ii(),vn):[fe.x,fe.y]},vn.scale=function(Zn){return arguments.length?(fe={x:fe.x,y:fe.y,k:null},qn(+Zn),ii(),vn):fe.k},vn.scaleExtent=function(Zn){return arguments.length?(lt=Zn==null?Jt:[+Zn[0],+Zn[1]],vn):lt},vn.center=function(Zn){return arguments.length?($e=Zn&&[+Zn[0],+Zn[1]],vn):$e},vn.size=function(Zn){return arguments.length?(nt=Zn&&[+Zn[0],+Zn[1]],vn):nt},vn.duration=function(Zn){return arguments.length?(Lt=+Zn,vn):Lt},vn.x=function(Zn){return arguments.length?(Br=Zn,Rr=Zn.copy(),fe={x:0,y:0,k:1},vn):Br},vn.y=function(Zn){return arguments.length?(un=Zn,Zr=Zn.copy(),fe={x:0,y:0,k:1},vn):un};function qr(Zn){return[(Zn[0]-fe.x)/fe.k,(Zn[1]-fe.y)/fe.k]}function Un(Zn){return[Zn[0]*fe.k+fe.x,Zn[1]*fe.k+fe.y]}function qn(Zn){fe.k=Math.max(lt[0],Math.min(lt[1],Zn))}function ui(Zn,Hi){Hi=Un(Hi),fe.x+=Zn[0]-Hi[0],fe.y+=Zn[1]-Hi[1]}function Qn(Zn,Hi,Ai,Ki){Zn.__chart__={x:fe.x,y:fe.y,k:fe.k},qn(Math.pow(2,Ki)),ui(Fe=Hi,Ai),Zn=i.select(Zn),Lt>0&&(Zn=Zn.transition().duration(Lt)),Zn.call(vn.event)}function ii(){Br&&Br.domain(Rr.range().map(function(Zn){return(Zn-fe.x)/fe.k}).map(Rr.invert)),un&&un.domain(Zr.range().map(function(Zn){return(Zn-fe.y)/fe.k}).map(Zr.invert))}function fi(Zn){At++||Zn({type:"zoomstart"})}function Bi(Zn){ii(),Zn({type:"zoom",scale:fe.k,translate:[fe.x,fe.y]})}function Si(Zn){--At||(Zn({type:"zoomend"}),Fe=null)}function Oi(){var Zn=this,Hi=on.of(Zn,arguments),Ai=0,Ki=i.select(r(Zn)).on(Gt,qa).on(tr,eo),Ta=qr(i.mouse(Zn)),aa=Ze(Zn);Bt.call(Zn),fi(Hi);function qa(){Ai=1,ui(i.mouse(Zn),Ta),Bi(Hi)}function eo(){Ki.on(Gt,null).on(tr,null),aa(Ai),Si(Hi)}}function ia(){var Zn=this,Hi=on.of(Zn,arguments),Ai={},Ki=0,Ta,aa=".zoom-"+i.event.changedTouches[0].identifier,qa="touchmove"+aa,eo="touchend"+aa,ao=[],Aa=i.select(Zn),yo=Ze(Zn);Ci(),fi(Hi),Aa.on(Ht,null).on(Pr,Ci);function oi(){var oo=i.touches(Zn);return Ta=fe.k,oo.forEach(function(ca){ca.identifier in Ai&&(Ai[ca.identifier]=qr(ca))}),oo}function Ci(){var oo=i.event.target;i.select(oo).on(qa,ko).on(eo,Vo),ao.push(oo);for(var ca=i.event.changedTouches,Xa=0,Ba=ca.length;Xa<Ba;++Xa)Ai[ca[Xa].identifier]=null;var ms=oi(),Os=Date.now();if(ms.length===1){if(Os-Jr<500){var Pa=ms[0];Qn(Zn,Pa,Ai[Pa.identifier],Math.floor(Math.log(fe.k)/Math.LN2)+1),ne()}Jr=Os}else if(ms.length>1){var Pa=ms[0],Yl=ms[1],Ji=Pa[0]-Yl[0],Da=Pa[1]-Yl[1];Ki=Ji*Ji+Da*Da}}function ko(){var oo=i.touches(Zn),ca,Xa,Ba,ms;Bt.call(Zn);for(var Os=0,Pa=oo.length;Os<Pa;++Os,ms=null)if(Ba=oo[Os],ms=Ai[Ba.identifier]){if(Xa)break;ca=Ba,Xa=ms}if(ms){var Yl=(Yl=Ba[0]-ca[0])*Yl+(Yl=Ba[1]-ca[1])*Yl,Ji=Ki&&Math.sqrt(Yl/Ki);ca=[(ca[0]+Ba[0])/2,(ca[1]+Ba[1])/2],Xa=[(Xa[0]+ms[0])/2,(Xa[1]+ms[1])/2],qn(Ji*Ta)}Jr=null,ui(ca,Xa),Bi(Hi)}function Vo(){if(i.event.touches.length){for(var oo=i.event.changedTouches,ca=0,Xa=oo.length;ca<Xa;++ca)delete Ai[oo[ca].identifier];for(var Ba in Ai)return void oi()}i.selectAll(ao).on(aa,null),Aa.on(Ht,Oi).on(Pr,ia),yo(),Si(Hi)}}function Na(){var Zn=on.of(this,arguments);Cr?clearTimeout(Cr):(Bt.call(this),Le=qr(Fe=$e||i.mouse(this)),fi(Zn)),Cr=setTimeout(function(){Cr=null,Si(Zn)},50),ne(),qn(Math.pow(2,gr()*.002)*fe.k),ui(Fe,Le),Bi(Zn)}function fa(){var Zn=i.mouse(this),Hi=Math.log(fe.k)/Math.LN2;Qn(this,Zn,qr(Zn),i.event.shiftKey?Math.ceil(Hi)-1:Math.floor(Hi)+1)}return i.rebind(vn,on,"on")};var Jt=[0,1/0],gr,or;i.color=yt;function yt(){}yt.prototype.toString=function(){return this.rgb()+""},i.hsl=at;function at(fe,Le,Fe){return this instanceof at?(this.h=+fe,this.s=+Le,void(this.l=+Fe)):arguments.length<2?fe instanceof at?new at(fe.h,fe.s,fe.l):mr(""+fe,hr,at):new at(fe,Le,Fe)}var wt=at.prototype=new yt;wt.brighter=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new at(this.h,this.s,this.l/fe)},wt.darker=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new at(this.h,this.s,fe*this.l)},wt.rgb=function(){return Et(this.h,this.s,this.l)};function Et(fe,Le,Fe){var $e,nt;fe=isNaN(fe)?0:(fe%=360)<0?fe+360:fe,Le=isNaN(Le)||Le<0?0:Le>1?1:Le,Fe=Fe<0?0:Fe>1?1:Fe,nt=Fe<=.5?Fe*(1+Le):Fe+Le-Fe*Le,$e=2*Fe-nt;function lt(At){return At>360?At-=360:At<0&&(At+=360),At<60?$e+(nt-$e)*At/60:At<180?nt:At<240?$e+(nt-$e)*(240-At)/60:$e}function Lt(At){return Math.round(lt(At)*255)}return new lr(Lt(fe+120),Lt(fe),Lt(fe-120))}i.hcl=Rt;function Rt(fe,Le,Fe){return this instanceof Rt?(this.h=+fe,this.c=+Le,void(this.l=+Fe)):arguments.length<2?fe instanceof Rt?new Rt(fe.h,fe.c,fe.l):fe instanceof Nt?zt(fe.l,fe.a,fe.b):zt((fe=Gr((fe=i.rgb(fe)).r,fe.g,fe.b)).l,fe.a,fe.b):new Rt(fe,Le,Fe)}var Dt=Rt.prototype=new yt;Dt.brighter=function(fe){return new Rt(this.h,this.c,Math.min(100,this.l+Kt*(arguments.length?fe:1)))},Dt.darker=function(fe){return new Rt(this.h,this.c,Math.max(0,this.l-Kt*(arguments.length?fe:1)))},Dt.rgb=function(){return Ut(this.h,this.c,this.l).rgb()};function Ut(fe,Le,Fe){return isNaN(fe)&&(fe=0),isNaN(Le)&&(Le=0),new Nt(Fe,Math.cos(fe*=ct)*Le,Math.sin(fe)*Le)}i.lab=Nt;function Nt(fe,Le,Fe){return this instanceof Nt?(this.l=+fe,this.a=+Le,void(this.b=+Fe)):arguments.length<2?fe instanceof Nt?new Nt(fe.l,fe.a,fe.b):fe instanceof Rt?Ut(fe.h,fe.c,fe.l):Gr((fe=lr(fe)).r,fe.g,fe.b):new Nt(fe,Le,Fe)}var Kt=18,ur=.95047,fr=1,vr=1.08883,We=Nt.prototype=new yt;We.brighter=function(fe){return new Nt(Math.min(100,this.l+Kt*(arguments.length?fe:1)),this.a,this.b)},We.darker=function(fe){return new Nt(Math.max(0,this.l-Kt*(arguments.length?fe:1)),this.a,this.b)},We.rgb=function(){return He(this.l,this.a,this.b)};function He(fe,Le,Fe){var $e=(fe+16)/116,nt=$e+Le/500,lt=$e-Fe/200;return nt=kt(nt)*ur,$e=kt($e)*fr,lt=kt(lt)*vr,new lr(er(3.2404542*nt-1.5371385*$e-.4985314*lt),er(-.969266*nt+1.8760108*$e+.041556*lt),er(.0556434*nt-.2040259*$e+1.0572252*lt))}function zt(fe,Le,Fe){return fe>0?new Rt(Math.atan2(Fe,Le)*pt,Math.sqrt(Le*Le+Fe*Fe),fe):new Rt(NaN,NaN,fe)}function kt(fe){return fe>.206893034?fe*fe*fe:(fe-.13793103448275862)/7.787037}function Zt(fe){return fe>.008856?Math.pow(fe,.3333333333333333):7.787037*fe+.13793103448275862}function er(fe){return Math.round(255*(fe<=.00304?12.92*fe:1.055*Math.pow(fe,.4166666666666667)-.055))}i.rgb=lr;function lr(fe,Le,Fe){return this instanceof lr?(this.r=~~fe,this.g=~~Le,void(this.b=~~Fe)):arguments.length<2?fe instanceof lr?new lr(fe.r,fe.g,fe.b):mr(""+fe,lr,Et):new lr(fe,Le,Fe)}function rr(fe){return new lr(fe>>16,fe>>8&255,fe&255)}function Ft(fe){return rr(fe)+""}var cr=lr.prototype=new yt;cr.brighter=function(fe){fe=Math.pow(.7,arguments.length?fe:1);var Le=this.r,Fe=this.g,$e=this.b,nt=30;return!Le&&!Fe&&!$e?new lr(nt,nt,nt):(Le&&Le<nt&&(Le=nt),Fe&&Fe<nt&&(Fe=nt),$e&&$e<nt&&($e=nt),new lr(Math.min(255,Le/fe),Math.min(255,Fe/fe),Math.min(255,$e/fe)))},cr.darker=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new lr(fe*this.r,fe*this.g,fe*this.b)},cr.hsl=function(){return hr(this.r,this.g,this.b)},cr.toString=function(){return"#"+pr(this.r)+pr(this.g)+pr(this.b)};function pr(fe){return fe<16?"0"+Math.max(0,fe).toString(16):Math.min(255,fe).toString(16)}function mr(fe,Le,Fe){var $e=0,nt=0,lt=0,Lt,At,Ht;if(Lt=/([a-z]+)\((.*)\)/.exec(fe=fe.toLowerCase()),Lt)switch(At=Lt[2].split(","),Lt[1]){case"hsl":return Fe(parseFloat(At[0]),parseFloat(At[1])/100,parseFloat(At[2])/100);case"rgb":return Le(Ir(At[0]),Ir(At[1]),Ir(At[2]))}return(Ht=cn.get(fe))?Le(Ht.r,Ht.g,Ht.b):(fe!=null&&fe.charAt(0)==="#"&&!isNaN(Ht=parseInt(fe.slice(1),16))&&(fe.length===4?($e=(Ht&3840)>>4,$e=$e>>4|$e,nt=Ht&240,nt=nt>>4|nt,lt=Ht&15,lt=lt<<4|lt):fe.length===7&&($e=(Ht&16711680)>>16,nt=(Ht&65280)>>8,lt=Ht&255)),Le($e,nt,lt))}function hr(fe,Le,Fe){var $e=Math.min(fe/=255,Le/=255,Fe/=255),nt=Math.max(fe,Le,Fe),lt=nt-$e,Lt,At,Ht=(nt+$e)/2;return lt?(At=Ht<.5?lt/(nt+$e):lt/(2-nt-$e),fe==nt?Lt=(Le-Fe)/lt+(Le<Fe?6:0):Le==nt?Lt=(Fe-fe)/lt+2:Lt=(fe-Le)/lt+4,Lt*=60):(Lt=NaN,At=Ht>0&&Ht<1?0:Lt),new at(Lt,At,Ht)}function Gr(fe,Le,Fe){fe=Dr(fe),Le=Dr(Le),Fe=Dr(Fe);var $e=Zt((.4124564*fe+.3575761*Le+.1804375*Fe)/ur),nt=Zt((.2126729*fe+.7151522*Le+.072175*Fe)/fr),lt=Zt((.0193339*fe+.119192*Le+.9503041*Fe)/vr);return Nt(116*nt-16,500*($e-nt),200*(nt-lt))}function Dr(fe){return(fe/=255)<=.04045?fe/12.92:Math.pow((fe+.055)/1.055,2.4)}function Ir(fe){var Le=parseFloat(fe);return fe.charAt(fe.length-1)==="%"?Math.round(Le*2.55):Le}var cn=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});cn.forEach(function(fe,Le){cn.set(fe,rr(Le))});function rn(fe){return typeof fe=="function"?fe:function(){return fe}}i.functor=rn,i.xhr=Cn(N);function Cn(fe){return function(Le,Fe,$e){return arguments.length===2&&typeof Fe=="function"&&($e=Fe,Fe=null),Sn(Le,Fe,fe,$e)}}function Sn(fe,Le,Fe,$e){var nt={},lt=i.dispatch("beforesend","progress","load","error"),Lt={},At=new XMLHttpRequest,Ht=null;self.XDomainRequest&&!("withCredentials"in At)&&/^(http(s)?:)?\/\//.test(fe)&&(At=new XDomainRequest),"onload"in At?At.onload=At.onerror=Gt:At.onreadystatechange=function(){At.readyState>3&&Gt()};function Gt(){var tr=At.status,Cr;if(!tr&&Lr(At)||tr>=200&&tr<300||tr===304){try{Cr=Fe.call(nt,At)}catch(Pr){lt.error.call(nt,Pr);return}lt.load.call(nt,Cr)}else lt.error.call(nt,At)}return At.onprogress=function(tr){var Cr=i.event;i.event=tr;try{lt.progress.call(nt,At)}finally{i.event=Cr}},nt.header=function(tr,Cr){return tr=(tr+"").toLowerCase(),arguments.length<2?Lt[tr]:(Cr==null?delete Lt[tr]:Lt[tr]=Cr+"",nt)},nt.mimeType=function(tr){return arguments.length?(Le=tr==null?null:tr+"",nt):Le},nt.responseType=function(tr){return arguments.length?(Ht=tr,nt):Ht},nt.response=function(tr){return Fe=tr,nt},["get","post"].forEach(function(tr){nt[tr]=function(){return nt.send.apply(nt,[tr].concat(b(arguments)))}}),nt.send=function(tr,Cr,Pr){if(arguments.length===2&&typeof Cr=="function"&&(Pr=Cr,Cr=null),At.open(tr,fe,!0),Le!=null&&!("accept"in Lt)&&(Lt.accept=Le+",*/*"),At.setRequestHeader)for(var Jr in Lt)At.setRequestHeader(Jr,Lt[Jr]);return Le!=null&&At.overrideMimeType&&At.overrideMimeType(Le),Ht!=null&&(At.responseType=Ht),Pr!=null&&nt.on("error",Pr).on("load",function(on){Pr(null,on)}),lt.beforesend.call(nt,At),At.send(Cr??null),nt},nt.abort=function(){return At.abort(),nt},i.rebind(nt,lt,"on"),$e==null?nt:nt.get(Tr($e))}function Tr(fe){return fe.length===1?function(Le,Fe){fe(Le==null?Fe:null)}:fe}function Lr(fe){var Le=fe.responseType;return Le&&Le!=="text"?fe.response:fe.responseText}i.dsv=function(fe,Le){var Fe=new RegExp('["'+fe+`
]`),$e=fe.charCodeAt(0);function nt(Gt,tr,Cr){arguments.length<3&&(Cr=tr,tr=null);var Pr=Sn(Gt,Le,tr==null?lt:Lt(tr),Cr);return Pr.row=function(Jr){return arguments.length?Pr.response((tr=Jr)==null?lt:Lt(Jr)):tr},Pr}function lt(Gt){return nt.parse(Gt.responseText)}function Lt(Gt){return function(tr){return nt.parse(tr.responseText,Gt)}}nt.parse=function(Gt,tr){var Cr;return nt.parseRows(Gt,function(Pr,Jr){if(Cr)return Cr(Pr,Jr-1);var on=function(Rr){for(var Br={},Zr=Pr.length,un=0;un<Zr;++un)Br[Pr[un]]=Rr[un];return Br};Cr=tr?function(Rr,Br){return tr(on(Rr),Br)}:on})},nt.parseRows=function(Gt,tr){var Cr={},Pr={},Jr=[],on=Gt.length,Rr=0,Br=0,Zr,un;function vn(){if(Rr>=on)return Pr;if(un)return un=!1,Cr;var Un=Rr;if(Gt.charCodeAt(Un)===34){for(var qn=Un;qn++<on;)if(Gt.charCodeAt(qn)===34){if(Gt.charCodeAt(qn+1)!==34)break;++qn}Rr=qn+2;var ui=Gt.charCodeAt(qn+1);return ui===13?(un=!0,Gt.charCodeAt(qn+2)===10&&++Rr):ui===10&&(un=!0),Gt.slice(Un+1,qn).replace(/""/g,'"')}for(;Rr<on;){var ui=Gt.charCodeAt(Rr++),Qn=1;if(ui===10)un=!0;else if(ui===13)un=!0,Gt.charCodeAt(Rr)===10&&(++Rr,++Qn);else if(ui!==$e)continue;return Gt.slice(Un,Rr-Qn)}return Gt.slice(Un)}for(;(Zr=vn())!==Pr;){for(var qr=[];Zr!==Cr&&Zr!==Pr;)qr.push(Zr),Zr=vn();tr&&(qr=tr(qr,Br++))==null||Jr.push(qr)}return Jr},nt.format=function(Gt){if(Array.isArray(Gt[0]))return nt.formatRows(Gt);var tr=new F,Cr=[];return Gt.forEach(function(Pr){for(var Jr in Pr)tr.has(Jr)||Cr.push(tr.add(Jr))}),[Cr.map(Ht).join(fe)].concat(Gt.map(function(Pr){return Cr.map(function(Jr){return Ht(Pr[Jr])}).join(fe)})).join(`
`)},nt.formatRows=function(Gt){return Gt.map(At).join(`
`)};function At(Gt){return Gt.map(Ht).join(fe)}function Ht(Gt){return Fe.test(Gt)?'"'+Gt.replace(/\"/g,'""')+'"':Gt}return nt},i.csv=i.dsv(",","text/csv"),i.tsv=i.dsv("	","text/tab-separated-values");var Wr,Ur,an,pn,gn=this[I(this,"requestAnimationFrame")]||function(fe){setTimeout(fe,17)};i.timer=function(){En.apply(this,arguments)};function En(fe,Le,Fe){var $e=arguments.length;$e<2&&(Le=0),$e<3&&(Fe=Date.now());var nt=Fe+Le,lt={c:fe,t:nt,n:null};return Ur?Ur.n=lt:Wr=lt,Ur=lt,an||(pn=clearTimeout(pn),an=1,gn(On)),lt}function On(){var fe=ni(),Le=ci()-fe;Le>24?(isFinite(Le)&&(clearTimeout(pn),pn=setTimeout(On,Le)),an=0):(an=1,gn(On))}i.timer.flush=function(){ni(),ci()};function ni(){for(var fe=Date.now(),Le=Wr;Le;)fe>=Le.t&&Le.c(fe-Le.t)&&(Le.c=null),Le=Le.n;return fe}function ci(){for(var fe,Le=Wr,Fe=1/0;Le;)Le.c?(Le.t<Fe&&(Fe=Le.t),Le=(fe=Le).n):Le=fe?fe.n=Le.n:Wr=Le.n;return Ur=fe,Fe}i.round=function(fe,Le){return Le?Math.round(fe*(Le=Math.pow(10,Le)))/Le:Math.round(fe)},i.geom={};function di(fe){return fe[0]}function li(fe){return fe[1]}i.geom.hull=function(fe){var Le=di,Fe=li;if(arguments.length)return $e(fe);function $e(nt){if(nt.length<3)return[];var lt=rn(Le),Lt=rn(Fe),At,Ht=nt.length,Gt=[],tr=[];for(At=0;At<Ht;At++)Gt.push([+lt.call(this,nt[At],At),+Lt.call(this,nt[At],At),At]);for(Gt.sort(br),At=0;At<Ht;At++)tr.push([Gt[At][0],-Gt[At][1]]);var Cr=ri(Gt),Pr=ri(tr),Jr=Pr[0]===Cr[0],on=Pr[Pr.length-1]===Cr[Cr.length-1],Rr=[];for(At=Cr.length-1;At>=0;--At)Rr.push(nt[Gt[Cr[At]][2]]);for(At=+Jr;At<Pr.length-on;++At)Rr.push(nt[Gt[Pr[At]][2]]);return Rr}return $e.x=function(nt){return arguments.length?(Le=nt,$e):Le},$e.y=function(nt){return arguments.length?(Fe=nt,$e):Fe},$e};function ri(fe){for(var Le=fe.length,Fe=[0,1],$e=2,nt=2;nt<Le;nt++){for(;$e>1&&Xt(fe[Fe[$e-2]],fe[Fe[$e-1]],fe[nt])<=0;)--$e;Fe[$e++]=nt}return Fe.slice(0,$e)}function br(fe,Le){return fe[0]-Le[0]||fe[1]-Le[1]}i.geom.polygon=function(fe){return Z(fe,nn),fe};var nn=i.geom.polygon.prototype=[];nn.area=function(){for(var fe=-1,Le=this.length,Fe,$e=this[Le-1],nt=0;++fe<Le;)Fe=$e,$e=this[fe],nt+=Fe[1]*$e[0]-Fe[0]*$e[1];return nt*.5},nn.centroid=function(fe){var Le=-1,Fe=this.length,$e=0,nt=0,lt,Lt=this[Fe-1],At;for(arguments.length||(fe=-1/(6*this.area()));++Le<Fe;)lt=Lt,Lt=this[Le],At=lt[0]*Lt[1]-Lt[0]*lt[1],$e+=(lt[0]+Lt[0])*At,nt+=(lt[1]+Lt[1])*At;return[$e*fe,nt*fe]},nn.clip=function(fe){for(var Le,Fe=Vn(fe),$e=-1,nt=this.length-Vn(this),lt,Lt,At=this[nt-1],Ht,Gt,tr;++$e<nt;){for(Le=fe.slice(),fe.length=0,Ht=this[$e],Gt=Le[(Lt=Le.length-Fe)-1],lt=-1;++lt<Lt;)tr=Le[lt],$r(tr,At,Ht)?($r(Gt,At,Ht)||fe.push(dn(Gt,tr,At,Ht)),fe.push(tr)):$r(Gt,At,Ht)&&fe.push(dn(Gt,tr,At,Ht)),Gt=tr;Fe&&fe.push(fe[0]),At=Ht}return fe};function $r(fe,Le,Fe){return(Fe[0]-Le[0])*(fe[1]-Le[1])<(Fe[1]-Le[1])*(fe[0]-Le[0])}function dn(fe,Le,Fe,$e){var nt=fe[0],lt=Fe[0],Lt=Le[0]-nt,At=$e[0]-lt,Ht=fe[1],Gt=Fe[1],tr=Le[1]-Ht,Cr=$e[1]-Gt,Pr=(At*(Ht-Gt)-Cr*(nt-lt))/(Cr*Lt-At*tr);return[nt+Pr*Lt,Ht+Pr*tr]}function Vn(fe){var Le=fe[0],Fe=fe[fe.length-1];return!(Le[0]-Fe[0]||Le[1]-Fe[1])}var wn,Tn,Nn,Jn=[],gi,_i,Sr=[];function zr(){No(this),this.edge=this.site=this.circle=null}function Ar(fe){var Le=Jn.pop()||new zr;return Le.site=fe,Le}function Fr(fe){Ln(fe),Nn.remove(fe),Jn.push(fe),No(fe)}function xn(fe){var Le=fe.circle,Fe=Le.x,$e=Le.cy,nt={x:Fe,y:$e},lt=fe.P,Lt=fe.N,At=[fe];Fr(fe);for(var Ht=lt;Ht.circle&&d(Fe-Ht.circle.x)<me&&d($e-Ht.circle.cy)<me;)lt=Ht.P,At.unshift(Ht),Fr(Ht),Ht=lt;At.unshift(Ht),Ln(Ht);for(var Gt=Lt;Gt.circle&&d(Fe-Gt.circle.x)<me&&d($e-Gt.circle.cy)<me;)Lt=Gt.N,At.push(Gt),Fr(Gt),Gt=Lt;At.push(Gt),Ln(Gt);var tr=At.length,Cr;for(Cr=1;Cr<tr;++Cr)Gt=At[Cr],Ht=At[Cr-1],Pi(Gt.edge,Ht.site,Gt.site,nt);Ht=At[0],Gt=At[tr-1],Gt.edge=ai(Ht.site,Gt.site,null,nt),bn(Ht),bn(Gt)}function In(fe){for(var Le=fe.x,Fe=fe.y,$e,nt,lt,Lt,At=Nn._;At;)if(lt=hn(At,Fe)-Le,lt>me)At=At.L;else if(Lt=Le-sn(At,Fe),Lt>me){if(!At.R){$e=At;break}At=At.R}else{lt>-me?($e=At.P,nt=At):Lt>-me?($e=At,nt=At.N):$e=nt=At;break}var Ht=Ar(fe);if(Nn.insert($e,Ht),!(!$e&&!nt)){if($e===nt){Ln($e),nt=Ar($e.site),Nn.insert(Ht,nt),Ht.edge=nt.edge=ai($e.site,Ht.site),bn($e),bn(nt);return}if(!nt){Ht.edge=ai($e.site,Ht.site);return}Ln($e),Ln(nt);var Gt=$e.site,tr=Gt.x,Cr=Gt.y,Pr=fe.x-tr,Jr=fe.y-Cr,on=nt.site,Rr=on.x-tr,Br=on.y-Cr,Zr=2*(Pr*Br-Jr*Rr),un=Pr*Pr+Jr*Jr,vn=Rr*Rr+Br*Br,qr={x:(Br*un-Jr*vn)/Zr+tr,y:(Pr*vn-Rr*un)/Zr+Cr};Pi(nt.edge,Gt,on,qr),Ht.edge=ai(Gt,fe,null,qr),nt.edge=ai(fe,on,null,qr),bn($e),bn(nt)}}function hn(fe,Le){var Fe=fe.site,$e=Fe.x,nt=Fe.y,lt=nt-Le;if(!lt)return $e;var Lt=fe.P;if(!Lt)return-1/0;Fe=Lt.site;var At=Fe.x,Ht=Fe.y,Gt=Ht-Le;if(!Gt)return At;var tr=At-$e,Cr=1/lt-1/Gt,Pr=tr/Gt;return Cr?(-Pr+Math.sqrt(Pr*Pr-2*Cr*(tr*tr/(-2*Gt)-Ht+Gt/2+nt-lt/2)))/Cr+$e:($e+At)/2}function sn(fe,Le){var Fe=fe.N;if(Fe)return hn(Fe,Le);var $e=fe.site;return $e.y===Le?$e.x:1/0}function Er(fe){this.site=fe,this.edges=[]}Er.prototype.prepare=function(){for(var fe=this.edges,Le=fe.length,Fe;Le--;)Fe=fe[Le].edge,(!Fe.b||!Fe.a)&&fe.splice(Le,1);return fe.sort(Vr),fe.length};function jr(fe){for(var Le=fe[0][0],Fe=fe[1][0],$e=fe[0][1],nt=fe[1][1],lt,Lt,At,Ht,Gt=Tn,tr=Gt.length,Cr,Pr,Jr,on,Rr,Br;tr--;)if(Cr=Gt[tr],!(!Cr||!Cr.prepare()))for(Jr=Cr.edges,on=Jr.length,Pr=0;Pr<on;)Br=Jr[Pr].end(),At=Br.x,Ht=Br.y,Rr=Jr[++Pr%on].start(),lt=Rr.x,Lt=Rr.y,(d(At-lt)>me||d(Ht-Lt)>me)&&(Jr.splice(Pr,0,new ga(pi(Cr.site,Br,d(At-Le)<me&&nt-Ht>me?{x:Le,y:d(lt-Le)<me?Lt:nt}:d(Ht-nt)<me&&Fe-At>me?{x:d(Lt-nt)<me?lt:Fe,y:nt}:d(At-Fe)<me&&Ht-$e>me?{x:Fe,y:d(lt-Fe)<me?Lt:$e}:d(Ht-$e)<me&&At-Le>me?{x:d(Lt-$e)<me?lt:Le,y:$e}:null),Cr.site,null)),++on)}function Vr(fe,Le){return Le.angle-fe.angle}function Qr(){No(this),this.x=this.y=this.arc=this.site=this.cy=null}function bn(fe){var Le=fe.P,Fe=fe.N;if(!(!Le||!Fe)){var $e=Le.site,nt=fe.site,lt=Fe.site;if($e!==lt){var Lt=nt.x,At=nt.y,Ht=$e.x-Lt,Gt=$e.y-At,tr=lt.x-Lt,Br=lt.y-At,Cr=2*(Ht*Br-Gt*tr);if(!(Cr>=-Ce)){var Pr=Ht*Ht+Gt*Gt,Jr=tr*tr+Br*Br,on=(Br*Pr-Gt*Jr)/Cr,Rr=(Ht*Jr-tr*Pr)/Cr,Br=Rr+At,Zr=Sr.pop()||new Qr;Zr.arc=fe,Zr.site=nt,Zr.x=on+Lt,Zr.y=Br+Math.sqrt(on*on+Rr*Rr),Zr.cy=Br,fe.circle=Zr;for(var un=null,vn=_i._;vn;)if(Zr.y<vn.y||Zr.y===vn.y&&Zr.x<=vn.x)if(vn.L)vn=vn.L;else{un=vn.P;break}else if(vn.R)vn=vn.R;else{un=vn;break}_i.insert(un,Zr),un||(gi=Zr)}}}}function Ln(fe){var Le=fe.circle;Le&&(Le.P||(gi=Le.N),_i.remove(Le),Sr.push(Le),No(Le),fe.circle=null)}function Pn(fe,Le,Fe,$e){return function(nt){var lt=nt.a,Lt=nt.b,At=lt.x,Ht=lt.y,Gt=Lt.x,tr=Lt.y,Cr=0,Pr=1,Jr=Gt-At,on=tr-Ht,Rr;if(Rr=fe-At,!(!Jr&&Rr>0)){if(Rr/=Jr,Jr<0){if(Rr<Cr)return;Rr<Pr&&(Pr=Rr)}else if(Jr>0){if(Rr>Pr)return;Rr>Cr&&(Cr=Rr)}if(Rr=Fe-At,!(!Jr&&Rr<0)){if(Rr/=Jr,Jr<0){if(Rr>Pr)return;Rr>Cr&&(Cr=Rr)}else if(Jr>0){if(Rr<Cr)return;Rr<Pr&&(Pr=Rr)}if(Rr=Le-Ht,!(!on&&Rr>0)){if(Rr/=on,on<0){if(Rr<Cr)return;Rr<Pr&&(Pr=Rr)}else if(on>0){if(Rr>Pr)return;Rr>Cr&&(Cr=Rr)}if(Rr=$e-Ht,!(!on&&Rr<0)){if(Rr/=on,on<0){if(Rr>Pr)return;Rr>Cr&&(Cr=Rr)}else if(on>0){if(Rr<Cr)return;Rr<Pr&&(Pr=Rr)}return Cr>0&&(nt.a={x:At+Cr*Jr,y:Ht+Cr*on}),Pr<1&&(nt.b={x:At+Pr*Jr,y:Ht+Pr*on}),nt}}}}}}function Bn(fe){for(var Le=wn,Fe=Pn(fe[0][0],fe[0][1],fe[1][0],fe[1][1]),$e=Le.length,nt;$e--;)nt=Le[$e],(!zn(nt,fe)||!Fe(nt)||d(nt.a.x-nt.b.x)<me&&d(nt.a.y-nt.b.y)<me)&&(nt.a=nt.b=null,Le.splice($e,1))}function zn(fe,Le){var Fe=fe.b;if(Fe)return!0;var $e=fe.a,nt=Le[0][0],lt=Le[1][0],Lt=Le[0][1],At=Le[1][1],Ht=fe.l,Gt=fe.r,tr=Ht.x,Cr=Ht.y,Pr=Gt.x,Jr=Gt.y,on=(tr+Pr)/2,Rr=(Cr+Jr)/2,Br,Zr;if(Jr===Cr){if(on<nt||on>=lt)return;if(tr>Pr){if(!$e)$e={x:on,y:Lt};else if($e.y>=At)return;Fe={x:on,y:At}}else{if(!$e)$e={x:on,y:At};else if($e.y<Lt)return;Fe={x:on,y:Lt}}}else if(Br=(tr-Pr)/(Jr-Cr),Zr=Rr-Br*on,Br<-1||Br>1)if(tr>Pr){if(!$e)$e={x:(Lt-Zr)/Br,y:Lt};else if($e.y>=At)return;Fe={x:(At-Zr)/Br,y:At}}else{if(!$e)$e={x:(At-Zr)/Br,y:At};else if($e.y<Lt)return;Fe={x:(Lt-Zr)/Br,y:Lt}}else if(Cr<Jr){if(!$e)$e={x:nt,y:Br*nt+Zr};else if($e.x>=lt)return;Fe={x:lt,y:Br*lt+Zr}}else{if(!$e)$e={x:lt,y:Br*lt+Zr};else if($e.x<nt)return;Fe={x:nt,y:Br*nt+Zr}}return fe.a=$e,fe.b=Fe,!0}function yi(fe,Le){this.l=fe,this.r=Le,this.a=this.b=null}function ai(fe,Le,Fe,$e){var nt=new yi(fe,Le);return wn.push(nt),Fe&&Pi(nt,fe,Le,Fe),$e&&Pi(nt,Le,fe,$e),Tn[fe.i].edges.push(new ga(nt,fe,Le)),Tn[Le.i].edges.push(new ga(nt,Le,fe)),nt}function pi(fe,Le,Fe){var $e=new yi(fe,null);return $e.a=Le,$e.b=Fe,wn.push($e),$e}function Pi(fe,Le,Fe,$e){!fe.a&&!fe.b?(fe.a=$e,fe.l=Le,fe.r=Fe):fe.l===Fe?fe.b=$e:fe.a=$e}function ga(fe,Le,Fe){var $e=fe.a,nt=fe.b;this.edge=fe,this.site=Le,this.angle=Fe?Math.atan2(Fe.y-Le.y,Fe.x-Le.x):fe.l===Le?Math.atan2(nt.x-$e.x,$e.y-nt.y):Math.atan2($e.x-nt.x,nt.y-$e.y)}ga.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function na(){this._=null}function No(fe){fe.U=fe.C=fe.L=fe.R=fe.P=fe.N=null}na.prototype={insert:function(fe,Le){var Fe,$e,nt;if(fe){if(Le.P=fe,Le.N=fe.N,fe.N&&(fe.N.P=Le),fe.N=Le,fe.R){for(fe=fe.R;fe.L;)fe=fe.L;fe.L=Le}else fe.R=Le;Fe=fe}else this._?(fe=Cl(this._),Le.P=null,Le.N=fe,fe.P=fe.L=Le,Fe=fe):(Le.P=Le.N=null,this._=Le,Fe=null);for(Le.L=Le.R=null,Le.U=Fe,Le.C=!0,fe=Le;Fe&&Fe.C;)$e=Fe.U,Fe===$e.L?(nt=$e.R,nt&&nt.C?(Fe.C=nt.C=!1,$e.C=!0,fe=$e):(fe===Fe.R&&(Do(this,Fe),fe=Fe,Fe=fe.U),Fe.C=!1,$e.C=!0,ro(this,$e))):(nt=$e.L,nt&&nt.C?(Fe.C=nt.C=!1,$e.C=!0,fe=$e):(fe===Fe.L&&(ro(this,Fe),fe=Fe,Fe=fe.U),Fe.C=!1,$e.C=!0,Do(this,$e))),Fe=fe.U;this._.C=!1},remove:function(fe){fe.N&&(fe.N.P=fe.P),fe.P&&(fe.P.N=fe.N),fe.N=fe.P=null;var Le=fe.U,Fe,$e=fe.L,nt=fe.R,lt,Lt;if($e?nt?lt=Cl(nt):lt=$e:lt=nt,Le?Le.L===fe?Le.L=lt:Le.R=lt:this._=lt,$e&&nt?(Lt=lt.C,lt.C=fe.C,lt.L=$e,$e.U=lt,lt!==nt?(Le=lt.U,lt.U=fe.U,fe=lt.R,Le.L=fe,lt.R=nt,nt.U=lt):(lt.U=Le,Le=lt,fe=lt.R)):(Lt=fe.C,fe=lt),fe&&(fe.U=Le),!Lt){if(fe&&fe.C){fe.C=!1;return}do{if(fe===this._)break;if(fe===Le.L){if(Fe=Le.R,Fe.C&&(Fe.C=!1,Le.C=!0,Do(this,Le),Fe=Le.R),Fe.L&&Fe.L.C||Fe.R&&Fe.R.C){(!Fe.R||!Fe.R.C)&&(Fe.L.C=!1,Fe.C=!0,ro(this,Fe),Fe=Le.R),Fe.C=Le.C,Le.C=Fe.R.C=!1,Do(this,Le),fe=this._;break}}else if(Fe=Le.L,Fe.C&&(Fe.C=!1,Le.C=!0,ro(this,Le),Fe=Le.L),Fe.L&&Fe.L.C||Fe.R&&Fe.R.C){(!Fe.L||!Fe.L.C)&&(Fe.R.C=!1,Fe.C=!0,Do(this,Fe),Fe=Le.L),Fe.C=Le.C,Le.C=Fe.L.C=!1,ro(this,Le),fe=this._;break}Fe.C=!0,fe=Le,Le=Le.U}while(!fe.C);fe&&(fe.C=!1)}}};function Do(fe,Le){var Fe=Le,$e=Le.R,nt=Fe.U;nt?nt.L===Fe?nt.L=$e:nt.R=$e:fe._=$e,$e.U=nt,Fe.U=$e,Fe.R=$e.L,Fe.R&&(Fe.R.U=Fe),$e.L=Fe}function ro(fe,Le){var Fe=Le,$e=Le.L,nt=Fe.U;nt?nt.L===Fe?nt.L=$e:nt.R=$e:fe._=$e,$e.U=nt,Fe.U=$e,Fe.L=$e.R,Fe.L&&(Fe.L.U=Fe),$e.R=Fe}function Cl(fe){for(;fe.L;)fe=fe.L;return fe}function hf(fe,Le){var Fe=fe.sort($f).pop(),$e,nt,lt;for(wn=[],Tn=new Array(fe.length),Nn=new na,_i=new na;;)if(lt=gi,Fe&&(!lt||Fe.y<lt.y||Fe.y===lt.y&&Fe.x<lt.x))(Fe.x!==$e||Fe.y!==nt)&&(Tn[Fe.i]=new Er(Fe),In(Fe),$e=Fe.x,nt=Fe.y),Fe=fe.pop();else if(lt)xn(lt.arc);else break;Le&&(Bn(Le),jr(Le));var Lt={cells:Tn,edges:wn};return Nn=_i=wn=Tn=null,Lt}function $f(fe,Le){return Le.y-fe.y||Le.x-fe.x}i.geom.voronoi=function(fe){var Le=di,Fe=li,$e=Le,nt=Fe,lt=ea;if(fe)return Lt(fe);function Lt(Ht){var Gt=new Array(Ht.length),tr=lt[0][0],Cr=lt[0][1],Pr=lt[1][0],Jr=lt[1][1];return hf(At(Ht),lt).cells.forEach(function(on,Rr){var Br=on.edges,Zr=on.site,un=Gt[Rr]=Br.length?Br.map(function(vn){var qr=vn.start();return[qr.x,qr.y]}):Zr.x>=tr&&Zr.x<=Pr&&Zr.y>=Cr&&Zr.y<=Jr?[[tr,Jr],[Pr,Jr],[Pr,Cr],[tr,Cr]]:[];un.point=Ht[Rr]}),Gt}function At(Ht){return Ht.map(function(Gt,tr){return{x:Math.round($e(Gt,tr)/me)*me,y:Math.round(nt(Gt,tr)/me)*me,i:tr}})}return Lt.links=function(Ht){return hf(At(Ht)).edges.filter(function(Gt){return Gt.l&&Gt.r}).map(function(Gt){return{source:Ht[Gt.l.i],target:Ht[Gt.r.i]}})},Lt.triangles=function(Ht){var Gt=[];return hf(At(Ht)).cells.forEach(function(tr,Cr){for(var Pr=tr.site,Jr=tr.edges.sort(Vr),on=-1,Rr=Jr.length,Br,Zr=Jr[Rr-1].edge,un=Zr.l===Pr?Zr.r:Zr.l;++on<Rr;)Br=un,Zr=Jr[on].edge,un=Zr.l===Pr?Zr.r:Zr.l,Cr<Br.i&&Cr<un.i&&au(Pr,Br,un)<0&&Gt.push([Ht[Cr],Ht[Br.i],Ht[un.i]])}),Gt},Lt.x=function(Ht){return arguments.length?($e=rn(Le=Ht),Lt):Le},Lt.y=function(Ht){return arguments.length?(nt=rn(Fe=Ht),Lt):Fe},Lt.clipExtent=function(Ht){return arguments.length?(lt=Ht??ea,Lt):lt===ea?null:lt},Lt.size=function(Ht){return arguments.length?Lt.clipExtent(Ht&&[[0,0],Ht]):lt===ea?null:lt&&lt[1]},Lt};var ea=[[-1e6,-1e6],[1e6,1e6]];function au(fe,Le,Fe){return(fe.x-Fe.x)*(Le.y-fe.y)-(fe.x-Le.x)*(Fe.y-fe.y)}i.geom.delaunay=function(fe){return i.geom.voronoi().triangles(fe)},i.geom.quadtree=function(fe,Le,Fe,$e,nt){var lt=di,Lt=li,At;if(At=arguments.length)return lt=vf,Lt=Ja,At===3&&(nt=Fe,$e=Le,Fe=Le=0),Ht(fe);function Ht(Gt){var tr,Cr=rn(lt),Pr=rn(Lt),Jr,on,Rr,Br,Zr,un,vn,qr;if(Le!=null)Zr=Le,un=Fe,vn=$e,qr=nt;else if(vn=qr=-(Zr=un=1/0),Jr=[],on=[],Br=Gt.length,At)for(Rr=0;Rr<Br;++Rr)tr=Gt[Rr],tr.x<Zr&&(Zr=tr.x),tr.y<un&&(un=tr.y),tr.x>vn&&(vn=tr.x),tr.y>qr&&(qr=tr.y),Jr.push(tr.x),on.push(tr.y);else for(Rr=0;Rr<Br;++Rr){var Un=+Cr(tr=Gt[Rr],Rr),qn=+Pr(tr,Rr);Un<Zr&&(Zr=Un),qn<un&&(un=qn),Un>vn&&(vn=Un),qn>qr&&(qr=qn),Jr.push(Un),on.push(qn)}var ui=vn-Zr,Qn=qr-un;ui>Qn?qr=un+ui:vn=Zr+Qn;function ii(Si,Oi,ia,Na,fa,Zn,Hi,Ai){if(!(isNaN(ia)||isNaN(Na)))if(Si.leaf){var Ki=Si.x,Ta=Si.y;if(Ki!=null)if(d(Ki-ia)+d(Ta-Na)<.01)fi(Si,Oi,ia,Na,fa,Zn,Hi,Ai);else{var aa=Si.point;Si.x=Si.y=Si.point=null,fi(Si,aa,Ki,Ta,fa,Zn,Hi,Ai),fi(Si,Oi,ia,Na,fa,Zn,Hi,Ai)}else Si.x=ia,Si.y=Na,Si.point=Oi}else fi(Si,Oi,ia,Na,fa,Zn,Hi,Ai)}function fi(Si,Oi,ia,Na,fa,Zn,Hi,Ai){var Ki=(fa+Hi)*.5,Ta=(Zn+Ai)*.5,aa=ia>=Ki,qa=Na>=Ta,eo=qa<<1|aa;Si.leaf=!1,Si=Si.nodes[eo]||(Si.nodes[eo]=To()),aa?fa=Ki:Hi=Ki,qa?Zn=Ta:Ai=Ta,ii(Si,Oi,ia,Na,fa,Zn,Hi,Ai)}var Bi=To();if(Bi.add=function(Si){ii(Bi,Si,+Cr(Si,++Rr),+Pr(Si,Rr),Zr,un,vn,qr)},Bi.visit=function(Si){Ll(Si,Bi,Zr,un,vn,qr)},Bi.find=function(Si){return Nu(Bi,Si[0],Si[1],Zr,un,vn,qr)},Rr=-1,Le==null){for(;++Rr<Br;)ii(Bi,Gt[Rr],Jr[Rr],on[Rr],Zr,un,vn,qr);--Rr}else Gt.forEach(Bi.add);return Jr=on=Gt=tr=null,Bi}return Ht.x=function(Gt){return arguments.length?(lt=Gt,Ht):lt},Ht.y=function(Gt){return arguments.length?(Lt=Gt,Ht):Lt},Ht.extent=function(Gt){return arguments.length?(Gt==null?Le=Fe=$e=nt=null:(Le=+Gt[0][0],Fe=+Gt[0][1],$e=+Gt[1][0],nt=+Gt[1][1]),Ht):Le==null?null:[[Le,Fe],[$e,nt]]},Ht.size=function(Gt){return arguments.length?(Gt==null?Le=Fe=$e=nt=null:(Le=Fe=0,$e=+Gt[0],nt=+Gt[1]),Ht):Le==null?null:[$e-Le,nt-Fe]},Ht};function vf(fe){return fe.x}function Ja(fe){return fe.y}function To(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Ll(fe,Le,Fe,$e,nt,lt){if(!fe(Le,Fe,$e,nt,lt)){var Lt=(Fe+nt)*.5,At=($e+lt)*.5,Ht=Le.nodes;Ht[0]&&Ll(fe,Ht[0],Fe,$e,Lt,At),Ht[1]&&Ll(fe,Ht[1],Lt,$e,nt,At),Ht[2]&&Ll(fe,Ht[2],Fe,At,Lt,lt),Ht[3]&&Ll(fe,Ht[3],Lt,At,nt,lt)}}function Nu(fe,Le,Fe,$e,nt,lt,Lt){var At=1/0,Ht;return function Gt(tr,Cr,Pr,Jr,on){if(!(Cr>lt||Pr>Lt||Jr<$e||on<nt)){if(Rr=tr.point){var Rr,Br=Le-tr.x,Zr=Fe-tr.y,un=Br*Br+Zr*Zr;if(un<At){var vn=Math.sqrt(At=un);$e=Le-vn,nt=Fe-vn,lt=Le+vn,Lt=Fe+vn,Ht=Rr}}for(var qr=tr.nodes,Un=(Cr+Jr)*.5,qn=(Pr+on)*.5,ui=Le>=Un,Qn=Fe>=qn,ii=Qn<<1|ui,fi=ii+4;ii<fi;++ii)if(tr=qr[ii&3])switch(ii&3){case 0:Gt(tr,Cr,Pr,Un,qn);break;case 1:Gt(tr,Un,Pr,Jr,qn);break;case 2:Gt(tr,Cr,qn,Un,on);break;case 3:Gt(tr,Un,qn,Jr,on);break}}}(fe,$e,nt,lt,Lt),Ht}i.interpolateRgb=ka;function ka(fe,Le){fe=i.rgb(fe),Le=i.rgb(Le);var Fe=fe.r,$e=fe.g,nt=fe.b,lt=Le.r-Fe,Lt=Le.g-$e,At=Le.b-nt;return function(Ht){return"#"+pr(Math.round(Fe+lt*Ht))+pr(Math.round($e+Lt*Ht))+pr(Math.round(nt+At*Ht))}}i.interpolateObject=Pl;function Pl(fe,Le){var Fe={},$e={},nt;for(nt in fe)nt in Le?Fe[nt]=io(fe[nt],Le[nt]):$e[nt]=fe[nt];for(nt in Le)nt in fe||($e[nt]=Le[nt]);return function(lt){for(nt in Fe)$e[nt]=Fe[nt](lt);return $e}}i.interpolateNumber=Fa;function Fa(fe,Le){return fe=+fe,Le=+Le,function(Fe){return fe*(1-Fe)+Le*Fe}}i.interpolateString=Ga;function Ga(fe,Le){var Fe=Dl.lastIndex=no.lastIndex=0,$e,nt,lt,Lt=-1,At=[],Ht=[];for(fe=fe+"",Le=Le+"";($e=Dl.exec(fe))&&(nt=no.exec(Le));)(lt=nt.index)>Fe&&(lt=Le.slice(Fe,lt),At[Lt]?At[Lt]+=lt:At[++Lt]=lt),($e=$e[0])===(nt=nt[0])?At[Lt]?At[Lt]+=nt:At[++Lt]=nt:(At[++Lt]=null,Ht.push({i:Lt,x:Fa($e,nt)})),Fe=no.lastIndex;return Fe<Le.length&&(lt=Le.slice(Fe),At[Lt]?At[Lt]+=lt:At[++Lt]=lt),At.length<2?Ht[0]?(Le=Ht[0].x,function(Gt){return Le(Gt)+""}):function(){return Le}:(Le=Ht.length,function(Gt){for(var tr=0,Cr;tr<Le;++tr)At[(Cr=Ht[tr]).i]=Cr.x(Gt);return At.join("")})}var Dl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,no=new RegExp(Dl.source,"g");i.interpolate=io;function io(fe,Le){for(var Fe=i.interpolators.length,$e;--Fe>=0&&!($e=i.interpolators[Fe](fe,Le)););return $e}i.interpolators=[function(fe,Le){var Fe=typeof Le;return(Fe==="string"?cn.has(Le.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Le)?ka:Ga:Le instanceof yt?ka:Array.isArray(Le)?Bo:Fe==="object"&&isNaN(Le)?Pl:Fa)(fe,Le)}],i.interpolateArray=Bo;function Bo(fe,Le){var Fe=[],$e=[],nt=fe.length,lt=Le.length,Lt=Math.min(fe.length,Le.length),At;for(At=0;At<Lt;++At)Fe.push(io(fe[At],Le[At]));for(;At<nt;++At)$e[At]=fe[At];for(;At<lt;++At)$e[At]=Le[At];return function(Ht){for(At=0;At<Lt;++At)$e[At]=Fe[At](Ht);return $e}}var qf=function(){return N},Ro=i.map({linear:qf,poly:ec,quad:function(){return Hs},cubic:function(){return ps},sin:function(){return oh},exp:function(){return Bu},circle:function(){return sh},elastic:lh,back:uh,bounce:function(){return gf}}),ah=i.map({in:N,out:Qa,"in-out":df,"out-in":function(fe){return df(Qa(fe))}});i.ease=function(fe){var Le=fe.indexOf("-"),Fe=Le>=0?fe.slice(0,Le):fe,$e=Le>=0?fe.slice(Le+1):"in";return Fe=Ro.get(Fe)||qf,$e=ah.get($e)||N,ds($e(Fe.apply(null,S.call(arguments,1))))};function ds(fe){return function(Le){return Le<=0?0:Le>=1?1:fe(Le)}}function Qa(fe){return function(Le){return 1-fe(1-Le)}}function df(fe){return function(Le){return .5*(Le<.5?fe(2*Le):2-fe(2-2*Le))}}function Hs(fe){return fe*fe}function ps(fe){return fe*fe*fe}function pf(fe){if(fe<=0)return 0;if(fe>=1)return 1;var Le=fe*fe,Fe=Le*fe;return 4*(fe<.5?Fe:3*(fe-Le)+Fe-.75)}function ec(fe){return function(Le){return Math.pow(Le,fe)}}function oh(fe){return 1-Math.cos(fe*tt)}function Bu(fe){return Math.pow(2,10*(fe-1))}function sh(fe){return 1-Math.sqrt(1-fe*fe)}function lh(fe,Le){var Fe;return arguments.length<2&&(Le=.45),arguments.length?Fe=Le/Ne*Math.asin(1/fe):(fe=1,Fe=Le/4),function($e){return 1+fe*Math.pow(2,-10*$e)*Math.sin(($e-Fe)*Ne/Le)}}function uh(fe){return fe||(fe=1.70158),function(Le){return Le*Le*((fe+1)*Le-fe)}}function gf(fe){return fe<.36363636363636365?7.5625*fe*fe:fe<.7272727272727273?7.5625*(fe-=.5454545454545454)*fe+.75:fe<.9090909090909091?7.5625*(fe-=.8181818181818182)*fe+.9375:7.5625*(fe-=.9545454545454546)*fe+.984375}i.interpolateHcl=fh;function fh(fe,Le){fe=i.hcl(fe),Le=i.hcl(Le);var Fe=fe.h,$e=fe.c,nt=fe.l,lt=Le.h-Fe,Lt=Le.c-$e,At=Le.l-nt;return isNaN(Lt)&&(Lt=0,$e=isNaN($e)?Le.c:$e),isNaN(lt)?(lt=0,Fe=isNaN(Fe)?Le.h:Fe):lt>180?lt-=360:lt<-180&&(lt+=360),function(Ht){return Ut(Fe+lt*Ht,$e+Lt*Ht,nt+At*Ht)+""}}i.interpolateHsl=ch;function ch(fe,Le){fe=i.hsl(fe),Le=i.hsl(Le);var Fe=fe.h,$e=fe.s,nt=fe.l,lt=Le.h-Fe,Lt=Le.s-$e,At=Le.l-nt;return isNaN(Lt)&&(Lt=0,$e=isNaN($e)?Le.s:$e),isNaN(lt)?(lt=0,Fe=isNaN(Fe)?Le.h:Fe):lt>180?lt-=360:lt<-180&&(lt+=360),function(Ht){return Et(Fe+lt*Ht,$e+Lt*Ht,nt+At*Ht)+""}}i.interpolateLab=tc;function tc(fe,Le){fe=i.lab(fe),Le=i.lab(Le);var Fe=fe.l,$e=fe.a,nt=fe.b,lt=Le.l-Fe,Lt=Le.a-$e,At=Le.b-nt;return function(Ht){return He(Fe+lt*Ht,$e+Lt*Ht,nt+At*Ht)+""}}i.interpolateRound=rc;function rc(fe,Le){return Le-=fe,function(Fe){return Math.round(fe+Le*Fe)}}i.transform=function(fe){var Le=v.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(Fe){if(Fe!=null){Le.setAttribute("transform",Fe);var $e=Le.transform.baseVal.consolidate()}return new sl($e?$e.matrix:nc)})(fe)};function sl(fe){var Le=[fe.a,fe.b],Fe=[fe.c,fe.d],$e=ou(Le),nt=Rl(Le,Fe),lt=ou(su(Fe,Le,-nt))||0;Le[0]*Fe[1]<Fe[0]*Le[1]&&(Le[0]*=-1,Le[1]*=-1,$e*=-1,nt*=-1),this.rotate=($e?Math.atan2(Le[1],Le[0]):Math.atan2(-Fe[0],Fe[1]))*pt,this.translate=[fe.e,fe.f],this.scale=[$e,lt],this.skew=lt?Math.atan2(nt,lt)*pt:0}sl.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Rl(fe,Le){return fe[0]*Le[0]+fe[1]*Le[1]}function ou(fe){var Le=Math.sqrt(Rl(fe,fe));return Le&&(fe[0]/=Le,fe[1]/=Le),Le}function su(fe,Le,Fe){return fe[0]+=Fe*Le[0],fe[1]+=Fe*Le[1],fe}var nc={a:1,b:0,c:0,d:1,e:0,f:0};i.interpolateTransform=Vu;function Ls(fe){return fe.length?fe.pop()+",":""}function hh(fe,Le,Fe,$e){if(fe[0]!==Le[0]||fe[1]!==Le[1]){var nt=Fe.push("translate(",null,",",null,")");$e.push({i:nt-4,x:Fa(fe[0],Le[0])},{i:nt-2,x:Fa(fe[1],Le[1])})}else(Le[0]||Le[1])&&Fe.push("translate("+Le+")")}function Uu(fe,Le,Fe,$e){fe!==Le?(fe-Le>180?Le+=360:Le-fe>180&&(fe+=360),$e.push({i:Fe.push(Ls(Fe)+"rotate(",null,")")-2,x:Fa(fe,Le)})):Le&&Fe.push(Ls(Fe)+"rotate("+Le+")")}function ic(fe,Le,Fe,$e){fe!==Le?$e.push({i:Fe.push(Ls(Fe)+"skewX(",null,")")-2,x:Fa(fe,Le)}):Le&&Fe.push(Ls(Fe)+"skewX("+Le+")")}function ac(fe,Le,Fe,$e){if(fe[0]!==Le[0]||fe[1]!==Le[1]){var nt=Fe.push(Ls(Fe)+"scale(",null,",",null,")");$e.push({i:nt-4,x:Fa(fe[0],Le[0])},{i:nt-2,x:Fa(fe[1],Le[1])})}else(Le[0]!==1||Le[1]!==1)&&Fe.push(Ls(Fe)+"scale("+Le+")")}function Vu(fe,Le){var Fe=[],$e=[];return fe=i.transform(fe),Le=i.transform(Le),hh(fe.translate,Le.translate,Fe,$e),Uu(fe.rotate,Le.rotate,Fe,$e),ic(fe.skew,Le.skew,Fe,$e),ac(fe.scale,Le.scale,Fe,$e),fe=Le=null,function(nt){for(var lt=-1,Lt=$e.length,At;++lt<Lt;)Fe[(At=$e[lt]).i]=At.x(nt);return Fe.join("")}}function Qo(fe,Le){return Le=(Le-=fe=+fe)||1/Le,function(Fe){return(Fe-fe)/Le}}function Il(fe,Le){return Le=(Le-=fe=+fe)||1/Le,function(Fe){return Math.max(0,Math.min(1,(Fe-fe)/Le))}}i.layout={},i.layout.bundle=function(){return function(fe){for(var Le=[],Fe=-1,$e=fe.length;++Fe<$e;)Le.push(ll(fe[Fe]));return Le}};function ll(fe){for(var Le=fe.source,Fe=fe.target,$e=Gs(Le,Fe),nt=[Le];Le!==$e;)Le=Le.parent,nt.push(Le);for(var lt=nt.length;Fe!==$e;)nt.splice(lt,0,Fe),Fe=Fe.parent;return nt}function lu(fe){for(var Le=[],Fe=fe.parent;Fe!=null;)Le.push(fe),fe=Fe,Fe=Fe.parent;return Le.push(fe),Le}function Gs(fe,Le){if(fe===Le)return fe;for(var Fe=lu(fe),$e=lu(Le),nt=Fe.pop(),lt=$e.pop(),Lt=null;nt===lt;)Lt=nt,nt=Fe.pop(),lt=$e.pop();return Lt}i.layout.chord=function(){var fe={},Le,Fe,$e,nt,lt=0,Lt,At,Ht;function Gt(){var Cr={},Pr=[],Jr=i.range(nt),on=[],Rr,Br,Zr,un,vn;for(Le=[],Fe=[],Rr=0,un=-1;++un<nt;){for(Br=0,vn=-1;++vn<nt;)Br+=$e[un][vn];Pr.push(Br),on.push(i.range(nt)),Rr+=Br}for(Lt&&Jr.sort(function(Bi,Si){return Lt(Pr[Bi],Pr[Si])}),At&&on.forEach(function(Bi,Si){Bi.sort(function(Oi,ia){return At($e[Si][Oi],$e[Si][ia])})}),Rr=(Ne-lt*nt)/Rr,Br=0,un=-1;++un<nt;){for(Zr=Br,vn=-1;++vn<nt;){var qr=Jr[un],Un=on[qr][vn],qn=$e[qr][Un],ui=Br,Qn=Br+=qn*Rr;Cr[qr+"-"+Un]={index:qr,subindex:Un,startAngle:ui,endAngle:Qn,value:qn}}Fe[qr]={index:qr,startAngle:Zr,endAngle:Br,value:Pr[qr]},Br+=lt}for(un=-1;++un<nt;)for(vn=un-1;++vn<nt;){var ii=Cr[un+"-"+vn],fi=Cr[vn+"-"+un];(ii.value||fi.value)&&Le.push(ii.value<fi.value?{source:fi,target:ii}:{source:ii,target:fi})}Ht&&tr()}function tr(){Le.sort(function(Cr,Pr){return Ht((Cr.source.value+Cr.target.value)/2,(Pr.source.value+Pr.target.value)/2)})}return fe.matrix=function(Cr){return arguments.length?(nt=($e=Cr)&&$e.length,Le=Fe=null,fe):$e},fe.padding=function(Cr){return arguments.length?(lt=Cr,Le=Fe=null,fe):lt},fe.sortGroups=function(Cr){return arguments.length?(Lt=Cr,Le=Fe=null,fe):Lt},fe.sortSubgroups=function(Cr){return arguments.length?(At=Cr,Le=null,fe):At},fe.sortChords=function(Cr){return arguments.length?(Ht=Cr,Le&&tr(),fe):Ht},fe.chords=function(){return Le||Gt(),Le},fe.groups=function(){return Fe||Gt(),Fe},fe},i.layout.force=function(){var fe={},Le=i.dispatch("start","tick","end"),Fe,$e=[1,1],nt,lt,Lt=.9,At=mf,Ht=vh,Gt=-30,tr=Hu,Cr=.1,Pr=.64,Jr=[],on=[],Rr,Br,Zr;function un(qr){return function(Un,qn,ui,Qn){if(Un.point!==qr){var ii=Un.cx-qr.x,fi=Un.cy-qr.y,Bi=Qn-qn,Si=ii*ii+fi*fi;if(Bi*Bi/Pr<Si){if(Si<tr){var Oi=Un.charge/Si;qr.px-=ii*Oi,qr.py-=fi*Oi}return!0}if(Un.point&&Si&&Si<tr){var Oi=Un.pointCharge/Si;qr.px-=ii*Oi,qr.py-=fi*Oi}}return!Un.charge}}fe.tick=function(){if((lt*=.99)<.005)return Fe=null,Le.end({type:"end",alpha:lt=0}),!0;var qr=Jr.length,Un=on.length,qn,ui,Qn,ii,fi,Bi,Si,Oi,ia;for(ui=0;ui<Un;++ui)Qn=on[ui],ii=Qn.source,fi=Qn.target,Oi=fi.x-ii.x,ia=fi.y-ii.y,(Bi=Oi*Oi+ia*ia)&&(Bi=lt*Br[ui]*((Bi=Math.sqrt(Bi))-Rr[ui])/Bi,Oi*=Bi,ia*=Bi,fi.x-=Oi*(Si=ii.weight+fi.weight?ii.weight/(ii.weight+fi.weight):.5),fi.y-=ia*Si,ii.x+=Oi*(Si=1-Si),ii.y+=ia*Si);if((Si=lt*Cr)&&(Oi=$e[0]/2,ia=$e[1]/2,ui=-1,Si))for(;++ui<qr;)Qn=Jr[ui],Qn.x+=(Oi-Qn.x)*Si,Qn.y+=(ia-Qn.y)*Si;if(Gt)for(Ra(qn=i.geom.quadtree(Jr),lt,Zr),ui=-1;++ui<qr;)(Qn=Jr[ui]).fixed||qn.visit(un(Qn));for(ui=-1;++ui<qr;)Qn=Jr[ui],Qn.fixed?(Qn.x=Qn.px,Qn.y=Qn.py):(Qn.x-=(Qn.px-(Qn.px=Qn.x))*Lt,Qn.y-=(Qn.py-(Qn.py=Qn.y))*Lt);Le.tick({type:"tick",alpha:lt})},fe.nodes=function(qr){return arguments.length?(Jr=qr,fe):Jr},fe.links=function(qr){return arguments.length?(on=qr,fe):on},fe.size=function(qr){return arguments.length?($e=qr,fe):$e},fe.linkDistance=function(qr){return arguments.length?(At=typeof qr=="function"?qr:+qr,fe):At},fe.distance=fe.linkDistance,fe.linkStrength=function(qr){return arguments.length?(Ht=typeof qr=="function"?qr:+qr,fe):Ht},fe.friction=function(qr){return arguments.length?(Lt=+qr,fe):Lt},fe.charge=function(qr){return arguments.length?(Gt=typeof qr=="function"?qr:+qr,fe):Gt},fe.chargeDistance=function(qr){return arguments.length?(tr=qr*qr,fe):Math.sqrt(tr)},fe.gravity=function(qr){return arguments.length?(Cr=+qr,fe):Cr},fe.theta=function(qr){return arguments.length?(Pr=qr*qr,fe):Math.sqrt(Pr)},fe.alpha=function(qr){return arguments.length?(qr=+qr,lt?qr>0?lt=qr:(Fe.c=null,Fe.t=NaN,Fe=null,Le.end({type:"end",alpha:lt=0})):qr>0&&(Le.start({type:"start",alpha:lt=qr}),Fe=En(fe.tick)),fe):lt},fe.start=function(){var qr,Un=Jr.length,qn=on.length,ui=$e[0],Qn=$e[1],ii,fi;for(qr=0;qr<Un;++qr)(fi=Jr[qr]).index=qr,fi.weight=0;for(qr=0;qr<qn;++qr)fi=on[qr],typeof fi.source=="number"&&(fi.source=Jr[fi.source]),typeof fi.target=="number"&&(fi.target=Jr[fi.target]),++fi.source.weight,++fi.target.weight;for(qr=0;qr<Un;++qr)fi=Jr[qr],isNaN(fi.x)&&(fi.x=Bi("x",ui)),isNaN(fi.y)&&(fi.y=Bi("y",Qn)),isNaN(fi.px)&&(fi.px=fi.x),isNaN(fi.py)&&(fi.py=fi.y);if(Rr=[],typeof At=="function")for(qr=0;qr<qn;++qr)Rr[qr]=+At.call(this,on[qr],qr);else for(qr=0;qr<qn;++qr)Rr[qr]=At;if(Br=[],typeof Ht=="function")for(qr=0;qr<qn;++qr)Br[qr]=+Ht.call(this,on[qr],qr);else for(qr=0;qr<qn;++qr)Br[qr]=Ht;if(Zr=[],typeof Gt=="function")for(qr=0;qr<Un;++qr)Zr[qr]=+Gt.call(this,Jr[qr],qr);else for(qr=0;qr<Un;++qr)Zr[qr]=Gt;function Bi(Si,Oi){if(!ii){for(ii=new Array(Un),fa=0;fa<Un;++fa)ii[fa]=[];for(fa=0;fa<qn;++fa){var ia=on[fa];ii[ia.source.index].push(ia.target),ii[ia.target.index].push(ia.source)}}for(var Na=ii[qr],fa=-1,Zn=Na.length,Hi;++fa<Zn;)if(!isNaN(Hi=Na[fa][Si]))return Hi;return Math.random()*Oi}return fe.resume()},fe.resume=function(){return fe.alpha(.1)},fe.stop=function(){return fe.alpha(0)},fe.drag=function(){if(nt||(nt=i.behavior.drag().origin(N).on("dragstart.force",gs).on("drag.force",vn).on("dragend.force",yf)),!arguments.length)return nt;this.on("mouseover.force",_l).on("mouseout.force",$o).call(nt)};function vn(qr){qr.px=i.event.x,qr.py=i.event.y,fe.resume()}return i.rebind(fe,Le,"on")};function gs(fe){fe.fixed|=2}function yf(fe){fe.fixed&=-7}function _l(fe){fe.fixed|=4,fe.px=fe.x,fe.py=fe.y}function $o(fe){fe.fixed&=-5}function Ra(fe,Le,Fe){var $e=0,nt=0;if(fe.charge=0,!fe.leaf)for(var lt=fe.nodes,Lt=lt.length,At=-1,Ht;++At<Lt;)Ht=lt[At],Ht!=null&&(Ra(Ht,Le,Fe),fe.charge+=Ht.charge,$e+=Ht.charge*Ht.cx,nt+=Ht.charge*Ht.cy);if(fe.point){fe.leaf||(fe.point.x+=Math.random()-.5,fe.point.y+=Math.random()-.5);var Gt=Le*Fe[fe.point.index];fe.charge+=fe.pointCharge=Gt,$e+=Gt*fe.point.x,nt+=Gt*fe.point.y}fe.cx=$e/fe.charge,fe.cy=nt/fe.charge}var mf=20,vh=1,Hu=1/0;i.layout.hierarchy=function(){var fe=Wu,Le=Gu,Fe=zl;function $e(nt){var lt=[nt],Lt=[],At;for(nt.depth=0;(At=lt.pop())!=null;)if(Lt.push(At),(Gt=Le.call($e,At,At.depth))&&(Ht=Gt.length)){for(var Ht,Gt,tr;--Ht>=0;)lt.push(tr=Gt[Ht]),tr.parent=At,tr.depth=At.depth+1;Fe&&(At.value=0),At.children=Gt}else Fe&&(At.value=+Fe.call($e,At,At.depth)||0),delete At.children;return Io(nt,function(Cr){var Pr,Jr;fe&&(Pr=Cr.children)&&Pr.sort(fe),Fe&&(Jr=Cr.parent)&&(Jr.value+=Cr.value)}),Lt}return $e.sort=function(nt){return arguments.length?(fe=nt,$e):fe},$e.children=function(nt){return arguments.length?(Le=nt,$e):Le},$e.value=function(nt){return arguments.length?(Fe=nt,$e):Fe},$e.revalue=function(nt){return Fe&&(Ol(nt,function(lt){lt.children&&(lt.value=0)}),Io(nt,function(lt){var Lt;lt.children||(lt.value=+Fe.call($e,lt,lt.depth)||0),(Lt=lt.parent)&&(Lt.value+=lt.value)})),nt},$e};function kl(fe,Le){return i.rebind(fe,Le,"sort","children","value"),fe.nodes=fe,fe.links=dh,fe}function Ol(fe,Le){for(var Fe=[fe];(fe=Fe.pop())!=null;)if(Le(fe),(nt=fe.children)&&($e=nt.length))for(var $e,nt;--$e>=0;)Fe.push(nt[$e])}function Io(fe,Le){for(var Fe=[fe],$e=[];(fe=Fe.pop())!=null;)if($e.push(fe),(Lt=fe.children)&&(lt=Lt.length))for(var nt=-1,lt,Lt;++nt<lt;)Fe.push(Lt[nt]);for(;(fe=$e.pop())!=null;)Le(fe)}function Gu(fe){return fe.children}function zl(fe){return fe.value}function Wu(fe,Le){return Le.value-fe.value}function dh(fe){return i.merge(fe.map(function(Le){return(Le.children||[]).map(function(Fe){return{source:Le,target:Fe}})}))}i.layout.partition=function(){var fe=i.layout.hierarchy(),Le=[1,1];function Fe(lt,Lt,At,Ht){var Gt=lt.children;if(lt.x=Lt,lt.y=lt.depth*Ht,lt.dx=At,lt.dy=Ht,Gt&&(Cr=Gt.length)){var tr=-1,Cr,Pr,Jr;for(At=lt.value?At/lt.value:0;++tr<Cr;)Fe(Pr=Gt[tr],Lt,Jr=Pr.value*At,Ht),Lt+=Jr}}function $e(lt){var Lt=lt.children,At=0;if(Lt&&(Gt=Lt.length))for(var Ht=-1,Gt;++Ht<Gt;)At=Math.max(At,$e(Lt[Ht]));return 1+At}function nt(lt,Lt){var At=fe.call(this,lt,Lt);return Fe(At[0],0,Le[0],Le[1]/$e(At[0])),At}return nt.size=function(lt){return arguments.length?(Le=lt,nt):Le},kl(nt,fe)},i.layout.pie=function(){var fe=Number,Le=oc,Fe=0,$e=Ne,nt=0;function lt(Lt){var At=Lt.length,Ht=Lt.map(function(un,vn){return+fe.call(lt,un,vn)}),Gt=+(typeof Fe=="function"?Fe.apply(this,arguments):Fe),tr=(typeof $e=="function"?$e.apply(this,arguments):$e)-Gt,Cr=Math.min(Math.abs(tr)/At,+(typeof nt=="function"?nt.apply(this,arguments):nt)),Pr=Cr*(tr<0?-1:1),Jr=i.sum(Ht),on=Jr?(tr-At*Pr)/Jr:0,Rr=i.range(At),Br=[],Zr;return Le!=null&&Rr.sort(Le===oc?function(un,vn){return Ht[vn]-Ht[un]}:function(un,vn){return Le(Lt[un],Lt[vn])}),Rr.forEach(function(un){Br[un]={data:Lt[un],value:Zr=Ht[un],startAngle:Gt,endAngle:Gt+=Zr*on+Pr,padAngle:Cr}}),Br}return lt.value=function(Lt){return arguments.length?(fe=Lt,lt):fe},lt.sort=function(Lt){return arguments.length?(Le=Lt,lt):Le},lt.startAngle=function(Lt){return arguments.length?(Fe=Lt,lt):Fe},lt.endAngle=function(Lt){return arguments.length?($e=Lt,lt):$e},lt.padAngle=function(Lt){return arguments.length?(nt=Lt,lt):nt},lt};var oc={};i.layout.stack=function(){var fe=N,Le=uu,Fe=Yu,$e=wf,nt=xf,lt=bf;function Lt(At,Ht){if(!(on=At.length))return At;var Gt=At.map(function(un,vn){return fe.call(Lt,un,vn)}),tr=Gt.map(function(un){return un.map(function(vn,qr){return[nt.call(Lt,vn,qr),lt.call(Lt,vn,qr)]})}),Cr=Le.call(Lt,tr,Ht);Gt=i.permute(Gt,Cr),tr=i.permute(tr,Cr);var Pr=Fe.call(Lt,tr,Ht),Jr=Gt[0].length,on,Rr,Br,Zr;for(Br=0;Br<Jr;++Br)for($e.call(Lt,Gt[0][Br],Zr=Pr[Br],tr[0][Br][1]),Rr=1;Rr<on;++Rr)$e.call(Lt,Gt[Rr][Br],Zr+=tr[Rr-1][Br][1],tr[Rr][Br][1]);return At}return Lt.values=function(At){return arguments.length?(fe=At,Lt):fe},Lt.order=function(At){return arguments.length?(Le=typeof At=="function"?At:Fl.get(At)||uu,Lt):Le},Lt.offset=function(At){return arguments.length?(Fe=typeof At=="function"?At:Xu.get(At)||Yu,Lt):Fe},Lt.x=function(At){return arguments.length?(nt=At,Lt):nt},Lt.y=function(At){return arguments.length?(lt=At,Lt):lt},Lt.out=function(At){return arguments.length?($e=At,Lt):$e},Lt};function xf(fe){return fe.x}function bf(fe){return fe.y}function wf(fe,Le,Fe){fe.y0=Le,fe.y=Fe}var Fl=i.map({"inside-out":function(fe){var Le=fe.length,Fe,$e,nt=fe.map(ya),lt=fe.map(sc),Lt=i.range(Le).sort(function(Cr,Pr){return nt[Cr]-nt[Pr]}),At=0,Ht=0,Gt=[],tr=[];for(Fe=0;Fe<Le;++Fe)$e=Lt[Fe],At<Ht?(At+=lt[$e],Gt.push($e)):(Ht+=lt[$e],tr.push($e));return tr.reverse().concat(Gt)},reverse:function(fe){return i.range(fe.length).reverse()},default:uu}),Xu=i.map({silhouette:function(fe){var Le=fe.length,Fe=fe[0].length,$e=[],nt=0,lt,Lt,At,Ht=[];for(Lt=0;Lt<Fe;++Lt){for(lt=0,At=0;lt<Le;lt++)At+=fe[lt][Lt][1];At>nt&&(nt=At),$e.push(At)}for(Lt=0;Lt<Fe;++Lt)Ht[Lt]=(nt-$e[Lt])/2;return Ht},wiggle:function(fe){var Le=fe.length,Fe=fe[0],$e=Fe.length,nt,lt,Lt,At,Ht,Gt,tr,Cr,Pr,Jr=[];for(Jr[0]=Cr=Pr=0,lt=1;lt<$e;++lt){for(nt=0,At=0;nt<Le;++nt)At+=fe[nt][lt][1];for(nt=0,Ht=0,tr=Fe[lt][0]-Fe[lt-1][0];nt<Le;++nt){for(Lt=0,Gt=(fe[nt][lt][1]-fe[nt][lt-1][1])/(2*tr);Lt<nt;++Lt)Gt+=(fe[Lt][lt][1]-fe[Lt][lt-1][1])/tr;Ht+=Gt*fe[nt][lt][1]}Jr[lt]=Cr-=At?Ht/At*tr:0,Cr<Pr&&(Pr=Cr)}for(lt=0;lt<$e;++lt)Jr[lt]-=Pr;return Jr},expand:function(fe){var Le=fe.length,Fe=fe[0].length,$e=1/Le,nt,lt,Lt,At=[];for(lt=0;lt<Fe;++lt){for(nt=0,Lt=0;nt<Le;nt++)Lt+=fe[nt][lt][1];if(Lt)for(nt=0;nt<Le;nt++)fe[nt][lt][1]/=Lt;else for(nt=0;nt<Le;nt++)fe[nt][lt][1]=$e}for(lt=0;lt<Fe;++lt)At[lt]=0;return At},zero:Yu});function uu(fe){return i.range(fe.length)}function Yu(fe){for(var Le=-1,Fe=fe[0].length,$e=[];++Le<Fe;)$e[Le]=0;return $e}function ya(fe){for(var Le=1,Fe=0,$e=fe[0][1],nt,lt=fe.length;Le<lt;++Le)(nt=fe[Le][1])>$e&&(Fe=Le,$e=nt);return Fe}function sc(fe){return fe.reduce(qo,0)}function qo(fe,Le){return fe+Le[1]}i.layout.histogram=function(){var fe=!0,Le=Number,Fe=ul,$e=lc;function nt(lt,Pr){for(var At=[],Ht=lt.map(Le,this),Gt=Fe.call(this,Ht,Pr),tr=$e.call(this,Gt,Ht,Pr),Cr,Pr=-1,Jr=Ht.length,on=tr.length-1,Rr=fe?1:1/Jr,Br;++Pr<on;)Cr=At[Pr]=[],Cr.dx=tr[Pr+1]-(Cr.x=tr[Pr]),Cr.y=0;if(on>0)for(Pr=-1;++Pr<Jr;)Br=Ht[Pr],Br>=Gt[0]&&Br<=Gt[1]&&(Cr=At[i.bisect(tr,Br,1,on)-1],Cr.y+=Rr,Cr.push(lt[Pr]));return At}return nt.value=function(lt){return arguments.length?(Le=lt,nt):Le},nt.range=function(lt){return arguments.length?(Fe=rn(lt),nt):Fe},nt.bins=function(lt){return arguments.length?($e=typeof lt=="number"?function(Lt){return Tf(Lt,lt)}:rn(lt),nt):$e},nt.frequency=function(lt){return arguments.length?(fe=!!lt,nt):fe},nt};function lc(fe,Le){return Tf(fe,Math.ceil(Math.log(Le.length)/Math.LN2+1))}function Tf(fe,Le){for(var Fe=-1,$e=+fe[0],nt=(fe[1]-$e)/Le,lt=[];++Fe<=Le;)lt[Fe]=nt*Fe+$e;return lt}function ul(fe){return[i.min(fe),i.max(fe)]}i.layout.pack=function(){var fe=i.layout.hierarchy().sort(Ws),Le=0,Fe=[1,1],$e;function nt(lt,Lt){var At=fe.call(this,lt,Lt),Ht=At[0],Gt=Fe[0],tr=Fe[1],Cr=$e==null?Math.sqrt:typeof $e=="function"?$e:function(){return $e};if(Ht.x=Ht.y=0,Io(Ht,function(Jr){Jr.r=+Cr(Jr.value)}),Io(Ht,es),Le){var Pr=Le*($e?1:Math.max(2*Ht.r/Gt,2*Ht.r/tr))/2;Io(Ht,function(Jr){Jr.r+=Pr}),Io(Ht,es),Io(Ht,function(Jr){Jr.r-=Pr})}return Xs(Ht,Gt/2,tr/2,$e?1:1/Math.max(2*Ht.r/Gt,2*Ht.r/tr)),At}return nt.size=function(lt){return arguments.length?(Fe=lt,nt):Fe},nt.radius=function(lt){return arguments.length?($e=lt==null||typeof lt=="function"?lt:+lt,nt):$e},nt.padding=function(lt){return arguments.length?(Le=+lt,nt):Le},kl(nt,fe)};function Ws(fe,Le){return fe.value-Le.value}function ju(fe,Le){var Fe=fe._pack_next;fe._pack_next=Le,Le._pack_prev=fe,Le._pack_next=Fe,Fe._pack_prev=Le}function Oa(fe,Le){fe._pack_next=Le,Le._pack_prev=fe}function fu(fe,Le){var Fe=Le.x-fe.x,$e=Le.y-fe.y,nt=fe.r+Le.r;return .999*nt*nt>Fe*Fe+$e*$e}function es(fe){if(!(Le=fe.children)||!(Pr=Le.length))return;var Le,Fe=1/0,$e=-1/0,nt=1/0,lt=-1/0,Lt,At,Ht,Gt,tr,Cr,Pr;function Jr(qr){Fe=Math.min(qr.x-qr.r,Fe),$e=Math.max(qr.x+qr.r,$e),nt=Math.min(qr.y-qr.r,nt),lt=Math.max(qr.y+qr.r,lt)}if(Le.forEach(Ps),Lt=Le[0],Lt.x=-Lt.r,Lt.y=0,Jr(Lt),Pr>1&&(At=Le[1],At.x=At.r,At.y=0,Jr(At),Pr>2))for(Ht=Le[2],ts(Lt,At,Ht),Jr(Ht),ju(Lt,Ht),Lt._pack_prev=Ht,ju(Ht,At),At=Lt._pack_next,Gt=3;Gt<Pr;Gt++){ts(Lt,At,Ht=Le[Gt]);var on=0,Rr=1,Br=1;for(tr=At._pack_next;tr!==At;tr=tr._pack_next,Rr++)if(fu(tr,Ht)){on=1;break}if(on==1)for(Cr=Lt._pack_prev;Cr!==tr._pack_prev&&!fu(Cr,Ht);Cr=Cr._pack_prev,Br++);on?(Rr<Br||Rr==Br&&At.r<Lt.r?Oa(Lt,At=tr):Oa(Lt=Cr,At),Gt--):(ju(Lt,Ht),At=Ht,Jr(Ht))}var Zr=(Fe+$e)/2,un=(nt+lt)/2,vn=0;for(Gt=0;Gt<Pr;Gt++)Ht=Le[Gt],Ht.x-=Zr,Ht.y-=un,vn=Math.max(vn,Ht.r+Math.sqrt(Ht.x*Ht.x+Ht.y*Ht.y));fe.r=vn,Le.forEach(fl)}function Ps(fe){fe._pack_next=fe._pack_prev=fe}function fl(fe){delete fe._pack_next,delete fe._pack_prev}function Xs(fe,Le,Fe,$e){var nt=fe.children;if(fe.x=Le+=$e*fe.x,fe.y=Fe+=$e*fe.y,fe.r*=$e,nt)for(var lt=-1,Lt=nt.length;++lt<Lt;)Xs(nt[lt],Le,Fe,$e)}function ts(fe,Le,Fe){var $e=fe.r+Fe.r,nt=Le.x-fe.x,lt=Le.y-fe.y;if($e&&(nt||lt)){var Lt=Le.r+Fe.r,At=nt*nt+lt*lt;Lt*=Lt,$e*=$e;var Ht=.5+($e-Lt)/(2*At),Gt=Math.sqrt(Math.max(0,2*Lt*($e+At)-($e-=At)*$e-Lt*Lt))/(2*At);Fe.x=fe.x+Ht*nt+Gt*lt,Fe.y=fe.y+Ht*lt-Gt*nt}else Fe.x=fe.x+$e,Fe.y=fe.y}i.layout.tree=function(){var fe=i.layout.hierarchy().sort(null).value(null),Le=Ds,Fe=[1,1],$e=null;function nt(tr,Cr){var Pr=fe.call(this,tr,Cr),Jr=Pr[0],on=lt(Jr);if(Io(on,Lt),on.parent.m=-on.z,Ol(on,At),$e)Ol(Jr,Gt);else{var Rr=Jr,Br=Jr,Zr=Jr;Ol(Jr,function(Un){Un.x<Rr.x&&(Rr=Un),Un.x>Br.x&&(Br=Un),Un.depth>Zr.depth&&(Zr=Un)});var un=Le(Rr,Br)/2-Rr.x,vn=Fe[0]/(Br.x+Le(Br,Rr)/2+un),qr=Fe[1]/(Zr.depth||1);Ol(Jr,function(Un){Un.x=(Un.x+un)*vn,Un.y=Un.depth*qr})}return Pr}function lt(tr){for(var Cr={A:null,children:[tr]},Pr=[Cr],Jr;(Jr=Pr.pop())!=null;)for(var on=Jr.children,Rr,Br=0,Zr=on.length;Br<Zr;++Br)Pr.push((on[Br]=Rr={_:on[Br],parent:Jr,children:(Rr=on[Br].children)&&Rr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Br}).a=Rr);return Cr.children[0]}function Lt(tr){var Cr=tr.children,Pr=tr.parent.children,Jr=tr.i?Pr[tr.i-1]:null;if(Cr.length){ph(tr);var on=(Cr[0].z+Cr[Cr.length-1].z)/2;Jr?(tr.z=Jr.z+Le(tr._,Jr._),tr.m=tr.z-on):tr.z=on}else Jr&&(tr.z=Jr.z+Le(tr._,Jr._));tr.parent.A=Ht(tr,Jr,tr.parent.A||Pr[0])}function At(tr){tr._.x=tr.z+tr.parent.m,tr.m+=tr.parent.m}function Ht(tr,Cr,Pr){if(Cr){for(var Jr=tr,on=tr,Rr=Cr,Br=Jr.parent.children[0],Zr=Jr.m,un=on.m,vn=Rr.m,qr=Br.m,Un;Rr=Wo(Rr),Jr=rs(Jr),Rr&&Jr;)Br=rs(Br),on=Wo(on),on.a=tr,Un=Rr.z+vn-Jr.z-Zr+Le(Rr._,Jr._),Un>0&&(cu(gh(Rr,tr,Pr),tr,Un),Zr+=Un,un+=Un),vn+=Rr.m,Zr+=Jr.m,qr+=Br.m,un+=on.m;Rr&&!Wo(on)&&(on.t=Rr,on.m+=vn-un),Jr&&!rs(Br)&&(Br.t=Jr,Br.m+=Zr-qr,Pr=tr)}return Pr}function Gt(tr){tr.x*=Fe[0],tr.y=tr.depth*Fe[1]}return nt.separation=function(tr){return arguments.length?(Le=tr,nt):Le},nt.size=function(tr){return arguments.length?($e=(Fe=tr)==null?Gt:null,nt):$e?null:Fe},nt.nodeSize=function(tr){return arguments.length?($e=(Fe=tr)==null?null:Gt,nt):$e?Fe:null},kl(nt,fe)};function Ds(fe,Le){return fe.parent==Le.parent?1:2}function rs(fe){var Le=fe.children;return Le.length?Le[0]:fe.t}function Wo(fe){var Le=fe.children,Fe;return(Fe=Le.length)?Le[Fe-1]:fe.t}function cu(fe,Le,Fe){var $e=Fe/(Le.i-fe.i);Le.c-=$e,Le.s+=Fe,fe.c+=$e,Le.z+=Fe,Le.m+=Fe}function ph(fe){for(var Le=0,Fe=0,$e=fe.children,nt=$e.length,lt;--nt>=0;)lt=$e[nt],lt.z+=Le,lt.m+=Le,Le+=lt.s+(Fe+=lt.c)}function gh(fe,Le,Fe){return fe.a.parent===Le.parent?fe.a:Fe}i.layout.cluster=function(){var fe=i.layout.hierarchy().sort(null).value(null),Le=Ds,Fe=[1,1],$e=!1;function nt(lt,Lt){var At=fe.call(this,lt,Lt),Ht=At[0],Gt,tr=0;Io(Ht,function(Rr){var Br=Rr.children;Br&&Br.length?(Rr.x=mh(Br),Rr.y=yh(Br)):(Rr.x=Gt?tr+=Le(Rr,Gt):0,Rr.y=0,Gt=Rr)});var Cr=Af(Ht),Pr=uc(Ht),Jr=Cr.x-Le(Cr,Pr)/2,on=Pr.x+Le(Pr,Cr)/2;return Io(Ht,$e?function(Rr){Rr.x=(Rr.x-Ht.x)*Fe[0],Rr.y=(Ht.y-Rr.y)*Fe[1]}:function(Rr){Rr.x=(Rr.x-Jr)/(on-Jr)*Fe[0],Rr.y=(1-(Ht.y?Rr.y/Ht.y:1))*Fe[1]}),At}return nt.separation=function(lt){return arguments.length?(Le=lt,nt):Le},nt.size=function(lt){return arguments.length?($e=(Fe=lt)==null,nt):$e?null:Fe},nt.nodeSize=function(lt){return arguments.length?($e=(Fe=lt)!=null,nt):$e?Fe:null},kl(nt,fe)};function yh(fe){return 1+i.max(fe,function(Le){return Le.y})}function mh(fe){return fe.reduce(function(Le,Fe){return Le+Fe.x},0)/fe.length}function Af(fe){var Le=fe.children;return Le&&Le.length?Af(Le[0]):fe}function uc(fe){var Le=fe.children,Fe;return Le&&(Fe=Le.length)?uc(Le[Fe-1]):fe}i.layout.treemap=function(){var fe=i.layout.hierarchy(),Le=Math.round,Fe=[1,1],$e=null,nt=Nl,lt=!1,Lt,At="squarify",Ht=.5*(1+Math.sqrt(5));function Gt(Rr,Br){for(var Zr=-1,un=Rr.length,vn,qr;++Zr<un;)qr=(vn=Rr[Zr]).value*(Br<0?0:Br),vn.area=isNaN(qr)||qr<=0?0:qr}function tr(Rr){var Br=Rr.children;if(Br&&Br.length){var Zr=nt(Rr),un=[],vn=Br.slice(),qr,Un=1/0,qn,ui=At==="slice"?Zr.dx:At==="dice"?Zr.dy:At==="slice-dice"?Rr.depth&1?Zr.dy:Zr.dx:Math.min(Zr.dx,Zr.dy),Qn;for(Gt(vn,Zr.dx*Zr.dy/Rr.value),un.area=0;(Qn=vn.length)>0;)un.push(qr=vn[Qn-1]),un.area+=qr.area,At!=="squarify"||(qn=Pr(un,ui))<=Un?(vn.pop(),Un=qn):(un.area-=un.pop().area,Jr(un,ui,Zr,!1),ui=Math.min(Zr.dx,Zr.dy),un.length=un.area=0,Un=1/0);un.length&&(Jr(un,ui,Zr,!0),un.length=un.area=0),Br.forEach(tr)}}function Cr(Rr){var Br=Rr.children;if(Br&&Br.length){var Zr=nt(Rr),un=Br.slice(),vn,qr=[];for(Gt(un,Zr.dx*Zr.dy/Rr.value),qr.area=0;vn=un.pop();)qr.push(vn),qr.area+=vn.area,vn.z!=null&&(Jr(qr,vn.z?Zr.dx:Zr.dy,Zr,!un.length),qr.length=qr.area=0);Br.forEach(Cr)}}function Pr(Rr,Br){for(var Zr=Rr.area,un,vn=0,qr=1/0,Un=-1,qn=Rr.length;++Un<qn;)(un=Rr[Un].area)&&(un<qr&&(qr=un),un>vn&&(vn=un));return Zr*=Zr,Br*=Br,Zr?Math.max(Br*vn*Ht/Zr,Zr/(Br*qr*Ht)):1/0}function Jr(Rr,Br,Zr,un){var vn=-1,qr=Rr.length,Un=Zr.x,qn=Zr.y,ui=Br?Le(Rr.area/Br):0,Qn;if(Br==Zr.dx){for((un||ui>Zr.dy)&&(ui=Zr.dy);++vn<qr;)Qn=Rr[vn],Qn.x=Un,Qn.y=qn,Qn.dy=ui,Un+=Qn.dx=Math.min(Zr.x+Zr.dx-Un,ui?Le(Qn.area/ui):0);Qn.z=!0,Qn.dx+=Zr.x+Zr.dx-Un,Zr.y+=ui,Zr.dy-=ui}else{for((un||ui>Zr.dx)&&(ui=Zr.dx);++vn<qr;)Qn=Rr[vn],Qn.x=Un,Qn.y=qn,Qn.dx=ui,qn+=Qn.dy=Math.min(Zr.y+Zr.dy-qn,ui?Le(Qn.area/ui):0);Qn.z=!1,Qn.dy+=Zr.y+Zr.dy-qn,Zr.x+=ui,Zr.dx-=ui}}function on(Rr){var Br=Lt||fe(Rr),Zr=Br[0];return Zr.x=Zr.y=0,Zr.value?(Zr.dx=Fe[0],Zr.dy=Fe[1]):Zr.dx=Zr.dy=0,Lt&&fe.revalue(Zr),Gt([Zr],Zr.dx*Zr.dy/Zr.value),(Lt?Cr:tr)(Zr),lt&&(Lt=Br),Br}return on.size=function(Rr){return arguments.length?(Fe=Rr,on):Fe},on.padding=function(Rr){if(!arguments.length)return $e;function Br(vn){var qr=Rr.call(on,vn,vn.depth);return qr==null?Nl(vn):$a(vn,typeof qr=="number"?[qr,qr,qr,qr]:qr)}function Zr(vn){return $a(vn,Rr)}var un;return nt=($e=Rr)==null?Nl:(un=typeof Rr)=="function"?Br:(un==="number"&&(Rr=[Rr,Rr,Rr,Rr]),Zr),on},on.round=function(Rr){return arguments.length?(Le=Rr?Math.round:Number,on):Le!=Number},on.sticky=function(Rr){return arguments.length?(lt=Rr,Lt=null,on):lt},on.ratio=function(Rr){return arguments.length?(Ht=Rr,on):Ht},on.mode=function(Rr){return arguments.length?(At=Rr+"",on):At},kl(on,fe)};function Nl(fe){return{x:fe.x,y:fe.y,dx:fe.dx,dy:fe.dy}}function $a(fe,Le){var Fe=fe.x+Le[3],$e=fe.y+Le[0],nt=fe.dx-Le[1]-Le[3],lt=fe.dy-Le[0]-Le[2];return nt<0&&(Fe+=nt/2,nt=0),lt<0&&($e+=lt/2,lt=0),{x:Fe,y:$e,dx:nt,dy:lt}}i.random={normal:function(fe,Le){var Fe=arguments.length;return Fe<2&&(Le=1),Fe<1&&(fe=0),function(){var $e,nt,lt;do $e=Math.random()*2-1,nt=Math.random()*2-1,lt=$e*$e+nt*nt;while(!lt||lt>1);return fe+Le*$e*Math.sqrt(-2*Math.log(lt)/lt)}},logNormal:function(){var fe=i.random.normal.apply(i,arguments);return function(){return Math.exp(fe())}},bates:function(fe){var Le=i.random.irwinHall(fe);return function(){return Le()/fe}},irwinHall:function(fe){return function(){for(var Le=0,Fe=0;Fe<fe;Fe++)Le+=Math.random();return Le}}},i.scale={};function Uo(fe){var Le=fe[0],Fe=fe[fe.length-1];return Le<Fe?[Le,Fe]:[Fe,Le]}function Bl(fe){return fe.rangeExtent?fe.rangeExtent():Uo(fe.range())}function fc(fe,Le,Fe,$e){var nt=Fe(fe[0],fe[1]),lt=$e(Le[0],Le[1]);return function(Lt){return lt(nt(Lt))}}function hu(fe,Le){var Fe=0,$e=fe.length-1,nt=fe[Fe],lt=fe[$e],Lt;return lt<nt&&(Lt=Fe,Fe=$e,$e=Lt,Lt=nt,nt=lt,lt=Lt),fe[Fe]=Le.floor(nt),fe[$e]=Le.ceil(lt),fe}function Rs(fe){return fe?{floor:function(Le){return Math.floor(Le/fe)*fe},ceil:function(Le){return Math.ceil(Le/fe)*fe}}:xh}var xh={floor:N,ceil:N};function cc(fe,Le,Fe,$e){var nt=[],lt=[],Lt=0,At=Math.min(fe.length,Le.length)-1;for(fe[At]<fe[0]&&(fe=fe.slice().reverse(),Le=Le.slice().reverse());++Lt<=At;)nt.push(Fe(fe[Lt-1],fe[Lt])),lt.push($e(Le[Lt-1],Le[Lt]));return function(Ht){var Gt=i.bisect(fe,Ht,1,At)-1;return lt[Gt](nt[Gt](Ht))}}i.scale.linear=function(){return hc([0,1],[0,1],io,!1)};function hc(fe,Le,Fe,$e){var nt,lt;function Lt(){var Ht=Math.min(fe.length,Le.length)>2?cc:fc,Gt=$e?Il:Qo;return nt=Ht(fe,Le,Gt,Fe),lt=Ht(Le,fe,Gt,io),At}function At(Ht){return nt(Ht)}return At.invert=function(Ht){return lt(Ht)},At.domain=function(Ht){return arguments.length?(fe=Ht.map(Number),Lt()):fe},At.range=function(Ht){return arguments.length?(Le=Ht,Lt()):Le},At.rangeRound=function(Ht){return At.range(Ht).interpolate(rc)},At.clamp=function(Ht){return arguments.length?($e=Ht,Lt()):$e},At.interpolate=function(Ht){return arguments.length?(Fe=Ht,Lt()):Fe},At.ticks=function(Ht){return ns(fe,Ht)},At.tickFormat=function(Ht,Gt){return d3_scale_linearTickFormat(fe,Ht,Gt)},At.nice=function(Ht){return vc(fe,Ht),Lt()},At.copy=function(){return hc(fe,Le,Fe,$e)},Lt()}function Mf(fe,Le){return i.rebind(fe,Le,"range","rangeRound","interpolate","clamp")}function vc(fe,Le){return hu(fe,Rs(Ao(fe,Le)[2])),hu(fe,Rs(Ao(fe,Le)[2])),fe}function Ao(fe,Le){Le==null&&(Le=10);var Fe=Uo(fe),$e=Fe[1]-Fe[0],nt=Math.pow(10,Math.floor(Math.log($e/Le)/Math.LN10)),lt=Le/$e*nt;return lt<=.15?nt*=10:lt<=.35?nt*=5:lt<=.75&&(nt*=2),Fe[0]=Math.ceil(Fe[0]/nt)*nt,Fe[1]=Math.floor(Fe[1]/nt)*nt+nt*.5,Fe[2]=nt,Fe}function ns(fe,Le){return i.range.apply(i,Ao(fe,Le))}i.scale.log=function(){return Ys(i.scale.linear().domain([0,1]),10,!0,[1,10])};function Ys(fe,Le,Fe,$e){function nt(At){return(Fe?Math.log(At<0?0:At):-Math.log(At>0?0:-At))/Math.log(Le)}function lt(At){return Fe?Math.pow(Le,At):-Math.pow(Le,-At)}function Lt(At){return fe(nt(At))}return Lt.invert=function(At){return lt(fe.invert(At))},Lt.domain=function(At){return arguments.length?(Fe=At[0]>=0,fe.domain(($e=At.map(Number)).map(nt)),Lt):$e},Lt.base=function(At){return arguments.length?(Le=+At,fe.domain($e.map(nt)),Lt):Le},Lt.nice=function(){var At=hu($e.map(nt),Fe?Math:Ul);return fe.domain(At),$e=At.map(lt),Lt},Lt.ticks=function(){var At=Uo($e),Ht=[],Gt=At[0],tr=At[1],Cr=Math.floor(nt(Gt)),Pr=Math.ceil(nt(tr)),Jr=Le%1?2:Le;if(isFinite(Pr-Cr)){if(Fe){for(;Cr<Pr;Cr++)for(var on=1;on<Jr;on++)Ht.push(lt(Cr)*on);Ht.push(lt(Cr))}else for(Ht.push(lt(Cr));Cr++<Pr;)for(var on=Jr-1;on>0;on--)Ht.push(lt(Cr)*on);for(Cr=0;Ht[Cr]<Gt;Cr++);for(Pr=Ht.length;Ht[Pr-1]>tr;Pr--);Ht=Ht.slice(Cr,Pr)}return Ht},Lt.copy=function(){return Ys(fe.copy(),Le,Fe,$e)},Mf(Lt,fe)}var Ul={floor:function(fe){return-Math.ceil(-fe)},ceil:function(fe){return-Math.floor(-fe)}};i.scale.pow=function(){return Zu(i.scale.linear(),1,[0,1])};function Zu(fe,Le,Fe){var $e=cl(Le),nt=cl(1/Le);function lt(Lt){return fe($e(Lt))}return lt.invert=function(Lt){return nt(fe.invert(Lt))},lt.domain=function(Lt){return arguments.length?(fe.domain((Fe=Lt.map(Number)).map($e)),lt):Fe},lt.ticks=function(Lt){return ns(Fe,Lt)},lt.tickFormat=function(Lt,At){return d3_scale_linearTickFormat(Fe,Lt,At)},lt.nice=function(Lt){return lt.domain(vc(Fe,Lt))},lt.exponent=function(Lt){return arguments.length?($e=cl(Le=Lt),nt=cl(1/Le),fe.domain(Fe.map($e)),lt):Le},lt.copy=function(){return Zu(fe.copy(),Le,Fe)},Mf(lt,fe)}function cl(fe){return function(Le){return Le<0?-Math.pow(-Le,fe):Math.pow(Le,fe)}}i.scale.sqrt=function(){return i.scale.pow().exponent(.5)},i.scale.ordinal=function(){return hl([],{t:"range",a:[[]]})};function hl(fe,Le){var Fe,$e,nt;function lt(At){return $e[((Fe.get(At)||(Le.t==="range"?Fe.set(At,fe.push(At)):NaN))-1)%$e.length]}function Lt(At,Ht){return i.range(fe.length).map(function(Gt){return At+Ht*Gt})}return lt.domain=function(At){if(!arguments.length)return fe;fe=[],Fe=new C;for(var Ht=-1,Gt=At.length,tr;++Ht<Gt;)Fe.has(tr=At[Ht])||Fe.set(tr,fe.push(tr));return lt[Le.t].apply(lt,Le.a)},lt.range=function(At){return arguments.length?($e=At,nt=0,Le={t:"range",a:arguments},lt):$e},lt.rangePoints=function(At,Ht){arguments.length<2&&(Ht=0);var Gt=At[0],tr=At[1],Cr=fe.length<2?(Gt=(Gt+tr)/2,0):(tr-Gt)/(fe.length-1+Ht);return $e=Lt(Gt+Cr*Ht/2,Cr),nt=0,Le={t:"rangePoints",a:arguments},lt},lt.rangeRoundPoints=function(At,Ht){arguments.length<2&&(Ht=0);var Gt=At[0],tr=At[1],Cr=fe.length<2?(Gt=tr=Math.round((Gt+tr)/2),0):(tr-Gt)/(fe.length-1+Ht)|0;return $e=Lt(Gt+Math.round(Cr*Ht/2+(tr-Gt-(fe.length-1+Ht)*Cr)/2),Cr),nt=0,Le={t:"rangeRoundPoints",a:arguments},lt},lt.rangeBands=function(At,Ht,Gt){arguments.length<2&&(Ht=0),arguments.length<3&&(Gt=Ht);var tr=At[1]<At[0],Cr=At[tr-0],Pr=At[1-tr],Jr=(Pr-Cr)/(fe.length-Ht+2*Gt);return $e=Lt(Cr+Jr*Gt,Jr),tr&&$e.reverse(),nt=Jr*(1-Ht),Le={t:"rangeBands",a:arguments},lt},lt.rangeRoundBands=function(At,Ht,Gt){arguments.length<2&&(Ht=0),arguments.length<3&&(Gt=Ht);var tr=At[1]<At[0],Cr=At[tr-0],Pr=At[1-tr],Jr=Math.floor((Pr-Cr)/(fe.length-Ht+2*Gt));return $e=Lt(Cr+Math.round((Pr-Cr-(fe.length-Ht)*Jr)/2),Jr),tr&&$e.reverse(),nt=Math.round(Jr*(1-Ht)),Le={t:"rangeRoundBands",a:arguments},lt},lt.rangeBand=function(){return nt},lt.rangeExtent=function(){return Uo(Le.a[0])},lt.copy=function(){return hl(fe,Le)},lt.domain(fe)}i.scale.category10=function(){return i.scale.ordinal().range(dc)},i.scale.category20=function(){return i.scale.ordinal().range(Is)},i.scale.category20b=function(){return i.scale.ordinal().range(Vl)},i.scale.category20c=function(){return i.scale.ordinal().range(js)};var dc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ft),Is=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ft),Vl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ft),js=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ft);i.scale.quantile=function(){return _s([],[])};function _s(fe,Le){var Fe;function $e(){var lt=0,Lt=Le.length;for(Fe=[];++lt<Lt;)Fe[lt-1]=i.quantile(fe,lt/Lt);return nt}function nt(lt){if(!isNaN(lt=+lt))return Le[i.bisect(Fe,lt)]}return nt.domain=function(lt){return arguments.length?(fe=lt.map(m).filter(h).sort(l),$e()):fe},nt.range=function(lt){return arguments.length?(Le=lt,$e()):Le},nt.quantiles=function(){return Fe},nt.invertExtent=function(lt){return lt=Le.indexOf(lt),lt<0?[NaN,NaN]:[lt>0?Fe[lt-1]:fe[0],lt<Fe.length?Fe[lt]:fe[fe.length-1]]},nt.copy=function(){return _s(fe,Le)},$e()}i.scale.quantize=function(){return vu(0,1,[0,1])};function vu(fe,Le,Fe){var $e,nt;function lt(At){return Fe[Math.max(0,Math.min(nt,Math.floor($e*(At-fe))))]}function Lt(){return $e=Fe.length/(Le-fe),nt=Fe.length-1,lt}return lt.domain=function(At){return arguments.length?(fe=+At[0],Le=+At[At.length-1],Lt()):[fe,Le]},lt.range=function(At){return arguments.length?(Fe=At,Lt()):Fe},lt.invertExtent=function(At){return At=Fe.indexOf(At),At=At<0?NaN:At/$e+fe,[At,At+1/$e]},lt.copy=function(){return vu(fe,Le,Fe)},Lt()}i.scale.threshold=function(){return Hl([.5],[0,1])};function Hl(fe,Le){function Fe($e){if($e<=$e)return Le[i.bisect(fe,$e)]}return Fe.domain=function($e){return arguments.length?(fe=$e,Fe):fe},Fe.range=function($e){return arguments.length?(Le=$e,Fe):Le},Fe.invertExtent=function($e){return $e=Le.indexOf($e),[fe[$e-1],fe[$e]]},Fe.copy=function(){return Hl(fe,Le)},Fe}i.scale.identity=function(){return va([0,1])};function va(fe){function Le(Fe){return+Fe}return Le.invert=Le,Le.domain=Le.range=function(Fe){return arguments.length?(fe=Fe.map(Le),Le):fe},Le.ticks=function(Fe){return ns(fe,Fe)},Le.tickFormat=function(Fe,$e){return d3_scale_linearTickFormat(fe,Fe,$e)},Le.copy=function(){return va(fe)},Le}i.svg={};function Gl(){return 0}i.svg.arc=function(){var fe=pc,Le=Wl,Fe=Gl,$e=Ku,nt=du,lt=Ju,Lt=Sf;function At(){var Gt=Math.max(0,+fe.apply(this,arguments)),tr=Math.max(0,+Le.apply(this,arguments)),Cr=nt.apply(this,arguments)-tt,Pr=lt.apply(this,arguments)-tt,Jr=Math.abs(Pr-Cr),on=Cr>Pr?0:1;if(tr<Gt&&(Rr=tr,tr=Gt,Gt=Rr),Jr>=je)return Ht(tr,on)+(Gt?Ht(Gt,1-on):"")+"Z";var Rr,Br,Zr,un,vn=0,qr=0,Un,qn,ui,Qn,ii,fi,Bi,Si,Oi=[];if((un=(+Lt.apply(this,arguments)||0)/2)&&(Zr=$e===Ku?Math.sqrt(Gt*Gt+tr*tr):+$e.apply(this,arguments),on||(qr*=-1),tr&&(qr=Yt(Zr/tr*Math.sin(un))),Gt&&(vn=Yt(Zr/Gt*Math.sin(un)))),tr){Un=tr*Math.cos(Cr+qr),qn=tr*Math.sin(Cr+qr),ui=tr*Math.cos(Pr-qr),Qn=tr*Math.sin(Pr-qr);var ia=Math.abs(Pr-Cr-2*qr)<=Me?0:1;if(qr&&pu(Un,qn,ui,Qn)===on^ia){var Na=(Cr+Pr)/2;Un=tr*Math.cos(Na),qn=tr*Math.sin(Na),ui=Qn=null}}else Un=qn=0;if(Gt){ii=Gt*Math.cos(Pr-vn),fi=Gt*Math.sin(Pr-vn),Bi=Gt*Math.cos(Cr+vn),Si=Gt*Math.sin(Cr+vn);var fa=Math.abs(Cr-Pr+2*vn)<=Me?0:1;if(vn&&pu(ii,fi,Bi,Si)===1-on^fa){var Zn=(Cr+Pr)/2;ii=Gt*Math.cos(Zn),fi=Gt*Math.sin(Zn),Bi=Si=null}}else ii=fi=0;if(Jr>me&&(Rr=Math.min(Math.abs(tr-Gt)/2,+Fe.apply(this,arguments)))>.001){Br=Gt<tr^on?0:1;var Hi=Rr,Ai=Rr;if(Jr<Me){var Ki=Bi==null?[ii,fi]:ui==null?[Un,qn]:dn([Un,qn],[Bi,Si],[ui,Qn],[ii,fi]),Ta=Un-Ki[0],aa=qn-Ki[1],qa=ui-Ki[0],eo=Qn-Ki[1],ao=1/Math.sin(Math.acos((Ta*qa+aa*eo)/(Math.sqrt(Ta*Ta+aa*aa)*Math.sqrt(qa*qa+eo*eo)))/2),Aa=Math.sqrt(Ki[0]*Ki[0]+Ki[1]*Ki[1]);Ai=Math.min(Rr,(Gt-Aa)/(ao-1)),Hi=Math.min(Rr,(tr-Aa)/(ao+1))}if(ui!=null){var yo=gu(Bi==null?[ii,fi]:[Bi,Si],[Un,qn],tr,Hi,on),oi=gu([ui,Qn],[ii,fi],tr,Hi,on);Rr===Hi?Oi.push("M",yo[0],"A",Hi,",",Hi," 0 0,",Br," ",yo[1],"A",tr,",",tr," 0 ",1-on^pu(yo[1][0],yo[1][1],oi[1][0],oi[1][1]),",",on," ",oi[1],"A",Hi,",",Hi," 0 0,",Br," ",oi[0]):Oi.push("M",yo[0],"A",Hi,",",Hi," 0 1,",Br," ",oi[0])}else Oi.push("M",Un,",",qn);if(Bi!=null){var Ci=gu([Un,qn],[Bi,Si],Gt,-Ai,on),ko=gu([ii,fi],ui==null?[Un,qn]:[ui,Qn],Gt,-Ai,on);Rr===Ai?Oi.push("L",ko[0],"A",Ai,",",Ai," 0 0,",Br," ",ko[1],"A",Gt,",",Gt," 0 ",on^pu(ko[1][0],ko[1][1],Ci[1][0],Ci[1][1]),",",1-on," ",Ci[1],"A",Ai,",",Ai," 0 0,",Br," ",Ci[0]):Oi.push("L",ko[0],"A",Ai,",",Ai," 0 0,",Br," ",Ci[0])}else Oi.push("L",ii,",",fi)}else Oi.push("M",Un,",",qn),ui!=null&&Oi.push("A",tr,",",tr," 0 ",ia,",",on," ",ui,",",Qn),Oi.push("L",ii,",",fi),Bi!=null&&Oi.push("A",Gt,",",Gt," 0 ",fa,",",1-on," ",Bi,",",Si);return Oi.push("Z"),Oi.join("")}function Ht(Gt,tr){return"M0,"+Gt+"A"+Gt+","+Gt+" 0 1,"+tr+" 0,"+-Gt+"A"+Gt+","+Gt+" 0 1,"+tr+" 0,"+Gt}return At.innerRadius=function(Gt){return arguments.length?(fe=rn(Gt),At):fe},At.outerRadius=function(Gt){return arguments.length?(Le=rn(Gt),At):Le},At.cornerRadius=function(Gt){return arguments.length?(Fe=rn(Gt),At):Fe},At.padRadius=function(Gt){return arguments.length?($e=Gt==Ku?Ku:rn(Gt),At):$e},At.startAngle=function(Gt){return arguments.length?(nt=rn(Gt),At):nt},At.endAngle=function(Gt){return arguments.length?(lt=rn(Gt),At):lt},At.padAngle=function(Gt){return arguments.length?(Lt=rn(Gt),At):Lt},At.centroid=function(){var Gt=(+fe.apply(this,arguments)+ +Le.apply(this,arguments))/2,tr=(+nt.apply(this,arguments)+ +lt.apply(this,arguments))/2-tt;return[Math.cos(tr)*Gt,Math.sin(tr)*Gt]},At};var Ku="auto";function pc(fe){return fe.innerRadius}function Wl(fe){return fe.outerRadius}function du(fe){return fe.startAngle}function Ju(fe){return fe.endAngle}function Sf(fe){return fe&&fe.padAngle}function pu(fe,Le,Fe,$e){return(fe-Fe)*Le-(Le-$e)*fe>0?0:1}function gu(fe,Le,Fe,$e,nt){var lt=fe[0]-Le[0],Lt=fe[1]-Le[1],At=(nt?$e:-$e)/Math.sqrt(lt*lt+Lt*Lt),Ht=At*Lt,Gt=-At*lt,tr=fe[0]+Ht,Cr=fe[1]+Gt,Pr=Le[0]+Ht,Jr=Le[1]+Gt,on=(tr+Pr)/2,Rr=(Cr+Jr)/2,Br=Pr-tr,Zr=Jr-Cr,un=Br*Br+Zr*Zr,vn=Fe-$e,qr=tr*Jr-Pr*Cr,Un=(Zr<0?-1:1)*Math.sqrt(Math.max(0,vn*vn*un-qr*qr)),qn=(qr*Zr-Br*Un)/un,ui=(-qr*Br-Zr*Un)/un,Qn=(qr*Zr+Br*Un)/un,ii=(-qr*Br+Zr*Un)/un,fi=qn-on,Bi=ui-Rr,Si=Qn-on,Oi=ii-Rr;return fi*fi+Bi*Bi>Si*Si+Oi*Oi&&(qn=Qn,ui=ii),[[qn-Ht,ui-Gt],[qn*Fe/vn,ui*Fe/vn]]}function Zs(){return!0}function yu(fe){var Le=di,Fe=li,$e=Zs,nt=Wa,lt=nt.key,Lt=.7;function At(Ht){var Gt=[],tr=[],Cr=-1,Pr=Ht.length,Jr,on=rn(Le),Rr=rn(Fe);function Br(){Gt.push("M",nt(fe(tr),Lt))}for(;++Cr<Pr;)$e.call(this,Jr=Ht[Cr],Cr)?tr.push([+on.call(this,Jr,Cr),+Rr.call(this,Jr,Cr)]):tr.length&&(Br(),tr=[]);return tr.length&&Br(),Gt.length?Gt.join(""):null}return At.x=function(Ht){return arguments.length?(Le=Ht,At):Le},At.y=function(Ht){return arguments.length?(Fe=Ht,At):Fe},At.defined=function(Ht){return arguments.length?($e=Ht,At):$e},At.interpolate=function(Ht){return arguments.length?(typeof Ht=="function"?lt=nt=Ht:lt=(nt=Ks.get(Ht)||Wa).key,At):lt},At.tension=function(Ht){return arguments.length?(Lt=Ht,At):Lt},At}i.svg.line=function(){return yu(N)};var Ks=i.map({linear:Wa,"linear-closed":ys,step:Ef,"step-before":vl,"step-after":Qu,basis:Xl,"basis-open":yc,"basis-closed":Js,bundle:wh,cardinal:gc,"cardinal-open":mu,"cardinal-closed":bh,monotone:qu});Ks.forEach(function(fe,Le){Le.key=fe,Le.closed=/-closed$/.test(fe)});function Wa(fe){return fe.length>1?fe.join("L"):fe+"Z"}function ys(fe){return fe.join("L")+"Z"}function Ef(fe){for(var Le=0,Fe=fe.length,$e=fe[0],nt=[$e[0],",",$e[1]];++Le<Fe;)nt.push("H",($e[0]+($e=fe[Le])[0])/2,"V",$e[1]);return Fe>1&&nt.push("H",$e[0]),nt.join("")}function vl(fe){for(var Le=0,Fe=fe.length,$e=fe[0],nt=[$e[0],",",$e[1]];++Le<Fe;)nt.push("V",($e=fe[Le])[1],"H",$e[0]);return nt.join("")}function Qu(fe){for(var Le=0,Fe=fe.length,$e=fe[0],nt=[$e[0],",",$e[1]];++Le<Fe;)nt.push("H",($e=fe[Le])[0],"V",$e[1]);return nt.join("")}function mu(fe,Le){return fe.length<4?Wa(fe):fe[1]+go(fe.slice(1,-1),xu(fe,Le))}function bh(fe,Le){return fe.length<3?ys(fe):fe[0]+go((fe.push(fe[0]),fe),xu([fe[fe.length-2]].concat(fe,[fe[1]]),Le))}function gc(fe,Le){return fe.length<3?Wa(fe):fe[0]+go(fe,xu(fe,Le))}function go(fe,Le){if(Le.length<1||fe.length!=Le.length&&fe.length!=Le.length+2)return Wa(fe);var Fe=fe.length!=Le.length,$e="",nt=fe[0],lt=fe[1],Lt=Le[0],At=Lt,Ht=1;if(Fe&&($e+="Q"+(lt[0]-Lt[0]*2/3)+","+(lt[1]-Lt[1]*2/3)+","+lt[0]+","+lt[1],nt=fe[1],Ht=2),Le.length>1){At=Le[1],lt=fe[Ht],Ht++,$e+="C"+(nt[0]+Lt[0])+","+(nt[1]+Lt[1])+","+(lt[0]-At[0])+","+(lt[1]-At[1])+","+lt[0]+","+lt[1];for(var Gt=2;Gt<Le.length;Gt++,Ht++)lt=fe[Ht],At=Le[Gt],$e+="S"+(lt[0]-At[0])+","+(lt[1]-At[1])+","+lt[0]+","+lt[1]}if(Fe){var tr=fe[Ht];$e+="Q"+(lt[0]+At[0]*2/3)+","+(lt[1]+At[1]*2/3)+","+tr[0]+","+tr[1]}return $e}function xu(fe,Le){for(var Fe=[],$e=(1-Le)/2,nt,lt=fe[0],Lt=fe[1],At=1,Ht=fe.length;++At<Ht;)nt=lt,lt=Lt,Lt=fe[At],Fe.push([$e*(Lt[0]-nt[0]),$e*(Lt[1]-nt[1])]);return Fe}function Xl(fe){if(fe.length<3)return Wa(fe);var Le=1,Fe=fe.length,$e=fe[0],nt=$e[0],lt=$e[1],Lt=[nt,nt,nt,($e=fe[1])[0]],At=[lt,lt,lt,$e[1]],Ht=[nt,",",lt,"L",_o(ks,Lt),",",_o(ks,At)];for(fe.push(fe[Fe-1]);++Le<=Fe;)$e=fe[Le],Lt.shift(),Lt.push($e[0]),At.shift(),At.push($e[1]),Qs(Ht,Lt,At);return fe.pop(),Ht.push("L",$e),Ht.join("")}function yc(fe){if(fe.length<4)return Wa(fe);for(var Le=[],Fe=-1,$e=fe.length,nt,lt=[0],Lt=[0];++Fe<3;)nt=fe[Fe],lt.push(nt[0]),Lt.push(nt[1]);for(Le.push(_o(ks,lt)+","+_o(ks,Lt)),--Fe;++Fe<$e;)nt=fe[Fe],lt.shift(),lt.push(nt[0]),Lt.shift(),Lt.push(nt[1]),Qs(Le,lt,Lt);return Le.join("")}function Js(fe){for(var Le,Fe=-1,$e=fe.length,nt=$e+4,lt,Lt=[],At=[];++Fe<4;)lt=fe[Fe%$e],Lt.push(lt[0]),At.push(lt[1]);for(Le=[_o(ks,Lt),",",_o(ks,At)],--Fe;++Fe<nt;)lt=fe[Fe%$e],Lt.shift(),Lt.push(lt[0]),At.shift(),At.push(lt[1]),Qs(Le,Lt,At);return Le.join("")}function wh(fe,Le){var Fe=fe.length-1;if(Fe)for(var $e=fe[0][0],nt=fe[0][1],lt=fe[Fe][0]-$e,Lt=fe[Fe][1]-nt,At=-1,Ht,Gt;++At<=Fe;)Ht=fe[At],Gt=At/Fe,Ht[0]=Le*Ht[0]+(1-Le)*($e+Gt*lt),Ht[1]=Le*Ht[1]+(1-Le)*(nt+Gt*Lt);return Xl(fe)}function _o(fe,Le){return fe[0]*Le[0]+fe[1]*Le[1]+fe[2]*Le[2]+fe[3]*Le[3]}var bu=[0,2/3,1/3,0],$u=[0,1/3,2/3,0],ks=[0,1/6,2/3,1/6];function Qs(fe,Le,Fe){fe.push("C",_o(bu,Le),",",_o(bu,Fe),",",_o($u,Le),",",_o($u,Fe),",",_o(ks,Le),",",_o(ks,Fe))}function Cf(fe,Le){return(Le[1]-fe[1])/(Le[0]-fe[0])}function wu(fe){for(var Le=0,Fe=fe.length-1,$e=[],nt=fe[0],lt=fe[1],Lt=$e[0]=Cf(nt,lt);++Le<Fe;)$e[Le]=(Lt+(Lt=Cf(nt=lt,lt=fe[Le+1])))/2;return $e[Le]=Lt,$e}function Tu(fe){for(var Le=[],Fe,$e,nt,lt,Lt=wu(fe),At=-1,Ht=fe.length-1;++At<Ht;)Fe=Cf(fe[At],fe[At+1]),d(Fe)<me?Lt[At]=Lt[At+1]=0:($e=Lt[At]/Fe,nt=Lt[At+1]/Fe,lt=$e*$e+nt*nt,lt>9&&(lt=Fe*3/Math.sqrt(lt),Lt[At]=lt*$e,Lt[At+1]=lt*nt));for(At=-1;++At<=Ht;)lt=(fe[Math.min(Ht,At+1)][0]-fe[Math.max(0,At-1)][0])/(6*(1+Lt[At]*Lt[At])),Le.push([lt||0,Lt[At]*lt||0]);return Le}function qu(fe){return fe.length<3?Wa(fe):fe[0]+go(fe,Tu(fe))}i.svg.line.radial=function(){var fe=yu(mc);return fe.radius=fe.x,delete fe.x,fe.angle=fe.y,delete fe.y,fe};function mc(fe){for(var Le,Fe=-1,$e=fe.length,nt,lt;++Fe<$e;)Le=fe[Fe],nt=Le[0],lt=Le[1]-tt,Le[0]=nt*Math.cos(lt),Le[1]=nt*Math.sin(lt);return fe}function Au(fe){var Le=di,Fe=di,$e=0,nt=li,lt=Zs,Lt=Wa,At=Lt.key,Ht=Lt,Gt="L",tr=.7;function Cr(Pr){var Jr=[],on=[],Rr=[],Br=-1,Zr=Pr.length,un,vn=rn(Le),qr=rn($e),Un=Le===Fe?function(){return ui}:rn(Fe),qn=$e===nt?function(){return Qn}:rn(nt),ui,Qn;function ii(){Jr.push("M",Lt(fe(Rr),tr),Gt,Ht(fe(on.reverse()),tr),"Z")}for(;++Br<Zr;)lt.call(this,un=Pr[Br],Br)?(on.push([ui=+vn.call(this,un,Br),Qn=+qr.call(this,un,Br)]),Rr.push([+Un.call(this,un,Br),+qn.call(this,un,Br)])):on.length&&(ii(),on=[],Rr=[]);return on.length&&ii(),Jr.length?Jr.join(""):null}return Cr.x=function(Pr){return arguments.length?(Le=Fe=Pr,Cr):Fe},Cr.x0=function(Pr){return arguments.length?(Le=Pr,Cr):Le},Cr.x1=function(Pr){return arguments.length?(Fe=Pr,Cr):Fe},Cr.y=function(Pr){return arguments.length?($e=nt=Pr,Cr):nt},Cr.y0=function(Pr){return arguments.length?($e=Pr,Cr):$e},Cr.y1=function(Pr){return arguments.length?(nt=Pr,Cr):nt},Cr.defined=function(Pr){return arguments.length?(lt=Pr,Cr):lt},Cr.interpolate=function(Pr){return arguments.length?(typeof Pr=="function"?At=Lt=Pr:At=(Lt=Ks.get(Pr)||Wa).key,Ht=Lt.reverse||Lt,Gt=Lt.closed?"M":"L",Cr):At},Cr.tension=function(Pr){return arguments.length?(tr=Pr,Cr):tr},Cr}vl.reverse=Qu,Qu.reverse=vl,i.svg.area=function(){return Au(N)},i.svg.area.radial=function(){var fe=Au(mc);return fe.radius=fe.x,delete fe.x,fe.innerRadius=fe.x0,delete fe.x0,fe.outerRadius=fe.x1,delete fe.x1,fe.angle=fe.y,delete fe.y,fe.startAngle=fe.y0,delete fe.y0,fe.endAngle=fe.y1,delete fe.y1,fe};function Lf(fe){return fe.source}function dl(fe){return fe.target}i.svg.chord=function(){var fe=Lf,Le=dl,Fe=Pf,$e=du,nt=Ju;function lt(tr,Cr){var Pr=Lt(this,fe,tr,Cr),Jr=Lt(this,Le,tr,Cr);return"M"+Pr.p0+Ht(Pr.r,Pr.p1,Pr.a1-Pr.a0)+(At(Pr,Jr)?Gt(Pr.r,Pr.p1,Pr.r,Pr.p0):Gt(Pr.r,Pr.p1,Jr.r,Jr.p0)+Ht(Jr.r,Jr.p1,Jr.a1-Jr.a0)+Gt(Jr.r,Jr.p1,Pr.r,Pr.p0))+"Z"}function Lt(tr,Cr,Pr,Jr){var on=Cr.call(tr,Pr,Jr),Rr=Fe.call(tr,on,Jr),Br=$e.call(tr,on,Jr)-tt,Zr=nt.call(tr,on,Jr)-tt;return{r:Rr,a0:Br,a1:Zr,p0:[Rr*Math.cos(Br),Rr*Math.sin(Br)],p1:[Rr*Math.cos(Zr),Rr*Math.sin(Zr)]}}function At(tr,Cr){return tr.a0==Cr.a0&&tr.a1==Cr.a1}function Ht(tr,Cr,Pr){return"A"+tr+","+tr+" 0 "+ +(Pr>Me)+",1 "+Cr}function Gt(tr,Cr,Pr,Jr){return"Q 0,0 "+Jr}return lt.radius=function(tr){return arguments.length?(Fe=rn(tr),lt):Fe},lt.source=function(tr){return arguments.length?(fe=rn(tr),lt):fe},lt.target=function(tr){return arguments.length?(Le=rn(tr),lt):Le},lt.startAngle=function(tr){return arguments.length?($e=rn(tr),lt):$e},lt.endAngle=function(tr){return arguments.length?(nt=rn(tr),lt):nt},lt};function Pf(fe){return fe.radius}i.svg.diagonal=function(){var fe=Lf,Le=dl,Fe=Mu;function $e(nt,lt){var Lt=fe.call(this,nt,lt),At=Le.call(this,nt,lt),Ht=(Lt.y+At.y)/2,Gt=[Lt,{x:Lt.x,y:Ht},{x:At.x,y:Ht},At];return Gt=Gt.map(Fe),"M"+Gt[0]+"C"+Gt[1]+" "+Gt[2]+" "+Gt[3]}return $e.source=function(nt){return arguments.length?(fe=rn(nt),$e):fe},$e.target=function(nt){return arguments.length?(Le=rn(nt),$e):Le},$e.projection=function(nt){return arguments.length?(Fe=nt,$e):Fe},$e};function Mu(fe){return[fe.x,fe.y]}i.svg.diagonal.radial=function(){var fe=i.svg.diagonal(),Le=Mu,Fe=fe.projection;return fe.projection=function($e){return arguments.length?Fe(xc(Le=$e)):Le},fe};function xc(fe){return function(){var Le=fe.apply(this,arguments),Fe=Le[0],$e=Le[1]-tt;return[Fe*Math.cos($e),Fe*Math.sin($e)]}}i.svg.symbol=function(){var fe=it,Le=Je;function Fe($e,nt){return(bt.get(fe.call(this,$e,nt))||gt)(Le.call(this,$e,nt))}return Fe.type=function($e){return arguments.length?(fe=rn($e),Fe):fe},Fe.size=function($e){return arguments.length?(Le=rn($e),Fe):Le},Fe};function Je(){return 64}function it(){return"circle"}function gt(fe){var Le=Math.sqrt(fe/Me);return"M0,"+Le+"A"+Le+","+Le+" 0 1,1 0,"+-Le+"A"+Le+","+Le+" 0 1,1 0,"+Le+"Z"}var bt=i.map({circle:gt,cross:function(fe){var Le=Math.sqrt(fe/5)/2;return"M"+-3*Le+","+-Le+"H"+-Le+"V"+-3*Le+"H"+Le+"V"+-Le+"H"+3*Le+"V"+Le+"H"+Le+"V"+3*Le+"H"+-Le+"V"+Le+"H"+-3*Le+"Z"},diamond:function(fe){var Le=Math.sqrt(fe/(2*It)),Fe=Le*It;return"M0,"+-Le+"L"+Fe+",0 0,"+Le+" "+-Fe+",0Z"},square:function(fe){var Le=Math.sqrt(fe)/2;return"M"+-Le+","+-Le+"L"+Le+","+-Le+" "+Le+","+Le+" "+-Le+","+Le+"Z"},"triangle-down":function(fe){var Le=Math.sqrt(fe/Ot),Fe=Le*Ot/2;return"M0,"+Fe+"L"+Le+","+-Fe+" "+-Le+","+-Fe+"Z"},"triangle-up":function(fe){var Le=Math.sqrt(fe/Ot),Fe=Le*Ot/2;return"M0,"+-Fe+"L"+Le+","+Fe+" "+-Le+","+Fe+"Z"}});i.svg.symbolTypes=bt.keys();var Ot=Math.sqrt(3),It=Math.tan(30*ct);J.transition=function(fe){for(var Le=_r||++Mr,Fe=Dn(fe),$e=[],nt,lt,Lt=Nr||{time:Date.now(),ease:pf,delay:0,duration:250},At=-1,Ht=this.length;++At<Ht;){$e.push(nt=[]);for(var Gt=this[At],tr=-1,Cr=Gt.length;++tr<Cr;)(lt=Gt[tr])&&Rn(lt,tr,Fe,Le,Lt),nt.push(lt)}return xr($e,Fe,Le)},J.interrupt=function(fe){return this.each(fe==null?Bt:dr(Dn(fe)))};var Bt=dr(Dn());function dr(fe){return function(){var Le,Fe,$e;(Le=this[fe])&&($e=Le[Fe=Le.active])&&($e.timer.c=null,$e.timer.t=NaN,--Le.count?delete Le[Fe]:delete this[fe],Le.active+=.5,$e.event&&$e.event.interrupt.call(this,this.__data__,$e.index))}}function xr(fe,Le,Fe){return Z(fe,ir),fe.namespace=Le,fe.id=Fe,fe}var ir=[],Mr=0,_r,Nr;ir.call=J.call,ir.empty=J.empty,ir.node=J.node,ir.size=J.size,i.transition=function(fe,Le){return fe&&fe.transition?_r?fe.transition(Le):fe:i.selection().transition(fe)},i.transition.prototype=ir,ir.select=function(fe){var Le=this.id,Fe=this.namespace,$e=[],nt,lt,Lt;fe=se(fe);for(var At=-1,Ht=this.length;++At<Ht;){$e.push(nt=[]);for(var Gt=this[At],tr=-1,Cr=Gt.length;++tr<Cr;)(Lt=Gt[tr])&&(lt=fe.call(Lt,Lt.__data__,tr,At))?("__data__"in Lt&&(lt.__data__=Lt.__data__),Rn(lt,tr,Fe,Le,Lt[Fe][Le]),nt.push(lt)):nt.push(null)}return xr($e,Fe,Le)},ir.selectAll=function(fe){var Le=this.id,Fe=this.namespace,$e=[],nt,lt,Lt,At,Ht;fe=ie(fe);for(var Gt=-1,tr=this.length;++Gt<tr;)for(var Cr=this[Gt],Pr=-1,Jr=Cr.length;++Pr<Jr;)if(Lt=Cr[Pr]){Ht=Lt[Fe][Le],lt=fe.call(Lt,Lt.__data__,Pr,Gt),$e.push(nt=[]);for(var on=-1,Rr=lt.length;++on<Rr;)(At=lt[on])&&Rn(At,on,Fe,Le,Ht),nt.push(At)}return xr($e,Fe,Le)},ir.filter=function(fe){var Le=[],Fe,$e,nt;typeof fe!="function"&&(fe=ot(fe));for(var lt=0,Lt=this.length;lt<Lt;lt++){Le.push(Fe=[]);for(var $e=this[lt],At=0,Ht=$e.length;At<Ht;At++)(nt=$e[At])&&fe.call(nt,nt.__data__,At,lt)&&Fe.push(nt)}return xr(Le,this.namespace,this.id)},ir.tween=function(fe,Le){var Fe=this.id,$e=this.namespace;return arguments.length<2?this.node()[$e][Fe].tween.get(fe):et(this,Le==null?function(nt){nt[$e][Fe].tween.remove(fe)}:function(nt){nt[$e][Fe].tween.set(fe,Le)})};function tn(fe,Le,Fe,$e){var nt=fe.id,lt=fe.namespace;return et(fe,typeof Fe=="function"?function(Lt,At,Ht){Lt[lt][nt].tween.set(Le,$e(Fe.call(Lt,Lt.__data__,At,Ht)))}:(Fe=$e(Fe),function(Lt){Lt[lt][nt].tween.set(Le,Fe)}))}ir.attr=function(fe,Le){if(arguments.length<2){for(Le in fe)this.attr(Le,fe[Le]);return this}var Fe=fe=="transform"?Vu:io,$e=i.ns.qualify(fe);function nt(){this.removeAttribute($e)}function lt(){this.removeAttributeNS($e.space,$e.local)}function Lt(Ht){return Ht==null?nt:(Ht+="",function(){var Gt=this.getAttribute($e),tr;return Gt!==Ht&&(tr=Fe(Gt,Ht),function(Cr){this.setAttribute($e,tr(Cr))})})}function At(Ht){return Ht==null?lt:(Ht+="",function(){var Gt=this.getAttributeNS($e.space,$e.local),tr;return Gt!==Ht&&(tr=Fe(Gt,Ht),function(Cr){this.setAttributeNS($e.space,$e.local,tr(Cr))})})}return tn(this,"attr."+fe,Le,$e.local?At:Lt)},ir.attrTween=function(fe,Le){var Fe=i.ns.qualify(fe);function $e(lt,Lt){var At=Le.call(this,lt,Lt,this.getAttribute(Fe));return At&&function(Ht){this.setAttribute(Fe,At(Ht))}}function nt(lt,Lt){var At=Le.call(this,lt,Lt,this.getAttributeNS(Fe.space,Fe.local));return At&&function(Ht){this.setAttributeNS(Fe.space,Fe.local,At(Ht))}}return this.tween("attr."+fe,Fe.local?nt:$e)},ir.style=function(fe,Le,Fe){var $e=arguments.length;if($e<3){if(typeof fe!="string"){$e<2&&(Le="");for(Fe in fe)this.style(Fe,fe[Fe],Le);return this}Fe=""}function nt(){this.style.removeProperty(fe)}function lt(Lt){return Lt==null?nt:(Lt+="",function(){var At=r(this).getComputedStyle(this,null).getPropertyValue(fe),Ht;return At!==Lt&&(Ht=io(At,Lt),function(Gt){this.style.setProperty(fe,Ht(Gt),Fe)})})}return tn(this,"style."+fe,Le,lt)},ir.styleTween=function(fe,Le,Fe){arguments.length<3&&(Fe="");function $e(nt,lt){var Lt=Le.call(this,nt,lt,r(this).getComputedStyle(this,null).getPropertyValue(fe));return Lt&&function(At){this.style.setProperty(fe,Lt(At),Fe)}}return this.tween("style."+fe,$e)},ir.text=function(fe){return tn(this,"text",fe,mn)};function mn(fe){return fe==null&&(fe=""),function(){this.textContent=fe}}ir.remove=function(){var fe=this.namespace;return this.each("end.transition",function(){var Le;this[fe].count<2&&(Le=this.parentNode)&&Le.removeChild(this)})},ir.ease=function(fe){var Le=this.id,Fe=this.namespace;return arguments.length<1?this.node()[Fe][Le].ease:(typeof fe!="function"&&(fe=i.ease.apply(i,arguments)),et(this,function($e){$e[Fe][Le].ease=fe}))},ir.delay=function(fe){var Le=this.id,Fe=this.namespace;return arguments.length<1?this.node()[Fe][Le].delay:et(this,typeof fe=="function"?function($e,nt,lt){$e[Fe][Le].delay=+fe.call($e,$e.__data__,nt,lt)}:(fe=+fe,function($e){$e[Fe][Le].delay=fe}))},ir.duration=function(fe){var Le=this.id,Fe=this.namespace;return arguments.length<1?this.node()[Fe][Le].duration:et(this,typeof fe=="function"?function($e,nt,lt){$e[Fe][Le].duration=Math.max(1,fe.call($e,$e.__data__,nt,lt))}:(fe=Math.max(1,fe),function($e){$e[Fe][Le].duration=fe}))},ir.each=function(fe,Le){var Fe=this.id,$e=this.namespace;if(arguments.length<2){var nt=Nr,lt=_r;try{_r=Fe,et(this,function(Lt,At,Ht){Nr=Lt[$e][Fe],fe.call(Lt,Lt.__data__,At,Ht)})}finally{Nr=nt,_r=lt}}else et(this,function(Lt){var At=Lt[$e][Fe];(At.event||(At.event=i.dispatch("start","end","interrupt"))).on(fe,Le)});return this},ir.transition=function(){for(var fe=this.id,Le=++Mr,Fe=this.namespace,$e=[],nt,lt,Lt,At,Ht=0,Gt=this.length;Ht<Gt;Ht++){$e.push(nt=[]);for(var lt=this[Ht],tr=0,Cr=lt.length;tr<Cr;tr++)(Lt=lt[tr])&&(At=Lt[Fe][fe],Rn(Lt,tr,Fe,Le,{time:At.time,ease:At.ease,delay:At.delay+At.duration,duration:At.duration})),nt.push(Lt)}return xr($e,Fe,Le)};function Dn(fe){return fe==null?"__transition__":"__transition_"+fe+"__"}function Rn(fe,Le,Fe,$e,nt){var lt=fe[Fe]||(fe[Fe]={active:0,count:0}),Lt=lt[$e],At,Ht,Gt,tr,Cr;function Pr(Rr){var Br=Lt.delay;if(Ht.t=Br+At,Br<=Rr)return Jr(Rr-Br);Ht.c=Jr}function Jr(Rr){var Br=lt.active,Zr=lt[Br];Zr&&(Zr.timer.c=null,Zr.timer.t=NaN,--lt.count,delete lt[Br],Zr.event&&Zr.event.interrupt.call(fe,fe.__data__,Zr.index));for(var un in lt)if(+un<$e){var vn=lt[un];vn.timer.c=null,vn.timer.t=NaN,--lt.count,delete lt[un]}Ht.c=on,En(function(){return Ht.c&&on(Rr||1)&&(Ht.c=null,Ht.t=NaN),1},0,At),lt.active=$e,Lt.event&&Lt.event.start.call(fe,fe.__data__,Le),Cr=[],Lt.tween.forEach(function(qr,Un){(Un=Un.call(fe,fe.__data__,Le))&&Cr.push(Un)}),tr=Lt.ease,Gt=Lt.duration}function on(Rr){for(var Br=Rr/Gt,Zr=tr(Br),un=Cr.length;un>0;)Cr[--un].call(fe,Zr);if(Br>=1)return Lt.event&&Lt.event.end.call(fe,fe.__data__,Le),--lt.count?delete lt[$e]:delete fe[Fe],1}Lt||(At=nt.time,Ht=En(Pr,0,At),Lt=lt[$e]={tween:new C,time:At,timer:Ht,delay:nt.delay,duration:nt.duration,ease:nt.ease,index:Le},nt=null,++lt.count)}i.svg.axis=function(){var fe=i.scale.linear(),Le=Yn,Fe=6,$e=6,nt=3,lt=[10],Lt=null,At;function Ht(Gt){Gt.each(function(){var tr=i.select(this),Cr=this.__chart__||fe,Pr=this.__chart__=fe.copy(),Jr=Lt??(Pr.ticks?Pr.ticks.apply(Pr,lt):Pr.domain()),on=At??(Pr.tickFormat?Pr.tickFormat.apply(Pr,lt):N),Rr=tr.selectAll(".tick").data(Jr,Pr),Br=Rr.enter().insert("g",".domain").attr("class","tick").style("opacity",me),Zr=i.transition(Rr.exit()).style("opacity",me).remove(),un=i.transition(Rr.order()).style("opacity",1),vn=Math.max(Fe,0)+nt,qr,Un=Bl(Pr),qn=tr.selectAll(".domain").data([0]),ui=(qn.enter().append("path").attr("class","domain"),i.transition(qn));Br.append("line"),Br.append("text");var Qn=Br.select("line"),ii=un.select("line"),fi=Rr.select("text").text(on),Bi=Br.select("text"),Si=un.select("text"),Oi=Le==="top"||Le==="left"?-1:1,ia,Na,fa,Zn;if(Le==="bottom"||Le==="top"?(qr=Ri,ia="x",fa="y",Na="x2",Zn="y2",fi.attr("dy",Oi<0?"0em":".71em").style("text-anchor","middle"),ui.attr("d","M"+Un[0]+","+Oi*$e+"V0H"+Un[1]+"V"+Oi*$e)):(qr=Ii,ia="y",fa="x",Na="y2",Zn="x2",fi.attr("dy",".32em").style("text-anchor",Oi<0?"end":"start"),ui.attr("d","M"+Oi*$e+","+Un[0]+"H0V"+Un[1]+"H"+Oi*$e)),Qn.attr(Zn,Oi*Fe),Bi.attr(fa,Oi*vn),ii.attr(Na,0).attr(Zn,Oi*Fe),Si.attr(ia,0).attr(fa,Oi*vn),Pr.rangeBand){var Hi=Pr,Ai=Hi.rangeBand()/2;Cr=Pr=function(Ki){return Hi(Ki)+Ai}}else Cr.rangeBand?Cr=Pr:Zr.call(qr,Pr,Cr);Br.call(qr,Cr,Pr),un.call(qr,Pr,Pr)})}return Ht.scale=function(Gt){return arguments.length?(fe=Gt,Ht):fe},Ht.orient=function(Gt){return arguments.length?(Le=Gt in Di?Gt+"":Yn,Ht):Le},Ht.ticks=function(){return arguments.length?(lt=b(arguments),Ht):lt},Ht.tickValues=function(Gt){return arguments.length?(Lt=Gt,Ht):Lt},Ht.tickFormat=function(Gt){return arguments.length?(At=Gt,Ht):At},Ht.tickSize=function(Gt){var tr=arguments.length;return tr?(Fe=+Gt,$e=+arguments[tr-1],Ht):Fe},Ht.innerTickSize=function(Gt){return arguments.length?(Fe=+Gt,Ht):Fe},Ht.outerTickSize=function(Gt){return arguments.length?($e=+Gt,Ht):$e},Ht.tickPadding=function(Gt){return arguments.length?(nt=+Gt,Ht):nt},Ht.tickSubdivide=function(){return arguments.length&&Ht},Ht};var Yn="bottom",Di={top:1,right:1,bottom:1,left:1};function Ri(fe,Le,Fe){fe.attr("transform",function($e){var nt=Le($e);return"translate("+(isFinite(nt)?nt:Fe($e))+",0)"})}function Ii(fe,Le,Fe){fe.attr("transform",function($e){var nt=Le($e);return"translate(0,"+(isFinite(nt)?nt:Fe($e))+")"})}i.svg.brush=function(){var fe=q(tr,"brushstart","brush","brushend"),Le=null,Fe=null,$e=[0,0],nt=[0,0],lt,Lt,At=!0,Ht=!0,Gt=Zi[0];function tr(Rr){Rr.each(function(){var Br=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",on).on("touchstart.brush",on),Zr=Br.selectAll(".background").data([0]);Zr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Br.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var un=Br.selectAll(".resize").data(Gt,N);un.exit().remove(),un.enter().append("g").attr("class",function(qn){return"resize "+qn}).style("cursor",function(qn){return Fi[qn]}).append("rect").attr("x",function(qn){return/[ew]$/.test(qn)?-3:null}).attr("y",function(qn){return/^[ns]/.test(qn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),un.style("display",tr.empty()?"none":null);var vn=i.transition(Br),qr=i.transition(Zr),Un;Le&&(Un=Bl(Le),qr.attr("x",Un[0]).attr("width",Un[1]-Un[0]),Pr(vn)),Fe&&(Un=Bl(Fe),qr.attr("y",Un[0]).attr("height",Un[1]-Un[0]),Jr(vn)),Cr(vn)})}tr.event=function(Rr){Rr.each(function(){var Br=fe.of(this,arguments),Zr={x:$e,y:nt,i:lt,j:Lt},un=this.__chart__||Zr;this.__chart__=Zr,_r?i.select(this).transition().each("start.brush",function(){lt=un.i,Lt=un.j,$e=un.x,nt=un.y,Br({type:"brushstart"})}).tween("brush:brush",function(){var vn=Bo($e,Zr.x),qr=Bo(nt,Zr.y);return lt=Lt=null,function(Un){$e=Zr.x=vn(Un),nt=Zr.y=qr(Un),Br({type:"brush",mode:"resize"})}}).each("end.brush",function(){lt=Zr.i,Lt=Zr.j,Br({type:"brush",mode:"resize"}),Br({type:"brushend"})}):(Br({type:"brushstart"}),Br({type:"brush",mode:"resize"}),Br({type:"brushend"}))})};function Cr(Rr){Rr.selectAll(".resize").attr("transform",function(Br){return"translate("+$e[+/e$/.test(Br)]+","+nt[+/^s/.test(Br)]+")"})}function Pr(Rr){Rr.select(".extent").attr("x",$e[0]),Rr.selectAll(".extent,.n>rect,.s>rect").attr("width",$e[1]-$e[0])}function Jr(Rr){Rr.select(".extent").attr("y",nt[0]),Rr.selectAll(".extent,.e>rect,.w>rect").attr("height",nt[1]-nt[0])}function on(){var Rr=this,Br=i.select(i.event.target),Zr=fe.of(Rr,arguments),un=i.select(Rr),vn=Br.datum(),qr=!/^(n|s)$/.test(vn)&&Le,Un=!/^(e|w)$/.test(vn)&&Fe,qn=Br.classed("extent"),ui=Ze(Rr),Qn,ii=i.mouse(Rr),fi,Bi=i.select(r(Rr)).on("keydown.brush",ia).on("keyup.brush",Na);if(i.event.changedTouches?Bi.on("touchmove.brush",fa).on("touchend.brush",Hi):Bi.on("mousemove.brush",fa).on("mouseup.brush",Hi),un.interrupt().selectAll("*").interrupt(),qn)ii[0]=$e[0]-ii[0],ii[1]=nt[0]-ii[1];else if(vn){var Si=+/w$/.test(vn),Oi=+/^n/.test(vn);fi=[$e[1-Si]-ii[0],nt[1-Oi]-ii[1]],ii[0]=$e[Si],ii[1]=nt[Oi]}else i.event.altKey&&(Qn=ii.slice());un.style("pointer-events","none").selectAll(".resize").style("display",null),i.select("body").style("cursor",Br.style("cursor")),Zr({type:"brushstart"}),fa();function ia(){i.event.keyCode==32&&(qn||(Qn=null,ii[0]-=$e[1],ii[1]-=nt[1],qn=2),ne())}function Na(){i.event.keyCode==32&&qn==2&&(ii[0]+=$e[1],ii[1]+=nt[1],qn=0,ne())}function fa(){var Ai=i.mouse(Rr),Ki=!1;fi&&(Ai[0]+=fi[0],Ai[1]+=fi[1]),qn||(i.event.altKey?(Qn||(Qn=[($e[0]+$e[1])/2,(nt[0]+nt[1])/2]),ii[0]=$e[+(Ai[0]<Qn[0])],ii[1]=nt[+(Ai[1]<Qn[1])]):Qn=null),qr&&Zn(Ai,Le,0)&&(Pr(un),Ki=!0),Un&&Zn(Ai,Fe,1)&&(Jr(un),Ki=!0),Ki&&(Cr(un),Zr({type:"brush",mode:qn?"move":"resize"}))}function Zn(Ai,Ki,Ta){var aa=Bl(Ki),qa=aa[0],eo=aa[1],ao=ii[Ta],Aa=Ta?nt:$e,yo=Aa[1]-Aa[0],oi,Ci;if(qn&&(qa-=ao,eo-=yo+ao),oi=(Ta?Ht:At)?Math.max(qa,Math.min(eo,Ai[Ta])):Ai[Ta],qn?Ci=(oi+=ao)+yo:(Qn&&(ao=Math.max(qa,Math.min(eo,2*Qn[Ta]-oi))),ao<oi?(Ci=oi,oi=ao):Ci=ao),Aa[0]!=oi||Aa[1]!=Ci)return Ta?Lt=null:lt=null,Aa[0]=oi,Aa[1]=Ci,!0}function Hi(){fa(),un.style("pointer-events","all").selectAll(".resize").style("display",tr.empty()?"none":null),i.select("body").style("cursor",null),Bi.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),ui(),Zr({type:"brushend"})}}return tr.x=function(Rr){return arguments.length?(Le=Rr,Gt=Zi[!Le<<1|!Fe],tr):Le},tr.y=function(Rr){return arguments.length?(Fe=Rr,Gt=Zi[!Le<<1|!Fe],tr):Fe},tr.clamp=function(Rr){return arguments.length?(Le&&Fe?(At=!!Rr[0],Ht=!!Rr[1]):Le?At=!!Rr:Fe&&(Ht=!!Rr),tr):Le&&Fe?[At,Ht]:Le?At:Fe?Ht:null},tr.extent=function(Rr){var Br,Zr,un,vn,qr;return arguments.length?(Le&&(Br=Rr[0],Zr=Rr[1],Fe&&(Br=Br[0],Zr=Zr[0]),lt=[Br,Zr],Le.invert&&(Br=Le(Br),Zr=Le(Zr)),Zr<Br&&(qr=Br,Br=Zr,Zr=qr),(Br!=$e[0]||Zr!=$e[1])&&($e=[Br,Zr])),Fe&&(un=Rr[0],vn=Rr[1],Le&&(un=un[1],vn=vn[1]),Lt=[un,vn],Fe.invert&&(un=Fe(un),vn=Fe(vn)),vn<un&&(qr=un,un=vn,vn=qr),(un!=nt[0]||vn!=nt[1])&&(nt=[un,vn])),tr):(Le&&(lt?(Br=lt[0],Zr=lt[1]):(Br=$e[0],Zr=$e[1],Le.invert&&(Br=Le.invert(Br),Zr=Le.invert(Zr)),Zr<Br&&(qr=Br,Br=Zr,Zr=qr))),Fe&&(Lt?(un=Lt[0],vn=Lt[1]):(un=nt[0],vn=nt[1],Fe.invert&&(un=Fe.invert(un),vn=Fe.invert(vn)),vn<un&&(qr=un,un=vn,vn=qr))),Le&&Fe?[[Br,un],[Zr,vn]]:Le?[Br,Zr]:Fe&&[un,vn])},tr.clear=function(){return tr.empty()||($e=[0,0],nt=[0,0],lt=Lt=null),tr},tr.empty=function(){return!!Le&&$e[0]==$e[1]||!!Fe&&nt[0]==nt[1]},i.rebind(tr,fe,"on")};var Fi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Zi=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];i.text=Cn(function(fe){return fe.responseText}),i.json=function(fe,Le){return Sn(fe,"application/json",da,Le)};function da(fe){return JSON.parse(fe.responseText)}i.html=function(fe,Le){return Sn(fe,"text/html",za,Le)};function za(fe){var Le=v.createRange();return Le.selectNode(v.body),Le.createContextualFragment(fe.responseText)}i.xml=Cn(function(fe){return fe.responseXML}),y=i,L=typeof y=="function"?y.call(B,e,B,U):y,L!==void 0&&(U.exports=L)}).apply(self)},3480:function(U){(function(B,e){U.exports=e()})(this,function(){var B,e,y;function L(i,S){if(!B)B=S;else if(!e)e=S;else{var b="var sharedChunk = {}; ("+B+")(sharedChunk); ("+e+")(sharedChunk);",v={};B(v),y=S(v),typeof window<"u"&&(y.workerUrl=window.URL.createObjectURL(new Blob([b],{type:"text/javascript"})))}}return L(["exports"],function(i){function S(D,R){return R={exports:{}},D(R,R.exports),R.exports}var b="1.13.4",v=p;function p(D,R,X,ae){this.cx=3*D,this.bx=3*(X-D)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*R,this.by=3*(ae-R)-this.cy,this.ay=1-this.cy-this.by,this.p1x=D,this.p1y=ae,this.p2x=X,this.p2y=ae}p.prototype.sampleCurveX=function(D){return((this.ax*D+this.bx)*D+this.cx)*D},p.prototype.sampleCurveY=function(D){return((this.ay*D+this.by)*D+this.cy)*D},p.prototype.sampleCurveDerivativeX=function(D){return(3*this.ax*D+2*this.bx)*D+this.cx},p.prototype.solveCurveX=function(D,R){typeof R>"u"&&(R=1e-6);var X,ae,ve,Ae,Ie;for(ve=D,Ie=0;Ie<8;Ie++){if(Ae=this.sampleCurveX(ve)-D,Math.abs(Ae)<R)return ve;var Qe=this.sampleCurveDerivativeX(ve);if(Math.abs(Qe)<1e-6)break;ve=ve-Ae/Qe}if(X=0,ae=1,ve=D,ve<X)return X;if(ve>ae)return ae;for(;X<ae;){if(Ae=this.sampleCurveX(ve),Math.abs(Ae-D)<R)return ve;D>Ae?X=ve:ae=ve,ve=(ae-X)*.5+X}return ve},p.prototype.solve=function(D,R){return this.sampleCurveY(this.solveCurveX(D,R))};var r=t;function t(D,R){this.x=D,this.y=R}t.prototype={clone:function(){return new t(this.x,this.y)},add:function(D){return this.clone()._add(D)},sub:function(D){return this.clone()._sub(D)},multByPoint:function(D){return this.clone()._multByPoint(D)},divByPoint:function(D){return this.clone()._divByPoint(D)},mult:function(D){return this.clone()._mult(D)},div:function(D){return this.clone()._div(D)},rotate:function(D){return this.clone()._rotate(D)},rotateAround:function(D,R){return this.clone()._rotateAround(D,R)},matMult:function(D){return this.clone()._matMult(D)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(D){return this.x===D.x&&this.y===D.y},dist:function(D){return Math.sqrt(this.distSqr(D))},distSqr:function(D){var R=D.x-this.x,X=D.y-this.y;return R*R+X*X},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(D){return Math.atan2(this.y-D.y,this.x-D.x)},angleWith:function(D){return this.angleWithSep(D.x,D.y)},angleWithSep:function(D,R){return Math.atan2(this.x*R-this.y*D,this.x*D+this.y*R)},_matMult:function(D){var R=D[0]*this.x+D[1]*this.y,X=D[2]*this.x+D[3]*this.y;return this.x=R,this.y=X,this},_add:function(D){return this.x+=D.x,this.y+=D.y,this},_sub:function(D){return this.x-=D.x,this.y-=D.y,this},_mult:function(D){return this.x*=D,this.y*=D,this},_div:function(D){return this.x/=D,this.y/=D,this},_multByPoint:function(D){return this.x*=D.x,this.y*=D.y,this},_divByPoint:function(D){return this.x/=D.x,this.y/=D.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var D=this.y;return this.y=this.x,this.x=-D,this},_rotate:function(D){var R=Math.cos(D),X=Math.sin(D),ae=R*this.x-X*this.y,ve=X*this.x+R*this.y;return this.x=ae,this.y=ve,this},_rotateAround:function(D,R){var X=Math.cos(D),ae=Math.sin(D),ve=R.x+X*(this.x-R.x)-ae*(this.y-R.y),Ae=R.y+ae*(this.x-R.x)+X*(this.y-R.y);return this.x=ve,this.y=Ae,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(D){return D instanceof t?D:Array.isArray(D)?new t(D[0],D[1]):D};var a=typeof self<"u"?self:{};function n(D,R){if(Array.isArray(D)){if(!Array.isArray(R)||D.length!==R.length)return!1;for(var X=0;X<D.length;X++)if(!n(D[X],R[X]))return!1;return!0}if(typeof D=="object"&&D!==null&&R!==null){if(typeof R!="object")return!1;var ae=Object.keys(D);if(ae.length!==Object.keys(R).length)return!1;for(var ve in D)if(!n(D[ve],R[ve]))return!1;return!0}return D===R}var u=Math.pow(2,53)-1;function s(D){if(D<=0)return 0;if(D>=1)return 1;var R=D*D,X=R*D;return 4*(D<.5?X:3*(D-R)+X-.75)}function l(D,R,X,ae){var ve=new v(D,R,X,ae);return function(Ae){return ve.solve(Ae)}}var m=l(.25,.1,.25,1);function h(D,R,X){return Math.min(X,Math.max(R,D))}function g(D,R,X){var ae=X-R,ve=((D-R)%ae+ae)%ae+R;return ve===R?X:ve}function c(D,R,X){if(!D.length)return X(null,[]);var ae=D.length,ve=new Array(D.length),Ae=null;D.forEach(function(Ie,Qe){R(Ie,function(vt,Mt){vt&&(Ae=vt),ve[Qe]=Mt,--ae===0&&X(Ae,ve)})})}function o(D){var R=[];for(var X in D)R.push(D[X]);return R}function d(D,R){var X=[];for(var ae in D)ae in R||X.push(ae);return X}function w(D){for(var R=[],X=arguments.length-1;X-- >0;)R[X]=arguments[X+1];for(var ae=0,ve=R;ae<ve.length;ae+=1){var Ae=ve[ae];for(var Ie in Ae)D[Ie]=Ae[Ie]}return D}function A(D,R){for(var X={},ae=0;ae<R.length;ae++){var ve=R[ae];ve in D&&(X[ve]=D[ve])}return X}var C=1;function x(){return C++}function E(){function D(R){return R?(R^Math.random()*16>>R/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,D)}return D()}function M(D){return D<=1?1:Math.pow(2,Math.ceil(Math.log(D)/Math.LN2))}function f(D){return D?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(D):!1}function P(D,R){D.forEach(function(X){R[X]&&(R[X]=R[X].bind(R))})}function T(D,R){return D.indexOf(R,D.length-R.length)!==-1}function z(D,R,X){var ae={};for(var ve in D)ae[ve]=R.call(X||this,D[ve],ve,D);return ae}function _(D,R,X){var ae={};for(var ve in D)R.call(X||this,D[ve],ve,D)&&(ae[ve]=D[ve]);return ae}function V(D){return Array.isArray(D)?D.map(V):typeof D=="object"&&D?z(D,V):D}function F(D,R){for(var X=0;X<D.length;X++)if(R.indexOf(D[X])>=0)return!0;return!1}var N={};function k(D){N[D]||(typeof console<"u"&&console.warn(D),N[D]=!0)}function I(D,R,X){return(X.y-D.y)*(R.x-D.x)>(R.y-D.y)*(X.x-D.x)}function H(D){for(var R=0,X=0,ae=D.length,ve=ae-1,Ae=void 0,Ie=void 0;X<ae;ve=X++)Ae=D[X],Ie=D[ve],R+=(Ie.x-Ae.x)*(Ae.y+Ie.y);return R}function j(D){var R=D[0],X=D[1],ae=D[2];return X+=90,X*=Math.PI/180,ae*=Math.PI/180,{x:R*Math.cos(X)*Math.sin(ae),y:R*Math.sin(X)*Math.sin(ae),z:R*Math.cos(ae)}}function ee(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function te(D){var R=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,X={};if(D.replace(R,function(ve,Ae,Ie,Qe){var vt=Ie||Qe;return X[Ae]=vt?vt.toLowerCase():!0,""}),X["max-age"]){var ae=parseInt(X["max-age"],10);isNaN(ae)?delete X["max-age"]:X["max-age"]=ae}return X}var ne=null;function ue(D){if(ne==null){var R=D.navigator?D.navigator.userAgent:null;ne=!!D.safari||!!(R&&(/\b(iPad|iPhone|iPod)\b/.test(R)||R.match("Safari")&&!R.match("Chrome")))}return ne}function q(D){try{var R=a[D];return R.setItem("_mapbox_test_",1),R.removeItem("_mapbox_test_"),!0}catch{return!1}}function Y(D){return a.btoa(encodeURIComponent(D).replace(/%([0-9A-F]{2})/g,function(R,X){return String.fromCharCode(+("0x"+X))}))}function Z(D){return decodeURIComponent(a.atob(D).split("").map(function(R){return"%"+("00"+R.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var G=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now.bind(Date),K=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,oe=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame,$,J,se={now:G,frame:function(R){var X=K(R);return{cancel:function(){return oe(X)}}},getImageData:function(R,X){X===void 0&&(X=0);var ae=a.document.createElement("canvas"),ve=ae.getContext("2d");if(!ve)throw new Error("failed to create canvas 2d context");return ae.width=R.width,ae.height=R.height,ve.drawImage(R,0,0,R.width,R.height),ve.getImageData(-X,-X,R.width+2*X,R.height+2*X)},resolveURL:function(R){return $||($=a.document.createElement("a")),$.href=R,$.href},hardwareConcurrency:a.navigator&&a.navigator.hardwareConcurrency||4,get devicePixelRatio(){return a.devicePixelRatio},get prefersReducedMotion(){return a.matchMedia?(J==null&&(J=a.matchMedia("(prefers-reduced-motion: reduce)")),J.matches):!1}},ie={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ce={supported:!1,testSupport:we},ye,Se=!1,Te,ke=!1;a.document&&(Te=a.document.createElement("img"),Te.onload=function(){ye&&Ee(ye),ye=null,ke=!0},Te.onerror=function(){Se=!0,ye=null},Te.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function we(D){Se||!Te||(ke?Ee(D):ye=D)}function Ee(D){var R=D.createTexture();D.bindTexture(D.TEXTURE_2D,R);try{if(D.texImage2D(D.TEXTURE_2D,0,D.RGBA,D.RGBA,D.UNSIGNED_BYTE,Te),D.isContextLost())return;ce.supported=!0}catch{}D.deleteTexture(R),Se=!0}var xe="01";function De(){for(var D="1",R="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",X="",ae=0;ae<10;ae++)X+=R[Math.floor(Math.random()*62)];var ve=12*60*60*1e3,Ae=[D,xe,X].join(""),Ie=Date.now()+ve;return{token:Ae,tokenExpiresAt:Ie}}var Ve=function(R,X){this._transformRequestFn=R,this._customAccessToken=X,this._createSkuToken()};Ve.prototype._createSkuToken=function(){var R=De();this._skuToken=R.token,this._skuTokenExpiresAt=R.tokenExpiresAt},Ve.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Ve.prototype.transformRequest=function(R,X){return this._transformRequestFn?this._transformRequestFn(R,X)||{url:R}:{url:R}},Ve.prototype.normalizeStyleURL=function(R,X){if(!Ue(R))return R;var ae=qe(R);return ae.path="/styles/v1"+ae.path,this._makeAPIURL(ae,this._customAccessToken||X)},Ve.prototype.normalizeGlyphsURL=function(R,X){if(!Ue(R))return R;var ae=qe(R);return ae.path="/fonts/v1"+ae.path,this._makeAPIURL(ae,this._customAccessToken||X)},Ve.prototype.normalizeSourceURL=function(R,X){if(!Ue(R))return R;var ae=qe(R);return ae.path="/v4/"+ae.authority+".json",ae.params.push("secure"),this._makeAPIURL(ae,this._customAccessToken||X)},Ve.prototype.normalizeSpriteURL=function(R,X,ae,ve){var Ae=qe(R);return Ue(R)?(Ae.path="/styles/v1"+Ae.path+"/sprite"+X+ae,this._makeAPIURL(Ae,this._customAccessToken||ve)):(Ae.path+=""+X+ae,ft(Ae))},Ve.prototype.normalizeTileURL=function(R,X){if(this._isSkuTokenExpired()&&this._createSkuToken(),R&&!Ue(R))return R;var ae=qe(R),ve=/(\.(png|jpg)\d*)(?=$)/,Ae=/^.+\/v4\//,Ie=se.devicePixelRatio>=2||X===512?"@2x":"",Qe=ce.supported?".webp":"$1";ae.path=ae.path.replace(ve,""+Ie+Qe),ae.path=ae.path.replace(Ae,"/"),ae.path="/v4"+ae.path;var vt=this._customAccessToken||ut(ae.params)||ie.ACCESS_TOKEN;return ie.REQUIRE_ACCESS_TOKEN&&vt&&this._skuToken&&ae.params.push("sku="+this._skuToken),this._makeAPIURL(ae,vt)},Ve.prototype.canonicalizeTileURL=function(R,X){var ae="/v4/",ve=/\.[\w]+$/,Ae=qe(R);if(!Ae.path.match(/(^\/v4\/)/)||!Ae.path.match(ve))return R;var Ie="mapbox://tiles/";Ie+=Ae.path.replace(ae,"");var Qe=Ae.params;return X&&(Qe=Qe.filter(function(vt){return!vt.match(/^access_token=/)})),Qe.length&&(Ie+="?"+Qe.join("&")),Ie},Ve.prototype.canonicalizeTileset=function(R,X){for(var ae=X?Ue(X):!1,ve=[],Ae=0,Ie=R.tiles||[];Ae<Ie.length;Ae+=1){var Qe=Ie[Ae];Xe(Qe)?ve.push(this.canonicalizeTileURL(Qe,ae)):ve.push(Qe)}return ve},Ve.prototype._makeAPIURL=function(R,X){var ae="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ve=qe(ie.API_URL);if(R.protocol=ve.protocol,R.authority=ve.authority,R.protocol==="http"){var Ae=R.params.indexOf("secure");Ae>=0&&R.params.splice(Ae,1)}if(ve.path!=="/"&&(R.path=""+ve.path+R.path),!ie.REQUIRE_ACCESS_TOKEN)return ft(R);if(X=X||ie.ACCESS_TOKEN,!X)throw new Error("An API access token is required to use Mapbox GL. "+ae);if(X[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ae);return R.params=R.params.filter(function(Ie){return Ie.indexOf("access_token")===-1}),R.params.push("access_token="+X),ft(R)};function Ue(D){return D.indexOf("mapbox:")===0}var Be=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Xe(D){return Be.test(D)}function ot(D){return D.indexOf("sku=")>0&&Xe(D)}function ut(D){for(var R=0,X=D;R<X.length;R+=1){var ae=X[R],ve=ae.match(/^access_token=(.*)$/);if(ve)return ve[1]}return null}var et=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function qe(D){var R=D.match(et);if(!R)throw new Error("Unable to parse URL object");return{protocol:R[1],authority:R[2],path:R[3]||"/",params:R[4]?R[4].split("&"):[]}}function ft(D){var R=D.params.length?"?"+D.params.join("&"):"";return D.protocol+"://"+D.authority+D.path+R}var ht="mapbox.eventData";function dt(D){if(!D)return null;var R=D.split(".");if(!R||R.length!==3)return null;try{var X=JSON.parse(Z(R[1]));return X}catch{return null}}var mt=function(R){this.type=R,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};mt.prototype.getStorageKey=function(R){var X=dt(ie.ACCESS_TOKEN),ae="";return X&&X.u?ae=Y(X.u):ae=ie.ACCESS_TOKEN||"",R?ht+"."+R+":"+ae:ht+":"+ae},mt.prototype.fetchEventData=function(){var R=q("localStorage"),X=this.getStorageKey(),ae=this.getStorageKey("uuid");if(R)try{var ve=a.localStorage.getItem(X);ve&&(this.eventData=JSON.parse(ve));var Ae=a.localStorage.getItem(ae);Ae&&(this.anonId=Ae)}catch{k("Unable to read from LocalStorage")}},mt.prototype.saveEventData=function(){var R=q("localStorage"),X=this.getStorageKey(),ae=this.getStorageKey("uuid");if(R)try{a.localStorage.setItem(ae,this.anonId),Object.keys(this.eventData).length>=1&&a.localStorage.setItem(X,JSON.stringify(this.eventData))}catch{k("Unable to write to LocalStorage")}},mt.prototype.processRequests=function(R){},mt.prototype.postEvent=function(R,X,ae,ve){var Ae=this;if(ie.EVENTS_URL){var Ie=qe(ie.EVENTS_URL);Ie.params.push("access_token="+(ve||ie.ACCESS_TOKEN||""));var Qe={event:this.type,created:new Date(R).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:b,skuId:xe,userId:this.anonId},vt=X?w(Qe,X):Qe,Mt={url:ft(Ie),headers:{"Content-Type":"text/plain"},body:JSON.stringify([vt])};this.pendingRequest=Nt(Mt,function(Pt){Ae.pendingRequest=null,ae(Pt),Ae.saveEventData(),Ae.processRequests(ve)})}},mt.prototype.queueRequest=function(R,X){this.queue.push(R),this.processRequests(X)};var St=function(D){function R(){D.call(this,"map.load"),this.success={},this.skuToken=""}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.postMapLoadEvent=function(ae,ve,Ae,Ie){this.skuToken=Ae,(ie.EVENTS_URL&&Ie||ie.ACCESS_TOKEN&&Array.isArray(ae)&&ae.some(function(Qe){return Ue(Qe)||Xe(Qe)}))&&this.queueRequest({id:ve,timestamp:Date.now()},Ie)},R.prototype.processRequests=function(ae){var ve=this;if(!(this.pendingRequest||this.queue.length===0)){var Ae=this.queue.shift(),Ie=Ae.id,Qe=Ae.timestamp;Ie&&this.success[Ie]||(this.anonId||this.fetchEventData(),f(this.anonId)||(this.anonId=E()),this.postEvent(Qe,{skuToken:this.skuToken},function(vt){vt||Ie&&(ve.success[Ie]=!0)},ae))}},R}(mt),rt=function(D){function R(X){D.call(this,"appUserTurnstile"),this._customAccessToken=X}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.postTurnstileEvent=function(ae,ve){ie.EVENTS_URL&&ie.ACCESS_TOKEN&&Array.isArray(ae)&&ae.some(function(Ae){return Ue(Ae)||Xe(Ae)})&&this.queueRequest(Date.now(),ve)},R.prototype.processRequests=function(ae){var ve=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var Ae=dt(ie.ACCESS_TOKEN),Ie=Ae?Ae.u:ie.ACCESS_TOKEN,Qe=Ie!==this.eventData.tokenU;f(this.anonId)||(this.anonId=E(),Qe=!0);var vt=this.queue.shift();if(this.eventData.lastSuccess){var Mt=new Date(this.eventData.lastSuccess),Pt=new Date(vt),Wt=(vt-this.eventData.lastSuccess)/(24*60*60*1e3);Qe=Qe||Wt>=1||Wt<-1||Mt.getDate()!==Pt.getDate()}else Qe=!0;if(!Qe)return this.processRequests();this.postEvent(vt,{"enabled.telemetry":!1},function(nr){nr||(ve.eventData.lastSuccess=vt,ve.eventData.tokenU=Ie)},ae)}},R}(mt),Oe=new rt,Ye=Oe.postTurnstileEvent.bind(Oe),Ze=new St,Ge=Ze.postMapLoadEvent.bind(Ze),_e="mapbox-tiles",be=500,me=50,Ce=1e3*60*7,Me;function Ne(){a.caches&&!Me&&(Me=a.caches.open(_e))}var je;function tt(D,R){if(je===void 0)try{new Response(new ReadableStream),je=!0}catch{je=!1}je?R(D.body):D.blob().then(R)}function ct(D,R,X){if(Ne(),!!Me){var ae={status:R.status,statusText:R.statusText,headers:new a.Headers};R.headers.forEach(function(Ie,Qe){return ae.headers.set(Qe,Ie)});var ve=te(R.headers.get("Cache-Control")||"");if(!ve["no-store"]){ve["max-age"]&&ae.headers.set("Expires",new Date(X+ve["max-age"]*1e3).toUTCString());var Ae=new Date(ae.headers.get("Expires")).getTime()-X;Ae<Ce||tt(R,function(Ie){var Qe=new a.Response(Ie,ae);Ne(),Me&&Me.then(function(vt){return vt.put(pt(D.url),Qe)}).catch(function(vt){return k(vt.message)})})}}}function pt(D){var R=D.indexOf("?");return R<0?D:D.slice(0,R)}function Xt(D,R){if(Ne(),!Me)return R(null);var X=pt(D.url);Me.then(function(ae){ae.match(X).then(function(ve){var Ae=Yt(ve);ae.delete(X),Ae&&ae.put(X,ve.clone()),R(null,ve,Ae)}).catch(R)}).catch(R)}function Yt(D){if(!D)return!1;var R=new Date(D.headers.get("Expires")||0),X=te(D.headers.get("Cache-Control")||"");return R>Date.now()&&!X["no-cache"]}var Tt=1/0;function _t(D){Tt++,Tt>me&&(D.getActor().send("enforceCacheSizeLimit",be),Tt=0)}function Qt(D){Ne(),Me&&Me.then(function(R){R.keys().then(function(X){for(var ae=0;ae<X.length-D;ae++)R.delete(X[ae])})})}function wr(D){var R=a.caches.delete(_e);D&&R.catch(D).then(function(){return D()})}function xt(D,R){be=D,me=R}var jt;function Jt(){return jt==null&&(jt=a.OffscreenCanvas&&new a.OffscreenCanvas(1,1).getContext("2d")&&typeof a.createImageBitmap=="function"),jt}var gr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(gr);var or=function(D){function R(X,ae,ve){ae===401&&Xe(ve)&&(X+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),D.call(this,X),this.status=ae,this.url=ve,this.name=this.constructor.name,this.message=X}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},R}(Error),yt=ee()?function(){return self.worker&&self.worker.referrer}:function(){return(a.location.protocol==="blob:"?a.parent:a).location.href},at=function(D){return/^file:/.test(D)||/^file:/.test(yt())&&!/^\w+:/.test(D)};function wt(D,R){var X=new a.AbortController,ae=new a.Request(D.url,{method:D.method||"GET",body:D.body,credentials:D.credentials,headers:D.headers,referrer:yt(),signal:X.signal}),ve=!1,Ae=!1,Ie=ot(ae.url);D.type==="json"&&ae.headers.set("Accept","application/json");var Qe=function(Mt,Pt,Wt){if(!Ae){if(Mt&&Mt.message!=="SecurityError"&&k(Mt),Pt&&Wt)return vt(Pt);var nr=Date.now();a.fetch(ae).then(function(qt){if(qt.ok){var yr=Ie?qt.clone():null;return vt(qt,yr,nr)}else return R(new or(qt.statusText,qt.status,D.url))}).catch(function(qt){qt.code!==20&&R(new Error(qt.message))})}},vt=function(Mt,Pt,Wt){(D.type==="arrayBuffer"?Mt.arrayBuffer():D.type==="json"?Mt.json():Mt.text()).then(function(nr){Ae||(Pt&&Wt&&ct(ae,Pt,Wt),ve=!0,R(null,nr,Mt.headers.get("Cache-Control"),Mt.headers.get("Expires")))}).catch(function(nr){Ae||R(new Error(nr.message))})};return Ie?Xt(ae,Qe):Qe(null,null),{cancel:function(){Ae=!0,ve||X.abort()}}}function Et(D,R){var X=new a.XMLHttpRequest;X.open(D.method||"GET",D.url,!0),D.type==="arrayBuffer"&&(X.responseType="arraybuffer");for(var ae in D.headers)X.setRequestHeader(ae,D.headers[ae]);return D.type==="json"&&(X.responseType="text",X.setRequestHeader("Accept","application/json")),X.withCredentials=D.credentials==="include",X.onerror=function(){R(new Error(X.statusText))},X.onload=function(){if((X.status>=200&&X.status<300||X.status===0)&&X.response!==null){var ve=X.response;if(D.type==="json")try{ve=JSON.parse(X.response)}catch(Ae){return R(Ae)}R(null,ve,X.getResponseHeader("Cache-Control"),X.getResponseHeader("Expires"))}else R(new or(X.statusText,X.status,D.url))},X.send(D.body),{cancel:function(){return X.abort()}}}var Rt=function(D,R){if(!at(D.url)){if(a.fetch&&a.Request&&a.AbortController&&a.Request.prototype.hasOwnProperty("signal"))return wt(D,R);if(ee()&&self.worker&&self.worker.actor){var X=!0;return self.worker.actor.send("getResource",D,R,void 0,X)}}return Et(D,R)},Dt=function(D,R){return Rt(w(D,{type:"json"}),R)},Ut=function(D,R){return Rt(w(D,{type:"arrayBuffer"}),R)},Nt=function(D,R){return Rt(w(D,{method:"POST"}),R)};function Kt(D){var R=a.document.createElement("a");return R.href=D,R.protocol===a.document.location.protocol&&R.host===a.document.location.host}var ur="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function fr(D,R,X,ae){var ve=new a.Image,Ae=a.URL;ve.onload=function(){R(null,ve),Ae.revokeObjectURL(ve.src),ve.onload=null,a.requestAnimationFrame(function(){ve.src=ur})},ve.onerror=function(){return R(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Ie=new a.Blob([new Uint8Array(D)],{type:"image/png"});ve.cacheControl=X,ve.expires=ae,ve.src=D.byteLength?Ae.createObjectURL(Ie):ur}function vr(D,R){var X=new a.Blob([new Uint8Array(D)],{type:"image/png"});a.createImageBitmap(X).then(function(ae){R(null,ae)}).catch(function(ae){R(new Error("Could not load image because of "+ae.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var We,He,zt=function(){We=[],He=0};zt();var kt=function(D,R){if(ce.supported&&(D.headers||(D.headers={}),D.headers.accept="image/webp,*/*"),He>=ie.MAX_PARALLEL_IMAGE_REQUESTS){var X={requestParameters:D,callback:R,cancelled:!1,cancel:function(){this.cancelled=!0}};return We.push(X),X}He++;var ae=!1,ve=function(){if(!ae)for(ae=!0,He--;We.length&&He<ie.MAX_PARALLEL_IMAGE_REQUESTS;){var Ie=We.shift(),Qe=Ie.requestParameters,vt=Ie.callback,Mt=Ie.cancelled;Mt||(Ie.cancel=kt(Qe,vt).cancel)}},Ae=Ut(D,function(Ie,Qe,vt,Mt){ve(),Ie?R(Ie):Qe&&(Jt()?vr(Qe,R):fr(Qe,R,vt,Mt))});return{cancel:function(){Ae.cancel(),ve()}}},Zt=function(D,R){var X=a.document.createElement("video");X.muted=!0,X.onloadstart=function(){R(null,X)};for(var ae=0;ae<D.length;ae++){var ve=a.document.createElement("source");Kt(D[ae])||(X.crossOrigin="Anonymous"),ve.src=D[ae],X.appendChild(ve)}return{cancel:function(){}}};function er(D,R,X){var ae=X[D]&&X[D].indexOf(R)!==-1;ae||(X[D]=X[D]||[],X[D].push(R))}function lr(D,R,X){if(X&&X[D]){var ae=X[D].indexOf(R);ae!==-1&&X[D].splice(ae,1)}}var rr=function(R,X){X===void 0&&(X={}),w(this,X),this.type=R},Ft=function(D){function R(X,ae){ae===void 0&&(ae={}),D.call(this,"error",w({error:X},ae))}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R}(rr),cr=function(){};cr.prototype.on=function(R,X){return this._listeners=this._listeners||{},er(R,X,this._listeners),this},cr.prototype.off=function(R,X){return lr(R,X,this._listeners),lr(R,X,this._oneTimeListeners),this},cr.prototype.once=function(R,X){return this._oneTimeListeners=this._oneTimeListeners||{},er(R,X,this._oneTimeListeners),this},cr.prototype.fire=function(R,X){typeof R=="string"&&(R=new rr(R,X||{}));var ae=R.type;if(this.listens(ae)){R.target=this;for(var ve=this._listeners&&this._listeners[ae]?this._listeners[ae].slice():[],Ae=0,Ie=ve;Ae<Ie.length;Ae+=1){var Qe=Ie[Ae];Qe.call(this,R)}for(var vt=this._oneTimeListeners&&this._oneTimeListeners[ae]?this._oneTimeListeners[ae].slice():[],Mt=0,Pt=vt;Mt<Pt.length;Mt+=1){var Wt=Pt[Mt];lr(ae,Wt,this._oneTimeListeners),Wt.call(this,R)}var nr=this._eventedParent;nr&&(w(R,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),nr.fire(R))}else R instanceof Ft&&console.error(R.error);return this},cr.prototype.listens=function(R){return this._listeners&&this._listeners[R]&&this._listeners[R].length>0||this._oneTimeListeners&&this._oneTimeListeners[R]&&this._oneTimeListeners[R].length>0||this._eventedParent&&this._eventedParent.listens(R)},cr.prototype.setEventedParent=function(R,X){return this._eventedParent=R,this._eventedParentData=X,this};var pr=8,mr={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},hr={"*":{type:"source"}},Gr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Dr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Ir={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},cn={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},rn={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Cn={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Sn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Tr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Lr=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Wr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Ur={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},an={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},pn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},gn={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},En={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},On={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ni={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ci={type:"array",value:"*"},di={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},li={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},ri={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},br={type:"array",value:"*",minimum:1},nn={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},$r=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],dn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},Vn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},wn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Tn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Nn={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Jn={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},gi={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},_i={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Sr={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},zr={"*":{type:"string"}},Ar={$version:pr,$root:mr,sources:hr,source:Gr,source_vector:Dr,source_raster:Ir,source_raster_dem:cn,source_geojson:rn,source_video:Cn,source_image:Sn,layer:Tr,layout:Lr,layout_background:Wr,layout_fill:Ur,layout_circle:an,layout_heatmap:pn,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:gn,layout_symbol:En,layout_raster:On,layout_hillshade:ni,filter:ci,filter_operator:di,geometry_type:li,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:ri,expression:br,light:nn,paint:$r,paint_fill:dn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:Vn,paint_circle:wn,paint_heatmap:Tn,paint_symbol:Nn,paint_raster:Jn,paint_hillshade:gi,paint_background:_i,transition:Sr,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:zr},Fr=function(R,X,ae,ve){this.message=(R?R+": ":"")+ae,ve&&(this.identifier=ve),X!=null&&X.__line__&&(this.line=X.__line__)};function xn(D){var R=D.key,X=D.value;return X?[new Fr(R,X,"constants have been deprecated as of v8")]:[]}function In(D){for(var R=[],X=arguments.length-1;X-- >0;)R[X]=arguments[X+1];for(var ae=0,ve=R;ae<ve.length;ae+=1){var Ae=ve[ae];for(var Ie in Ae)D[Ie]=Ae[Ie]}return D}function hn(D){return D instanceof Number||D instanceof String||D instanceof Boolean?D.valueOf():D}function sn(D){if(Array.isArray(D))return D.map(sn);if(D instanceof Object&&!(D instanceof Number||D instanceof String||D instanceof Boolean)){var R={};for(var X in D)R[X]=sn(D[X]);return R}return hn(D)}var Er=function(D){function R(X,ae){D.call(this,ae),this.message=ae,this.key=X}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R}(Error),jr=function(R,X){X===void 0&&(X=[]),this.parent=R,this.bindings={};for(var ae=0,ve=X;ae<ve.length;ae+=1){var Ae=ve[ae],Ie=Ae[0],Qe=Ae[1];this.bindings[Ie]=Qe}};jr.prototype.concat=function(R){return new jr(this,R)},jr.prototype.get=function(R){if(this.bindings[R])return this.bindings[R];if(this.parent)return this.parent.get(R);throw new Error(R+" not found in scope.")},jr.prototype.has=function(R){return this.bindings[R]?!0:this.parent?this.parent.has(R):!1};var Vr={kind:"null"},Qr={kind:"number"},bn={kind:"string"},Ln={kind:"boolean"},Pn={kind:"color"},Bn={kind:"object"},zn={kind:"value"},yi={kind:"error"},ai={kind:"collator"},pi={kind:"formatted"},Pi={kind:"resolvedImage"};function ga(D,R){return{kind:"array",itemType:D,N:R}}function na(D){if(D.kind==="array"){var R=na(D.itemType);return typeof D.N=="number"?"array<"+R+", "+D.N+">":D.itemType.kind==="value"?"array":"array<"+R+">"}else return D.kind}var No=[Vr,Qr,bn,Ln,Pn,pi,Bn,ga(zn),Pi];function Do(D,R){if(R.kind==="error")return null;if(D.kind==="array"){if(R.kind==="array"&&(R.N===0&&R.itemType.kind==="value"||!Do(D.itemType,R.itemType))&&(typeof D.N!="number"||D.N===R.N))return null}else{if(D.kind===R.kind)return null;if(D.kind==="value")for(var X=0,ae=No;X<ae.length;X+=1){var ve=ae[X];if(!Do(ve,R))return null}}return"Expected "+na(D)+" but found "+na(R)+" instead."}function ro(D,R){return R.some(function(X){return X.kind===D.kind})}function Cl(D,R){return R.some(function(X){return X==="null"?D===null:X==="array"?Array.isArray(D):X==="object"?D&&!Array.isArray(D)&&typeof D=="object":X===typeof D})}var hf=S(function(D,R){var X={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ae(Mt){return Mt=Math.round(Mt),Mt<0?0:Mt>255?255:Mt}function ve(Mt){return Mt<0?0:Mt>1?1:Mt}function Ae(Mt){return Mt[Mt.length-1]==="%"?ae(parseFloat(Mt)/100*255):ae(parseInt(Mt))}function Ie(Mt){return Mt[Mt.length-1]==="%"?ve(parseFloat(Mt)/100):ve(parseFloat(Mt))}function Qe(Mt,Pt,Wt){return Wt<0?Wt+=1:Wt>1&&(Wt-=1),Wt*6<1?Mt+(Pt-Mt)*Wt*6:Wt*2<1?Pt:Wt*3<2?Mt+(Pt-Mt)*(2/3-Wt)*6:Mt}function vt(Mt){var Pt=Mt.replace(/ /g,"").toLowerCase();if(Pt in X)return X[Pt].slice();if(Pt[0]==="#"){if(Pt.length===4){var Wt=parseInt(Pt.substr(1),16);return Wt>=0&&Wt<=4095?[(Wt&3840)>>4|(Wt&3840)>>8,Wt&240|(Wt&240)>>4,Wt&15|(Wt&15)<<4,1]:null}else if(Pt.length===7){var Wt=parseInt(Pt.substr(1),16);return Wt>=0&&Wt<=16777215?[(Wt&16711680)>>16,(Wt&65280)>>8,Wt&255,1]:null}return null}var nr=Pt.indexOf("("),qt=Pt.indexOf(")");if(nr!==-1&&qt+1===Pt.length){var yr=Pt.substr(0,nr),Or=Pt.substr(nr+1,qt-(nr+1)).split(","),ln=1;switch(yr){case"rgba":if(Or.length!==4)return null;ln=Ie(Or.pop());case"rgb":return Or.length!==3?null:[Ae(Or[0]),Ae(Or[1]),Ae(Or[2]),ln];case"hsla":if(Or.length!==4)return null;ln=Ie(Or.pop());case"hsl":if(Or.length!==3)return null;var en=(parseFloat(Or[0])%360+360)%360/360,Mn=Ie(Or[1]),yn=Ie(Or[2]),An=yn<=.5?yn*(Mn+1):yn+Mn-yn*Mn,kn=yn*2-An;return[ae(Qe(kn,An,en+1/3)*255),ae(Qe(kn,An,en)*255),ae(Qe(kn,An,en-1/3)*255),ln];default:return null}}return null}try{R.parseCSSColor=vt}catch{}}),$f=hf.parseCSSColor,ea=function(R,X,ae,ve){ve===void 0&&(ve=1),this.r=R,this.g=X,this.b=ae,this.a=ve};ea.parse=function(R){if(R){if(R instanceof ea)return R;if(typeof R=="string"){var X=$f(R);if(X)return new ea(X[0]/255*X[3],X[1]/255*X[3],X[2]/255*X[3],X[3])}}},ea.prototype.toString=function(){var R=this.toArray(),X=R[0],ae=R[1],ve=R[2],Ae=R[3];return"rgba("+Math.round(X)+","+Math.round(ae)+","+Math.round(ve)+","+Ae+")"},ea.prototype.toArray=function(){var R=this,X=R.r,ae=R.g,ve=R.b,Ae=R.a;return Ae===0?[0,0,0,0]:[X*255/Ae,ae*255/Ae,ve*255/Ae,Ae]},ea.black=new ea(0,0,0,1),ea.white=new ea(1,1,1,1),ea.transparent=new ea(0,0,0,0),ea.red=new ea(1,0,0,1);var au=function(R,X,ae){R?this.sensitivity=X?"variant":"case":this.sensitivity=X?"accent":"base",this.locale=ae,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};au.prototype.compare=function(R,X){return this.collator.compare(R,X)},au.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var vf=function(R,X,ae,ve,Ae){this.text=R,this.image=X,this.scale=ae,this.fontStack=ve,this.textColor=Ae},Ja=function(R){this.sections=R};Ja.fromString=function(R){return new Ja([new vf(R,null,null,null,null)])},Ja.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(R){return R.text.length!==0||R.image&&R.image.name.length!==0})},Ja.factory=function(R){return R instanceof Ja?R:Ja.fromString(R)},Ja.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(R){return R.text}).join("")},Ja.prototype.serialize=function(){for(var R=["format"],X=0,ae=this.sections;X<ae.length;X+=1){var ve=ae[X];if(ve.image){R.push(["image",ve.image.name]);continue}R.push(ve.text);var Ae={};ve.fontStack&&(Ae["text-font"]=["literal",ve.fontStack.split(",")]),ve.scale&&(Ae["font-scale"]=ve.scale),ve.textColor&&(Ae["text-color"]=["rgba"].concat(ve.textColor.toArray())),R.push(Ae)}return R};var To=function(R){this.name=R.name,this.available=R.available};To.prototype.toString=function(){return this.name},To.fromString=function(R){return R?new To({name:R,available:!1}):null},To.prototype.serialize=function(){return["image",this.name]};function Ll(D,R,X,ae){if(!(typeof D=="number"&&D>=0&&D<=255&&typeof R=="number"&&R>=0&&R<=255&&typeof X=="number"&&X>=0&&X<=255)){var ve=typeof ae=="number"?[D,R,X,ae]:[D,R,X];return"Invalid rgba value ["+ve.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ae>"u"||typeof ae=="number"&&ae>=0&&ae<=1?null:"Invalid rgba value ["+[D,R,X,ae].join(", ")+"]: 'a' must be between 0 and 1."}function Nu(D){if(D===null)return!0;if(typeof D=="string")return!0;if(typeof D=="boolean")return!0;if(typeof D=="number")return!0;if(D instanceof ea)return!0;if(D instanceof au)return!0;if(D instanceof Ja)return!0;if(D instanceof To)return!0;if(Array.isArray(D)){for(var R=0,X=D;R<X.length;R+=1){var ae=X[R];if(!Nu(ae))return!1}return!0}else if(typeof D=="object"){for(var ve in D)if(!Nu(D[ve]))return!1;return!0}else return!1}function ka(D){if(D===null)return Vr;if(typeof D=="string")return bn;if(typeof D=="boolean")return Ln;if(typeof D=="number")return Qr;if(D instanceof ea)return Pn;if(D instanceof au)return ai;if(D instanceof Ja)return pi;if(D instanceof To)return Pi;if(Array.isArray(D)){for(var R=D.length,X,ae=0,ve=D;ae<ve.length;ae+=1){var Ae=ve[ae],Ie=ka(Ae);if(!X)X=Ie;else{if(X===Ie)continue;X=zn;break}}return ga(X||zn,R)}else return Bn}function Pl(D){var R=typeof D;return D===null?"":R==="string"||R==="number"||R==="boolean"?String(D):D instanceof ea||D instanceof Ja||D instanceof To?D.toString():JSON.stringify(D)}var Fa=function(R,X){this.type=R,this.value=X};Fa.parse=function(R,X){if(R.length!==2)return X.error("'literal' expression requires exactly one argument, but found "+(R.length-1)+" instead.");if(!Nu(R[1]))return X.error("invalid value");var ae=R[1],ve=ka(ae),Ae=X.expectedType;return ve.kind==="array"&&ve.N===0&&Ae&&Ae.kind==="array"&&(typeof Ae.N!="number"||Ae.N===0)&&(ve=Ae),new Fa(ve,ae)},Fa.prototype.evaluate=function(){return this.value},Fa.prototype.eachChild=function(){},Fa.prototype.outputDefined=function(){return!0},Fa.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof ea?["rgba"].concat(this.value.toArray()):this.value instanceof Ja?this.value.serialize():this.value};var Ga=function(R){this.name="ExpressionEvaluationError",this.message=R};Ga.prototype.toJSON=function(){return this.message};var Dl={string:bn,number:Qr,boolean:Ln,object:Bn},no=function(R,X){this.type=R,this.args=X};no.parse=function(R,X){if(R.length<2)return X.error("Expected at least one argument.");var ae=1,ve,Ae=R[0];if(Ae==="array"){var Ie;if(R.length>2){var Qe=R[1];if(typeof Qe!="string"||!(Qe in Dl)||Qe==="object")return X.error('The item type argument of "array" must be one of string, number, boolean',1);Ie=Dl[Qe],ae++}else Ie=zn;var vt;if(R.length>3){if(R[2]!==null&&(typeof R[2]!="number"||R[2]<0||R[2]!==Math.floor(R[2])))return X.error('The length argument to "array" must be a positive integer literal',2);vt=R[2],ae++}ve=ga(Ie,vt)}else ve=Dl[Ae];for(var Mt=[];ae<R.length;ae++){var Pt=X.parse(R[ae],ae,zn);if(!Pt)return null;Mt.push(Pt)}return new no(ve,Mt)},no.prototype.evaluate=function(R){for(var X=0;X<this.args.length;X++){var ae=this.args[X].evaluate(R),ve=Do(this.type,ka(ae));if(ve){if(X===this.args.length-1)throw new Ga("Expected value to be of type "+na(this.type)+", but found "+na(ka(ae))+" instead.")}else return ae}return null},no.prototype.eachChild=function(R){this.args.forEach(R)},no.prototype.outputDefined=function(){return this.args.every(function(R){return R.outputDefined()})},no.prototype.serialize=function(){var R=this.type,X=[R.kind];if(R.kind==="array"){var ae=R.itemType;if(ae.kind==="string"||ae.kind==="number"||ae.kind==="boolean"){X.push(ae.kind);var ve=R.N;(typeof ve=="number"||this.args.length>1)&&X.push(ve)}}return X.concat(this.args.map(function(Ae){return Ae.serialize()}))};var io=function(R){this.type=pi,this.sections=R};io.parse=function(R,X){if(R.length<2)return X.error("Expected at least one argument.");var ae=R[1];if(!Array.isArray(ae)&&typeof ae=="object")return X.error("First argument must be an image or text section.");for(var ve=[],Ae=!1,Ie=1;Ie<=R.length-1;++Ie){var Qe=R[Ie];if(Ae&&typeof Qe=="object"&&!Array.isArray(Qe)){Ae=!1;var vt=null;if(Qe["font-scale"]&&(vt=X.parse(Qe["font-scale"],1,Qr),!vt))return null;var Mt=null;if(Qe["text-font"]&&(Mt=X.parse(Qe["text-font"],1,ga(bn)),!Mt))return null;var Pt=null;if(Qe["text-color"]&&(Pt=X.parse(Qe["text-color"],1,Pn),!Pt))return null;var Wt=ve[ve.length-1];Wt.scale=vt,Wt.font=Mt,Wt.textColor=Pt}else{var nr=X.parse(R[Ie],1,zn);if(!nr)return null;var qt=nr.type.kind;if(qt!=="string"&&qt!=="value"&&qt!=="null"&&qt!=="resolvedImage")return X.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Ae=!0,ve.push({content:nr,scale:null,font:null,textColor:null})}}return new io(ve)},io.prototype.evaluate=function(R){var X=function(ae){var ve=ae.content.evaluate(R);return ka(ve)===Pi?new vf("",ve,null,null,null):new vf(Pl(ve),null,ae.scale?ae.scale.evaluate(R):null,ae.font?ae.font.evaluate(R).join(","):null,ae.textColor?ae.textColor.evaluate(R):null)};return new Ja(this.sections.map(X))},io.prototype.eachChild=function(R){for(var X=0,ae=this.sections;X<ae.length;X+=1){var ve=ae[X];R(ve.content),ve.scale&&R(ve.scale),ve.font&&R(ve.font),ve.textColor&&R(ve.textColor)}},io.prototype.outputDefined=function(){return!1},io.prototype.serialize=function(){for(var R=["format"],X=0,ae=this.sections;X<ae.length;X+=1){var ve=ae[X];R.push(ve.content.serialize());var Ae={};ve.scale&&(Ae["font-scale"]=ve.scale.serialize()),ve.font&&(Ae["text-font"]=ve.font.serialize()),ve.textColor&&(Ae["text-color"]=ve.textColor.serialize()),R.push(Ae)}return R};var Bo=function(R){this.type=Pi,this.input=R};Bo.parse=function(R,X){if(R.length!==2)return X.error("Expected two arguments.");var ae=X.parse(R[1],1,bn);return ae?new Bo(ae):X.error("No image name provided.")},Bo.prototype.evaluate=function(R){var X=this.input.evaluate(R),ae=To.fromString(X);return ae&&R.availableImages&&(ae.available=R.availableImages.indexOf(X)>-1),ae},Bo.prototype.eachChild=function(R){R(this.input)},Bo.prototype.outputDefined=function(){return!1},Bo.prototype.serialize=function(){return["image",this.input.serialize()]};var qf={"to-boolean":Ln,"to-color":Pn,"to-number":Qr,"to-string":bn},Ro=function(R,X){this.type=R,this.args=X};Ro.parse=function(R,X){if(R.length<2)return X.error("Expected at least one argument.");var ae=R[0];if((ae==="to-boolean"||ae==="to-string")&&R.length!==2)return X.error("Expected one argument.");for(var ve=qf[ae],Ae=[],Ie=1;Ie<R.length;Ie++){var Qe=X.parse(R[Ie],Ie,zn);if(!Qe)return null;Ae.push(Qe)}return new Ro(ve,Ae)},Ro.prototype.evaluate=function(R){if(this.type.kind==="boolean")return!!this.args[0].evaluate(R);if(this.type.kind==="color"){for(var X,ae,ve=0,Ae=this.args;ve<Ae.length;ve+=1){var Ie=Ae[ve];if(X=Ie.evaluate(R),ae=null,X instanceof ea)return X;if(typeof X=="string"){var Qe=R.parseColor(X);if(Qe)return Qe}else if(Array.isArray(X)&&(X.length<3||X.length>4?ae="Invalid rbga value "+JSON.stringify(X)+": expected an array containing either three or four numeric values.":ae=Ll(X[0],X[1],X[2],X[3]),!ae))return new ea(X[0]/255,X[1]/255,X[2]/255,X[3])}throw new Ga(ae||"Could not parse color from value '"+(typeof X=="string"?X:String(JSON.stringify(X)))+"'")}else if(this.type.kind==="number"){for(var vt=null,Mt=0,Pt=this.args;Mt<Pt.length;Mt+=1){var Wt=Pt[Mt];if(vt=Wt.evaluate(R),vt===null)return 0;var nr=Number(vt);if(!isNaN(nr))return nr}throw new Ga("Could not convert "+JSON.stringify(vt)+" to number.")}else return this.type.kind==="formatted"?Ja.fromString(Pl(this.args[0].evaluate(R))):this.type.kind==="resolvedImage"?To.fromString(Pl(this.args[0].evaluate(R))):Pl(this.args[0].evaluate(R))},Ro.prototype.eachChild=function(R){this.args.forEach(R)},Ro.prototype.outputDefined=function(){return this.args.every(function(R){return R.outputDefined()})},Ro.prototype.serialize=function(){if(this.type.kind==="formatted")return new io([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Bo(this.args[0]).serialize();var R=["to-"+this.type.kind];return this.eachChild(function(X){R.push(X.serialize())}),R};var ah=["Unknown","Point","LineString","Polygon"],ds=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};ds.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},ds.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?ah[this.feature.type]:this.feature.type:null},ds.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},ds.prototype.canonicalID=function(){return this.canonical},ds.prototype.properties=function(){return this.feature&&this.feature.properties||{}},ds.prototype.parseColor=function(R){var X=this._parseColorCache[R];return X||(X=this._parseColorCache[R]=ea.parse(R)),X};var Qa=function(R,X,ae,ve){this.name=R,this.type=X,this._evaluate=ae,this.args=ve};Qa.prototype.evaluate=function(R){return this._evaluate(R,this.args)},Qa.prototype.eachChild=function(R){this.args.forEach(R)},Qa.prototype.outputDefined=function(){return!1},Qa.prototype.serialize=function(){return[this.name].concat(this.args.map(function(R){return R.serialize()}))},Qa.parse=function(R,X){var ae,ve=R[0],Ae=Qa.definitions[ve];if(!Ae)return X.error('Unknown expression "'+ve+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Ie=Array.isArray(Ae)?Ae[0]:Ae.type,Qe=Array.isArray(Ae)?[[Ae[1],Ae[2]]]:Ae.overloads,vt=Qe.filter(function(Ti){var Ei=Ti[0];return!Array.isArray(Ei)||Ei.length===R.length-1}),Mt=null,Pt=0,Wt=vt;Pt<Wt.length;Pt+=1){var nr=Wt[Pt],qt=nr[0],yr=nr[1];Mt=new gs(X.registry,X.path,null,X.scope);for(var Or=[],ln=!1,en=1;en<R.length;en++){var Mn=R[en],yn=Array.isArray(qt)?qt[en-1]:qt.type,An=Mt.parse(Mn,1+Or.length,yn);if(!An){ln=!0;break}Or.push(An)}if(!ln){if(Array.isArray(qt)&&qt.length!==Or.length){Mt.error("Expected "+qt.length+" arguments, but found "+Or.length+" instead.");continue}for(var kn=0;kn<Or.length;kn++){var Gn=Array.isArray(qt)?qt[kn]:qt.type,ti=Or[kn];Mt.concat(kn+1).checkSubtype(Gn,ti.type)}if(Mt.errors.length===0)return new Qa(ve,Ie,yr,Or)}}if(vt.length===1)(ae=X.errors).push.apply(ae,Mt.errors);else{for(var $n=vt.length?vt:Qe,wi=$n.map(function(Ti){var Ei=Ti[0];return df(Ei)}).join(" | "),vi=[],bi=1;bi<R.length;bi++){var Ui=X.parse(R[bi],1+vi.length);if(!Ui)return null;vi.push(na(Ui.type))}X.error("Expected arguments of type "+wi+", but found ("+vi.join(", ")+") instead.")}return null},Qa.register=function(R,X){Qa.definitions=X;for(var ae in X)R[ae]=Qa};function df(D){return Array.isArray(D)?"("+D.map(na).join(", ")+")":"("+na(D.type)+"...)"}var Hs=function(R,X,ae){this.type=ai,this.locale=ae,this.caseSensitive=R,this.diacriticSensitive=X};Hs.parse=function(R,X){if(R.length!==2)return X.error("Expected one argument.");var ae=R[1];if(typeof ae!="object"||Array.isArray(ae))return X.error("Collator options argument must be an object.");var ve=X.parse(ae["case-sensitive"]===void 0?!1:ae["case-sensitive"],1,Ln);if(!ve)return null;var Ae=X.parse(ae["diacritic-sensitive"]===void 0?!1:ae["diacritic-sensitive"],1,Ln);if(!Ae)return null;var Ie=null;return ae.locale&&(Ie=X.parse(ae.locale,1,bn),!Ie)?null:new Hs(ve,Ae,Ie)},Hs.prototype.evaluate=function(R){return new au(this.caseSensitive.evaluate(R),this.diacriticSensitive.evaluate(R),this.locale?this.locale.evaluate(R):null)},Hs.prototype.eachChild=function(R){R(this.caseSensitive),R(this.diacriticSensitive),this.locale&&R(this.locale)},Hs.prototype.outputDefined=function(){return!1},Hs.prototype.serialize=function(){var R={};return R["case-sensitive"]=this.caseSensitive.serialize(),R["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(R.locale=this.locale.serialize()),["collator",R]};var ps=8192;function pf(D,R){D[0]=Math.min(D[0],R[0]),D[1]=Math.min(D[1],R[1]),D[2]=Math.max(D[2],R[0]),D[3]=Math.max(D[3],R[1])}function ec(D){return(180+D)/360}function oh(D){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D*Math.PI/360)))/360}function Bu(D,R){return!(D[0]<=R[0]||D[2]>=R[2]||D[1]<=R[1]||D[3]>=R[3])}function sh(D,R){var X=ec(D[0]),ae=oh(D[1]),ve=Math.pow(2,R.z);return[Math.round(X*ve*ps),Math.round(ae*ve*ps)]}function lh(D,R,X){var ae=D[0]-R[0],ve=D[1]-R[1],Ae=D[0]-X[0],Ie=D[1]-X[1];return ae*Ie-Ae*ve===0&&ae*Ae<=0&&ve*Ie<=0}function uh(D,R,X){return R[1]>D[1]!=X[1]>D[1]&&D[0]<(X[0]-R[0])*(D[1]-R[1])/(X[1]-R[1])+R[0]}function gf(D,R){for(var X=!1,ae=0,ve=R.length;ae<ve;ae++)for(var Ae=R[ae],Ie=0,Qe=Ae.length;Ie<Qe-1;Ie++){if(lh(D,Ae[Ie],Ae[Ie+1]))return!1;uh(D,Ae[Ie],Ae[Ie+1])&&(X=!X)}return X}function fh(D,R){for(var X=0;X<R.length;X++)if(gf(D,R[X]))return!0;return!1}function ch(D,R){return D[0]*R[1]-D[1]*R[0]}function tc(D,R,X,ae){var ve=D[0]-X[0],Ae=D[1]-X[1],Ie=R[0]-X[0],Qe=R[1]-X[1],vt=ae[0]-X[0],Mt=ae[1]-X[1],Pt=ve*Mt-vt*Ae,Wt=Ie*Mt-vt*Qe;return Pt>0&&Wt<0||Pt<0&&Wt>0}function rc(D,R,X,ae){var ve=[R[0]-D[0],R[1]-D[1]],Ae=[ae[0]-X[0],ae[1]-X[1]];return ch(Ae,ve)===0?!1:!!(tc(D,R,X,ae)&&tc(X,ae,D,R))}function sl(D,R,X){for(var ae=0,ve=X;ae<ve.length;ae+=1)for(var Ae=ve[ae],Ie=0;Ie<Ae.length-1;++Ie)if(rc(D,R,Ae[Ie],Ae[Ie+1]))return!0;return!1}function Rl(D,R){for(var X=0;X<D.length;++X)if(!gf(D[X],R))return!1;for(var ae=0;ae<D.length-1;++ae)if(sl(D[ae],D[ae+1],R))return!1;return!0}function ou(D,R){for(var X=0;X<R.length;X++)if(Rl(D,R[X]))return!0;return!1}function su(D,R,X){for(var ae=[],ve=0;ve<D.length;ve++){for(var Ae=[],Ie=0;Ie<D[ve].length;Ie++){var Qe=sh(D[ve][Ie],X);pf(R,Qe),Ae.push(Qe)}ae.push(Ae)}return ae}function nc(D,R,X){for(var ae=[],ve=0;ve<D.length;ve++){var Ae=su(D[ve],R,X);ae.push(Ae)}return ae}function Ls(D,R,X,ae){if(D[0]<X[0]||D[0]>X[2]){var ve=ae*.5,Ae=D[0]-X[0]>ve?-ae:X[0]-D[0]>ve?ae:0;Ae===0&&(Ae=D[0]-X[2]>ve?-ae:X[2]-D[0]>ve?ae:0),D[0]+=Ae}pf(R,D)}function hh(D){D[0]=D[1]=1/0,D[2]=D[3]=-1/0}function Uu(D,R,X,ae){for(var ve=Math.pow(2,ae.z)*ps,Ae=[ae.x*ps,ae.y*ps],Ie=[],Qe=0,vt=D;Qe<vt.length;Qe+=1)for(var Mt=vt[Qe],Pt=0,Wt=Mt;Pt<Wt.length;Pt+=1){var nr=Wt[Pt],qt=[nr.x+Ae[0],nr.y+Ae[1]];Ls(qt,R,X,ve),Ie.push(qt)}return Ie}function ic(D,R,X,ae){for(var ve=Math.pow(2,ae.z)*ps,Ae=[ae.x*ps,ae.y*ps],Ie=[],Qe=0,vt=D;Qe<vt.length;Qe+=1){for(var Mt=vt[Qe],Pt=[],Wt=0,nr=Mt;Wt<nr.length;Wt+=1){var qt=nr[Wt],yr=[qt.x+Ae[0],qt.y+Ae[1]];pf(R,yr),Pt.push(yr)}Ie.push(Pt)}if(R[2]-R[0]<=ve/2){hh(R);for(var Or=0,ln=Ie;Or<ln.length;Or+=1)for(var en=ln[Or],Mn=0,yn=en;Mn<yn.length;Mn+=1){var An=yn[Mn];Ls(An,R,X,ve)}}return Ie}function ac(D,R){var X=[1/0,1/0,-1/0,-1/0],ae=[1/0,1/0,-1/0,-1/0],ve=D.canonicalID();if(R.type==="Polygon"){var Ae=su(R.coordinates,ae,ve),Ie=Uu(D.geometry(),X,ae,ve);if(!Bu(X,ae))return!1;for(var Qe=0,vt=Ie;Qe<vt.length;Qe+=1){var Mt=vt[Qe];if(!gf(Mt,Ae))return!1}}if(R.type==="MultiPolygon"){var Pt=nc(R.coordinates,ae,ve),Wt=Uu(D.geometry(),X,ae,ve);if(!Bu(X,ae))return!1;for(var nr=0,qt=Wt;nr<qt.length;nr+=1){var yr=qt[nr];if(!fh(yr,Pt))return!1}}return!0}function Vu(D,R){var X=[1/0,1/0,-1/0,-1/0],ae=[1/0,1/0,-1/0,-1/0],ve=D.canonicalID();if(R.type==="Polygon"){var Ae=su(R.coordinates,ae,ve),Ie=ic(D.geometry(),X,ae,ve);if(!Bu(X,ae))return!1;for(var Qe=0,vt=Ie;Qe<vt.length;Qe+=1){var Mt=vt[Qe];if(!Rl(Mt,Ae))return!1}}if(R.type==="MultiPolygon"){var Pt=nc(R.coordinates,ae,ve),Wt=ic(D.geometry(),X,ae,ve);if(!Bu(X,ae))return!1;for(var nr=0,qt=Wt;nr<qt.length;nr+=1){var yr=qt[nr];if(!ou(yr,Pt))return!1}}return!0}var Qo=function(R,X){this.type=Ln,this.geojson=R,this.geometries=X};Qo.parse=function(R,X){if(R.length!==2)return X.error("'within' expression requires exactly one argument, but found "+(R.length-1)+" instead.");if(Nu(R[1])){var ae=R[1];if(ae.type==="FeatureCollection")for(var ve=0;ve<ae.features.length;++ve){var Ae=ae.features[ve].geometry.type;if(Ae==="Polygon"||Ae==="MultiPolygon")return new Qo(ae,ae.features[ve].geometry)}else if(ae.type==="Feature"){var Ie=ae.geometry.type;if(Ie==="Polygon"||Ie==="MultiPolygon")return new Qo(ae,ae.geometry)}else if(ae.type==="Polygon"||ae.type==="MultiPolygon")return new Qo(ae,ae)}return X.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Qo.prototype.evaluate=function(R){if(R.geometry()!=null&&R.canonicalID()!=null){if(R.geometryType()==="Point")return ac(R,this.geometries);if(R.geometryType()==="LineString")return Vu(R,this.geometries)}return!1},Qo.prototype.eachChild=function(){},Qo.prototype.outputDefined=function(){return!0},Qo.prototype.serialize=function(){return["within",this.geojson]};function Il(D){if(D instanceof Qa){if(D.name==="get"&&D.args.length===1)return!1;if(D.name==="feature-state")return!1;if(D.name==="has"&&D.args.length===1)return!1;if(D.name==="properties"||D.name==="geometry-type"||D.name==="id")return!1;if(/^filter-/.test(D.name))return!1}if(D instanceof Qo)return!1;var R=!0;return D.eachChild(function(X){R&&!Il(X)&&(R=!1)}),R}function ll(D){if(D instanceof Qa&&D.name==="feature-state")return!1;var R=!0;return D.eachChild(function(X){R&&!ll(X)&&(R=!1)}),R}function lu(D,R){if(D instanceof Qa&&R.indexOf(D.name)>=0)return!1;var X=!0;return D.eachChild(function(ae){X&&!lu(ae,R)&&(X=!1)}),X}var Gs=function(R,X){this.type=X.type,this.name=R,this.boundExpression=X};Gs.parse=function(R,X){if(R.length!==2||typeof R[1]!="string")return X.error("'var' expression requires exactly one string literal argument.");var ae=R[1];return X.scope.has(ae)?new Gs(ae,X.scope.get(ae)):X.error('Unknown variable "'+ae+'". Make sure "'+ae+'" has been bound in an enclosing "let" expression before using it.',1)},Gs.prototype.evaluate=function(R){return this.boundExpression.evaluate(R)},Gs.prototype.eachChild=function(){},Gs.prototype.outputDefined=function(){return!1},Gs.prototype.serialize=function(){return["var",this.name]};var gs=function(R,X,ae,ve,Ae){X===void 0&&(X=[]),ve===void 0&&(ve=new jr),Ae===void 0&&(Ae=[]),this.registry=R,this.path=X,this.key=X.map(function(Ie){return"["+Ie+"]"}).join(""),this.scope=ve,this.errors=Ae,this.expectedType=ae};gs.prototype.parse=function(R,X,ae,ve,Ae){return Ae===void 0&&(Ae={}),X?this.concat(X,ae,ve)._parse(R,Ae):this._parse(R,Ae)},gs.prototype._parse=function(R,X){(R===null||typeof R=="string"||typeof R=="boolean"||typeof R=="number")&&(R=["literal",R]);function ae(Pt,Wt,nr){return nr==="assert"?new no(Wt,[Pt]):nr==="coerce"?new Ro(Wt,[Pt]):Pt}if(Array.isArray(R)){if(R.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ve=R[0];if(typeof ve!="string")return this.error("Expression name must be a string, but found "+typeof ve+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Ae=this.registry[ve];if(Ae){var Ie=Ae.parse(R,this);if(!Ie)return null;if(this.expectedType){var Qe=this.expectedType,vt=Ie.type;if((Qe.kind==="string"||Qe.kind==="number"||Qe.kind==="boolean"||Qe.kind==="object"||Qe.kind==="array")&&vt.kind==="value")Ie=ae(Ie,Qe,X.typeAnnotation||"assert");else if((Qe.kind==="color"||Qe.kind==="formatted"||Qe.kind==="resolvedImage")&&(vt.kind==="value"||vt.kind==="string"))Ie=ae(Ie,Qe,X.typeAnnotation||"coerce");else if(this.checkSubtype(Qe,vt))return null}if(!(Ie instanceof Fa)&&Ie.type.kind!=="resolvedImage"&&yf(Ie)){var Mt=new ds;try{Ie=new Fa(Ie.type,Ie.evaluate(Mt))}catch(Pt){return this.error(Pt.message),null}}return Ie}return this.error('Unknown expression "'+ve+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof R>"u"?this.error("'undefined' value invalid. Use null instead."):typeof R=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof R+" instead.")},gs.prototype.concat=function(R,X,ae){var ve=typeof R=="number"?this.path.concat(R):this.path,Ae=ae?this.scope.concat(ae):this.scope;return new gs(this.registry,ve,X||null,Ae,this.errors)},gs.prototype.error=function(R){for(var X=[],ae=arguments.length-1;ae-- >0;)X[ae]=arguments[ae+1];var ve=""+this.key+X.map(function(Ae){return"["+Ae+"]"}).join("");this.errors.push(new Er(ve,R))},gs.prototype.checkSubtype=function(R,X){var ae=Do(R,X);return ae&&this.error(ae),ae};function yf(D){if(D instanceof Gs)return yf(D.boundExpression);if(D instanceof Qa&&D.name==="error")return!1;if(D instanceof Hs)return!1;if(D instanceof Qo)return!1;var R=D instanceof Ro||D instanceof no,X=!0;return D.eachChild(function(ae){R?X=X&&yf(ae):X=X&&ae instanceof Fa}),X?Il(D)&&lu(D,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function _l(D,R){for(var X=D.length-1,ae=0,ve=X,Ae=0,Ie,Qe;ae<=ve;)if(Ae=Math.floor((ae+ve)/2),Ie=D[Ae],Qe=D[Ae+1],Ie<=R){if(Ae===X||R<Qe)return Ae;ae=Ae+1}else if(Ie>R)ve=Ae-1;else throw new Ga("Input is not a number.");return 0}var $o=function(R,X,ae){this.type=R,this.input=X,this.labels=[],this.outputs=[];for(var ve=0,Ae=ae;ve<Ae.length;ve+=1){var Ie=Ae[ve],Qe=Ie[0],vt=Ie[1];this.labels.push(Qe),this.outputs.push(vt)}};$o.parse=function(R,X){if(R.length-1<4)return X.error("Expected at least 4 arguments, but found only "+(R.length-1)+".");if((R.length-1)%2!==0)return X.error("Expected an even number of arguments.");var ae=X.parse(R[1],1,Qr);if(!ae)return null;var ve=[],Ae=null;X.expectedType&&X.expectedType.kind!=="value"&&(Ae=X.expectedType);for(var Ie=1;Ie<R.length;Ie+=2){var Qe=Ie===1?-1/0:R[Ie],vt=R[Ie+1],Mt=Ie,Pt=Ie+1;if(typeof Qe!="number")return X.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Mt);if(ve.length&&ve[ve.length-1][0]>=Qe)return X.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Mt);var Wt=X.parse(vt,Pt,Ae);if(!Wt)return null;Ae=Ae||Wt.type,ve.push([Qe,Wt])}return new $o(Ae,ae,ve)},$o.prototype.evaluate=function(R){var X=this.labels,ae=this.outputs;if(X.length===1)return ae[0].evaluate(R);var ve=this.input.evaluate(R);if(ve<=X[0])return ae[0].evaluate(R);var Ae=X.length;if(ve>=X[Ae-1])return ae[Ae-1].evaluate(R);var Ie=_l(X,ve);return ae[Ie].evaluate(R)},$o.prototype.eachChild=function(R){R(this.input);for(var X=0,ae=this.outputs;X<ae.length;X+=1){var ve=ae[X];R(ve)}},$o.prototype.outputDefined=function(){return this.outputs.every(function(R){return R.outputDefined()})},$o.prototype.serialize=function(){for(var R=["step",this.input.serialize()],X=0;X<this.labels.length;X++)X>0&&R.push(this.labels[X]),R.push(this.outputs[X].serialize());return R};function Ra(D,R,X){return D*(1-X)+R*X}function mf(D,R,X){return new ea(Ra(D.r,R.r,X),Ra(D.g,R.g,X),Ra(D.b,R.b,X),Ra(D.a,R.a,X))}function vh(D,R,X){return D.map(function(ae,ve){return Ra(ae,R[ve],X)})}var Hu=Object.freeze({__proto__:null,number:Ra,color:mf,array:vh}),kl=.95047,Ol=1,Io=1.08883,Gu=4/29,zl=6/29,Wu=3*zl*zl,dh=zl*zl*zl,oc=Math.PI/180,xf=180/Math.PI;function bf(D){return D>dh?Math.pow(D,.3333333333333333):D/Wu+Gu}function wf(D){return D>zl?D*D*D:Wu*(D-Gu)}function Fl(D){return 255*(D<=.0031308?12.92*D:1.055*Math.pow(D,.4166666666666667)-.055)}function Xu(D){return D/=255,D<=.04045?D/12.92:Math.pow((D+.055)/1.055,2.4)}function uu(D){var R=Xu(D.r),X=Xu(D.g),ae=Xu(D.b),ve=bf((.4124564*R+.3575761*X+.1804375*ae)/kl),Ae=bf((.2126729*R+.7151522*X+.072175*ae)/Ol),Ie=bf((.0193339*R+.119192*X+.9503041*ae)/Io);return{l:116*Ae-16,a:500*(ve-Ae),b:200*(Ae-Ie),alpha:D.a}}function Yu(D){var R=(D.l+16)/116,X=isNaN(D.a)?R:R+D.a/500,ae=isNaN(D.b)?R:R-D.b/200;return R=Ol*wf(R),X=kl*wf(X),ae=Io*wf(ae),new ea(Fl(3.2404542*X-1.5371385*R-.4985314*ae),Fl(-.969266*X+1.8760108*R+.041556*ae),Fl(.0556434*X-.2040259*R+1.0572252*ae),D.alpha)}function ya(D,R,X){return{l:Ra(D.l,R.l,X),a:Ra(D.a,R.a,X),b:Ra(D.b,R.b,X),alpha:Ra(D.alpha,R.alpha,X)}}function sc(D){var R=uu(D),X=R.l,ae=R.a,ve=R.b,Ae=Math.atan2(ve,ae)*xf;return{h:Ae<0?Ae+360:Ae,c:Math.sqrt(ae*ae+ve*ve),l:X,alpha:D.a}}function qo(D){var R=D.h*oc,X=D.c,ae=D.l;return Yu({l:ae,a:Math.cos(R)*X,b:Math.sin(R)*X,alpha:D.alpha})}function lc(D,R,X){var ae=R-D;return D+X*(ae>180||ae<-180?ae-360*Math.round(ae/360):ae)}function Tf(D,R,X){return{h:lc(D.h,R.h,X),c:Ra(D.c,R.c,X),l:Ra(D.l,R.l,X),alpha:Ra(D.alpha,R.alpha,X)}}var ul={forward:uu,reverse:Yu,interpolate:ya},Ws={forward:sc,reverse:qo,interpolate:Tf},ju=Object.freeze({__proto__:null,lab:ul,hcl:Ws}),Oa=function(R,X,ae,ve,Ae){this.type=R,this.operator=X,this.interpolation=ae,this.input=ve,this.labels=[],this.outputs=[];for(var Ie=0,Qe=Ae;Ie<Qe.length;Ie+=1){var vt=Qe[Ie],Mt=vt[0],Pt=vt[1];this.labels.push(Mt),this.outputs.push(Pt)}};Oa.interpolationFactor=function(R,X,ae,ve){var Ae=0;if(R.name==="exponential")Ae=fu(X,R.base,ae,ve);else if(R.name==="linear")Ae=fu(X,1,ae,ve);else if(R.name==="cubic-bezier"){var Ie=R.controlPoints,Qe=new v(Ie[0],Ie[1],Ie[2],Ie[3]);Ae=Qe.solve(fu(X,1,ae,ve))}return Ae},Oa.parse=function(R,X){var ae=R[0],ve=R[1],Ae=R[2],Ie=R.slice(3);if(!Array.isArray(ve)||ve.length===0)return X.error("Expected an interpolation type expression.",1);if(ve[0]==="linear")ve={name:"linear"};else if(ve[0]==="exponential"){var Qe=ve[1];if(typeof Qe!="number")return X.error("Exponential interpolation requires a numeric base.",1,1);ve={name:"exponential",base:Qe}}else if(ve[0]==="cubic-bezier"){var vt=ve.slice(1);if(vt.length!==4||vt.some(function(en){return typeof en!="number"||en<0||en>1}))return X.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ve={name:"cubic-bezier",controlPoints:vt}}else return X.error("Unknown interpolation type "+String(ve[0]),1,0);if(R.length-1<4)return X.error("Expected at least 4 arguments, but found only "+(R.length-1)+".");if((R.length-1)%2!==0)return X.error("Expected an even number of arguments.");if(Ae=X.parse(Ae,2,Qr),!Ae)return null;var Mt=[],Pt=null;ae==="interpolate-hcl"||ae==="interpolate-lab"?Pt=Pn:X.expectedType&&X.expectedType.kind!=="value"&&(Pt=X.expectedType);for(var Wt=0;Wt<Ie.length;Wt+=2){var nr=Ie[Wt],qt=Ie[Wt+1],yr=Wt+3,Or=Wt+4;if(typeof nr!="number")return X.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',yr);if(Mt.length&&Mt[Mt.length-1][0]>=nr)return X.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',yr);var ln=X.parse(qt,Or,Pt);if(!ln)return null;Pt=Pt||ln.type,Mt.push([nr,ln])}return Pt.kind!=="number"&&Pt.kind!=="color"&&!(Pt.kind==="array"&&Pt.itemType.kind==="number"&&typeof Pt.N=="number")?X.error("Type "+na(Pt)+" is not interpolatable."):new Oa(Pt,ae,ve,Ae,Mt)},Oa.prototype.evaluate=function(R){var X=this.labels,ae=this.outputs;if(X.length===1)return ae[0].evaluate(R);var ve=this.input.evaluate(R);if(ve<=X[0])return ae[0].evaluate(R);var Ae=X.length;if(ve>=X[Ae-1])return ae[Ae-1].evaluate(R);var Ie=_l(X,ve),Qe=X[Ie],vt=X[Ie+1],Mt=Oa.interpolationFactor(this.interpolation,ve,Qe,vt),Pt=ae[Ie].evaluate(R),Wt=ae[Ie+1].evaluate(R);return this.operator==="interpolate"?Hu[this.type.kind.toLowerCase()](Pt,Wt,Mt):this.operator==="interpolate-hcl"?Ws.reverse(Ws.interpolate(Ws.forward(Pt),Ws.forward(Wt),Mt)):ul.reverse(ul.interpolate(ul.forward(Pt),ul.forward(Wt),Mt))},Oa.prototype.eachChild=function(R){R(this.input);for(var X=0,ae=this.outputs;X<ae.length;X+=1){var ve=ae[X];R(ve)}},Oa.prototype.outputDefined=function(){return this.outputs.every(function(R){return R.outputDefined()})},Oa.prototype.serialize=function(){var R;this.interpolation.name==="linear"?R=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?R=["linear"]:R=["exponential",this.interpolation.base]:R=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var X=[this.operator,R,this.input.serialize()],ae=0;ae<this.labels.length;ae++)X.push(this.labels[ae],this.outputs[ae].serialize());return X};function fu(D,R,X,ae){var ve=ae-X,Ae=D-X;return ve===0?0:R===1?Ae/ve:(Math.pow(R,Ae)-1)/(Math.pow(R,ve)-1)}var es=function(R,X){this.type=R,this.args=X};es.parse=function(R,X){if(R.length<2)return X.error("Expectected at least one argument.");var ae=null,ve=X.expectedType;ve&&ve.kind!=="value"&&(ae=ve);for(var Ae=[],Ie=0,Qe=R.slice(1);Ie<Qe.length;Ie+=1){var vt=Qe[Ie],Mt=X.parse(vt,1+Ae.length,ae,void 0,{typeAnnotation:"omit"});if(!Mt)return null;ae=ae||Mt.type,Ae.push(Mt)}var Pt=ve&&Ae.some(function(Wt){return Do(ve,Wt.type)});return Pt?new es(zn,Ae):new es(ae,Ae)},es.prototype.evaluate=function(R){for(var X=null,ae=0,ve,Ae=0,Ie=this.args;Ae<Ie.length;Ae+=1){var Qe=Ie[Ae];if(ae++,X=Qe.evaluate(R),X&&X instanceof To&&!X.available&&(ve||(ve=X.name),X=null,ae===this.args.length&&(X=ve)),X!==null)break}return X},es.prototype.eachChild=function(R){this.args.forEach(R)},es.prototype.outputDefined=function(){return this.args.every(function(R){return R.outputDefined()})},es.prototype.serialize=function(){var R=["coalesce"];return this.eachChild(function(X){R.push(X.serialize())}),R};var Ps=function(R,X){this.type=X.type,this.bindings=[].concat(R),this.result=X};Ps.prototype.evaluate=function(R){return this.result.evaluate(R)},Ps.prototype.eachChild=function(R){for(var X=0,ae=this.bindings;X<ae.length;X+=1){var ve=ae[X];R(ve[1])}R(this.result)},Ps.parse=function(R,X){if(R.length<4)return X.error("Expected at least 3 arguments, but found "+(R.length-1)+" instead.");for(var ae=[],ve=1;ve<R.length-1;ve+=2){var Ae=R[ve];if(typeof Ae!="string")return X.error("Expected string, but found "+typeof Ae+" instead.",ve);if(/[^a-zA-Z0-9_]/.test(Ae))return X.error("Variable names must contain only alphanumeric characters or '_'.",ve);var Ie=X.parse(R[ve+1],ve+1);if(!Ie)return null;ae.push([Ae,Ie])}var Qe=X.parse(R[R.length-1],R.length-1,X.expectedType,ae);return Qe?new Ps(ae,Qe):null},Ps.prototype.outputDefined=function(){return this.result.outputDefined()},Ps.prototype.serialize=function(){for(var R=["let"],X=0,ae=this.bindings;X<ae.length;X+=1){var ve=ae[X],Ae=ve[0],Ie=ve[1];R.push(Ae,Ie.serialize())}return R.push(this.result.serialize()),R};var fl=function(R,X,ae){this.type=R,this.index=X,this.input=ae};fl.parse=function(R,X){if(R.length!==3)return X.error("Expected 2 arguments, but found "+(R.length-1)+" instead.");var ae=X.parse(R[1],1,Qr),ve=X.parse(R[2],2,ga(X.expectedType||zn));if(!ae||!ve)return null;var Ae=ve.type;return new fl(Ae.itemType,ae,ve)},fl.prototype.evaluate=function(R){var X=this.index.evaluate(R),ae=this.input.evaluate(R);if(X<0)throw new Ga("Array index out of bounds: "+X+" < 0.");if(X>=ae.length)throw new Ga("Array index out of bounds: "+X+" > "+(ae.length-1)+".");if(X!==Math.floor(X))throw new Ga("Array index must be an integer, but found "+X+" instead.");return ae[X]},fl.prototype.eachChild=function(R){R(this.index),R(this.input)},fl.prototype.outputDefined=function(){return!1},fl.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Xs=function(R,X){this.type=Ln,this.needle=R,this.haystack=X};Xs.parse=function(R,X){if(R.length!==3)return X.error("Expected 2 arguments, but found "+(R.length-1)+" instead.");var ae=X.parse(R[1],1,zn),ve=X.parse(R[2],2,zn);return!ae||!ve?null:ro(ae.type,[Ln,bn,Qr,Vr,zn])?new Xs(ae,ve):X.error("Expected first argument to be of type boolean, string, number or null, but found "+na(ae.type)+" instead")},Xs.prototype.evaluate=function(R){var X=this.needle.evaluate(R),ae=this.haystack.evaluate(R);if(!ae)return!1;if(!Cl(X,["boolean","string","number","null"]))throw new Ga("Expected first argument to be of type boolean, string, number or null, but found "+na(ka(X))+" instead.");if(!Cl(ae,["string","array"]))throw new Ga("Expected second argument to be of type array or string, but found "+na(ka(ae))+" instead.");return ae.indexOf(X)>=0},Xs.prototype.eachChild=function(R){R(this.needle),R(this.haystack)},Xs.prototype.outputDefined=function(){return!0},Xs.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var ts=function(R,X,ae){this.type=Qr,this.needle=R,this.haystack=X,this.fromIndex=ae};ts.parse=function(R,X){if(R.length<=2||R.length>=5)return X.error("Expected 3 or 4 arguments, but found "+(R.length-1)+" instead.");var ae=X.parse(R[1],1,zn),ve=X.parse(R[2],2,zn);if(!ae||!ve)return null;if(!ro(ae.type,[Ln,bn,Qr,Vr,zn]))return X.error("Expected first argument to be of type boolean, string, number or null, but found "+na(ae.type)+" instead");if(R.length===4){var Ae=X.parse(R[3],3,Qr);return Ae?new ts(ae,ve,Ae):null}else return new ts(ae,ve)},ts.prototype.evaluate=function(R){var X=this.needle.evaluate(R),ae=this.haystack.evaluate(R);if(!Cl(X,["boolean","string","number","null"]))throw new Ga("Expected first argument to be of type boolean, string, number or null, but found "+na(ka(X))+" instead.");if(!Cl(ae,["string","array"]))throw new Ga("Expected second argument to be of type array or string, but found "+na(ka(ae))+" instead.");if(this.fromIndex){var ve=this.fromIndex.evaluate(R);return ae.indexOf(X,ve)}return ae.indexOf(X)},ts.prototype.eachChild=function(R){R(this.needle),R(this.haystack),this.fromIndex&&R(this.fromIndex)},ts.prototype.outputDefined=function(){return!1},ts.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var R=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),R]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Ds=function(R,X,ae,ve,Ae,Ie){this.inputType=R,this.type=X,this.input=ae,this.cases=ve,this.outputs=Ae,this.otherwise=Ie};Ds.parse=function(R,X){if(R.length<5)return X.error("Expected at least 4 arguments, but found only "+(R.length-1)+".");if(R.length%2!==1)return X.error("Expected an even number of arguments.");var ae,ve;X.expectedType&&X.expectedType.kind!=="value"&&(ve=X.expectedType);for(var Ae={},Ie=[],Qe=2;Qe<R.length-1;Qe+=2){var vt=R[Qe],Mt=R[Qe+1];Array.isArray(vt)||(vt=[vt]);var Pt=X.concat(Qe);if(vt.length===0)return Pt.error("Expected at least one branch label.");for(var Wt=0,nr=vt;Wt<nr.length;Wt+=1){var qt=nr[Wt];if(typeof qt!="number"&&typeof qt!="string")return Pt.error("Branch labels must be numbers or strings.");if(typeof qt=="number"&&Math.abs(qt)>Number.MAX_SAFE_INTEGER)return Pt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof qt=="number"&&Math.floor(qt)!==qt)return Pt.error("Numeric branch labels must be integer values.");if(!ae)ae=ka(qt);else if(Pt.checkSubtype(ae,ka(qt)))return null;if(typeof Ae[String(qt)]<"u")return Pt.error("Branch labels must be unique.");Ae[String(qt)]=Ie.length}var yr=X.parse(Mt,Qe,ve);if(!yr)return null;ve=ve||yr.type,Ie.push(yr)}var Or=X.parse(R[1],1,zn);if(!Or)return null;var ln=X.parse(R[R.length-1],R.length-1,ve);return!ln||Or.type.kind!=="value"&&X.concat(1).checkSubtype(ae,Or.type)?null:new Ds(ae,ve,Or,Ae,Ie,ln)},Ds.prototype.evaluate=function(R){var X=this.input.evaluate(R),ae=ka(X)===this.inputType&&this.outputs[this.cases[X]]||this.otherwise;return ae.evaluate(R)},Ds.prototype.eachChild=function(R){R(this.input),this.outputs.forEach(R),R(this.otherwise)},Ds.prototype.outputDefined=function(){return this.outputs.every(function(R){return R.outputDefined()})&&this.otherwise.outputDefined()},Ds.prototype.serialize=function(){for(var R=this,X=["match",this.input.serialize()],ae=Object.keys(this.cases).sort(),ve=[],Ae={},Ie=0,Qe=ae;Ie<Qe.length;Ie+=1){var vt=Qe[Ie],Mt=Ae[this.cases[vt]];Mt===void 0?(Ae[this.cases[vt]]=ve.length,ve.push([this.cases[vt],[vt]])):ve[Mt][1].push(vt)}for(var Pt=function(Or){return R.inputType.kind==="number"?Number(Or):Or},Wt=0,nr=ve;Wt<nr.length;Wt+=1){var qt=nr[Wt],Mt=qt[0],yr=qt[1];yr.length===1?X.push(Pt(yr[0])):X.push(yr.map(Pt)),X.push(this.outputs[outputIndex$1].serialize())}return X.push(this.otherwise.serialize()),X};var rs=function(R,X,ae){this.type=R,this.branches=X,this.otherwise=ae};rs.parse=function(R,X){if(R.length<4)return X.error("Expected at least 3 arguments, but found only "+(R.length-1)+".");if(R.length%2!==0)return X.error("Expected an odd number of arguments.");var ae;X.expectedType&&X.expectedType.kind!=="value"&&(ae=X.expectedType);for(var ve=[],Ae=1;Ae<R.length-1;Ae+=2){var Ie=X.parse(R[Ae],Ae,Ln);if(!Ie)return null;var Qe=X.parse(R[Ae+1],Ae+1,ae);if(!Qe)return null;ve.push([Ie,Qe]),ae=ae||Qe.type}var vt=X.parse(R[R.length-1],R.length-1,ae);return vt?new rs(ae,ve,vt):null},rs.prototype.evaluate=function(R){for(var X=0,ae=this.branches;X<ae.length;X+=1){var ve=ae[X],Ae=ve[0],Ie=ve[1];if(Ae.evaluate(R))return Ie.evaluate(R)}return this.otherwise.evaluate(R)},rs.prototype.eachChild=function(R){for(var X=0,ae=this.branches;X<ae.length;X+=1){var ve=ae[X],Ae=ve[0],Ie=ve[1];R(Ae),R(Ie)}R(this.otherwise)},rs.prototype.outputDefined=function(){return this.branches.every(function(R){R[0];var X=R[1];return X.outputDefined()})&&this.otherwise.outputDefined()},rs.prototype.serialize=function(){var R=["case"];return this.eachChild(function(X){R.push(X.serialize())}),R};var Wo=function(R,X,ae,ve){this.type=R,this.input=X,this.beginIndex=ae,this.endIndex=ve};Wo.parse=function(R,X){if(R.length<=2||R.length>=5)return X.error("Expected 3 or 4 arguments, but found "+(R.length-1)+" instead.");var ae=X.parse(R[1],1,zn),ve=X.parse(R[2],2,Qr);if(!ae||!ve)return null;if(!ro(ae.type,[ga(zn),bn,zn]))return X.error("Expected first argument to be of type array or string, but found "+na(ae.type)+" instead");if(R.length===4){var Ae=X.parse(R[3],3,Qr);return Ae?new Wo(ae.type,ae,ve,Ae):null}else return new Wo(ae.type,ae,ve)},Wo.prototype.evaluate=function(R){var X=this.input.evaluate(R),ae=this.beginIndex.evaluate(R);if(!Cl(X,["string","array"]))throw new Ga("Expected first argument to be of type array or string, but found "+na(ka(X))+" instead.");if(this.endIndex){var ve=this.endIndex.evaluate(R);return X.slice(ae,ve)}return X.slice(ae)},Wo.prototype.eachChild=function(R){R(this.input),R(this.beginIndex),this.endIndex&&R(this.endIndex)},Wo.prototype.outputDefined=function(){return!1},Wo.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var R=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),R]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function cu(D,R){return D==="=="||D==="!="?R.kind==="boolean"||R.kind==="string"||R.kind==="number"||R.kind==="null"||R.kind==="value":R.kind==="string"||R.kind==="number"||R.kind==="value"}function ph(D,R,X){return R===X}function gh(D,R,X){return R!==X}function yh(D,R,X){return R<X}function mh(D,R,X){return R>X}function Af(D,R,X){return R<=X}function uc(D,R,X){return R>=X}function Nl(D,R,X,ae){return ae.compare(R,X)===0}function $a(D,R,X,ae){return!Nl(D,R,X,ae)}function Uo(D,R,X,ae){return ae.compare(R,X)<0}function Bl(D,R,X,ae){return ae.compare(R,X)>0}function fc(D,R,X,ae){return ae.compare(R,X)<=0}function hu(D,R,X,ae){return ae.compare(R,X)>=0}function Rs(D,R,X){var ae=D!=="=="&&D!=="!=";return function(){function ve(Ae,Ie,Qe){this.type=Ln,this.lhs=Ae,this.rhs=Ie,this.collator=Qe,this.hasUntypedArgument=Ae.type.kind==="value"||Ie.type.kind==="value"}return ve.parse=function(Ie,Qe){if(Ie.length!==3&&Ie.length!==4)return Qe.error("Expected two or three arguments.");var vt=Ie[0],Mt=Qe.parse(Ie[1],1,zn);if(!Mt)return null;if(!cu(vt,Mt.type))return Qe.concat(1).error('"'+vt+`" comparisons are not supported for type '`+na(Mt.type)+"'.");var Pt=Qe.parse(Ie[2],2,zn);if(!Pt)return null;if(!cu(vt,Pt.type))return Qe.concat(2).error('"'+vt+`" comparisons are not supported for type '`+na(Pt.type)+"'.");if(Mt.type.kind!==Pt.type.kind&&Mt.type.kind!=="value"&&Pt.type.kind!=="value")return Qe.error("Cannot compare types '"+na(Mt.type)+"' and '"+na(Pt.type)+"'.");ae&&(Mt.type.kind==="value"&&Pt.type.kind!=="value"?Mt=new no(Pt.type,[Mt]):Mt.type.kind!=="value"&&Pt.type.kind==="value"&&(Pt=new no(Mt.type,[Pt])));var Wt=null;if(Ie.length===4){if(Mt.type.kind!=="string"&&Pt.type.kind!=="string"&&Mt.type.kind!=="value"&&Pt.type.kind!=="value")return Qe.error("Cannot use collator to compare non-string types.");if(Wt=Qe.parse(Ie[3],3,ai),!Wt)return null}return new ve(Mt,Pt,Wt)},ve.prototype.evaluate=function(Ie){var Qe=this.lhs.evaluate(Ie),vt=this.rhs.evaluate(Ie);if(ae&&this.hasUntypedArgument){var Mt=ka(Qe),Pt=ka(vt);if(Mt.kind!==Pt.kind||!(Mt.kind==="string"||Mt.kind==="number"))throw new Ga('Expected arguments for "'+D+'" to be (string, string) or (number, number), but found ('+Mt.kind+", "+Pt.kind+") instead.")}if(this.collator&&!ae&&this.hasUntypedArgument){var Wt=ka(Qe),nr=ka(vt);if(Wt.kind!=="string"||nr.kind!=="string")return R(Ie,Qe,vt)}return this.collator?X(Ie,Qe,vt,this.collator.evaluate(Ie)):R(Ie,Qe,vt)},ve.prototype.eachChild=function(Ie){Ie(this.lhs),Ie(this.rhs),this.collator&&Ie(this.collator)},ve.prototype.outputDefined=function(){return!0},ve.prototype.serialize=function(){var Ie=[D];return this.eachChild(function(Qe){Ie.push(Qe.serialize())}),Ie},ve}()}var xh=Rs("==",ph,Nl),cc=Rs("!=",gh,$a),hc=Rs("<",yh,Uo),Mf=Rs(">",mh,Bl),vc=Rs("<=",Af,fc),Ao=Rs(">=",uc,hu),ns=function(R,X,ae,ve,Ae){this.type=bn,this.number=R,this.locale=X,this.currency=ae,this.minFractionDigits=ve,this.maxFractionDigits=Ae};ns.parse=function(R,X){if(R.length!==3)return X.error("Expected two arguments.");var ae=X.parse(R[1],1,Qr);if(!ae)return null;var ve=R[2];if(typeof ve!="object"||Array.isArray(ve))return X.error("NumberFormat options argument must be an object.");var Ae=null;if(ve.locale&&(Ae=X.parse(ve.locale,1,bn),!Ae))return null;var Ie=null;if(ve.currency&&(Ie=X.parse(ve.currency,1,bn),!Ie))return null;var Qe=null;if(ve["min-fraction-digits"]&&(Qe=X.parse(ve["min-fraction-digits"],1,Qr),!Qe))return null;var vt=null;return ve["max-fraction-digits"]&&(vt=X.parse(ve["max-fraction-digits"],1,Qr),!vt)?null:new ns(ae,Ae,Ie,Qe,vt)},ns.prototype.evaluate=function(R){return new Intl.NumberFormat(this.locale?this.locale.evaluate(R):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(R):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(R):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(R):void 0}).format(this.number.evaluate(R))},ns.prototype.eachChild=function(R){R(this.number),this.locale&&R(this.locale),this.currency&&R(this.currency),this.minFractionDigits&&R(this.minFractionDigits),this.maxFractionDigits&&R(this.maxFractionDigits)},ns.prototype.outputDefined=function(){return!1},ns.prototype.serialize=function(){var R={};return this.locale&&(R.locale=this.locale.serialize()),this.currency&&(R.currency=this.currency.serialize()),this.minFractionDigits&&(R["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(R["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),R]};var Ys=function(R){this.type=Qr,this.input=R};Ys.parse=function(R,X){if(R.length!==2)return X.error("Expected 1 argument, but found "+(R.length-1)+" instead.");var ae=X.parse(R[1],1);return ae?ae.type.kind!=="array"&&ae.type.kind!=="string"&&ae.type.kind!=="value"?X.error("Expected argument of type string or array, but found "+na(ae.type)+" instead."):new Ys(ae):null},Ys.prototype.evaluate=function(R){var X=this.input.evaluate(R);if(typeof X=="string")return X.length;if(Array.isArray(X))return X.length;throw new Ga("Expected value to be of type string or array, but found "+na(ka(X))+" instead.")},Ys.prototype.eachChild=function(R){R(this.input)},Ys.prototype.outputDefined=function(){return!1},Ys.prototype.serialize=function(){var R=["length"];return this.eachChild(function(X){R.push(X.serialize())}),R};var Ul={"==":xh,"!=":cc,">":Mf,"<":hc,">=":Ao,"<=":vc,array:no,at:fl,boolean:no,case:rs,coalesce:es,collator:Hs,format:io,image:Bo,in:Xs,"index-of":ts,interpolate:Oa,"interpolate-hcl":Oa,"interpolate-lab":Oa,length:Ys,let:Ps,literal:Fa,match:Ds,number:no,"number-format":ns,object:no,slice:Wo,step:$o,string:no,"to-boolean":Ro,"to-color":Ro,"to-number":Ro,"to-string":Ro,var:Gs,within:Qo};function Zu(D,R){var X=R[0],ae=R[1],ve=R[2],Ae=R[3];X=X.evaluate(D),ae=ae.evaluate(D),ve=ve.evaluate(D);var Ie=Ae?Ae.evaluate(D):1,Qe=Ll(X,ae,ve,Ie);if(Qe)throw new Ga(Qe);return new ea(X/255*Ie,ae/255*Ie,ve/255*Ie,Ie)}function cl(D,R){return D in R}function hl(D,R){var X=R[D];return typeof X>"u"?null:X}function dc(D,R,X,ae){for(;X<=ae;){var ve=X+ae>>1;if(R[ve]===D)return!0;R[ve]>D?ae=ve-1:X=ve+1}return!1}function Is(D){return{type:D}}Qa.register(Ul,{error:[yi,[bn],function(D,R){var X=R[0];throw new Ga(X.evaluate(D))}],typeof:[bn,[zn],function(D,R){var X=R[0];return na(ka(X.evaluate(D)))}],"to-rgba":[ga(Qr,4),[Pn],function(D,R){var X=R[0];return X.evaluate(D).toArray()}],rgb:[Pn,[Qr,Qr,Qr],Zu],rgba:[Pn,[Qr,Qr,Qr,Qr],Zu],has:{type:Ln,overloads:[[[bn],function(D,R){var X=R[0];return cl(X.evaluate(D),D.properties())}],[[bn,Bn],function(D,R){var X=R[0],ae=R[1];return cl(X.evaluate(D),ae.evaluate(D))}]]},get:{type:zn,overloads:[[[bn],function(D,R){var X=R[0];return hl(X.evaluate(D),D.properties())}],[[bn,Bn],function(D,R){var X=R[0],ae=R[1];return hl(X.evaluate(D),ae.evaluate(D))}]]},"feature-state":[zn,[bn],function(D,R){var X=R[0];return hl(X.evaluate(D),D.featureState||{})}],properties:[Bn,[],function(D){return D.properties()}],"geometry-type":[bn,[],function(D){return D.geometryType()}],id:[zn,[],function(D){return D.id()}],zoom:[Qr,[],function(D){return D.globals.zoom}],"heatmap-density":[Qr,[],function(D){return D.globals.heatmapDensity||0}],"line-progress":[Qr,[],function(D){return D.globals.lineProgress||0}],accumulated:[zn,[],function(D){return D.globals.accumulated===void 0?null:D.globals.accumulated}],"+":[Qr,Is(Qr),function(D,R){for(var X=0,ae=0,ve=R;ae<ve.length;ae+=1){var Ae=ve[ae];X+=Ae.evaluate(D)}return X}],"*":[Qr,Is(Qr),function(D,R){for(var X=1,ae=0,ve=R;ae<ve.length;ae+=1){var Ae=ve[ae];X*=Ae.evaluate(D)}return X}],"-":{type:Qr,overloads:[[[Qr,Qr],function(D,R){var X=R[0],ae=R[1];return X.evaluate(D)-ae.evaluate(D)}],[[Qr],function(D,R){var X=R[0];return-X.evaluate(D)}]]},"/":[Qr,[Qr,Qr],function(D,R){var X=R[0],ae=R[1];return X.evaluate(D)/ae.evaluate(D)}],"%":[Qr,[Qr,Qr],function(D,R){var X=R[0],ae=R[1];return X.evaluate(D)%ae.evaluate(D)}],ln2:[Qr,[],function(){return Math.LN2}],pi:[Qr,[],function(){return Math.PI}],e:[Qr,[],function(){return Math.E}],"^":[Qr,[Qr,Qr],function(D,R){var X=R[0],ae=R[1];return Math.pow(X.evaluate(D),ae.evaluate(D))}],sqrt:[Qr,[Qr],function(D,R){var X=R[0];return Math.sqrt(X.evaluate(D))}],log10:[Qr,[Qr],function(D,R){var X=R[0];return Math.log(X.evaluate(D))/Math.LN10}],ln:[Qr,[Qr],function(D,R){var X=R[0];return Math.log(X.evaluate(D))}],log2:[Qr,[Qr],function(D,R){var X=R[0];return Math.log(X.evaluate(D))/Math.LN2}],sin:[Qr,[Qr],function(D,R){var X=R[0];return Math.sin(X.evaluate(D))}],cos:[Qr,[Qr],function(D,R){var X=R[0];return Math.cos(X.evaluate(D))}],tan:[Qr,[Qr],function(D,R){var X=R[0];return Math.tan(X.evaluate(D))}],asin:[Qr,[Qr],function(D,R){var X=R[0];return Math.asin(X.evaluate(D))}],acos:[Qr,[Qr],function(D,R){var X=R[0];return Math.acos(X.evaluate(D))}],atan:[Qr,[Qr],function(D,R){var X=R[0];return Math.atan(X.evaluate(D))}],min:[Qr,Is(Qr),function(D,R){return Math.min.apply(Math,R.map(function(X){return X.evaluate(D)}))}],max:[Qr,Is(Qr),function(D,R){return Math.max.apply(Math,R.map(function(X){return X.evaluate(D)}))}],abs:[Qr,[Qr],function(D,R){var X=R[0];return Math.abs(X.evaluate(D))}],round:[Qr,[Qr],function(D,R){var X=R[0],ae=X.evaluate(D);return ae<0?-Math.round(-ae):Math.round(ae)}],floor:[Qr,[Qr],function(D,R){var X=R[0];return Math.floor(X.evaluate(D))}],ceil:[Qr,[Qr],function(D,R){var X=R[0];return Math.ceil(X.evaluate(D))}],"filter-==":[Ln,[bn,zn],function(D,R){var X=R[0],ae=R[1];return D.properties()[X.value]===ae.value}],"filter-id-==":[Ln,[zn],function(D,R){var X=R[0];return D.id()===X.value}],"filter-type-==":[Ln,[bn],function(D,R){var X=R[0];return D.geometryType()===X.value}],"filter-<":[Ln,[bn,zn],function(D,R){var X=R[0],ae=R[1],ve=D.properties()[X.value],Ae=ae.value;return typeof ve==typeof Ae&&ve<Ae}],"filter-id-<":[Ln,[zn],function(D,R){var X=R[0],ae=D.id(),ve=X.value;return typeof ae==typeof ve&&ae<ve}],"filter->":[Ln,[bn,zn],function(D,R){var X=R[0],ae=R[1],ve=D.properties()[X.value],Ae=ae.value;return typeof ve==typeof Ae&&ve>Ae}],"filter-id->":[Ln,[zn],function(D,R){var X=R[0],ae=D.id(),ve=X.value;return typeof ae==typeof ve&&ae>ve}],"filter-<=":[Ln,[bn,zn],function(D,R){var X=R[0],ae=R[1],ve=D.properties()[X.value],Ae=ae.value;return typeof ve==typeof Ae&&ve<=Ae}],"filter-id-<=":[Ln,[zn],function(D,R){var X=R[0],ae=D.id(),ve=X.value;return typeof ae==typeof ve&&ae<=ve}],"filter->=":[Ln,[bn,zn],function(D,R){var X=R[0],ae=R[1],ve=D.properties()[X.value],Ae=ae.value;return typeof ve==typeof Ae&&ve>=Ae}],"filter-id->=":[Ln,[zn],function(D,R){var X=R[0],ae=D.id(),ve=X.value;return typeof ae==typeof ve&&ae>=ve}],"filter-has":[Ln,[zn],function(D,R){var X=R[0];return X.value in D.properties()}],"filter-has-id":[Ln,[],function(D){return D.id()!==null&&D.id()!==void 0}],"filter-type-in":[Ln,[ga(bn)],function(D,R){var X=R[0];return X.value.indexOf(D.geometryType())>=0}],"filter-id-in":[Ln,[ga(zn)],function(D,R){var X=R[0];return X.value.indexOf(D.id())>=0}],"filter-in-small":[Ln,[bn,ga(zn)],function(D,R){var X=R[0],ae=R[1];return ae.value.indexOf(D.properties()[X.value])>=0}],"filter-in-large":[Ln,[bn,ga(zn)],function(D,R){var X=R[0],ae=R[1];return dc(D.properties()[X.value],ae.value,0,ae.value.length-1)}],all:{type:Ln,overloads:[[[Ln,Ln],function(D,R){var X=R[0],ae=R[1];return X.evaluate(D)&&ae.evaluate(D)}],[Is(Ln),function(D,R){for(var X=0,ae=R;X<ae.length;X+=1){var ve=ae[X];if(!ve.evaluate(D))return!1}return!0}]]},any:{type:Ln,overloads:[[[Ln,Ln],function(D,R){var X=R[0],ae=R[1];return X.evaluate(D)||ae.evaluate(D)}],[Is(Ln),function(D,R){for(var X=0,ae=R;X<ae.length;X+=1){var ve=ae[X];if(ve.evaluate(D))return!0}return!1}]]},"!":[Ln,[Ln],function(D,R){var X=R[0];return!X.evaluate(D)}],"is-supported-script":[Ln,[bn],function(D,R){var X=R[0],ae=D.globals&&D.globals.isSupportedScript;return ae?ae(X.evaluate(D)):!0}],upcase:[bn,[bn],function(D,R){var X=R[0];return X.evaluate(D).toUpperCase()}],downcase:[bn,[bn],function(D,R){var X=R[0];return X.evaluate(D).toLowerCase()}],concat:[bn,Is(zn),function(D,R){return R.map(function(X){return Pl(X.evaluate(D))}).join("")}],"resolved-locale":[bn,[ai],function(D,R){var X=R[0];return X.evaluate(D).resolvedLocale()}]});function Vl(D){return{result:"success",value:D}}function js(D){return{result:"error",value:D}}function _s(D){return D["property-type"]==="data-driven"||D["property-type"]==="cross-faded-data-driven"}function vu(D){return!!D.expression&&D.expression.parameters.indexOf("zoom")>-1}function Hl(D){return!!D.expression&&D.expression.interpolated}function va(D){return D instanceof Number?"number":D instanceof String?"string":D instanceof Boolean?"boolean":Array.isArray(D)?"array":D===null?"null":typeof D}function Gl(D){return typeof D=="object"&&D!==null&&!Array.isArray(D)}function Ku(D){return D}function pc(D,R){var X=R.type==="color",ae=D.stops&&typeof D.stops[0][0]=="object",ve=ae||D.property!==void 0,Ae=ae||!ve,Ie=D.type||(Hl(R)?"exponential":"interval");if(X&&(D=In({},D),D.stops&&(D.stops=D.stops.map(function($n){return[$n[0],ea.parse($n[1])]})),D.default?D.default=ea.parse(D.default):D.default=ea.parse(R.default)),D.colorSpace&&D.colorSpace!=="rgb"&&!ju[D.colorSpace])throw new Error("Unknown color space: "+D.colorSpace);var Qe,vt,Mt;if(Ie==="exponential")Qe=Sf;else if(Ie==="interval")Qe=Ju;else if(Ie==="categorical"){Qe=du,vt=Object.create(null);for(var Pt=0,Wt=D.stops;Pt<Wt.length;Pt+=1){var nr=Wt[Pt];vt[nr[0]]=nr[1]}Mt=typeof D.stops[0][0]}else if(Ie==="identity")Qe=pu;else throw new Error('Unknown function type "'+Ie+'"');if(ae){for(var qt={},yr=[],Or=0;Or<D.stops.length;Or++){var ln=D.stops[Or],en=ln[0].zoom;qt[en]===void 0&&(qt[en]={zoom:en,type:D.type,property:D.property,default:D.default,stops:[]},yr.push(en)),qt[en].stops.push([ln[0].value,ln[1]])}for(var Mn=[],yn=0,An=yr;yn<An.length;yn+=1){var kn=An[yn];Mn.push([qt[kn].zoom,pc(qt[kn],R)])}var Gn={name:"linear"};return{kind:"composite",interpolationType:Gn,interpolationFactor:Oa.interpolationFactor.bind(void 0,Gn),zoomStops:Mn.map(function($n){return $n[0]}),evaluate:function(wi,vi){var bi=wi.zoom;return Sf({stops:Mn,base:D.base},R,bi).evaluate(bi,vi)}}}else if(Ae){var ti=Ie==="exponential"?{name:"exponential",base:D.base!==void 0?D.base:1}:null;return{kind:"camera",interpolationType:ti,interpolationFactor:Oa.interpolationFactor.bind(void 0,ti),zoomStops:D.stops.map(function($n){return $n[0]}),evaluate:function($n){var wi=$n.zoom;return Qe(D,R,wi,vt,Mt)}}}else return{kind:"source",evaluate:function(wi,vi){var bi=vi&&vi.properties?vi.properties[D.property]:void 0;return bi===void 0?Wl(D.default,R.default):Qe(D,R,bi,vt,Mt)}}}function Wl(D,R,X){if(D!==void 0)return D;if(R!==void 0)return R;if(X!==void 0)return X}function du(D,R,X,ae,ve){var Ae=typeof X===ve?ae[X]:void 0;return Wl(Ae,D.default,R.default)}function Ju(D,R,X){if(va(X)!=="number")return Wl(D.default,R.default);var ae=D.stops.length;if(ae===1||X<=D.stops[0][0])return D.stops[0][1];if(X>=D.stops[ae-1][0])return D.stops[ae-1][1];var ve=_l(D.stops.map(function(Ae){return Ae[0]}),X);return D.stops[ve][1]}function Sf(D,R,X){var ae=D.base!==void 0?D.base:1;if(va(X)!=="number")return Wl(D.default,R.default);var ve=D.stops.length;if(ve===1||X<=D.stops[0][0])return D.stops[0][1];if(X>=D.stops[ve-1][0])return D.stops[ve-1][1];var Ae=_l(D.stops.map(function(Wt){return Wt[0]}),X),Ie=gu(X,ae,D.stops[Ae][0],D.stops[Ae+1][0]),Qe=D.stops[Ae][1],vt=D.stops[Ae+1][1],Mt=Hu[R.type]||Ku;if(D.colorSpace&&D.colorSpace!=="rgb"){var Pt=ju[D.colorSpace];Mt=function(Wt,nr){return Pt.reverse(Pt.interpolate(Pt.forward(Wt),Pt.forward(nr),Ie))}}return typeof Qe.evaluate=="function"?{evaluate:function(){for(var nr=[],qt=arguments.length;qt--;)nr[qt]=arguments[qt];var yr=Qe.evaluate.apply(void 0,nr),Or=vt.evaluate.apply(void 0,nr);if(!(yr===void 0||Or===void 0))return Mt(yr,Or,Ie)}}:Mt(Qe,vt,Ie)}function pu(D,R,X){return R.type==="color"?X=ea.parse(X):R.type==="formatted"?X=Ja.fromString(X.toString()):R.type==="resolvedImage"?X=To.fromString(X.toString()):va(X)!==R.type&&(R.type!=="enum"||!R.values[X])&&(X=void 0),Wl(X,D.default,R.default)}function gu(D,R,X,ae){var ve=ae-X,Ae=D-X;return ve===0?0:R===1?Ae/ve:(Math.pow(R,Ae)-1)/(Math.pow(R,ve)-1)}var Zs=function(R,X){this.expression=R,this._warningHistory={},this._evaluator=new ds,this._defaultValue=X?gc(X):null,this._enumValues=X&&X.type==="enum"?X.values:null};Zs.prototype.evaluateWithoutErrorHandling=function(R,X,ae,ve,Ae,Ie){return this._evaluator.globals=R,this._evaluator.feature=X,this._evaluator.featureState=ae,this._evaluator.canonical=ve,this._evaluator.availableImages=Ae||null,this._evaluator.formattedSection=Ie,this.expression.evaluate(this._evaluator)},Zs.prototype.evaluate=function(R,X,ae,ve,Ae,Ie){this._evaluator.globals=R,this._evaluator.feature=X||null,this._evaluator.featureState=ae||null,this._evaluator.canonical=ve,this._evaluator.availableImages=Ae||null,this._evaluator.formattedSection=Ie||null;try{var Qe=this.expression.evaluate(this._evaluator);if(Qe==null||typeof Qe=="number"&&Qe!==Qe)return this._defaultValue;if(this._enumValues&&!(Qe in this._enumValues))throw new Ga("Expected value to be one of "+Object.keys(this._enumValues).map(function(vt){return JSON.stringify(vt)}).join(", ")+", but found "+JSON.stringify(Qe)+" instead.");return Qe}catch(vt){return this._warningHistory[vt.message]||(this._warningHistory[vt.message]=!0,typeof console<"u"&&console.warn(vt.message)),this._defaultValue}};function yu(D){return Array.isArray(D)&&D.length>0&&typeof D[0]=="string"&&D[0]in Ul}function Ks(D,R){var X=new gs(Ul,[],R?bh(R):void 0),ae=X.parse(D,void 0,void 0,void 0,R&&R.type==="string"?{typeAnnotation:"coerce"}:void 0);return ae?Vl(new Zs(ae,R)):js(X.errors)}var Wa=function(R,X){this.kind=R,this._styleExpression=X,this.isStateDependent=R!=="constant"&&!ll(X.expression)};Wa.prototype.evaluateWithoutErrorHandling=function(R,X,ae,ve,Ae,Ie){return this._styleExpression.evaluateWithoutErrorHandling(R,X,ae,ve,Ae,Ie)},Wa.prototype.evaluate=function(R,X,ae,ve,Ae,Ie){return this._styleExpression.evaluate(R,X,ae,ve,Ae,Ie)};var ys=function(R,X,ae,ve){this.kind=R,this.zoomStops=ae,this._styleExpression=X,this.isStateDependent=R!=="camera"&&!ll(X.expression),this.interpolationType=ve};ys.prototype.evaluateWithoutErrorHandling=function(R,X,ae,ve,Ae,Ie){return this._styleExpression.evaluateWithoutErrorHandling(R,X,ae,ve,Ae,Ie)},ys.prototype.evaluate=function(R,X,ae,ve,Ae,Ie){return this._styleExpression.evaluate(R,X,ae,ve,Ae,Ie)},ys.prototype.interpolationFactor=function(R,X,ae){return this.interpolationType?Oa.interpolationFactor(this.interpolationType,R,X,ae):0};function Ef(D,R){if(D=Ks(D,R),D.result==="error")return D;var X=D.value.expression,ae=Il(X);if(!ae&&!_s(R))return js([new Er("","data expressions not supported")]);var ve=lu(X,["zoom"]);if(!ve&&!vu(R))return js([new Er("","zoom expressions not supported")]);var Ae=mu(X);if(!Ae&&!ve)return js([new Er("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Ae instanceof Er)return js([Ae]);if(Ae instanceof Oa&&!Hl(R))return js([new Er("",'"interpolate" expressions cannot be used with this property')]);if(!Ae)return Vl(ae?new Wa("constant",D.value):new Wa("source",D.value));var Ie=Ae instanceof Oa?Ae.interpolation:void 0;return Vl(ae?new ys("camera",D.value,Ae.labels,Ie):new ys("composite",D.value,Ae.labels,Ie))}var vl=function(R,X){this._parameters=R,this._specification=X,In(this,pc(this._parameters,this._specification))};vl.deserialize=function(R){return new vl(R._parameters,R._specification)},vl.serialize=function(R){return{_parameters:R._parameters,_specification:R._specification}};function Qu(D,R){if(Gl(D))return new vl(D,R);if(yu(D)){var X=Ef(D,R);if(X.result==="error")throw new Error(X.value.map(function(ve){return ve.key+": "+ve.message}).join(", "));return X.value}else{var ae=D;return typeof D=="string"&&R.type==="color"&&(ae=ea.parse(D)),{kind:"constant",evaluate:function(){return ae}}}}function mu(D){var R=null;if(D instanceof Ps)R=mu(D.result);else if(D instanceof es)for(var X=0,ae=D.args;X<ae.length;X+=1){var ve=ae[X];if(R=mu(ve),R)break}else(D instanceof $o||D instanceof Oa)&&D.input instanceof Qa&&D.input.name==="zoom"&&(R=D);return R instanceof Er||D.eachChild(function(Ae){var Ie=mu(Ae);Ie instanceof Er?R=Ie:!R&&Ie?R=new Er("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):R&&Ie&&R!==Ie&&(R=new Er("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),R}function bh(D){var R={color:Pn,string:bn,number:Qr,enum:bn,boolean:Ln,formatted:pi,resolvedImage:Pi};return D.type==="array"?ga(R[D.value]||zn,D.length):R[D.type]}function gc(D){return D.type==="color"&&Gl(D.default)?new ea(0,0,0,0):D.type==="color"?ea.parse(D.default)||null:D.default===void 0?null:D.default}function go(D){var R=D.key,X=D.value,ae=D.valueSpec||{},ve=D.objectElementValidators||{},Ae=D.style,Ie=D.styleSpec,Qe=[],vt=va(X);if(vt!=="object")return[new Fr(R,X,"object expected, "+vt+" found")];for(var Mt in X){var Pt=Mt.split(".")[0],Wt=ae[Pt]||ae["*"],nr=void 0;if(ve[Pt])nr=ve[Pt];else if(ae[Pt])nr=_r;else if(ve["*"])nr=ve["*"];else if(ae["*"])nr=_r;else{Qe.push(new Fr(R,X[Mt],'unknown property "'+Mt+'"'));continue}Qe=Qe.concat(nr({key:(R&&R+".")+Mt,value:X[Mt],valueSpec:Wt,style:Ae,styleSpec:Ie,object:X,objectKey:Mt},X))}for(var qt in ae)ve[qt]||ae[qt].required&&ae[qt].default===void 0&&X[qt]===void 0&&Qe.push(new Fr(R,X,'missing required property "'+qt+'"'));return Qe}function xu(D){var R=D.value,X=D.valueSpec,ae=D.style,ve=D.styleSpec,Ae=D.key,Ie=D.arrayElementValidator||_r;if(va(R)!=="array")return[new Fr(Ae,R,"array expected, "+va(R)+" found")];if(X.length&&R.length!==X.length)return[new Fr(Ae,R,"array length "+X.length+" expected, length "+R.length+" found")];if(X["min-length"]&&R.length<X["min-length"])return[new Fr(Ae,R,"array length at least "+X["min-length"]+" expected, length "+R.length+" found")];var Qe={type:X.value,values:X.values};ve.$version<7&&(Qe.function=X.function),va(X.value)==="object"&&(Qe=X.value);for(var vt=[],Mt=0;Mt<R.length;Mt++)vt=vt.concat(Ie({array:R,arrayIndex:Mt,value:R[Mt],valueSpec:Qe,style:ae,styleSpec:ve,key:Ae+"["+Mt+"]"}));return vt}function Xl(D){var R=D.key,X=D.value,ae=D.valueSpec,ve=va(X);return ve==="number"&&X!==X&&(ve="NaN"),ve!=="number"?[new Fr(R,X,"number expected, "+ve+" found")]:"minimum"in ae&&X<ae.minimum?[new Fr(R,X,X+" is less than the minimum value "+ae.minimum)]:"maximum"in ae&&X>ae.maximum?[new Fr(R,X,X+" is greater than the maximum value "+ae.maximum)]:[]}function yc(D){var R=D.valueSpec,X=hn(D.value.type),ae,ve={},Ae,Ie,Qe=X!=="categorical"&&D.value.property===void 0,vt=!Qe,Mt=va(D.value.stops)==="array"&&va(D.value.stops[0])==="array"&&va(D.value.stops[0][0])==="object",Pt=go({key:D.key,value:D.value,valueSpec:D.styleSpec.function,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{stops:Wt,default:yr}});return X==="identity"&&Qe&&Pt.push(new Fr(D.key,D.value,'missing required property "property"')),X!=="identity"&&!D.value.stops&&Pt.push(new Fr(D.key,D.value,'missing required property "stops"')),X==="exponential"&&D.valueSpec.expression&&!Hl(D.valueSpec)&&Pt.push(new Fr(D.key,D.value,"exponential functions not supported")),D.styleSpec.$version>=8&&(vt&&!_s(D.valueSpec)?Pt.push(new Fr(D.key,D.value,"property functions not supported")):Qe&&!vu(D.valueSpec)&&Pt.push(new Fr(D.key,D.value,"zoom functions not supported"))),(X==="categorical"||Mt)&&D.value.property===void 0&&Pt.push(new Fr(D.key,D.value,'"property" property is required')),Pt;function Wt(Or){if(X==="identity")return[new Fr(Or.key,Or.value,'identity function may not have a "stops" property')];var ln=[],en=Or.value;return ln=ln.concat(xu({key:Or.key,value:en,valueSpec:Or.valueSpec,style:Or.style,styleSpec:Or.styleSpec,arrayElementValidator:nr})),va(en)==="array"&&en.length===0&&ln.push(new Fr(Or.key,en,"array must have at least one stop")),ln}function nr(Or){var ln=[],en=Or.value,Mn=Or.key;if(va(en)!=="array")return[new Fr(Mn,en,"array expected, "+va(en)+" found")];if(en.length!==2)return[new Fr(Mn,en,"array length 2 expected, length "+en.length+" found")];if(Mt){if(va(en[0])!=="object")return[new Fr(Mn,en,"object expected, "+va(en[0])+" found")];if(en[0].zoom===void 0)return[new Fr(Mn,en,"object stop key must have zoom")];if(en[0].value===void 0)return[new Fr(Mn,en,"object stop key must have value")];if(Ie&&Ie>hn(en[0].zoom))return[new Fr(Mn,en[0].zoom,"stop zoom values must appear in ascending order")];hn(en[0].zoom)!==Ie&&(Ie=hn(en[0].zoom),Ae=void 0,ve={}),ln=ln.concat(go({key:Mn+"[0]",value:en[0],valueSpec:{zoom:{}},style:Or.style,styleSpec:Or.styleSpec,objectElementValidators:{zoom:Xl,value:qt}}))}else ln=ln.concat(qt({key:Mn+"[0]",value:en[0],valueSpec:{},style:Or.style,styleSpec:Or.styleSpec},en));return yu(sn(en[1]))?ln.concat([new Fr(Mn+"[1]",en[1],"expressions are not allowed in function stops.")]):ln.concat(_r({key:Mn+"[1]",value:en[1],valueSpec:R,style:Or.style,styleSpec:Or.styleSpec}))}function qt(Or,ln){var en=va(Or.value),Mn=hn(Or.value),yn=Or.value!==null?Or.value:ln;if(!ae)ae=en;else if(en!==ae)return[new Fr(Or.key,yn,en+" stop domain type must match previous stop domain type "+ae)];if(en!=="number"&&en!=="string"&&en!=="boolean")return[new Fr(Or.key,yn,"stop domain value must be a number, string, or boolean")];if(en!=="number"&&X!=="categorical"){var An="number expected, "+en+" found";return _s(R)&&X===void 0&&(An+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Fr(Or.key,yn,An)]}return X==="categorical"&&en==="number"&&(!isFinite(Mn)||Math.floor(Mn)!==Mn)?[new Fr(Or.key,yn,"integer expected, found "+Mn)]:X!=="categorical"&&en==="number"&&Ae!==void 0&&Mn<Ae?[new Fr(Or.key,yn,"stop domain values must appear in ascending order")]:(Ae=Mn,X==="categorical"&&Mn in ve?[new Fr(Or.key,yn,"stop domain values must be unique")]:(ve[Mn]=!0,[]))}function yr(Or){return _r({key:Or.key,value:Or.value,valueSpec:R,style:Or.style,styleSpec:Or.styleSpec})}}function Js(D){var R=(D.expressionContext==="property"?Ef:Ks)(sn(D.value),D.valueSpec);if(R.result==="error")return R.value.map(function(ae){return new Fr(""+D.key+ae.key,D.value,ae.message)});var X=R.value.expression||R.value._styleExpression.expression;if(D.expressionContext==="property"&&D.propertyKey==="text-font"&&!X.outputDefined())return[new Fr(D.key,D.value,'Invalid data expression for "'+D.propertyKey+'". Output values must be contained as literals within the expression.')];if(D.expressionContext==="property"&&D.propertyType==="layout"&&!ll(X))return[new Fr(D.key,D.value,'"feature-state" data expressions are not supported with layout properties.')];if(D.expressionContext==="filter"&&!ll(X))return[new Fr(D.key,D.value,'"feature-state" data expressions are not supported with filters.')];if(D.expressionContext&&D.expressionContext.indexOf("cluster")===0){if(!lu(X,["zoom","feature-state"]))return[new Fr(D.key,D.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(D.expressionContext==="cluster-initial"&&!Il(X))return[new Fr(D.key,D.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function wh(D){var R=D.value,X=D.key,ae=va(R);return ae!=="boolean"?[new Fr(X,R,"boolean expected, "+ae+" found")]:[]}function _o(D){var R=D.key,X=D.value,ae=va(X);return ae!=="string"?[new Fr(R,X,"color expected, "+ae+" found")]:$f(X)===null?[new Fr(R,X,'color expected, "'+X+'" found')]:[]}function bu(D){var R=D.key,X=D.value,ae=D.valueSpec,ve=[];return Array.isArray(ae.values)?ae.values.indexOf(hn(X))===-1&&ve.push(new Fr(R,X,"expected one of ["+ae.values.join(", ")+"], "+JSON.stringify(X)+" found")):Object.keys(ae.values).indexOf(hn(X))===-1&&ve.push(new Fr(R,X,"expected one of ["+Object.keys(ae.values).join(", ")+"], "+JSON.stringify(X)+" found")),ve}function $u(D){if(D===!0||D===!1)return!0;if(!Array.isArray(D)||D.length===0)return!1;switch(D[0]){case"has":return D.length>=2&&D[1]!=="$id"&&D[1]!=="$type";case"in":return D.length>=3&&(typeof D[1]!="string"||Array.isArray(D[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return D.length!==3||Array.isArray(D[1])||Array.isArray(D[2]);case"any":case"all":for(var R=0,X=D.slice(1);R<X.length;R+=1){var ae=X[R];if(!$u(ae)&&typeof ae!="boolean")return!1}return!0;default:return!0}}var ks={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Qs(D){if(D==null)return{filter:function(){return!0},needGeometry:!1};$u(D)||(D=Tu(D));var R=Ks(D,ks);if(R.result==="error")throw new Error(R.value.map(function(ae){return ae.key+": "+ae.message}).join(", "));var X=wu(D);return{filter:function(ae,ve,Ae){return R.value.evaluate(ae,ve,{},Ae)},needGeometry:X}}function Cf(D,R){return D<R?-1:D>R?1:0}function wu(D){if(!Array.isArray(D))return!1;if(D[0]==="within")return!0;for(var R=1;R<D.length;R++)if(wu(D[R]))return!0;return!1}function Tu(D){if(!D)return!0;var R=D[0];if(D.length<=1)return R!=="any";var X=R==="=="?qu(D[1],D[2],"=="):R==="!="?dl(qu(D[1],D[2],"==")):R==="<"||R===">"||R==="<="||R===">="?qu(D[1],D[2],R):R==="any"?mc(D.slice(1)):R==="all"?["all"].concat(D.slice(1).map(Tu)):R==="none"?["all"].concat(D.slice(1).map(Tu).map(dl)):R==="in"?Au(D[1],D.slice(2)):R==="!in"?dl(Au(D[1],D.slice(2))):R==="has"?Lf(D[1]):R==="!has"?dl(Lf(D[1])):R==="within"?D:!0;return X}function qu(D,R,X){switch(D){case"$type":return["filter-type-"+X,R];case"$id":return["filter-id-"+X,R];default:return["filter-"+X,D,R]}}function mc(D){return["any"].concat(D.map(Tu))}function Au(D,R){if(R.length===0)return!1;switch(D){case"$type":return["filter-type-in",["literal",R]];case"$id":return["filter-id-in",["literal",R]];default:return R.length>200&&!R.some(function(X){return typeof X!=typeof R[0]})?["filter-in-large",D,["literal",R.sort(Cf)]]:["filter-in-small",D,["literal",R]]}}function Lf(D){switch(D){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",D]}}function dl(D){return["!",D]}function Pf(D){return $u(sn(D.value))?Js(In({},D,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Mu(D)}function Mu(D){var R=D.value,X=D.key;if(va(R)!=="array")return[new Fr(X,R,"array expected, "+va(R)+" found")];var ae=D.styleSpec,ve,Ae=[];if(R.length<1)return[new Fr(X,R,"filter array must have at least 1 element")];switch(Ae=Ae.concat(bu({key:X+"[0]",value:R[0],valueSpec:ae.filter_operator,style:D.style,styleSpec:D.styleSpec})),hn(R[0])){case"<":case"<=":case">":case">=":R.length>=2&&hn(R[1])==="$type"&&Ae.push(new Fr(X,R,'"$type" cannot be use with operator "'+R[0]+'"'));case"==":case"!=":R.length!==3&&Ae.push(new Fr(X,R,'filter array for operator "'+R[0]+'" must have 3 elements'));case"in":case"!in":R.length>=2&&(ve=va(R[1]),ve!=="string"&&Ae.push(new Fr(X+"[1]",R[1],"string expected, "+ve+" found")));for(var Ie=2;Ie<R.length;Ie++)ve=va(R[Ie]),hn(R[1])==="$type"?Ae=Ae.concat(bu({key:X+"["+Ie+"]",value:R[Ie],valueSpec:ae.geometry_type,style:D.style,styleSpec:D.styleSpec})):ve!=="string"&&ve!=="number"&&ve!=="boolean"&&Ae.push(new Fr(X+"["+Ie+"]",R[Ie],"string, number, or boolean expected, "+ve+" found"));break;case"any":case"all":case"none":for(var Qe=1;Qe<R.length;Qe++)Ae=Ae.concat(Mu({key:X+"["+Qe+"]",value:R[Qe],style:D.style,styleSpec:D.styleSpec}));break;case"has":case"!has":ve=va(R[1]),R.length!==2?Ae.push(new Fr(X,R,'filter array for "'+R[0]+'" operator must have 2 elements')):ve!=="string"&&Ae.push(new Fr(X+"[1]",R[1],"string expected, "+ve+" found"));break;case"within":ve=va(R[1]),R.length!==2?Ae.push(new Fr(X,R,'filter array for "'+R[0]+'" operator must have 2 elements')):ve!=="object"&&Ae.push(new Fr(X+"[1]",R[1],"object expected, "+ve+" found"));break}return Ae}function xc(D,R){var X=D.key,ae=D.style,ve=D.styleSpec,Ae=D.value,Ie=D.objectKey,Qe=ve[R+"_"+D.layerType];if(!Qe)return[];var vt=Ie.match(/^(.*)-transition$/);if(R==="paint"&&vt&&Qe[vt[1]]&&Qe[vt[1]].transition)return _r({key:X,value:Ae,valueSpec:ve.transition,style:ae,styleSpec:ve});var Mt=D.valueSpec||Qe[Ie];if(!Mt)return[new Fr(X,Ae,'unknown property "'+Ie+'"')];var Pt;if(va(Ae)==="string"&&_s(Mt)&&!Mt.tokens&&(Pt=/^{([^}]+)}$/.exec(Ae)))return[new Fr(X,Ae,'"'+Ie+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Pt[1])+" }`.")];var Wt=[];return D.layerType==="symbol"&&(Ie==="text-field"&&ae&&!ae.glyphs&&Wt.push(new Fr(X,Ae,'use of "text-field" requires a style "glyphs" property')),Ie==="text-font"&&Gl(sn(Ae))&&hn(Ae.type)==="identity"&&Wt.push(new Fr(X,Ae,'"text-font" does not support identity functions'))),Wt.concat(_r({key:D.key,value:Ae,valueSpec:Mt,style:ae,styleSpec:ve,expressionContext:"property",propertyType:R,propertyKey:Ie}))}function Je(D){return xc(D,"paint")}function it(D){return xc(D,"layout")}function gt(D){var R=[],X=D.value,ae=D.key,ve=D.style,Ae=D.styleSpec;!X.type&&!X.ref&&R.push(new Fr(ae,X,'either "type" or "ref" is required'));var Ie=hn(X.type),Qe=hn(X.ref);if(X.id)for(var vt=hn(X.id),Mt=0;Mt<D.arrayIndex;Mt++){var Pt=ve.layers[Mt];hn(Pt.id)===vt&&R.push(new Fr(ae,X.id,'duplicate layer id "'+X.id+'", previously used at line '+Pt.id.__line__))}if("ref"in X){["type","source","source-layer","filter","layout"].forEach(function(yr){yr in X&&R.push(new Fr(ae,X[yr],'"'+yr+'" is prohibited for ref layers'))});var Wt;ve.layers.forEach(function(yr){hn(yr.id)===Qe&&(Wt=yr)}),Wt?Wt.ref?R.push(new Fr(ae,X.ref,"ref cannot reference another ref layer")):Ie=hn(Wt.type):R.push(new Fr(ae,X.ref,'ref layer "'+Qe+'" not found'))}else if(Ie!=="background")if(!X.source)R.push(new Fr(ae,X,'missing required property "source"'));else{var nr=ve.sources&&ve.sources[X.source],qt=nr&&hn(nr.type);nr?qt==="vector"&&Ie==="raster"?R.push(new Fr(ae,X.source,'layer "'+X.id+'" requires a raster source')):qt==="raster"&&Ie!=="raster"?R.push(new Fr(ae,X.source,'layer "'+X.id+'" requires a vector source')):qt==="vector"&&!X["source-layer"]?R.push(new Fr(ae,X,'layer "'+X.id+'" must specify a "source-layer"')):qt==="raster-dem"&&Ie!=="hillshade"?R.push(new Fr(ae,X.source,"raster-dem source can only be used with layer type 'hillshade'.")):Ie==="line"&&X.paint&&X.paint["line-gradient"]&&(qt!=="geojson"||!nr.lineMetrics)&&R.push(new Fr(ae,X,'layer "'+X.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):R.push(new Fr(ae,X.source,'source "'+X.source+'" not found'))}return R=R.concat(go({key:ae,value:X,valueSpec:Ae.layer,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return _r({key:ae+".type",value:X.type,valueSpec:Ae.layer.type,style:D.style,styleSpec:D.styleSpec,object:X,objectKey:"type"})},filter:Pf,layout:function(Or){return go({layer:X,key:Or.key,value:Or.value,style:Or.style,styleSpec:Or.styleSpec,objectElementValidators:{"*":function(en){return it(In({layerType:Ie},en))}}})},paint:function(Or){return go({layer:X,key:Or.key,value:Or.value,style:Or.style,styleSpec:Or.styleSpec,objectElementValidators:{"*":function(en){return Je(In({layerType:Ie},en))}}})}}})),R}function bt(D){var R=D.value,X=D.key,ae=va(R);return ae!=="string"?[new Fr(X,R,"string expected, "+ae+" found")]:[]}var Ot={promoteId:Bt};function It(D){var R=D.value,X=D.key,ae=D.styleSpec,ve=D.style;if(!R.type)return[new Fr(X,R,'"type" is required')];var Ae=hn(R.type),Ie;switch(Ae){case"vector":case"raster":case"raster-dem":return Ie=go({key:X,value:R,valueSpec:ae["source_"+Ae.replace("-","_")],style:D.style,styleSpec:ae,objectElementValidators:Ot}),Ie;case"geojson":if(Ie=go({key:X,value:R,valueSpec:ae.source_geojson,style:ve,styleSpec:ae,objectElementValidators:Ot}),R.cluster)for(var Qe in R.clusterProperties){var vt=R.clusterProperties[Qe],Mt=vt[0],Pt=vt[1],Wt=typeof Mt=="string"?[Mt,["accumulated"],["get",Qe]]:Mt;Ie.push.apply(Ie,Js({key:X+"."+Qe+".map",value:Pt,expressionContext:"cluster-map"})),Ie.push.apply(Ie,Js({key:X+"."+Qe+".reduce",value:Wt,expressionContext:"cluster-reduce"}))}return Ie;case"video":return go({key:X,value:R,valueSpec:ae.source_video,style:ve,styleSpec:ae});case"image":return go({key:X,value:R,valueSpec:ae.source_image,style:ve,styleSpec:ae});case"canvas":return[new Fr(X,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return bu({key:X+".type",value:R.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:ve,styleSpec:ae})}}function Bt(D){var R=D.key,X=D.value;if(va(X)==="string")return bt({key:R,value:X});var ae=[];for(var ve in X)ae.push.apply(ae,bt({key:R+"."+ve,value:X[ve]}));return ae}function dr(D){var R=D.value,X=D.styleSpec,ae=X.light,ve=D.style,Ae=[],Ie=va(R);if(R===void 0)return Ae;if(Ie!=="object")return Ae=Ae.concat([new Fr("light",R,"object expected, "+Ie+" found")]),Ae;for(var Qe in R){var vt=Qe.match(/^(.*)-transition$/);vt&&ae[vt[1]]&&ae[vt[1]].transition?Ae=Ae.concat(_r({key:Qe,value:R[Qe],valueSpec:X.transition,style:ve,styleSpec:X})):ae[Qe]?Ae=Ae.concat(_r({key:Qe,value:R[Qe],valueSpec:ae[Qe],style:ve,styleSpec:X})):Ae=Ae.concat([new Fr(Qe,R[Qe],'unknown property "'+Qe+'"')])}return Ae}function xr(D){return bt(D).length===0?[]:Js(D)}function ir(D){return bt(D).length===0?[]:Js(D)}var Mr={"*":function(){return[]},array:xu,boolean:wh,number:Xl,color:_o,constants:xn,enum:bu,filter:Pf,function:yc,layer:gt,object:go,source:It,light:dr,string:bt,formatted:xr,resolvedImage:ir};function _r(D){var R=D.value,X=D.valueSpec,ae=D.styleSpec;if(X.expression&&Gl(hn(R)))return yc(D);if(X.expression&&yu(sn(R)))return Js(D);if(X.type&&Mr[X.type])return Mr[X.type](D);var ve=go(In({},D,{valueSpec:X.type?ae[X.type]:X}));return ve}function Nr(D){var R=D.value,X=D.key,ae=bt(D);return ae.length||(R.indexOf("{fontstack}")===-1&&ae.push(new Fr(X,R,'"glyphs" url must include a "{fontstack}" token')),R.indexOf("{range}")===-1&&ae.push(new Fr(X,R,'"glyphs" url must include a "{range}" token'))),ae}function tn(D,R){R===void 0&&(R=Ar);var X=[];return X=X.concat(_r({key:"",value:D,valueSpec:R.$root,styleSpec:R,style:D,objectElementValidators:{glyphs:Nr,"*":function(){return[]}}})),D.constants&&(X=X.concat(xn({key:"constants",value:D.constants,style:D,styleSpec:R}))),mn(X)}tn.source=Dn(It),tn.light=Dn(dr),tn.layer=Dn(gt),tn.filter=Dn(Pf),tn.paintProperty=Dn(Je),tn.layoutProperty=Dn(it);function mn(D){return[].concat(D).sort(function(R,X){return R.line-X.line})}function Dn(D){return function(){for(var R=[],X=arguments.length;X--;)R[X]=arguments[X];return mn(D.apply(this,R))}}var Rn=tn,Yn=Rn.light,Di=Rn.paintProperty,Ri=Rn.layoutProperty;function Ii(D,R){var X=!1;if(R&&R.length)for(var ae=0,ve=R;ae<ve.length;ae+=1){var Ae=ve[ae];D.fire(new Ft(new Error(Ae.message))),X=!0}return X}var Fi=da,Zi=3;function da(D,R,X){var ae=this.cells=[];if(D instanceof ArrayBuffer){this.arrayBuffer=D;var ve=new Int32Array(this.arrayBuffer);D=ve[0],R=ve[1],X=ve[2],this.d=R+2*X;for(var Ae=0;Ae<this.d*this.d;Ae++){var Ie=ve[Zi+Ae],Qe=ve[Zi+Ae+1];ae.push(Ie===Qe?null:ve.subarray(Ie,Qe))}var vt=ve[Zi+ae.length],Mt=ve[Zi+ae.length+1];this.keys=ve.subarray(vt,Mt),this.bboxes=ve.subarray(Mt),this.insert=this._insertReadonly}else{this.d=R+2*X;for(var Pt=0;Pt<this.d*this.d;Pt++)ae.push([]);this.keys=[],this.bboxes=[]}this.n=R,this.extent=D,this.padding=X,this.scale=R/D,this.uid=0;var Wt=X/R*D;this.min=-Wt,this.max=D+Wt}da.prototype.insert=function(D,R,X,ae,ve){this._forEachCell(R,X,ae,ve,this._insertCell,this.uid++),this.keys.push(D),this.bboxes.push(R),this.bboxes.push(X),this.bboxes.push(ae),this.bboxes.push(ve)},da.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},da.prototype._insertCell=function(D,R,X,ae,ve,Ae){this.cells[ve].push(Ae)},da.prototype.query=function(D,R,X,ae,ve){var Ae=this.min,Ie=this.max;if(D<=Ae&&R<=Ae&&Ie<=X&&Ie<=ae&&!ve)return Array.prototype.slice.call(this.keys);var Qe=[],vt={};return this._forEachCell(D,R,X,ae,this._queryCell,Qe,vt,ve),Qe},da.prototype._queryCell=function(D,R,X,ae,ve,Ae,Ie,Qe){var vt=this.cells[ve];if(vt!==null)for(var Mt=this.keys,Pt=this.bboxes,Wt=0;Wt<vt.length;Wt++){var nr=vt[Wt];if(Ie[nr]===void 0){var qt=nr*4;(Qe?Qe(Pt[qt+0],Pt[qt+1],Pt[qt+2],Pt[qt+3]):D<=Pt[qt+2]&&R<=Pt[qt+3]&&X>=Pt[qt+0]&&ae>=Pt[qt+1])?(Ie[nr]=!0,Ae.push(Mt[nr])):Ie[nr]=!1}}},da.prototype._forEachCell=function(D,R,X,ae,ve,Ae,Ie,Qe){for(var vt=this._convertToCellCoord(D),Mt=this._convertToCellCoord(R),Pt=this._convertToCellCoord(X),Wt=this._convertToCellCoord(ae),nr=vt;nr<=Pt;nr++)for(var qt=Mt;qt<=Wt;qt++){var yr=this.d*qt+nr;if(!(Qe&&!Qe(this._convertFromCellCoord(nr),this._convertFromCellCoord(qt),this._convertFromCellCoord(nr+1),this._convertFromCellCoord(qt+1)))&&ve.call(this,D,R,X,ae,yr,Ae,Ie,Qe))return}},da.prototype._convertFromCellCoord=function(D){return(D-this.padding)/this.scale},da.prototype._convertToCellCoord=function(D){return Math.max(0,Math.min(this.d-1,Math.floor(D*this.scale)+this.padding))},da.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var D=this.cells,R=Zi+this.cells.length+1+1,X=0,ae=0;ae<this.cells.length;ae++)X+=this.cells[ae].length;var ve=new Int32Array(R+X+this.keys.length+this.bboxes.length);ve[0]=this.extent,ve[1]=this.n,ve[2]=this.padding;for(var Ae=R,Ie=0;Ie<D.length;Ie++){var Qe=D[Ie];ve[Zi+Ie]=Ae,ve.set(Qe,Ae),Ae+=Qe.length}return ve[Zi+D.length]=Ae,ve.set(this.keys,Ae),Ae+=this.keys.length,ve[Zi+D.length+1]=Ae,ve.set(this.bboxes,Ae),Ae+=this.bboxes.length,ve.buffer};var za=a.ImageData,fe=a.ImageBitmap,Le={};function Fe(D,R,X){X===void 0&&(X={}),Object.defineProperty(R,"_classRegistryKey",{value:D,writeable:!1}),Le[D]={klass:R,omit:X.omit||[],shallow:X.shallow||[]}}Fe("Object",Object),Fi.serialize=function(R,X){var ae=R.toArrayBuffer();return X&&X.push(ae),{buffer:ae}},Fi.deserialize=function(R){return new Fi(R.buffer)},Fe("Grid",Fi),Fe("Color",ea),Fe("Error",Error),Fe("ResolvedImage",To),Fe("StylePropertyFunction",vl),Fe("StyleExpression",Zs,{omit:["_evaluator"]}),Fe("ZoomDependentExpression",ys),Fe("ZoomConstantExpression",Wa),Fe("CompoundExpression",Qa,{omit:["_evaluate"]});for(var $e in Ul)Ul[$e]._classRegistryKey||Fe("Expression_"+$e,Ul[$e]);function nt(D){return D&&typeof ArrayBuffer<"u"&&(D instanceof ArrayBuffer||D.constructor&&D.constructor.name==="ArrayBuffer")}function lt(D){return fe&&D instanceof fe}function Lt(D,R){if(D==null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp)return D;if(nt(D)||lt(D))return R&&R.push(D),D;if(ArrayBuffer.isView(D)){var X=D;return R&&R.push(X.buffer),X}if(D instanceof za)return R&&R.push(D.data.buffer),D;if(Array.isArray(D)){for(var ae=[],ve=0,Ae=D;ve<Ae.length;ve+=1){var Ie=Ae[ve];ae.push(Lt(Ie,R))}return ae}if(typeof D=="object"){var Qe=D.constructor,vt=Qe._classRegistryKey;if(!vt)throw new Error("can't serialize object of unregistered class");var Mt=Qe.serialize?Qe.serialize(D,R):{};if(!Qe.serialize){for(var Pt in D)if(D.hasOwnProperty(Pt)&&!(Le[vt].omit.indexOf(Pt)>=0)){var Wt=D[Pt];Mt[Pt]=Le[vt].shallow.indexOf(Pt)>=0?Wt:Lt(Wt,R)}D instanceof Error&&(Mt.message=D.message)}if(Mt.$name)throw new Error("$name property is reserved for worker serialization logic.");return vt!=="Object"&&(Mt.$name=vt),Mt}throw new Error("can't serialize object of type "+typeof D)}function At(D){if(D==null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp||nt(D)||lt(D)||ArrayBuffer.isView(D)||D instanceof za)return D;if(Array.isArray(D))return D.map(At);if(typeof D=="object"){var R=D.$name||"Object",X=Le[R],ae=X.klass;if(!ae)throw new Error("can't deserialize unregistered class "+R);if(ae.deserialize)return ae.deserialize(D);for(var ve=Object.create(ae.prototype),Ae=0,Ie=Object.keys(D);Ae<Ie.length;Ae+=1){var Qe=Ie[Ae];if(Qe!=="$name"){var vt=D[Qe];ve[Qe]=Le[R].shallow.indexOf(Qe)>=0?vt:At(vt)}}return ve}throw new Error("can't deserialize object of type "+typeof D)}var Ht=function(){this.first=!0};Ht.prototype.update=function(R,X){var ae=Math.floor(R);return this.first?(this.first=!1,this.lastIntegerZoom=ae,this.lastIntegerZoomTime=0,this.lastZoom=R,this.lastFloorZoom=ae,!0):(this.lastFloorZoom>ae?(this.lastIntegerZoom=ae+1,this.lastIntegerZoomTime=X):this.lastFloorZoom<ae&&(this.lastIntegerZoom=ae,this.lastIntegerZoomTime=X),R!==this.lastZoom?(this.lastZoom=R,this.lastFloorZoom=ae,!0):!1)};var Gt={"Latin-1 Supplement":function(D){return D>=128&&D<=255},Arabic:function(D){return D>=1536&&D<=1791},"Arabic Supplement":function(D){return D>=1872&&D<=1919},"Arabic Extended-A":function(D){return D>=2208&&D<=2303},"Hangul Jamo":function(D){return D>=4352&&D<=4607},"Unified Canadian Aboriginal Syllabics":function(D){return D>=5120&&D<=5759},Khmer:function(D){return D>=6016&&D<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(D){return D>=6320&&D<=6399},"General Punctuation":function(D){return D>=8192&&D<=8303},"Letterlike Symbols":function(D){return D>=8448&&D<=8527},"Number Forms":function(D){return D>=8528&&D<=8591},"Miscellaneous Technical":function(D){return D>=8960&&D<=9215},"Control Pictures":function(D){return D>=9216&&D<=9279},"Optical Character Recognition":function(D){return D>=9280&&D<=9311},"Enclosed Alphanumerics":function(D){return D>=9312&&D<=9471},"Geometric Shapes":function(D){return D>=9632&&D<=9727},"Miscellaneous Symbols":function(D){return D>=9728&&D<=9983},"Miscellaneous Symbols and Arrows":function(D){return D>=11008&&D<=11263},"CJK Radicals Supplement":function(D){return D>=11904&&D<=12031},"Kangxi Radicals":function(D){return D>=12032&&D<=12255},"Ideographic Description Characters":function(D){return D>=12272&&D<=12287},"CJK Symbols and Punctuation":function(D){return D>=12288&&D<=12351},Hiragana:function(D){return D>=12352&&D<=12447},Katakana:function(D){return D>=12448&&D<=12543},Bopomofo:function(D){return D>=12544&&D<=12591},"Hangul Compatibility Jamo":function(D){return D>=12592&&D<=12687},Kanbun:function(D){return D>=12688&&D<=12703},"Bopomofo Extended":function(D){return D>=12704&&D<=12735},"CJK Strokes":function(D){return D>=12736&&D<=12783},"Katakana Phonetic Extensions":function(D){return D>=12784&&D<=12799},"Enclosed CJK Letters and Months":function(D){return D>=12800&&D<=13055},"CJK Compatibility":function(D){return D>=13056&&D<=13311},"CJK Unified Ideographs Extension A":function(D){return D>=13312&&D<=19903},"Yijing Hexagram Symbols":function(D){return D>=19904&&D<=19967},"CJK Unified Ideographs":function(D){return D>=19968&&D<=40959},"Yi Syllables":function(D){return D>=40960&&D<=42127},"Yi Radicals":function(D){return D>=42128&&D<=42191},"Hangul Jamo Extended-A":function(D){return D>=43360&&D<=43391},"Hangul Syllables":function(D){return D>=44032&&D<=55215},"Hangul Jamo Extended-B":function(D){return D>=55216&&D<=55295},"Private Use Area":function(D){return D>=57344&&D<=63743},"CJK Compatibility Ideographs":function(D){return D>=63744&&D<=64255},"Arabic Presentation Forms-A":function(D){return D>=64336&&D<=65023},"Vertical Forms":function(D){return D>=65040&&D<=65055},"CJK Compatibility Forms":function(D){return D>=65072&&D<=65103},"Small Form Variants":function(D){return D>=65104&&D<=65135},"Arabic Presentation Forms-B":function(D){return D>=65136&&D<=65279},"Halfwidth and Fullwidth Forms":function(D){return D>=65280&&D<=65519}};function tr(D){for(var R=0,X=D;R<X.length;R+=1){var ae=X[R];if(on(ae.charCodeAt(0)))return!0}return!1}function Cr(D){for(var R=0,X=D;R<X.length;R+=1){var ae=X[R];if(!Pr(ae.charCodeAt(0)))return!1}return!0}function Pr(D){return!(Gt.Arabic(D)||Gt["Arabic Supplement"](D)||Gt["Arabic Extended-A"](D)||Gt["Arabic Presentation Forms-A"](D)||Gt["Arabic Presentation Forms-B"](D))}function Jr(D){return D<11904?!1:!!(Gt["Bopomofo Extended"](D)||Gt.Bopomofo(D)||Gt["CJK Compatibility Forms"](D)||Gt["CJK Compatibility Ideographs"](D)||Gt["CJK Compatibility"](D)||Gt["CJK Radicals Supplement"](D)||Gt["CJK Strokes"](D)||Gt["CJK Symbols and Punctuation"](D)||Gt["CJK Unified Ideographs Extension A"](D)||Gt["CJK Unified Ideographs"](D)||Gt["Enclosed CJK Letters and Months"](D)||Gt["Halfwidth and Fullwidth Forms"](D)||Gt.Hiragana(D)||Gt["Ideographic Description Characters"](D)||Gt["Kangxi Radicals"](D)||Gt["Katakana Phonetic Extensions"](D)||Gt.Katakana(D)||Gt["Vertical Forms"](D)||Gt["Yi Radicals"](D)||Gt["Yi Syllables"](D))}function on(D){return D===746||D===747?!0:D<4352?!1:!!(Gt["Bopomofo Extended"](D)||Gt.Bopomofo(D)||Gt["CJK Compatibility Forms"](D)&&!(D>=65097&&D<=65103)||Gt["CJK Compatibility Ideographs"](D)||Gt["CJK Compatibility"](D)||Gt["CJK Radicals Supplement"](D)||Gt["CJK Strokes"](D)||Gt["CJK Symbols and Punctuation"](D)&&!(D>=12296&&D<=12305)&&!(D>=12308&&D<=12319)&&D!==12336||Gt["CJK Unified Ideographs Extension A"](D)||Gt["CJK Unified Ideographs"](D)||Gt["Enclosed CJK Letters and Months"](D)||Gt["Hangul Compatibility Jamo"](D)||Gt["Hangul Jamo Extended-A"](D)||Gt["Hangul Jamo Extended-B"](D)||Gt["Hangul Jamo"](D)||Gt["Hangul Syllables"](D)||Gt.Hiragana(D)||Gt["Ideographic Description Characters"](D)||Gt.Kanbun(D)||Gt["Kangxi Radicals"](D)||Gt["Katakana Phonetic Extensions"](D)||Gt.Katakana(D)&&D!==12540||Gt["Halfwidth and Fullwidth Forms"](D)&&D!==65288&&D!==65289&&D!==65293&&!(D>=65306&&D<=65310)&&D!==65339&&D!==65341&&D!==65343&&!(D>=65371&&D<=65503)&&D!==65507&&!(D>=65512&&D<=65519)||Gt["Small Form Variants"](D)&&!(D>=65112&&D<=65118)&&!(D>=65123&&D<=65126)||Gt["Unified Canadian Aboriginal Syllabics"](D)||Gt["Unified Canadian Aboriginal Syllabics Extended"](D)||Gt["Vertical Forms"](D)||Gt["Yijing Hexagram Symbols"](D)||Gt["Yi Syllables"](D)||Gt["Yi Radicals"](D))}function Rr(D){return!!(Gt["Latin-1 Supplement"](D)&&(D===167||D===169||D===174||D===177||D===188||D===189||D===190||D===215||D===247)||Gt["General Punctuation"](D)&&(D===8214||D===8224||D===8225||D===8240||D===8241||D===8251||D===8252||D===8258||D===8263||D===8264||D===8265||D===8273)||Gt["Letterlike Symbols"](D)||Gt["Number Forms"](D)||Gt["Miscellaneous Technical"](D)&&(D>=8960&&D<=8967||D>=8972&&D<=8991||D>=8996&&D<=9e3||D===9003||D>=9085&&D<=9114||D>=9150&&D<=9165||D===9167||D>=9169&&D<=9179||D>=9186&&D<=9215)||Gt["Control Pictures"](D)&&D!==9251||Gt["Optical Character Recognition"](D)||Gt["Enclosed Alphanumerics"](D)||Gt["Geometric Shapes"](D)||Gt["Miscellaneous Symbols"](D)&&!(D>=9754&&D<=9759)||Gt["Miscellaneous Symbols and Arrows"](D)&&(D>=11026&&D<=11055||D>=11088&&D<=11097||D>=11192&&D<=11243)||Gt["CJK Symbols and Punctuation"](D)||Gt.Katakana(D)||Gt["Private Use Area"](D)||Gt["CJK Compatibility Forms"](D)||Gt["Small Form Variants"](D)||Gt["Halfwidth and Fullwidth Forms"](D)||D===8734||D===8756||D===8757||D>=9984&&D<=10087||D>=10102&&D<=10131||D===65532||D===65533)}function Br(D){return!(on(D)||Rr(D))}function Zr(D){return Gt.Arabic(D)||Gt["Arabic Supplement"](D)||Gt["Arabic Extended-A"](D)||Gt["Arabic Presentation Forms-A"](D)||Gt["Arabic Presentation Forms-B"](D)}function un(D){return D>=1424&&D<=2303||Gt["Arabic Presentation Forms-A"](D)||Gt["Arabic Presentation Forms-B"](D)}function vn(D,R){return!(!R&&un(D)||D>=2304&&D<=3583||D>=3840&&D<=4255||Gt.Khmer(D))}function qr(D){for(var R=0,X=D;R<X.length;R+=1){var ae=X[R];if(un(ae.charCodeAt(0)))return!0}return!1}function Un(D,R){for(var X=0,ae=D;X<ae.length;X+=1){var ve=ae[X];if(!vn(ve.charCodeAt(0),R))return!1}return!0}var qn={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},ui=null,Qn=qn.unavailable,ii=null,fi=function(D){D&&typeof D=="string"&&D.indexOf("NetworkError")>-1&&(Qn=qn.error),ui&&ui(D)};function Bi(){Si.fire(new rr("pluginStateChange",{pluginStatus:Qn,pluginURL:ii}))}var Si=new cr,Oi=function(){return Qn},ia=function(D){return D({pluginStatus:Qn,pluginURL:ii}),Si.on("pluginStateChange",D),D},Na=function(D,R,X){if(X===void 0&&(X=!1),Qn===qn.deferred||Qn===qn.loading||Qn===qn.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");ii=se.resolveURL(D),Qn=qn.deferred,ui=R,Bi(),X||fa()},fa=function(){if(Qn!==qn.deferred||!ii)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Qn=qn.loading,Bi(),ii&&Ut({url:ii},function(D){D?fi(D):(Qn=qn.loaded,Bi())})},Zn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Qn===qn.loaded||Zn.applyArabicShaping!=null},isLoading:function(){return Qn===qn.loading},setState:function(R){Qn=R.pluginStatus,ii=R.pluginURL},isParsed:function(){return Zn.applyArabicShaping!=null&&Zn.processBidirectionalText!=null&&Zn.processStyledBidirectionalText!=null},getPluginURL:function(){return ii}},Hi=function(){!Zn.isLoading()&&!Zn.isLoaded()&&Oi()==="deferred"&&fa()},Ai=function(R,X){this.zoom=R,X?(this.now=X.now,this.fadeDuration=X.fadeDuration,this.zoomHistory=X.zoomHistory,this.transition=X.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ht,this.transition={})};Ai.prototype.isSupportedScript=function(R){return Un(R,Zn.isLoaded())},Ai.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Ai.prototype.getCrossfadeParameters=function(){var R=this.zoom,X=R-Math.floor(R),ae=this.crossFadingFactor();return R>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:X+(1-X)*ae}:{fromScale:.5,toScale:1,t:1-(1-ae)*X}};var Ki=function(R,X){this.property=R,this.value=X,this.expression=Qu(X===void 0?R.specification.default:X,R.specification)};Ki.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Ki.prototype.possiblyEvaluate=function(R,X,ae){return this.property.possiblyEvaluate(this,R,X,ae)};var Ta=function(R){this.property=R,this.value=new Ki(R,void 0)};Ta.prototype.transitioned=function(R,X){return new qa(this.property,this.value,X,w({},R.transition,this.transition),R.now)},Ta.prototype.untransitioned=function(){return new qa(this.property,this.value,null,{},0)};var aa=function(R){this._properties=R,this._values=Object.create(R.defaultTransitionablePropertyValues)};aa.prototype.getValue=function(R){return V(this._values[R].value.value)},aa.prototype.setValue=function(R,X){this._values.hasOwnProperty(R)||(this._values[R]=new Ta(this._values[R].property)),this._values[R].value=new Ki(this._values[R].property,X===null?void 0:V(X))},aa.prototype.getTransition=function(R){return V(this._values[R].transition)},aa.prototype.setTransition=function(R,X){this._values.hasOwnProperty(R)||(this._values[R]=new Ta(this._values[R].property)),this._values[R].transition=V(X)||void 0},aa.prototype.serialize=function(){for(var R={},X=0,ae=Object.keys(this._values);X<ae.length;X+=1){var ve=ae[X],Ae=this.getValue(ve);Ae!==void 0&&(R[ve]=Ae);var Ie=this.getTransition(ve);Ie!==void 0&&(R[ve+"-transition"]=Ie)}return R},aa.prototype.transitioned=function(R,X){for(var ae=new eo(this._properties),ve=0,Ae=Object.keys(this._values);ve<Ae.length;ve+=1){var Ie=Ae[ve];ae._values[Ie]=this._values[Ie].transitioned(R,X._values[Ie])}return ae},aa.prototype.untransitioned=function(){for(var R=new eo(this._properties),X=0,ae=Object.keys(this._values);X<ae.length;X+=1){var ve=ae[X];R._values[ve]=this._values[ve].untransitioned()}return R};var qa=function(R,X,ae,ve,Ae){this.property=R,this.value=X,this.begin=Ae+ve.delay||0,this.end=this.begin+ve.duration||0,R.specification.transition&&(ve.delay||ve.duration)&&(this.prior=ae)};qa.prototype.possiblyEvaluate=function(R,X,ae){var ve=R.now||0,Ae=this.value.possiblyEvaluate(R,X,ae),Ie=this.prior;if(Ie){if(ve>this.end)return this.prior=null,Ae;if(this.value.isDataDriven())return this.prior=null,Ae;if(ve<this.begin)return Ie.possiblyEvaluate(R,X,ae);var Qe=(ve-this.begin)/(this.end-this.begin);return this.property.interpolate(Ie.possiblyEvaluate(R,X,ae),Ae,s(Qe))}else return Ae};var eo=function(R){this._properties=R,this._values=Object.create(R.defaultTransitioningPropertyValues)};eo.prototype.possiblyEvaluate=function(R,X,ae){for(var ve=new yo(this._properties),Ae=0,Ie=Object.keys(this._values);Ae<Ie.length;Ae+=1){var Qe=Ie[Ae];ve._values[Qe]=this._values[Qe].possiblyEvaluate(R,X,ae)}return ve},eo.prototype.hasTransition=function(){for(var R=0,X=Object.keys(this._values);R<X.length;R+=1){var ae=X[R];if(this._values[ae].prior)return!0}return!1};var ao=function(R){this._properties=R,this._values=Object.create(R.defaultPropertyValues)};ao.prototype.getValue=function(R){return V(this._values[R].value)},ao.prototype.setValue=function(R,X){this._values[R]=new Ki(this._values[R].property,X===null?void 0:V(X))},ao.prototype.serialize=function(){for(var R={},X=0,ae=Object.keys(this._values);X<ae.length;X+=1){var ve=ae[X],Ae=this.getValue(ve);Ae!==void 0&&(R[ve]=Ae)}return R},ao.prototype.possiblyEvaluate=function(R,X,ae){for(var ve=new yo(this._properties),Ae=0,Ie=Object.keys(this._values);Ae<Ie.length;Ae+=1){var Qe=Ie[Ae];ve._values[Qe]=this._values[Qe].possiblyEvaluate(R,X,ae)}return ve};var Aa=function(R,X,ae){this.property=R,this.value=X,this.parameters=ae};Aa.prototype.isConstant=function(){return this.value.kind==="constant"},Aa.prototype.constantOr=function(R){return this.value.kind==="constant"?this.value.value:R},Aa.prototype.evaluate=function(R,X,ae,ve){return this.property.evaluate(this.value,this.parameters,R,X,ae,ve)};var yo=function(R){this._properties=R,this._values=Object.create(R.defaultPossiblyEvaluatedValues)};yo.prototype.get=function(R){return this._values[R]};var oi=function(R){this.specification=R};oi.prototype.possiblyEvaluate=function(R,X){return R.expression.evaluate(X)},oi.prototype.interpolate=function(R,X,ae){var ve=Hu[this.specification.type];return ve?ve(R,X,ae):R};var Ci=function(R,X){this.specification=R,this.overrides=X};Ci.prototype.possiblyEvaluate=function(R,X,ae,ve){return R.expression.kind==="constant"||R.expression.kind==="camera"?new Aa(this,{kind:"constant",value:R.expression.evaluate(X,null,{},ae,ve)},X):new Aa(this,R.expression,X)},Ci.prototype.interpolate=function(R,X,ae){if(R.value.kind!=="constant"||X.value.kind!=="constant")return R;if(R.value.value===void 0||X.value.value===void 0)return new Aa(this,{kind:"constant",value:void 0},R.parameters);var ve=Hu[this.specification.type];return ve?new Aa(this,{kind:"constant",value:ve(R.value.value,X.value.value,ae)},R.parameters):R},Ci.prototype.evaluate=function(R,X,ae,ve,Ae,Ie){return R.kind==="constant"?R.value:R.evaluate(X,ae,ve,Ae,Ie)};var ko=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.possiblyEvaluate=function(ae,ve,Ae,Ie){if(ae.value===void 0)return new Aa(this,{kind:"constant",value:void 0},ve);if(ae.expression.kind==="constant"){var Qe=ae.expression.evaluate(ve,null,{},Ae,Ie),vt=ae.property.specification.type==="resolvedImage",Mt=vt&&typeof Qe!="string"?Qe.name:Qe,Pt=this._calculate(Mt,Mt,Mt,ve);return new Aa(this,{kind:"constant",value:Pt},ve)}else if(ae.expression.kind==="camera"){var Wt=this._calculate(ae.expression.evaluate({zoom:ve.zoom-1}),ae.expression.evaluate({zoom:ve.zoom}),ae.expression.evaluate({zoom:ve.zoom+1}),ve);return new Aa(this,{kind:"constant",value:Wt},ve)}else return new Aa(this,ae.expression,ve)},R.prototype.evaluate=function(ae,ve,Ae,Ie,Qe,vt){if(ae.kind==="source"){var Mt=ae.evaluate(ve,Ae,Ie,Qe,vt);return this._calculate(Mt,Mt,Mt,ve)}else return ae.kind==="composite"?this._calculate(ae.evaluate({zoom:Math.floor(ve.zoom)-1},Ae,Ie),ae.evaluate({zoom:Math.floor(ve.zoom)},Ae,Ie),ae.evaluate({zoom:Math.floor(ve.zoom)+1},Ae,Ie),ve):ae.value},R.prototype._calculate=function(ae,ve,Ae,Ie){var Qe=Ie.zoom;return Qe>Ie.zoomHistory.lastIntegerZoom?{from:ae,to:ve}:{from:Ae,to:ve}},R.prototype.interpolate=function(ae){return ae},R}(Ci),Vo=function(R){this.specification=R};Vo.prototype.possiblyEvaluate=function(R,X,ae,ve){if(R.value!==void 0)if(R.expression.kind==="constant"){var Ae=R.expression.evaluate(X,null,{},ae,ve);return this._calculate(Ae,Ae,Ae,X)}else return this._calculate(R.expression.evaluate(new Ai(Math.floor(X.zoom-1),X)),R.expression.evaluate(new Ai(Math.floor(X.zoom),X)),R.expression.evaluate(new Ai(Math.floor(X.zoom+1),X)),X)},Vo.prototype._calculate=function(R,X,ae,ve){var Ae=ve.zoom;return Ae>ve.zoomHistory.lastIntegerZoom?{from:R,to:X}:{from:ae,to:X}},Vo.prototype.interpolate=function(R){return R};var oo=function(R){this.specification=R};oo.prototype.possiblyEvaluate=function(R,X,ae,ve){return!!R.expression.evaluate(X,null,{},ae,ve)},oo.prototype.interpolate=function(){return!1};var ca=function(R){this.properties=R,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var X in R){var ae=R[X];ae.specification.overridable&&this.overridableProperties.push(X);var ve=this.defaultPropertyValues[X]=new Ki(ae,void 0),Ae=this.defaultTransitionablePropertyValues[X]=new Ta(ae);this.defaultTransitioningPropertyValues[X]=Ae.untransitioned(),this.defaultPossiblyEvaluatedValues[X]=ve.possiblyEvaluate({})}};Fe("DataDrivenProperty",Ci),Fe("DataConstantProperty",oi),Fe("CrossFadedDataDrivenProperty",ko),Fe("CrossFadedProperty",Vo),Fe("ColorRampProperty",oo);var Xa="-transition",Ba=function(D){function R(X,ae){if(D.call(this),this.id=X.id,this.type=X.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},X.type!=="custom"&&(X=X,this.metadata=X.metadata,this.minzoom=X.minzoom,this.maxzoom=X.maxzoom,X.type!=="background"&&(this.source=X.source,this.sourceLayer=X["source-layer"],this.filter=X.filter),ae.layout&&(this._unevaluatedLayout=new ao(ae.layout)),ae.paint)){this._transitionablePaint=new aa(ae.paint);for(var ve in X.paint)this.setPaintProperty(ve,X.paint[ve],{validate:!1});for(var Ae in X.layout)this.setLayoutProperty(Ae,X.layout[Ae],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new yo(ae.paint)}}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},R.prototype.getLayoutProperty=function(ae){return ae==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ae)},R.prototype.setLayoutProperty=function(ae,ve,Ae){if(Ae===void 0&&(Ae={}),ve!=null){var Ie="layers."+this.id+".layout."+ae;if(this._validate(Ri,Ie,ae,ve,Ae))return}if(ae==="visibility"){this.visibility=ve;return}this._unevaluatedLayout.setValue(ae,ve)},R.prototype.getPaintProperty=function(ae){return T(ae,Xa)?this._transitionablePaint.getTransition(ae.slice(0,-Xa.length)):this._transitionablePaint.getValue(ae)},R.prototype.setPaintProperty=function(ae,ve,Ae){if(Ae===void 0&&(Ae={}),ve!=null){var Ie="layers."+this.id+".paint."+ae;if(this._validate(Di,Ie,ae,ve,Ae))return!1}if(T(ae,Xa))return this._transitionablePaint.setTransition(ae.slice(0,-Xa.length),ve||void 0),!1;var Qe=this._transitionablePaint._values[ae],vt=Qe.property.specification["property-type"]==="cross-faded-data-driven",Mt=Qe.value.isDataDriven(),Pt=Qe.value;this._transitionablePaint.setValue(ae,ve),this._handleSpecialPaintPropertyUpdate(ae);var Wt=this._transitionablePaint._values[ae].value,nr=Wt.isDataDriven();return nr||Mt||vt||this._handleOverridablePaintPropertyUpdate(ae,Pt,Wt)},R.prototype._handleSpecialPaintPropertyUpdate=function(ae){},R.prototype._handleOverridablePaintPropertyUpdate=function(ae,ve,Ae){return!1},R.prototype.isHidden=function(ae){return this.minzoom&&ae<this.minzoom||this.maxzoom&&ae>=this.maxzoom?!0:this.visibility==="none"},R.prototype.updateTransitions=function(ae){this._transitioningPaint=this._transitionablePaint.transitioned(ae,this._transitioningPaint)},R.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},R.prototype.recalculate=function(ae,ve){ae.getCrossfadeParameters&&(this._crossfadeParameters=ae.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ae,void 0,ve)),this.paint=this._transitioningPaint.possiblyEvaluate(ae,void 0,ve)},R.prototype.serialize=function(){var ae={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ae.layout=ae.layout||{},ae.layout.visibility=this.visibility),_(ae,function(ve,Ae){return ve!==void 0&&!(Ae==="layout"&&!Object.keys(ve).length)&&!(Ae==="paint"&&!Object.keys(ve).length)})},R.prototype._validate=function(ae,ve,Ae,Ie,Qe){return Qe===void 0&&(Qe={}),Qe&&Qe.validate===!1?!1:Ii(this,ae.call(Rn,{key:ve,layerType:this.type,objectKey:Ae,value:Ie,styleSpec:Ar,style:{glyphs:!0,sprite:!0}}))},R.prototype.is3D=function(){return!1},R.prototype.isTileClipped=function(){return!1},R.prototype.hasOffscreenPass=function(){return!1},R.prototype.resize=function(){},R.prototype.isStateDependent=function(){for(var ae in this.paint._values){var ve=this.paint.get(ae);if(!(!(ve instanceof Aa)||!_s(ve.property.specification))&&(ve.value.kind==="source"||ve.value.kind==="composite")&&ve.value.isStateDependent)return!0}return!1},R}(cr),ms={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Os=function(R,X){this._structArray=R,this._pos1=X*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Pa=128,Yl=5,Ji=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};Ji.serialize=function(R,X){return R._trim(),X&&(R.isTransferred=!0,X.push(R.arrayBuffer)),{length:R.length,arrayBuffer:R.arrayBuffer}},Ji.deserialize=function(R){var X=Object.create(this.prototype);return X.arrayBuffer=R.arrayBuffer,X.length=R.length,X.capacity=R.arrayBuffer.byteLength/X.bytesPerElement,X._refreshViews(),X},Ji.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ji.prototype.clear=function(){this.length=0},Ji.prototype.resize=function(R){this.reserve(R),this.length=R},Ji.prototype.reserve=function(R){if(R>this.capacity){this.capacity=Math.max(R,Math.floor(this.capacity*Yl),Pa),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var X=this.uint8;this._refreshViews(),X&&this.uint8.set(X)}},Ji.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Da(D,R){R===void 0&&(R=1);var X=0,ae=0,ve=D.map(function(Ie){var Qe=Th(Ie.type),vt=X=xp(X,Math.max(R,Qe)),Mt=Ie.components||1;return ae=Math.max(ae,Qe),X+=Qe*Mt,{name:Ie.name,type:Ie.type,components:Mt,offset:vt}}),Ae=xp(X,Math.max(ae,R));return{members:ve,size:Ae,alignment:R}}function Th(D){return ms[D].BYTES_PER_ELEMENT}function xp(D,R){return Math.ceil(D/R)*R}var Df=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve){var Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,ae,ve)},R.prototype.emplace=function(ae,ve,Ae){var Ie=ae*2;return this.int16[Ie+0]=ve,this.int16[Ie+1]=Ae,ae},R}(Ji);Df.prototype.bytesPerElement=4,Fe("StructArrayLayout2i4",Df);var qv=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,Ae,Ie){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,ae,ve,Ae,Ie)},R.prototype.emplace=function(ae,ve,Ae,Ie,Qe){var vt=ae*4;return this.int16[vt+0]=ve,this.int16[vt+1]=Ae,this.int16[vt+2]=Ie,this.int16[vt+3]=Qe,ae},R}(Ji);qv.prototype.bytesPerElement=8,Fe("StructArrayLayout4i8",qv);var ef=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,Ae,Ie,Qe,vt){var Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,ae,ve,Ae,Ie,Qe,vt)},R.prototype.emplace=function(ae,ve,Ae,Ie,Qe,vt,Mt){var Pt=ae*6;return this.int16[Pt+0]=ve,this.int16[Pt+1]=Ae,this.int16[Pt+2]=Ie,this.int16[Pt+3]=Qe,this.int16[Pt+4]=vt,this.int16[Pt+5]=Mt,ae},R}(Ji);ef.prototype.bytesPerElement=12,Fe("StructArrayLayout2i4i12",ef);var bc=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,Ae,Ie,Qe,vt){var Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,ae,ve,Ae,Ie,Qe,vt)},R.prototype.emplace=function(ae,ve,Ae,Ie,Qe,vt,Mt){var Pt=ae*4,Wt=ae*8;return this.int16[Pt+0]=ve,this.int16[Pt+1]=Ae,this.uint8[Wt+4]=Ie,this.uint8[Wt+5]=Qe,this.uint8[Wt+6]=vt,this.uint8[Wt+7]=Mt,ae},R}(Ji);bc.prototype.bytesPerElement=8,Fe("StructArrayLayout2i4ub8",bc);var wc=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve){var Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,ae,ve)},R.prototype.emplace=function(ae,ve,Ae){var Ie=ae*2;return this.float32[Ie+0]=ve,this.float32[Ie+1]=Ae,ae},R}(Ji);wc.prototype.bytesPerElement=8,Fe("StructArrayLayout2f8",wc);var is=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,Ae,Ie,Qe,vt,Mt,Pt,Wt,nr){var qt=this.length;return this.resize(qt+1),this.emplace(qt,ae,ve,Ae,Ie,Qe,vt,Mt,Pt,Wt,nr)},R.prototype.emplace=function(ae,ve,Ae,Ie,Qe,vt,Mt,Pt,Wt,nr,qt){var yr=ae*10;return this.uint16[yr+0]=ve,this.uint16[yr+1]=Ae,this.uint16[yr+2]=Ie,this.uint16[yr+3]=Qe,this.uint16[yr+4]=vt,this.uint16[yr+5]=Mt,this.uint16[yr+6]=Pt,this.uint16[yr+7]=Wt,this.uint16[yr+8]=nr,this.uint16[yr+9]=qt,ae},R}(Ji);is.prototype.bytesPerElement=20,Fe("StructArrayLayout10ui20",is);var tf=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,Ae,Ie,Qe,vt,Mt,Pt,Wt,nr,qt,yr){var Or=this.length;return this.resize(Or+1),this.emplace(Or,ae,ve,Ae,Ie,Qe,vt,Mt,Pt,Wt,nr,qt,yr)},R.prototype.emplace=function(ae,ve,Ae,Ie,Qe,vt,Mt,Pt,Wt,nr,qt,yr,Or){var ln=ae*12;return this.int16[ln+0]=ve,this.int16[ln+1]=Ae,this.int16[ln+2]=Ie,this.int16[ln+3]=Qe,this.uint16[ln+4]=vt,this.uint16[ln+5]=Mt,this.uint16[ln+6]=Pt,this.uint16[ln+7]=Wt,this.int16[ln+8]=nr,this.int16[ln+9]=qt,this.int16[ln+10]=yr,this.int16[ln+11]=Or,ae},R}(Ji);tf.prototype.bytesPerElement=24,Fe("StructArrayLayout4i4ui4i24",tf);var ed=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,Ae){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,ae,ve,Ae)},R.prototype.emplace=function(ae,ve,Ae,Ie){var Qe=ae*3;return this.float32[Qe+0]=ve,this.float32[Qe+1]=Ae,this.float32[Qe+2]=Ie,ae},R}(Ji);ed.prototype.bytesPerElement=12,Fe("StructArrayLayout3f12",ed);var td=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ae)},R.prototype.emplace=function(ae,ve){var Ae=ae*1;return this.uint32[Ae+0]=ve,ae},R}(Ji);td.prototype.bytesPerElement=4,Fe("StructArrayLayout1ul4",td);var Ah=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,Ae,Ie,Qe,vt,Mt,Pt,Wt){var nr=this.length;return this.resize(nr+1),this.emplace(nr,ae,ve,Ae,Ie,Qe,vt,Mt,Pt,Wt)},R.prototype.emplace=function(ae,ve,Ae,Ie,Qe,vt,Mt,Pt,Wt,nr){var qt=ae*10,yr=ae*5;return this.int16[qt+0]=ve,this.int16[qt+1]=Ae,this.int16[qt+2]=Ie,this.int16[qt+3]=Qe,this.int16[qt+4]=vt,this.int16[qt+5]=Mt,this.uint32[yr+3]=Pt,this.uint16[qt+8]=Wt,this.uint16[qt+9]=nr,ae},R}(Ji);Ah.prototype.bytesPerElement=20,Fe("StructArrayLayout6i1ul2ui20",Ah);var Kh=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,Ae,Ie,Qe,vt){var Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,ae,ve,Ae,Ie,Qe,vt)},R.prototype.emplace=function(ae,ve,Ae,Ie,Qe,vt,Mt){var Pt=ae*6;return this.int16[Pt+0]=ve,this.int16[Pt+1]=Ae,this.int16[Pt+2]=Ie,this.int16[Pt+3]=Qe,this.int16[Pt+4]=vt,this.int16[Pt+5]=Mt,ae},R}(Ji);Kh.prototype.bytesPerElement=12,Fe("StructArrayLayout2i2i2i12",Kh);var Su=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,Ae,Ie,Qe){var vt=this.length;return this.resize(vt+1),this.emplace(vt,ae,ve,Ae,Ie,Qe)},R.prototype.emplace=function(ae,ve,Ae,Ie,Qe,vt){var Mt=ae*4,Pt=ae*8;return this.float32[Mt+0]=ve,this.float32[Mt+1]=Ae,this.float32[Mt+2]=Ie,this.int16[Pt+6]=Qe,this.int16[Pt+7]=vt,ae},R}(Ji);Su.prototype.bytesPerElement=16,Fe("StructArrayLayout2f1f2i16",Su);var xs=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,Ae,Ie){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,ae,ve,Ae,Ie)},R.prototype.emplace=function(ae,ve,Ae,Ie,Qe){var vt=ae*12,Mt=ae*3;return this.uint8[vt+0]=ve,this.uint8[vt+1]=Ae,this.float32[Mt+1]=Ie,this.float32[Mt+2]=Qe,ae},R}(Ji);xs.prototype.bytesPerElement=12,Fe("StructArrayLayout2ub2f12",xs);var Eu=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,Ae){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,ae,ve,Ae)},R.prototype.emplace=function(ae,ve,Ae,Ie){var Qe=ae*3;return this.uint16[Qe+0]=ve,this.uint16[Qe+1]=Ae,this.uint16[Qe+2]=Ie,ae},R}(Ji);Eu.prototype.bytesPerElement=6,Fe("StructArrayLayout3ui6",Eu);var Mh=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,Ae,Ie,Qe,vt,Mt,Pt,Wt,nr,qt,yr,Or,ln,en,Mn,yn){var An=this.length;return this.resize(An+1),this.emplace(An,ae,ve,Ae,Ie,Qe,vt,Mt,Pt,Wt,nr,qt,yr,Or,ln,en,Mn,yn)},R.prototype.emplace=function(ae,ve,Ae,Ie,Qe,vt,Mt,Pt,Wt,nr,qt,yr,Or,ln,en,Mn,yn,An){var kn=ae*24,Gn=ae*12,ti=ae*48;return this.int16[kn+0]=ve,this.int16[kn+1]=Ae,this.uint16[kn+2]=Ie,this.uint16[kn+3]=Qe,this.uint32[Gn+2]=vt,this.uint32[Gn+3]=Mt,this.uint32[Gn+4]=Pt,this.uint16[kn+10]=Wt,this.uint16[kn+11]=nr,this.uint16[kn+12]=qt,this.float32[Gn+7]=yr,this.float32[Gn+8]=Or,this.uint8[ti+36]=ln,this.uint8[ti+37]=en,this.uint8[ti+38]=Mn,this.uint32[Gn+10]=yn,this.int16[kn+22]=An,ae},R}(Ji);Mh.prototype.bytesPerElement=48,Fe("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Mh);var Jh=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,Ae,Ie,Qe,vt,Mt,Pt,Wt,nr,qt,yr,Or,ln,en,Mn,yn,An,kn,Gn,ti,$n,wi,vi,bi,Ui,Ti,Ei){var Xi=this.length;return this.resize(Xi+1),this.emplace(Xi,ae,ve,Ae,Ie,Qe,vt,Mt,Pt,Wt,nr,qt,yr,Or,ln,en,Mn,yn,An,kn,Gn,ti,$n,wi,vi,bi,Ui,Ti,Ei)},R.prototype.emplace=function(ae,ve,Ae,Ie,Qe,vt,Mt,Pt,Wt,nr,qt,yr,Or,ln,en,Mn,yn,An,kn,Gn,ti,$n,wi,vi,bi,Ui,Ti,Ei,Xi){var Ni=ae*34,sa=ae*17;return this.int16[Ni+0]=ve,this.int16[Ni+1]=Ae,this.int16[Ni+2]=Ie,this.int16[Ni+3]=Qe,this.int16[Ni+4]=vt,this.int16[Ni+5]=Mt,this.int16[Ni+6]=Pt,this.int16[Ni+7]=Wt,this.uint16[Ni+8]=nr,this.uint16[Ni+9]=qt,this.uint16[Ni+10]=yr,this.uint16[Ni+11]=Or,this.uint16[Ni+12]=ln,this.uint16[Ni+13]=en,this.uint16[Ni+14]=Mn,this.uint16[Ni+15]=yn,this.uint16[Ni+16]=An,this.uint16[Ni+17]=kn,this.uint16[Ni+18]=Gn,this.uint16[Ni+19]=ti,this.uint16[Ni+20]=$n,this.uint16[Ni+21]=wi,this.uint16[Ni+22]=vi,this.uint32[sa+12]=bi,this.float32[sa+13]=Ui,this.float32[sa+14]=Ti,this.float32[sa+15]=Ei,this.float32[sa+16]=Xi,ae},R}(Ji);Jh.prototype.bytesPerElement=68,Fe("StructArrayLayout8i15ui1ul4f68",Jh);var Tc=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ae)},R.prototype.emplace=function(ae,ve){var Ae=ae*1;return this.float32[Ae+0]=ve,ae},R}(Ji);Tc.prototype.bytesPerElement=4,Fe("StructArrayLayout1f4",Tc);var rd=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,Ae){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,ae,ve,Ae)},R.prototype.emplace=function(ae,ve,Ae,Ie){var Qe=ae*3;return this.int16[Qe+0]=ve,this.int16[Qe+1]=Ae,this.int16[Qe+2]=Ie,ae},R}(Ji);rd.prototype.bytesPerElement=6,Fe("StructArrayLayout3i6",rd);var rf=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,Ae){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,ae,ve,Ae)},R.prototype.emplace=function(ae,ve,Ae,Ie){var Qe=ae*2,vt=ae*4;return this.uint32[Qe+0]=ve,this.uint16[vt+2]=Ae,this.uint16[vt+3]=Ie,ae},R}(Ji);rf.prototype.bytesPerElement=8,Fe("StructArrayLayout1ul2ui8",rf);var Sh=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve){var Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,ae,ve)},R.prototype.emplace=function(ae,ve,Ae){var Ie=ae*2;return this.uint16[Ie+0]=ve,this.uint16[Ie+1]=Ae,ae},R}(Ji);Sh.prototype.bytesPerElement=4,Fe("StructArrayLayout2ui4",Sh);var Ac=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae){var ve=this.length;return this.resize(ve+1),this.emplace(ve,ae)},R.prototype.emplace=function(ae,ve){var Ae=ae*1;return this.uint16[Ae+0]=ve,ae},R}(Ji);Ac.prototype.bytesPerElement=2,Fe("StructArrayLayout1ui2",Ac);var Rf=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(ae,ve,Ae,Ie){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,ae,ve,Ae,Ie)},R.prototype.emplace=function(ae,ve,Ae,Ie,Qe){var vt=ae*4;return this.float32[vt+0]=ve,this.float32[vt+1]=Ae,this.float32[vt+2]=Ie,this.float32[vt+3]=Qe,ae},R}(Ji);Rf.prototype.bytesPerElement=16,Fe("StructArrayLayout4f16",Rf);var bp=function(D){function R(){D.apply(this,arguments)}D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R;var X={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return X.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},X.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},X.x1.get=function(){return this._structArray.int16[this._pos2+2]},X.y1.get=function(){return this._structArray.int16[this._pos2+3]},X.x2.get=function(){return this._structArray.int16[this._pos2+4]},X.y2.get=function(){return this._structArray.int16[this._pos2+5]},X.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},X.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},X.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},X.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(R.prototype,X),R}(Os);bp.prototype.size=20;var nd=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.get=function(ae){return new bp(this,ae)},R}(Ah);Fe("CollisionBoxArray",nd);var If=function(D){function R(){D.apply(this,arguments)}D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R;var X={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return X.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},X.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},X.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},X.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},X.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},X.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},X.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},X.segment.get=function(){return this._structArray.uint16[this._pos2+10]},X.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},X.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},X.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},X.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},X.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},X.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},X.placedOrientation.set=function(ae){this._structArray.uint8[this._pos1+37]=ae},X.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},X.hidden.set=function(ae){this._structArray.uint8[this._pos1+38]=ae},X.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},X.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+10]=ae},X.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(R.prototype,X),R}(Os);If.prototype.size=48;var id=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.get=function(ae){return new If(this,ae)},R}(Mh);Fe("PlacedSymbolArray",id);var Mc=function(D){function R(){D.apply(this,arguments)}D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R;var X={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return X.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},X.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},X.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},X.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},X.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},X.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},X.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},X.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},X.key.get=function(){return this._structArray.uint16[this._pos2+8]},X.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},X.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},X.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},X.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},X.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},X.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},X.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},X.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},X.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},X.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},X.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},X.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},X.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},X.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},X.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},X.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+12]=ae},X.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},X.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},X.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},X.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(R.prototype,X),R}(Os);Mc.prototype.size=68;var wp=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.get=function(ae){return new Mc(this,ae)},R}(Jh);Fe("SymbolInstanceArray",wp);var Tp=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.getoffsetX=function(ae){return this.float32[ae*1+0]},R}(Tc);Fe("GlyphOffsetArray",Tp);var pl=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.getx=function(ae){return this.int16[ae*3+0]},R.prototype.gety=function(ae){return this.int16[ae*3+1]},R.prototype.gettileUnitDistanceFromAnchor=function(ae){return this.int16[ae*3+2]},R}(rd);Fe("SymbolLineVertexArray",pl);var Ap=function(D){function R(){D.apply(this,arguments)}D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R;var X={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return X.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},X.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},X.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(R.prototype,X),R}(Os);Ap.prototype.size=8;var Mp=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.get=function(ae){return new Ap(this,ae)},R}(rf);Fe("FeatureIndexArray",Mp);var Pg=Da([{name:"a_pos",components:2,type:"Int16"}],4),Sp=Pg.members,so=function(R){R===void 0&&(R=[]),this.segments=R};so.prototype.prepareSegment=function(R,X,ae,ve){var Ae=this.segments[this.segments.length-1];return R>so.MAX_VERTEX_ARRAY_LENGTH&&k("Max vertices per segment is "+so.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+R),(!Ae||Ae.vertexLength+R>so.MAX_VERTEX_ARRAY_LENGTH||Ae.sortKey!==ve)&&(Ae={vertexOffset:X.length,primitiveOffset:ae.length,vertexLength:0,primitiveLength:0},ve!==void 0&&(Ae.sortKey=ve),this.segments.push(Ae)),Ae},so.prototype.get=function(){return this.segments},so.prototype.destroy=function(){for(var R=0,X=this.segments;R<X.length;R+=1){var ae=X[R];for(var ve in ae.vaos)ae.vaos[ve].destroy()}},so.simpleSegment=function(R,X,ae,ve){return new so([{vertexOffset:R,primitiveOffset:X,vertexLength:ae,primitiveLength:ve,vaos:{},sortKey:0}])},so.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Fe("SegmentVector",so);function he(D,R){return D=h(Math.floor(D),0,255),R=h(Math.floor(R),0,255),256*D+R}var Q=Da([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),de=S(function(D){function R(X,ae){var ve,Ae,Ie,Qe,vt,Mt,Pt,Wt;for(ve=X.length&3,Ae=X.length-ve,Ie=ae,vt=3432918353,Mt=461845907,Wt=0;Wt<Ae;)Pt=X.charCodeAt(Wt)&255|(X.charCodeAt(++Wt)&255)<<8|(X.charCodeAt(++Wt)&255)<<16|(X.charCodeAt(++Wt)&255)<<24,++Wt,Pt=(Pt&65535)*vt+(((Pt>>>16)*vt&65535)<<16)&4294967295,Pt=Pt<<15|Pt>>>17,Pt=(Pt&65535)*Mt+(((Pt>>>16)*Mt&65535)<<16)&4294967295,Ie^=Pt,Ie=Ie<<13|Ie>>>19,Qe=(Ie&65535)*5+(((Ie>>>16)*5&65535)<<16)&4294967295,Ie=(Qe&65535)+27492+(((Qe>>>16)+58964&65535)<<16);switch(Pt=0,ve){case 3:Pt^=(X.charCodeAt(Wt+2)&255)<<16;case 2:Pt^=(X.charCodeAt(Wt+1)&255)<<8;case 1:Pt^=X.charCodeAt(Wt)&255,Pt=(Pt&65535)*vt+(((Pt>>>16)*vt&65535)<<16)&4294967295,Pt=Pt<<15|Pt>>>17,Pt=(Pt&65535)*Mt+(((Pt>>>16)*Mt&65535)<<16)&4294967295,Ie^=Pt}return Ie^=X.length,Ie^=Ie>>>16,Ie=(Ie&65535)*2246822507+(((Ie>>>16)*2246822507&65535)<<16)&4294967295,Ie^=Ie>>>13,Ie=(Ie&65535)*3266489909+(((Ie>>>16)*3266489909&65535)<<16)&4294967295,Ie^=Ie>>>16,Ie>>>0}D.exports=R}),re=S(function(D){function R(X,ae){for(var ve=X.length,Ae=ae^ve,Ie=0,Qe;ve>=4;)Qe=X.charCodeAt(Ie)&255|(X.charCodeAt(++Ie)&255)<<8|(X.charCodeAt(++Ie)&255)<<16|(X.charCodeAt(++Ie)&255)<<24,Qe=(Qe&65535)*1540483477+(((Qe>>>16)*1540483477&65535)<<16),Qe^=Qe>>>24,Qe=(Qe&65535)*1540483477+(((Qe>>>16)*1540483477&65535)<<16),Ae=(Ae&65535)*1540483477+(((Ae>>>16)*1540483477&65535)<<16)^Qe,ve-=4,++Ie;switch(ve){case 3:Ae^=(X.charCodeAt(Ie+2)&255)<<16;case 2:Ae^=(X.charCodeAt(Ie+1)&255)<<8;case 1:Ae^=X.charCodeAt(Ie)&255,Ae=(Ae&65535)*1540483477+(((Ae>>>16)*1540483477&65535)<<16)}return Ae^=Ae>>>13,Ae=(Ae&65535)*1540483477+(((Ae>>>16)*1540483477&65535)<<16),Ae^=Ae>>>15,Ae>>>0}D.exports=R}),pe=de,ze=de,Ke=re;pe.murmur3=ze,pe.murmur2=Ke;var st=function(){this.ids=[],this.positions=[],this.indexed=!1};st.prototype.add=function(R,X,ae,ve){this.ids.push(Vt(R)),this.positions.push(X,ae,ve)},st.prototype.getPositions=function(R){for(var X=Vt(R),ae=0,ve=this.ids.length-1;ae<ve;){var Ae=ae+ve>>1;this.ids[Ae]>=X?ve=Ae:ae=Ae+1}for(var Ie=[];this.ids[ae]===X;){var Qe=this.positions[3*ae],vt=this.positions[3*ae+1],Mt=this.positions[3*ae+2];Ie.push({index:Qe,start:vt,end:Mt}),ae++}return Ie},st.serialize=function(R,X){var ae=new Float64Array(R.ids),ve=new Uint32Array(R.positions);return $t(ae,ve,0,ae.length-1),X&&X.push(ae.buffer,ve.buffer),{ids:ae,positions:ve}},st.deserialize=function(R){var X=new st;return X.ids=R.ids,X.positions=R.positions,X.indexed=!0,X};var Ct=Math.pow(2,53)-1;function Vt(D){var R=+D;return!isNaN(R)&&R<=Ct?R:pe(String(D))}function $t(D,R,X,ae){for(;X<ae;){for(var ve=D[X+ae>>1],Ae=X-1,Ie=ae+1;;){do Ae++;while(D[Ae]<ve);do Ie--;while(D[Ie]>ve);if(Ae>=Ie)break;sr(D,Ae,Ie),sr(R,3*Ae,3*Ie),sr(R,3*Ae+1,3*Ie+1),sr(R,3*Ae+2,3*Ie+2)}Ie-X<ae-Ie?($t(D,R,X,Ie),X=Ie+1):($t(D,R,Ie+1,ae),ae=Ie)}}function sr(D,R,X){var ae=D[R];D[R]=D[X],D[X]=ae}Fe("FeaturePositionMap",st);var ar=function(R,X){this.gl=R.gl,this.location=X},kr=function(D){function R(X,ae){D.call(this,X,ae),this.current=0}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.set=function(ae){this.current!==ae&&(this.current=ae,this.gl.uniform1i(this.location,ae))},R}(ar),Yr=function(D){function R(X,ae){D.call(this,X,ae),this.current=0}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.set=function(ae){this.current!==ae&&(this.current=ae,this.gl.uniform1f(this.location,ae))},R}(ar),Xr=function(D){function R(X,ae){D.call(this,X,ae),this.current=[0,0]}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1])&&(this.current=ae,this.gl.uniform2f(this.location,ae[0],ae[1]))},R}(ar),Hr=function(D){function R(X,ae){D.call(this,X,ae),this.current=[0,0,0]}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1]||ae[2]!==this.current[2])&&(this.current=ae,this.gl.uniform3f(this.location,ae[0],ae[1],ae[2]))},R}(ar),Kr=function(D){function R(X,ae){D.call(this,X,ae),this.current=[0,0,0,0]}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1]||ae[2]!==this.current[2]||ae[3]!==this.current[3])&&(this.current=ae,this.gl.uniform4f(this.location,ae[0],ae[1],ae[2],ae[3]))},R}(ar),fn=function(D){function R(X,ae){D.call(this,X,ae),this.current=ea.transparent}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.set=function(ae){(ae.r!==this.current.r||ae.g!==this.current.g||ae.b!==this.current.b||ae.a!==this.current.a)&&(this.current=ae,this.gl.uniform4f(this.location,ae.r,ae.g,ae.b,ae.a))},R}(ar),_n=new Float32Array(16),Fn=function(D){function R(X,ae){D.call(this,X,ae),this.current=_n}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.set=function(ae){if(ae[12]!==this.current[12]||ae[0]!==this.current[0]){this.current=ae,this.gl.uniformMatrix4fv(this.location,!1,ae);return}for(var ve=1;ve<16;ve++)if(ae[ve]!==this.current[ve]){this.current=ae,this.gl.uniformMatrix4fv(this.location,!1,ae);break}},R}(ar);function Wn(D){return[he(255*D.r,255*D.g),he(255*D.b,255*D.a)]}var Xn=function(R,X,ae){this.value=R,this.uniformNames=X.map(function(ve){return"u_"+ve}),this.type=ae};Xn.prototype.setUniform=function(R,X,ae){R.set(ae.constantOr(this.value))},Xn.prototype.getBinding=function(R,X,ae){return this.type==="color"?new fn(R,X):new Yr(R,X)};var Hn=function(R,X){this.uniformNames=X.map(function(ae){return"u_"+ae}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Hn.prototype.setConstantPatternPositions=function(R,X){this.pixelRatioFrom=X.pixelRatio,this.pixelRatioTo=R.pixelRatio,this.patternFrom=X.tlbr,this.patternTo=R.tlbr},Hn.prototype.setUniform=function(R,X,ae,ve){var Ae=ve==="u_pattern_to"?this.patternTo:ve==="u_pattern_from"?this.patternFrom:ve==="u_pixel_ratio_to"?this.pixelRatioTo:ve==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Ae&&R.set(Ae)},Hn.prototype.getBinding=function(R,X,ae){return ae.substr(0,9)==="u_pattern"?new Kr(R,X):new Yr(R,X)};var jn=function(R,X,ae,ve){this.expression=R,this.type=ae,this.maxValue=0,this.paintVertexAttributes=X.map(function(Ae){return{name:"a_"+Ae,type:"Float32",components:ae==="color"?2:1,offset:0}}),this.paintVertexArray=new ve};jn.prototype.populatePaintArray=function(R,X,ae,ve,Ae){var Ie=this.paintVertexArray.length,Qe=this.expression.evaluate(new Ai(0),X,{},ve,[],Ae);this.paintVertexArray.resize(R),this._setPaintValue(Ie,R,Qe)},jn.prototype.updatePaintArray=function(R,X,ae,ve){var Ae=this.expression.evaluate({zoom:0},ae,ve);this._setPaintValue(R,X,Ae)},jn.prototype._setPaintValue=function(R,X,ae){if(this.type==="color")for(var ve=Wn(ae),Ae=R;Ae<X;Ae++)this.paintVertexArray.emplace(Ae,ve[0],ve[1]);else{for(var Ie=R;Ie<X;Ie++)this.paintVertexArray.emplace(Ie,ae);this.maxValue=Math.max(this.maxValue,Math.abs(ae))}},jn.prototype.upload=function(R){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=R.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},jn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var ei=function(R,X,ae,ve,Ae,Ie){this.expression=R,this.uniformNames=X.map(function(Qe){return"u_"+Qe+"_t"}),this.type=ae,this.useIntegerZoom=ve,this.zoom=Ae,this.maxValue=0,this.paintVertexAttributes=X.map(function(Qe){return{name:"a_"+Qe,type:"Float32",components:ae==="color"?4:2,offset:0}}),this.paintVertexArray=new Ie};ei.prototype.populatePaintArray=function(R,X,ae,ve,Ae){var Ie=this.expression.evaluate(new Ai(this.zoom),X,{},ve,[],Ae),Qe=this.expression.evaluate(new Ai(this.zoom+1),X,{},ve,[],Ae),vt=this.paintVertexArray.length;this.paintVertexArray.resize(R),this._setPaintValue(vt,R,Ie,Qe)},ei.prototype.updatePaintArray=function(R,X,ae,ve){var Ae=this.expression.evaluate({zoom:this.zoom},ae,ve),Ie=this.expression.evaluate({zoom:this.zoom+1},ae,ve);this._setPaintValue(R,X,Ae,Ie)},ei.prototype._setPaintValue=function(R,X,ae,ve){if(this.type==="color")for(var Ae=Wn(ae),Ie=Wn(ve),Qe=R;Qe<X;Qe++)this.paintVertexArray.emplace(Qe,Ae[0],Ae[1],Ie[0],Ie[1]);else{for(var vt=R;vt<X;vt++)this.paintVertexArray.emplace(vt,ae,ve);this.maxValue=Math.max(this.maxValue,Math.abs(ae),Math.abs(ve))}},ei.prototype.upload=function(R){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=R.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ei.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ei.prototype.setUniform=function(R,X){var ae=this.useIntegerZoom?Math.floor(X.zoom):X.zoom,ve=h(this.expression.interpolationFactor(ae,this.zoom,this.zoom+1),0,1);R.set(ve)},ei.prototype.getBinding=function(R,X,ae){return new Yr(R,X)};var si=function(R,X,ae,ve,Ae,Ie){this.expression=R,this.type=X,this.useIntegerZoom=ae,this.zoom=ve,this.layerId=Ie,this.zoomInPaintVertexArray=new Ae,this.zoomOutPaintVertexArray=new Ae};si.prototype.populatePaintArray=function(R,X,ae){var ve=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(R),this.zoomOutPaintVertexArray.resize(R),this._setPaintValues(ve,R,X.patterns&&X.patterns[this.layerId],ae)},si.prototype.updatePaintArray=function(R,X,ae,ve,Ae){this._setPaintValues(R,X,ae.patterns&&ae.patterns[this.layerId],Ae)},si.prototype._setPaintValues=function(R,X,ae,ve){if(!(!ve||!ae)){var Ae=ae.min,Ie=ae.mid,Qe=ae.max,vt=ve[Ae],Mt=ve[Ie],Pt=ve[Qe];if(!(!vt||!Mt||!Pt))for(var Wt=R;Wt<X;Wt++)this.zoomInPaintVertexArray.emplace(Wt,Mt.tl[0],Mt.tl[1],Mt.br[0],Mt.br[1],vt.tl[0],vt.tl[1],vt.br[0],vt.br[1],Mt.pixelRatio,vt.pixelRatio),this.zoomOutPaintVertexArray.emplace(Wt,Mt.tl[0],Mt.tl[1],Mt.br[0],Mt.br[1],Pt.tl[0],Pt.tl[1],Pt.br[0],Pt.br[1],Mt.pixelRatio,Pt.pixelRatio)}},si.prototype.upload=function(R){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=R.createVertexBuffer(this.zoomInPaintVertexArray,Q.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=R.createVertexBuffer(this.zoomOutPaintVertexArray,Q.members,this.expression.isStateDependent))},si.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var xi=function(R,X,ae){this.binders={},this._buffers=[];var ve=[];for(var Ae in R.paint._values)if(ae(Ae)){var Ie=R.paint.get(Ae);if(!(!(Ie instanceof Aa)||!_s(Ie.property.specification))){var Qe=zi(Ae,R.type),vt=Ie.value,Mt=Ie.property.specification.type,Pt=Ie.property.useIntegerZoom,Wt=Ie.property.specification["property-type"],nr=Wt==="cross-faded"||Wt==="cross-faded-data-driven";if(vt.kind==="constant")this.binders[Ae]=nr?new Hn(vt.value,Qe):new Xn(vt.value,Qe,Mt),ve.push("/u_"+Ae);else if(vt.kind==="source"||nr){var qt=Yi(Ae,Mt,"source");this.binders[Ae]=nr?new si(vt,Mt,Pt,X,qt,R.id):new jn(vt,Qe,Mt,qt),ve.push("/a_"+Ae)}else{var yr=Yi(Ae,Mt,"composite");this.binders[Ae]=new ei(vt,Qe,Mt,Pt,X,yr),ve.push("/z_"+Ae)}}}this.cacheKey=ve.sort().join("")};xi.prototype.getMaxValue=function(R){var X=this.binders[R];return X instanceof jn||X instanceof ei?X.maxValue:0},xi.prototype.populatePaintArrays=function(R,X,ae,ve,Ae){for(var Ie in this.binders){var Qe=this.binders[Ie];(Qe instanceof jn||Qe instanceof ei||Qe instanceof si)&&Qe.populatePaintArray(R,X,ae,ve,Ae)}},xi.prototype.setConstantPatternPositions=function(R,X){for(var ae in this.binders){var ve=this.binders[ae];ve instanceof Hn&&ve.setConstantPatternPositions(R,X)}},xi.prototype.updatePaintArrays=function(R,X,ae,ve,Ae){var Ie=!1;for(var Qe in R)for(var vt=X.getPositions(Qe),Mt=0,Pt=vt;Mt<Pt.length;Mt+=1){var Wt=Pt[Mt],nr=ae.feature(Wt.index);for(var qt in this.binders){var yr=this.binders[qt];if((yr instanceof jn||yr instanceof ei||yr instanceof si)&&yr.expression.isStateDependent===!0){var Or=ve.paint.get(qt);yr.expression=Or.value,yr.updatePaintArray(Wt.start,Wt.end,nr,R[Qe],Ae),Ie=!0}}}return Ie},xi.prototype.defines=function(){var R=[];for(var X in this.binders){var ae=this.binders[X];(ae instanceof Xn||ae instanceof Hn)&&R.push.apply(R,ae.uniformNames.map(function(ve){return"#define HAS_UNIFORM_"+ve}))}return R},xi.prototype.getBinderAttributes=function(){var R=[];for(var X in this.binders){var ae=this.binders[X];if(ae instanceof jn||ae instanceof ei)for(var ve=0;ve<ae.paintVertexAttributes.length;ve++)R.push(ae.paintVertexAttributes[ve].name);else if(ae instanceof si)for(var Ae=0;Ae<Q.members.length;Ae++)R.push(Q.members[Ae].name)}return R},xi.prototype.getBinderUniforms=function(){var R=[];for(var X in this.binders){var ae=this.binders[X];if(ae instanceof Xn||ae instanceof Hn||ae instanceof ei)for(var ve=0,Ae=ae.uniformNames;ve<Ae.length;ve+=1){var Ie=Ae[ve];R.push(Ie)}}return R},xi.prototype.getPaintVertexBuffers=function(){return this._buffers},xi.prototype.getUniforms=function(R,X){var ae=[];for(var ve in this.binders){var Ae=this.binders[ve];if(Ae instanceof Xn||Ae instanceof Hn||Ae instanceof ei)for(var Ie=0,Qe=Ae.uniformNames;Ie<Qe.length;Ie+=1){var vt=Qe[Ie];if(X[vt]){var Mt=Ae.getBinding(R,X[vt],vt);ae.push({name:vt,property:ve,binding:Mt})}}}return ae},xi.prototype.setUniforms=function(R,X,ae,ve){for(var Ae=0,Ie=X;Ae<Ie.length;Ae+=1){var Qe=Ie[Ae],vt=Qe.name,Mt=Qe.property,Pt=Qe.binding;this.binders[Mt].setUniform(Pt,ve,ae.get(Mt),vt)}},xi.prototype.updatePaintBuffers=function(R){this._buffers=[];for(var X in this.binders){var ae=this.binders[X];if(R&&ae instanceof si){var ve=R.fromScale===2?ae.zoomInPaintVertexBuffer:ae.zoomOutPaintVertexBuffer;ve&&this._buffers.push(ve)}else(ae instanceof jn||ae instanceof ei)&&ae.paintVertexBuffer&&this._buffers.push(ae.paintVertexBuffer)}},xi.prototype.upload=function(R){for(var X in this.binders){var ae=this.binders[X];(ae instanceof jn||ae instanceof ei||ae instanceof si)&&ae.upload(R)}this.updatePaintBuffers()},xi.prototype.destroy=function(){for(var R in this.binders){var X=this.binders[R];(X instanceof jn||X instanceof ei||X instanceof si)&&X.destroy()}};var hi=function(R,X,ae){ae===void 0&&(ae=function(){return!0}),this.programConfigurations={};for(var ve=0,Ae=R;ve<Ae.length;ve+=1){var Ie=Ae[ve];this.programConfigurations[Ie.id]=new xi(Ie,X,ae)}this.needsUpload=!1,this._featureMap=new st,this._bufferOffset=0};hi.prototype.populatePaintArrays=function(R,X,ae,ve,Ae,Ie){for(var Qe in this.programConfigurations)this.programConfigurations[Qe].populatePaintArrays(R,X,ve,Ae,Ie);X.id!==void 0&&this._featureMap.add(X.id,ae,this._bufferOffset,R),this._bufferOffset=R,this.needsUpload=!0},hi.prototype.updatePaintArrays=function(R,X,ae,ve){for(var Ae=0,Ie=ae;Ae<Ie.length;Ae+=1){var Qe=Ie[Ae];this.needsUpload=this.programConfigurations[Qe.id].updatePaintArrays(R,this._featureMap,X,Qe,ve)||this.needsUpload}},hi.prototype.get=function(R){return this.programConfigurations[R]},hi.prototype.upload=function(R){if(this.needsUpload){for(var X in this.programConfigurations)this.programConfigurations[X].upload(R);this.needsUpload=!1}},hi.prototype.destroy=function(){for(var R in this.programConfigurations)this.programConfigurations[R].destroy()};function zi(D,R){var X={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return X[D]||[D.replace(R+"-","").replace(/-/g,"_")]}function $i(D){var R={"line-pattern":{source:is,composite:is},"fill-pattern":{source:is,composite:is},"fill-extrusion-pattern":{source:is,composite:is}};return R[D]}function Yi(D,R,X){var ae={color:{source:wc,composite:Rf},number:{source:Tc,composite:wc}},ve=$i(D);return ve&&ve[X]||ae[R][X]}Fe("ConstantBinder",Xn),Fe("CrossFadedConstantBinder",Hn),Fe("SourceExpressionBinder",jn),Fe("CrossFadedCompositeBinder",si),Fe("CompositeExpressionBinder",ei),Fe("ProgramConfiguration",xi,{omit:["_buffers"]}),Fe("ProgramConfigurationSet",hi);var Mi=8192,ji=15,Gi=Math.pow(2,ji-1)-1,oa=-Gi-1;function ta(D){for(var R=Mi/D.extent,X=D.loadGeometry(),ae=0;ae<X.length;ae++)for(var ve=X[ae],Ae=0;Ae<ve.length;Ae++){var Ie=ve[Ae],Qe=Math.round(Ie.x*R),vt=Math.round(Ie.y*R);Ie.x=h(Qe,oa,Gi),Ie.y=h(vt,oa,Gi),(Qe<Ie.x||Qe>Ie.x+1||vt<Ie.y||vt>Ie.y+1)&&k("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return X}function Sa(D,R){return{type:D.type,id:D.id,properties:D.properties,geometry:R?ta(D):[]}}function Qi(D,R,X,ae,ve){D.emplaceBack(R*2+(ae+1)/2,X*2+(ve+1)/2)}var ma=function(R){this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(X){return X.id}),this.index=R.index,this.hasPattern=!1,this.layoutVertexArray=new Df,this.indexArray=new Eu,this.segments=new so,this.programConfigurations=new hi(R.layers,R.zoom),this.stateDependentLayerIds=this.layers.filter(function(X){return X.isStateDependent()}).map(function(X){return X.id})};ma.prototype.populate=function(R,X,ae){var ve=this.layers[0],Ae=[],Ie=null;ve.type==="circle"&&(Ie=ve.layout.get("circle-sort-key"));for(var Qe=0,vt=R;Qe<vt.length;Qe+=1){var Mt=vt[Qe],Pt=Mt.feature,Wt=Mt.id,nr=Mt.index,qt=Mt.sourceLayerIndex,yr=this.layers[0]._featureFilter.needGeometry,Or=Sa(Pt,yr);if(this.layers[0]._featureFilter.filter(new Ai(this.zoom),Or,ae)){var ln=Ie?Ie.evaluate(Or,{},ae):void 0,en={id:Wt,properties:Pt.properties,type:Pt.type,sourceLayerIndex:qt,index:nr,geometry:yr?Or.geometry:ta(Pt),patterns:{},sortKey:ln};Ae.push(en)}}Ie&&Ae.sort(function(vi,bi){return vi.sortKey-bi.sortKey});for(var Mn=0,yn=Ae;Mn<yn.length;Mn+=1){var An=yn[Mn],kn=An,Gn=kn.geometry,ti=kn.index,$n=kn.sourceLayerIndex,wi=R[ti].feature;this.addFeature(An,Gn,ti,ae),X.featureIndex.insert(wi,Gn,ti,$n,this.index)}},ma.prototype.update=function(R,X,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(R,X,this.stateDependentLayers,ae)},ma.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ma.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ma.prototype.upload=function(R){this.uploaded||(this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,Sp),this.indexBuffer=R.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(R),this.uploaded=!0},ma.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ma.prototype.addFeature=function(R,X,ae,ve){for(var Ae=0,Ie=X;Ae<Ie.length;Ae+=1)for(var Qe=Ie[Ae],vt=0,Mt=Qe;vt<Mt.length;vt+=1){var Pt=Mt[vt],Wt=Pt.x,nr=Pt.y;if(!(Wt<0||Wt>=Mi||nr<0||nr>=Mi)){var qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,R.sortKey),yr=qt.vertexLength;Qi(this.layoutVertexArray,Wt,nr,-1,-1),Qi(this.layoutVertexArray,Wt,nr,1,-1),Qi(this.layoutVertexArray,Wt,nr,1,1),Qi(this.layoutVertexArray,Wt,nr,-1,1),this.indexArray.emplaceBack(yr,yr+1,yr+2),this.indexArray.emplaceBack(yr,yr+3,yr+2),qt.vertexLength+=4,qt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,R,ae,{},ve)},Fe("CircleBucket",ma,{omit:["layers"]});function Wi(D,R){for(var X=0;X<D.length;X++)if(as(R,D[X]))return!0;for(var ae=0;ae<R.length;ae++)if(as(D,R[ae]))return!0;return!!qs(D,R)}function qi(D,R,X){return!!(as(D,R)||jl(R,D,X))}function Ua(D,R){if(D.length===1)return Zl(R,D[0]);for(var X=0;X<R.length;X++)for(var ae=R[X],ve=0;ve<ae.length;ve++)if(as(D,ae[ve]))return!0;for(var Ae=0;Ae<D.length;Ae++)if(Zl(R,D[Ae]))return!0;for(var Ie=0;Ie<R.length;Ie++)if(qs(D,R[Ie]))return!0;return!1}function mo(D,R,X){for(var ae=0;ae<R.length;ae++){var ve=R[ae];if(D.length>=3){for(var Ae=0;Ae<ve.length;Ae++)if(as(D,ve[Ae]))return!0}if($s(D,ve,X))return!0}return!1}function $s(D,R,X){if(D.length>1){if(qs(D,R))return!0;for(var ae=0;ae<R.length;ae++)if(jl(R[ae],D,X))return!0}for(var ve=0;ve<D.length;ve++)if(jl(D[ve],R,X))return!0;return!1}function qs(D,R){if(D.length===0||R.length===0)return!1;for(var X=0;X<D.length-1;X++)for(var ae=D[X],ve=D[X+1],Ae=0;Ae<R.length-1;Ae++){var Ie=R[Ae],Qe=R[Ae+1];if(yl(ae,ve,Ie,Qe))return!0}return!1}function yl(D,R,X,ae){return I(D,X,ae)!==I(R,X,ae)&&I(D,R,X)!==I(D,R,ae)}function jl(D,R,X){var ae=X*X;if(R.length===1)return D.distSqr(R[0])<ae;for(var ve=1;ve<R.length;ve++){var Ae=R[ve-1],Ie=R[ve];if(_f(D,Ae,Ie)<ae)return!0}return!1}function _f(D,R,X){var ae=R.distSqr(X);if(ae===0)return D.distSqr(R);var ve=((D.x-R.x)*(X.x-R.x)+(D.y-R.y)*(X.y-R.y))/ae;return ve<0?D.distSqr(R):ve>1?D.distSqr(X):D.distSqr(X.sub(R)._mult(ve)._add(R))}function Zl(D,R){for(var X=!1,ae,ve,Ae,Ie=0;Ie<D.length;Ie++){ae=D[Ie];for(var Qe=0,vt=ae.length-1;Qe<ae.length;vt=Qe++)ve=ae[Qe],Ae=ae[vt],ve.y>R.y!=Ae.y>R.y&&R.x<(Ae.x-ve.x)*(R.y-ve.y)/(Ae.y-ve.y)+ve.x&&(X=!X)}return X}function as(D,R){for(var X=!1,ae=0,ve=D.length-1;ae<D.length;ve=ae++){var Ae=D[ae],Ie=D[ve];Ae.y>R.y!=Ie.y>R.y&&R.x<(Ie.x-Ae.x)*(R.y-Ae.y)/(Ie.y-Ae.y)+Ae.x&&(X=!X)}return X}function Kl(D,R,X,ae,ve){for(var Ae=0,Ie=D;Ae<Ie.length;Ae+=1){var Qe=Ie[Ae];if(R<=Qe.x&&X<=Qe.y&&ae>=Qe.x&&ve>=Qe.y)return!0}var vt=[new r(R,X),new r(R,ve),new r(ae,ve),new r(ae,X)];if(D.length>2)for(var Mt=0,Pt=vt;Mt<Pt.length;Mt+=1){var Wt=Pt[Mt];if(as(D,Wt))return!0}for(var nr=0;nr<D.length-1;nr++){var qt=D[nr],yr=D[nr+1];if(bs(qt,yr,vt))return!0}return!1}function bs(D,R,X){var ae=X[0],ve=X[2];if(D.x<ae.x&&R.x<ae.x||D.x>ve.x&&R.x>ve.x||D.y<ae.y&&R.y<ae.y||D.y>ve.y&&R.y>ve.y)return!1;var Ae=I(D,R,X[0]);return Ae!==I(D,R,X[1])||Ae!==I(D,R,X[2])||Ae!==I(D,R,X[3])}function os(D,R,X){var ae=R.paint.get(D).value;return ae.kind==="constant"?ae.value:X.programConfigurations.get(R.id).getMaxValue(D)}function ml(D){return Math.sqrt(D[0]*D[0]+D[1]*D[1])}function Cu(D,R,X,ae,ve){if(!R[0]&&!R[1])return D;var Ae=r.convert(R)._mult(ve);X==="viewport"&&Ae._rotate(-ae);for(var Ie=[],Qe=0;Qe<D.length;Qe++){var vt=D[Qe];Ie.push(vt.sub(Ae))}return Ie}var xl=new ca({"circle-sort-key":new Ci(Ar.layout_circle["circle-sort-key"])}),Qh=new ca({"circle-radius":new Ci(Ar.paint_circle["circle-radius"]),"circle-color":new Ci(Ar.paint_circle["circle-color"]),"circle-blur":new Ci(Ar.paint_circle["circle-blur"]),"circle-opacity":new Ci(Ar.paint_circle["circle-opacity"]),"circle-translate":new oi(Ar.paint_circle["circle-translate"]),"circle-translate-anchor":new oi(Ar.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new oi(Ar.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new oi(Ar.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ci(Ar.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ci(Ar.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ci(Ar.paint_circle["circle-stroke-opacity"])}),Sc={paint:Qh,layout:xl},Mo=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var D=arguments,R=0,X=arguments.length;X--;)R+=D[X]*D[X];return Math.sqrt(R)});function $h(){var D=new Mo(4);return Mo!=Float32Array&&(D[1]=0,D[2]=0),D[0]=1,D[3]=1,D}function Eh(D,R,X){var ae=R[0],ve=R[1],Ae=R[2],Ie=R[3],Qe=Math.sin(X),vt=Math.cos(X);return D[0]=ae*vt+Ae*Qe,D[1]=ve*vt+Ie*Qe,D[2]=ae*-Qe+Ae*vt,D[3]=ve*-Qe+Ie*vt,D}function Xo(){var D=new Mo(9);return Mo!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[5]=0,D[6]=0,D[7]=0),D[0]=1,D[4]=1,D[8]=1,D}function Ec(D,R){var X=Math.sin(R),ae=Math.cos(R);return D[0]=ae,D[1]=X,D[2]=0,D[3]=-X,D[4]=ae,D[5]=0,D[6]=0,D[7]=0,D[8]=1,D}function qh(){var D=new Mo(16);return Mo!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=0,D[12]=0,D[13]=0,D[14]=0),D[0]=1,D[5]=1,D[10]=1,D[15]=1,D}function ev(D){var R=new Mo(16);return R[0]=D[0],R[1]=D[1],R[2]=D[2],R[3]=D[3],R[4]=D[4],R[5]=D[5],R[6]=D[6],R[7]=D[7],R[8]=D[8],R[9]=D[9],R[10]=D[10],R[11]=D[11],R[12]=D[12],R[13]=D[13],R[14]=D[14],R[15]=D[15],R}function tv(D){return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}function Cc(D,R){var X=R[0],ae=R[1],ve=R[2],Ae=R[3],Ie=R[4],Qe=R[5],vt=R[6],Mt=R[7],Pt=R[8],Wt=R[9],nr=R[10],qt=R[11],yr=R[12],Or=R[13],ln=R[14],en=R[15],Mn=X*Qe-ae*Ie,yn=X*vt-ve*Ie,An=X*Mt-Ae*Ie,kn=ae*vt-ve*Qe,Gn=ae*Mt-Ae*Qe,ti=ve*Mt-Ae*vt,$n=Pt*Or-Wt*yr,wi=Pt*ln-nr*yr,vi=Pt*en-qt*yr,bi=Wt*ln-nr*Or,Ui=Wt*en-qt*Or,Ti=nr*en-qt*ln,Ei=Mn*Ti-yn*Ui+An*bi+kn*vi-Gn*wi+ti*$n;return Ei?(Ei=1/Ei,D[0]=(Qe*Ti-vt*Ui+Mt*bi)*Ei,D[1]=(ve*Ui-ae*Ti-Ae*bi)*Ei,D[2]=(Or*ti-ln*Gn+en*kn)*Ei,D[3]=(nr*Gn-Wt*ti-qt*kn)*Ei,D[4]=(vt*vi-Ie*Ti-Mt*wi)*Ei,D[5]=(X*Ti-ve*vi+Ae*wi)*Ei,D[6]=(ln*An-yr*ti-en*yn)*Ei,D[7]=(Pt*ti-nr*An+qt*yn)*Ei,D[8]=(Ie*Ui-Qe*vi+Mt*$n)*Ei,D[9]=(ae*vi-X*Ui-Ae*$n)*Ei,D[10]=(yr*Gn-Or*An+en*Mn)*Ei,D[11]=(Wt*An-Pt*Gn-qt*Mn)*Ei,D[12]=(Qe*wi-Ie*bi-vt*$n)*Ei,D[13]=(X*bi-ae*wi+ve*$n)*Ei,D[14]=(Or*yn-yr*kn-ln*Mn)*Ei,D[15]=(Pt*kn-Wt*yn+nr*Mn)*Ei,D):null}function Lc(D,R,X){var ae=R[0],ve=R[1],Ae=R[2],Ie=R[3],Qe=R[4],vt=R[5],Mt=R[6],Pt=R[7],Wt=R[8],nr=R[9],qt=R[10],yr=R[11],Or=R[12],ln=R[13],en=R[14],Mn=R[15],yn=X[0],An=X[1],kn=X[2],Gn=X[3];return D[0]=yn*ae+An*Qe+kn*Wt+Gn*Or,D[1]=yn*ve+An*vt+kn*nr+Gn*ln,D[2]=yn*Ae+An*Mt+kn*qt+Gn*en,D[3]=yn*Ie+An*Pt+kn*yr+Gn*Mn,yn=X[4],An=X[5],kn=X[6],Gn=X[7],D[4]=yn*ae+An*Qe+kn*Wt+Gn*Or,D[5]=yn*ve+An*vt+kn*nr+Gn*ln,D[6]=yn*Ae+An*Mt+kn*qt+Gn*en,D[7]=yn*Ie+An*Pt+kn*yr+Gn*Mn,yn=X[8],An=X[9],kn=X[10],Gn=X[11],D[8]=yn*ae+An*Qe+kn*Wt+Gn*Or,D[9]=yn*ve+An*vt+kn*nr+Gn*ln,D[10]=yn*Ae+An*Mt+kn*qt+Gn*en,D[11]=yn*Ie+An*Pt+kn*yr+Gn*Mn,yn=X[12],An=X[13],kn=X[14],Gn=X[15],D[12]=yn*ae+An*Qe+kn*Wt+Gn*Or,D[13]=yn*ve+An*vt+kn*nr+Gn*ln,D[14]=yn*Ae+An*Mt+kn*qt+Gn*en,D[15]=yn*Ie+An*Pt+kn*yr+Gn*Mn,D}function Ya(D,R,X){var ae=X[0],ve=X[1],Ae=X[2],Ie,Qe,vt,Mt,Pt,Wt,nr,qt,yr,Or,ln,en;return R===D?(D[12]=R[0]*ae+R[4]*ve+R[8]*Ae+R[12],D[13]=R[1]*ae+R[5]*ve+R[9]*Ae+R[13],D[14]=R[2]*ae+R[6]*ve+R[10]*Ae+R[14],D[15]=R[3]*ae+R[7]*ve+R[11]*Ae+R[15]):(Ie=R[0],Qe=R[1],vt=R[2],Mt=R[3],Pt=R[4],Wt=R[5],nr=R[6],qt=R[7],yr=R[8],Or=R[9],ln=R[10],en=R[11],D[0]=Ie,D[1]=Qe,D[2]=vt,D[3]=Mt,D[4]=Pt,D[5]=Wt,D[6]=nr,D[7]=qt,D[8]=yr,D[9]=Or,D[10]=ln,D[11]=en,D[12]=Ie*ae+Pt*ve+yr*Ae+R[12],D[13]=Qe*ae+Wt*ve+Or*Ae+R[13],D[14]=vt*ae+nr*ve+ln*Ae+R[14],D[15]=Mt*ae+qt*ve+en*Ae+R[15]),D}function ws(D,R,X){var ae=X[0],ve=X[1],Ae=X[2];return D[0]=R[0]*ae,D[1]=R[1]*ae,D[2]=R[2]*ae,D[3]=R[3]*ae,D[4]=R[4]*ve,D[5]=R[5]*ve,D[6]=R[6]*ve,D[7]=R[7]*ve,D[8]=R[8]*Ae,D[9]=R[9]*Ae,D[10]=R[10]*Ae,D[11]=R[11]*Ae,D[12]=R[12],D[13]=R[13],D[14]=R[14],D[15]=R[15],D}function Ts(D,R,X){var ae=Math.sin(X),ve=Math.cos(X),Ae=R[4],Ie=R[5],Qe=R[6],vt=R[7],Mt=R[8],Pt=R[9],Wt=R[10],nr=R[11];return R!==D&&(D[0]=R[0],D[1]=R[1],D[2]=R[2],D[3]=R[3],D[12]=R[12],D[13]=R[13],D[14]=R[14],D[15]=R[15]),D[4]=Ae*ve+Mt*ae,D[5]=Ie*ve+Pt*ae,D[6]=Qe*ve+Wt*ae,D[7]=vt*ve+nr*ae,D[8]=Mt*ve-Ae*ae,D[9]=Pt*ve-Ie*ae,D[10]=Wt*ve-Qe*ae,D[11]=nr*ve-vt*ae,D}function rv(D,R,X){var ae=Math.sin(X),ve=Math.cos(X),Ae=R[0],Ie=R[1],Qe=R[2],vt=R[3],Mt=R[4],Pt=R[5],Wt=R[6],nr=R[7];return R!==D&&(D[8]=R[8],D[9]=R[9],D[10]=R[10],D[11]=R[11],D[12]=R[12],D[13]=R[13],D[14]=R[14],D[15]=R[15]),D[0]=Ae*ve+Mt*ae,D[1]=Ie*ve+Pt*ae,D[2]=Qe*ve+Wt*ae,D[3]=vt*ve+nr*ae,D[4]=Mt*ve-Ae*ae,D[5]=Pt*ve-Ie*ae,D[6]=Wt*ve-Qe*ae,D[7]=nr*ve-vt*ae,D}function ad(D,R,X,ae,ve){var Ae=1/Math.tan(R/2),Ie;return D[0]=Ae/X,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=Ae,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=-1,D[12]=0,D[13]=0,D[15]=0,ve!=null&&ve!==1/0?(Ie=1/(ae-ve),D[10]=(ve+ae)*Ie,D[14]=2*ve*ae*Ie):(D[10]=-1,D[14]=-2*ae),D}function Dg(D,R,X,ae,ve,Ae,Ie){var Qe=1/(R-X),vt=1/(ae-ve),Mt=1/(Ae-Ie);return D[0]=-2*Qe,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=-2*vt,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=2*Mt,D[11]=0,D[12]=(R+X)*Qe,D[13]=(ve+ae)*vt,D[14]=(Ie+Ae)*Mt,D[15]=1,D}var Rg=Lc;function Ch(){var D=new Mo(3);return Mo!=Float32Array&&(D[0]=0,D[1]=0,D[2]=0),D}function Ig(D){var R=new Mo(3);return R[0]=D[0],R[1]=D[1],R[2]=D[2],R}function nv(D,R,X){return D[0]=R[0]+X[0],D[1]=R[1]+X[1],D[2]=R[2]+X[2],D}function _g(D,R,X){return D[0]=R[0]-X[0],D[1]=R[1]-X[1],D[2]=R[2]-X[2],D}function kg(D,R,X){return D[0]=R[0]*X,D[1]=R[1]*X,D[2]=R[2]*X,D}function od(D,R){var X=R[0],ae=R[1],ve=R[2],Ae=X*X+ae*ae+ve*ve;return Ae>0&&(Ae=1/Math.sqrt(Ae)),D[0]=R[0]*Ae,D[1]=R[1]*Ae,D[2]=R[2]*Ae,D}function b5(D,R){return D[0]*R[0]+D[1]*R[1]+D[2]*R[2]}function w5(D,R,X){var ae=R[0],ve=R[1],Ae=R[2],Ie=X[0],Qe=X[1],vt=X[2];return D[0]=ve*vt-Ae*Qe,D[1]=Ae*Ie-ae*vt,D[2]=ae*Qe-ve*Ie,D}function T5(D,R,X){var ae=R[0],ve=R[1],Ae=R[2];return D[0]=ae*X[0]+ve*X[3]+Ae*X[6],D[1]=ae*X[1]+ve*X[4]+Ae*X[7],D[2]=ae*X[2]+ve*X[5]+Ae*X[8],D}var A5=_g;(function(){var D=Ch();return function(R,X,ae,ve,Ae,Ie){var Qe,vt;for(X||(X=3),ae||(ae=0),ve?vt=Math.min(ve*X+ae,R.length):vt=R.length,Qe=ae;Qe<vt;Qe+=X)D[0]=R[Qe],D[1]=R[Qe+1],D[2]=R[Qe+2],Ae(D,D,Ie),R[Qe]=D[0],R[Qe+1]=D[1],R[Qe+2]=D[2];return R}})();function M5(){var D=new Mo(4);return Mo!=Float32Array&&(D[0]=0,D[1]=0,D[2]=0,D[3]=0),D}function S5(D,R,X){return D[0]=R[0]*X,D[1]=R[1]*X,D[2]=R[2]*X,D[3]=R[3]*X,D}function E5(D,R){return D[0]*R[0]+D[1]*R[1]+D[2]*R[2]+D[3]*R[3]}function Ep(D,R,X){var ae=R[0],ve=R[1],Ae=R[2],Ie=R[3];return D[0]=X[0]*ae+X[4]*ve+X[8]*Ae+X[12]*Ie,D[1]=X[1]*ae+X[5]*ve+X[9]*Ae+X[13]*Ie,D[2]=X[2]*ae+X[6]*ve+X[10]*Ae+X[14]*Ie,D[3]=X[3]*ae+X[7]*ve+X[11]*Ae+X[15]*Ie,D}(function(){var D=M5();return function(R,X,ae,ve,Ae,Ie){var Qe,vt;for(X||(X=4),ae||(ae=0),ve?vt=Math.min(ve*X+ae,R.length):vt=R.length,Qe=ae;Qe<vt;Qe+=X)D[0]=R[Qe],D[1]=R[Qe+1],D[2]=R[Qe+2],D[3]=R[Qe+3],Ae(D,D,Ie),R[Qe]=D[0],R[Qe+1]=D[1],R[Qe+2]=D[2],R[Qe+3]=D[3];return R}})();function C5(){var D=new Mo(2);return Mo!=Float32Array&&(D[0]=0,D[1]=0),D}function L5(D){var R=D[0],X=D[1];return R*R+X*X}var P5=L5;(function(){var D=C5();return function(R,X,ae,ve,Ae,Ie){var Qe,vt;for(X||(X=2),ae||(ae=0),ve?vt=Math.min(ve*X+ae,R.length):vt=R.length,Qe=ae;Qe<vt;Qe+=X)D[0]=R[Qe],D[1]=R[Qe+1],Ae(D,D,Ie),R[Qe]=D[0],R[Qe+1]=D[1];return R}})();var D5=function(D){function R(X){D.call(this,X,Sc)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(ae){return new ma(ae)},R.prototype.queryRadius=function(ae){var ve=ae;return os("circle-radius",this,ve)+os("circle-stroke-width",this,ve)+ml(this.paint.get("circle-translate"))},R.prototype.queryIntersectsFeature=function(ae,ve,Ae,Ie,Qe,vt,Mt,Pt){for(var Wt=Cu(ae,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),vt.angle,Mt),nr=this.paint.get("circle-radius").evaluate(ve,Ae),qt=this.paint.get("circle-stroke-width").evaluate(ve,Ae),yr=nr+qt,Or=this.paint.get("circle-pitch-alignment")==="map",ln=Or?Wt:R5(Wt,Pt),en=Or?yr*Mt:yr,Mn=0,yn=Ie;Mn<yn.length;Mn+=1)for(var An=yn[Mn],kn=0,Gn=An;kn<Gn.length;kn+=1){var ti=Gn[kn],$n=Or?ti:Bx(ti,Pt),wi=en,vi=Ep([],[ti.x,ti.y,0,1],Pt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?wi*=vi[3]/vt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(wi*=vt.cameraToCenterDistance/vi[3]),qi(ln,$n,wi))return!0}return!1},R}(Ba);function Bx(D,R){var X=Ep([],[D.x,D.y,0,1],R);return new r(X[0]/X[3],X[1]/X[3])}function R5(D,R){return D.map(function(X){return Bx(X,R)})}var Ux=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R}(ma);Fe("HeatmapBucket",Ux,{omit:["layers"]});function Og(D,R,X,ae){var ve=R.width,Ae=R.height;if(!ae)ae=new Uint8Array(ve*Ae*X);else if(ae instanceof Uint8ClampedArray)ae=new Uint8Array(ae.buffer);else if(ae.length!==ve*Ae*X)throw new RangeError("mismatched image size");return D.width=ve,D.height=Ae,D.data=ae,D}function Vx(D,R,X){var ae=R.width,ve=R.height;if(!(ae===D.width&&ve===D.height)){var Ae=Og({},{width:ae,height:ve},X);zg(D,Ae,{x:0,y:0},{x:0,y:0},{width:Math.min(D.width,ae),height:Math.min(D.height,ve)},X),D.width=ae,D.height=ve,D.data=Ae.data}}function zg(D,R,X,ae,ve,Ae){if(ve.width===0||ve.height===0)return R;if(ve.width>D.width||ve.height>D.height||X.x>D.width-ve.width||X.y>D.height-ve.height)throw new RangeError("out of range source coordinates for image copy");if(ve.width>R.width||ve.height>R.height||ae.x>R.width-ve.width||ae.y>R.height-ve.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ie=D.data,Qe=R.data,vt=0;vt<ve.height;vt++)for(var Mt=((X.y+vt)*D.width+X.x)*Ae,Pt=((ae.y+vt)*R.width+ae.x)*Ae,Wt=0;Wt<ve.width*Ae;Wt++)Qe[Pt+Wt]=Ie[Mt+Wt];return R}var Lh=function(R,X){Og(this,R,1,X)};Lh.prototype.resize=function(R){Vx(this,R,1)},Lh.prototype.clone=function(){return new Lh({width:this.width,height:this.height},new Uint8Array(this.data))},Lh.copy=function(R,X,ae,ve,Ae){zg(R,X,ae,ve,Ae,1)};var As=function(R,X){Og(this,R,4,X)};As.prototype.resize=function(R){Vx(this,R,4)},As.prototype.replace=function(R,X){X?this.data.set(R):R instanceof Uint8ClampedArray?this.data=new Uint8Array(R.buffer):this.data=R},As.prototype.clone=function(){return new As({width:this.width,height:this.height},new Uint8Array(this.data))},As.copy=function(R,X,ae,ve,Ae){zg(R,X,ae,ve,Ae,4)},Fe("AlphaImage",Lh),Fe("RGBAImage",As);var I5=new ca({"heatmap-radius":new Ci(Ar.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ci(Ar.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new oi(Ar.paint_heatmap["heatmap-intensity"]),"heatmap-color":new oo(Ar.paint_heatmap["heatmap-color"]),"heatmap-opacity":new oi(Ar.paint_heatmap["heatmap-opacity"])}),_5={paint:I5};function Hx(D){var R={},X=D.resolution||256,ae=D.clips?D.clips.length:1,ve=D.image||new As({width:X,height:ae}),Ae=function(Mn,yn,An){R[D.evaluationKey]=An;var kn=D.expression.evaluate(R);ve.data[Mn+yn+0]=Math.floor(kn.r*255/kn.a),ve.data[Mn+yn+1]=Math.floor(kn.g*255/kn.a),ve.data[Mn+yn+2]=Math.floor(kn.b*255/kn.a),ve.data[Mn+yn+3]=Math.floor(kn.a*255)};if(D.clips)for(var Mt=0,Pt=0;Mt<ae;++Mt,Pt+=X*4)for(var Wt=0,nr=0;Wt<X;Wt++,nr+=4){var qt=Wt/(X-1),yr=D.clips[Mt],Or=yr.start,ln=yr.end,en=Or*(1-qt)+ln*qt;Ae(Pt,nr,en)}else for(var Ie=0,Qe=0;Ie<X;Ie++,Qe+=4){var vt=Ie/(X-1);Ae(0,Qe,vt)}return ve}var k5=function(D){function R(X){D.call(this,X,_5),this._updateColorRamp()}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(ae){return new Ux(ae)},R.prototype._handleSpecialPaintPropertyUpdate=function(ae){ae==="heatmap-color"&&this._updateColorRamp()},R.prototype._updateColorRamp=function(){var ae=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Hx({expression:ae,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},R.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},R.prototype.queryRadius=function(){return 0},R.prototype.queryIntersectsFeature=function(){return!1},R.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},R}(Ba),O5=new ca({"hillshade-illumination-direction":new oi(Ar.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new oi(Ar.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new oi(Ar.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new oi(Ar.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new oi(Ar.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new oi(Ar.paint_hillshade["hillshade-accent-color"])}),z5={paint:O5},F5=function(D){function R(X){D.call(this,X,z5)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},R}(Ba),N5=Da([{name:"a_pos",components:2,type:"Int16"}],4),B5=N5.members,Fg=Cp,U5=Cp;function Cp(D,R,X){X=X||2;var ae=R&&R.length,ve=ae?R[0]*X:D.length,Ae=Gx(D,0,ve,X,!0),Ie=[];if(!Ae||Ae.next===Ae.prev)return Ie;var Qe,vt,Mt,Pt,Wt,nr,qt;if(ae&&(Ae=X5(D,R,Ae,X)),D.length>80*X){Qe=Mt=D[0],vt=Pt=D[1];for(var yr=X;yr<ve;yr+=X)Wt=D[yr],nr=D[yr+1],Wt<Qe&&(Qe=Wt),nr<vt&&(vt=nr),Wt>Mt&&(Mt=Wt),nr>Pt&&(Pt=nr);qt=Math.max(Mt-Qe,Pt-vt),qt=qt!==0?1/qt:0}return sd(Ae,Ie,X,Qe,vt,qt),Ie}function Gx(D,R,X,ae,ve){var Ae,Ie;if(ve===Ug(D,R,X,ae)>0)for(Ae=R;Ae<X;Ae+=ae)Ie=Yx(Ae,D[Ae],D[Ae+1],Ie);else for(Ae=X-ae;Ae>=R;Ae-=ae)Ie=Yx(Ae,D[Ae],D[Ae+1],Ie);return Ie&&Lp(Ie,Ie.next)&&(ud(Ie),Ie=Ie.next),Ie}function Pc(D,R){if(!D)return D;R||(R=D);var X=D,ae;do if(ae=!1,!X.steiner&&(Lp(X,X.next)||lo(X.prev,X,X.next)===0)){if(ud(X),X=R=X.prev,X===X.next)break;ae=!0}else X=X.next;while(ae||X!==R);return R}function sd(D,R,X,ae,ve,Ae,Ie){if(D){!Ie&&Ae&&J5(D,ae,ve,Ae);for(var Qe=D,vt,Mt;D.prev!==D.next;){if(vt=D.prev,Mt=D.next,Ae?H5(D,ae,ve,Ae):V5(D)){R.push(vt.i/X),R.push(D.i/X),R.push(Mt.i/X),ud(D),D=Mt.next,Qe=Mt.next;continue}if(D=Mt,D===Qe){Ie?Ie===1?(D=G5(Pc(D),R,X),sd(D,R,X,ae,ve,Ae,2)):Ie===2&&W5(D,R,X,ae,ve,Ae):sd(Pc(D),R,X,ae,ve,Ae,1);break}}}}function V5(D){var R=D.prev,X=D,ae=D.next;if(lo(R,X,ae)>=0)return!1;for(var ve=D.next.next;ve!==D.prev;){if(iv(R.x,R.y,X.x,X.y,ae.x,ae.y,ve.x,ve.y)&&lo(ve.prev,ve,ve.next)>=0)return!1;ve=ve.next}return!0}function H5(D,R,X,ae){var ve=D.prev,Ae=D,Ie=D.next;if(lo(ve,Ae,Ie)>=0)return!1;for(var Qe=ve.x<Ae.x?ve.x<Ie.x?ve.x:Ie.x:Ae.x<Ie.x?Ae.x:Ie.x,vt=ve.y<Ae.y?ve.y<Ie.y?ve.y:Ie.y:Ae.y<Ie.y?Ae.y:Ie.y,Mt=ve.x>Ae.x?ve.x>Ie.x?ve.x:Ie.x:Ae.x>Ie.x?Ae.x:Ie.x,Pt=ve.y>Ae.y?ve.y>Ie.y?ve.y:Ie.y:Ae.y>Ie.y?Ae.y:Ie.y,Wt=Ng(Qe,vt,R,X,ae),nr=Ng(Mt,Pt,R,X,ae),qt=D.prevZ,yr=D.nextZ;qt&&qt.z>=Wt&&yr&&yr.z<=nr;){if(qt!==D.prev&&qt!==D.next&&iv(ve.x,ve.y,Ae.x,Ae.y,Ie.x,Ie.y,qt.x,qt.y)&&lo(qt.prev,qt,qt.next)>=0||(qt=qt.prevZ,yr!==D.prev&&yr!==D.next&&iv(ve.x,ve.y,Ae.x,Ae.y,Ie.x,Ie.y,yr.x,yr.y)&&lo(yr.prev,yr,yr.next)>=0))return!1;yr=yr.nextZ}for(;qt&&qt.z>=Wt;){if(qt!==D.prev&&qt!==D.next&&iv(ve.x,ve.y,Ae.x,Ae.y,Ie.x,Ie.y,qt.x,qt.y)&&lo(qt.prev,qt,qt.next)>=0)return!1;qt=qt.prevZ}for(;yr&&yr.z<=nr;){if(yr!==D.prev&&yr!==D.next&&iv(ve.x,ve.y,Ae.x,Ae.y,Ie.x,Ie.y,yr.x,yr.y)&&lo(yr.prev,yr,yr.next)>=0)return!1;yr=yr.nextZ}return!0}function G5(D,R,X){var ae=D;do{var ve=ae.prev,Ae=ae.next.next;!Lp(ve,Ae)&&Wx(ve,ae,ae.next,Ae)&&ld(ve,Ae)&&ld(Ae,ve)&&(R.push(ve.i/X),R.push(ae.i/X),R.push(Ae.i/X),ud(ae),ud(ae.next),ae=D=Ae),ae=ae.next}while(ae!==D);return Pc(ae)}function W5(D,R,X,ae,ve,Ae){var Ie=D;do{for(var Qe=Ie.next.next;Qe!==Ie.prev;){if(Ie.i!==Qe.i&&q5(Ie,Qe)){var vt=Xx(Ie,Qe);Ie=Pc(Ie,Ie.next),vt=Pc(vt,vt.next),sd(Ie,R,X,ae,ve,Ae),sd(vt,R,X,ae,ve,Ae);return}Qe=Qe.next}Ie=Ie.next}while(Ie!==D)}function X5(D,R,X,ae){var ve=[],Ae,Ie,Qe,vt,Mt;for(Ae=0,Ie=R.length;Ae<Ie;Ae++)Qe=R[Ae]*ae,vt=Ae<Ie-1?R[Ae+1]*ae:D.length,Mt=Gx(D,Qe,vt,ae,!1),Mt===Mt.next&&(Mt.steiner=!0),ve.push($5(Mt));for(ve.sort(Y5),Ae=0;Ae<ve.length;Ae++)j5(ve[Ae],X),X=Pc(X,X.next);return X}function Y5(D,R){return D.x-R.x}function j5(D,R){if(R=Z5(D,R),R){var X=Xx(R,D);Pc(R,R.next),Pc(X,X.next)}}function Z5(D,R){var X=R,ae=D.x,ve=D.y,Ae=-1/0,Ie;do{if(ve<=X.y&&ve>=X.next.y&&X.next.y!==X.y){var Qe=X.x+(ve-X.y)*(X.next.x-X.x)/(X.next.y-X.y);if(Qe<=ae&&Qe>Ae){if(Ae=Qe,Qe===ae){if(ve===X.y)return X;if(ve===X.next.y)return X.next}Ie=X.x<X.next.x?X:X.next}}X=X.next}while(X!==R);if(!Ie)return null;if(ae===Ae)return Ie;var vt=Ie,Mt=Ie.x,Pt=Ie.y,Wt=1/0,nr;X=Ie;do ae>=X.x&&X.x>=Mt&&ae!==X.x&&iv(ve<Pt?ae:Ae,ve,Mt,Pt,ve<Pt?Ae:ae,ve,X.x,X.y)&&(nr=Math.abs(ve-X.y)/(ae-X.x),ld(X,D)&&(nr<Wt||nr===Wt&&(X.x>Ie.x||X.x===Ie.x&&K5(Ie,X)))&&(Ie=X,Wt=nr)),X=X.next;while(X!==vt);return Ie}function K5(D,R){return lo(D.prev,D,R.prev)<0&&lo(R.next,D,D.next)<0}function J5(D,R,X,ae){var ve=D;do ve.z===null&&(ve.z=Ng(ve.x,ve.y,R,X,ae)),ve.prevZ=ve.prev,ve.nextZ=ve.next,ve=ve.next;while(ve!==D);ve.prevZ.nextZ=null,ve.prevZ=null,Q5(ve)}function Q5(D){var R,X,ae,ve,Ae,Ie,Qe,vt,Mt=1;do{for(X=D,D=null,Ae=null,Ie=0;X;){for(Ie++,ae=X,Qe=0,R=0;R<Mt&&(Qe++,ae=ae.nextZ,!!ae);R++);for(vt=Mt;Qe>0||vt>0&&ae;)Qe!==0&&(vt===0||!ae||X.z<=ae.z)?(ve=X,X=X.nextZ,Qe--):(ve=ae,ae=ae.nextZ,vt--),Ae?Ae.nextZ=ve:D=ve,ve.prevZ=Ae,Ae=ve;X=ae}Ae.nextZ=null,Mt*=2}while(Ie>1);return D}function Ng(D,R,X,ae,ve){return D=32767*(D-X)*ve,R=32767*(R-ae)*ve,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,D|R<<1}function $5(D){var R=D,X=D;do(R.x<X.x||R.x===X.x&&R.y<X.y)&&(X=R),R=R.next;while(R!==D);return X}function iv(D,R,X,ae,ve,Ae,Ie,Qe){return(ve-Ie)*(R-Qe)-(D-Ie)*(Ae-Qe)>=0&&(D-Ie)*(ae-Qe)-(X-Ie)*(R-Qe)>=0&&(X-Ie)*(Ae-Qe)-(ve-Ie)*(ae-Qe)>=0}function q5(D,R){return D.next.i!==R.i&&D.prev.i!==R.i&&!eA(D,R)&&(ld(D,R)&&ld(R,D)&&tA(D,R)&&(lo(D.prev,D,R.prev)||lo(D,R.prev,R))||Lp(D,R)&&lo(D.prev,D,D.next)>0&&lo(R.prev,R,R.next)>0)}function lo(D,R,X){return(R.y-D.y)*(X.x-R.x)-(R.x-D.x)*(X.y-R.y)}function Lp(D,R){return D.x===R.x&&D.y===R.y}function Wx(D,R,X,ae){var ve=Dp(lo(D,R,X)),Ae=Dp(lo(D,R,ae)),Ie=Dp(lo(X,ae,D)),Qe=Dp(lo(X,ae,R));return!!(ve!==Ae&&Ie!==Qe||ve===0&&Pp(D,X,R)||Ae===0&&Pp(D,ae,R)||Ie===0&&Pp(X,D,ae)||Qe===0&&Pp(X,R,ae))}function Pp(D,R,X){return R.x<=Math.max(D.x,X.x)&&R.x>=Math.min(D.x,X.x)&&R.y<=Math.max(D.y,X.y)&&R.y>=Math.min(D.y,X.y)}function Dp(D){return D>0?1:D<0?-1:0}function eA(D,R){var X=D;do{if(X.i!==D.i&&X.next.i!==D.i&&X.i!==R.i&&X.next.i!==R.i&&Wx(X,X.next,D,R))return!0;X=X.next}while(X!==D);return!1}function ld(D,R){return lo(D.prev,D,D.next)<0?lo(D,R,D.next)>=0&&lo(D,D.prev,R)>=0:lo(D,R,D.prev)<0||lo(D,D.next,R)<0}function tA(D,R){var X=D,ae=!1,ve=(D.x+R.x)/2,Ae=(D.y+R.y)/2;do X.y>Ae!=X.next.y>Ae&&X.next.y!==X.y&&ve<(X.next.x-X.x)*(Ae-X.y)/(X.next.y-X.y)+X.x&&(ae=!ae),X=X.next;while(X!==D);return ae}function Xx(D,R){var X=new Bg(D.i,D.x,D.y),ae=new Bg(R.i,R.x,R.y),ve=D.next,Ae=R.prev;return D.next=R,R.prev=D,X.next=ve,ve.prev=X,ae.next=X,X.prev=ae,Ae.next=ae,ae.prev=Ae,ae}function Yx(D,R,X,ae){var ve=new Bg(D,R,X);return ae?(ve.next=ae.next,ve.prev=ae,ae.next.prev=ve,ae.next=ve):(ve.prev=ve,ve.next=ve),ve}function ud(D){D.next.prev=D.prev,D.prev.next=D.next,D.prevZ&&(D.prevZ.nextZ=D.nextZ),D.nextZ&&(D.nextZ.prevZ=D.prevZ)}function Bg(D,R,X){this.i=D,this.x=R,this.y=X,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Cp.deviation=function(D,R,X,ae){var ve=R&&R.length,Ae=ve?R[0]*X:D.length,Ie=Math.abs(Ug(D,0,Ae,X));if(ve)for(var Qe=0,vt=R.length;Qe<vt;Qe++){var Mt=R[Qe]*X,Pt=Qe<vt-1?R[Qe+1]*X:D.length;Ie-=Math.abs(Ug(D,Mt,Pt,X))}var Wt=0;for(Qe=0;Qe<ae.length;Qe+=3){var nr=ae[Qe]*X,qt=ae[Qe+1]*X,yr=ae[Qe+2]*X;Wt+=Math.abs((D[nr]-D[yr])*(D[qt+1]-D[nr+1])-(D[nr]-D[qt])*(D[yr+1]-D[nr+1]))}return Ie===0&&Wt===0?0:Math.abs((Wt-Ie)/Ie)};function Ug(D,R,X,ae){for(var ve=0,Ae=R,Ie=X-ae;Ae<X;Ae+=ae)ve+=(D[Ie]-D[Ae])*(D[Ae+1]+D[Ie+1]),Ie=Ae;return ve}Cp.flatten=function(D){for(var R=D[0][0].length,X={vertices:[],holes:[],dimensions:R},ae=0,ve=0;ve<D.length;ve++){for(var Ae=0;Ae<D[ve].length;Ae++)for(var Ie=0;Ie<R;Ie++)X.vertices.push(D[ve][Ae][Ie]);ve>0&&(ae+=D[ve-1].length,X.holes.push(ae))}return X},Fg.default=U5;function rA(D,R,X,ae,ve){jx(D,R,X||0,ae||D.length-1,ve||nA)}function jx(D,R,X,ae,ve){for(;ae>X;){if(ae-X>600){var Ae=ae-X+1,Ie=R-X+1,Qe=Math.log(Ae),vt=.5*Math.exp(2*Qe/3),Mt=.5*Math.sqrt(Qe*vt*(Ae-vt)/Ae)*(Ie-Ae/2<0?-1:1),Pt=Math.max(X,Math.floor(R-Ie*vt/Ae+Mt)),Wt=Math.min(ae,Math.floor(R+(Ae-Ie)*vt/Ae+Mt));jx(D,R,Pt,Wt,ve)}var nr=D[R],qt=X,yr=ae;for(fd(D,X,R),ve(D[ae],nr)>0&&fd(D,X,ae);qt<yr;){for(fd(D,qt,yr),qt++,yr--;ve(D[qt],nr)<0;)qt++;for(;ve(D[yr],nr)>0;)yr--}ve(D[X],nr)===0?fd(D,X,yr):(yr++,fd(D,yr,ae)),yr<=R&&(X=yr+1),R<=yr&&(ae=yr-1)}}function fd(D,R,X){var ae=D[R];D[R]=D[X],D[X]=ae}function nA(D,R){return D<R?-1:D>R?1:0}function Vg(D,R){var X=D.length;if(X<=1)return[D];for(var ae=[],ve,Ae,Ie=0;Ie<X;Ie++){var Qe=H(D[Ie]);Qe!==0&&(D[Ie].area=Math.abs(Qe),Ae===void 0&&(Ae=Qe<0),Ae===Qe<0?(ve&&ae.push(ve),ve=[D[Ie]]):ve.push(D[Ie]))}if(ve&&ae.push(ve),R>1)for(var vt=0;vt<ae.length;vt++)ae[vt].length<=R||(rA(ae[vt],R,1,ae[vt].length-1,iA),ae[vt]=ae[vt].slice(0,R));return ae}function iA(D,R){return R.area-D.area}function Hg(D,R,X){for(var ae=X.patternDependencies,ve=!1,Ae=0,Ie=R;Ae<Ie.length;Ae+=1){var Qe=Ie[Ae],vt=Qe.paint.get(D+"-pattern");vt.isConstant()||(ve=!0);var Mt=vt.constantOr(null);Mt&&(ve=!0,ae[Mt.to]=!0,ae[Mt.from]=!0)}return ve}function Gg(D,R,X,ae,ve){for(var Ae=ve.patternDependencies,Ie=0,Qe=R;Ie<Qe.length;Ie+=1){var vt=Qe[Ie],Mt=vt.paint.get(D+"-pattern"),Pt=Mt.value;if(Pt.kind!=="constant"){var Wt=Pt.evaluate({zoom:ae-1},X,{},ve.availableImages),nr=Pt.evaluate({zoom:ae},X,{},ve.availableImages),qt=Pt.evaluate({zoom:ae+1},X,{},ve.availableImages);Wt=Wt&&Wt.name?Wt.name:Wt,nr=nr&&nr.name?nr.name:nr,qt=qt&&qt.name?qt.name:qt,Ae[Wt]=!0,Ae[nr]=!0,Ae[qt]=!0,X.patterns[vt.id]={min:Wt,mid:nr,max:qt}}}return X}var aA=500,Lu=function(R){this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(X){return X.id}),this.index=R.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Df,this.indexArray=new Eu,this.indexArray2=new Sh,this.programConfigurations=new hi(R.layers,R.zoom),this.segments=new so,this.segments2=new so,this.stateDependentLayerIds=this.layers.filter(function(X){return X.isStateDependent()}).map(function(X){return X.id})};Lu.prototype.populate=function(R,X,ae){this.hasPattern=Hg("fill",this.layers,X);for(var ve=this.layers[0].layout.get("fill-sort-key"),Ae=[],Ie=0,Qe=R;Ie<Qe.length;Ie+=1){var vt=Qe[Ie],Mt=vt.feature,Pt=vt.id,Wt=vt.index,nr=vt.sourceLayerIndex,qt=this.layers[0]._featureFilter.needGeometry,yr=Sa(Mt,qt);if(this.layers[0]._featureFilter.filter(new Ai(this.zoom),yr,ae)){var Or=ve?ve.evaluate(yr,{},ae,X.availableImages):void 0,ln={id:Pt,properties:Mt.properties,type:Mt.type,sourceLayerIndex:nr,index:Wt,geometry:qt?yr.geometry:ta(Mt),patterns:{},sortKey:Or};Ae.push(ln)}}ve&&Ae.sort(function(vi,bi){return vi.sortKey-bi.sortKey});for(var en=0,Mn=Ae;en<Mn.length;en+=1){var yn=Mn[en],An=yn,kn=An.geometry,Gn=An.index,ti=An.sourceLayerIndex;if(this.hasPattern){var $n=Gg("fill",this.layers,yn,this.zoom,X);this.patternFeatures.push($n)}else this.addFeature(yn,kn,Gn,ae,{});var wi=R[Gn].feature;X.featureIndex.insert(wi,kn,Gn,ti,this.index)}},Lu.prototype.update=function(R,X,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(R,X,this.stateDependentLayers,ae)},Lu.prototype.addFeatures=function(R,X,ae){for(var ve=0,Ae=this.patternFeatures;ve<Ae.length;ve+=1){var Ie=Ae[ve];this.addFeature(Ie,Ie.geometry,Ie.index,X,ae)}},Lu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Lu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Lu.prototype.upload=function(R){this.uploaded||(this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,B5),this.indexBuffer=R.createIndexBuffer(this.indexArray),this.indexBuffer2=R.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(R),this.uploaded=!0},Lu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Lu.prototype.addFeature=function(R,X,ae,ve,Ae){for(var Ie=0,Qe=Vg(X,aA);Ie<Qe.length;Ie+=1){for(var vt=Qe[Ie],Mt=0,Pt=0,Wt=vt;Pt<Wt.length;Pt+=1){var nr=Wt[Pt];Mt+=nr.length}for(var qt=this.segments.prepareSegment(Mt,this.layoutVertexArray,this.indexArray),yr=qt.vertexLength,Or=[],ln=[],en=0,Mn=vt;en<Mn.length;en+=1){var yn=Mn[en];if(yn.length!==0){yn!==vt[0]&&ln.push(Or.length/2);var An=this.segments2.prepareSegment(yn.length,this.layoutVertexArray,this.indexArray2),kn=An.vertexLength;this.layoutVertexArray.emplaceBack(yn[0].x,yn[0].y),this.indexArray2.emplaceBack(kn+yn.length-1,kn),Or.push(yn[0].x),Or.push(yn[0].y);for(var Gn=1;Gn<yn.length;Gn++)this.layoutVertexArray.emplaceBack(yn[Gn].x,yn[Gn].y),this.indexArray2.emplaceBack(kn+Gn-1,kn+Gn),Or.push(yn[Gn].x),Or.push(yn[Gn].y);An.vertexLength+=yn.length,An.primitiveLength+=yn.length}}for(var ti=Fg(Or,ln),$n=0;$n<ti.length;$n+=3)this.indexArray.emplaceBack(yr+ti[$n],yr+ti[$n+1],yr+ti[$n+2]);qt.vertexLength+=Mt,qt.primitiveLength+=ti.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,R,ae,Ae,ve)},Fe("FillBucket",Lu,{omit:["layers","patternFeatures"]});var oA=new ca({"fill-sort-key":new Ci(Ar.layout_fill["fill-sort-key"])}),sA=new ca({"fill-antialias":new oi(Ar.paint_fill["fill-antialias"]),"fill-opacity":new Ci(Ar.paint_fill["fill-opacity"]),"fill-color":new Ci(Ar.paint_fill["fill-color"]),"fill-outline-color":new Ci(Ar.paint_fill["fill-outline-color"]),"fill-translate":new oi(Ar.paint_fill["fill-translate"]),"fill-translate-anchor":new oi(Ar.paint_fill["fill-translate-anchor"]),"fill-pattern":new ko(Ar.paint_fill["fill-pattern"])}),lA={paint:sA,layout:oA},uA=function(D){function R(X){D.call(this,X,lA)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.recalculate=function(ae,ve){D.prototype.recalculate.call(this,ae,ve);var Ae=this.paint._values["fill-outline-color"];Ae.value.kind==="constant"&&Ae.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},R.prototype.createBucket=function(ae){return new Lu(ae)},R.prototype.queryRadius=function(){return ml(this.paint.get("fill-translate"))},R.prototype.queryIntersectsFeature=function(ae,ve,Ae,Ie,Qe,vt,Mt){var Pt=Cu(ae,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),vt.angle,Mt);return Ua(Pt,Ie)},R.prototype.isTileClipped=function(){return!0},R}(Ba),fA=Da([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),cA=fA.members,Zx=av;function av(D,R,X,ae,ve){this.properties={},this.extent=X,this.type=0,this._pbf=D,this._geometry=-1,this._keys=ae,this._values=ve,D.readFields(hA,this,R)}function hA(D,R,X){D==1?R.id=X.readVarint():D==2?vA(X,R):D==3?R.type=X.readVarint():D==4&&(R._geometry=X.pos)}function vA(D,R){for(var X=D.readVarint()+D.pos;D.pos<X;){var ae=R._keys[D.readVarint()],ve=R._values[D.readVarint()];R.properties[ae]=ve}}av.types=["Unknown","Point","LineString","Polygon"],av.prototype.loadGeometry=function(){var D=this._pbf;D.pos=this._geometry;for(var R=D.readVarint()+D.pos,X=1,ae=0,ve=0,Ae=0,Ie=[],Qe;D.pos<R;){if(ae<=0){var vt=D.readVarint();X=vt&7,ae=vt>>3}if(ae--,X===1||X===2)ve+=D.readSVarint(),Ae+=D.readSVarint(),X===1&&(Qe&&Ie.push(Qe),Qe=[]),Qe.push(new r(ve,Ae));else if(X===7)Qe&&Qe.push(Qe[0].clone());else throw new Error("unknown command "+X)}return Qe&&Ie.push(Qe),Ie},av.prototype.bbox=function(){var D=this._pbf;D.pos=this._geometry;for(var R=D.readVarint()+D.pos,X=1,ae=0,ve=0,Ae=0,Ie=1/0,Qe=-1/0,vt=1/0,Mt=-1/0;D.pos<R;){if(ae<=0){var Pt=D.readVarint();X=Pt&7,ae=Pt>>3}if(ae--,X===1||X===2)ve+=D.readSVarint(),Ae+=D.readSVarint(),ve<Ie&&(Ie=ve),ve>Qe&&(Qe=ve),Ae<vt&&(vt=Ae),Ae>Mt&&(Mt=Ae);else if(X!==7)throw new Error("unknown command "+X)}return[Ie,vt,Qe,Mt]},av.prototype.toGeoJSON=function(D,R,X){var ae=this.extent*Math.pow(2,X),ve=this.extent*D,Ae=this.extent*R,Ie=this.loadGeometry(),Qe=av.types[this.type],vt,Mt;function Pt(qt){for(var yr=0;yr<qt.length;yr++){var Or=qt[yr],ln=180-(Or.y+Ae)*360/ae;qt[yr]=[(Or.x+ve)*360/ae-180,360/Math.PI*Math.atan(Math.exp(ln*Math.PI/180))-90]}}switch(this.type){case 1:var Wt=[];for(vt=0;vt<Ie.length;vt++)Wt[vt]=Ie[vt][0];Ie=Wt,Pt(Ie);break;case 2:for(vt=0;vt<Ie.length;vt++)Pt(Ie[vt]);break;case 3:for(Ie=dA(Ie),vt=0;vt<Ie.length;vt++)for(Mt=0;Mt<Ie[vt].length;Mt++)Pt(Ie[vt][Mt]);break}Ie.length===1?Ie=Ie[0]:Qe="Multi"+Qe;var nr={type:"Feature",geometry:{type:Qe,coordinates:Ie},properties:this.properties};return"id"in this&&(nr.id=this.id),nr};function dA(D){var R=D.length;if(R<=1)return[D];for(var X=[],ae,ve,Ae=0;Ae<R;Ae++){var Ie=pA(D[Ae]);Ie!==0&&(ve===void 0&&(ve=Ie<0),ve===Ie<0?(ae&&X.push(ae),ae=[D[Ae]]):ae.push(D[Ae]))}return ae&&X.push(ae),X}function pA(D){for(var R=0,X=0,ae=D.length,ve=ae-1,Ae,Ie;X<ae;ve=X++)Ae=D[X],Ie=D[ve],R+=(Ie.x-Ae.x)*(Ae.y+Ie.y);return R}var Kx=Jx;function Jx(D,R){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=D,this._keys=[],this._values=[],this._features=[],D.readFields(gA,this,R),this.length=this._features.length}function gA(D,R,X){D===15?R.version=X.readVarint():D===1?R.name=X.readString():D===5?R.extent=X.readVarint():D===2?R._features.push(X.pos):D===3?R._keys.push(X.readString()):D===4&&R._values.push(yA(X))}function yA(D){for(var R=null,X=D.readVarint()+D.pos;D.pos<X;){var ae=D.readVarint()>>3;R=ae===1?D.readString():ae===2?D.readFloat():ae===3?D.readDouble():ae===4?D.readVarint64():ae===5?D.readVarint():ae===6?D.readSVarint():ae===7?D.readBoolean():null}return R}Jx.prototype.feature=function(D){if(D<0||D>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[D];var R=this._pbf.readVarint()+this._pbf.pos;return new Zx(this._pbf,R,this.extent,this._keys,this._values)};var mA=xA;function xA(D,R){this.layers=D.readFields(bA,{},R)}function bA(D,R,X){if(D===3){var ae=new Kx(X,X.readVarint()+X.pos);ae.length&&(R[ae.name]=ae)}}var wA=mA,TA=Zx,AA=Kx,ov={VectorTile:wA,VectorTileFeature:TA,VectorTileLayer:AA},MA=ov.VectorTileFeature.types,SA=500,Wg=Math.pow(2,13);function cd(D,R,X,ae,ve,Ae,Ie,Qe){D.emplaceBack(R,X,Math.floor(ae*Wg)*2+Ie,ve*Wg*2,Ae*Wg*2,Math.round(Qe))}var Pu=function(R){this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(X){return X.id}),this.index=R.index,this.hasPattern=!1,this.layoutVertexArray=new ef,this.indexArray=new Eu,this.programConfigurations=new hi(R.layers,R.zoom),this.segments=new so,this.stateDependentLayerIds=this.layers.filter(function(X){return X.isStateDependent()}).map(function(X){return X.id})};Pu.prototype.populate=function(R,X,ae){this.features=[],this.hasPattern=Hg("fill-extrusion",this.layers,X);for(var ve=0,Ae=R;ve<Ae.length;ve+=1){var Ie=Ae[ve],Qe=Ie.feature,vt=Ie.id,Mt=Ie.index,Pt=Ie.sourceLayerIndex,Wt=this.layers[0]._featureFilter.needGeometry,nr=Sa(Qe,Wt);if(this.layers[0]._featureFilter.filter(new Ai(this.zoom),nr,ae)){var qt={id:vt,sourceLayerIndex:Pt,index:Mt,geometry:Wt?nr.geometry:ta(Qe),properties:Qe.properties,type:Qe.type,patterns:{}};this.hasPattern?this.features.push(Gg("fill-extrusion",this.layers,qt,this.zoom,X)):this.addFeature(qt,qt.geometry,Mt,ae,{}),X.featureIndex.insert(Qe,qt.geometry,Mt,Pt,this.index,!0)}}},Pu.prototype.addFeatures=function(R,X,ae){for(var ve=0,Ae=this.features;ve<Ae.length;ve+=1){var Ie=Ae[ve],Qe=Ie.geometry;this.addFeature(Ie,Qe,Ie.index,X,ae)}},Pu.prototype.update=function(R,X,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(R,X,this.stateDependentLayers,ae)},Pu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Pu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Pu.prototype.upload=function(R){this.uploaded||(this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,cA),this.indexBuffer=R.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(R),this.uploaded=!0},Pu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Pu.prototype.addFeature=function(R,X,ae,ve,Ae){for(var Ie=0,Qe=Vg(X,SA);Ie<Qe.length;Ie+=1){for(var vt=Qe[Ie],Mt=0,Pt=0,Wt=vt;Pt<Wt.length;Pt+=1){var nr=Wt[Pt];Mt+=nr.length}for(var qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),yr=0,Or=vt;yr<Or.length;yr+=1){var ln=Or[yr];if(ln.length!==0&&!CA(ln))for(var en=0,Mn=0;Mn<ln.length;Mn++){var yn=ln[Mn];if(Mn>=1){var An=ln[Mn-1];if(!EA(yn,An)){qt.vertexLength+4>so.MAX_VERTEX_ARRAY_LENGTH&&(qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var kn=yn.sub(An)._perp()._unit(),Gn=An.dist(yn);en+Gn>32768&&(en=0),cd(this.layoutVertexArray,yn.x,yn.y,kn.x,kn.y,0,0,en),cd(this.layoutVertexArray,yn.x,yn.y,kn.x,kn.y,0,1,en),en+=Gn,cd(this.layoutVertexArray,An.x,An.y,kn.x,kn.y,0,0,en),cd(this.layoutVertexArray,An.x,An.y,kn.x,kn.y,0,1,en);var ti=qt.vertexLength;this.indexArray.emplaceBack(ti,ti+2,ti+1),this.indexArray.emplaceBack(ti+1,ti+2,ti+3),qt.vertexLength+=4,qt.primitiveLength+=2}}}}if(qt.vertexLength+Mt>so.MAX_VERTEX_ARRAY_LENGTH&&(qt=this.segments.prepareSegment(Mt,this.layoutVertexArray,this.indexArray)),MA[R.type]==="Polygon"){for(var $n=[],wi=[],vi=qt.vertexLength,bi=0,Ui=vt;bi<Ui.length;bi+=1){var Ti=Ui[bi];if(Ti.length!==0){Ti!==vt[0]&&wi.push($n.length/2);for(var Ei=0;Ei<Ti.length;Ei++){var Xi=Ti[Ei];cd(this.layoutVertexArray,Xi.x,Xi.y,0,0,1,1,0),$n.push(Xi.x),$n.push(Xi.y)}}}for(var Ni=Fg($n,wi),sa=0;sa<Ni.length;sa+=3)this.indexArray.emplaceBack(vi+Ni[sa],vi+Ni[sa+2],vi+Ni[sa+1]);qt.primitiveLength+=Ni.length/3,qt.vertexLength+=Mt}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,R,ae,Ae,ve)},Fe("FillExtrusionBucket",Pu,{omit:["layers","features"]});function EA(D,R){return D.x===R.x&&(D.x<0||D.x>Mi)||D.y===R.y&&(D.y<0||D.y>Mi)}function CA(D){return D.every(function(R){return R.x<0})||D.every(function(R){return R.x>Mi})||D.every(function(R){return R.y<0})||D.every(function(R){return R.y>Mi})}var LA=new ca({"fill-extrusion-opacity":new oi(Ar["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ci(Ar["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new oi(Ar["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new oi(Ar["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ko(Ar["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ci(Ar["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ci(Ar["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new oi(Ar["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),PA={paint:LA},DA=function(D){function R(X){D.call(this,X,PA)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(ae){return new Pu(ae)},R.prototype.queryRadius=function(){return ml(this.paint.get("fill-extrusion-translate"))},R.prototype.is3D=function(){return!0},R.prototype.queryIntersectsFeature=function(ae,ve,Ae,Ie,Qe,vt,Mt,Pt){var Wt=Cu(ae,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),vt.angle,Mt),nr=this.paint.get("fill-extrusion-height").evaluate(ve,Ae),qt=this.paint.get("fill-extrusion-base").evaluate(ve,Ae),yr=_A(Wt,Pt,vt,0),Or=IA(Ie,qt,nr,Pt),ln=Or[0],en=Or[1];return RA(ln,en,yr)},R}(Ba);function hd(D,R){return D.x*R.x+D.y*R.y}function Qx(D,R){if(D.length===1){for(var X=0,ae=R[X++],ve;!ve||ae.equals(ve);)if(ve=R[X++],!ve)return 1/0;for(;X<R.length;X++){var Ae=R[X],Ie=D[0],Qe=ve.sub(ae),vt=Ae.sub(ae),Mt=Ie.sub(ae),Pt=hd(Qe,Qe),Wt=hd(Qe,vt),nr=hd(vt,vt),qt=hd(Mt,Qe),yr=hd(Mt,vt),Or=Pt*nr-Wt*Wt,ln=(nr*qt-Wt*yr)/Or,en=(Pt*yr-Wt*qt)/Or,Mn=1-ln-en,yn=ae.z*Mn+ve.z*ln+Ae.z*en;if(isFinite(yn))return yn}return 1/0}else{for(var An=1/0,kn=0,Gn=R;kn<Gn.length;kn+=1){var ti=Gn[kn];An=Math.min(An,ti.z)}return An}}function RA(D,R,X){var ae=1/0;Ua(X,R)&&(ae=Qx(X,R[0]));for(var ve=0;ve<R.length;ve++)for(var Ae=R[ve],Ie=D[ve],Qe=0;Qe<Ae.length-1;Qe++){var vt=Ae[Qe],Mt=Ae[Qe+1],Pt=Ie[Qe],Wt=Ie[Qe+1],nr=[vt,Mt,Wt,Pt,vt];Wi(X,nr)&&(ae=Math.min(ae,Qx(X,nr)))}return ae===1/0?!1:ae}function IA(D,R,X,ae){for(var ve=[],Ae=[],Ie=ae[8]*R,Qe=ae[9]*R,vt=ae[10]*R,Mt=ae[11]*R,Pt=ae[8]*X,Wt=ae[9]*X,nr=ae[10]*X,qt=ae[11]*X,yr=0,Or=D;yr<Or.length;yr+=1){for(var ln=Or[yr],en=[],Mn=[],yn=0,An=ln;yn<An.length;yn+=1){var kn=An[yn],Gn=kn.x,ti=kn.y,$n=ae[0]*Gn+ae[4]*ti+ae[12],wi=ae[1]*Gn+ae[5]*ti+ae[13],vi=ae[2]*Gn+ae[6]*ti+ae[14],bi=ae[3]*Gn+ae[7]*ti+ae[15],Ui=$n+Ie,Ti=wi+Qe,Ei=vi+vt,Xi=bi+Mt,Ni=$n+Pt,sa=wi+Wt,ba=vi+nr,la=bi+qt,ua=new r(Ui/Xi,Ti/Xi);ua.z=Ei/Xi,en.push(ua);var ra=new r(Ni/la,sa/la);ra.z=ba/la,Mn.push(ra)}ve.push(en),Ae.push(Mn)}return[ve,Ae]}function _A(D,R,X,ae){for(var ve=[],Ae=0,Ie=D;Ae<Ie.length;Ae+=1){var Qe=Ie[Ae],vt=[Qe.x,Qe.y,ae,1];Ep(vt,vt,R),ve.push(new r(vt[0]/vt[3],vt[1]/vt[3]))}return ve}var kA=Da([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),OA=kA.members,zA=Da([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),FA=zA.members,NA=ov.VectorTileFeature.types,$x=63,BA=Math.cos(75/2*(Math.PI/180)),UA=15,VA=20,HA=15,qx=1/2,eb=Math.pow(2,HA-1)/qx,ss=function(R){var X=this;this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(ae){return ae.id}),this.index=R.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(ae){X.gradients[ae.id]={}}),this.layoutVertexArray=new bc,this.layoutVertexArray2=new wc,this.indexArray=new Eu,this.programConfigurations=new hi(R.layers,R.zoom),this.segments=new so,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(ae){return ae.isStateDependent()}).map(function(ae){return ae.id})};ss.prototype.populate=function(R,X,ae){this.hasPattern=Hg("line",this.layers,X);for(var ve=this.layers[0].layout.get("line-sort-key"),Ae=[],Ie=0,Qe=R;Ie<Qe.length;Ie+=1){var vt=Qe[Ie],Mt=vt.feature,Pt=vt.id,Wt=vt.index,nr=vt.sourceLayerIndex,qt=this.layers[0]._featureFilter.needGeometry,yr=Sa(Mt,qt);if(this.layers[0]._featureFilter.filter(new Ai(this.zoom),yr,ae)){var Or=ve?ve.evaluate(yr,{},ae):void 0,ln={id:Pt,properties:Mt.properties,type:Mt.type,sourceLayerIndex:nr,index:Wt,geometry:qt?yr.geometry:ta(Mt),patterns:{},sortKey:Or};Ae.push(ln)}}ve&&Ae.sort(function(vi,bi){return vi.sortKey-bi.sortKey});for(var en=0,Mn=Ae;en<Mn.length;en+=1){var yn=Mn[en],An=yn,kn=An.geometry,Gn=An.index,ti=An.sourceLayerIndex;if(this.hasPattern){var $n=Gg("line",this.layers,yn,this.zoom,X);this.patternFeatures.push($n)}else this.addFeature(yn,kn,Gn,ae,{});var wi=R[Gn].feature;X.featureIndex.insert(wi,kn,Gn,ti,this.index)}},ss.prototype.update=function(R,X,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(R,X,this.stateDependentLayers,ae)},ss.prototype.addFeatures=function(R,X,ae){for(var ve=0,Ae=this.patternFeatures;ve<Ae.length;ve+=1){var Ie=Ae[ve];this.addFeature(Ie,Ie.geometry,Ie.index,X,ae)}},ss.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ss.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ss.prototype.upload=function(R){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=R.createVertexBuffer(this.layoutVertexArray2,FA)),this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,OA),this.indexBuffer=R.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(R),this.uploaded=!0},ss.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ss.prototype.lineFeatureClips=function(R){if(R.properties&&R.properties.hasOwnProperty("mapbox_clip_start")&&R.properties.hasOwnProperty("mapbox_clip_end")){var X=+R.properties.mapbox_clip_start,ae=+R.properties.mapbox_clip_end;return{start:X,end:ae}}},ss.prototype.addFeature=function(R,X,ae,ve,Ae){var Ie=this.layers[0].layout,Qe=Ie.get("line-join").evaluate(R,{}),vt=Ie.get("line-cap"),Mt=Ie.get("line-miter-limit"),Pt=Ie.get("line-round-limit");this.lineClips=this.lineFeatureClips(R);for(var Wt=0,nr=X;Wt<nr.length;Wt+=1){var qt=nr[Wt];this.addLine(qt,R,Qe,vt,Mt,Pt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,R,ae,Ae,ve)},ss.prototype.addLine=function(R,X,ae,ve,Ae,Ie){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var Qe=0;Qe<R.length-1;Qe++)this.totalDistance+=R[Qe].dist(R[Qe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var vt=NA[X.type]==="Polygon",Mt=R.length;Mt>=2&&R[Mt-1].equals(R[Mt-2]);)Mt--;for(var Pt=0;Pt<Mt-1&&R[Pt].equals(R[Pt+1]);)Pt++;if(!(Mt<(vt?3:2))){ae==="bevel"&&(Ae=1.05);var Wt=this.overscaling<=16?UA*Mi/(512*this.overscaling):0,nr=this.segments.prepareSegment(Mt*10,this.layoutVertexArray,this.indexArray),qt,yr=void 0,Or=void 0,ln=void 0,en=void 0;this.e1=this.e2=-1,vt&&(qt=R[Mt-2],en=R[Pt].sub(qt)._unit()._perp());for(var Mn=Pt;Mn<Mt;Mn++)if(Or=Mn===Mt-1?vt?R[Pt+1]:void 0:R[Mn+1],!(Or&&R[Mn].equals(Or))){en&&(ln=en),qt&&(yr=qt),qt=R[Mn],en=Or?Or.sub(qt)._unit()._perp():ln,ln=ln||en;var yn=ln.add(en);(yn.x!==0||yn.y!==0)&&yn._unit();var An=ln.x*en.x+ln.y*en.y,kn=yn.x*en.x+yn.y*en.y,Gn=kn!==0?1/kn:1/0,ti=2*Math.sqrt(2-2*kn),$n=kn<BA&&yr&&Or,wi=ln.x*en.y-ln.y*en.x>0;if($n&&Mn>Pt){var vi=qt.dist(yr);if(vi>2*Wt){var bi=qt.sub(qt.sub(yr)._mult(Wt/vi)._round());this.updateDistance(yr,bi),this.addCurrentVertex(bi,ln,0,0,nr),yr=bi}}var Ui=yr&&Or,Ti=Ui?ae:vt?"butt":ve;if(Ui&&Ti==="round"&&(Gn<Ie?Ti="miter":Gn<=2&&(Ti="fakeround")),Ti==="miter"&&Gn>Ae&&(Ti="bevel"),Ti==="bevel"&&(Gn>2&&(Ti="flipbevel"),Gn<Ae&&(Ti="miter")),yr&&this.updateDistance(yr,qt),Ti==="miter")yn._mult(Gn),this.addCurrentVertex(qt,yn,0,0,nr);else if(Ti==="flipbevel"){if(Gn>100)yn=en.mult(-1);else{var Ei=Gn*ln.add(en).mag()/ln.sub(en).mag();yn._perp()._mult(Ei*(wi?-1:1))}this.addCurrentVertex(qt,yn,0,0,nr),this.addCurrentVertex(qt,yn.mult(-1),0,0,nr)}else if(Ti==="bevel"||Ti==="fakeround"){var Xi=-Math.sqrt(Gn*Gn-1),Ni=wi?Xi:0,sa=wi?0:Xi;if(yr&&this.addCurrentVertex(qt,ln,Ni,sa,nr),Ti==="fakeround")for(var ba=Math.round(ti*180/Math.PI/VA),la=1;la<ba;la++){var ua=la/ba;if(ua!==.5){var ra=ua-.5,Ea=1.0904+An*(-3.2452+An*(3.55645-An*1.43519)),La=.848013+An*(-1.06021+An*.215638);ua=ua+ua*ra*(ua-1)*(Ea*ra*ra+La)}var Va=en.sub(ln)._mult(ua)._add(ln)._unit()._mult(wi?-1:1);this.addHalfVertex(qt,Va.x,Va.y,!1,wi,0,nr)}Or&&this.addCurrentVertex(qt,en,-Ni,-sa,nr)}else if(Ti==="butt")this.addCurrentVertex(qt,yn,0,0,nr);else if(Ti==="square"){var ja=yr?1:-1;this.addCurrentVertex(qt,yn,ja,ja,nr)}else Ti==="round"&&(yr&&(this.addCurrentVertex(qt,ln,0,0,nr),this.addCurrentVertex(qt,ln,1,1,nr,!0)),Or&&(this.addCurrentVertex(qt,en,-1,-1,nr,!0),this.addCurrentVertex(qt,en,0,0,nr)));if($n&&Mn<Mt-1){var Eo=qt.dist(Or);if(Eo>2*Wt){var co=qt.add(Or.sub(qt)._mult(Wt/Eo)._round());this.updateDistance(qt,co),this.addCurrentVertex(co,en,0,0,nr),qt=co}}}}},ss.prototype.addCurrentVertex=function(R,X,ae,ve,Ae,Ie){Ie===void 0&&(Ie=!1);var Qe=X.x+X.y*ae,vt=X.y-X.x*ae,Mt=-X.x+X.y*ve,Pt=-X.y-X.x*ve;this.addHalfVertex(R,Qe,vt,Ie,!1,ae,Ae),this.addHalfVertex(R,Mt,Pt,Ie,!0,-ve,Ae),this.distance>eb/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(R,X,ae,ve,Ae,Ie))},ss.prototype.addHalfVertex=function(R,X,ae,ve,Ae,Ie,Qe){var vt=R.x,Mt=R.y,Pt=this.lineClips?this.scaledDistance*(eb-1):this.scaledDistance,Wt=Pt*qx;if(this.layoutVertexArray.emplaceBack((vt<<1)+(ve?1:0),(Mt<<1)+(Ae?1:0),Math.round($x*X)+128,Math.round($x*ae)+128,(Ie===0?0:Ie<0?-1:1)+1|(Wt&63)<<2,Wt>>6),this.lineClips){var nr=this.scaledDistance-this.lineClips.start,qt=this.lineClips.end-this.lineClips.start,yr=nr/qt;this.layoutVertexArray2.emplaceBack(yr,this.lineClipsArray.length)}var Or=Qe.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Or),Qe.primitiveLength++),Ae?this.e2=Or:this.e1=Or},ss.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},ss.prototype.updateDistance=function(R,X){this.distance+=R.dist(X),this.updateScaledDistance()},Fe("LineBucket",ss,{omit:["layers","patternFeatures"]});var GA=new ca({"line-cap":new oi(Ar.layout_line["line-cap"]),"line-join":new Ci(Ar.layout_line["line-join"]),"line-miter-limit":new oi(Ar.layout_line["line-miter-limit"]),"line-round-limit":new oi(Ar.layout_line["line-round-limit"]),"line-sort-key":new Ci(Ar.layout_line["line-sort-key"])}),WA=new ca({"line-opacity":new Ci(Ar.paint_line["line-opacity"]),"line-color":new Ci(Ar.paint_line["line-color"]),"line-translate":new oi(Ar.paint_line["line-translate"]),"line-translate-anchor":new oi(Ar.paint_line["line-translate-anchor"]),"line-width":new Ci(Ar.paint_line["line-width"]),"line-gap-width":new Ci(Ar.paint_line["line-gap-width"]),"line-offset":new Ci(Ar.paint_line["line-offset"]),"line-blur":new Ci(Ar.paint_line["line-blur"]),"line-dasharray":new Vo(Ar.paint_line["line-dasharray"]),"line-pattern":new ko(Ar.paint_line["line-pattern"]),"line-gradient":new oo(Ar.paint_line["line-gradient"])}),tb={paint:WA,layout:GA},XA=function(D){function R(){D.apply(this,arguments)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.possiblyEvaluate=function(ae,ve){return ve=new Ai(Math.floor(ve.zoom),{now:ve.now,fadeDuration:ve.fadeDuration,zoomHistory:ve.zoomHistory,transition:ve.transition}),D.prototype.possiblyEvaluate.call(this,ae,ve)},R.prototype.evaluate=function(ae,ve,Ae,Ie){return ve=w({},ve,{zoom:Math.floor(ve.zoom)}),D.prototype.evaluate.call(this,ae,ve,Ae,Ie)},R}(Ci),rb=new XA(tb.paint.properties["line-width"].specification);rb.useIntegerZoom=!0;var YA=function(D){function R(X){D.call(this,X,tb),this.gradientVersion=0}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype._handleSpecialPaintPropertyUpdate=function(ae){if(ae==="line-gradient"){var ve=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=ve._styleExpression.expression instanceof $o,this.gradientVersion=(this.gradientVersion+1)%u}},R.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},R.prototype.recalculate=function(ae,ve){D.prototype.recalculate.call(this,ae,ve),this.paint._values["line-floorwidth"]=rb.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ae)},R.prototype.createBucket=function(ae){return new ss(ae)},R.prototype.queryRadius=function(ae){var ve=ae,Ae=nb(os("line-width",this,ve),os("line-gap-width",this,ve)),Ie=os("line-offset",this,ve);return Ae/2+Math.abs(Ie)+ml(this.paint.get("line-translate"))},R.prototype.queryIntersectsFeature=function(ae,ve,Ae,Ie,Qe,vt,Mt){var Pt=Cu(ae,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),vt.angle,Mt),Wt=Mt/2*nb(this.paint.get("line-width").evaluate(ve,Ae),this.paint.get("line-gap-width").evaluate(ve,Ae)),nr=this.paint.get("line-offset").evaluate(ve,Ae);return nr&&(Ie=jA(Ie,nr*Mt)),mo(Pt,Ie,Wt)},R.prototype.isTileClipped=function(){return!0},R}(Ba);function nb(D,R){return R>0?R+2*D:D}function jA(D,R){for(var X=[],ae=new r(0,0),ve=0;ve<D.length;ve++){for(var Ae=D[ve],Ie=[],Qe=0;Qe<Ae.length;Qe++){var vt=Ae[Qe-1],Mt=Ae[Qe],Pt=Ae[Qe+1],Wt=Qe===0?ae:Mt.sub(vt)._unit()._perp(),nr=Qe===Ae.length-1?ae:Pt.sub(Mt)._unit()._perp(),qt=Wt._add(nr)._unit(),yr=qt.x*nr.x+qt.y*nr.y;qt._mult(1/yr),Ie.push(qt._mult(R)._add(Mt))}X.push(Ie)}return X}var ZA=Da([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),KA=Da([{name:"a_projected_pos",components:3,type:"Float32"}],4);Da([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var JA=Da([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Da([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var ib=Da([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),QA=Da([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Da([{name:"triangle",components:3,type:"Uint16"}]),Da([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Da([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Da([{type:"Float32",name:"offsetX"}]),Da([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function $A(D,R,X){var ae=R.layout.get("text-transform").evaluate(X,{});return ae==="uppercase"?D=D.toLocaleUpperCase():ae==="lowercase"&&(D=D.toLocaleLowerCase()),Zn.applyArabicShaping&&(D=Zn.applyArabicShaping(D)),D}function qA(D,R,X){return D.sections.forEach(function(ae){ae.text=$A(ae.text,R,X)}),D}function e6(D){var R={},X={},ae=[],ve=0;function Ae(en){ae.push(D[en]),ve++}function Ie(en,Mn,yn){var An=X[en];return delete X[en],X[Mn]=An,ae[An].geometry[0].pop(),ae[An].geometry[0]=ae[An].geometry[0].concat(yn[0]),An}function Qe(en,Mn,yn){var An=R[Mn];return delete R[Mn],R[en]=An,ae[An].geometry[0].shift(),ae[An].geometry[0]=yn[0].concat(ae[An].geometry[0]),An}function vt(en,Mn,yn){var An=yn?Mn[0][Mn[0].length-1]:Mn[0][0];return en+":"+An.x+":"+An.y}for(var Mt=0;Mt<D.length;Mt++){var Pt=D[Mt],Wt=Pt.geometry,nr=Pt.text?Pt.text.toString():null;if(!nr){Ae(Mt);continue}var qt=vt(nr,Wt),yr=vt(nr,Wt,!0);if(qt in X&&yr in R&&X[qt]!==R[yr]){var Or=Qe(qt,yr,Wt),ln=Ie(qt,yr,ae[Or].geometry);delete R[qt],delete X[yr],X[vt(nr,ae[ln].geometry,!0)]=ln,ae[Or].geometry=null}else qt in X?Ie(qt,yr,Wt):yr in R?Qe(qt,yr,Wt):(Ae(Mt),R[qt]=ve-1,X[yr]=ve-1)}return ae.filter(function(en){return en.geometry})}var vd={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function t6(D){for(var R="",X=0;X<D.length;X++){var ae=D.charCodeAt(X+1)||null,ve=D.charCodeAt(X-1)||null,Ae=(!ae||!Br(ae)||vd[D[X+1]])&&(!ve||!Br(ve)||vd[D[X-1]]);Ae&&vd[D[X]]?R+=vd[D[X]]:R+=D[X]}return R}var Oo=24,r6=function(D,R,X,ae,ve){var Ae,Ie,Qe=ve*8-ae-1,vt=(1<<Qe)-1,Mt=vt>>1,Pt=-7,Wt=X?ve-1:0,nr=X?-1:1,qt=D[R+Wt];for(Wt+=nr,Ae=qt&(1<<-Pt)-1,qt>>=-Pt,Pt+=Qe;Pt>0;Ae=Ae*256+D[R+Wt],Wt+=nr,Pt-=8);for(Ie=Ae&(1<<-Pt)-1,Ae>>=-Pt,Pt+=ae;Pt>0;Ie=Ie*256+D[R+Wt],Wt+=nr,Pt-=8);if(Ae===0)Ae=1-Mt;else{if(Ae===vt)return Ie?NaN:(qt?-1:1)*(1/0);Ie=Ie+Math.pow(2,ae),Ae=Ae-Mt}return(qt?-1:1)*Ie*Math.pow(2,Ae-ae)},n6=function(D,R,X,ae,ve,Ae){var Ie,Qe,vt,Mt=Ae*8-ve-1,Pt=(1<<Mt)-1,Wt=Pt>>1,nr=ve===23?Math.pow(2,-24)-Math.pow(2,-77):0,qt=ae?0:Ae-1,yr=ae?1:-1,Or=R<0||R===0&&1/R<0?1:0;for(R=Math.abs(R),isNaN(R)||R===1/0?(Qe=isNaN(R)?1:0,Ie=Pt):(Ie=Math.floor(Math.log(R)/Math.LN2),R*(vt=Math.pow(2,-Ie))<1&&(Ie--,vt*=2),Ie+Wt>=1?R+=nr/vt:R+=nr*Math.pow(2,1-Wt),R*vt>=2&&(Ie++,vt/=2),Ie+Wt>=Pt?(Qe=0,Ie=Pt):Ie+Wt>=1?(Qe=(R*vt-1)*Math.pow(2,ve),Ie=Ie+Wt):(Qe=R*Math.pow(2,Wt-1)*Math.pow(2,ve),Ie=0));ve>=8;D[X+qt]=Qe&255,qt+=yr,Qe/=256,ve-=8);for(Ie=Ie<<ve|Qe,Mt+=ve;Mt>0;D[X+qt]=Ie&255,qt+=yr,Ie/=256,Mt-=8);D[X+qt-yr]|=Or*128},Rp={read:r6,write:n6},Ip=Ca;function Ca(D){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(D)?D:new Uint8Array(D||0),this.pos=0,this.type=0,this.length=this.buf.length}Ca.Varint=0,Ca.Fixed64=1,Ca.Bytes=2,Ca.Fixed32=5;var Xg=65536*65536,ab=1/Xg,i6=12,ob=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Ca.prototype={destroy:function(){this.buf=null},readFields:function(D,R,X){for(X=X||this.length;this.pos<X;){var ae=this.readVarint(),ve=ae>>3,Ae=this.pos;this.type=ae&7,D(ve,R,this),this.pos===Ae&&this.skip(ae)}return R},readMessage:function(D,R){return this.readFields(D,R,this.readVarint()+this.pos)},readFixed32:function(){var D=_p(this.buf,this.pos);return this.pos+=4,D},readSFixed32:function(){var D=lb(this.buf,this.pos);return this.pos+=4,D},readFixed64:function(){var D=_p(this.buf,this.pos)+_p(this.buf,this.pos+4)*Xg;return this.pos+=8,D},readSFixed64:function(){var D=_p(this.buf,this.pos)+lb(this.buf,this.pos+4)*Xg;return this.pos+=8,D},readFloat:function(){var D=Rp.read(this.buf,this.pos,!0,23,4);return this.pos+=4,D},readDouble:function(){var D=Rp.read(this.buf,this.pos,!0,52,8);return this.pos+=8,D},readVarint:function(D){var R=this.buf,X,ae;return ae=R[this.pos++],X=ae&127,ae<128||(ae=R[this.pos++],X|=(ae&127)<<7,ae<128)||(ae=R[this.pos++],X|=(ae&127)<<14,ae<128)||(ae=R[this.pos++],X|=(ae&127)<<21,ae<128)?X:(ae=R[this.pos],X|=(ae&15)<<28,a6(X,D,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var D=this.readVarint();return D%2===1?(D+1)/-2:D/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var D=this.readVarint()+this.pos,R=this.pos;return this.pos=D,D-R>=i6&&ob?x6(this.buf,R,D):m6(this.buf,R,D)},readBytes:function(){var D=this.readVarint()+this.pos,R=this.buf.subarray(this.pos,D);return this.pos=D,R},readPackedVarint:function(D,R){if(this.type!==Ca.Bytes)return D.push(this.readVarint(R));var X=kf(this);for(D=D||[];this.pos<X;)D.push(this.readVarint(R));return D},readPackedSVarint:function(D){if(this.type!==Ca.Bytes)return D.push(this.readSVarint());var R=kf(this);for(D=D||[];this.pos<R;)D.push(this.readSVarint());return D},readPackedBoolean:function(D){if(this.type!==Ca.Bytes)return D.push(this.readBoolean());var R=kf(this);for(D=D||[];this.pos<R;)D.push(this.readBoolean());return D},readPackedFloat:function(D){if(this.type!==Ca.Bytes)return D.push(this.readFloat());var R=kf(this);for(D=D||[];this.pos<R;)D.push(this.readFloat());return D},readPackedDouble:function(D){if(this.type!==Ca.Bytes)return D.push(this.readDouble());var R=kf(this);for(D=D||[];this.pos<R;)D.push(this.readDouble());return D},readPackedFixed32:function(D){if(this.type!==Ca.Bytes)return D.push(this.readFixed32());var R=kf(this);for(D=D||[];this.pos<R;)D.push(this.readFixed32());return D},readPackedSFixed32:function(D){if(this.type!==Ca.Bytes)return D.push(this.readSFixed32());var R=kf(this);for(D=D||[];this.pos<R;)D.push(this.readSFixed32());return D},readPackedFixed64:function(D){if(this.type!==Ca.Bytes)return D.push(this.readFixed64());var R=kf(this);for(D=D||[];this.pos<R;)D.push(this.readFixed64());return D},readPackedSFixed64:function(D){if(this.type!==Ca.Bytes)return D.push(this.readSFixed64());var R=kf(this);for(D=D||[];this.pos<R;)D.push(this.readSFixed64());return D},skip:function(D){var R=D&7;if(R===Ca.Varint)for(;this.buf[this.pos++]>127;);else if(R===Ca.Bytes)this.pos=this.readVarint()+this.pos;else if(R===Ca.Fixed32)this.pos+=4;else if(R===Ca.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+R)},writeTag:function(D,R){this.writeVarint(D<<3|R)},realloc:function(D){for(var R=this.length||16;R<this.pos+D;)R*=2;if(R!==this.length){var X=new Uint8Array(R);X.set(this.buf),this.buf=X,this.length=R}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(D){this.realloc(4),lv(this.buf,D,this.pos),this.pos+=4},writeSFixed32:function(D){this.realloc(4),lv(this.buf,D,this.pos),this.pos+=4},writeFixed64:function(D){this.realloc(8),lv(this.buf,D&-1,this.pos),lv(this.buf,Math.floor(D*ab),this.pos+4),this.pos+=8},writeSFixed64:function(D){this.realloc(8),lv(this.buf,D&-1,this.pos),lv(this.buf,Math.floor(D*ab),this.pos+4),this.pos+=8},writeVarint:function(D){if(D=+D||0,D>268435455||D<0){o6(D,this);return}this.realloc(4),this.buf[this.pos++]=D&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=(D>>>=7)&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=(D>>>=7)&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=D>>>7&127)))},writeSVarint:function(D){this.writeVarint(D<0?-D*2-1:D*2)},writeBoolean:function(D){this.writeVarint(!!D)},writeString:function(D){D=String(D),this.realloc(D.length*4),this.pos++;var R=this.pos;this.pos=b6(this.buf,D,this.pos);var X=this.pos-R;X>=128&&sb(R,X,this),this.pos=R-1,this.writeVarint(X),this.pos+=X},writeFloat:function(D){this.realloc(4),Rp.write(this.buf,D,this.pos,!0,23,4),this.pos+=4},writeDouble:function(D){this.realloc(8),Rp.write(this.buf,D,this.pos,!0,52,8),this.pos+=8},writeBytes:function(D){var R=D.length;this.writeVarint(R),this.realloc(R);for(var X=0;X<R;X++)this.buf[this.pos++]=D[X]},writeRawMessage:function(D,R){this.pos++;var X=this.pos;D(R,this);var ae=this.pos-X;ae>=128&&sb(X,ae,this),this.pos=X-1,this.writeVarint(ae),this.pos+=ae},writeMessage:function(D,R,X){this.writeTag(D,Ca.Bytes),this.writeRawMessage(R,X)},writePackedVarint:function(D,R){R.length&&this.writeMessage(D,u6,R)},writePackedSVarint:function(D,R){R.length&&this.writeMessage(D,f6,R)},writePackedBoolean:function(D,R){R.length&&this.writeMessage(D,v6,R)},writePackedFloat:function(D,R){R.length&&this.writeMessage(D,c6,R)},writePackedDouble:function(D,R){R.length&&this.writeMessage(D,h6,R)},writePackedFixed32:function(D,R){R.length&&this.writeMessage(D,d6,R)},writePackedSFixed32:function(D,R){R.length&&this.writeMessage(D,p6,R)},writePackedFixed64:function(D,R){R.length&&this.writeMessage(D,g6,R)},writePackedSFixed64:function(D,R){R.length&&this.writeMessage(D,y6,R)},writeBytesField:function(D,R){this.writeTag(D,Ca.Bytes),this.writeBytes(R)},writeFixed32Field:function(D,R){this.writeTag(D,Ca.Fixed32),this.writeFixed32(R)},writeSFixed32Field:function(D,R){this.writeTag(D,Ca.Fixed32),this.writeSFixed32(R)},writeFixed64Field:function(D,R){this.writeTag(D,Ca.Fixed64),this.writeFixed64(R)},writeSFixed64Field:function(D,R){this.writeTag(D,Ca.Fixed64),this.writeSFixed64(R)},writeVarintField:function(D,R){this.writeTag(D,Ca.Varint),this.writeVarint(R)},writeSVarintField:function(D,R){this.writeTag(D,Ca.Varint),this.writeSVarint(R)},writeStringField:function(D,R){this.writeTag(D,Ca.Bytes),this.writeString(R)},writeFloatField:function(D,R){this.writeTag(D,Ca.Fixed32),this.writeFloat(R)},writeDoubleField:function(D,R){this.writeTag(D,Ca.Fixed64),this.writeDouble(R)},writeBooleanField:function(D,R){this.writeVarintField(D,!!R)}};function a6(D,R,X){var ae=X.buf,ve,Ae;if(Ae=ae[X.pos++],ve=(Ae&112)>>4,Ae<128||(Ae=ae[X.pos++],ve|=(Ae&127)<<3,Ae<128)||(Ae=ae[X.pos++],ve|=(Ae&127)<<10,Ae<128)||(Ae=ae[X.pos++],ve|=(Ae&127)<<17,Ae<128)||(Ae=ae[X.pos++],ve|=(Ae&127)<<24,Ae<128)||(Ae=ae[X.pos++],ve|=(Ae&1)<<31,Ae<128))return sv(D,ve,R);throw new Error("Expected varint not more than 10 bytes")}function kf(D){return D.type===Ca.Bytes?D.readVarint()+D.pos:D.pos+1}function sv(D,R,X){return X?R*4294967296+(D>>>0):(R>>>0)*4294967296+(D>>>0)}function o6(D,R){var X,ae;if(D>=0?(X=D%4294967296|0,ae=D/4294967296|0):(X=~(-D%4294967296),ae=~(-D/4294967296),X^4294967295?X=X+1|0:(X=0,ae=ae+1|0)),D>=18446744073709552e3||D<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");R.realloc(10),s6(X,ae,R),l6(ae,R)}function s6(D,R,X){X.buf[X.pos++]=D&127|128,D>>>=7,X.buf[X.pos++]=D&127|128,D>>>=7,X.buf[X.pos++]=D&127|128,D>>>=7,X.buf[X.pos++]=D&127|128,D>>>=7,X.buf[X.pos]=D&127}function l6(D,R){var X=(D&7)<<4;R.buf[R.pos++]|=X|((D>>>=3)?128:0),D&&(R.buf[R.pos++]=D&127|((D>>>=7)?128:0),D&&(R.buf[R.pos++]=D&127|((D>>>=7)?128:0),D&&(R.buf[R.pos++]=D&127|((D>>>=7)?128:0),D&&(R.buf[R.pos++]=D&127|((D>>>=7)?128:0),D&&(R.buf[R.pos++]=D&127)))))}function sb(D,R,X){var ae=R<=16383?1:R<=2097151?2:R<=268435455?3:Math.floor(Math.log(R)/(Math.LN2*7));X.realloc(ae);for(var ve=X.pos-1;ve>=D;ve--)X.buf[ve+ae]=X.buf[ve]}function u6(D,R){for(var X=0;X<D.length;X++)R.writeVarint(D[X])}function f6(D,R){for(var X=0;X<D.length;X++)R.writeSVarint(D[X])}function c6(D,R){for(var X=0;X<D.length;X++)R.writeFloat(D[X])}function h6(D,R){for(var X=0;X<D.length;X++)R.writeDouble(D[X])}function v6(D,R){for(var X=0;X<D.length;X++)R.writeBoolean(D[X])}function d6(D,R){for(var X=0;X<D.length;X++)R.writeFixed32(D[X])}function p6(D,R){for(var X=0;X<D.length;X++)R.writeSFixed32(D[X])}function g6(D,R){for(var X=0;X<D.length;X++)R.writeFixed64(D[X])}function y6(D,R){for(var X=0;X<D.length;X++)R.writeSFixed64(D[X])}function _p(D,R){return(D[R]|D[R+1]<<8|D[R+2]<<16)+D[R+3]*16777216}function lv(D,R,X){D[X]=R,D[X+1]=R>>>8,D[X+2]=R>>>16,D[X+3]=R>>>24}function lb(D,R){return(D[R]|D[R+1]<<8|D[R+2]<<16)+(D[R+3]<<24)}function m6(D,R,X){for(var ae="",ve=R;ve<X;){var Ae=D[ve],Ie=null,Qe=Ae>239?4:Ae>223?3:Ae>191?2:1;if(ve+Qe>X)break;var vt,Mt,Pt;Qe===1?Ae<128&&(Ie=Ae):Qe===2?(vt=D[ve+1],(vt&192)===128&&(Ie=(Ae&31)<<6|vt&63,Ie<=127&&(Ie=null))):Qe===3?(vt=D[ve+1],Mt=D[ve+2],(vt&192)===128&&(Mt&192)===128&&(Ie=(Ae&15)<<12|(vt&63)<<6|Mt&63,(Ie<=2047||Ie>=55296&&Ie<=57343)&&(Ie=null))):Qe===4&&(vt=D[ve+1],Mt=D[ve+2],Pt=D[ve+3],(vt&192)===128&&(Mt&192)===128&&(Pt&192)===128&&(Ie=(Ae&15)<<18|(vt&63)<<12|(Mt&63)<<6|Pt&63,(Ie<=65535||Ie>=1114112)&&(Ie=null))),Ie===null?(Ie=65533,Qe=1):Ie>65535&&(Ie-=65536,ae+=String.fromCharCode(Ie>>>10&1023|55296),Ie=56320|Ie&1023),ae+=String.fromCharCode(Ie),ve+=Qe}return ae}function x6(D,R,X){return ob.decode(D.subarray(R,X))}function b6(D,R,X){for(var ae=0,ve,Ae;ae<R.length;ae++){if(ve=R.charCodeAt(ae),ve>55295&&ve<57344)if(Ae)if(ve<56320){D[X++]=239,D[X++]=191,D[X++]=189,Ae=ve;continue}else ve=Ae-55296<<10|ve-56320|65536,Ae=null;else{ve>56319||ae+1===R.length?(D[X++]=239,D[X++]=191,D[X++]=189):Ae=ve;continue}else Ae&&(D[X++]=239,D[X++]=191,D[X++]=189,Ae=null);ve<128?D[X++]=ve:(ve<2048?D[X++]=ve>>6|192:(ve<65536?D[X++]=ve>>12|224:(D[X++]=ve>>18|240,D[X++]=ve>>12&63|128),D[X++]=ve>>6&63|128),D[X++]=ve&63|128)}return X}var Yg=3;function w6(D,R,X){D===1&&X.readMessage(T6,R)}function T6(D,R,X){if(D===3){var ae=X.readMessage(A6,{}),ve=ae.id,Ae=ae.bitmap,Ie=ae.width,Qe=ae.height,vt=ae.left,Mt=ae.top,Pt=ae.advance;R.push({id:ve,bitmap:new Lh({width:Ie+2*Yg,height:Qe+2*Yg},Ae),metrics:{width:Ie,height:Qe,left:vt,top:Mt,advance:Pt}})}}function A6(D,R,X){D===1?R.id=X.readVarint():D===2?R.bitmap=X.readBytes():D===3?R.width=X.readVarint():D===4?R.height=X.readVarint():D===5?R.left=X.readSVarint():D===6?R.top=X.readSVarint():D===7&&(R.advance=X.readVarint())}function M6(D){return new Ip(D).readFields(w6,[])}var ub=Yg;function fb(D){for(var R=0,X=0,ae=0,ve=D;ae<ve.length;ae+=1){var Ae=ve[ae];R+=Ae.w*Ae.h,X=Math.max(X,Ae.w)}D.sort(function(ln,en){return en.h-ln.h});for(var Ie=Math.max(Math.ceil(Math.sqrt(R/.95)),X),Qe=[{x:0,y:0,w:Ie,h:1/0}],vt=0,Mt=0,Pt=0,Wt=D;Pt<Wt.length;Pt+=1)for(var nr=Wt[Pt],qt=Qe.length-1;qt>=0;qt--){var yr=Qe[qt];if(!(nr.w>yr.w||nr.h>yr.h)){if(nr.x=yr.x,nr.y=yr.y,Mt=Math.max(Mt,nr.y+nr.h),vt=Math.max(vt,nr.x+nr.w),nr.w===yr.w&&nr.h===yr.h){var Or=Qe.pop();qt<Qe.length&&(Qe[qt]=Or)}else nr.h===yr.h?(yr.x+=nr.w,yr.w-=nr.w):nr.w===yr.w?(yr.y+=nr.h,yr.h-=nr.h):(Qe.push({x:yr.x+nr.w,y:yr.y,w:yr.w-nr.w,h:nr.h}),yr.y+=nr.h,yr.h-=nr.h);break}}return{w:vt,h:Mt,fill:R/(vt*Mt)||0}}var zs=1,kp=function(R,X){var ae=X.pixelRatio,ve=X.version,Ae=X.stretchX,Ie=X.stretchY,Qe=X.content;this.paddedRect=R,this.pixelRatio=ae,this.stretchX=Ae,this.stretchY=Ie,this.content=Qe,this.version=ve},dd={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};dd.tl.get=function(){return[this.paddedRect.x+zs,this.paddedRect.y+zs]},dd.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-zs,this.paddedRect.y+this.paddedRect.h-zs]},dd.tlbr.get=function(){return this.tl.concat(this.br)},dd.displaySize.get=function(){return[(this.paddedRect.w-zs*2)/this.pixelRatio,(this.paddedRect.h-zs*2)/this.pixelRatio]},Object.defineProperties(kp.prototype,dd);var pd=function(R,X){var ae={},ve={};this.haveRenderCallbacks=[];var Ae=[];this.addImages(R,ae,Ae),this.addImages(X,ve,Ae);var Ie=fb(Ae),Qe=Ie.w,vt=Ie.h,Mt=new As({width:Qe||1,height:vt||1});for(var Pt in R){var Wt=R[Pt],nr=ae[Pt].paddedRect;As.copy(Wt.data,Mt,{x:0,y:0},{x:nr.x+zs,y:nr.y+zs},Wt.data)}for(var qt in X){var yr=X[qt],Or=ve[qt].paddedRect,ln=Or.x+zs,en=Or.y+zs,Mn=yr.data.width,yn=yr.data.height;As.copy(yr.data,Mt,{x:0,y:0},{x:ln,y:en},yr.data),As.copy(yr.data,Mt,{x:0,y:yn-1},{x:ln,y:en-1},{width:Mn,height:1}),As.copy(yr.data,Mt,{x:0,y:0},{x:ln,y:en+yn},{width:Mn,height:1}),As.copy(yr.data,Mt,{x:Mn-1,y:0},{x:ln-1,y:en},{width:1,height:yn}),As.copy(yr.data,Mt,{x:0,y:0},{x:ln+Mn,y:en},{width:1,height:yn})}this.image=Mt,this.iconPositions=ae,this.patternPositions=ve};pd.prototype.addImages=function(R,X,ae){for(var ve in R){var Ae=R[ve],Ie={x:0,y:0,w:Ae.data.width+2*zs,h:Ae.data.height+2*zs};ae.push(Ie),X[ve]=new kp(Ie,Ae),Ae.hasRenderCallback&&this.haveRenderCallbacks.push(ve)}},pd.prototype.patchUpdatedImages=function(R,X){R.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ae in R.updatedImages)this.patchUpdatedImage(this.iconPositions[ae],R.getImage(ae),X),this.patchUpdatedImage(this.patternPositions[ae],R.getImage(ae),X)},pd.prototype.patchUpdatedImage=function(R,X,ae){if(!(!R||!X)&&R.version!==X.version){R.version=X.version;var ve=R.tl,Ae=ve[0],Ie=ve[1];ae.update(X.data,void 0,{x:Ae,y:Ie})}},Fe("ImagePosition",kp),Fe("ImageAtlas",pd);var el={horizontal:1,vertical:2,horizontalOnly:3},gd=-17;function S6(D){for(var R=0,X=D;R<X.length;R+=1){var ae=X[R];if(ae.positionedGlyphs.length!==0)return!1}return!0}var cb=57344,hb=63743,uv=function(){this.scale=1,this.fontStack="",this.imageName=null};uv.forText=function(R,X){var ae=new uv;return ae.scale=R||1,ae.fontStack=X,ae},uv.forImage=function(R){var X=new uv;return X.imageName=R,X};var Yo=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};Yo.fromFeature=function(R,X){for(var ae=new Yo,ve=0;ve<R.sections.length;ve++){var Ae=R.sections[ve];Ae.image?ae.addImageSection(Ae):ae.addTextSection(Ae,X)}return ae},Yo.prototype.length=function(){return this.text.length},Yo.prototype.getSection=function(R){return this.sections[this.sectionIndex[R]]},Yo.prototype.getSectionIndex=function(R){return this.sectionIndex[R]},Yo.prototype.getCharCode=function(R){return this.text.charCodeAt(R)},Yo.prototype.verticalizePunctuation=function(){this.text=t6(this.text)},Yo.prototype.trim=function(){for(var R=0,X=0;X<this.text.length&&nf[this.text.charCodeAt(X)];X++)R++;for(var ae=this.text.length,ve=this.text.length-1;ve>=0&&ve>=R&&nf[this.text.charCodeAt(ve)];ve--)ae--;this.text=this.text.substring(R,ae),this.sectionIndex=this.sectionIndex.slice(R,ae)},Yo.prototype.substring=function(R,X){var ae=new Yo;return ae.text=this.text.substring(R,X),ae.sectionIndex=this.sectionIndex.slice(R,X),ae.sections=this.sections,ae},Yo.prototype.toString=function(){return this.text},Yo.prototype.getMaxScale=function(){var R=this;return this.sectionIndex.reduce(function(X,ae){return Math.max(X,R.sections[ae].scale)},0)},Yo.prototype.addTextSection=function(R,X){this.text+=R.text,this.sections.push(uv.forText(R.scale,R.fontStack||X));for(var ae=this.sections.length-1,ve=0;ve<R.text.length;++ve)this.sectionIndex.push(ae)},Yo.prototype.addImageSection=function(R){var X=R.image?R.image.name:"";if(X.length===0){k("Can't add FormattedSection with an empty image.");return}var ae=this.getNextImageSectionCharCode();if(!ae){k("Reached maximum number of images "+(hb-cb+2));return}this.text+=String.fromCharCode(ae),this.sections.push(uv.forImage(X)),this.sectionIndex.push(this.sections.length-1)},Yo.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=hb?null:++this.imageSectionID:(this.imageSectionID=cb,this.imageSectionID)};function E6(D,R){for(var X=[],ae=D.text,ve=0,Ae=0,Ie=R;Ae<Ie.length;Ae+=1){var Qe=Ie[Ae];X.push(D.substring(ve,Qe)),ve=Qe}return ve<ae.length&&X.push(D.substring(ve,ae.length)),X}function Op(D,R,X,ae,ve,Ae,Ie,Qe,vt,Mt,Pt,Wt,nr,qt,yr,Or){var ln=Yo.fromFeature(D,ve);Wt===el.vertical&&ln.verticalizePunctuation();var en,Mn=Zn.processBidirectionalText,yn=Zn.processStyledBidirectionalText;if(Mn&&ln.sections.length===1){en=[];for(var An=Mn(ln.toString(),jg(ln,Mt,Ae,R,ae,qt,yr)),kn=0,Gn=An;kn<Gn.length;kn+=1){var ti=Gn[kn],$n=new Yo;$n.text=ti,$n.sections=ln.sections;for(var wi=0;wi<ti.length;wi++)$n.sectionIndex.push(0);en.push($n)}}else if(yn){en=[];for(var vi=yn(ln.text,ln.sectionIndex,jg(ln,Mt,Ae,R,ae,qt,yr)),bi=0,Ui=vi;bi<Ui.length;bi+=1){var Ti=Ui[bi],Ei=new Yo;Ei.text=Ti[0],Ei.sectionIndex=Ti[1],Ei.sections=ln.sections,en.push(Ei)}}else en=E6(ln,jg(ln,Mt,Ae,R,ae,qt,yr));var Xi=[],Ni={positionedLines:Xi,text:ln.toString(),top:Pt[1],bottom:Pt[1],left:Pt[0],right:Pt[0],writingMode:Wt,iconsInText:!1,verticalizable:!1};return P6(Ni,R,X,ae,en,Ie,Qe,vt,Wt,Mt,nr,Or),S6(Xi)?!1:Ni}var nf={};nf[9]=!0,nf[10]=!0,nf[11]=!0,nf[12]=!0,nf[13]=!0,nf[32]=!0;var Fs={};Fs[10]=!0,Fs[32]=!0,Fs[38]=!0,Fs[40]=!0,Fs[41]=!0,Fs[43]=!0,Fs[45]=!0,Fs[47]=!0,Fs[173]=!0,Fs[183]=!0,Fs[8203]=!0,Fs[8208]=!0,Fs[8211]=!0,Fs[8231]=!0;function vb(D,R,X,ae,ve,Ae){if(R.imageName){var vt=ae[R.imageName];return vt?vt.displaySize[0]*R.scale*Oo/Ae+ve:0}else{var Ie=X[R.fontStack],Qe=Ie&&Ie[D];return Qe?Qe.metrics.advance*R.scale+ve:0}}function C6(D,R,X,ae,ve,Ae){for(var Ie=0,Qe=0;Qe<D.length();Qe++){var vt=D.getSection(Qe);Ie+=vb(D.getCharCode(Qe),vt,ae,ve,R,Ae)}var Mt=Math.max(1,Math.ceil(Ie/X));return Ie/Mt}function db(D,R,X,ae){var ve=Math.pow(D-R,2);return ae?D<R?ve/2:ve*2:ve+Math.abs(X)*X}function L6(D,R,X){var ae=0;return D===10&&(ae-=1e4),X&&(ae+=150),(D===40||D===65288)&&(ae+=50),(R===41||R===65289)&&(ae+=50),ae}function pb(D,R,X,ae,ve,Ae){for(var Ie=null,Qe=db(R,X,ve,Ae),vt=0,Mt=ae;vt<Mt.length;vt+=1){var Pt=Mt[vt],Wt=R-Pt.x,nr=db(Wt,X,ve,Ae)+Pt.badness;nr<=Qe&&(Ie=Pt,Qe=nr)}return{index:D,x:R,priorBreak:Ie,badness:Qe}}function gb(D){return D?gb(D.priorBreak).concat(D.index):[]}function jg(D,R,X,ae,ve,Ae,Ie){if(Ae!=="point")return[];if(!D)return[];for(var Qe=[],vt=C6(D,R,X,ae,ve,Ie),Mt=D.text.indexOf("​")>=0,Pt=0,Wt=0;Wt<D.length();Wt++){var nr=D.getSection(Wt),qt=D.getCharCode(Wt);if(nf[qt]||(Pt+=vb(qt,nr,ae,ve,R,Ie)),Wt<D.length()-1){var yr=Jr(qt);(Fs[qt]||yr||nr.imageName)&&Qe.push(pb(Wt+1,Pt,vt,Qe,L6(qt,D.getCharCode(Wt+1),yr&&Mt),!1))}}return gb(pb(D.length(),Pt,vt,Qe,0,!0))}function Zg(D){var R=.5,X=.5;switch(D){case"right":case"top-right":case"bottom-right":R=1;break;case"left":case"top-left":case"bottom-left":R=0;break}switch(D){case"bottom":case"bottom-right":case"bottom-left":X=1;break;case"top":case"top-right":case"top-left":X=0;break}return{horizontalAlign:R,verticalAlign:X}}function P6(D,R,X,ae,ve,Ae,Ie,Qe,vt,Mt,Pt,Wt){for(var nr=0,qt=gd,yr=0,Or=0,ln=Qe==="right"?1:Qe==="left"?0:.5,en=0,Mn=0,yn=ve;Mn<yn.length;Mn+=1){var An=yn[Mn];An.trim();var kn=An.getMaxScale(),Gn=(kn-1)*Oo,ti={positionedGlyphs:[],lineOffset:0};D.positionedLines[en]=ti;var $n=ti.positionedGlyphs,wi=0;if(!An.length()){qt+=Ae,++en;continue}for(var vi=0;vi<An.length();vi++){var bi=An.getSection(vi),Ui=An.getSectionIndex(vi),Ti=An.getCharCode(vi),Ei=0,Xi=null,Ni=null,sa=null,ba=Oo,la=!(vt===el.horizontal||!Pt&&!on(Ti)||Pt&&(nf[Ti]||Zr(Ti)));if(bi.imageName){var Va=ae[bi.imageName];if(!Va)continue;sa=bi.imageName,D.iconsInText=D.iconsInText||!0,Ni=Va.paddedRect;var ja=Va.displaySize;bi.scale=bi.scale*Oo/Wt,Xi={width:ja[0],height:ja[1],left:zs,top:-ub,advance:la?ja[1]:ja[0]};var Eo=Oo-ja[1]*bi.scale;Ei=Gn+Eo,ba=Xi.advance;var co=la?ja[0]*bi.scale-Oo*kn:ja[1]*bi.scale-Oo*kn;co>0&&co>wi&&(wi=co)}else{var ua=X[bi.fontStack],ra=ua&&ua[Ti];if(ra&&ra.rect)Ni=ra.rect,Xi=ra.metrics;else{var Ea=R[bi.fontStack],La=Ea&&Ea[Ti];if(!La)continue;Xi=La.metrics}Ei=(kn-bi.scale)*Oo}la?(D.verticalizable=!0,$n.push({glyph:Ti,imageName:sa,x:nr,y:qt+Ei,vertical:la,scale:bi.scale,fontStack:bi.fontStack,sectionIndex:Ui,metrics:Xi,rect:Ni}),nr+=ba*bi.scale+Mt):($n.push({glyph:Ti,imageName:sa,x:nr,y:qt+Ei,vertical:la,scale:bi.scale,fontStack:bi.fontStack,sectionIndex:Ui,metrics:Xi,rect:Ni}),nr+=Xi.advance*bi.scale+Mt)}if($n.length!==0){var jo=nr-Mt;yr=Math.max(jo,yr),D6($n,0,$n.length-1,ln,wi)}nr=0;var Zo=Ae*kn+wi;ti.lineOffset=Math.max(wi,Gn),qt+=Zo,Or=Math.max(Zo,Or),++en}var Co=qt-gd,ls=Zg(Ie),us=ls.horizontalAlign,xo=ls.verticalAlign;R6(D.positionedLines,ln,us,xo,yr,Or,Ae,Co,ve.length),D.top+=-xo*Co,D.bottom=D.top+Co,D.left+=-us*yr,D.right=D.left+yr}function D6(D,R,X,ae,ve){if(!(!ae&&!ve))for(var Ae=D[X],Ie=Ae.metrics.advance*Ae.scale,Qe=(D[X].x+Ie)*ae,vt=R;vt<=X;vt++)D[vt].x-=Qe,D[vt].y+=ve}function R6(D,R,X,ae,ve,Ae,Ie,Qe,vt){var Mt=(R-X)*ve,Pt=0;Ae!==Ie?Pt=-Qe*ae-gd:Pt=(-ae*vt+.5)*Ie;for(var Wt=0,nr=D;Wt<nr.length;Wt+=1)for(var qt=nr[Wt],yr=0,Or=qt.positionedGlyphs;yr<Or.length;yr+=1){var ln=Or[yr];ln.x+=Mt,ln.y+=Pt}}function I6(D,R,X){var ae=Zg(X),ve=ae.horizontalAlign,Ae=ae.verticalAlign,Ie=R[0],Qe=R[1],vt=Ie-D.displaySize[0]*ve,Mt=vt+D.displaySize[0],Pt=Qe-D.displaySize[1]*Ae,Wt=Pt+D.displaySize[1];return{image:D,top:Pt,bottom:Wt,left:vt,right:Mt}}function yb(D,R,X,ae,ve,Ae){var Ie=D.image,Qe;if(Ie.content){var vt=Ie.content,Mt=Ie.pixelRatio||1;Qe=[vt[0]/Mt,vt[1]/Mt,Ie.displaySize[0]-vt[2]/Mt,Ie.displaySize[1]-vt[3]/Mt]}var Pt=R.left*Ae,Wt=R.right*Ae,nr,qt,yr,Or;X==="width"||X==="both"?(Or=ve[0]+Pt-ae[3],qt=ve[0]+Wt+ae[1]):(Or=ve[0]+(Pt+Wt-Ie.displaySize[0])/2,qt=Or+Ie.displaySize[0]);var ln=R.top*Ae,en=R.bottom*Ae;return X==="height"||X==="both"?(nr=ve[1]+ln-ae[0],yr=ve[1]+en+ae[2]):(nr=ve[1]+(ln+en-Ie.displaySize[1])/2,yr=nr+Ie.displaySize[1]),{image:Ie,top:nr,right:qt,bottom:yr,left:Or,collisionPadding:Qe}}var fv=function(D){function R(X,ae,ve,Ae){D.call(this,X,ae),this.angle=ve,Ae!==void 0&&(this.segment=Ae)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.clone=function(){return new R(this.x,this.y,this.angle,this.segment)},R}(r);Fe("Anchor",fv);var Du=128;function Kg(D,R){var X=R.expression;if(X.kind==="constant"){var ae=X.evaluate(new Ai(D+1));return{kind:"constant",layoutSize:ae}}else{if(X.kind==="source")return{kind:"source"};for(var ve=X.zoomStops,Ae=X.interpolationType,Ie=0;Ie<ve.length&&ve[Ie]<=D;)Ie++;Ie=Math.max(0,Ie-1);for(var Qe=Ie;Qe<ve.length&&ve[Qe]<D+1;)Qe++;Qe=Math.min(ve.length-1,Qe);var vt=ve[Ie],Mt=ve[Qe];if(X.kind==="composite")return{kind:"composite",minZoom:vt,maxZoom:Mt,interpolationType:Ae};var Pt=X.evaluate(new Ai(vt)),Wt=X.evaluate(new Ai(Mt));return{kind:"camera",minZoom:vt,maxZoom:Mt,minSize:Pt,maxSize:Wt,interpolationType:Ae}}}function mb(D,R,X){var ae=R.uSize,ve=R.uSizeT,Ae=X.lowerSize,Ie=X.upperSize;return D.kind==="source"?Ae/Du:D.kind==="composite"?Ra(Ae/Du,Ie/Du,ve):ae}function xb(D,R){var X=0,ae=0;if(D.kind==="constant")ae=D.layoutSize;else if(D.kind!=="source"){var ve=D.interpolationType,Ae=D.minZoom,Ie=D.maxZoom,Qe=ve?h(Oa.interpolationFactor(ve,R,Ae,Ie),0,1):0;D.kind==="camera"?ae=Ra(D.minSize,D.maxSize,Qe):X=Qe}return{uSizeT:X,uSize:ae}}var _6=Object.freeze({__proto__:null,getSizeData:Kg,evaluateSizeForFeature:mb,evaluateSizeForZoom:xb,SIZE_PACK_FACTOR:Du});function bb(D,R,X,ae,ve){if(R.segment===void 0)return!0;for(var Ae=R,Ie=R.segment+1,Qe=0;Qe>-X/2;){if(Ie--,Ie<0)return!1;Qe-=D[Ie].dist(Ae),Ae=D[Ie]}Qe+=D[Ie].dist(D[Ie+1]),Ie++;for(var vt=[],Mt=0;Qe<X/2;){var Pt=D[Ie-1],Wt=D[Ie],nr=D[Ie+1];if(!nr)return!1;var qt=Pt.angleTo(Wt)-Wt.angleTo(nr);for(qt=Math.abs((qt+3*Math.PI)%(Math.PI*2)-Math.PI),vt.push({distance:Qe,angleDelta:qt}),Mt+=qt;Qe-vt[0].distance>ae;)Mt-=vt.shift().angleDelta;if(Mt>ve)return!1;Ie++,Qe+=Wt.dist(nr)}return!0}function wb(D){for(var R=0,X=0;X<D.length-1;X++)R+=D[X].dist(D[X+1]);return R}function Tb(D,R,X){return D?.6*R*X:0}function Ab(D,R){return Math.max(D?D.right-D.left:0,R?R.right-R.left:0)}function k6(D,R,X,ae,ve,Ae){for(var Ie=Tb(X,ve,Ae),Qe=Ab(X,ae)*Ae,vt=0,Mt=wb(D)/2,Pt=0;Pt<D.length-1;Pt++){var Wt=D[Pt],nr=D[Pt+1],qt=Wt.dist(nr);if(vt+qt>Mt){var yr=(Mt-vt)/qt,Or=Ra(Wt.x,nr.x,yr),ln=Ra(Wt.y,nr.y,yr),en=new fv(Or,ln,nr.angleTo(Wt),Pt);return en._round(),!Ie||bb(D,en,Qe,Ie,R)?en:void 0}vt+=qt}}function O6(D,R,X,ae,ve,Ae,Ie,Qe,vt){var Mt=Tb(ae,Ae,Ie),Pt=Ab(ae,ve),Wt=Pt*Ie,nr=D[0].x===0||D[0].x===vt||D[0].y===0||D[0].y===vt;R-Wt<R/4&&(R=Wt+R/4);var qt=Ae*2,yr=nr?R/2*Qe%R:(Pt/2+qt)*Ie*Qe%R;return Mb(D,yr,R,Mt,X,Wt,nr,!1,vt)}function Mb(D,R,X,ae,ve,Ae,Ie,Qe,vt){for(var Mt=Ae/2,Pt=wb(D),Wt=0,nr=R-X,qt=[],yr=0;yr<D.length-1;yr++){for(var Or=D[yr],ln=D[yr+1],en=Or.dist(ln),Mn=ln.angleTo(Or);nr+X<Wt+en;){nr+=X;var yn=(nr-Wt)/en,An=Ra(Or.x,ln.x,yn),kn=Ra(Or.y,ln.y,yn);if(An>=0&&An<vt&&kn>=0&&kn<vt&&nr-Mt>=0&&nr+Mt<=Pt){var Gn=new fv(An,kn,Mn,yr);Gn._round(),(!ae||bb(D,Gn,Ae,ae,ve))&&qt.push(Gn)}}Wt+=en}return!Qe&&!qt.length&&!Ie&&(qt=Mb(D,Wt/2,X,ae,ve,Ae,Ie,!0,vt)),qt}function Sb(D,R,X,ae,ve){for(var Ae=[],Ie=0;Ie<D.length;Ie++)for(var Qe=D[Ie],vt=void 0,Mt=0;Mt<Qe.length-1;Mt++){var Pt=Qe[Mt],Wt=Qe[Mt+1];Pt.x<R&&Wt.x<R||(Pt.x<R?Pt=new r(R,Pt.y+(Wt.y-Pt.y)*((R-Pt.x)/(Wt.x-Pt.x)))._round():Wt.x<R&&(Wt=new r(R,Pt.y+(Wt.y-Pt.y)*((R-Pt.x)/(Wt.x-Pt.x)))._round()),!(Pt.y<X&&Wt.y<X)&&(Pt.y<X?Pt=new r(Pt.x+(Wt.x-Pt.x)*((X-Pt.y)/(Wt.y-Pt.y)),X)._round():Wt.y<X&&(Wt=new r(Pt.x+(Wt.x-Pt.x)*((X-Pt.y)/(Wt.y-Pt.y)),X)._round()),!(Pt.x>=ae&&Wt.x>=ae)&&(Pt.x>=ae?Pt=new r(ae,Pt.y+(Wt.y-Pt.y)*((ae-Pt.x)/(Wt.x-Pt.x)))._round():Wt.x>=ae&&(Wt=new r(ae,Pt.y+(Wt.y-Pt.y)*((ae-Pt.x)/(Wt.x-Pt.x)))._round()),!(Pt.y>=ve&&Wt.y>=ve)&&(Pt.y>=ve?Pt=new r(Pt.x+(Wt.x-Pt.x)*((ve-Pt.y)/(Wt.y-Pt.y)),ve)._round():Wt.y>=ve&&(Wt=new r(Pt.x+(Wt.x-Pt.x)*((ve-Pt.y)/(Wt.y-Pt.y)),ve)._round()),(!vt||!Pt.equals(vt[vt.length-1]))&&(vt=[Pt],Ae.push(vt)),vt.push(Wt)))))}return Ae}var cv=zs;function Eb(D,R,X,ae){var ve=[],Ae=D.image,Ie=Ae.pixelRatio,Qe=Ae.paddedRect.w-2*cv,vt=Ae.paddedRect.h-2*cv,Mt=D.right-D.left,Pt=D.bottom-D.top,Wt=Ae.stretchX||[[0,Qe]],nr=Ae.stretchY||[[0,vt]],qt=function(ua,ra){return ua+ra[1]-ra[0]},yr=Wt.reduce(qt,0),Or=nr.reduce(qt,0),ln=Qe-yr,en=vt-Or,Mn=0,yn=yr,An=0,kn=Or,Gn=0,ti=ln,$n=0,wi=en;if(Ae.content&&ae){var vi=Ae.content;Mn=zp(Wt,0,vi[0]),An=zp(nr,0,vi[1]),yn=zp(Wt,vi[0],vi[2]),kn=zp(nr,vi[1],vi[3]),Gn=vi[0]-Mn,$n=vi[1]-An,ti=vi[2]-vi[0]-yn,wi=vi[3]-vi[1]-kn}var bi=function(ua,ra,Ea,La){var Va=Fp(ua.stretch-Mn,yn,Mt,D.left),ja=Np(ua.fixed-Gn,ti,ua.stretch,yr),Eo=Fp(ra.stretch-An,kn,Pt,D.top),co=Np(ra.fixed-$n,wi,ra.stretch,Or),jo=Fp(Ea.stretch-Mn,yn,Mt,D.left),Zo=Np(Ea.fixed-Gn,ti,Ea.stretch,yr),Co=Fp(La.stretch-An,kn,Pt,D.top),ls=Np(La.fixed-$n,wi,La.stretch,Or),us=new r(Va,Eo),xo=new r(jo,Eo),fs=new r(jo,Co),tl=new r(Va,Co),Ff=new r(ja/Ie,co/Ie),Ic=new r(Zo/Ie,ls/Ie),_c=R*Math.PI/180;if(_c){var kc=Math.sin(_c),xv=Math.cos(_c),Jl=[xv,-kc,kc,xv];us._matMult(Jl),xo._matMult(Jl),tl._matMult(Jl),fs._matMult(Jl)}var Wp=ua.stretch+ua.fixed,ny=Ea.stretch+Ea.fixed,Xp=ra.stretch+ra.fixed,iy=La.stretch+La.fixed,bl={x:Ae.paddedRect.x+cv+Wp,y:Ae.paddedRect.y+cv+Xp,w:ny-Wp,h:iy-Xp},bv=ti/Ie/Mt,Yp=wi/Ie/Pt;return{tl:us,tr:xo,bl:tl,br:fs,tex:bl,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Ff,pixelOffsetBR:Ic,minFontScaleX:bv,minFontScaleY:Yp,isSDF:X}};if(!ae||!Ae.stretchX&&!Ae.stretchY)ve.push(bi({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Qe+1},{fixed:0,stretch:vt+1}));else for(var Ui=Cb(Wt,ln,yr),Ti=Cb(nr,en,Or),Ei=0;Ei<Ui.length-1;Ei++)for(var Xi=Ui[Ei],Ni=Ui[Ei+1],sa=0;sa<Ti.length-1;sa++){var ba=Ti[sa],la=Ti[sa+1];ve.push(bi(Xi,ba,Ni,la))}return ve}function zp(D,R,X){for(var ae=0,ve=0,Ae=D;ve<Ae.length;ve+=1){var Ie=Ae[ve];ae+=Math.max(R,Math.min(X,Ie[1]))-Math.max(R,Math.min(X,Ie[0]))}return ae}function Cb(D,R,X){for(var ae=[{fixed:-cv,stretch:0}],ve=0,Ae=D;ve<Ae.length;ve+=1){var Ie=Ae[ve],Qe=Ie[0],vt=Ie[1],Mt=ae[ae.length-1];ae.push({fixed:Qe-Mt.stretch,stretch:Mt.stretch}),ae.push({fixed:Qe-Mt.stretch,stretch:Mt.stretch+(vt-Qe)})}return ae.push({fixed:R+cv,stretch:X}),ae}function Fp(D,R,X,ae){return D/R*X+ae}function Np(D,R,X,ae){return D-R*X/ae}function z6(D,R,X,ae,ve,Ae,Ie,Qe){for(var vt=ae.layout.get("text-rotate").evaluate(Ae,{})*Math.PI/180,Mt=[],Pt=0,Wt=R.positionedLines;Pt<Wt.length;Pt+=1)for(var nr=Wt[Pt],qt=0,yr=nr.positionedGlyphs;qt<yr.length;qt+=1){var Or=yr[qt];if(Or.rect){var ln=Or.rect||{},en=1,Mn=ub+en,yn=!0,An=1,kn=0,Gn=(ve||Qe)&&Or.vertical,ti=Or.metrics.advance*Or.scale/2;if(Qe&&R.verticalizable){var $n=(Or.scale-1)*Oo,wi=(Oo-Or.metrics.width*Or.scale)/2;kn=nr.lineOffset/2-(Or.imageName?-wi:$n)}if(Or.imageName){var vi=Ie[Or.imageName];yn=vi.sdf,An=vi.pixelRatio,Mn=zs/An}var bi=ve?[Or.x+ti,Or.y]:[0,0],Ui=ve?[0,0]:[Or.x+ti+X[0],Or.y+X[1]-kn],Ti=[0,0];Gn&&(Ti=Ui,Ui=[0,0]);var Ei=(Or.metrics.left-Mn)*Or.scale-ti+Ui[0],Xi=(-Or.metrics.top-Mn)*Or.scale+Ui[1],Ni=Ei+ln.w*Or.scale/An,sa=Xi+ln.h*Or.scale/An,ba=new r(Ei,Xi),la=new r(Ni,Xi),ua=new r(Ei,sa),ra=new r(Ni,sa);if(Gn){var Ea=new r(-ti,ti-gd),La=-Math.PI/2,Va=Oo/2-ti,ja=Or.imageName?Va:0,Eo=new r(5-gd-Va,-ja),co=new(Function.prototype.bind.apply(r,[null].concat(Ti)));ba._rotateAround(La,Ea)._add(Eo)._add(co),la._rotateAround(La,Ea)._add(Eo)._add(co),ua._rotateAround(La,Ea)._add(Eo)._add(co),ra._rotateAround(La,Ea)._add(Eo)._add(co)}if(vt){var jo=Math.sin(vt),Zo=Math.cos(vt),Co=[Zo,-jo,jo,Zo];ba._matMult(Co),la._matMult(Co),ua._matMult(Co),ra._matMult(Co)}var ls=new r(0,0),us=new r(0,0),xo=0,fs=0;Mt.push({tl:ba,tr:la,bl:ua,br:ra,tex:ln,writingMode:R.writingMode,glyphOffset:bi,sectionIndex:Or.sectionIndex,isSDF:yn,pixelOffsetTL:ls,pixelOffsetBR:us,minFontScaleX:xo,minFontScaleY:fs})}}return Mt}var Bp=function(R,X,ae,ve,Ae,Ie,Qe,vt,Mt,Pt){if(this.boxStartIndex=R.length,Mt){var Wt=Ie.top,nr=Ie.bottom,qt=Ie.collisionPadding;qt&&(Wt-=qt[1],nr+=qt[3]);var yr=nr-Wt;yr>0&&(yr=Math.max(10,yr),this.circleDiameter=yr)}else{var Or=Ie.top*Qe-vt,ln=Ie.bottom*Qe+vt,en=Ie.left*Qe-vt,Mn=Ie.right*Qe+vt,yn=Ie.collisionPadding;if(yn&&(en-=yn[0]*Qe,Or-=yn[1]*Qe,Mn+=yn[2]*Qe,ln+=yn[3]*Qe),Pt){var An=new r(en,Or),kn=new r(Mn,Or),Gn=new r(en,ln),ti=new r(Mn,ln),$n=Pt*Math.PI/180;An._rotate($n),kn._rotate($n),Gn._rotate($n),ti._rotate($n),en=Math.min(An.x,kn.x,Gn.x,ti.x),Mn=Math.max(An.x,kn.x,Gn.x,ti.x),Or=Math.min(An.y,kn.y,Gn.y,ti.y),ln=Math.max(An.y,kn.y,Gn.y,ti.y)}R.emplaceBack(X.x,X.y,en,Or,Mn,ln,ae,ve,Ae)}this.boxEndIndex=R.length},hv=function(R,X){if(R===void 0&&(R=[]),X===void 0&&(X=F6),this.data=R,this.length=this.data.length,this.compare=X,this.length>0)for(var ae=(this.length>>1)-1;ae>=0;ae--)this._down(ae)};hv.prototype.push=function(R){this.data.push(R),this.length++,this._up(this.length-1)},hv.prototype.pop=function(){if(this.length!==0){var R=this.data[0],X=this.data.pop();return this.length--,this.length>0&&(this.data[0]=X,this._down(0)),R}},hv.prototype.peek=function(){return this.data[0]},hv.prototype._up=function(R){for(var X=this,ae=X.data,ve=X.compare,Ae=ae[R];R>0;){var Ie=R-1>>1,Qe=ae[Ie];if(ve(Ae,Qe)>=0)break;ae[R]=Qe,R=Ie}ae[R]=Ae},hv.prototype._down=function(R){for(var X=this,ae=X.data,ve=X.compare,Ae=this.length>>1,Ie=ae[R];R<Ae;){var Qe=(R<<1)+1,vt=ae[Qe],Mt=Qe+1;if(Mt<this.length&&ve(ae[Mt],vt)<0&&(Qe=Mt,vt=ae[Mt]),ve(vt,Ie)>=0)break;ae[R]=vt,R=Qe}ae[R]=Ie};function F6(D,R){return D<R?-1:D>R?1:0}function N6(D,R,X){R===void 0&&(R=1),X===void 0&&(X=!1);for(var ae=1/0,ve=1/0,Ae=-1/0,Ie=-1/0,Qe=D[0],vt=0;vt<Qe.length;vt++){var Mt=Qe[vt];(!vt||Mt.x<ae)&&(ae=Mt.x),(!vt||Mt.y<ve)&&(ve=Mt.y),(!vt||Mt.x>Ae)&&(Ae=Mt.x),(!vt||Mt.y>Ie)&&(Ie=Mt.y)}var Pt=Ae-ae,Wt=Ie-ve,nr=Math.min(Pt,Wt),qt=nr/2,yr=new hv([],B6);if(nr===0)return new r(ae,ve);for(var Or=ae;Or<Ae;Or+=nr)for(var ln=ve;ln<Ie;ln+=nr)yr.push(new vv(Or+qt,ln+qt,qt,D));for(var en=V6(D),Mn=yr.length;yr.length;){var yn=yr.pop();(yn.d>en.d||!en.d)&&(en=yn,X&&console.log("found best %d after %d probes",Math.round(1e4*yn.d)/1e4,Mn)),!(yn.max-en.d<=R)&&(qt=yn.h/2,yr.push(new vv(yn.p.x-qt,yn.p.y-qt,qt,D)),yr.push(new vv(yn.p.x+qt,yn.p.y-qt,qt,D)),yr.push(new vv(yn.p.x-qt,yn.p.y+qt,qt,D)),yr.push(new vv(yn.p.x+qt,yn.p.y+qt,qt,D)),Mn+=4)}return X&&(console.log("num probes: "+Mn),console.log("best distance: "+en.d)),en.p}function B6(D,R){return R.max-D.max}function vv(D,R,X,ae){this.p=new r(D,R),this.h=X,this.d=U6(this.p,ae),this.max=this.d+this.h*Math.SQRT2}function U6(D,R){for(var X=!1,ae=1/0,ve=0;ve<R.length;ve++)for(var Ae=R[ve],Ie=0,Qe=Ae.length,vt=Qe-1;Ie<Qe;vt=Ie++){var Mt=Ae[Ie],Pt=Ae[vt];Mt.y>D.y!=Pt.y>D.y&&D.x<(Pt.x-Mt.x)*(D.y-Mt.y)/(Pt.y-Mt.y)+Mt.x&&(X=!X),ae=Math.min(ae,_f(D,Mt,Pt))}return(X?1:-1)*Math.sqrt(ae)}function V6(D){for(var R=0,X=0,ae=0,ve=D[0],Ae=0,Ie=ve.length,Qe=Ie-1;Ae<Ie;Qe=Ae++){var vt=ve[Ae],Mt=ve[Qe],Pt=vt.x*Mt.y-Mt.x*vt.y;X+=(vt.x+Mt.x)*Pt,ae+=(vt.y+Mt.y)*Pt,R+=Pt*3}return new vv(X/R,ae/R,0,D)}var dv=7,Jg=Number.POSITIVE_INFINITY;function Lb(D,R){function X(ve,Ae){var Ie=0,Qe=0;Ae<0&&(Ae=0);var vt=Ae/Math.sqrt(2);switch(ve){case"top-right":case"top-left":Qe=vt-dv;break;case"bottom-right":case"bottom-left":Qe=-vt+dv;break;case"bottom":Qe=-Ae+dv;break;case"top":Qe=Ae-dv;break}switch(ve){case"top-right":case"bottom-right":Ie=-vt;break;case"top-left":case"bottom-left":Ie=vt;break;case"left":Ie=Ae;break;case"right":Ie=-Ae;break}return[Ie,Qe]}function ae(ve,Ae,Ie){var Qe=0,vt=0;switch(Ae=Math.abs(Ae),Ie=Math.abs(Ie),ve){case"top-right":case"top-left":case"top":vt=Ie-dv;break;case"bottom-right":case"bottom-left":case"bottom":vt=-Ie+dv;break}switch(ve){case"top-right":case"bottom-right":case"right":Qe=-Ae;break;case"top-left":case"bottom-left":case"left":Qe=Ae;break}return[Qe,vt]}return R[1]!==Jg?ae(D,R[0],R[1]):X(D,R[0])}function H6(D,R,X,ae,ve,Ae,Ie){D.createArrays();var Qe=512*D.overscaling;D.tilePixelRatio=Mi/Qe,D.compareText={},D.iconsNeedLinear=!1;var vt=D.layers[0].layout,Mt=D.layers[0]._unevaluatedLayout._values,Pt={};if(D.textSizeData.kind==="composite"){var Wt=D.textSizeData,nr=Wt.minZoom,qt=Wt.maxZoom;Pt.compositeTextSizes=[Mt["text-size"].possiblyEvaluate(new Ai(nr),Ie),Mt["text-size"].possiblyEvaluate(new Ai(qt),Ie)]}if(D.iconSizeData.kind==="composite"){var yr=D.iconSizeData,Or=yr.minZoom,ln=yr.maxZoom;Pt.compositeIconSizes=[Mt["icon-size"].possiblyEvaluate(new Ai(Or),Ie),Mt["icon-size"].possiblyEvaluate(new Ai(ln),Ie)]}Pt.layoutTextSize=Mt["text-size"].possiblyEvaluate(new Ai(D.zoom+1),Ie),Pt.layoutIconSize=Mt["icon-size"].possiblyEvaluate(new Ai(D.zoom+1),Ie),Pt.textMaxSize=Mt["text-size"].possiblyEvaluate(new Ai(18));for(var en=vt.get("text-line-height")*Oo,Mn=vt.get("text-rotation-alignment")==="map"&&vt.get("symbol-placement")!=="point",yn=vt.get("text-keep-upright"),An=vt.get("text-size"),kn=function(){var $n=ti[Gn],wi=vt.get("text-font").evaluate($n,{},Ie).join(","),vi=An.evaluate($n,{},Ie),bi=Pt.layoutTextSize.evaluate($n,{},Ie),Ui=Pt.layoutIconSize.evaluate($n,{},Ie),Ti={horizontal:{},vertical:void 0},Ei=$n.text,Xi=[0,0];if(Ei){var Ni=Ei.toString(),sa=vt.get("text-letter-spacing").evaluate($n,{},Ie)*Oo,ba=Cr(Ni)?sa:0,la=vt.get("text-anchor").evaluate($n,{},Ie),ua=vt.get("text-variable-anchor");if(!ua){var ra=vt.get("text-radial-offset").evaluate($n,{},Ie);ra?Xi=Lb(la,[ra*Oo,Jg]):Xi=vt.get("text-offset").evaluate($n,{},Ie).map(function(Ff){return Ff*Oo})}var Ea=Mn?"center":vt.get("text-justify").evaluate($n,{},Ie),La=vt.get("symbol-placement"),Va=La==="point"?vt.get("text-max-width").evaluate($n,{},Ie)*Oo:0,ja=function(){D.allowVerticalPlacement&&tr(Ni)&&(Ti.vertical=Op(Ei,R,X,ve,wi,Va,en,la,"left",ba,Xi,el.vertical,!0,La,bi,vi))};if(!Mn&&ua){for(var Eo=Ea==="auto"?ua.map(function(Ff){return Qg(Ff)}):[Ea],co=!1,jo=0;jo<Eo.length;jo++){var Zo=Eo[jo];if(!Ti.horizontal[Zo])if(co)Ti.horizontal[Zo]=Ti.horizontal[0];else{var Co=Op(Ei,R,X,ve,wi,Va,en,"center",Zo,ba,Xi,el.horizontal,!1,La,bi,vi);Co&&(Ti.horizontal[Zo]=Co,co=Co.positionedLines.length===1)}}ja()}else{Ea==="auto"&&(Ea=Qg(la));var ls=Op(Ei,R,X,ve,wi,Va,en,la,Ea,ba,Xi,el.horizontal,!1,La,bi,vi);ls&&(Ti.horizontal[Ea]=ls),ja(),tr(Ni)&&Mn&&yn&&(Ti.vertical=Op(Ei,R,X,ve,wi,Va,en,la,Ea,ba,Xi,el.vertical,!1,La,bi,vi))}}var us=void 0,xo=!1;if($n.icon&&$n.icon.name){var fs=ae[$n.icon.name];fs&&(us=I6(ve[$n.icon.name],vt.get("icon-offset").evaluate($n,{},Ie),vt.get("icon-anchor").evaluate($n,{},Ie)),xo=fs.sdf,D.sdfIcons===void 0?D.sdfIcons=fs.sdf:D.sdfIcons!==fs.sdf&&k("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(fs.pixelRatio!==D.pixelRatio||vt.get("icon-rotate").constantOr(1)!==0)&&(D.iconsNeedLinear=!0))}var tl=Db(Ti.horizontal)||Ti.vertical;D.iconsInText=tl?tl.iconsInText:!1,(tl||us)&&G6(D,$n,Ti,us,ae,Pt,bi,Ui,Xi,xo,Ie)},Gn=0,ti=D.features;Gn<ti.length;Gn+=1)kn();Ae&&D.generateCollisionDebugBuffers()}function Qg(D){switch(D){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function G6(D,R,X,ae,ve,Ae,Ie,Qe,vt,Mt,Pt){var Wt=Ae.textMaxSize.evaluate(R,{});Wt===void 0&&(Wt=Ie);var nr=D.layers[0].layout,qt=nr.get("icon-offset").evaluate(R,{},Pt),yr=Db(X.horizontal),Or=24,ln=Ie/Or,en=D.tilePixelRatio*ln,Mn=D.tilePixelRatio*Wt/Or,yn=D.tilePixelRatio*Qe,An=D.tilePixelRatio*nr.get("symbol-spacing"),kn=nr.get("text-padding")*D.tilePixelRatio,Gn=nr.get("icon-padding")*D.tilePixelRatio,ti=nr.get("text-max-angle")/180*Math.PI,$n=nr.get("text-rotation-alignment")==="map"&&nr.get("symbol-placement")!=="point",wi=nr.get("icon-rotation-alignment")==="map"&&nr.get("symbol-placement")!=="point",vi=nr.get("symbol-placement"),bi=An/2,Ui=nr.get("icon-text-fit"),Ti;ae&&Ui!=="none"&&(D.allowVerticalPlacement&&X.vertical&&(Ti=yb(ae,X.vertical,Ui,nr.get("icon-text-fit-padding"),qt,ln)),yr&&(ae=yb(ae,yr,Ui,nr.get("icon-text-fit-padding"),qt,ln)));var Ei=function(xv,Jl){Jl.x<0||Jl.x>=Mi||Jl.y<0||Jl.y>=Mi||W6(D,Jl,xv,X,ae,ve,Ti,D.layers[0],D.collisionBoxArray,R.index,R.sourceLayerIndex,D.index,en,kn,$n,vt,yn,Gn,wi,qt,R,Ae,Mt,Pt,Ie)};if(vi==="line")for(var Xi=0,Ni=Sb(R.geometry,0,0,Mi,Mi);Xi<Ni.length;Xi+=1)for(var sa=Ni[Xi],ba=O6(sa,An,ti,X.vertical||yr,ae,Or,Mn,D.overscaling,Mi),la=0,ua=ba;la<ua.length;la+=1){var ra=ua[la],Ea=yr;(!Ea||!X6(D,Ea.text,bi,ra))&&Ei(sa,ra)}else if(vi==="line-center")for(var La=0,Va=R.geometry;La<Va.length;La+=1){var ja=Va[La];if(ja.length>1){var Eo=k6(ja,ti,X.vertical||yr,ae,Or,Mn);Eo&&Ei(ja,Eo)}}else if(R.type==="Polygon")for(var co=0,jo=Vg(R.geometry,0);co<jo.length;co+=1){var Zo=jo[co],Co=N6(Zo,16);Ei(Zo[0],new fv(Co.x,Co.y,0))}else if(R.type==="LineString")for(var ls=0,us=R.geometry;ls<us.length;ls+=1){var xo=us[ls];Ei(xo,new fv(xo[0].x,xo[0].y,0))}else if(R.type==="Point")for(var fs=0,tl=R.geometry;fs<tl.length;fs+=1)for(var Ff=tl[fs],Ic=0,_c=Ff;Ic<_c.length;Ic+=1){var kc=_c[Ic];Ei([kc],new fv(kc.x,kc.y,0))}}var yd=255,Dc=yd*Du;function Pb(D,R,X,ae,ve,Ae,Ie,Qe,vt,Mt,Pt,Wt,nr,qt,yr){var Or=z6(R,X,Qe,ve,Ae,Ie,ae,D.allowVerticalPlacement),ln=D.textSizeData,en=null;ln.kind==="source"?(en=[Du*ve.layout.get("text-size").evaluate(Ie,{})],en[0]>Dc&&k(D.layerIds[0]+': Value for "text-size" is >= '+yd+'. Reduce your "text-size".')):ln.kind==="composite"&&(en=[Du*qt.compositeTextSizes[0].evaluate(Ie,{},yr),Du*qt.compositeTextSizes[1].evaluate(Ie,{},yr)],(en[0]>Dc||en[1]>Dc)&&k(D.layerIds[0]+': Value for "text-size" is >= '+yd+'. Reduce your "text-size".')),D.addSymbols(D.text,Or,en,Qe,Ae,Ie,Mt,R,vt.lineStartIndex,vt.lineLength,nr,yr);for(var Mn=0,yn=Pt;Mn<yn.length;Mn+=1){var An=yn[Mn];Wt[An]=D.text.placedSymbolArray.length-1}return Or.length*4}function Db(D){for(var R in D)return D[R];return null}function W6(D,R,X,ae,ve,Ae,Ie,Qe,vt,Mt,Pt,Wt,nr,qt,yr,Or,ln,en,Mn,yn,An,kn,Gn,ti,$n){var wi,vi=D.addToLineVertexArray(R,X),bi,Ui,Ti,Ei,Xi=0,Ni=0,sa=0,ba=0,la=-1,ua=-1,ra={},Ea=pe(""),La=0,Va=0;if(Qe._unevaluatedLayout.getValue("text-radial-offset")===void 0?(wi=Qe.layout.get("text-offset").evaluate(An,{},ti).map(function(bd){return bd*Oo}),La=wi[0],Va=wi[1]):(La=Qe.layout.get("text-radial-offset").evaluate(An,{},ti)*Oo,Va=Jg),D.allowVerticalPlacement&&ae.vertical){var ja=Qe.layout.get("text-rotate").evaluate(An,{},ti),Eo=ja+90,co=ae.vertical;Ti=new Bp(vt,R,Mt,Pt,Wt,co,nr,qt,yr,Eo),Ie&&(Ei=new Bp(vt,R,Mt,Pt,Wt,Ie,ln,en,yr,Eo))}if(ve){var jo=Qe.layout.get("icon-rotate").evaluate(An,{}),Zo=Qe.layout.get("icon-text-fit")!=="none",Co=Eb(ve,jo,Gn,Zo),ls=Ie?Eb(Ie,jo,Gn,Zo):void 0;Ui=new Bp(vt,R,Mt,Pt,Wt,ve,ln,en,!1,jo),Xi=Co.length*4;var us=D.iconSizeData,xo=null;us.kind==="source"?(xo=[Du*Qe.layout.get("icon-size").evaluate(An,{})],xo[0]>Dc&&k(D.layerIds[0]+': Value for "icon-size" is >= '+yd+'. Reduce your "icon-size".')):us.kind==="composite"&&(xo=[Du*kn.compositeIconSizes[0].evaluate(An,{},ti),Du*kn.compositeIconSizes[1].evaluate(An,{},ti)],(xo[0]>Dc||xo[1]>Dc)&&k(D.layerIds[0]+': Value for "icon-size" is >= '+yd+'. Reduce your "icon-size".')),D.addSymbols(D.icon,Co,xo,yn,Mn,An,!1,R,vi.lineStartIndex,vi.lineLength,-1,ti),la=D.icon.placedSymbolArray.length-1,ls&&(Ni=ls.length*4,D.addSymbols(D.icon,ls,xo,yn,Mn,An,el.vertical,R,vi.lineStartIndex,vi.lineLength,-1,ti),ua=D.icon.placedSymbolArray.length-1)}for(var fs in ae.horizontal){var tl=ae.horizontal[fs];if(!bi){Ea=pe(tl.text);var Ff=Qe.layout.get("text-rotate").evaluate(An,{},ti);bi=new Bp(vt,R,Mt,Pt,Wt,tl,nr,qt,yr,Ff)}var Ic=tl.positionedLines.length===1;if(sa+=Pb(D,R,tl,Ae,Qe,yr,An,Or,vi,ae.vertical?el.horizontal:el.horizontalOnly,Ic?Object.keys(ae.horizontal):[fs],ra,la,kn,ti),Ic)break}ae.vertical&&(ba+=Pb(D,R,ae.vertical,Ae,Qe,yr,An,Or,vi,el.vertical,["vertical"],ra,ua,kn,ti));var _c=bi?bi.boxStartIndex:D.collisionBoxArray.length,kc=bi?bi.boxEndIndex:D.collisionBoxArray.length,xv=Ti?Ti.boxStartIndex:D.collisionBoxArray.length,Jl=Ti?Ti.boxEndIndex:D.collisionBoxArray.length,Wp=Ui?Ui.boxStartIndex:D.collisionBoxArray.length,ny=Ui?Ui.boxEndIndex:D.collisionBoxArray.length,Xp=Ei?Ei.boxStartIndex:D.collisionBoxArray.length,iy=Ei?Ei.boxEndIndex:D.collisionBoxArray.length,bl=-1,bv=function(bd,Yb){return bd&&bd.circleDiameter?Math.max(bd.circleDiameter,Yb):Yb};bl=bv(bi,bl),bl=bv(Ti,bl),bl=bv(Ui,bl),bl=bv(Ei,bl);var Yp=bl>-1?1:0;Yp&&(bl*=$n/Oo),D.glyphOffsetArray.length>=xa.MAX_GLYPHS&&k("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),An.sortKey!==void 0&&D.addToSortKeyRanges(D.symbolInstances.length,An.sortKey),D.symbolInstances.emplaceBack(R.x,R.y,ra.right>=0?ra.right:-1,ra.center>=0?ra.center:-1,ra.left>=0?ra.left:-1,ra.vertical||-1,la,ua,Ea,_c,kc,xv,Jl,Wp,ny,Xp,iy,Mt,sa,ba,Xi,Ni,Yp,0,nr,La,Va,bl)}function X6(D,R,X,ae){var ve=D.compareText;if(!(R in ve))ve[R]=[];else for(var Ae=ve[R],Ie=Ae.length-1;Ie>=0;Ie--)if(ae.dist(Ae[Ie])<X)return!0;return ve[R].push(ae),!1}var Y6=ov.VectorTileFeature.types,j6=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Up(D,R,X,ae,ve,Ae,Ie,Qe,vt,Mt,Pt,Wt,nr){var qt=Qe?Math.min(Dc,Math.round(Qe[0])):0,yr=Qe?Math.min(Dc,Math.round(Qe[1])):0;D.emplaceBack(R,X,Math.round(ae*32),Math.round(ve*32),Ae,Ie,(qt<<1)+(vt?1:0),yr,Mt*16,Pt*16,Wt*256,nr*256)}function $g(D,R,X){D.emplaceBack(R.x,R.y,X),D.emplaceBack(R.x,R.y,X),D.emplaceBack(R.x,R.y,X),D.emplaceBack(R.x,R.y,X)}function Z6(D){for(var R=0,X=D.sections;R<X.length;R+=1){var ae=X[R];if(qr(ae.text))return!0}return!1}var pv=function(R){this.layoutVertexArray=new tf,this.indexArray=new Eu,this.programConfigurations=R,this.segments=new so,this.dynamicLayoutVertexArray=new ed,this.opacityVertexArray=new td,this.placedSymbolArray=new id};pv.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},pv.prototype.upload=function(R,X,ae,ve){this.isEmpty()||(ae&&(this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,ZA.members),this.indexBuffer=R.createIndexBuffer(this.indexArray,X),this.dynamicLayoutVertexBuffer=R.createVertexBuffer(this.dynamicLayoutVertexArray,KA.members,!0),this.opacityVertexBuffer=R.createVertexBuffer(this.opacityVertexArray,j6,!0),this.opacityVertexBuffer.itemSize=1),(ae||ve)&&this.programConfigurations.upload(R))},pv.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Fe("SymbolBuffers",pv);var md=function(R,X,ae){this.layoutVertexArray=new R,this.layoutAttributes=X,this.indexArray=new ae,this.segments=new so,this.collisionVertexArray=new xs};md.prototype.upload=function(R){this.layoutVertexBuffer=R.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=R.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=R.createVertexBuffer(this.collisionVertexArray,JA.members,!0)},md.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Fe("CollisionBuffers",md);var xa=function(R){this.collisionBoxArray=R.collisionBoxArray,this.zoom=R.zoom,this.overscaling=R.overscaling,this.layers=R.layers,this.layerIds=this.layers.map(function(vt){return vt.id}),this.index=R.index,this.pixelRatio=R.pixelRatio,this.sourceLayerIndex=R.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=tv([]),this.placementViewportMatrix=tv([]);var X=this.layers[0],ae=X._unevaluatedLayout._values;this.textSizeData=Kg(this.zoom,ae["text-size"]),this.iconSizeData=Kg(this.zoom,ae["icon-size"]);var ve=this.layers[0].layout,Ae=ve.get("symbol-sort-key"),Ie=ve.get("symbol-z-order");this.canOverlap=ve.get("text-allow-overlap")||ve.get("icon-allow-overlap")||ve.get("text-ignore-placement")||ve.get("icon-ignore-placement"),this.sortFeaturesByKey=Ie!=="viewport-y"&&Ae.constantOr(1)!==void 0;var Qe=Ie==="viewport-y"||Ie==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Qe&&this.canOverlap,ve.get("symbol-placement")==="point"&&(this.writingModes=ve.get("text-writing-mode").map(function(vt){return el[vt]})),this.stateDependentLayerIds=this.layers.filter(function(vt){return vt.isStateDependent()}).map(function(vt){return vt.id}),this.sourceID=R.sourceID};xa.prototype.createArrays=function(){this.text=new pv(new hi(this.layers,this.zoom,function(R){return/^text/.test(R)})),this.icon=new pv(new hi(this.layers,this.zoom,function(R){return/^icon/.test(R)})),this.glyphOffsetArray=new Tp,this.lineVertexArray=new pl,this.symbolInstances=new wp},xa.prototype.calculateGlyphDependencies=function(R,X,ae,ve,Ae){for(var Ie=0;Ie<R.length;Ie++)if(X[R.charCodeAt(Ie)]=!0,(ae||ve)&&Ae){var Qe=vd[R.charAt(Ie)];Qe&&(X[Qe.charCodeAt(0)]=!0)}},xa.prototype.populate=function(R,X,ae){var ve=this.layers[0],Ae=ve.layout,Ie=Ae.get("text-font"),Qe=Ae.get("text-field"),vt=Ae.get("icon-image"),Mt=(Qe.value.kind!=="constant"||Qe.value.value instanceof Ja&&!Qe.value.value.isEmpty()||Qe.value.value.toString().length>0)&&(Ie.value.kind!=="constant"||Ie.value.value.length>0),Pt=vt.value.kind!=="constant"||!!vt.value.value||Object.keys(vt.parameters).length>0,Wt=Ae.get("symbol-sort-key");if(this.features=[],!(!Mt&&!Pt)){for(var nr=X.iconDependencies,qt=X.glyphDependencies,yr=X.availableImages,Or=new Ai(this.zoom),ln=0,en=R;ln<en.length;ln+=1){var Mn=en[ln],yn=Mn.feature,An=Mn.id,kn=Mn.index,Gn=Mn.sourceLayerIndex,ti=ve._featureFilter.needGeometry,$n=Sa(yn,ti);if(ve._featureFilter.filter(Or,$n,ae)){ti||($n.geometry=ta(yn));var wi=void 0;if(Mt){var vi=ve.getValueAndResolveTokens("text-field",$n,ae,yr),bi=Ja.factory(vi);Z6(bi)&&(this.hasRTLText=!0),(!this.hasRTLText||Oi()==="unavailable"||this.hasRTLText&&Zn.isParsed())&&(wi=qA(bi,ve,$n))}var Ui=void 0;if(Pt){var Ti=ve.getValueAndResolveTokens("icon-image",$n,ae,yr);Ti instanceof To?Ui=Ti:Ui=To.fromString(Ti)}if(!(!wi&&!Ui)){var Ei=this.sortFeaturesByKey?Wt.evaluate($n,{},ae):void 0,Xi={id:An,text:wi,icon:Ui,index:kn,sourceLayerIndex:Gn,geometry:$n.geometry,properties:yn.properties,type:Y6[yn.type],sortKey:Ei};if(this.features.push(Xi),Ui&&(nr[Ui.name]=!0),wi){var Ni=Ie.evaluate($n,{},ae).join(","),sa=Ae.get("text-rotation-alignment")==="map"&&Ae.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(el.vertical)>=0;for(var ba=0,la=wi.sections;ba<la.length;ba+=1){var ua=la[ba];if(ua.image)nr[ua.image.name]=!0;else{var ra=tr(wi.toString()),Ea=ua.fontStack||Ni,La=qt[Ea]=qt[Ea]||{};this.calculateGlyphDependencies(ua.text,La,sa,this.allowVerticalPlacement,ra)}}}}}}Ae.get("symbol-placement")==="line"&&(this.features=e6(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Va,ja){return Va.sortKey-ja.sortKey})}},xa.prototype.update=function(R,X,ae){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(R,X,this.layers,ae),this.icon.programConfigurations.updatePaintArrays(R,X,this.layers,ae))},xa.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},xa.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},xa.prototype.upload=function(R){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(R),this.iconCollisionBox.upload(R)),this.text.upload(R,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(R,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},xa.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},xa.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},xa.prototype.addToLineVertexArray=function(R,X){var ae=this.lineVertexArray.length;if(R.segment!==void 0){for(var ve=R.dist(X[R.segment+1]),Ae=R.dist(X[R.segment]),Ie={},Qe=R.segment+1;Qe<X.length;Qe++)Ie[Qe]={x:X[Qe].x,y:X[Qe].y,tileUnitDistanceFromAnchor:ve},Qe<X.length-1&&(ve+=X[Qe+1].dist(X[Qe]));for(var vt=R.segment||0;vt>=0;vt--)Ie[vt]={x:X[vt].x,y:X[vt].y,tileUnitDistanceFromAnchor:Ae},vt>0&&(Ae+=X[vt-1].dist(X[vt]));for(var Mt=0;Mt<X.length;Mt++){var Pt=Ie[Mt];this.lineVertexArray.emplaceBack(Pt.x,Pt.y,Pt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ae,lineLength:this.lineVertexArray.length-ae}},xa.prototype.addSymbols=function(R,X,ae,ve,Ae,Ie,Qe,vt,Mt,Pt,Wt,nr){for(var qt=R.indexArray,yr=R.layoutVertexArray,Or=R.segments.prepareSegment(4*X.length,yr,qt,this.canOverlap?Ie.sortKey:void 0),ln=this.glyphOffsetArray.length,en=Or.vertexLength,Mn=this.allowVerticalPlacement&&Qe===el.vertical?Math.PI/2:0,yn=Ie.text&&Ie.text.sections,An=0;An<X.length;An++){var kn=X[An],Gn=kn.tl,ti=kn.tr,$n=kn.bl,wi=kn.br,vi=kn.tex,bi=kn.pixelOffsetTL,Ui=kn.pixelOffsetBR,Ti=kn.minFontScaleX,Ei=kn.minFontScaleY,Xi=kn.glyphOffset,Ni=kn.isSDF,sa=kn.sectionIndex,ba=Or.vertexLength,la=Xi[1];Up(yr,vt.x,vt.y,Gn.x,la+Gn.y,vi.x,vi.y,ae,Ni,bi.x,bi.y,Ti,Ei),Up(yr,vt.x,vt.y,ti.x,la+ti.y,vi.x+vi.w,vi.y,ae,Ni,Ui.x,bi.y,Ti,Ei),Up(yr,vt.x,vt.y,$n.x,la+$n.y,vi.x,vi.y+vi.h,ae,Ni,bi.x,Ui.y,Ti,Ei),Up(yr,vt.x,vt.y,wi.x,la+wi.y,vi.x+vi.w,vi.y+vi.h,ae,Ni,Ui.x,Ui.y,Ti,Ei),$g(R.dynamicLayoutVertexArray,vt,Mn),qt.emplaceBack(ba,ba+1,ba+2),qt.emplaceBack(ba+1,ba+2,ba+3),Or.vertexLength+=4,Or.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Xi[0]),(An===X.length-1||sa!==X[An+1].sectionIndex)&&R.programConfigurations.populatePaintArrays(yr.length,Ie,Ie.index,{},nr,yn&&yn[sa])}R.placedSymbolArray.emplaceBack(vt.x,vt.y,ln,this.glyphOffsetArray.length-ln,en,Mt,Pt,vt.segment,ae?ae[0]:0,ae?ae[1]:0,ve[0],ve[1],Qe,0,!1,0,Wt)},xa.prototype._addCollisionDebugVertex=function(R,X,ae,ve,Ae,Ie){return X.emplaceBack(0,0),R.emplaceBack(ae.x,ae.y,ve,Ae,Math.round(Ie.x),Math.round(Ie.y))},xa.prototype.addCollisionDebugVertices=function(R,X,ae,ve,Ae,Ie,Qe){var vt=Ae.segments.prepareSegment(4,Ae.layoutVertexArray,Ae.indexArray),Mt=vt.vertexLength,Pt=Ae.layoutVertexArray,Wt=Ae.collisionVertexArray,nr=Qe.anchorX,qt=Qe.anchorY;this._addCollisionDebugVertex(Pt,Wt,Ie,nr,qt,new r(R,X)),this._addCollisionDebugVertex(Pt,Wt,Ie,nr,qt,new r(ae,X)),this._addCollisionDebugVertex(Pt,Wt,Ie,nr,qt,new r(ae,ve)),this._addCollisionDebugVertex(Pt,Wt,Ie,nr,qt,new r(R,ve)),vt.vertexLength+=4;var yr=Ae.indexArray;yr.emplaceBack(Mt,Mt+1),yr.emplaceBack(Mt+1,Mt+2),yr.emplaceBack(Mt+2,Mt+3),yr.emplaceBack(Mt+3,Mt),vt.primitiveLength+=4},xa.prototype.addDebugCollisionBoxes=function(R,X,ae,ve){for(var Ae=R;Ae<X;Ae++){var Ie=this.collisionBoxArray.get(Ae),Qe=Ie.x1,vt=Ie.y1,Mt=Ie.x2,Pt=Ie.y2;this.addCollisionDebugVertices(Qe,vt,Mt,Pt,ve?this.textCollisionBox:this.iconCollisionBox,Ie.anchorPoint,ae)}},xa.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new md(Kh,ib.members,Sh),this.iconCollisionBox=new md(Kh,ib.members,Sh);for(var R=0;R<this.symbolInstances.length;R++){var X=this.symbolInstances.get(R);this.addDebugCollisionBoxes(X.textBoxStartIndex,X.textBoxEndIndex,X,!0),this.addDebugCollisionBoxes(X.verticalTextBoxStartIndex,X.verticalTextBoxEndIndex,X,!0),this.addDebugCollisionBoxes(X.iconBoxStartIndex,X.iconBoxEndIndex,X,!1),this.addDebugCollisionBoxes(X.verticalIconBoxStartIndex,X.verticalIconBoxEndIndex,X,!1)}},xa.prototype._deserializeCollisionBoxesForSymbol=function(R,X,ae,ve,Ae,Ie,Qe,vt,Mt){for(var Pt={},Wt=X;Wt<ae;Wt++){var nr=R.get(Wt);Pt.textBox={x1:nr.x1,y1:nr.y1,x2:nr.x2,y2:nr.y2,anchorPointX:nr.anchorPointX,anchorPointY:nr.anchorPointY},Pt.textFeatureIndex=nr.featureIndex;break}for(var qt=ve;qt<Ae;qt++){var yr=R.get(qt);Pt.verticalTextBox={x1:yr.x1,y1:yr.y1,x2:yr.x2,y2:yr.y2,anchorPointX:yr.anchorPointX,anchorPointY:yr.anchorPointY},Pt.verticalTextFeatureIndex=yr.featureIndex;break}for(var Or=Ie;Or<Qe;Or++){var ln=R.get(Or);Pt.iconBox={x1:ln.x1,y1:ln.y1,x2:ln.x2,y2:ln.y2,anchorPointX:ln.anchorPointX,anchorPointY:ln.anchorPointY},Pt.iconFeatureIndex=ln.featureIndex;break}for(var en=vt;en<Mt;en++){var Mn=R.get(en);Pt.verticalIconBox={x1:Mn.x1,y1:Mn.y1,x2:Mn.x2,y2:Mn.y2,anchorPointX:Mn.anchorPointX,anchorPointY:Mn.anchorPointY},Pt.verticalIconFeatureIndex=Mn.featureIndex;break}return Pt},xa.prototype.deserializeCollisionBoxes=function(R){this.collisionArrays=[];for(var X=0;X<this.symbolInstances.length;X++){var ae=this.symbolInstances.get(X);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(R,ae.textBoxStartIndex,ae.textBoxEndIndex,ae.verticalTextBoxStartIndex,ae.verticalTextBoxEndIndex,ae.iconBoxStartIndex,ae.iconBoxEndIndex,ae.verticalIconBoxStartIndex,ae.verticalIconBoxEndIndex))}},xa.prototype.hasTextData=function(){return this.text.segments.get().length>0},xa.prototype.hasIconData=function(){return this.icon.segments.get().length>0},xa.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},xa.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},xa.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},xa.prototype.addIndicesForPlacedSymbol=function(R,X){for(var ae=R.placedSymbolArray.get(X),ve=ae.vertexStartIndex+ae.numGlyphs*4,Ae=ae.vertexStartIndex;Ae<ve;Ae+=4)R.indexArray.emplaceBack(Ae,Ae+1,Ae+2),R.indexArray.emplaceBack(Ae+1,Ae+2,Ae+3)},xa.prototype.getSortedSymbolIndexes=function(R){if(this.sortedAngle===R&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var X=Math.sin(R),ae=Math.cos(R),ve=[],Ae=[],Ie=[],Qe=0;Qe<this.symbolInstances.length;++Qe){Ie.push(Qe);var vt=this.symbolInstances.get(Qe);ve.push(Math.round(X*vt.anchorX+ae*vt.anchorY)|0),Ae.push(vt.featureIndex)}return Ie.sort(function(Mt,Pt){return ve[Mt]-ve[Pt]||Ae[Pt]-Ae[Mt]}),Ie},xa.prototype.addToSortKeyRanges=function(R,X){var ae=this.sortKeyRanges[this.sortKeyRanges.length-1];ae&&ae.sortKey===X?ae.symbolInstanceEnd=R+1:this.sortKeyRanges.push({sortKey:X,symbolInstanceStart:R,symbolInstanceEnd:R+1})},xa.prototype.sortFeatures=function(R){var X=this;if(this.sortFeaturesByY&&this.sortedAngle!==R&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(R),this.sortedAngle=R,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ae=0,ve=this.symbolInstanceIndexes;ae<ve.length;ae+=1){var Ae=ve[ae],Ie=this.symbolInstances.get(Ae);this.featureSortOrder.push(Ie.featureIndex),[Ie.rightJustifiedTextSymbolIndex,Ie.centerJustifiedTextSymbolIndex,Ie.leftJustifiedTextSymbolIndex].forEach(function(Qe,vt,Mt){Qe>=0&&Mt.indexOf(Qe)===vt&&X.addIndicesForPlacedSymbol(X.text,Qe)}),Ie.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Ie.verticalPlacedTextSymbolIndex),Ie.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ie.placedIconSymbolIndex),Ie.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ie.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Fe("SymbolBucket",xa,{omit:["layers","collisionBoxArray","features","compareText"]}),xa.MAX_GLYPHS=65535,xa.addDynamicAttributes=$g;function K6(D,R){return R.replace(/{([^{}]+)}/g,function(X,ae){return ae in D?String(D[ae]):""})}var J6=new ca({"symbol-placement":new oi(Ar.layout_symbol["symbol-placement"]),"symbol-spacing":new oi(Ar.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new oi(Ar.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ci(Ar.layout_symbol["symbol-sort-key"]),"symbol-z-order":new oi(Ar.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new oi(Ar.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new oi(Ar.layout_symbol["icon-ignore-placement"]),"icon-optional":new oi(Ar.layout_symbol["icon-optional"]),"icon-rotation-alignment":new oi(Ar.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ci(Ar.layout_symbol["icon-size"]),"icon-text-fit":new oi(Ar.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new oi(Ar.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ci(Ar.layout_symbol["icon-image"]),"icon-rotate":new Ci(Ar.layout_symbol["icon-rotate"]),"icon-padding":new oi(Ar.layout_symbol["icon-padding"]),"icon-keep-upright":new oi(Ar.layout_symbol["icon-keep-upright"]),"icon-offset":new Ci(Ar.layout_symbol["icon-offset"]),"icon-anchor":new Ci(Ar.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new oi(Ar.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new oi(Ar.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new oi(Ar.layout_symbol["text-rotation-alignment"]),"text-field":new Ci(Ar.layout_symbol["text-field"]),"text-font":new Ci(Ar.layout_symbol["text-font"]),"text-size":new Ci(Ar.layout_symbol["text-size"]),"text-max-width":new Ci(Ar.layout_symbol["text-max-width"]),"text-line-height":new oi(Ar.layout_symbol["text-line-height"]),"text-letter-spacing":new Ci(Ar.layout_symbol["text-letter-spacing"]),"text-justify":new Ci(Ar.layout_symbol["text-justify"]),"text-radial-offset":new Ci(Ar.layout_symbol["text-radial-offset"]),"text-variable-anchor":new oi(Ar.layout_symbol["text-variable-anchor"]),"text-anchor":new Ci(Ar.layout_symbol["text-anchor"]),"text-max-angle":new oi(Ar.layout_symbol["text-max-angle"]),"text-writing-mode":new oi(Ar.layout_symbol["text-writing-mode"]),"text-rotate":new Ci(Ar.layout_symbol["text-rotate"]),"text-padding":new oi(Ar.layout_symbol["text-padding"]),"text-keep-upright":new oi(Ar.layout_symbol["text-keep-upright"]),"text-transform":new Ci(Ar.layout_symbol["text-transform"]),"text-offset":new Ci(Ar.layout_symbol["text-offset"]),"text-allow-overlap":new oi(Ar.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new oi(Ar.layout_symbol["text-ignore-placement"]),"text-optional":new oi(Ar.layout_symbol["text-optional"])}),Q6=new ca({"icon-opacity":new Ci(Ar.paint_symbol["icon-opacity"]),"icon-color":new Ci(Ar.paint_symbol["icon-color"]),"icon-halo-color":new Ci(Ar.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ci(Ar.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ci(Ar.paint_symbol["icon-halo-blur"]),"icon-translate":new oi(Ar.paint_symbol["icon-translate"]),"icon-translate-anchor":new oi(Ar.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ci(Ar.paint_symbol["text-opacity"]),"text-color":new Ci(Ar.paint_symbol["text-color"],{runtimeType:Pn,getOverride:function(D){return D.textColor},hasOverride:function(D){return!!D.textColor}}),"text-halo-color":new Ci(Ar.paint_symbol["text-halo-color"]),"text-halo-width":new Ci(Ar.paint_symbol["text-halo-width"]),"text-halo-blur":new Ci(Ar.paint_symbol["text-halo-blur"]),"text-translate":new oi(Ar.paint_symbol["text-translate"]),"text-translate-anchor":new oi(Ar.paint_symbol["text-translate-anchor"])}),qg={paint:Q6,layout:J6},gv=function(R){this.type=R.property.overrides?R.property.overrides.runtimeType:Vr,this.defaultValue=R};gv.prototype.evaluate=function(R){if(R.formattedSection){var X=this.defaultValue.property.overrides;if(X&&X.hasOverride(R.formattedSection))return X.getOverride(R.formattedSection)}return R.feature&&R.featureState?this.defaultValue.evaluate(R.feature,R.featureState):this.defaultValue.property.specification.default},gv.prototype.eachChild=function(R){if(!this.defaultValue.isConstant()){var X=this.defaultValue.value;R(X._styleExpression.expression)}},gv.prototype.outputDefined=function(){return!1},gv.prototype.serialize=function(){return null},Fe("FormatSectionOverride",gv,{omit:["defaultValue"]});var $6=function(D){function R(X){D.call(this,X,qg)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.recalculate=function(ae,ve){if(D.prototype.recalculate.call(this,ae,ve),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Ae=this.layout.get("text-writing-mode");if(Ae){for(var Ie=[],Qe=0,vt=Ae;Qe<vt.length;Qe+=1){var Mt=vt[Qe];Ie.indexOf(Mt)<0&&Ie.push(Mt)}this.layout._values["text-writing-mode"]=Ie}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},R.prototype.getValueAndResolveTokens=function(ae,ve,Ae,Ie){var Qe=this.layout.get(ae).evaluate(ve,{},Ae,Ie),vt=this._unevaluatedLayout._values[ae];return!vt.isDataDriven()&&!yu(vt.value)&&Qe?K6(ve.properties,Qe):Qe},R.prototype.createBucket=function(ae){return new xa(ae)},R.prototype.queryRadius=function(){return 0},R.prototype.queryIntersectsFeature=function(){return!1},R.prototype._setPaintOverrides=function(){for(var ae=0,ve=qg.paint.overridableProperties;ae<ve.length;ae+=1){var Ae=ve[ae];if(R.hasPaintOverride(this.layout,Ae)){var Ie=this.paint.get(Ae),Qe=new gv(Ie),vt=new Zs(Qe,Ie.property.specification),Mt=null;Ie.value.kind==="constant"||Ie.value.kind==="source"?Mt=new Wa("source",vt):Mt=new ys("composite",vt,Ie.value.zoomStops,Ie.value._interpolationType),this.paint._values[Ae]=new Aa(Ie.property,Mt,Ie.parameters)}}},R.prototype._handleOverridablePaintPropertyUpdate=function(ae,ve,Ae){return!this.layout||ve.isDataDriven()||Ae.isDataDriven()?!1:R.hasPaintOverride(this.layout,ae)},R.hasPaintOverride=function(ae,ve){var Ae=ae.get("text-field"),Ie=qg.paint.properties[ve],Qe=!1,vt=function(Wt){for(var nr=0,qt=Wt;nr<qt.length;nr+=1){var yr=qt[nr];if(Ie.overrides&&Ie.overrides.hasOverride(yr)){Qe=!0;return}}};if(Ae.value.kind==="constant"&&Ae.value.value instanceof Ja)vt(Ae.value.value.sections);else if(Ae.value.kind==="source"){var Mt=function(Wt){if(!Qe)if(Wt instanceof Fa&&ka(Wt.value)===pi){var nr=Wt.value;vt(nr.sections)}else Wt instanceof io?vt(Wt.sections):Wt.eachChild(Mt)},Pt=Ae.value;Pt._styleExpression&&Mt(Pt._styleExpression.expression)}return Qe},R}(Ba),q6=new ca({"background-color":new oi(Ar.paint_background["background-color"]),"background-pattern":new Vo(Ar.paint_background["background-pattern"]),"background-opacity":new oi(Ar.paint_background["background-opacity"])}),eM={paint:q6},tM=function(D){function R(X){D.call(this,X,eM)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R}(Ba),rM=new ca({"raster-opacity":new oi(Ar.paint_raster["raster-opacity"]),"raster-hue-rotate":new oi(Ar.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new oi(Ar.paint_raster["raster-brightness-min"]),"raster-brightness-max":new oi(Ar.paint_raster["raster-brightness-max"]),"raster-saturation":new oi(Ar.paint_raster["raster-saturation"]),"raster-contrast":new oi(Ar.paint_raster["raster-contrast"]),"raster-resampling":new oi(Ar.paint_raster["raster-resampling"]),"raster-fade-duration":new oi(Ar.paint_raster["raster-fade-duration"])}),nM={paint:rM},iM=function(D){function R(X){D.call(this,X,nM)}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R}(Ba);function aM(D){var R=[],X=D.id;return X===void 0&&R.push({message:"layers."+X+': missing required property "id"'}),D.render===void 0&&R.push({message:"layers."+X+': missing required method "render"'}),D.renderingMode&&D.renderingMode!=="2d"&&D.renderingMode!=="3d"&&R.push({message:"layers."+X+': property "renderingMode" must be either "2d" or "3d"'}),R}var oM=function(D){function R(X){D.call(this,X,{}),this.implementation=X}return D&&(R.__proto__=D),R.prototype=Object.create(D&&D.prototype),R.prototype.constructor=R,R.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},R.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},R.prototype.recalculate=function(){},R.prototype.updateTransitions=function(){},R.prototype.hasTransition=function(){},R.prototype.serialize=function(){},R.prototype.onAdd=function(ae){this.implementation.onAdd&&this.implementation.onAdd(ae,ae.painter.context.gl)},R.prototype.onRemove=function(ae){this.implementation.onRemove&&this.implementation.onRemove(ae,ae.painter.context.gl)},R}(Ba),sM={circle:D5,heatmap:k5,hillshade:F5,fill:uA,"fill-extrusion":DA,line:YA,symbol:$6,background:tM,raster:iM};function lM(D){return D.type==="custom"?new oM(D):new sM[D.type](D)}var Rb=a.HTMLImageElement,Ib=a.HTMLCanvasElement,_b=a.HTMLVideoElement,kb=a.ImageData,Vp=a.ImageBitmap,Ph=function(R,X,ae,ve){this.context=R,this.format=ae,this.texture=R.gl.createTexture(),this.update(X,ve)};Ph.prototype.update=function(R,X,ae){var ve=R.width,Ae=R.height,Ie=(!this.size||this.size[0]!==ve||this.size[1]!==Ae)&&!ae,Qe=this,vt=Qe.context,Mt=vt.gl;if(this.useMipmap=!!(X&&X.useMipmap),Mt.bindTexture(Mt.TEXTURE_2D,this.texture),vt.pixelStoreUnpackFlipY.set(!1),vt.pixelStoreUnpack.set(1),vt.pixelStoreUnpackPremultiplyAlpha.set(this.format===Mt.RGBA&&(!X||X.premultiply!==!1)),Ie)this.size=[ve,Ae],R instanceof Rb||R instanceof Ib||R instanceof _b||R instanceof kb||Vp&&R instanceof Vp?Mt.texImage2D(Mt.TEXTURE_2D,0,this.format,this.format,Mt.UNSIGNED_BYTE,R):Mt.texImage2D(Mt.TEXTURE_2D,0,this.format,ve,Ae,0,this.format,Mt.UNSIGNED_BYTE,R.data);else{var Pt=ae||{x:0,y:0},Wt=Pt.x,nr=Pt.y;R instanceof Rb||R instanceof Ib||R instanceof _b||R instanceof kb||Vp&&R instanceof Vp?Mt.texSubImage2D(Mt.TEXTURE_2D,0,Wt,nr,Mt.RGBA,Mt.UNSIGNED_BYTE,R):Mt.texSubImage2D(Mt.TEXTURE_2D,0,Wt,nr,ve,Ae,Mt.RGBA,Mt.UNSIGNED_BYTE,R.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Mt.generateMipmap(Mt.TEXTURE_2D)},Ph.prototype.bind=function(R,X,ae){var ve=this,Ae=ve.context,Ie=Ae.gl;Ie.bindTexture(Ie.TEXTURE_2D,this.texture),ae===Ie.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ae=Ie.LINEAR),R!==this.filter&&(Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_MAG_FILTER,R),Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_MIN_FILTER,ae||R),this.filter=R),X!==this.wrap&&(Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_WRAP_S,X),Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_WRAP_T,X),this.wrap=X)},Ph.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},Ph.prototype.destroy=function(){var R=this.context,X=R.gl;X.deleteTexture(this.texture),this.texture=null};var ey=function(R){var X=this;this._callback=R,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){X._triggered=!1,X._callback()})};ey.prototype.trigger=function(){var R=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){R._triggered=!1,R._callback()},0))},ey.prototype.remove=function(){delete this._channel,this._callback=function(){}};var yv=function(R,X,ae){this.target=R,this.parent=X,this.mapId=ae,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},P(["receive","process"],this),this.invoker=new ey(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=ee()?R:a};yv.prototype.send=function(R,X,ae,ve,Ae){var Ie=this;Ae===void 0&&(Ae=!1);var Qe=Math.round(Math.random()*1e18).toString(36).substring(0,10);ae&&(this.callbacks[Qe]=ae);var vt=ue(this.globalScope)?void 0:[];return this.target.postMessage({id:Qe,type:R,hasCallback:!!ae,targetMapId:ve,mustQueue:Ae,sourceMapId:this.mapId,data:Lt(X,vt)},vt),{cancel:function(){ae&&delete Ie.callbacks[Qe],Ie.target.postMessage({id:Qe,type:"<cancel>",targetMapId:ve,sourceMapId:Ie.mapId})}}},yv.prototype.receive=function(R){var X=R.data,ae=X.id;if(ae&&!(X.targetMapId&&this.mapId!==X.targetMapId))if(X.type==="<cancel>"){delete this.tasks[ae];var ve=this.cancelCallbacks[ae];delete this.cancelCallbacks[ae],ve&&ve()}else ee()||X.mustQueue?(this.tasks[ae]=X,this.taskQueue.push(ae),this.invoker.trigger()):this.processTask(ae,X)},yv.prototype.process=function(){if(this.taskQueue.length){var R=this.taskQueue.shift(),X=this.tasks[R];delete this.tasks[R],this.taskQueue.length&&this.invoker.trigger(),X&&this.processTask(R,X)}},yv.prototype.processTask=function(R,X){var ae=this;if(X.type==="<response>"){var ve=this.callbacks[R];delete this.callbacks[R],ve&&(X.error?ve(At(X.error)):ve(null,At(X.data)))}else{var Ae=!1,Ie=ue(this.globalScope)?void 0:[],Qe=X.hasCallback?function(nr,qt){Ae=!0,delete ae.cancelCallbacks[R],ae.target.postMessage({id:R,type:"<response>",sourceMapId:ae.mapId,error:nr?Lt(nr):null,data:Lt(qt,Ie)},Ie)}:function(nr){Ae=!0},vt=null,Mt=At(X.data);if(this.parent[X.type])vt=this.parent[X.type](X.sourceMapId,Mt,Qe);else if(this.parent.getWorkerSource){var Pt=X.type.split("."),Wt=this.parent.getWorkerSource(X.sourceMapId,Pt[0],Mt.source);vt=Wt[Pt[1]](Mt,Qe)}else Qe(new Error("Could not find function "+X.type));!Ae&&vt&&vt.cancel&&(this.cancelCallbacks[R]=vt.cancel)}},yv.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function uM(D,R,X){R=Math.pow(2,X)-R-1;var ae=Ob(D*256,R*256,X),ve=Ob((D+1)*256,(R+1)*256,X);return ae[0]+","+ae[1]+","+ve[0]+","+ve[1]}function Ob(D,R,X){var ae=2*Math.PI*6378137/256/Math.pow(2,X),ve=D*ae-2*Math.PI*6378137/2,Ae=R*ae-2*Math.PI*6378137/2;return[ve,Ae]}var uo=function(R,X){R&&(X?this.setSouthWest(R).setNorthEast(X):R.length===4?this.setSouthWest([R[0],R[1]]).setNorthEast([R[2],R[3]]):this.setSouthWest(R[0]).setNorthEast(R[1]))};uo.prototype.setNorthEast=function(R){return this._ne=R instanceof Ia?new Ia(R.lng,R.lat):Ia.convert(R),this},uo.prototype.setSouthWest=function(R){return this._sw=R instanceof Ia?new Ia(R.lng,R.lat):Ia.convert(R),this},uo.prototype.extend=function(R){var X=this._sw,ae=this._ne,ve,Ae;if(R instanceof Ia)ve=R,Ae=R;else if(R instanceof uo){if(ve=R._sw,Ae=R._ne,!ve||!Ae)return this}else{if(Array.isArray(R))if(R.length===4||R.every(Array.isArray)){var Ie=R;return this.extend(uo.convert(Ie))}else{var Qe=R;return this.extend(Ia.convert(Qe))}return this}return!X&&!ae?(this._sw=new Ia(ve.lng,ve.lat),this._ne=new Ia(Ae.lng,Ae.lat)):(X.lng=Math.min(ve.lng,X.lng),X.lat=Math.min(ve.lat,X.lat),ae.lng=Math.max(Ae.lng,ae.lng),ae.lat=Math.max(Ae.lat,ae.lat)),this},uo.prototype.getCenter=function(){return new Ia((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},uo.prototype.getSouthWest=function(){return this._sw},uo.prototype.getNorthEast=function(){return this._ne},uo.prototype.getNorthWest=function(){return new Ia(this.getWest(),this.getNorth())},uo.prototype.getSouthEast=function(){return new Ia(this.getEast(),this.getSouth())},uo.prototype.getWest=function(){return this._sw.lng},uo.prototype.getSouth=function(){return this._sw.lat},uo.prototype.getEast=function(){return this._ne.lng},uo.prototype.getNorth=function(){return this._ne.lat},uo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},uo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},uo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},uo.prototype.contains=function(R){var X=Ia.convert(R),ae=X.lng,ve=X.lat,Ae=this._sw.lat<=ve&&ve<=this._ne.lat,Ie=this._sw.lng<=ae&&ae<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Ie=this._sw.lng>=ae&&ae>=this._ne.lng),Ae&&Ie},uo.convert=function(R){return!R||R instanceof uo?R:new uo(R)};var zb=63710088e-1,Ia=function(R,X){if(isNaN(R)||isNaN(X))throw new Error("Invalid LngLat object: ("+R+", "+X+")");if(this.lng=+R,this.lat=+X,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ia.prototype.wrap=function(){return new Ia(g(this.lng,-180,180),this.lat)},Ia.prototype.toArray=function(){return[this.lng,this.lat]},Ia.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ia.prototype.distanceTo=function(R){var X=Math.PI/180,ae=this.lat*X,ve=R.lat*X,Ae=Math.sin(ae)*Math.sin(ve)+Math.cos(ae)*Math.cos(ve)*Math.cos((R.lng-this.lng)*X),Ie=zb*Math.acos(Math.min(Ae,1));return Ie},Ia.prototype.toBounds=function(R){R===void 0&&(R=0);var X=40075017,ae=360*R/X,ve=ae/Math.cos(Math.PI/180*this.lat);return new uo(new Ia(this.lng-ve,this.lat-ae),new Ia(this.lng+ve,this.lat+ae))},Ia.convert=function(R){if(R instanceof Ia)return R;if(Array.isArray(R)&&(R.length===2||R.length===3))return new Ia(Number(R[0]),Number(R[1]));if(!Array.isArray(R)&&typeof R=="object"&&R!==null)return new Ia(Number("lng"in R?R.lng:R.lon),Number(R.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Fb=2*Math.PI*zb;function Nb(D){return Fb*Math.cos(D*Math.PI/180)}function Bb(D){return(180+D)/360}function Ub(D){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D*Math.PI/360)))/360}function Vb(D,R){return D/Nb(R)}function fM(D){return D*360-180}function ty(D){var R=180-D*360;return 360/Math.PI*Math.atan(Math.exp(R*Math.PI/180))-90}function cM(D,R){return D*Nb(ty(R))}function hM(D){return 1/Math.cos(D*Math.PI/180)}var Dh=function(R,X,ae){ae===void 0&&(ae=0),this.x=+R,this.y=+X,this.z=+ae};Dh.fromLngLat=function(R,X){X===void 0&&(X=0);var ae=Ia.convert(R);return new Dh(Bb(ae.lng),Ub(ae.lat),Vb(X,ae.lat))},Dh.prototype.toLngLat=function(){return new Ia(fM(this.x),ty(this.y))},Dh.prototype.toAltitude=function(){return cM(this.z,this.y)},Dh.prototype.meterInMercatorCoordinateUnits=function(){return 1/Fb*hM(ty(this.y))};var Rh=function(R,X,ae){this.z=R,this.x=X,this.y=ae,this.key=xd(0,R,R,X,ae)};Rh.prototype.equals=function(R){return this.z===R.z&&this.x===R.x&&this.y===R.y},Rh.prototype.url=function(R,X){var ae=uM(this.x,this.y,this.z),ve=vM(this.z,this.x,this.y);return R[(this.x+this.y)%R.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(X==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ve).replace("{bbox-epsg-3857}",ae)},Rh.prototype.getTilePoint=function(R){var X=Math.pow(2,this.z);return new r((R.x*X-this.x)*Mi,(R.y*X-this.y)*Mi)},Rh.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Hb=function(R,X){this.wrap=R,this.canonical=X,this.key=xd(R,X.z,X.z,X.x,X.y)},fo=function(R,X,ae,ve,Ae){this.overscaledZ=R,this.wrap=X,this.canonical=new Rh(ae,+ve,+Ae),this.key=xd(X,R,ae,ve,Ae)};fo.prototype.equals=function(R){return this.overscaledZ===R.overscaledZ&&this.wrap===R.wrap&&this.canonical.equals(R.canonical)},fo.prototype.scaledTo=function(R){var X=this.canonical.z-R;return R>this.canonical.z?new fo(R,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new fo(R,this.wrap,R,this.canonical.x>>X,this.canonical.y>>X)},fo.prototype.calculateScaledKey=function(R,X){var ae=this.canonical.z-R;return R>this.canonical.z?xd(this.wrap*+X,R,this.canonical.z,this.canonical.x,this.canonical.y):xd(this.wrap*+X,R,R,this.canonical.x>>ae,this.canonical.y>>ae)},fo.prototype.isChildOf=function(R){if(R.wrap!==this.wrap)return!1;var X=this.canonical.z-R.canonical.z;return R.overscaledZ===0||R.overscaledZ<this.overscaledZ&&R.canonical.x===this.canonical.x>>X&&R.canonical.y===this.canonical.y>>X},fo.prototype.children=function(R){if(this.overscaledZ>=R)return[new fo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var X=this.canonical.z+1,ae=this.canonical.x*2,ve=this.canonical.y*2;return[new fo(X,this.wrap,X,ae,ve),new fo(X,this.wrap,X,ae+1,ve),new fo(X,this.wrap,X,ae,ve+1),new fo(X,this.wrap,X,ae+1,ve+1)]},fo.prototype.isLessThan=function(R){return this.wrap<R.wrap?!0:this.wrap>R.wrap?!1:this.overscaledZ<R.overscaledZ?!0:this.overscaledZ>R.overscaledZ?!1:this.canonical.x<R.canonical.x?!0:this.canonical.x>R.canonical.x?!1:this.canonical.y<R.canonical.y},fo.prototype.wrapped=function(){return new fo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},fo.prototype.unwrapTo=function(R){return new fo(this.overscaledZ,R,this.canonical.z,this.canonical.x,this.canonical.y)},fo.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},fo.prototype.toUnwrapped=function(){return new Hb(this.wrap,this.canonical)},fo.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},fo.prototype.getTilePoint=function(R){return this.canonical.getTilePoint(new Dh(R.x-this.wrap,R.y))};function xd(D,R,X,ae,ve){D*=2,D<0&&(D=D*-1-1);var Ae=1<<X;return(Ae*Ae*D+Ae*ve+ae).toString(36)+X.toString(36)+R.toString(36)}function vM(D,R,X){for(var ae="",ve,Ae=D;Ae>0;Ae--)ve=1<<Ae-1,ae+=(R&ve?1:0)+(X&ve?2:0);return ae}Fe("CanonicalTileID",Rh),Fe("OverscaledTileID",fo,{omit:["posMatrix"]});var Of=function(R,X,ae){if(this.uid=R,X.height!==X.width)throw new RangeError("DEM tiles must be square");if(ae&&ae!=="mapbox"&&ae!=="terrarium")return k('"'+ae+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=X.height;var ve=this.dim=X.height-2;this.data=new Uint32Array(X.data.buffer),this.encoding=ae||"mapbox";for(var Ae=0;Ae<ve;Ae++)this.data[this._idx(-1,Ae)]=this.data[this._idx(0,Ae)],this.data[this._idx(ve,Ae)]=this.data[this._idx(ve-1,Ae)],this.data[this._idx(Ae,-1)]=this.data[this._idx(Ae,0)],this.data[this._idx(Ae,ve)]=this.data[this._idx(Ae,ve-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ve,-1)]=this.data[this._idx(ve-1,0)],this.data[this._idx(-1,ve)]=this.data[this._idx(0,ve-1)],this.data[this._idx(ve,ve)]=this.data[this._idx(ve-1,ve-1)]};Of.prototype.get=function(R,X){var ae=new Uint8Array(this.data.buffer),ve=this._idx(R,X)*4,Ae=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return Ae(ae[ve],ae[ve+1],ae[ve+2])},Of.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Of.prototype._idx=function(R,X){if(R<-1||R>=this.dim+1||X<-1||X>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(X+1)*this.stride+(R+1)},Of.prototype._unpackMapbox=function(R,X,ae){return(R*256*256+X*256+ae)/10-1e4},Of.prototype._unpackTerrarium=function(R,X,ae){return R*256+X+ae/256-32768},Of.prototype.getPixels=function(){return new As({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Of.prototype.backfillBorder=function(R,X,ae){if(this.dim!==R.dim)throw new Error("dem dimension mismatch");var ve=X*this.dim,Ae=X*this.dim+this.dim,Ie=ae*this.dim,Qe=ae*this.dim+this.dim;switch(X){case-1:ve=Ae-1;break;case 1:Ae=ve+1;break}switch(ae){case-1:Ie=Qe-1;break;case 1:Qe=Ie+1;break}for(var vt=-X*this.dim,Mt=-ae*this.dim,Pt=Ie;Pt<Qe;Pt++)for(var Wt=ve;Wt<Ae;Wt++)this.data[this._idx(Wt,Pt)]=R.data[this._idx(Wt+vt,Pt+Mt)]},Fe("DEMData",Of);function dM(D,R){var X={};if(!R)return X;for(var ae=function(){var Ie=Ae[ve],Qe=Ie.layerIds.map(function(Wt){return R.getLayer(Wt)}).filter(Boolean);if(Qe.length!==0){Ie.layers=Qe,Ie.stateDependentLayerIds&&(Ie.stateDependentLayers=Ie.stateDependentLayerIds.map(function(Wt){return Qe.filter(function(nr){return nr.id===Wt})[0]}));for(var vt=0,Mt=Qe;vt<Mt.length;vt+=1){var Pt=Mt[vt];X[Pt.id]=Ie}}},ve=0,Ae=D;ve<Ae.length;ve+=1)ae();return X}var Hp=function(R){this._stringToNumber={},this._numberToString=[];for(var X=0;X<R.length;X++){var ae=R[X];this._stringToNumber[ae]=X,this._numberToString[X]=ae}};Hp.prototype.encode=function(R){return this._stringToNumber[R]},Hp.prototype.decode=function(R){return this._numberToString[R]};var Gp=function(R,X,ae,ve,Ae){this.type="Feature",this._vectorTileFeature=R,R._z=X,R._x=ae,R._y=ve,this.properties=R.properties,this.id=Ae},ry={geometry:{configurable:!0}};ry.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},ry.geometry.set=function(D){this._geometry=D},Gp.prototype.toJSON=function(){var R={geometry:this.geometry};for(var X in this)X==="_geometry"||X==="_vectorTileFeature"||(R[X]=this[X]);return R},Object.defineProperties(Gp.prototype,ry);var mv=function(){this.state={},this.stateChanges={},this.deletedStates={}};mv.prototype.updateState=function(R,X,ae){var ve=String(X);if(this.stateChanges[R]=this.stateChanges[R]||{},this.stateChanges[R][ve]=this.stateChanges[R][ve]||{},w(this.stateChanges[R][ve],ae),this.deletedStates[R]===null){this.deletedStates[R]={};for(var Ae in this.state[R])Ae!==ve&&(this.deletedStates[R][Ae]=null)}else{var Ie=this.deletedStates[R]&&this.deletedStates[R][ve]===null;if(Ie){this.deletedStates[R][ve]={};for(var Qe in this.state[R][ve])ae[Qe]||(this.deletedStates[R][ve][Qe]=null)}else for(var vt in ae){var Mt=this.deletedStates[R]&&this.deletedStates[R][ve]&&this.deletedStates[R][ve][vt]===null;Mt&&delete this.deletedStates[R][ve][vt]}}},mv.prototype.removeFeatureState=function(R,X,ae){var ve=this.deletedStates[R]===null;if(!ve){var Ae=String(X);if(this.deletedStates[R]=this.deletedStates[R]||{},ae&&X!==void 0)this.deletedStates[R][Ae]!==null&&(this.deletedStates[R][Ae]=this.deletedStates[R][Ae]||{},this.deletedStates[R][Ae][ae]=null);else if(X!==void 0){var Ie=this.stateChanges[R]&&this.stateChanges[R][Ae];if(Ie){this.deletedStates[R][Ae]={};for(ae in this.stateChanges[R][Ae])this.deletedStates[R][Ae][ae]=null}else this.deletedStates[R][Ae]=null}else this.deletedStates[R]=null}},mv.prototype.getState=function(R,X){var ae=String(X),ve=this.state[R]||{},Ae=this.stateChanges[R]||{},Ie=w({},ve[ae],Ae[ae]);if(this.deletedStates[R]===null)return{};if(this.deletedStates[R]){var Qe=this.deletedStates[R][X];if(Qe===null)return{};for(var vt in Qe)delete Ie[vt]}return Ie},mv.prototype.initializeTileState=function(R,X){R.setFeatureState(this.state,X)},mv.prototype.coalesceChanges=function(R,X){var ae={};for(var ve in this.stateChanges){this.state[ve]=this.state[ve]||{};var Ae={};for(var Ie in this.stateChanges[ve])this.state[ve][Ie]||(this.state[ve][Ie]={}),w(this.state[ve][Ie],this.stateChanges[ve][Ie]),Ae[Ie]=this.state[ve][Ie];ae[ve]=Ae}for(var Qe in this.deletedStates){this.state[Qe]=this.state[Qe]||{};var vt={};if(this.deletedStates[Qe]===null)for(var Mt in this.state[Qe])vt[Mt]={},this.state[Qe][Mt]={};else for(var Pt in this.deletedStates[Qe]){var Wt=this.deletedStates[Qe][Pt]===null;if(Wt)this.state[Qe][Pt]={};else for(var nr=0,qt=Object.keys(this.deletedStates[Qe][Pt]);nr<qt.length;nr+=1){var yr=qt[nr];delete this.state[Qe][Pt][yr]}vt[Pt]=this.state[Qe][Pt]}ae[Qe]=ae[Qe]||{},w(ae[Qe],vt)}if(this.stateChanges={},this.deletedStates={},Object.keys(ae).length!==0)for(var Or in R){var ln=R[Or];ln.setFeatureState(ae,X)}};var zf=function(R,X){this.tileID=R,this.x=R.canonical.x,this.y=R.canonical.y,this.z=R.canonical.z,this.grid=new Fi(Mi,16,0),this.grid3D=new Fi(Mi,16,0),this.featureIndexArray=new Mp,this.promoteId=X};zf.prototype.insert=function(R,X,ae,ve,Ae,Ie){var Qe=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ae,ve,Ae);for(var vt=Ie?this.grid3D:this.grid,Mt=0;Mt<X.length;Mt++){for(var Pt=X[Mt],Wt=[1/0,1/0,-1/0,-1/0],nr=0;nr<Pt.length;nr++){var qt=Pt[nr];Wt[0]=Math.min(Wt[0],qt.x),Wt[1]=Math.min(Wt[1],qt.y),Wt[2]=Math.max(Wt[2],qt.x),Wt[3]=Math.max(Wt[3],qt.y)}Wt[0]<Mi&&Wt[1]<Mi&&Wt[2]>=0&&Wt[3]>=0&&vt.insert(Qe,Wt[0],Wt[1],Wt[2],Wt[3])}},zf.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new ov.VectorTile(new Ip(this.rawTileData)).layers,this.sourceLayerCoder=new Hp(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},zf.prototype.query=function(R,X,ae,ve){var Ae=this;this.loadVTLayers();for(var Ie=R.params||{},Qe=Mi/R.tileSize/R.scale,vt=Qs(Ie.filter),Mt=R.queryGeometry,Pt=R.queryPadding*Qe,Wt=Wb(Mt),nr=this.grid.query(Wt.minX-Pt,Wt.minY-Pt,Wt.maxX+Pt,Wt.maxY+Pt),qt=Wb(R.cameraQueryGeometry),yr=this.grid3D.query(qt.minX-Pt,qt.minY-Pt,qt.maxX+Pt,qt.maxY+Pt,function(Gn,ti,$n,wi){return Kl(R.cameraQueryGeometry,Gn-Pt,ti-Pt,$n+Pt,wi+Pt)}),Or=0,ln=yr;Or<ln.length;Or+=1){var en=ln[Or];nr.push(en)}nr.sort(pM);for(var Mn={},yn,An=function(Gn){var ti=nr[Gn];if(ti!==yn){yn=ti;var $n=Ae.featureIndexArray.get(ti),wi=null;Ae.loadMatchingFeature(Mn,$n.bucketIndex,$n.sourceLayerIndex,$n.featureIndex,vt,Ie.layers,Ie.availableImages,X,ae,ve,function(vi,bi,Ui){return wi||(wi=ta(vi)),bi.queryIntersectsFeature(Mt,vi,Ui,wi,Ae.z,R.transform,Qe,R.pixelPosMatrix)})}},kn=0;kn<nr.length;kn++)An(kn);return Mn},zf.prototype.loadMatchingFeature=function(R,X,ae,ve,Ae,Ie,Qe,vt,Mt,Pt,Wt){var nr=this.bucketLayerIDs[X];if(!(Ie&&!F(Ie,nr))){var qt=this.sourceLayerCoder.decode(ae),yr=this.vtLayers[qt],Or=yr.feature(ve);if(Ae.needGeometry){var ln=Sa(Or,!0);if(!Ae.filter(new Ai(this.tileID.overscaledZ),ln,this.tileID.canonical))return}else if(!Ae.filter(new Ai(this.tileID.overscaledZ),Or))return;for(var en=this.getId(Or,qt),Mn=0;Mn<nr.length;Mn++){var yn=nr[Mn];if(!(Ie&&Ie.indexOf(yn)<0)){var An=vt[yn];if(An){var kn={};en!==void 0&&Pt&&(kn=Pt.getState(An.sourceLayer||"_geojsonTileLayer",en));var Gn=w({},Mt[yn]);Gn.paint=Gb(Gn.paint,An.paint,Or,kn,Qe),Gn.layout=Gb(Gn.layout,An.layout,Or,kn,Qe);var ti=!Wt||Wt(Or,An,kn);if(ti){var $n=new Gp(Or,this.z,this.x,this.y,en);$n.layer=Gn;var wi=R[yn];wi===void 0&&(wi=R[yn]=[]),wi.push({featureIndex:ve,feature:$n,intersectionZ:ti})}}}}}},zf.prototype.lookupSymbolFeatures=function(R,X,ae,ve,Ae,Ie,Qe,vt){var Mt={};this.loadVTLayers();for(var Pt=Qs(Ae),Wt=0,nr=R;Wt<nr.length;Wt+=1){var qt=nr[Wt];this.loadMatchingFeature(Mt,ae,ve,qt,Pt,Ie,Qe,vt,X)}return Mt},zf.prototype.hasLayer=function(R){for(var X=0,ae=this.bucketLayerIDs;X<ae.length;X+=1)for(var ve=ae[X],Ae=0,Ie=ve;Ae<Ie.length;Ae+=1){var Qe=Ie[Ae];if(R===Qe)return!0}return!1},zf.prototype.getId=function(R,X){var ae=R.id;if(this.promoteId){var ve=typeof this.promoteId=="string"?this.promoteId:this.promoteId[X];ae=R.properties[ve],typeof ae=="boolean"&&(ae=Number(ae))}return ae},Fe("FeatureIndex",zf,{omit:["rawTileData","sourceLayerCoder"]});function Gb(D,R,X,ae,ve){return z(D,function(Ae,Ie){var Qe=R instanceof yo?R.get(Ie):null;return Qe&&Qe.evaluate?Qe.evaluate(X,ae,ve):Qe})}function Wb(D){for(var R=1/0,X=1/0,ae=-1/0,ve=-1/0,Ae=0,Ie=D;Ae<Ie.length;Ae+=1){var Qe=Ie[Ae];R=Math.min(R,Qe.x),X=Math.min(X,Qe.y),ae=Math.max(ae,Qe.x),ve=Math.max(ve,Qe.y)}return{minX:R,minY:X,maxX:ae,maxY:ve}}function pM(D,R){return R-D}var gM=3e4,So=function(R,X){this.tileID=R,this.uid=x(),this.uses=0,this.tileSize=X,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};So.prototype.registerFadeDuration=function(R){var X=R+this.timeAdded;X<se.now()||this.fadeEndTime&&X<this.fadeEndTime||(this.fadeEndTime=X)},So.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},So.prototype.loadVectorData=function(R,X,ae){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!R){this.collisionBoxArray=new nd;return}R.featureIndex&&(this.latestFeatureIndex=R.featureIndex,R.rawTileData?(this.latestRawTileData=R.rawTileData,this.latestFeatureIndex.rawTileData=R.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=R.collisionBoxArray,this.buckets=dM(R.buckets,X.style),this.hasSymbolBuckets=!1;for(var ve in this.buckets){var Ae=this.buckets[ve];if(Ae instanceof xa)if(this.hasSymbolBuckets=!0,ae)Ae.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Ie in this.buckets){var Qe=this.buckets[Ie];if(Qe instanceof xa&&Qe.hasRTLText){this.hasRTLText=!0,Hi();break}}this.queryPadding=0;for(var vt in this.buckets){var Mt=this.buckets[vt];this.queryPadding=Math.max(this.queryPadding,X.style.getLayer(vt).queryRadius(Mt))}R.imageAtlas&&(this.imageAtlas=R.imageAtlas),R.glyphAtlasImage&&(this.glyphAtlasImage=R.glyphAtlasImage)},So.prototype.unloadVectorData=function(){for(var R in this.buckets)this.buckets[R].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},So.prototype.getBucket=function(R){return this.buckets[R.id]},So.prototype.upload=function(R){for(var X in this.buckets){var ae=this.buckets[X];ae.uploadPending()&&ae.upload(R)}var ve=R.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ph(R,this.imageAtlas.image,ve.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ph(R,this.glyphAtlasImage,ve.ALPHA),this.glyphAtlasImage=null)},So.prototype.prepare=function(R){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(R,this.imageAtlasTexture)},So.prototype.queryRenderedFeatures=function(R,X,ae,ve,Ae,Ie,Qe,vt,Mt,Pt){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:ve,cameraQueryGeometry:Ae,scale:Ie,tileSize:this.tileSize,pixelPosMatrix:Pt,transform:vt,params:Qe,queryPadding:this.queryPadding*Mt},R,X,ae)},So.prototype.querySourceFeatures=function(R,X){var ae=this.latestFeatureIndex;if(!(!ae||!ae.rawTileData)){var ve=ae.loadVTLayers(),Ae=X?X.sourceLayer:"",Ie=ve._geojsonTileLayer||ve[Ae];if(Ie)for(var Qe=Qs(X&&X.filter),vt=this.tileID.canonical,Mt=vt.z,Pt=vt.x,Wt=vt.y,nr={z:Mt,x:Pt,y:Wt},qt=0;qt<Ie.length;qt++){var yr=Ie.feature(qt);if(Qe.needGeometry){var Or=Sa(yr,!0);if(!Qe.filter(new Ai(this.tileID.overscaledZ),Or,this.tileID.canonical))continue}else if(!Qe.filter(new Ai(this.tileID.overscaledZ),yr))continue;var ln=ae.getId(yr,Ae),en=new Gp(yr,Mt,Pt,Wt,ln);en.tile=nr,R.push(en)}}},So.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},So.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},So.prototype.setExpiryData=function(R){var X=this.expirationTime;if(R.cacheControl){var ae=te(R.cacheControl);ae["max-age"]&&(this.expirationTime=Date.now()+ae["max-age"]*1e3)}else R.expires&&(this.expirationTime=new Date(R.expires).getTime());if(this.expirationTime){var ve=Date.now(),Ae=!1;if(this.expirationTime>ve)Ae=!1;else if(!X)Ae=!0;else if(this.expirationTime<X)Ae=!0;else{var Ie=this.expirationTime-X;Ie?this.expirationTime=ve+Math.max(Ie,gM):Ae=!0}Ae?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},So.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},So.prototype.setFeatureState=function(R,X){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(R).length===0)){var ae=this.latestFeatureIndex.loadVTLayers();for(var ve in this.buckets)if(X.style.hasLayer(ve)){var Ae=this.buckets[ve],Ie=Ae.layers[0].sourceLayer||"_geojsonTileLayer",Qe=ae[Ie],vt=R[Ie];if(!(!Qe||!vt||Object.keys(vt).length===0)){Ae.update(vt,Qe,this.imageAtlas&&this.imageAtlas.patternPositions||{});var Mt=X&&X.style&&X.style.getLayer(ve);Mt&&(this.queryPadding=Math.max(this.queryPadding,Mt.queryRadius(Ae)))}}}},So.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},So.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<se.now()},So.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},So.prototype.setHoldDuration=function(R){this.symbolFadeHoldUntil=se.now()+R},So.prototype.setDependencies=function(R,X){for(var ae={},ve=0,Ae=X;ve<Ae.length;ve+=1){var Ie=Ae[ve];ae[Ie]=!0}this.dependencies[R]=ae},So.prototype.hasDependency=function(R,X){for(var ae=0,ve=R;ae<ve.length;ae+=1){var Ae=ve[ae],Ie=this.dependencies[Ae];if(Ie)for(var Qe=0,vt=X;Qe<vt.length;Qe+=1){var Mt=vt[Qe];if(Ie[Mt])return!0}}return!1};var yM=["type","source","source-layer","minzoom","maxzoom","filter","layout"],Rc=a.performance,Xb=function(R){this._marks={start:[R.url,"start"].join("#"),end:[R.url,"end"].join("#"),measure:R.url.toString()},Rc.mark(this._marks.start)};Xb.prototype.finish=function(){Rc.mark(this._marks.end);var R=Rc.getEntriesByName(this._marks.measure);return R.length===0&&(Rc.measure(this._marks.measure,this._marks.start,this._marks.end),R=Rc.getEntriesByName(this._marks.measure),Rc.clearMarks(this._marks.start),Rc.clearMarks(this._marks.end),Rc.clearMeasures(this._marks.measure)),R},i.Actor=yv,i.AlphaImage=Lh,i.CanonicalTileID=Rh,i.CollisionBoxArray=nd,i.Color=ea,i.DEMData=Of,i.DataConstantProperty=oi,i.DictionaryCoder=Hp,i.EXTENT=Mi,i.ErrorEvent=Ft,i.EvaluationParameters=Ai,i.Event=rr,i.Evented=cr,i.FeatureIndex=zf,i.FillBucket=Lu,i.FillExtrusionBucket=Pu,i.ImageAtlas=pd,i.ImagePosition=kp,i.LineBucket=ss,i.LngLat=Ia,i.LngLatBounds=uo,i.MercatorCoordinate=Dh,i.ONE_EM=Oo,i.OverscaledTileID=fo,i.Point=r,i.Point$1=r,i.Properties=ca,i.Protobuf=Ip,i.RGBAImage=As,i.RequestManager=Ve,i.RequestPerformance=Xb,i.ResourceType=gr,i.SegmentVector=so,i.SourceFeatureState=mv,i.StructArrayLayout1ui2=Ac,i.StructArrayLayout2f1f2i16=Su,i.StructArrayLayout2i4=Df,i.StructArrayLayout3ui6=Eu,i.StructArrayLayout4i8=qv,i.SymbolBucket=xa,i.Texture=Ph,i.Tile=So,i.Transitionable=aa,i.Uniform1f=Yr,i.Uniform1i=kr,i.Uniform2f=Xr,i.Uniform3f=Hr,i.Uniform4f=Kr,i.UniformColor=fn,i.UniformMatrix4f=Fn,i.UnwrappedTileID=Hb,i.ValidationError=Fr,i.WritingMode=el,i.ZoomHistory=Ht,i.add=nv,i.addDynamicAttributes=$g,i.asyncAll=c,i.bezier=l,i.bindAll=P,i.browser=se,i.cacheEntryPossiblyAdded=_t,i.clamp=h,i.clearTileCache=wr,i.clipLine=Sb,i.clone=ev,i.clone$1=V,i.clone$2=Ig,i.collisionCircleLayout=QA,i.config=ie,i.create=qh,i.create$1=Xo,i.create$2=$h,i.createCommonjsModule=S,i.createExpression=Ks,i.createLayout=Da,i.createStyleLayer=lM,i.cross=w5,i.deepEqual=n,i.dot=b5,i.dot$1=E5,i.ease=m,i.emitValidationErrors=Ii,i.endsWith=T,i.enforceCacheSizeLimit=Qt,i.evaluateSizeForFeature=mb,i.evaluateSizeForZoom=xb,i.evaluateVariableOffset=Lb,i.evented=Si,i.extend=w,i.featureFilter=Qs,i.filterObject=_,i.fromRotation=Ec,i.getAnchorAlignment=Zg,i.getAnchorJustification=Qg,i.getArrayBuffer=Ut,i.getImage=kt,i.getJSON=Dt,i.getRTLTextPluginStatus=Oi,i.getReferrer=yt,i.getVideo=Zt,i.identity=tv,i.invert=Cc,i.isChar=Gt,i.isMapboxURL=Ue,i.keysDifference=d,i.makeRequest=Rt,i.mapObject=z,i.mercatorXfromLng=Bb,i.mercatorYfromLat=Ub,i.mercatorZfromAltitude=Vb,i.mul=Rg,i.multiply=Lc,i.mvt=ov,i.nextPowerOfTwo=M,i.normalize=od,i.number=Ra,i.offscreenCanvasSupported=Jt,i.ortho=Dg,i.parseGlyphPBF=M6,i.pbf=Ip,i.performSymbolLayout=H6,i.perspective=ad,i.pick=A,i.plugin=Zn,i.polygonIntersectsPolygon=Wi,i.postMapLoadEvent=Ge,i.postTurnstileEvent=Ye,i.potpack=fb,i.refProperties=yM,i.register=Fe,i.registerForPluginStateChange=ia,i.renderColorRamp=Hx,i.rotate=Eh,i.rotateX=Ts,i.rotateZ=rv,i.scale=ws,i.scale$1=S5,i.scale$2=kg,i.setCacheLimits=xt,i.setRTLTextPlugin=Na,i.sphericalToCartesian=j,i.sqrLen=P5,i.styleSpec=Ar,i.sub=A5,i.symbolSize=_6,i.transformMat3=T5,i.transformMat4=Ep,i.translate=Ya,i.triggerPluginCompletionEvent=fi,i.uniqueId=x,i.validateCustomStyleLayer=aM,i.validateLight=Yn,i.validateStyle=Rn,i.values=o,i.vectorTile=ov,i.version=b,i.warnOnce=k,i.webpSupported=ce,i.window=a,i.wrap=g}),L(["./shared"],function(i){function S(yt){var at=typeof yt;if(at==="number"||at==="boolean"||at==="string"||yt===void 0||yt===null)return JSON.stringify(yt);if(Array.isArray(yt)){for(var wt="[",Et=0,Rt=yt;Et<Rt.length;Et+=1){var Dt=Rt[Et];wt+=S(Dt)+","}return wt+"]"}for(var Ut=Object.keys(yt).sort(),Nt="{",Kt=0;Kt<Ut.length;Kt++)Nt+=JSON.stringify(Ut[Kt])+":"+S(yt[Ut[Kt]])+",";return Nt+"}"}function b(yt){for(var at="",wt=0,Et=i.refProperties;wt<Et.length;wt+=1){var Rt=Et[wt];at+="/"+S(yt[Rt])}return at}function v(yt,at){for(var wt={},Et=0;Et<yt.length;Et++){var Rt=at&&at[yt[Et].id]||b(yt[Et]);at&&(at[yt[Et].id]=Rt);var Dt=wt[Rt];Dt||(Dt=wt[Rt]=[]),Dt.push(yt[Et])}var Ut=[];for(var Nt in wt)Ut.push(wt[Nt]);return Ut}var p=function(at){this.keyCache={},at&&this.replace(at)};p.prototype.replace=function(at){this._layerConfigs={},this._layers={},this.update(at,[])},p.prototype.update=function(at,wt){for(var Et=this,Rt=0,Dt=at;Rt<Dt.length;Rt+=1){var Ut=Dt[Rt];this._layerConfigs[Ut.id]=Ut;var Nt=this._layers[Ut.id]=i.createStyleLayer(Ut);Nt._featureFilter=i.featureFilter(Nt.filter),this.keyCache[Ut.id]&&delete this.keyCache[Ut.id]}for(var Kt=0,ur=wt;Kt<ur.length;Kt+=1){var fr=ur[Kt];delete this.keyCache[fr],delete this._layerConfigs[fr],delete this._layers[fr]}this.familiesBySource={};for(var vr=v(i.values(this._layerConfigs),this.keyCache),We=0,He=vr;We<He.length;We+=1){var zt=He[We],kt=zt.map(function(cr){return Et._layers[cr.id]}),Zt=kt[0];if(Zt.visibility!=="none"){var er=Zt.source||"",lr=this.familiesBySource[er];lr||(lr=this.familiesBySource[er]={});var rr=Zt.sourceLayer||"_geojsonTileLayer",Ft=lr[rr];Ft||(Ft=lr[rr]=[]),Ft.push(kt)}}};var r=1,t=function(at){var wt={},Et=[];for(var Rt in at){var Dt=at[Rt],Ut=wt[Rt]={};for(var Nt in Dt){var Kt=Dt[+Nt];if(!(!Kt||Kt.bitmap.width===0||Kt.bitmap.height===0)){var ur={x:0,y:0,w:Kt.bitmap.width+2*r,h:Kt.bitmap.height+2*r};Et.push(ur),Ut[Nt]={rect:ur,metrics:Kt.metrics}}}}var fr=i.potpack(Et),vr=fr.w,We=fr.h,He=new i.AlphaImage({width:vr||1,height:We||1});for(var zt in at){var kt=at[zt];for(var Zt in kt){var er=kt[+Zt];if(!(!er||er.bitmap.width===0||er.bitmap.height===0)){var lr=wt[zt][Zt].rect;i.AlphaImage.copy(er.bitmap,He,{x:0,y:0},{x:lr.x+r,y:lr.y+r},er.bitmap)}}}this.image=He,this.positions=wt};i.register("GlyphAtlas",t);var a=function(at){this.tileID=new i.OverscaledTileID(at.tileID.overscaledZ,at.tileID.wrap,at.tileID.canonical.z,at.tileID.canonical.x,at.tileID.canonical.y),this.uid=at.uid,this.zoom=at.zoom,this.pixelRatio=at.pixelRatio,this.tileSize=at.tileSize,this.source=at.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=at.showCollisionBoxes,this.collectResourceTiming=!!at.collectResourceTiming,this.returnDependencies=!!at.returnDependencies,this.promoteId=at.promoteId};a.prototype.parse=function(at,wt,Et,Rt,Dt){var Ut=this;this.status="parsing",this.data=at,this.collisionBoxArray=new i.CollisionBoxArray;var Nt=new i.DictionaryCoder(Object.keys(at.layers).sort()),Kt=new i.FeatureIndex(this.tileID,this.promoteId);Kt.bucketLayerIDs=[];var ur={},fr={featureIndex:Kt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Et},vr=wt.familiesBySource[this.source];for(var We in vr){var He=at.layers[We];if(He){He.version===1&&i.warnOnce('Vector tile source "'+this.source+'" layer "'+We+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var zt=Nt.encode(We),kt=[],Zt=0;Zt<He.length;Zt++){var er=He.feature(Zt),lr=Kt.getId(er,We);kt.push({feature:er,id:lr,index:Zt,sourceLayerIndex:zt})}for(var rr=0,Ft=vr[We];rr<Ft.length;rr+=1){var cr=Ft[rr],pr=cr[0];if(!(pr.minzoom&&this.zoom<Math.floor(pr.minzoom))&&!(pr.maxzoom&&this.zoom>=pr.maxzoom)&&pr.visibility!=="none"){n(cr,this.zoom,Et);var mr=ur[pr.id]=pr.createBucket({index:Kt.bucketLayerIDs.length,layers:cr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:zt,sourceID:this.source});mr.populate(kt,fr,this.tileID.canonical),Kt.bucketLayerIDs.push(cr.map(function(Tr){return Tr.id}))}}}}var hr,Gr,Dr,Ir,cn=i.mapObject(fr.glyphDependencies,function(Tr){return Object.keys(Tr).map(Number)});Object.keys(cn).length?Rt.send("getGlyphs",{uid:this.uid,stacks:cn},function(Tr,Lr){hr||(hr=Tr,Gr=Lr,Sn.call(Ut))}):Gr={};var rn=Object.keys(fr.iconDependencies);rn.length?Rt.send("getImages",{icons:rn,source:this.source,tileID:this.tileID,type:"icons"},function(Tr,Lr){hr||(hr=Tr,Dr=Lr,Sn.call(Ut))}):Dr={};var Cn=Object.keys(fr.patternDependencies);Cn.length?Rt.send("getImages",{icons:Cn,source:this.source,tileID:this.tileID,type:"patterns"},function(Tr,Lr){hr||(hr=Tr,Ir=Lr,Sn.call(Ut))}):Ir={},Sn.call(this);function Sn(){if(hr)return Dt(hr);if(Gr&&Dr&&Ir){var Tr=new t(Gr),Lr=new i.ImageAtlas(Dr,Ir);for(var Wr in ur){var Ur=ur[Wr];Ur instanceof i.SymbolBucket?(n(Ur.layers,this.zoom,Et),i.performSymbolLayout(Ur,Gr,Tr.positions,Dr,Lr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Ur.hasPattern&&(Ur instanceof i.LineBucket||Ur instanceof i.FillBucket||Ur instanceof i.FillExtrusionBucket)&&(n(Ur.layers,this.zoom,Et),Ur.addFeatures(fr,this.tileID.canonical,Lr.patternPositions))}this.status="done",Dt(null,{buckets:i.values(ur).filter(function(an){return!an.isEmpty()}),featureIndex:Kt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Tr.image,imageAtlas:Lr,glyphMap:this.returnDependencies?Gr:null,iconMap:this.returnDependencies?Dr:null,glyphPositions:this.returnDependencies?Tr.positions:null})}}};function n(yt,at,wt){for(var Et=new i.EvaluationParameters(at),Rt=0,Dt=yt;Rt<Dt.length;Rt+=1){var Ut=Dt[Rt];Ut.recalculate(Et,wt)}}function u(yt,at){var wt=i.getArrayBuffer(yt.request,function(Et,Rt,Dt,Ut){Et?at(Et):Rt&&at(null,{vectorTile:new i.vectorTile.VectorTile(new i.pbf(Rt)),rawData:Rt,cacheControl:Dt,expires:Ut})});return function(){wt.cancel(),at()}}var s=function(at,wt,Et,Rt){this.actor=at,this.layerIndex=wt,this.availableImages=Et,this.loadVectorData=Rt||u,this.loading={},this.loaded={}};s.prototype.loadTile=function(at,wt){var Et=this,Rt=at.uid;this.loading||(this.loading={});var Dt=at&&at.request&&at.request.collectResourceTiming?new i.RequestPerformance(at.request):!1,Ut=this.loading[Rt]=new a(at);Ut.abort=this.loadVectorData(at,function(Nt,Kt){if(delete Et.loading[Rt],Nt||!Kt)return Ut.status="done",Et.loaded[Rt]=Ut,wt(Nt);var ur=Kt.rawData,fr={};Kt.expires&&(fr.expires=Kt.expires),Kt.cacheControl&&(fr.cacheControl=Kt.cacheControl);var vr={};if(Dt){var We=Dt.finish();We&&(vr.resourceTiming=JSON.parse(JSON.stringify(We)))}Ut.vectorTile=Kt.vectorTile,Ut.parse(Kt.vectorTile,Et.layerIndex,Et.availableImages,Et.actor,function(He,zt){if(He||!zt)return wt(He);wt(null,i.extend({rawTileData:ur.slice(0)},zt,fr,vr))}),Et.loaded=Et.loaded||{},Et.loaded[Rt]=Ut})},s.prototype.reloadTile=function(at,wt){var Et=this,Rt=this.loaded,Dt=at.uid,Ut=this;if(Rt&&Rt[Dt]){var Nt=Rt[Dt];Nt.showCollisionBoxes=at.showCollisionBoxes;var Kt=function(ur,fr){var vr=Nt.reloadCallback;vr&&(delete Nt.reloadCallback,Nt.parse(Nt.vectorTile,Ut.layerIndex,Et.availableImages,Ut.actor,vr)),wt(ur,fr)};Nt.status==="parsing"?Nt.reloadCallback=Kt:Nt.status==="done"&&(Nt.vectorTile?Nt.parse(Nt.vectorTile,this.layerIndex,this.availableImages,this.actor,Kt):Kt())}},s.prototype.abortTile=function(at,wt){var Et=this.loading,Rt=at.uid;Et&&Et[Rt]&&Et[Rt].abort&&(Et[Rt].abort(),delete Et[Rt]),wt()},s.prototype.removeTile=function(at,wt){var Et=this.loaded,Rt=at.uid;Et&&Et[Rt]&&delete Et[Rt],wt()};var l=i.window.ImageBitmap,m=function(){this.loaded={}};m.prototype.loadTile=function(at,wt){var Et=at.uid,Rt=at.encoding,Dt=at.rawImageData,Ut=l&&Dt instanceof l?this.getImageData(Dt):Dt,Nt=new i.DEMData(Et,Ut,Rt);this.loaded=this.loaded||{},this.loaded[Et]=Nt,wt(null,Nt)},m.prototype.getImageData=function(at){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(at.width,at.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=at.width,this.offscreenCanvas.height=at.height,this.offscreenCanvasContext.drawImage(at,0,0,at.width,at.height);var wt=this.offscreenCanvasContext.getImageData(-1,-1,at.width+2,at.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new i.RGBAImage({width:wt.width,height:wt.height},wt.data)},m.prototype.removeTile=function(at){var wt=this.loaded,Et=at.uid;wt&&wt[Et]&&delete wt[Et]};var h=g;function g(yt,at){var wt=yt&&yt.type,Et;if(wt==="FeatureCollection")for(Et=0;Et<yt.features.length;Et++)g(yt.features[Et],at);else if(wt==="GeometryCollection")for(Et=0;Et<yt.geometries.length;Et++)g(yt.geometries[Et],at);else if(wt==="Feature")g(yt.geometry,at);else if(wt==="Polygon")c(yt.coordinates,at);else if(wt==="MultiPolygon")for(Et=0;Et<yt.coordinates.length;Et++)c(yt.coordinates[Et],at);return yt}function c(yt,at){if(yt.length!==0){o(yt[0],at);for(var wt=1;wt<yt.length;wt++)o(yt[wt],!at)}}function o(yt,at){for(var wt=0,Et=0,Rt=yt.length,Dt=Rt-1;Et<Rt;Dt=Et++)wt+=(yt[Et][0]-yt[Dt][0])*(yt[Dt][1]+yt[Et][1]);wt>=0!=!!at&&yt.reverse()}var d=i.vectorTile.VectorTileFeature.prototype.toGeoJSON,w=function(at){this._feature=at,this.extent=i.EXTENT,this.type=at.type,this.properties=at.tags,"id"in at&&!isNaN(at.id)&&(this.id=parseInt(at.id,10))};w.prototype.loadGeometry=function(){if(this._feature.type===1){for(var at=[],wt=0,Et=this._feature.geometry;wt<Et.length;wt+=1){var Rt=Et[wt];at.push([new i.Point$1(Rt[0],Rt[1])])}return at}else{for(var Dt=[],Ut=0,Nt=this._feature.geometry;Ut<Nt.length;Ut+=1){for(var Kt=Nt[Ut],ur=[],fr=0,vr=Kt;fr<vr.length;fr+=1){var We=vr[fr];ur.push(new i.Point$1(We[0],We[1]))}Dt.push(ur)}return Dt}},w.prototype.toGeoJSON=function(at,wt,Et){return d.call(this,at,wt,Et)};var A=function(at){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.EXTENT,this.length=at.length,this._features=at};A.prototype.feature=function(at){return new w(this._features[at])};var C=i.vectorTile.VectorTileFeature,x=E;function E(yt,at){this.options=at||{},this.features=yt,this.length=yt.length}E.prototype.feature=function(yt){return new M(this.features[yt],this.options.extent)};function M(yt,at){this.id=typeof yt.id=="number"?yt.id:void 0,this.type=yt.type,this.rawGeometry=yt.type===1?[yt.geometry]:yt.geometry,this.properties=yt.tags,this.extent=at||4096}M.prototype.loadGeometry=function(){var yt=this.rawGeometry;this.geometry=[];for(var at=0;at<yt.length;at++){for(var wt=yt[at],Et=[],Rt=0;Rt<wt.length;Rt++)Et.push(new i.Point$1(wt[Rt][0],wt[Rt][1]));this.geometry.push(Et)}return this.geometry},M.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var yt=this.geometry,at=1/0,wt=-1/0,Et=1/0,Rt=-1/0,Dt=0;Dt<yt.length;Dt++)for(var Ut=yt[Dt],Nt=0;Nt<Ut.length;Nt++){var Kt=Ut[Nt];at=Math.min(at,Kt.x),wt=Math.max(wt,Kt.x),Et=Math.min(Et,Kt.y),Rt=Math.max(Rt,Kt.y)}return[at,Et,wt,Rt]},M.prototype.toGeoJSON=C.prototype.toGeoJSON;var f=_,P=_,T=V,z=x;function _(yt){var at=new i.pbf;return F(yt,at),at.finish()}function V(yt,at){at=at||{};var wt={};for(var Et in yt)wt[Et]=new x(yt[Et].features,at),wt[Et].name=Et,wt[Et].version=at.version,wt[Et].extent=at.extent;return _({layers:wt})}function F(yt,at){for(var wt in yt.layers)at.writeMessage(3,N,yt.layers[wt])}function N(yt,at){at.writeVarintField(15,yt.version||1),at.writeStringField(1,yt.name||""),at.writeVarintField(5,yt.extent||4096);var wt,Et={keys:[],values:[],keycache:{},valuecache:{}};for(wt=0;wt<yt.length;wt++)Et.feature=yt.feature(wt),at.writeMessage(2,k,Et);var Rt=Et.keys;for(wt=0;wt<Rt.length;wt++)at.writeStringField(3,Rt[wt]);var Dt=Et.values;for(wt=0;wt<Dt.length;wt++)at.writeMessage(4,te,Dt[wt])}function k(yt,at){var wt=yt.feature;wt.id!==void 0&&at.writeVarintField(1,wt.id),at.writeMessage(2,I,yt),at.writeVarintField(3,wt.type),at.writeMessage(4,ee,wt)}function I(yt,at){var wt=yt.feature,Et=yt.keys,Rt=yt.values,Dt=yt.keycache,Ut=yt.valuecache;for(var Nt in wt.properties){var Kt=Dt[Nt];typeof Kt>"u"&&(Et.push(Nt),Kt=Et.length-1,Dt[Nt]=Kt),at.writeVarint(Kt);var ur=wt.properties[Nt],fr=typeof ur;fr!=="string"&&fr!=="boolean"&&fr!=="number"&&(ur=JSON.stringify(ur));var vr=fr+":"+ur,We=Ut[vr];typeof We>"u"&&(Rt.push(ur),We=Rt.length-1,Ut[vr]=We),at.writeVarint(We)}}function H(yt,at){return(at<<3)+(yt&7)}function j(yt){return yt<<1^yt>>31}function ee(yt,at){for(var wt=yt.loadGeometry(),Et=yt.type,Rt=0,Dt=0,Ut=wt.length,Nt=0;Nt<Ut;Nt++){var Kt=wt[Nt],ur=1;Et===1&&(ur=Kt.length),at.writeVarint(H(1,ur));for(var fr=Et===3?Kt.length-1:Kt.length,vr=0;vr<fr;vr++){vr===1&&Et!==1&&at.writeVarint(H(2,fr-1));var We=Kt[vr].x-Rt,He=Kt[vr].y-Dt;at.writeVarint(j(We)),at.writeVarint(j(He)),Rt+=We,Dt+=He}Et===3&&at.writeVarint(H(7,1))}}function te(yt,at){var wt=typeof yt;wt==="string"?at.writeStringField(1,yt):wt==="boolean"?at.writeBooleanField(7,yt):wt==="number"&&(yt%1!==0?at.writeDoubleField(3,yt):yt<0?at.writeSVarintField(6,yt):at.writeVarintField(5,yt))}f.fromVectorTileJs=P,f.fromGeojsonVt=T,f.GeoJSONWrapper=z;function ne(yt,at,wt,Et,Rt,Dt){if(!(Rt-Et<=wt)){var Ut=Et+Rt>>1;ue(yt,at,Ut,Et,Rt,Dt%2),ne(yt,at,wt,Et,Ut-1,Dt+1),ne(yt,at,wt,Ut+1,Rt,Dt+1)}}function ue(yt,at,wt,Et,Rt,Dt){for(;Rt>Et;){if(Rt-Et>600){var Ut=Rt-Et+1,Nt=wt-Et+1,Kt=Math.log(Ut),ur=.5*Math.exp(2*Kt/3),fr=.5*Math.sqrt(Kt*ur*(Ut-ur)/Ut)*(Nt-Ut/2<0?-1:1),vr=Math.max(Et,Math.floor(wt-Nt*ur/Ut+fr)),We=Math.min(Rt,Math.floor(wt+(Ut-Nt)*ur/Ut+fr));ue(yt,at,wt,vr,We,Dt)}var He=at[2*wt+Dt],zt=Et,kt=Rt;for(q(yt,at,Et,wt),at[2*Rt+Dt]>He&&q(yt,at,Et,Rt);zt<kt;){for(q(yt,at,zt,kt),zt++,kt--;at[2*zt+Dt]<He;)zt++;for(;at[2*kt+Dt]>He;)kt--}at[2*Et+Dt]===He?q(yt,at,Et,kt):(kt++,q(yt,at,kt,Rt)),kt<=wt&&(Et=kt+1),wt<=kt&&(Rt=kt-1)}}function q(yt,at,wt,Et){Y(yt,wt,Et),Y(at,2*wt,2*Et),Y(at,2*wt+1,2*Et+1)}function Y(yt,at,wt){var Et=yt[at];yt[at]=yt[wt],yt[wt]=Et}function Z(yt,at,wt,Et,Rt,Dt,Ut){for(var Nt=[0,yt.length-1,0],Kt=[],ur,fr;Nt.length;){var vr=Nt.pop(),We=Nt.pop(),He=Nt.pop();if(We-He<=Ut){for(var zt=He;zt<=We;zt++)ur=at[2*zt],fr=at[2*zt+1],ur>=wt&&ur<=Rt&&fr>=Et&&fr<=Dt&&Kt.push(yt[zt]);continue}var kt=Math.floor((He+We)/2);ur=at[2*kt],fr=at[2*kt+1],ur>=wt&&ur<=Rt&&fr>=Et&&fr<=Dt&&Kt.push(yt[kt]);var Zt=(vr+1)%2;(vr===0?wt<=ur:Et<=fr)&&(Nt.push(He),Nt.push(kt-1),Nt.push(Zt)),(vr===0?Rt>=ur:Dt>=fr)&&(Nt.push(kt+1),Nt.push(We),Nt.push(Zt))}return Kt}function G(yt,at,wt,Et,Rt,Dt){for(var Ut=[0,yt.length-1,0],Nt=[],Kt=Rt*Rt;Ut.length;){var ur=Ut.pop(),fr=Ut.pop(),vr=Ut.pop();if(fr-vr<=Dt){for(var We=vr;We<=fr;We++)K(at[2*We],at[2*We+1],wt,Et)<=Kt&&Nt.push(yt[We]);continue}var He=Math.floor((vr+fr)/2),zt=at[2*He],kt=at[2*He+1];K(zt,kt,wt,Et)<=Kt&&Nt.push(yt[He]);var Zt=(ur+1)%2;(ur===0?wt-Rt<=zt:Et-Rt<=kt)&&(Ut.push(vr),Ut.push(He-1),Ut.push(Zt)),(ur===0?wt+Rt>=zt:Et+Rt>=kt)&&(Ut.push(He+1),Ut.push(fr),Ut.push(Zt))}return Nt}function K(yt,at,wt,Et){var Rt=yt-wt,Dt=at-Et;return Rt*Rt+Dt*Dt}var oe=function(yt){return yt[0]},$=function(yt){return yt[1]},J=function(at,wt,Et,Rt,Dt){wt===void 0&&(wt=oe),Et===void 0&&(Et=$),Rt===void 0&&(Rt=64),Dt===void 0&&(Dt=Float64Array),this.nodeSize=Rt,this.points=at;for(var Ut=at.length<65536?Uint16Array:Uint32Array,Nt=this.ids=new Ut(at.length),Kt=this.coords=new Dt(at.length*2),ur=0;ur<at.length;ur++)Nt[ur]=ur,Kt[2*ur]=wt(at[ur]),Kt[2*ur+1]=Et(at[ur]);ne(Nt,Kt,Rt,0,Nt.length-1,0)};J.prototype.range=function(at,wt,Et,Rt){return Z(this.ids,this.coords,at,wt,Et,Rt,this.nodeSize)},J.prototype.within=function(at,wt,Et){return G(this.ids,this.coords,at,wt,Et,this.nodeSize)};var se={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(yt){return yt}},ie=function(at){this.options=De(Object.create(se),at),this.trees=new Array(this.options.maxZoom+1)};ie.prototype.load=function(at){var wt=this.options,Et=wt.log,Rt=wt.minZoom,Dt=wt.maxZoom,Ut=wt.nodeSize;Et&&console.time("total time");var Nt="prepare "+at.length+" points";Et&&console.time(Nt),this.points=at;for(var Kt=[],ur=0;ur<at.length;ur++)at[ur].geometry&&Kt.push(ye(at[ur],ur));this.trees[Dt+1]=new J(Kt,Ve,Ue,Ut,Float32Array),Et&&console.timeEnd(Nt);for(var fr=Dt;fr>=Rt;fr--){var vr=+Date.now();Kt=this._cluster(Kt,fr),this.trees[fr]=new J(Kt,Ve,Ue,Ut,Float32Array),Et&&console.log("z%d: %d clusters in %dms",fr,Kt.length,+Date.now()-vr)}return Et&&console.timeEnd("total time"),this},ie.prototype.getClusters=function(at,wt){var Et=((at[0]+180)%360+360)%360-180,Rt=Math.max(-90,Math.min(90,at[1])),Dt=at[2]===180?180:((at[2]+180)%360+360)%360-180,Ut=Math.max(-90,Math.min(90,at[3]));if(at[2]-at[0]>=360)Et=-180,Dt=180;else if(Et>Dt){var Nt=this.getClusters([Et,Rt,180,Ut],wt),Kt=this.getClusters([-180,Rt,Dt,Ut],wt);return Nt.concat(Kt)}for(var ur=this.trees[this._limitZoom(wt)],fr=ur.range(ke(Et),we(Ut),ke(Dt),we(Rt)),vr=[],We=0,He=fr;We<He.length;We+=1){var zt=He[We],kt=ur.points[zt];vr.push(kt.numPoints?Se(kt):this.points[kt.index])}return vr},ie.prototype.getChildren=function(at){var wt=this._getOriginId(at),Et=this._getOriginZoom(at),Rt="No cluster with the specified id.",Dt=this.trees[Et];if(!Dt)throw new Error(Rt);var Ut=Dt.points[wt];if(!Ut)throw new Error(Rt);for(var Nt=this.options.radius/(this.options.extent*Math.pow(2,Et-1)),Kt=Dt.within(Ut.x,Ut.y,Nt),ur=[],fr=0,vr=Kt;fr<vr.length;fr+=1){var We=vr[fr],He=Dt.points[We];He.parentId===at&&ur.push(He.numPoints?Se(He):this.points[He.index])}if(ur.length===0)throw new Error(Rt);return ur},ie.prototype.getLeaves=function(at,wt,Et){wt=wt||10,Et=Et||0;var Rt=[];return this._appendLeaves(Rt,at,wt,Et,0),Rt},ie.prototype.getTile=function(at,wt,Et){var Rt=this.trees[this._limitZoom(at)],Dt=Math.pow(2,at),Ut=this.options,Nt=Ut.extent,Kt=Ut.radius,ur=Kt/Nt,fr=(Et-ur)/Dt,vr=(Et+1+ur)/Dt,We={features:[]};return this._addTileFeatures(Rt.range((wt-ur)/Dt,fr,(wt+1+ur)/Dt,vr),Rt.points,wt,Et,Dt,We),wt===0&&this._addTileFeatures(Rt.range(1-ur/Dt,fr,1,vr),Rt.points,Dt,Et,Dt,We),wt===Dt-1&&this._addTileFeatures(Rt.range(0,fr,ur/Dt,vr),Rt.points,-1,Et,Dt,We),We.features.length?We:null},ie.prototype.getClusterExpansionZoom=function(at){for(var wt=this._getOriginZoom(at)-1;wt<=this.options.maxZoom;){var Et=this.getChildren(at);if(wt++,Et.length!==1)break;at=Et[0].properties.cluster_id}return wt},ie.prototype._appendLeaves=function(at,wt,Et,Rt,Dt){for(var Ut=this.getChildren(wt),Nt=0,Kt=Ut;Nt<Kt.length;Nt+=1){var ur=Kt[Nt],fr=ur.properties;if(fr&&fr.cluster?Dt+fr.point_count<=Rt?Dt+=fr.point_count:Dt=this._appendLeaves(at,fr.cluster_id,Et,Rt,Dt):Dt<Rt?Dt++:at.push(ur),at.length===Et)break}return Dt},ie.prototype._addTileFeatures=function(at,wt,Et,Rt,Dt,Ut){for(var Nt=0,Kt=at;Nt<Kt.length;Nt+=1){var ur=Kt[Nt],fr=wt[ur],vr=fr.numPoints,We={type:1,geometry:[[Math.round(this.options.extent*(fr.x*Dt-Et)),Math.round(this.options.extent*(fr.y*Dt-Rt))]],tags:vr?Te(fr):this.points[fr.index].properties},He=void 0;vr?He=fr.id:this.options.generateId?He=fr.index:this.points[fr.index].id&&(He=this.points[fr.index].id),He!==void 0&&(We.id=He),Ut.features.push(We)}},ie.prototype._limitZoom=function(at){return Math.max(this.options.minZoom,Math.min(+at,this.options.maxZoom+1))},ie.prototype._cluster=function(at,wt){for(var Et=[],Rt=this.options,Dt=Rt.radius,Ut=Rt.extent,Nt=Rt.reduce,Kt=Rt.minPoints,ur=Dt/(Ut*Math.pow(2,wt)),fr=0;fr<at.length;fr++){var vr=at[fr];if(!(vr.zoom<=wt)){vr.zoom=wt;for(var We=this.trees[wt+1],He=We.within(vr.x,vr.y,ur),zt=vr.numPoints||1,kt=zt,Zt=0,er=He;Zt<er.length;Zt+=1){var lr=er[Zt],rr=We.points[lr];rr.zoom>wt&&(kt+=rr.numPoints||1)}if(kt>=Kt){for(var Ft=vr.x*zt,cr=vr.y*zt,pr=Nt&&zt>1?this._map(vr,!0):null,mr=(fr<<5)+(wt+1)+this.points.length,hr=0,Gr=He;hr<Gr.length;hr+=1){var Dr=Gr[hr],Ir=We.points[Dr];if(!(Ir.zoom<=wt)){Ir.zoom=wt;var cn=Ir.numPoints||1;Ft+=Ir.x*cn,cr+=Ir.y*cn,Ir.parentId=mr,Nt&&(pr||(pr=this._map(vr,!0)),Nt(pr,this._map(Ir)))}}vr.parentId=mr,Et.push(ce(Ft/kt,cr/kt,mr,kt,pr))}else if(Et.push(vr),kt>1)for(var rn=0,Cn=He;rn<Cn.length;rn+=1){var Sn=Cn[rn],Tr=We.points[Sn];Tr.zoom<=wt||(Tr.zoom=wt,Et.push(Tr))}}}return Et},ie.prototype._getOriginId=function(at){return at-this.points.length>>5},ie.prototype._getOriginZoom=function(at){return(at-this.points.length)%32},ie.prototype._map=function(at,wt){if(at.numPoints)return wt?De({},at.properties):at.properties;var Et=this.points[at.index].properties,Rt=this.options.map(Et);return wt&&Rt===Et?De({},Rt):Rt};function ce(yt,at,wt,Et,Rt){return{x:yt,y:at,zoom:1/0,id:wt,parentId:-1,numPoints:Et,properties:Rt}}function ye(yt,at){var wt=yt.geometry.coordinates,Et=wt[0],Rt=wt[1];return{x:ke(Et),y:we(Rt),zoom:1/0,index:at,parentId:-1}}function Se(yt){return{type:"Feature",id:yt.id,properties:Te(yt),geometry:{type:"Point",coordinates:[Ee(yt.x),xe(yt.y)]}}}function Te(yt){var at=yt.numPoints,wt=at>=1e4?Math.round(at/1e3)+"k":at>=1e3?Math.round(at/100)/10+"k":at;return De(De({},yt.properties),{cluster:!0,cluster_id:yt.id,point_count:at,point_count_abbreviated:wt})}function ke(yt){return yt/360+.5}function we(yt){var at=Math.sin(yt*Math.PI/180),wt=.5-.25*Math.log((1+at)/(1-at))/Math.PI;return wt<0?0:wt>1?1:wt}function Ee(yt){return(yt-.5)*360}function xe(yt){var at=(180-yt*360)*Math.PI/180;return 360*Math.atan(Math.exp(at))/Math.PI-90}function De(yt,at){for(var wt in at)yt[wt]=at[wt];return yt}function Ve(yt){return yt.x}function Ue(yt){return yt.y}function Be(yt,at,wt,Et){for(var Rt=Et,Dt=wt-at>>1,Ut=wt-at,Nt,Kt=yt[at],ur=yt[at+1],fr=yt[wt],vr=yt[wt+1],We=at+3;We<wt;We+=3){var He=Xe(yt[We],yt[We+1],Kt,ur,fr,vr);if(He>Rt)Nt=We,Rt=He;else if(He===Rt){var zt=Math.abs(We-Dt);zt<Ut&&(Nt=We,Ut=zt)}}Rt>Et&&(Nt-at>3&&Be(yt,at,Nt,Et),yt[Nt+2]=Rt,wt-Nt>3&&Be(yt,Nt,wt,Et))}function Xe(yt,at,wt,Et,Rt,Dt){var Ut=Rt-wt,Nt=Dt-Et;if(Ut!==0||Nt!==0){var Kt=((yt-wt)*Ut+(at-Et)*Nt)/(Ut*Ut+Nt*Nt);Kt>1?(wt=Rt,Et=Dt):Kt>0&&(wt+=Ut*Kt,Et+=Nt*Kt)}return Ut=yt-wt,Nt=at-Et,Ut*Ut+Nt*Nt}function ot(yt,at,wt,Et){var Rt={id:typeof yt>"u"?null:yt,type:at,geometry:wt,tags:Et,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return ut(Rt),Rt}function ut(yt){var at=yt.geometry,wt=yt.type;if(wt==="Point"||wt==="MultiPoint"||wt==="LineString")et(yt,at);else if(wt==="Polygon"||wt==="MultiLineString")for(var Et=0;Et<at.length;Et++)et(yt,at[Et]);else if(wt==="MultiPolygon")for(Et=0;Et<at.length;Et++)for(var Rt=0;Rt<at[Et].length;Rt++)et(yt,at[Et][Rt])}function et(yt,at){for(var wt=0;wt<at.length;wt+=3)yt.minX=Math.min(yt.minX,at[wt]),yt.minY=Math.min(yt.minY,at[wt+1]),yt.maxX=Math.max(yt.maxX,at[wt]),yt.maxY=Math.max(yt.maxY,at[wt+1])}function qe(yt,at){var wt=[];if(yt.type==="FeatureCollection")for(var Et=0;Et<yt.features.length;Et++)ft(wt,yt.features[Et],at,Et);else yt.type==="Feature"?ft(wt,yt,at):ft(wt,{geometry:yt},at);return wt}function ft(yt,at,wt,Et){if(at.geometry){var Rt=at.geometry.coordinates,Dt=at.geometry.type,Ut=Math.pow(wt.tolerance/((1<<wt.maxZoom)*wt.extent),2),Nt=[],Kt=at.id;if(wt.promoteId?Kt=at.properties[wt.promoteId]:wt.generateId&&(Kt=Et||0),Dt==="Point")ht(Rt,Nt);else if(Dt==="MultiPoint")for(var ur=0;ur<Rt.length;ur++)ht(Rt[ur],Nt);else if(Dt==="LineString")dt(Rt,Nt,Ut,!1);else if(Dt==="MultiLineString")if(wt.lineMetrics){for(ur=0;ur<Rt.length;ur++)Nt=[],dt(Rt[ur],Nt,Ut,!1),yt.push(ot(Kt,"LineString",Nt,at.properties));return}else mt(Rt,Nt,Ut,!1);else if(Dt==="Polygon")mt(Rt,Nt,Ut,!0);else if(Dt==="MultiPolygon")for(ur=0;ur<Rt.length;ur++){var fr=[];mt(Rt[ur],fr,Ut,!0),Nt.push(fr)}else if(Dt==="GeometryCollection"){for(ur=0;ur<at.geometry.geometries.length;ur++)ft(yt,{id:Kt,geometry:at.geometry.geometries[ur],properties:at.properties},wt,Et);return}else throw new Error("Input data is not a valid GeoJSON object.");yt.push(ot(Kt,Dt,Nt,at.properties))}}function ht(yt,at){at.push(St(yt[0])),at.push(rt(yt[1])),at.push(0)}function dt(yt,at,wt,Et){for(var Rt,Dt,Ut=0,Nt=0;Nt<yt.length;Nt++){var Kt=St(yt[Nt][0]),ur=rt(yt[Nt][1]);at.push(Kt),at.push(ur),at.push(0),Nt>0&&(Et?Ut+=(Rt*ur-Kt*Dt)/2:Ut+=Math.sqrt(Math.pow(Kt-Rt,2)+Math.pow(ur-Dt,2))),Rt=Kt,Dt=ur}var fr=at.length-3;at[2]=1,Be(at,0,fr,wt),at[fr+2]=1,at.size=Math.abs(Ut),at.start=0,at.end=at.size}function mt(yt,at,wt,Et){for(var Rt=0;Rt<yt.length;Rt++){var Dt=[];dt(yt[Rt],Dt,wt,Et),at.push(Dt)}}function St(yt){return yt/360+.5}function rt(yt){var at=Math.sin(yt*Math.PI/180),wt=.5-.25*Math.log((1+at)/(1-at))/Math.PI;return wt<0?0:wt>1?1:wt}function Oe(yt,at,wt,Et,Rt,Dt,Ut,Nt){if(wt/=at,Et/=at,Dt>=wt&&Ut<Et)return yt;if(Ut<wt||Dt>=Et)return null;for(var Kt=[],ur=0;ur<yt.length;ur++){var fr=yt[ur],vr=fr.geometry,We=fr.type,He=Rt===0?fr.minX:fr.minY,zt=Rt===0?fr.maxX:fr.maxY;if(He>=wt&&zt<Et){Kt.push(fr);continue}else if(zt<wt||He>=Et)continue;var kt=[];if(We==="Point"||We==="MultiPoint")Ye(vr,kt,wt,Et,Rt);else if(We==="LineString")Ze(vr,kt,wt,Et,Rt,!1,Nt.lineMetrics);else if(We==="MultiLineString")_e(vr,kt,wt,Et,Rt,!1);else if(We==="Polygon")_e(vr,kt,wt,Et,Rt,!0);else if(We==="MultiPolygon")for(var Zt=0;Zt<vr.length;Zt++){var er=[];_e(vr[Zt],er,wt,Et,Rt,!0),er.length&&kt.push(er)}if(kt.length){if(Nt.lineMetrics&&We==="LineString"){for(Zt=0;Zt<kt.length;Zt++)Kt.push(ot(fr.id,We,kt[Zt],fr.tags));continue}(We==="LineString"||We==="MultiLineString")&&(kt.length===1?(We="LineString",kt=kt[0]):We="MultiLineString"),(We==="Point"||We==="MultiPoint")&&(We=kt.length===3?"Point":"MultiPoint"),Kt.push(ot(fr.id,We,kt,fr.tags))}}return Kt.length?Kt:null}function Ye(yt,at,wt,Et,Rt){for(var Dt=0;Dt<yt.length;Dt+=3){var Ut=yt[Dt+Rt];Ut>=wt&&Ut<=Et&&(at.push(yt[Dt]),at.push(yt[Dt+1]),at.push(yt[Dt+2]))}}function Ze(yt,at,wt,Et,Rt,Dt,Ut){for(var Nt=Ge(yt),Kt=Rt===0?me:Ce,ur=yt.start,fr,vr,We=0;We<yt.length-3;We+=3){var He=yt[We],zt=yt[We+1],kt=yt[We+2],Zt=yt[We+3],er=yt[We+4],lr=Rt===0?He:zt,rr=Rt===0?Zt:er,Ft=!1;Ut&&(fr=Math.sqrt(Math.pow(He-Zt,2)+Math.pow(zt-er,2))),lr<wt?rr>wt&&(vr=Kt(Nt,He,zt,Zt,er,wt),Ut&&(Nt.start=ur+fr*vr)):lr>Et?rr<Et&&(vr=Kt(Nt,He,zt,Zt,er,Et),Ut&&(Nt.start=ur+fr*vr)):be(Nt,He,zt,kt),rr<wt&&lr>=wt&&(vr=Kt(Nt,He,zt,Zt,er,wt),Ft=!0),rr>Et&&lr<=Et&&(vr=Kt(Nt,He,zt,Zt,er,Et),Ft=!0),!Dt&&Ft&&(Ut&&(Nt.end=ur+fr*vr),at.push(Nt),Nt=Ge(yt)),Ut&&(ur+=fr)}var cr=yt.length-3;He=yt[cr],zt=yt[cr+1],kt=yt[cr+2],lr=Rt===0?He:zt,lr>=wt&&lr<=Et&&be(Nt,He,zt,kt),cr=Nt.length-3,Dt&&cr>=3&&(Nt[cr]!==Nt[0]||Nt[cr+1]!==Nt[1])&&be(Nt,Nt[0],Nt[1],Nt[2]),Nt.length&&at.push(Nt)}function Ge(yt){var at=[];return at.size=yt.size,at.start=yt.start,at.end=yt.end,at}function _e(yt,at,wt,Et,Rt,Dt){for(var Ut=0;Ut<yt.length;Ut++)Ze(yt[Ut],at,wt,Et,Rt,Dt,!1)}function be(yt,at,wt,Et){yt.push(at),yt.push(wt),yt.push(Et)}function me(yt,at,wt,Et,Rt,Dt){var Ut=(Dt-at)/(Et-at);return yt.push(Dt),yt.push(wt+(Rt-wt)*Ut),yt.push(1),Ut}function Ce(yt,at,wt,Et,Rt,Dt){var Ut=(Dt-wt)/(Rt-wt);return yt.push(at+(Et-at)*Ut),yt.push(Dt),yt.push(1),Ut}function Me(yt,at){var wt=at.buffer/at.extent,Et=yt,Rt=Oe(yt,1,-1-wt,wt,0,-1,2,at),Dt=Oe(yt,1,1-wt,2+wt,0,-1,2,at);return(Rt||Dt)&&(Et=Oe(yt,1,-wt,1+wt,0,-1,2,at)||[],Rt&&(Et=Ne(Rt,1).concat(Et)),Dt&&(Et=Et.concat(Ne(Dt,-1)))),Et}function Ne(yt,at){for(var wt=[],Et=0;Et<yt.length;Et++){var Rt=yt[Et],Dt=Rt.type,Ut;if(Dt==="Point"||Dt==="MultiPoint"||Dt==="LineString")Ut=je(Rt.geometry,at);else if(Dt==="MultiLineString"||Dt==="Polygon"){Ut=[];for(var Nt=0;Nt<Rt.geometry.length;Nt++)Ut.push(je(Rt.geometry[Nt],at))}else if(Dt==="MultiPolygon")for(Ut=[],Nt=0;Nt<Rt.geometry.length;Nt++){for(var Kt=[],ur=0;ur<Rt.geometry[Nt].length;ur++)Kt.push(je(Rt.geometry[Nt][ur],at));Ut.push(Kt)}wt.push(ot(Rt.id,Dt,Ut,Rt.tags))}return wt}function je(yt,at){var wt=[];wt.size=yt.size,yt.start!==void 0&&(wt.start=yt.start,wt.end=yt.end);for(var Et=0;Et<yt.length;Et+=3)wt.push(yt[Et]+at,yt[Et+1],yt[Et+2]);return wt}function tt(yt,at){if(yt.transformed)return yt;var wt=1<<yt.z,Et=yt.x,Rt=yt.y,Dt,Ut,Nt;for(Dt=0;Dt<yt.features.length;Dt++){var Kt=yt.features[Dt],ur=Kt.geometry,fr=Kt.type;if(Kt.geometry=[],fr===1)for(Ut=0;Ut<ur.length;Ut+=2)Kt.geometry.push(ct(ur[Ut],ur[Ut+1],at,wt,Et,Rt));else for(Ut=0;Ut<ur.length;Ut++){var vr=[];for(Nt=0;Nt<ur[Ut].length;Nt+=2)vr.push(ct(ur[Ut][Nt],ur[Ut][Nt+1],at,wt,Et,Rt));Kt.geometry.push(vr)}}return yt.transformed=!0,yt}function ct(yt,at,wt,Et,Rt,Dt){return[Math.round(wt*(yt*Et-Rt)),Math.round(wt*(at*Et-Dt))]}function pt(yt,at,wt,Et,Rt){for(var Dt=at===Rt.maxZoom?0:Rt.tolerance/((1<<at)*Rt.extent),Ut={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:wt,y:Et,z:at,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Nt=0;Nt<yt.length;Nt++){Ut.numFeatures++,Xt(Ut,yt[Nt],Dt,Rt);var Kt=yt[Nt].minX,ur=yt[Nt].minY,fr=yt[Nt].maxX,vr=yt[Nt].maxY;Kt<Ut.minX&&(Ut.minX=Kt),ur<Ut.minY&&(Ut.minY=ur),fr>Ut.maxX&&(Ut.maxX=fr),vr>Ut.maxY&&(Ut.maxY=vr)}return Ut}function Xt(yt,at,wt,Et){var Rt=at.geometry,Dt=at.type,Ut=[];if(Dt==="Point"||Dt==="MultiPoint")for(var Nt=0;Nt<Rt.length;Nt+=3)Ut.push(Rt[Nt]),Ut.push(Rt[Nt+1]),yt.numPoints++,yt.numSimplified++;else if(Dt==="LineString")Yt(Ut,Rt,yt,wt,!1,!1);else if(Dt==="MultiLineString"||Dt==="Polygon")for(Nt=0;Nt<Rt.length;Nt++)Yt(Ut,Rt[Nt],yt,wt,Dt==="Polygon",Nt===0);else if(Dt==="MultiPolygon")for(var Kt=0;Kt<Rt.length;Kt++){var ur=Rt[Kt];for(Nt=0;Nt<ur.length;Nt++)Yt(Ut,ur[Nt],yt,wt,!0,Nt===0)}if(Ut.length){var fr=at.tags||null;if(Dt==="LineString"&&Et.lineMetrics){fr={};for(var vr in at.tags)fr[vr]=at.tags[vr];fr.mapbox_clip_start=Rt.start/Rt.size,fr.mapbox_clip_end=Rt.end/Rt.size}var We={geometry:Ut,type:Dt==="Polygon"||Dt==="MultiPolygon"?3:Dt==="LineString"||Dt==="MultiLineString"?2:1,tags:fr};at.id!==null&&(We.id=at.id),yt.features.push(We)}}function Yt(yt,at,wt,Et,Rt,Dt){var Ut=Et*Et;if(Et>0&&at.size<(Rt?Ut:Et)){wt.numPoints+=at.length/3;return}for(var Nt=[],Kt=0;Kt<at.length;Kt+=3)(Et===0||at[Kt+2]>Ut)&&(wt.numSimplified++,Nt.push(at[Kt]),Nt.push(at[Kt+1])),wt.numPoints++;Rt&&Tt(Nt,Dt),yt.push(Nt)}function Tt(yt,at){for(var wt=0,Et=0,Rt=yt.length,Dt=Rt-2;Et<Rt;Dt=Et,Et+=2)wt+=(yt[Et]-yt[Dt])*(yt[Et+1]+yt[Dt+1]);if(wt>0===at)for(Et=0,Rt=yt.length;Et<Rt/2;Et+=2){var Ut=yt[Et],Nt=yt[Et+1];yt[Et]=yt[Rt-2-Et],yt[Et+1]=yt[Rt-1-Et],yt[Rt-2-Et]=Ut,yt[Rt-1-Et]=Nt}}function _t(yt,at){return new Qt(yt,at)}function Qt(yt,at){at=this.options=xt(Object.create(this.options),at);var wt=at.debug;if(wt&&console.time("preprocess data"),at.maxZoom<0||at.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(at.promoteId&&at.generateId)throw new Error("promoteId and generateId cannot be used together.");var Et=qe(yt,at);this.tiles={},this.tileCoords=[],wt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",at.indexMaxZoom,at.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Et=Me(Et,at),Et.length&&this.splitTile(Et,0,0,0),wt&&(Et.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}Qt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Qt.prototype.splitTile=function(yt,at,wt,Et,Rt,Dt,Ut){for(var Nt=[yt,at,wt,Et],Kt=this.options,ur=Kt.debug;Nt.length;){Et=Nt.pop(),wt=Nt.pop(),at=Nt.pop(),yt=Nt.pop();var fr=1<<at,vr=wr(at,wt,Et),We=this.tiles[vr];if(!We&&(ur>1&&console.time("creation"),We=this.tiles[vr]=pt(yt,at,wt,Et,Kt),this.tileCoords.push({z:at,x:wt,y:Et}),ur)){ur>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",at,wt,Et,We.numFeatures,We.numPoints,We.numSimplified),console.timeEnd("creation"));var He="z"+at;this.stats[He]=(this.stats[He]||0)+1,this.total++}if(We.source=yt,Rt){if(at===Kt.maxZoom||at===Rt)continue;var zt=1<<Rt-at;if(wt!==Math.floor(Dt/zt)||Et!==Math.floor(Ut/zt))continue}else if(at===Kt.indexMaxZoom||We.numPoints<=Kt.indexMaxPoints)continue;if(We.source=null,yt.length!==0){ur>1&&console.time("clipping");var kt=.5*Kt.buffer/Kt.extent,Zt=.5-kt,er=.5+kt,lr=1+kt,rr,Ft,cr,pr,mr,hr;rr=Ft=cr=pr=null,mr=Oe(yt,fr,wt-kt,wt+er,0,We.minX,We.maxX,Kt),hr=Oe(yt,fr,wt+Zt,wt+lr,0,We.minX,We.maxX,Kt),yt=null,mr&&(rr=Oe(mr,fr,Et-kt,Et+er,1,We.minY,We.maxY,Kt),Ft=Oe(mr,fr,Et+Zt,Et+lr,1,We.minY,We.maxY,Kt),mr=null),hr&&(cr=Oe(hr,fr,Et-kt,Et+er,1,We.minY,We.maxY,Kt),pr=Oe(hr,fr,Et+Zt,Et+lr,1,We.minY,We.maxY,Kt),hr=null),ur>1&&console.timeEnd("clipping"),Nt.push(rr||[],at+1,wt*2,Et*2),Nt.push(Ft||[],at+1,wt*2,Et*2+1),Nt.push(cr||[],at+1,wt*2+1,Et*2),Nt.push(pr||[],at+1,wt*2+1,Et*2+1)}}},Qt.prototype.getTile=function(yt,at,wt){var Et=this.options,Rt=Et.extent,Dt=Et.debug;if(yt<0||yt>24)return null;var Ut=1<<yt;at=(at%Ut+Ut)%Ut;var Nt=wr(yt,at,wt);if(this.tiles[Nt])return tt(this.tiles[Nt],Rt);Dt>1&&console.log("drilling down to z%d-%d-%d",yt,at,wt);for(var Kt=yt,ur=at,fr=wt,vr;!vr&&Kt>0;)Kt--,ur=Math.floor(ur/2),fr=Math.floor(fr/2),vr=this.tiles[wr(Kt,ur,fr)];return!vr||!vr.source?null:(Dt>1&&console.log("found parent tile z%d-%d-%d",Kt,ur,fr),Dt>1&&console.time("drilling down"),this.splitTile(vr.source,Kt,ur,fr,yt,at,wt),Dt>1&&console.timeEnd("drilling down"),this.tiles[Nt]?tt(this.tiles[Nt],Rt):null)};function wr(yt,at,wt){return((1<<yt)*wt+at)*32+yt}function xt(yt,at){for(var wt in at)yt[wt]=at[wt];return yt}function jt(yt,at){var wt=yt.tileID.canonical;if(!this._geoJSONIndex)return at(null,null);var Et=this._geoJSONIndex.getTile(wt.z,wt.x,wt.y);if(!Et)return at(null,null);var Rt=new A(Et.features),Dt=f(Rt);(Dt.byteOffset!==0||Dt.byteLength!==Dt.buffer.byteLength)&&(Dt=new Uint8Array(Dt)),at(null,{vectorTile:Rt,rawData:Dt.buffer})}var Jt=function(yt){function at(wt,Et,Rt,Dt){yt.call(this,wt,Et,Rt,jt),Dt&&(this.loadGeoJSON=Dt)}return yt&&(at.__proto__=yt),at.prototype=Object.create(yt&&yt.prototype),at.prototype.constructor=at,at.prototype.loadData=function(Et,Rt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Rt,this._pendingLoadDataParams=Et,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},at.prototype._loadData=function(){var Et=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Rt=this._pendingCallback,Dt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Ut=Dt&&Dt.request&&Dt.request.collectResourceTiming?new i.RequestPerformance(Dt.request):!1;this.loadGeoJSON(Dt,function(Nt,Kt){if(Nt||!Kt)return Rt(Nt);if(typeof Kt!="object")return Rt(new Error("Input data given to '"+Dt.source+"' is not a valid GeoJSON object."));h(Kt,!0);try{if(Dt.filter){var ur=i.createExpression(Dt.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ur.result==="error")throw new Error(ur.value.map(function(He){return He.key+": "+He.message}).join(", "));var fr=Kt.features.filter(function(He){return ur.value.evaluate({zoom:0},He)});Kt={type:"FeatureCollection",features:fr}}Et._geoJSONIndex=Dt.cluster?new ie(gr(Dt)).load(Kt.features):_t(Kt,Dt.geojsonVtOptions)}catch(He){return Rt(He)}Et.loaded={};var vr={};if(Ut){var We=Ut.finish();We&&(vr.resourceTiming={},vr.resourceTiming[Dt.source]=JSON.parse(JSON.stringify(We)))}Rt(null,vr)})}},at.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},at.prototype.reloadTile=function(Et,Rt){var Dt=this.loaded,Ut=Et.uid;return Dt&&Dt[Ut]?yt.prototype.reloadTile.call(this,Et,Rt):this.loadTile(Et,Rt)},at.prototype.loadGeoJSON=function(Et,Rt){if(Et.request)i.getJSON(Et.request,Rt);else if(typeof Et.data=="string")try{return Rt(null,JSON.parse(Et.data))}catch{return Rt(new Error("Input data given to '"+Et.source+"' is not a valid GeoJSON object."))}else return Rt(new Error("Input data given to '"+Et.source+"' is not a valid GeoJSON object."))},at.prototype.removeSource=function(Et,Rt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Rt()},at.prototype.getClusterExpansionZoom=function(Et,Rt){try{Rt(null,this._geoJSONIndex.getClusterExpansionZoom(Et.clusterId))}catch(Dt){Rt(Dt)}},at.prototype.getClusterChildren=function(Et,Rt){try{Rt(null,this._geoJSONIndex.getChildren(Et.clusterId))}catch(Dt){Rt(Dt)}},at.prototype.getClusterLeaves=function(Et,Rt){try{Rt(null,this._geoJSONIndex.getLeaves(Et.clusterId,Et.limit,Et.offset))}catch(Dt){Rt(Dt)}},at}(s);function gr(yt){var at=yt.superclusterOptions,wt=yt.clusterProperties;if(!wt||!at)return at;for(var Et={},Rt={},Dt={accumulated:null,zoom:0},Ut={properties:null},Nt=Object.keys(wt),Kt=0,ur=Nt;Kt<ur.length;Kt+=1){var fr=ur[Kt],vr=wt[fr],We=vr[0],He=vr[1],zt=i.createExpression(He),kt=i.createExpression(typeof We=="string"?[We,["accumulated"],["get",fr]]:We);Et[fr]=zt.value,Rt[fr]=kt.value}return at.map=function(Zt){Ut.properties=Zt;for(var er={},lr=0,rr=Nt;lr<rr.length;lr+=1){var Ft=rr[lr];er[Ft]=Et[Ft].evaluate(Dt,Ut)}return er},at.reduce=function(Zt,er){Ut.properties=er;for(var lr=0,rr=Nt;lr<rr.length;lr+=1){var Ft=rr[lr];Dt.accumulated=Zt[Ft],Zt[Ft]=Rt[Ft].evaluate(Dt,Ut)}},at}var or=function(at){var wt=this;this.self=at,this.actor=new i.Actor(at,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:s,geojson:Jt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Et,Rt){if(wt.workerSourceTypes[Et])throw new Error('Worker source with name "'+Et+'" already registered.');wt.workerSourceTypes[Et]=Rt},this.self.registerRTLTextPlugin=function(Et){if(i.plugin.isParsed())throw new Error("RTL text plugin already registered.");i.plugin.applyArabicShaping=Et.applyArabicShaping,i.plugin.processBidirectionalText=Et.processBidirectionalText,i.plugin.processStyledBidirectionalText=Et.processStyledBidirectionalText}};return or.prototype.setReferrer=function(at,wt){this.referrer=wt},or.prototype.setImages=function(at,wt,Et){this.availableImages[at]=wt;for(var Rt in this.workerSources[at]){var Dt=this.workerSources[at][Rt];for(var Ut in Dt)Dt[Ut].availableImages=wt}Et()},or.prototype.setLayers=function(at,wt,Et){this.getLayerIndex(at).replace(wt),Et()},or.prototype.updateLayers=function(at,wt,Et){this.getLayerIndex(at).update(wt.layers,wt.removedIds),Et()},or.prototype.loadTile=function(at,wt,Et){this.getWorkerSource(at,wt.type,wt.source).loadTile(wt,Et)},or.prototype.loadDEMTile=function(at,wt,Et){this.getDEMWorkerSource(at,wt.source).loadTile(wt,Et)},or.prototype.reloadTile=function(at,wt,Et){this.getWorkerSource(at,wt.type,wt.source).reloadTile(wt,Et)},or.prototype.abortTile=function(at,wt,Et){this.getWorkerSource(at,wt.type,wt.source).abortTile(wt,Et)},or.prototype.removeTile=function(at,wt,Et){this.getWorkerSource(at,wt.type,wt.source).removeTile(wt,Et)},or.prototype.removeDEMTile=function(at,wt){this.getDEMWorkerSource(at,wt.source).removeTile(wt)},or.prototype.removeSource=function(at,wt,Et){if(!(!this.workerSources[at]||!this.workerSources[at][wt.type]||!this.workerSources[at][wt.type][wt.source])){var Rt=this.workerSources[at][wt.type][wt.source];delete this.workerSources[at][wt.type][wt.source],Rt.removeSource!==void 0?Rt.removeSource(wt,Et):Et()}},or.prototype.loadWorkerSource=function(at,wt,Et){try{this.self.importScripts(wt.url),Et()}catch(Rt){Et(Rt.toString())}},or.prototype.syncRTLPluginState=function(at,wt,Et){try{i.plugin.setState(wt);var Rt=i.plugin.getPluginURL();if(i.plugin.isLoaded()&&!i.plugin.isParsed()&&Rt!=null){this.self.importScripts(Rt);var Dt=i.plugin.isParsed(),Ut=Dt?void 0:new Error("RTL Text Plugin failed to import scripts from "+Rt);Et(Ut,Dt)}}catch(Nt){Et(Nt.toString())}},or.prototype.getAvailableImages=function(at){var wt=this.availableImages[at];return wt||(wt=[]),wt},or.prototype.getLayerIndex=function(at){var wt=this.layerIndexes[at];return wt||(wt=this.layerIndexes[at]=new p),wt},or.prototype.getWorkerSource=function(at,wt,Et){var Rt=this;if(this.workerSources[at]||(this.workerSources[at]={}),this.workerSources[at][wt]||(this.workerSources[at][wt]={}),!this.workerSources[at][wt][Et]){var Dt={send:function(Ut,Nt,Kt){Rt.actor.send(Ut,Nt,Kt,at)}};this.workerSources[at][wt][Et]=new this.workerSourceTypes[wt](Dt,this.getLayerIndex(at),this.getAvailableImages(at))}return this.workerSources[at][wt][Et]},or.prototype.getDEMWorkerSource=function(at,wt){return this.demWorkerSources[at]||(this.demWorkerSources[at]={}),this.demWorkerSources[at][wt]||(this.demWorkerSources[at][wt]=new m),this.demWorkerSources[at][wt]},or.prototype.enforceCacheSizeLimit=function(at,wt){i.enforceCacheSizeLimit(wt)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new or(self)),or}),L(["./shared"],function(i){var S=i.createCommonjsModule(function(he){he.exports?he.exports=Q:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=Q,window.mapboxgl.notSupportedReason=de);function Q(Hr){return!de(Hr)}function de(Hr){if(!re())return"not a browser";if(!pe())return"insufficent Array support";if(!ze())return"insufficient Function support";if(!Ke())return"insufficient Object support";if(!st())return"insufficient JSON support";if(!Ct())return"insufficient worker support";if(!Vt())return"insufficient Uint8ClampedArray support";if(!$t())return"insufficient ArrayBuffer support";if(!sr())return"insufficient Canvas/getImageData support";if(!kr(Hr&&Hr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function re(){return typeof window<"u"&&typeof document<"u"}function pe(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function ze(){return Function.prototype&&Function.prototype.bind}function Ke(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function st(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function Ct(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Hr=new Blob([""],{type:"text/javascript"}),Kr=URL.createObjectURL(Hr),fn,_n;try{_n=new Worker(Kr),fn=!0}catch{fn=!1}return _n&&_n.terminate(),URL.revokeObjectURL(Kr),fn}function Vt(){return"Uint8ClampedArray"in window}function $t(){return ArrayBuffer.isView}function sr(){var Hr=document.createElement("canvas");Hr.width=Hr.height=1;var Kr=Hr.getContext("2d");if(!Kr)return!1;var fn=Kr.getImageData(0,0,1,1);return fn&&fn.width===Hr.width}var ar={};function kr(Hr){return ar[Hr]===void 0&&(ar[Hr]=Xr(Hr)),ar[Hr]}Q.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Yr(Hr){var Kr=document.createElement("canvas"),fn=Object.create(Q.webGLContextAttributes);return fn.failIfMajorPerformanceCaveat=Hr,Kr.probablySupportsContext?Kr.probablySupportsContext("webgl",fn)||Kr.probablySupportsContext("experimental-webgl",fn):Kr.supportsContext?Kr.supportsContext("webgl",fn)||Kr.supportsContext("experimental-webgl",fn):Kr.getContext("webgl",fn)||Kr.getContext("experimental-webgl",fn)}function Xr(Hr){var Kr=Yr(Hr);if(!Kr)return!1;var fn=Kr.createShader(Kr.VERTEX_SHADER);return!fn||Kr.isContextLost()?!1:(Kr.shaderSource(fn,"void main() {}"),Kr.compileShader(fn),Kr.getShaderParameter(fn,Kr.COMPILE_STATUS)===!0)}}),b={};b.create=function(he,Q,de){var re=i.window.document.createElement(he);return Q!==void 0&&(re.className=Q),de&&de.appendChild(re),re},b.createNS=function(he,Q){var de=i.window.document.createElementNS(he,Q);return de};var v=i.window.document&&i.window.document.documentElement.style;function p(he){if(!v)return he[0];for(var Q=0;Q<he.length;Q++)if(he[Q]in v)return he[Q];return he[0]}var r=p(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),t;b.disableDrag=function(){v&&r&&(t=v[r],v[r]="none")},b.enableDrag=function(){v&&r&&(v[r]=t)};var a=p(["transform","WebkitTransform"]);b.setTransform=function(he,Q){he.style[a]=Q};var n=!1;try{var u=Object.defineProperty({},"passive",{get:function(){n=!0}});i.window.addEventListener("test",u,u),i.window.removeEventListener("test",u,u)}catch{n=!1}b.addEventListener=function(he,Q,de,re){re===void 0&&(re={}),"passive"in re&&n?he.addEventListener(Q,de,re):he.addEventListener(Q,de,re.capture)},b.removeEventListener=function(he,Q,de,re){re===void 0&&(re={}),"passive"in re&&n?he.removeEventListener(Q,de,re):he.removeEventListener(Q,de,re.capture)};var s=function(he){he.preventDefault(),he.stopPropagation(),i.window.removeEventListener("click",s,!0)};b.suppressClick=function(){i.window.addEventListener("click",s,!0),i.window.setTimeout(function(){i.window.removeEventListener("click",s,!0)},0)},b.mousePos=function(he,Q){var de=he.getBoundingClientRect();return new i.Point(Q.clientX-de.left-he.clientLeft,Q.clientY-de.top-he.clientTop)},b.touchPos=function(he,Q){for(var de=he.getBoundingClientRect(),re=[],pe=0;pe<Q.length;pe++)re.push(new i.Point(Q[pe].clientX-de.left-he.clientLeft,Q[pe].clientY-de.top-he.clientTop));return re},b.mouseButton=function(he){return typeof i.window.InstallTrigger<"u"&&he.button===2&&he.ctrlKey&&i.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:he.button},b.remove=function(he){he.parentNode&&he.parentNode.removeChild(he)};function l(he,Q,de){var re,pe,ze,Ke=i.browser.devicePixelRatio>1?"@2x":"",st=i.getJSON(Q.transformRequest(Q.normalizeSpriteURL(he,Ke,".json"),i.ResourceType.SpriteJSON),function($t,sr){st=null,ze||(ze=$t,re=sr,Vt())}),Ct=i.getImage(Q.transformRequest(Q.normalizeSpriteURL(he,Ke,".png"),i.ResourceType.SpriteImage),function($t,sr){Ct=null,ze||(ze=$t,pe=sr,Vt())});function Vt(){if(ze)de(ze);else if(re&&pe){var $t=i.browser.getImageData(pe),sr={};for(var ar in re){var kr=re[ar],Yr=kr.width,Xr=kr.height,Hr=kr.x,Kr=kr.y,fn=kr.sdf,_n=kr.pixelRatio,Fn=kr.stretchX,Wn=kr.stretchY,Xn=kr.content,Hn=new i.RGBAImage({width:Yr,height:Xr});i.RGBAImage.copy($t,Hn,{x:Hr,y:Kr},{x:0,y:0},{width:Yr,height:Xr}),sr[ar]={data:Hn,pixelRatio:_n,sdf:fn,stretchX:Fn,stretchY:Wn,content:Xn}}de(null,sr)}}return{cancel:function(){st&&(st.cancel(),st=null),Ct&&(Ct.cancel(),Ct=null)}}}function m(he){var Q=he.userImage;if(Q&&Q.render){var de=Q.render();if(de)return he.data.replace(new Uint8Array(Q.data.buffer)),!0}return!1}var h=1,g=function(he){function Q(){he.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new i.RGBAImage({width:1,height:1}),this.dirty=!0}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.isLoaded=function(){return this.loaded},Q.prototype.setLoaded=function(re){if(this.loaded!==re&&(this.loaded=re,re)){for(var pe=0,ze=this.requestors;pe<ze.length;pe+=1){var Ke=ze[pe],st=Ke.ids,Ct=Ke.callback;this._notify(st,Ct)}this.requestors=[]}},Q.prototype.getImage=function(re){return this.images[re]},Q.prototype.addImage=function(re,pe){this._validate(re,pe)&&(this.images[re]=pe)},Q.prototype._validate=function(re,pe){var ze=!0;return this._validateStretch(pe.stretchX,pe.data&&pe.data.width)||(this.fire(new i.ErrorEvent(new Error('Image "'+re+'" has invalid "stretchX" value'))),ze=!1),this._validateStretch(pe.stretchY,pe.data&&pe.data.height)||(this.fire(new i.ErrorEvent(new Error('Image "'+re+'" has invalid "stretchY" value'))),ze=!1),this._validateContent(pe.content,pe)||(this.fire(new i.ErrorEvent(new Error('Image "'+re+'" has invalid "content" value'))),ze=!1),ze},Q.prototype._validateStretch=function(re,pe){if(!re)return!0;for(var ze=0,Ke=0,st=re;Ke<st.length;Ke+=1){var Ct=st[Ke];if(Ct[0]<ze||Ct[1]<Ct[0]||pe<Ct[1])return!1;ze=Ct[1]}return!0},Q.prototype._validateContent=function(re,pe){return re?!(re.length!==4||re[0]<0||pe.data.width<re[0]||re[1]<0||pe.data.height<re[1]||re[2]<0||pe.data.width<re[2]||re[3]<0||pe.data.height<re[3]||re[2]<re[0]||re[3]<re[1]):!0},Q.prototype.updateImage=function(re,pe){var ze=this.images[re];pe.version=ze.version+1,this.images[re]=pe,this.updatedImages[re]=!0},Q.prototype.removeImage=function(re){var pe=this.images[re];delete this.images[re],delete this.patterns[re],pe.userImage&&pe.userImage.onRemove&&pe.userImage.onRemove()},Q.prototype.listImages=function(){return Object.keys(this.images)},Q.prototype.getImages=function(re,pe){var ze=!0;if(!this.isLoaded())for(var Ke=0,st=re;Ke<st.length;Ke+=1){var Ct=st[Ke];this.images[Ct]||(ze=!1)}this.isLoaded()||ze?this._notify(re,pe):this.requestors.push({ids:re,callback:pe})},Q.prototype._notify=function(re,pe){for(var ze={},Ke=0,st=re;Ke<st.length;Ke+=1){var Ct=st[Ke];this.images[Ct]||this.fire(new i.Event("styleimagemissing",{id:Ct}));var Vt=this.images[Ct];Vt?ze[Ct]={data:Vt.data.clone(),pixelRatio:Vt.pixelRatio,sdf:Vt.sdf,version:Vt.version,stretchX:Vt.stretchX,stretchY:Vt.stretchY,content:Vt.content,hasRenderCallback:!!(Vt.userImage&&Vt.userImage.render)}:i.warnOnce('Image "'+Ct+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}pe(null,ze)},Q.prototype.getPixelSize=function(){var re=this.atlasImage,pe=re.width,ze=re.height;return{width:pe,height:ze}},Q.prototype.getPattern=function(re){var pe=this.patterns[re],ze=this.getImage(re);if(!ze)return null;if(pe&&pe.position.version===ze.version)return pe.position;if(pe)pe.position.version=ze.version;else{var Ke=ze.data.width+h*2,st=ze.data.height+h*2,Ct={w:Ke,h:st,x:0,y:0},Vt=new i.ImagePosition(Ct,ze);this.patterns[re]={bin:Ct,position:Vt}}return this._updatePatternAtlas(),this.patterns[re].position},Q.prototype.bind=function(re){var pe=re.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new i.Texture(re,this.atlasImage,pe.RGBA),this.atlasTexture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE)},Q.prototype._updatePatternAtlas=function(){var re=[];for(var pe in this.patterns)re.push(this.patterns[pe].bin);var ze=i.potpack(re),Ke=ze.w,st=ze.h,Ct=this.atlasImage;Ct.resize({width:Ke||1,height:st||1});for(var Vt in this.patterns){var $t=this.patterns[Vt],sr=$t.bin,ar=sr.x+h,kr=sr.y+h,Yr=this.images[Vt].data,Xr=Yr.width,Hr=Yr.height;i.RGBAImage.copy(Yr,Ct,{x:0,y:0},{x:ar,y:kr},{width:Xr,height:Hr}),i.RGBAImage.copy(Yr,Ct,{x:0,y:Hr-1},{x:ar,y:kr-1},{width:Xr,height:1}),i.RGBAImage.copy(Yr,Ct,{x:0,y:0},{x:ar,y:kr+Hr},{width:Xr,height:1}),i.RGBAImage.copy(Yr,Ct,{x:Xr-1,y:0},{x:ar-1,y:kr},{width:1,height:Hr}),i.RGBAImage.copy(Yr,Ct,{x:0,y:0},{x:ar+Xr,y:kr},{width:1,height:Hr})}this.dirty=!0},Q.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},Q.prototype.dispatchRenderCallbacks=function(re){for(var pe=0,ze=re;pe<ze.length;pe+=1){var Ke=ze[pe];if(!this.callbackDispatchedThisFrame[Ke]){this.callbackDispatchedThisFrame[Ke]=!0;var st=this.images[Ke],Ct=m(st);Ct&&this.updateImage(Ke,st)}}},Q}(i.Evented);function c(he,Q,de,re,pe){var ze=Q*256,Ke=ze+255,st=re.transformRequest(re.normalizeGlyphsURL(de).replace("{fontstack}",he).replace("{range}",ze+"-"+Ke),i.ResourceType.Glyphs);i.getArrayBuffer(st,function(Ct,Vt){if(Ct)pe(Ct);else if(Vt){for(var $t={},sr=0,ar=i.parseGlyphPBF(Vt);sr<ar.length;sr+=1){var kr=ar[sr];$t[kr.id]=kr}pe(null,$t)}})}var o=A,d=A,w=1e20;function A(he,Q,de,re,pe,ze){this.fontSize=he||24,this.buffer=Q===void 0?3:Q,this.cutoff=re||.25,this.fontFamily=pe||"sans-serif",this.fontWeight=ze||"normal",this.radius=de||8;var Ke=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Ke,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Ke*Ke),this.gridInner=new Float64Array(Ke*Ke),this.f=new Float64Array(Ke),this.d=new Float64Array(Ke),this.z=new Float64Array(Ke+1),this.v=new Int16Array(Ke),this.middle=Math.round(Ke/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}A.prototype.draw=function(he){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(he,this.buffer,this.middle);for(var Q=this.ctx.getImageData(0,0,this.size,this.size),de=new Uint8ClampedArray(this.size*this.size),re=0;re<this.size*this.size;re++){var pe=Q.data[re*4+3]/255;this.gridOuter[re]=pe===1?0:pe===0?w:Math.pow(Math.max(0,.5-pe),2),this.gridInner[re]=pe===1?w:pe===0?0:Math.pow(Math.max(0,pe-.5),2)}for(C(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),C(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),re=0;re<this.size*this.size;re++){var ze=this.gridOuter[re]-this.gridInner[re];de[re]=Math.max(0,Math.min(255,Math.round(255-255*(ze/this.radius+this.cutoff))))}return de};function C(he,Q,de,re,pe,ze,Ke){for(var st=0;st<Q;st++){for(var Ct=0;Ct<de;Ct++)re[Ct]=he[Ct*Q+st];for(x(re,pe,ze,Ke,de),Ct=0;Ct<de;Ct++)he[Ct*Q+st]=pe[Ct]}for(Ct=0;Ct<de;Ct++){for(st=0;st<Q;st++)re[st]=he[Ct*Q+st];for(x(re,pe,ze,Ke,Q),st=0;st<Q;st++)he[Ct*Q+st]=Math.sqrt(pe[st])}}function x(he,Q,de,re,pe){de[0]=0,re[0]=-w,re[1]=+w;for(var ze=1,Ke=0;ze<pe;ze++){for(var st=(he[ze]+ze*ze-(he[de[Ke]]+de[Ke]*de[Ke]))/(2*ze-2*de[Ke]);st<=re[Ke];)Ke--,st=(he[ze]+ze*ze-(he[de[Ke]]+de[Ke]*de[Ke]))/(2*ze-2*de[Ke]);Ke++,de[Ke]=ze,re[Ke]=st,re[Ke+1]=+w}for(ze=0,Ke=0;ze<pe;ze++){for(;re[Ke+1]<ze;)Ke++;Q[ze]=(ze-de[Ke])*(ze-de[Ke])+he[de[Ke]]}}o.default=d;var E=function(Q,de){this.requestManager=Q,this.localIdeographFontFamily=de,this.entries={}};E.prototype.setURL=function(Q){this.url=Q},E.prototype.getGlyphs=function(Q,de){var re=this,pe=[];for(var ze in Q)for(var Ke=0,st=Q[ze];Ke<st.length;Ke+=1){var Ct=st[Ke];pe.push({stack:ze,id:Ct})}i.asyncAll(pe,function(Vt,$t){var sr=Vt.stack,ar=Vt.id,kr=re.entries[sr];kr||(kr=re.entries[sr]={glyphs:{},requests:{},ranges:{}});var Yr=kr.glyphs[ar];if(Yr!==void 0){$t(null,{stack:sr,id:ar,glyph:Yr});return}if(Yr=re._tinySDF(kr,sr,ar),Yr){kr.glyphs[ar]=Yr,$t(null,{stack:sr,id:ar,glyph:Yr});return}var Xr=Math.floor(ar/256);if(Xr*256>65535){$t(new Error("glyphs > 65535 not supported"));return}if(kr.ranges[Xr]){$t(null,{stack:sr,id:ar,glyph:Yr});return}var Hr=kr.requests[Xr];Hr||(Hr=kr.requests[Xr]=[],E.loadGlyphRange(sr,Xr,re.url,re.requestManager,function(Kr,fn){if(fn){for(var _n in fn)re._doesCharSupportLocalGlyph(+_n)||(kr.glyphs[+_n]=fn[+_n]);kr.ranges[Xr]=!0}for(var Fn=0,Wn=Hr;Fn<Wn.length;Fn+=1){var Xn=Wn[Fn];Xn(Kr,fn)}delete kr.requests[Xr]})),Hr.push(function(Kr,fn){Kr?$t(Kr):fn&&$t(null,{stack:sr,id:ar,glyph:fn[ar]||null})})},function(Vt,$t){if(Vt)de(Vt);else if($t){for(var sr={},ar=0,kr=$t;ar<kr.length;ar+=1){var Yr=kr[ar],Xr=Yr.stack,Hr=Yr.id,Kr=Yr.glyph;(sr[Xr]||(sr[Xr]={}))[Hr]=Kr&&{id:Kr.id,bitmap:Kr.bitmap.clone(),metrics:Kr.metrics}}de(null,sr)}})},E.prototype._doesCharSupportLocalGlyph=function(Q){return!!this.localIdeographFontFamily&&(i.isChar["CJK Unified Ideographs"](Q)||i.isChar["Hangul Syllables"](Q)||i.isChar.Hiragana(Q)||i.isChar.Katakana(Q))},E.prototype._tinySDF=function(Q,de,re){var pe=this.localIdeographFontFamily;if(pe&&this._doesCharSupportLocalGlyph(re)){var ze=Q.tinySDF;if(!ze){var Ke="400";/bold/i.test(de)?Ke="900":/medium/i.test(de)?Ke="500":/light/i.test(de)&&(Ke="200"),ze=Q.tinySDF=new E.TinySDF(24,3,8,.25,pe,Ke)}return{id:re,bitmap:new i.AlphaImage({width:30,height:30},ze.draw(String.fromCharCode(re))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},E.loadGlyphRange=c,E.TinySDF=o;var M=function(){this.specification=i.styleSpec.light.position};M.prototype.possiblyEvaluate=function(Q,de){return i.sphericalToCartesian(Q.expression.evaluate(de))},M.prototype.interpolate=function(Q,de,re){return{x:i.number(Q.x,de.x,re),y:i.number(Q.y,de.y,re),z:i.number(Q.z,de.z,re)}};var f=new i.Properties({anchor:new i.DataConstantProperty(i.styleSpec.light.anchor),position:new M,color:new i.DataConstantProperty(i.styleSpec.light.color),intensity:new i.DataConstantProperty(i.styleSpec.light.intensity)}),P="-transition",T=function(he){function Q(de){he.call(this),this._transitionable=new i.Transitionable(f),this.setLight(de),this._transitioning=this._transitionable.untransitioned()}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getLight=function(){return this._transitionable.serialize()},Q.prototype.setLight=function(re,pe){if(pe===void 0&&(pe={}),!this._validate(i.validateLight,re,pe))for(var ze in re){var Ke=re[ze];i.endsWith(ze,P)?this._transitionable.setTransition(ze.slice(0,-P.length),Ke):this._transitionable.setValue(ze,Ke)}},Q.prototype.updateTransitions=function(re){this._transitioning=this._transitionable.transitioned(re,this._transitioning)},Q.prototype.hasTransition=function(){return this._transitioning.hasTransition()},Q.prototype.recalculate=function(re){this.properties=this._transitioning.possiblyEvaluate(re)},Q.prototype._validate=function(re,pe,ze){return ze&&ze.validate===!1?!1:i.emitValidationErrors(this,re.call(i.validateStyle,i.extend({value:pe,style:{glyphs:!0,sprite:!0},styleSpec:i.styleSpec})))},Q}(i.Evented),z=function(Q,de){this.width=Q,this.height=de,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};z.prototype.getDash=function(Q,de){var re=Q.join(",")+String(de);return this.dashEntry[re]||(this.dashEntry[re]=this.addDash(Q,de)),this.dashEntry[re]},z.prototype.getDashRanges=function(Q,de,re){var pe=Q.length%2===1,ze=[],Ke=pe?-Q[Q.length-1]*re:0,st=Q[0]*re,Ct=!0;ze.push({left:Ke,right:st,isDash:Ct,zeroLength:Q[0]===0});for(var Vt=Q[0],$t=1;$t<Q.length;$t++){Ct=!Ct;var sr=Q[$t];Ke=Vt*re,Vt+=sr,st=Vt*re,ze.push({left:Ke,right:st,isDash:Ct,zeroLength:sr===0})}return ze},z.prototype.addRoundDash=function(Q,de,re){for(var pe=de/2,ze=-re;ze<=re;ze++)for(var Ke=this.nextRow+re+ze,st=this.width*Ke,Ct=0,Vt=Q[Ct],$t=0;$t<this.width;$t++){$t/Vt.right>1&&(Vt=Q[++Ct]);var sr=Math.abs($t-Vt.left),ar=Math.abs($t-Vt.right),kr=Math.min(sr,ar),Yr=void 0,Xr=ze/re*(pe+1);if(Vt.isDash){var Hr=pe-Math.abs(Xr);Yr=Math.sqrt(kr*kr+Hr*Hr)}else Yr=pe-Math.sqrt(kr*kr+Xr*Xr);this.data[st+$t]=Math.max(0,Math.min(255,Yr+128))}},z.prototype.addRegularDash=function(Q){for(var de=Q.length-1;de>=0;--de){var re=Q[de],pe=Q[de+1];re.zeroLength?Q.splice(de,1):pe&&pe.isDash===re.isDash&&(pe.left=re.left,Q.splice(de,1))}var ze=Q[0],Ke=Q[Q.length-1];ze.isDash===Ke.isDash&&(ze.left=Ke.left-this.width,Ke.right=ze.right+this.width);for(var st=this.width*this.nextRow,Ct=0,Vt=Q[Ct],$t=0;$t<this.width;$t++){$t/Vt.right>1&&(Vt=Q[++Ct]);var sr=Math.abs($t-Vt.left),ar=Math.abs($t-Vt.right),kr=Math.min(sr,ar),Yr=Vt.isDash?kr:-kr;this.data[st+$t]=Math.max(0,Math.min(255,Yr+128))}},z.prototype.addDash=function(Q,de){var re=de?7:0,pe=2*re+1;if(this.nextRow+pe>this.height)return i.warnOnce("LineAtlas out of space"),null;for(var ze=0,Ke=0;Ke<Q.length;Ke++)ze+=Q[Ke];if(ze!==0){var st=this.width/ze,Ct=this.getDashRanges(Q,this.width,st);de?this.addRoundDash(Ct,st,re):this.addRegularDash(Ct)}var Vt={y:(this.nextRow+re+.5)/this.height,height:2*re/this.height,width:ze};return this.nextRow+=pe,this.dirty=!0,Vt},z.prototype.bind=function(Q){var de=Q.gl;this.texture?(de.bindTexture(de.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,de.texSubImage2D(de.TEXTURE_2D,0,0,0,this.width,this.height,de.ALPHA,de.UNSIGNED_BYTE,this.data))):(this.texture=de.createTexture(),de.bindTexture(de.TEXTURE_2D,this.texture),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_S,de.REPEAT),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_WRAP_T,de.REPEAT),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MIN_FILTER,de.LINEAR),de.texParameteri(de.TEXTURE_2D,de.TEXTURE_MAG_FILTER,de.LINEAR),de.texImage2D(de.TEXTURE_2D,0,de.ALPHA,this.width,this.height,0,de.ALPHA,de.UNSIGNED_BYTE,this.data))};var _=function he(Q,de){this.workerPool=Q,this.actors=[],this.currentActor=0,this.id=i.uniqueId();for(var re=this.workerPool.acquire(this.id),pe=0;pe<re.length;pe++){var ze=re[pe],Ke=new he.Actor(ze,de,this.id);Ke.name="Worker "+pe,this.actors.push(Ke)}};_.prototype.broadcast=function(Q,de,re){re=re||function(){},i.asyncAll(this.actors,function(pe,ze){pe.send(Q,de,ze)},re)},_.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},_.prototype.remove=function(){this.actors.forEach(function(Q){Q.remove()}),this.actors=[],this.workerPool.release(this.id)},_.Actor=i.Actor;function V(he,Q,de){var re=function(pe,ze){if(pe)return de(pe);if(ze){var Ke=i.pick(i.extend(ze,he),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);ze.vector_layers&&(Ke.vectorLayers=ze.vector_layers,Ke.vectorLayerIds=Ke.vectorLayers.map(function(st){return st.id})),Ke.tiles=Q.canonicalizeTileset(Ke,he.url),de(null,Ke)}};return he.url?i.getJSON(Q.transformRequest(Q.normalizeSourceURL(he.url),i.ResourceType.Source),re):i.browser.frame(function(){return re(null,he)})}var F=function(Q,de,re){this.bounds=i.LngLatBounds.convert(this.validateBounds(Q)),this.minzoom=de||0,this.maxzoom=re||24};F.prototype.validateBounds=function(Q){return!Array.isArray(Q)||Q.length!==4?[-180,-90,180,90]:[Math.max(-180,Q[0]),Math.max(-90,Q[1]),Math.min(180,Q[2]),Math.min(90,Q[3])]},F.prototype.contains=function(Q){var de=Math.pow(2,Q.z),re={minX:Math.floor(i.mercatorXfromLng(this.bounds.getWest())*de),minY:Math.floor(i.mercatorYfromLat(this.bounds.getNorth())*de),maxX:Math.ceil(i.mercatorXfromLng(this.bounds.getEast())*de),maxY:Math.ceil(i.mercatorYfromLat(this.bounds.getSouth())*de)},pe=Q.x>=re.minX&&Q.x<re.maxX&&Q.y>=re.minY&&Q.y<re.maxY;return pe};var N=function(he){function Q(de,re,pe,ze){if(he.call(this),this.id=de,this.dispatcher=pe,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,i.extend(this,i.pick(re,["url","scheme","tileSize","promoteId"])),this._options=i.extend({type:"vector"},re),this._collectResourceTiming=re.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(ze)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.load=function(){var re=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=V(this._options,this.map._requestManager,function(pe,ze){re._tileJSONRequest=null,re._loaded=!0,pe?re.fire(new i.ErrorEvent(pe)):ze&&(i.extend(re,ze),ze.bounds&&(re.tileBounds=new F(ze.bounds,re.minzoom,re.maxzoom)),i.postTurnstileEvent(ze.tiles,re.map._requestManager._customAccessToken),i.postMapLoadEvent(ze.tiles,re.map._getMapId(),re.map._requestManager._skuToken,re.map._requestManager._customAccessToken),re.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),re.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},Q.prototype.loaded=function(){return this._loaded},Q.prototype.hasTile=function(re){return!this.tileBounds||this.tileBounds.contains(re.canonical)},Q.prototype.onAdd=function(re){this.map=re,this.load()},Q.prototype.setSourceProperty=function(re){this._tileJSONRequest&&this._tileJSONRequest.cancel(),re();var pe=this.map.style.sourceCaches[this.id];pe.clearTiles(),this.load()},Q.prototype.setTiles=function(re){var pe=this;return this.setSourceProperty(function(){pe._options.tiles=re}),this},Q.prototype.setUrl=function(re){var pe=this;return this.setSourceProperty(function(){pe.url=re,pe._options.url=re}),this},Q.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Q.prototype.serialize=function(){return i.extend({},this._options)},Q.prototype.loadTile=function(re,pe){var ze=this.map._requestManager.normalizeTileURL(re.tileID.canonical.url(this.tiles,this.scheme)),Ke={request:this.map._requestManager.transformRequest(ze,i.ResourceType.Tile),uid:re.uid,tileID:re.tileID,zoom:re.tileID.overscaledZ,tileSize:this.tileSize*re.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Ke.request.collectResourceTiming=this._collectResourceTiming,!re.actor||re.state==="expired"?(re.actor=this.dispatcher.getActor(),re.request=re.actor.send("loadTile",Ke,st.bind(this))):re.state==="loading"?re.reloadCallback=pe:re.request=re.actor.send("reloadTile",Ke,st.bind(this));function st(Ct,Vt){if(delete re.request,re.aborted)return pe(null);if(Ct&&Ct.status!==404)return pe(Ct);Vt&&Vt.resourceTiming&&(re.resourceTiming=Vt.resourceTiming),this.map._refreshExpiredTiles&&Vt&&re.setExpiryData(Vt),re.loadVectorData(Vt,this.map.painter),i.cacheEntryPossiblyAdded(this.dispatcher),pe(null),re.reloadCallback&&(this.loadTile(re,re.reloadCallback),re.reloadCallback=null)}},Q.prototype.abortTile=function(re){re.request&&(re.request.cancel(),delete re.request),re.actor&&re.actor.send("abortTile",{uid:re.uid,type:this.type,source:this.id},void 0)},Q.prototype.unloadTile=function(re){re.unloadVectorData(),re.actor&&re.actor.send("removeTile",{uid:re.uid,type:this.type,source:this.id},void 0)},Q.prototype.hasTransition=function(){return!1},Q}(i.Evented),k=function(he){function Q(de,re,pe,ze){he.call(this),this.id=de,this.dispatcher=pe,this.setEventedParent(ze),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=i.extend({type:"raster"},re),i.extend(this,i.pick(re,["url","scheme","tileSize"]))}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.load=function(){var re=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=V(this._options,this.map._requestManager,function(pe,ze){re._tileJSONRequest=null,re._loaded=!0,pe?re.fire(new i.ErrorEvent(pe)):ze&&(i.extend(re,ze),ze.bounds&&(re.tileBounds=new F(ze.bounds,re.minzoom,re.maxzoom)),i.postTurnstileEvent(ze.tiles),i.postMapLoadEvent(ze.tiles,re.map._getMapId(),re.map._requestManager._skuToken),re.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),re.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},Q.prototype.loaded=function(){return this._loaded},Q.prototype.onAdd=function(re){this.map=re,this.load()},Q.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Q.prototype.serialize=function(){return i.extend({},this._options)},Q.prototype.hasTile=function(re){return!this.tileBounds||this.tileBounds.contains(re.canonical)},Q.prototype.loadTile=function(re,pe){var ze=this,Ke=this.map._requestManager.normalizeTileURL(re.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);re.request=i.getImage(this.map._requestManager.transformRequest(Ke,i.ResourceType.Tile),function(st,Ct){if(delete re.request,re.aborted)re.state="unloaded",pe(null);else if(st)re.state="errored",pe(st);else if(Ct){ze.map._refreshExpiredTiles&&re.setExpiryData(Ct),delete Ct.cacheControl,delete Ct.expires;var Vt=ze.map.painter.context,$t=Vt.gl;re.texture=ze.map.painter.getTileTexture(Ct.width),re.texture?re.texture.update(Ct,{useMipmap:!0}):(re.texture=new i.Texture(Vt,Ct,$t.RGBA,{useMipmap:!0}),re.texture.bind($t.LINEAR,$t.CLAMP_TO_EDGE,$t.LINEAR_MIPMAP_NEAREST),Vt.extTextureFilterAnisotropic&&$t.texParameterf($t.TEXTURE_2D,Vt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Vt.extTextureFilterAnisotropicMax)),re.state="loaded",i.cacheEntryPossiblyAdded(ze.dispatcher),pe(null)}})},Q.prototype.abortTile=function(re,pe){re.request&&(re.request.cancel(),delete re.request),pe()},Q.prototype.unloadTile=function(re,pe){re.texture&&this.map.painter.saveTileTexture(re.texture),pe()},Q.prototype.hasTransition=function(){return!1},Q}(i.Evented),I=function(he){function Q(de,re,pe,ze){he.call(this,de,re,pe,ze),this.type="raster-dem",this.maxzoom=22,this._options=i.extend({type:"raster-dem"},re),this.encoding=re.encoding||"mapbox"}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},Q.prototype.loadTile=function(re,pe){var ze=this.map._requestManager.normalizeTileURL(re.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);re.request=i.getImage(this.map._requestManager.transformRequest(ze,i.ResourceType.Tile),Ke.bind(this)),re.neighboringTiles=this._getNeighboringTiles(re.tileID);function Ke(Ct,Vt){if(delete re.request,re.aborted)re.state="unloaded",pe(null);else if(Ct)re.state="errored",pe(Ct);else if(Vt){this.map._refreshExpiredTiles&&re.setExpiryData(Vt),delete Vt.cacheControl,delete Vt.expires;var $t=i.window.ImageBitmap&&Vt instanceof i.window.ImageBitmap&&i.offscreenCanvasSupported(),sr=$t?Vt:i.browser.getImageData(Vt,1),ar={uid:re.uid,coord:re.tileID,source:this.id,rawImageData:sr,encoding:this.encoding};(!re.actor||re.state==="expired")&&(re.actor=this.dispatcher.getActor(),re.actor.send("loadDEMTile",ar,st.bind(this)))}}function st(Ct,Vt){Ct&&(re.state="errored",pe(Ct)),Vt&&(re.dem=Vt,re.needsHillshadePrepare=!0,re.state="loaded",pe(null))}},Q.prototype._getNeighboringTiles=function(re){var pe=re.canonical,ze=Math.pow(2,pe.z),Ke=(pe.x-1+ze)%ze,st=pe.x===0?re.wrap-1:re.wrap,Ct=(pe.x+1+ze)%ze,Vt=pe.x+1===ze?re.wrap+1:re.wrap,$t={};return $t[new i.OverscaledTileID(re.overscaledZ,st,pe.z,Ke,pe.y).key]={backfilled:!1},$t[new i.OverscaledTileID(re.overscaledZ,Vt,pe.z,Ct,pe.y).key]={backfilled:!1},pe.y>0&&($t[new i.OverscaledTileID(re.overscaledZ,st,pe.z,Ke,pe.y-1).key]={backfilled:!1},$t[new i.OverscaledTileID(re.overscaledZ,re.wrap,pe.z,pe.x,pe.y-1).key]={backfilled:!1},$t[new i.OverscaledTileID(re.overscaledZ,Vt,pe.z,Ct,pe.y-1).key]={backfilled:!1}),pe.y+1<ze&&($t[new i.OverscaledTileID(re.overscaledZ,st,pe.z,Ke,pe.y+1).key]={backfilled:!1},$t[new i.OverscaledTileID(re.overscaledZ,re.wrap,pe.z,pe.x,pe.y+1).key]={backfilled:!1},$t[new i.OverscaledTileID(re.overscaledZ,Vt,pe.z,Ct,pe.y+1).key]={backfilled:!1}),$t},Q.prototype.unloadTile=function(re){re.demTexture&&this.map.painter.saveTileTexture(re.demTexture),re.fbo&&(re.fbo.destroy(),delete re.fbo),re.dem&&delete re.dem,delete re.neighboringTiles,re.state="unloaded",re.actor&&re.actor.send("removeDEMTile",{uid:re.uid,source:this.id})},Q}(k),H=function(he){function Q(de,re,pe,ze){he.call(this),this.id=de,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=pe.getActor(),this.setEventedParent(ze),this._data=re.data,this._options=i.extend({},re),this._collectResourceTiming=re.collectResourceTiming,this._resourceTiming=[],re.maxzoom!==void 0&&(this.maxzoom=re.maxzoom),re.type&&(this.type=re.type),re.attribution&&(this.attribution=re.attribution),this.promoteId=re.promoteId;var Ke=i.EXTENT/this.tileSize;this.workerOptions=i.extend({source:this.id,cluster:re.cluster||!1,geojsonVtOptions:{buffer:(re.buffer!==void 0?re.buffer:128)*Ke,tolerance:(re.tolerance!==void 0?re.tolerance:.375)*Ke,extent:i.EXTENT,maxZoom:this.maxzoom,lineMetrics:re.lineMetrics||!1,generateId:re.generateId||!1},superclusterOptions:{maxZoom:re.clusterMaxZoom!==void 0?Math.min(re.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,re.clusterMinPoints||2),extent:i.EXTENT,radius:(re.clusterRadius||50)*Ke,log:!1,generateId:re.generateId||!1},clusterProperties:re.clusterProperties,filter:re.filter},re.workerOptions)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.load=function(){var re=this;this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(pe){if(pe){re.fire(new i.ErrorEvent(pe));return}var ze={dataType:"source",sourceDataType:"metadata"};re._collectResourceTiming&&re._resourceTiming&&re._resourceTiming.length>0&&(ze.resourceTiming=re._resourceTiming,re._resourceTiming=[]),re.fire(new i.Event("data",ze))})},Q.prototype.onAdd=function(re){this.map=re,this.load()},Q.prototype.setData=function(re){var pe=this;return this._data=re,this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ze){if(ze){pe.fire(new i.ErrorEvent(ze));return}var Ke={dataType:"source",sourceDataType:"content"};pe._collectResourceTiming&&pe._resourceTiming&&pe._resourceTiming.length>0&&(Ke.resourceTiming=pe._resourceTiming,pe._resourceTiming=[]),pe.fire(new i.Event("data",Ke))}),this},Q.prototype.getClusterExpansionZoom=function(re,pe){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:re,source:this.id},pe),this},Q.prototype.getClusterChildren=function(re,pe){return this.actor.send("geojson.getClusterChildren",{clusterId:re,source:this.id},pe),this},Q.prototype.getClusterLeaves=function(re,pe,ze,Ke){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:re,limit:pe,offset:ze},Ke),this},Q.prototype._updateWorkerData=function(re){var pe=this;this._loaded=!1;var ze=i.extend({},this.workerOptions),Ke=this._data;typeof Ke=="string"?(ze.request=this.map._requestManager.transformRequest(i.browser.resolveURL(Ke),i.ResourceType.Source),ze.request.collectResourceTiming=this._collectResourceTiming):ze.data=JSON.stringify(Ke),this.actor.send(this.type+".loadData",ze,function(st,Ct){pe._removed||Ct&&Ct.abandoned||(pe._loaded=!0,Ct&&Ct.resourceTiming&&Ct.resourceTiming[pe.id]&&(pe._resourceTiming=Ct.resourceTiming[pe.id].slice(0)),pe.actor.send(pe.type+".coalesce",{source:ze.source},null),re(st))})},Q.prototype.loaded=function(){return this._loaded},Q.prototype.loadTile=function(re,pe){var ze=this,Ke=re.actor?"reloadTile":"loadTile";re.actor=this.actor;var st={type:this.type,uid:re.uid,tileID:re.tileID,zoom:re.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};re.request=this.actor.send(Ke,st,function(Ct,Vt){return delete re.request,re.unloadVectorData(),re.aborted?pe(null):Ct?pe(Ct):(re.loadVectorData(Vt,ze.map.painter,Ke==="reloadTile"),pe(null))})},Q.prototype.abortTile=function(re){re.request&&(re.request.cancel(),delete re.request),re.aborted=!0},Q.prototype.unloadTile=function(re){re.unloadVectorData(),this.actor.send("removeTile",{uid:re.uid,type:this.type,source:this.id})},Q.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},Q.prototype.serialize=function(){return i.extend({},this._options,{type:this.type,data:this._data})},Q.prototype.hasTransition=function(){return!1},Q}(i.Evented),j=i.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),ee=function(he){function Q(de,re,pe,ze){he.call(this),this.id=de,this.dispatcher=pe,this.coordinates=re.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(ze),this.options=re}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.load=function(re,pe){var ze=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this.url=this.options.url,i.getImage(this.map._requestManager.transformRequest(this.url,i.ResourceType.Image),function(Ke,st){ze._loaded=!0,Ke?ze.fire(new i.ErrorEvent(Ke)):st&&(ze.image=st,re&&(ze.coordinates=re),pe&&pe(),ze._finishLoading())})},Q.prototype.loaded=function(){return this._loaded},Q.prototype.updateImage=function(re){var pe=this;return!this.image||!re.url?this:(this.options.url=re.url,this.load(re.coordinates,function(){pe.texture=null}),this)},Q.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})))},Q.prototype.onAdd=function(re){this.map=re,this.load()},Q.prototype.setCoordinates=function(re){var pe=this;this.coordinates=re;var ze=re.map(i.MercatorCoordinate.fromLngLat);this.tileID=te(ze),this.minzoom=this.maxzoom=this.tileID.z;var Ke=ze.map(function(st){return pe.tileID.getTilePoint(st)._round()});return this._boundsArray=new i.StructArrayLayout4i8,this._boundsArray.emplaceBack(Ke[0].x,Ke[0].y,0,0),this._boundsArray.emplaceBack(Ke[1].x,Ke[1].y,i.EXTENT,0),this._boundsArray.emplaceBack(Ke[3].x,Ke[3].y,0,i.EXTENT),this._boundsArray.emplaceBack(Ke[2].x,Ke[2].y,i.EXTENT,i.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})),this},Q.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var re=this.map.painter.context,pe=re.gl;this.boundsBuffer||(this.boundsBuffer=re.createVertexBuffer(this._boundsArray,j.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new i.Texture(re,this.image,pe.RGBA),this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE));for(var ze in this.tiles){var Ke=this.tiles[ze];Ke.state!=="loaded"&&(Ke.state="loaded",Ke.texture=this.texture)}}},Q.prototype.loadTile=function(re,pe){this.tileID&&this.tileID.equals(re.tileID.canonical)?(this.tiles[String(re.tileID.wrap)]=re,re.buckets={},pe(null)):(re.state="errored",pe(null))},Q.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},Q.prototype.hasTransition=function(){return!1},Q}(i.Evented);function te(he){for(var Q=1/0,de=1/0,re=-1/0,pe=-1/0,ze=0,Ke=he;ze<Ke.length;ze+=1){var st=Ke[ze];Q=Math.min(Q,st.x),de=Math.min(de,st.y),re=Math.max(re,st.x),pe=Math.max(pe,st.y)}var Ct=re-Q,Vt=pe-de,$t=Math.max(Ct,Vt),sr=Math.max(0,Math.floor(-Math.log($t)/Math.LN2)),ar=Math.pow(2,sr);return new i.CanonicalTileID(sr,Math.floor((Q+re)/2*ar),Math.floor((de+pe)/2*ar))}var ne=function(he){function Q(de,re,pe,ze){he.call(this,de,re,pe,ze),this.roundZoom=!0,this.type="video",this.options=re}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.load=function(){var re=this;this._loaded=!1;var pe=this.options;this.urls=[];for(var ze=0,Ke=pe.urls;ze<Ke.length;ze+=1){var st=Ke[ze];this.urls.push(this.map._requestManager.transformRequest(st,i.ResourceType.Source).url)}i.getVideo(this.urls,function(Ct,Vt){re._loaded=!0,Ct?re.fire(new i.ErrorEvent(Ct)):Vt&&(re.video=Vt,re.video.loop=!0,re.video.addEventListener("playing",function(){re.map.triggerRepaint()}),re.map&&re.video.play(),re._finishLoading())})},Q.prototype.pause=function(){this.video&&this.video.pause()},Q.prototype.play=function(){this.video&&this.video.play()},Q.prototype.seek=function(re){if(this.video){var pe=this.video.seekable;re<pe.start(0)||re>pe.end(0)?this.fire(new i.ErrorEvent(new i.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+pe.start(0)+" and "+pe.end(0)+"-second mark."))):this.video.currentTime=re}},Q.prototype.getVideo=function(){return this.video},Q.prototype.onAdd=function(re){this.map||(this.map=re,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},Q.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var re=this.map.painter.context,pe=re.gl;this.boundsBuffer||(this.boundsBuffer=re.createVertexBuffer(this._boundsArray,j.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE),pe.texSubImage2D(pe.TEXTURE_2D,0,0,0,pe.RGBA,pe.UNSIGNED_BYTE,this.video)):(this.texture=new i.Texture(re,this.video,pe.RGBA),this.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE));for(var ze in this.tiles){var Ke=this.tiles[ze];Ke.state!=="loaded"&&(Ke.state="loaded",Ke.texture=this.texture)}}},Q.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},Q.prototype.hasTransition=function(){return this.video&&!this.video.paused},Q}(ee),ue=function(he){function Q(de,re,pe,ze){he.call(this,de,re,pe,ze),re.coordinates?(!Array.isArray(re.coordinates)||re.coordinates.length!==4||re.coordinates.some(function(Ke){return!Array.isArray(Ke)||Ke.length!==2||Ke.some(function(st){return typeof st!="number"})}))&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+de,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+de,null,'missing required property "coordinates"'))),re.animate&&typeof re.animate!="boolean"&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+de,null,'optional "animate" property must be a boolean value'))),re.canvas?typeof re.canvas!="string"&&!(re.canvas instanceof i.window.HTMLCanvasElement)&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+de,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+de,null,'missing required property "canvas"'))),this.options=re,this.animate=re.animate!==void 0?re.animate:!0}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof i.window.HTMLCanvasElement?this.options.canvas:i.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new i.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},Q.prototype.getCanvas=function(){return this.canvas},Q.prototype.onAdd=function(re){this.map=re,this.load(),this.canvas&&this.animate&&this.play()},Q.prototype.onRemove=function(){this.pause()},Q.prototype.prepare=function(){var re=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,re=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,re=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var pe=this.map.painter.context,ze=pe.gl;this.boundsBuffer||(this.boundsBuffer=pe.createVertexBuffer(this._boundsArray,j.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(re||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new i.Texture(pe,this.canvas,ze.RGBA,{premultiply:!0});for(var Ke in this.tiles){var st=this.tiles[Ke];st.state!=="loaded"&&(st.state="loaded",st.texture=this.texture)}}},Q.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},Q.prototype.hasTransition=function(){return this._playing},Q.prototype._hasInvalidDimensions=function(){for(var re=0,pe=[this.canvas.width,this.canvas.height];re<pe.length;re+=1){var ze=pe[re];if(isNaN(ze)||ze<=0)return!0}return!1},Q}(ee),q={vector:N,raster:k,"raster-dem":I,geojson:H,video:ne,image:ee,canvas:ue},Y=function(he,Q,de,re){var pe=new q[Q.type](he,Q,de,re);if(pe.id!==he)throw new Error("Expected Source id to be "+he+" instead of "+pe.id);return i.bindAll(["load","abort","unload","serialize","prepare"],pe),pe},Z=function(he){return q[he]},G=function(he,Q){q[he]=Q};function K(he,Q){var de=i.identity([]);return i.translate(de,de,[1,1,0]),i.scale(de,de,[he.width*.5,he.height*.5,1]),i.multiply(de,de,he.calculatePosMatrix(Q.toUnwrapped()))}function oe(he,Q,de){if(he)for(var re=0,pe=he;re<pe.length;re+=1){var ze=pe[re],Ke=Q[ze];if(Ke&&Ke.source===de&&Ke.type==="fill-extrusion")return!0}else for(var st in Q){var Ct=Q[st];if(Ct.source===de&&Ct.type==="fill-extrusion")return!0}return!1}function $(he,Q,de,re,pe,ze){var Ke=oe(pe&&pe.layers,Q,he.id),st=ze.maxPitchScaleFactor(),Ct=he.tilesIn(re,st,Ke);Ct.sort(ie);for(var Vt=[],$t=0,sr=Ct;$t<sr.length;$t+=1){var ar=sr[$t];Vt.push({wrappedTileID:ar.tileID.wrapped().key,queryResults:ar.tile.queryRenderedFeatures(Q,de,he._state,ar.queryGeometry,ar.cameraQueryGeometry,ar.scale,pe,ze,st,K(he.transform,ar.tileID))})}var kr=ce(Vt);for(var Yr in kr)kr[Yr].forEach(function(Xr){var Hr=Xr.feature,Kr=he.getFeatureState(Hr.layer["source-layer"],Hr.id);Hr.source=Hr.layer.source,Hr.layer["source-layer"]&&(Hr.sourceLayer=Hr.layer["source-layer"]),Hr.state=Kr});return kr}function J(he,Q,de,re,pe,ze,Ke){for(var st={},Ct=ze.queryRenderedSymbols(re),Vt=[],$t=0,sr=Object.keys(Ct).map(Number);$t<sr.length;$t+=1){var ar=sr[$t];Vt.push(Ke[ar])}Vt.sort(ie);for(var kr=function(){var fn=Xr[Yr],_n=fn.featureIndex.lookupSymbolFeatures(Ct[fn.bucketInstanceId],Q,fn.bucketIndex,fn.sourceLayerIndex,pe.filter,pe.layers,pe.availableImages,he);for(var Fn in _n){var Wn=st[Fn]=st[Fn]||[],Xn=_n[Fn];Xn.sort(function(si,xi){var hi=fn.featureSortOrder;if(hi){var zi=hi.indexOf(si.featureIndex),$i=hi.indexOf(xi.featureIndex);return $i-zi}else return xi.featureIndex-si.featureIndex});for(var Hn=0,jn=Xn;Hn<jn.length;Hn+=1){var ei=jn[Hn];Wn.push(ei)}}},Yr=0,Xr=Vt;Yr<Xr.length;Yr+=1)kr();var Hr=function(fn){st[fn].forEach(function(_n){var Fn=_n.feature,Wn=he[fn],Xn=de[Wn.source],Hn=Xn.getFeatureState(Fn.layer["source-layer"],Fn.id);Fn.source=Fn.layer.source,Fn.layer["source-layer"]&&(Fn.sourceLayer=Fn.layer["source-layer"]),Fn.state=Hn})};for(var Kr in st)Hr(Kr);return st}function se(he,Q){for(var de=he.getRenderableIds().map(function(Ct){return he.getTileByID(Ct)}),re=[],pe={},ze=0;ze<de.length;ze++){var Ke=de[ze],st=Ke.tileID.canonical.key;pe[st]||(pe[st]=!0,Ke.querySourceFeatures(re,Q))}return re}function ie(he,Q){var de=he.tileID,re=Q.tileID;return de.overscaledZ-re.overscaledZ||de.canonical.y-re.canonical.y||de.wrap-re.wrap||de.canonical.x-re.canonical.x}function ce(he){for(var Q={},de={},re=0,pe=he;re<pe.length;re+=1){var ze=pe[re],Ke=ze.queryResults,st=ze.wrappedTileID,Ct=de[st]=de[st]||{};for(var Vt in Ke)for(var $t=Ke[Vt],sr=Ct[Vt]=Ct[Vt]||{},ar=Q[Vt]=Q[Vt]||[],kr=0,Yr=$t;kr<Yr.length;kr+=1){var Xr=Yr[kr];sr[Xr.featureIndex]||(sr[Xr.featureIndex]=!0,ar.push(Xr))}}return Q}var ye=function(Q,de){this.max=Q,this.onRemove=de,this.reset()};ye.prototype.reset=function(){for(var Q in this.data)for(var de=0,re=this.data[Q];de<re.length;de+=1){var pe=re[de];pe.timeout&&clearTimeout(pe.timeout),this.onRemove(pe.value)}return this.data={},this.order=[],this},ye.prototype.add=function(Q,de,re){var pe=this,ze=Q.wrapped().key;this.data[ze]===void 0&&(this.data[ze]=[]);var Ke={value:de,timeout:void 0};if(re!==void 0&&(Ke.timeout=setTimeout(function(){pe.remove(Q,Ke)},re)),this.data[ze].push(Ke),this.order.push(ze),this.order.length>this.max){var st=this._getAndRemoveByKey(this.order[0]);st&&this.onRemove(st)}return this},ye.prototype.has=function(Q){return Q.wrapped().key in this.data},ye.prototype.getAndRemove=function(Q){return this.has(Q)?this._getAndRemoveByKey(Q.wrapped().key):null},ye.prototype._getAndRemoveByKey=function(Q){var de=this.data[Q].shift();return de.timeout&&clearTimeout(de.timeout),this.data[Q].length===0&&delete this.data[Q],this.order.splice(this.order.indexOf(Q),1),de.value},ye.prototype.getByKey=function(Q){var de=this.data[Q];return de?de[0].value:null},ye.prototype.get=function(Q){if(!this.has(Q))return null;var de=this.data[Q.wrapped().key][0];return de.value},ye.prototype.remove=function(Q,de){if(!this.has(Q))return this;var re=Q.wrapped().key,pe=de===void 0?0:this.data[re].indexOf(de),ze=this.data[re][pe];return this.data[re].splice(pe,1),ze.timeout&&clearTimeout(ze.timeout),this.data[re].length===0&&delete this.data[re],this.onRemove(ze.value),this.order.splice(this.order.indexOf(re),1),this},ye.prototype.setMaxSize=function(Q){for(this.max=Q;this.order.length>this.max;){var de=this._getAndRemoveByKey(this.order[0]);de&&this.onRemove(de)}return this},ye.prototype.filter=function(Q){var de=[];for(var re in this.data)for(var pe=0,ze=this.data[re];pe<ze.length;pe+=1){var Ke=ze[pe];Q(Ke.value)||de.push(Ke)}for(var st=0,Ct=de;st<Ct.length;st+=1){var Vt=Ct[st];this.remove(Vt.value.tileID,Vt)}};var Se=function(Q,de,re){this.context=Q;var pe=Q.gl;this.buffer=pe.createBuffer(),this.dynamicDraw=!!re,this.context.unbindVAO(),Q.bindElementBuffer.set(this.buffer),pe.bufferData(pe.ELEMENT_ARRAY_BUFFER,de.arrayBuffer,this.dynamicDraw?pe.DYNAMIC_DRAW:pe.STATIC_DRAW),this.dynamicDraw||delete de.arrayBuffer};Se.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Se.prototype.updateData=function(Q){var de=this.context.gl;this.context.unbindVAO(),this.bind(),de.bufferSubData(de.ELEMENT_ARRAY_BUFFER,0,Q.arrayBuffer)},Se.prototype.destroy=function(){var Q=this.context.gl;this.buffer&&(Q.deleteBuffer(this.buffer),delete this.buffer)};var Te={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},ke=function(Q,de,re,pe){this.length=de.length,this.attributes=re,this.itemSize=de.bytesPerElement,this.dynamicDraw=pe,this.context=Q;var ze=Q.gl;this.buffer=ze.createBuffer(),Q.bindVertexBuffer.set(this.buffer),ze.bufferData(ze.ARRAY_BUFFER,de.arrayBuffer,this.dynamicDraw?ze.DYNAMIC_DRAW:ze.STATIC_DRAW),this.dynamicDraw||delete de.arrayBuffer};ke.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},ke.prototype.updateData=function(Q){var de=this.context.gl;this.bind(),de.bufferSubData(de.ARRAY_BUFFER,0,Q.arrayBuffer)},ke.prototype.enableAttributes=function(Q,de){for(var re=0;re<this.attributes.length;re++){var pe=this.attributes[re],ze=de.attributes[pe.name];ze!==void 0&&Q.enableVertexAttribArray(ze)}},ke.prototype.setVertexAttribPointers=function(Q,de,re){for(var pe=0;pe<this.attributes.length;pe++){var ze=this.attributes[pe],Ke=de.attributes[ze.name];Ke!==void 0&&Q.vertexAttribPointer(Ke,ze.components,Q[Te[ze.type]],!1,this.itemSize,ze.offset+this.itemSize*(re||0))}},ke.prototype.destroy=function(){var Q=this.context.gl;this.buffer&&(Q.deleteBuffer(this.buffer),delete this.buffer)};var we=function(Q){this.gl=Q.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};we.prototype.get=function(){return this.current},we.prototype.set=function(Q){},we.prototype.getDefault=function(){return this.default},we.prototype.setDefault=function(){this.set(this.default)};var Ee=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return i.Color.transparent},Q.prototype.set=function(re){var pe=this.current;re.r===pe.r&&re.g===pe.g&&re.b===pe.b&&re.a===pe.a&&!this.dirty||(this.gl.clearColor(re.r,re.g,re.b,re.a),this.current=re,this.dirty=!1)},Q}(we),xe=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return 1},Q.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.clearDepth(re),this.current=re,this.dirty=!1)},Q}(we),De=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return 0},Q.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.clearStencil(re),this.current=re,this.dirty=!1)},Q}(we),Ve=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return[!0,!0,!0,!0]},Q.prototype.set=function(re){var pe=this.current;re[0]===pe[0]&&re[1]===pe[1]&&re[2]===pe[2]&&re[3]===pe[3]&&!this.dirty||(this.gl.colorMask(re[0],re[1],re[2],re[3]),this.current=re,this.dirty=!1)},Q}(we),Ue=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return!0},Q.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.depthMask(re),this.current=re,this.dirty=!1)},Q}(we),Be=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return 255},Q.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.stencilMask(re),this.current=re,this.dirty=!1)},Q}(we),Xe=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},Q.prototype.set=function(re){var pe=this.current;re.func===pe.func&&re.ref===pe.ref&&re.mask===pe.mask&&!this.dirty||(this.gl.stencilFunc(re.func,re.ref,re.mask),this.current=re,this.dirty=!1)},Q}(we),ot=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){var re=this.gl;return[re.KEEP,re.KEEP,re.KEEP]},Q.prototype.set=function(re){var pe=this.current;re[0]===pe[0]&&re[1]===pe[1]&&re[2]===pe[2]&&!this.dirty||(this.gl.stencilOp(re[0],re[1],re[2]),this.current=re,this.dirty=!1)},Q}(we),ut=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return!1},Q.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var pe=this.gl;re?pe.enable(pe.STENCIL_TEST):pe.disable(pe.STENCIL_TEST),this.current=re,this.dirty=!1}},Q}(we),et=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return[0,1]},Q.prototype.set=function(re){var pe=this.current;re[0]===pe[0]&&re[1]===pe[1]&&!this.dirty||(this.gl.depthRange(re[0],re[1]),this.current=re,this.dirty=!1)},Q}(we),qe=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return!1},Q.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var pe=this.gl;re?pe.enable(pe.DEPTH_TEST):pe.disable(pe.DEPTH_TEST),this.current=re,this.dirty=!1}},Q}(we),ft=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return this.gl.LESS},Q.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.depthFunc(re),this.current=re,this.dirty=!1)},Q}(we),ht=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return!1},Q.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var pe=this.gl;re?pe.enable(pe.BLEND):pe.disable(pe.BLEND),this.current=re,this.dirty=!1}},Q}(we),dt=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){var re=this.gl;return[re.ONE,re.ZERO]},Q.prototype.set=function(re){var pe=this.current;re[0]===pe[0]&&re[1]===pe[1]&&!this.dirty||(this.gl.blendFunc(re[0],re[1]),this.current=re,this.dirty=!1)},Q}(we),mt=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return i.Color.transparent},Q.prototype.set=function(re){var pe=this.current;re.r===pe.r&&re.g===pe.g&&re.b===pe.b&&re.a===pe.a&&!this.dirty||(this.gl.blendColor(re.r,re.g,re.b,re.a),this.current=re,this.dirty=!1)},Q}(we),St=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return this.gl.FUNC_ADD},Q.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.blendEquation(re),this.current=re,this.dirty=!1)},Q}(we),rt=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return!1},Q.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var pe=this.gl;re?pe.enable(pe.CULL_FACE):pe.disable(pe.CULL_FACE),this.current=re,this.dirty=!1}},Q}(we),Oe=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return this.gl.BACK},Q.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.cullFace(re),this.current=re,this.dirty=!1)},Q}(we),Ye=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return this.gl.CCW},Q.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.frontFace(re),this.current=re,this.dirty=!1)},Q}(we),Ze=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return null},Q.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.useProgram(re),this.current=re,this.dirty=!1)},Q}(we),Ge=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return this.gl.TEXTURE0},Q.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.activeTexture(re),this.current=re,this.dirty=!1)},Q}(we),_e=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){var re=this.gl;return[0,0,re.drawingBufferWidth,re.drawingBufferHeight]},Q.prototype.set=function(re){var pe=this.current;re[0]===pe[0]&&re[1]===pe[1]&&re[2]===pe[2]&&re[3]===pe[3]&&!this.dirty||(this.gl.viewport(re[0],re[1],re[2],re[3]),this.current=re,this.dirty=!1)},Q}(we),be=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return null},Q.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var pe=this.gl;pe.bindFramebuffer(pe.FRAMEBUFFER,re),this.current=re,this.dirty=!1}},Q}(we),me=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return null},Q.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var pe=this.gl;pe.bindRenderbuffer(pe.RENDERBUFFER,re),this.current=re,this.dirty=!1}},Q}(we),Ce=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return null},Q.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var pe=this.gl;pe.bindTexture(pe.TEXTURE_2D,re),this.current=re,this.dirty=!1}},Q}(we),Me=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return null},Q.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var pe=this.gl;pe.bindBuffer(pe.ARRAY_BUFFER,re),this.current=re,this.dirty=!1}},Q}(we),Ne=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return null},Q.prototype.set=function(re){var pe=this.gl;pe.bindBuffer(pe.ELEMENT_ARRAY_BUFFER,re),this.current=re,this.dirty=!1},Q}(we),je=function(he){function Q(de){he.call(this,de),this.vao=de.extVertexArrayObject}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return null},Q.prototype.set=function(re){!this.vao||re===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(re),this.current=re,this.dirty=!1)},Q}(we),tt=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return 4},Q.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_ALIGNMENT,re),this.current=re,this.dirty=!1}},Q}(we),ct=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return!1},Q.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re),this.current=re,this.dirty=!1}},Q}(we),pt=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return!1},Q.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var pe=this.gl;pe.pixelStorei(pe.UNPACK_FLIP_Y_WEBGL,re),this.current=re,this.dirty=!1}},Q}(we),Xt=function(he){function Q(de,re){he.call(this,de),this.context=de,this.parent=re}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getDefault=function(){return null},Q}(we),Yt=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.setDirty=function(){this.dirty=!0},Q.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var pe=this.gl;pe.framebufferTexture2D(pe.FRAMEBUFFER,pe.COLOR_ATTACHMENT0,pe.TEXTURE_2D,re,0),this.current=re,this.dirty=!1}},Q}(Xt),Tt=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var pe=this.gl;pe.framebufferRenderbuffer(pe.FRAMEBUFFER,pe.DEPTH_ATTACHMENT,pe.RENDERBUFFER,re),this.current=re,this.dirty=!1}},Q}(Xt),_t=function(Q,de,re,pe){this.context=Q,this.width=de,this.height=re;var ze=Q.gl,Ke=this.framebuffer=ze.createFramebuffer();this.colorAttachment=new Yt(Q,Ke),pe&&(this.depthAttachment=new Tt(Q,Ke))};_t.prototype.destroy=function(){var Q=this.context.gl,de=this.colorAttachment.get();if(de&&Q.deleteTexture(de),this.depthAttachment){var re=this.depthAttachment.get();re&&Q.deleteRenderbuffer(re)}Q.deleteFramebuffer(this.framebuffer)};var Qt=519,wr=function(Q,de,re){this.func=Q,this.mask=de,this.range=re};wr.ReadOnly=!1,wr.ReadWrite=!0,wr.disabled=new wr(Qt,wr.ReadOnly,[0,1]);var xt=519,jt=7680,Jt=function(Q,de,re,pe,ze,Ke){this.test=Q,this.ref=de,this.mask=re,this.fail=pe,this.depthFail=ze,this.pass=Ke};Jt.disabled=new Jt({func:xt,mask:0},0,0,jt,jt,jt);var gr=0,or=1,yt=771,at=function(Q,de,re){this.blendFunction=Q,this.blendColor=de,this.mask=re};at.Replace=[or,gr],at.disabled=new at(at.Replace,i.Color.transparent,[!1,!1,!1,!1]),at.unblended=new at(at.Replace,i.Color.transparent,[!0,!0,!0,!0]),at.alphaBlended=new at([or,yt],i.Color.transparent,[!0,!0,!0,!0]);var wt=1029,Et=2305,Rt=function(Q,de,re){this.enable=Q,this.mode=de,this.frontFace=re};Rt.disabled=new Rt(!1,wt,Et),Rt.backCCW=new Rt(!0,wt,Et);var Dt=function(Q){this.gl=Q,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ee(this),this.clearDepth=new xe(this),this.clearStencil=new De(this),this.colorMask=new Ve(this),this.depthMask=new Ue(this),this.stencilMask=new Be(this),this.stencilFunc=new Xe(this),this.stencilOp=new ot(this),this.stencilTest=new ut(this),this.depthRange=new et(this),this.depthTest=new qe(this),this.depthFunc=new ft(this),this.blend=new ht(this),this.blendFunc=new dt(this),this.blendColor=new mt(this),this.blendEquation=new St(this),this.cullFace=new rt(this),this.cullFaceSide=new Oe(this),this.frontFace=new Ye(this),this.program=new Ze(this),this.activeTexture=new Ge(this),this.viewport=new _e(this),this.bindFramebuffer=new be(this),this.bindRenderbuffer=new me(this),this.bindTexture=new Ce(this),this.bindVertexBuffer=new Me(this),this.bindElementBuffer=new Ne(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new je(this),this.pixelStoreUnpack=new tt(this),this.pixelStoreUnpackPremultiplyAlpha=new ct(this),this.pixelStoreUnpackFlipY=new pt(this),this.extTextureFilterAnisotropic=Q.getExtension("EXT_texture_filter_anisotropic")||Q.getExtension("MOZ_EXT_texture_filter_anisotropic")||Q.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=Q.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=Q.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(Q.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=Q.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=Q.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=Q.getParameter(Q.MAX_TEXTURE_SIZE)};Dt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Dt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Dt.prototype.createIndexBuffer=function(Q,de){return new Se(this,Q,de)},Dt.prototype.createVertexBuffer=function(Q,de,re){return new ke(this,Q,de,re)},Dt.prototype.createRenderbuffer=function(Q,de,re){var pe=this.gl,ze=pe.createRenderbuffer();return this.bindRenderbuffer.set(ze),pe.renderbufferStorage(pe.RENDERBUFFER,Q,de,re),this.bindRenderbuffer.set(null),ze},Dt.prototype.createFramebuffer=function(Q,de,re){return new _t(this,Q,de,re)},Dt.prototype.clear=function(Q){var de=Q.color,re=Q.depth,pe=this.gl,ze=0;de&&(ze|=pe.COLOR_BUFFER_BIT,this.clearColor.set(de),this.colorMask.set([!0,!0,!0,!0])),typeof re<"u"&&(ze|=pe.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(re),this.depthMask.set(!0)),pe.clear(ze)},Dt.prototype.setCullFace=function(Q){Q.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(Q.mode),this.frontFace.set(Q.frontFace))},Dt.prototype.setDepthMode=function(Q){Q.func===this.gl.ALWAYS&&!Q.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(Q.func),this.depthMask.set(Q.mask),this.depthRange.set(Q.range))},Dt.prototype.setStencilMode=function(Q){Q.test.func===this.gl.ALWAYS&&!Q.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(Q.mask),this.stencilOp.set([Q.fail,Q.depthFail,Q.pass]),this.stencilFunc.set({func:Q.test.func,ref:Q.ref,mask:Q.test.mask}))},Dt.prototype.setColorMode=function(Q){i.deepEqual(Q.blendFunction,at.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(Q.blendFunction),this.blendColor.set(Q.blendColor)),this.colorMask.set(Q.mask)},Dt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Ut=function(he){function Q(de,re,pe){var ze=this;he.call(this),this.id=de,this.dispatcher=pe,this.on("data",function(Ke){Ke.dataType==="source"&&Ke.sourceDataType==="metadata"&&(ze._sourceLoaded=!0),ze._sourceLoaded&&!ze._paused&&Ke.dataType==="source"&&Ke.sourceDataType==="content"&&(ze.reload(),ze.transform&&ze.update(ze.transform))}),this.on("error",function(){ze._sourceErrored=!0}),this._source=Y(de,re,pe,this),this._tiles={},this._cache=new ye(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new i.SourceFeatureState}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.onAdd=function(re){this.map=re,this._maxTileCacheSize=re?re._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(re)},Q.prototype.onRemove=function(re){this._source&&this._source.onRemove&&this._source.onRemove(re)},Q.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var re in this._tiles){var pe=this._tiles[re];if(pe.state!=="loaded"&&pe.state!=="errored")return!1}return!0},Q.prototype.getSource=function(){return this._source},Q.prototype.pause=function(){this._paused=!0},Q.prototype.resume=function(){if(this._paused){var re=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,re&&this.reload(),this.transform&&this.update(this.transform)}},Q.prototype._loadTile=function(re,pe){return this._source.loadTile(re,pe)},Q.prototype._unloadTile=function(re){if(this._source.unloadTile)return this._source.unloadTile(re,function(){})},Q.prototype._abortTile=function(re){if(this._source.abortTile)return this._source.abortTile(re,function(){})},Q.prototype.serialize=function(){return this._source.serialize()},Q.prototype.prepare=function(re){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var pe in this._tiles){var ze=this._tiles[pe];ze.upload(re),ze.prepare(this.map.style.imageManager)}},Q.prototype.getIds=function(){return i.values(this._tiles).map(function(re){return re.tileID}).sort(Nt).map(function(re){return re.key})},Q.prototype.getRenderableIds=function(re){var pe=this,ze=[];for(var Ke in this._tiles)this._isIdRenderable(Ke,re)&&ze.push(this._tiles[Ke]);return re?ze.sort(function(st,Ct){var Vt=st.tileID,$t=Ct.tileID,sr=new i.Point(Vt.canonical.x,Vt.canonical.y)._rotate(pe.transform.angle),ar=new i.Point($t.canonical.x,$t.canonical.y)._rotate(pe.transform.angle);return Vt.overscaledZ-$t.overscaledZ||ar.y-sr.y||ar.x-sr.x}).map(function(st){return st.tileID.key}):ze.map(function(st){return st.tileID}).sort(Nt).map(function(st){return st.key})},Q.prototype.hasRenderableParent=function(re){var pe=this.findLoadedParent(re,0);return pe?this._isIdRenderable(pe.tileID.key):!1},Q.prototype._isIdRenderable=function(re,pe){return this._tiles[re]&&this._tiles[re].hasData()&&!this._coveredTiles[re]&&(pe||!this._tiles[re].holdingForFade())},Q.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var re in this._tiles)this._tiles[re].state!=="errored"&&this._reloadTile(re,"reloading")},Q.prototype._reloadTile=function(re,pe){var ze=this._tiles[re];ze&&(ze.state!=="loading"&&(ze.state=pe),this._loadTile(ze,this._tileLoaded.bind(this,ze,re,pe)))},Q.prototype._tileLoaded=function(re,pe,ze,Ke){if(Ke){re.state="errored",Ke.status!==404?this._source.fire(new i.ErrorEvent(Ke,{tile:re})):this.update(this.transform);return}re.timeAdded=i.browser.now(),ze==="expired"&&(re.refreshedUponExpiration=!0),this._setTileReloadTimer(pe,re),this.getSource().type==="raster-dem"&&re.dem&&this._backfillDEM(re),this._state.initializeTileState(re,this.map?this.map.painter:null),this._source.fire(new i.Event("data",{dataType:"source",tile:re,coord:re.tileID}))},Q.prototype._backfillDEM=function(re){for(var pe=this.getRenderableIds(),ze=0;ze<pe.length;ze++){var Ke=pe[ze];if(re.neighboringTiles&&re.neighboringTiles[Ke]){var st=this.getTileByID(Ke);Ct(re,st),Ct(st,re)}}function Ct(Vt,$t){Vt.needsHillshadePrepare=!0;var sr=$t.tileID.canonical.x-Vt.tileID.canonical.x,ar=$t.tileID.canonical.y-Vt.tileID.canonical.y,kr=Math.pow(2,Vt.tileID.canonical.z),Yr=$t.tileID.key;sr===0&&ar===0||Math.abs(ar)>1||(Math.abs(sr)>1&&(Math.abs(sr+kr)===1?sr+=kr:Math.abs(sr-kr)===1&&(sr-=kr)),!(!$t.dem||!Vt.dem)&&(Vt.dem.backfillBorder($t.dem,sr,ar),Vt.neighboringTiles&&Vt.neighboringTiles[Yr]&&(Vt.neighboringTiles[Yr].backfilled=!0)))}},Q.prototype.getTile=function(re){return this.getTileByID(re.key)},Q.prototype.getTileByID=function(re){return this._tiles[re]},Q.prototype._retainLoadedChildren=function(re,pe,ze,Ke){for(var st in this._tiles){var Ct=this._tiles[st];if(!(Ke[st]||!Ct.hasData()||Ct.tileID.overscaledZ<=pe||Ct.tileID.overscaledZ>ze)){for(var Vt=Ct.tileID;Ct&&Ct.tileID.overscaledZ>pe+1;){var $t=Ct.tileID.scaledTo(Ct.tileID.overscaledZ-1);Ct=this._tiles[$t.key],Ct&&Ct.hasData()&&(Vt=$t)}for(var sr=Vt;sr.overscaledZ>pe;)if(sr=sr.scaledTo(sr.overscaledZ-1),re[sr.key]){Ke[Vt.key]=Vt;break}}}},Q.prototype.findLoadedParent=function(re,pe){if(re.key in this._loadedParentTiles){var ze=this._loadedParentTiles[re.key];return ze&&ze.tileID.overscaledZ>=pe?ze:null}for(var Ke=re.overscaledZ-1;Ke>=pe;Ke--){var st=re.scaledTo(Ke),Ct=this._getLoadedTile(st);if(Ct)return Ct}},Q.prototype._getLoadedTile=function(re){var pe=this._tiles[re.key];if(pe&&pe.hasData())return pe;var ze=this._cache.getByKey(re.wrapped().key);return ze},Q.prototype.updateCacheSize=function(re){var pe=Math.ceil(re.width/this._source.tileSize)+1,ze=Math.ceil(re.height/this._source.tileSize)+1,Ke=pe*ze,st=5,Ct=Math.floor(Ke*st),Vt=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,Ct):Ct;this._cache.setMaxSize(Vt)},Q.prototype.handleWrapJump=function(re){var pe=this._prevLng===void 0?re:this._prevLng,ze=re-pe,Ke=ze/360,st=Math.round(Ke);if(this._prevLng=re,st){var Ct={};for(var Vt in this._tiles){var $t=this._tiles[Vt];$t.tileID=$t.tileID.unwrapTo($t.tileID.wrap+st),Ct[$t.tileID.key]=$t}this._tiles=Ct;for(var sr in this._timers)clearTimeout(this._timers[sr]),delete this._timers[sr];for(var ar in this._tiles){var kr=this._tiles[ar];this._setTileReloadTimer(ar,kr)}}},Q.prototype.update=function(re){var pe=this;if(this.transform=re,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(re),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var ze;this.used?this._source.tileID?ze=re.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(si){return new i.OverscaledTileID(si.canonical.z,si.wrap,si.canonical.z,si.canonical.x,si.canonical.y)}):(ze=re.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(ze=ze.filter(function(si){return pe._source.hasTile(si)}))):ze=[];var Ke=re.coveringZoomLevel(this._source),st=Math.max(Ke-Q.maxOverzooming,this._source.minzoom),Ct=Math.max(Ke+Q.maxUnderzooming,this._source.minzoom),Vt=this._updateRetainedTiles(ze,Ke);if(Kt(this._source.type)){for(var $t={},sr={},ar=Object.keys(Vt),kr=0,Yr=ar;kr<Yr.length;kr+=1){var Xr=Yr[kr],Hr=Vt[Xr],Kr=this._tiles[Xr];if(!(!Kr||Kr.fadeEndTime&&Kr.fadeEndTime<=i.browser.now())){var fn=this.findLoadedParent(Hr,st);fn&&(this._addTile(fn.tileID),$t[fn.tileID.key]=fn.tileID),sr[Xr]=Hr}}this._retainLoadedChildren(sr,Ke,Ct,Vt);for(var _n in $t)Vt[_n]||(this._coveredTiles[_n]=!0,Vt[_n]=$t[_n])}for(var Fn in Vt)this._tiles[Fn].clearFadeHold();for(var Wn=i.keysDifference(this._tiles,Vt),Xn=0,Hn=Wn;Xn<Hn.length;Xn+=1){var jn=Hn[Xn],ei=this._tiles[jn];ei.hasSymbolBuckets&&!ei.holdingForFade()?ei.setHoldDuration(this.map._fadeDuration):(!ei.hasSymbolBuckets||ei.symbolFadeFinished())&&this._removeTile(jn)}this._updateLoadedParentTileCache()}},Q.prototype.releaseSymbolFadeTiles=function(){for(var re in this._tiles)this._tiles[re].holdingForFade()&&this._removeTile(re)},Q.prototype._updateRetainedTiles=function(re,pe){for(var ze={},Ke={},st=Math.max(pe-Q.maxOverzooming,this._source.minzoom),Ct=Math.max(pe+Q.maxUnderzooming,this._source.minzoom),Vt={},$t=0,sr=re;$t<sr.length;$t+=1){var ar=sr[$t],kr=this._addTile(ar);ze[ar.key]=ar,!kr.hasData()&&pe<this._source.maxzoom&&(Vt[ar.key]=ar)}this._retainLoadedChildren(Vt,pe,Ct,ze);for(var Yr=0,Xr=re;Yr<Xr.length;Yr+=1){var Hr=Xr[Yr],Kr=this._tiles[Hr.key];if(!Kr.hasData()){if(pe+1>this._source.maxzoom){var fn=Hr.children(this._source.maxzoom)[0],_n=this.getTile(fn);if(_n&&_n.hasData()){ze[fn.key]=fn;continue}}else{var Fn=Hr.children(this._source.maxzoom);if(ze[Fn[0].key]&&ze[Fn[1].key]&&ze[Fn[2].key]&&ze[Fn[3].key])continue}for(var Wn=Kr.wasRequested(),Xn=Hr.overscaledZ-1;Xn>=st;--Xn){var Hn=Hr.scaledTo(Xn);if(Ke[Hn.key]||(Ke[Hn.key]=!0,Kr=this.getTile(Hn),!Kr&&Wn&&(Kr=this._addTile(Hn)),Kr&&(ze[Hn.key]=Hn,Wn=Kr.wasRequested(),Kr.hasData())))break}}}return ze},Q.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var re in this._tiles){for(var pe=[],ze=void 0,Ke=this._tiles[re].tileID;Ke.overscaledZ>0;){if(Ke.key in this._loadedParentTiles){ze=this._loadedParentTiles[Ke.key];break}pe.push(Ke.key);var st=Ke.scaledTo(Ke.overscaledZ-1);if(ze=this._getLoadedTile(st),ze)break;Ke=st}for(var Ct=0,Vt=pe;Ct<Vt.length;Ct+=1){var $t=Vt[Ct];this._loadedParentTiles[$t]=ze}}},Q.prototype._addTile=function(re){var pe=this._tiles[re.key];if(pe)return pe;pe=this._cache.getAndRemove(re),pe&&(this._setTileReloadTimer(re.key,pe),pe.tileID=re,this._state.initializeTileState(pe,this.map?this.map.painter:null),this._cacheTimers[re.key]&&(clearTimeout(this._cacheTimers[re.key]),delete this._cacheTimers[re.key],this._setTileReloadTimer(re.key,pe)));var ze=!!pe;return ze||(pe=new i.Tile(re,this._source.tileSize*re.overscaleFactor()),this._loadTile(pe,this._tileLoaded.bind(this,pe,re.key,pe.state))),pe?(pe.uses++,this._tiles[re.key]=pe,ze||this._source.fire(new i.Event("dataloading",{tile:pe,coord:pe.tileID,dataType:"source"})),pe):null},Q.prototype._setTileReloadTimer=function(re,pe){var ze=this;re in this._timers&&(clearTimeout(this._timers[re]),delete this._timers[re]);var Ke=pe.getExpiryTimeout();Ke&&(this._timers[re]=setTimeout(function(){ze._reloadTile(re,"expired"),delete ze._timers[re]},Ke))},Q.prototype._removeTile=function(re){var pe=this._tiles[re];pe&&(pe.uses--,delete this._tiles[re],this._timers[re]&&(clearTimeout(this._timers[re]),delete this._timers[re]),!(pe.uses>0)&&(pe.hasData()&&pe.state!=="reloading"?this._cache.add(pe.tileID,pe,pe.getExpiryTimeout()):(pe.aborted=!0,this._abortTile(pe),this._unloadTile(pe))))},Q.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var re in this._tiles)this._removeTile(re);this._cache.reset()},Q.prototype.tilesIn=function(re,pe,ze){var Ke=this,st=[],Ct=this.transform;if(!Ct)return st;for(var Vt=ze?Ct.getCameraQueryGeometry(re):re,$t=re.map(function(Xn){return Ct.pointCoordinate(Xn)}),sr=Vt.map(function(Xn){return Ct.pointCoordinate(Xn)}),ar=this.getIds(),kr=1/0,Yr=1/0,Xr=-1/0,Hr=-1/0,Kr=0,fn=sr;Kr<fn.length;Kr+=1){var _n=fn[Kr];kr=Math.min(kr,_n.x),Yr=Math.min(Yr,_n.y),Xr=Math.max(Xr,_n.x),Hr=Math.max(Hr,_n.y)}for(var Fn=function(Xn){var Hn=Ke._tiles[ar[Xn]];if(!Hn.holdingForFade()){var jn=Hn.tileID,ei=Math.pow(2,Ct.zoom-Hn.tileID.overscaledZ),si=pe*Hn.queryPadding*i.EXTENT/Hn.tileSize/ei,xi=[jn.getTilePoint(new i.MercatorCoordinate(kr,Yr)),jn.getTilePoint(new i.MercatorCoordinate(Xr,Hr))];if(xi[0].x-si<i.EXTENT&&xi[0].y-si<i.EXTENT&&xi[1].x+si>=0&&xi[1].y+si>=0){var hi=$t.map(function($i){return jn.getTilePoint($i)}),zi=sr.map(function($i){return jn.getTilePoint($i)});st.push({tile:Hn,tileID:jn,queryGeometry:hi,cameraQueryGeometry:zi,scale:ei})}}},Wn=0;Wn<ar.length;Wn++)Fn(Wn);return st},Q.prototype.getVisibleCoordinates=function(re){for(var pe=this,ze=this.getRenderableIds(re).map(function(Vt){return pe._tiles[Vt].tileID}),Ke=0,st=ze;Ke<st.length;Ke+=1){var Ct=st[Ke];Ct.posMatrix=this.transform.calculatePosMatrix(Ct.toUnwrapped())}return ze},Q.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Kt(this._source.type))for(var re in this._tiles){var pe=this._tiles[re];if(pe.fadeEndTime!==void 0&&pe.fadeEndTime>=i.browser.now())return!0}return!1},Q.prototype.setFeatureState=function(re,pe,ze){re=re||"_geojsonTileLayer",this._state.updateState(re,pe,ze)},Q.prototype.removeFeatureState=function(re,pe,ze){re=re||"_geojsonTileLayer",this._state.removeFeatureState(re,pe,ze)},Q.prototype.getFeatureState=function(re,pe){return re=re||"_geojsonTileLayer",this._state.getState(re,pe)},Q.prototype.setDependencies=function(re,pe,ze){var Ke=this._tiles[re];Ke&&Ke.setDependencies(pe,ze)},Q.prototype.reloadTilesForDependencies=function(re,pe){for(var ze in this._tiles){var Ke=this._tiles[ze];Ke.hasDependency(re,pe)&&this._reloadTile(ze,"reloading")}this._cache.filter(function(st){return!st.hasDependency(re,pe)})},Q}(i.Evented);Ut.maxOverzooming=10,Ut.maxUnderzooming=3;function Nt(he,Q){var de=Math.abs(he.wrap*2)-+(he.wrap<0),re=Math.abs(Q.wrap*2)-+(Q.wrap<0);return he.overscaledZ-Q.overscaledZ||re-de||Q.canonical.y-he.canonical.y||Q.canonical.x-he.canonical.x}function Kt(he){return he==="raster"||he==="image"||he==="video"}function ur(){return new i.window.Worker(so.workerUrl)}var fr="mapboxgl_preloaded_worker_pool",vr=function(){this.active={}};vr.prototype.acquire=function(Q){if(!this.workers)for(this.workers=[];this.workers.length<vr.workerCount;)this.workers.push(new ur);return this.active[Q]=!0,this.workers.slice()},vr.prototype.release=function(Q){delete this.active[Q],this.numActive()===0&&(this.workers.forEach(function(de){de.terminate()}),this.workers=null)},vr.prototype.isPreloaded=function(){return!!this.active[fr]},vr.prototype.numActive=function(){return Object.keys(this.active).length};var We=Math.floor(i.browser.hardwareConcurrency/2);vr.workerCount=Math.max(Math.min(We,6),1);var He;function zt(){return He||(He=new vr),He}function kt(){var he=zt();he.acquire(fr)}function Zt(){var he=He;he&&(he.isPreloaded()&&he.numActive()===1?(he.release(fr),He=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function er(he,Q){var de={};for(var re in he)re!=="ref"&&(de[re]=he[re]);return i.refProperties.forEach(function(pe){pe in Q&&(de[pe]=Q[pe])}),de}function lr(he){he=he.slice();for(var Q=Object.create(null),de=0;de<he.length;de++)Q[he[de].id]=he[de];for(var re=0;re<he.length;re++)"ref"in he[re]&&(he[re]=er(he[re],Q[he[re].ref]));return he}function rr(){var he={},Q=i.styleSpec.$version;for(var de in i.styleSpec.$root){var re=i.styleSpec.$root[de];if(re.required){var pe=null;de==="version"?pe=Q:re.type==="array"?pe=[]:pe={},pe!=null&&(he[de]=pe)}}return he}var Ft={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function cr(he,Q,de){de.push({command:Ft.addSource,args:[he,Q[he]]})}function pr(he,Q,de){Q.push({command:Ft.removeSource,args:[he]}),de[he]=!0}function mr(he,Q,de,re){pr(he,de,re),cr(he,Q,de)}function hr(he,Q,de){var re;for(re in he[de])if(he[de].hasOwnProperty(re)&&re!=="data"&&!i.deepEqual(he[de][re],Q[de][re]))return!1;for(re in Q[de])if(Q[de].hasOwnProperty(re)&&re!=="data"&&!i.deepEqual(he[de][re],Q[de][re]))return!1;return!0}function Gr(he,Q,de,re){he=he||{},Q=Q||{};var pe;for(pe in he)he.hasOwnProperty(pe)&&(Q.hasOwnProperty(pe)||pr(pe,de,re));for(pe in Q)Q.hasOwnProperty(pe)&&(he.hasOwnProperty(pe)?i.deepEqual(he[pe],Q[pe])||(he[pe].type==="geojson"&&Q[pe].type==="geojson"&&hr(he,Q,pe)?de.push({command:Ft.setGeoJSONSourceData,args:[pe,Q[pe].data]}):mr(pe,Q,de,re)):cr(pe,Q,de))}function Dr(he,Q,de,re,pe,ze){he=he||{},Q=Q||{};var Ke;for(Ke in he)he.hasOwnProperty(Ke)&&(i.deepEqual(he[Ke],Q[Ke])||de.push({command:ze,args:[re,Ke,Q[Ke],pe]}));for(Ke in Q)!Q.hasOwnProperty(Ke)||he.hasOwnProperty(Ke)||i.deepEqual(he[Ke],Q[Ke])||de.push({command:ze,args:[re,Ke,Q[Ke],pe]})}function Ir(he){return he.id}function cn(he,Q){return he[Q.id]=Q,he}function rn(he,Q,de){he=he||[],Q=Q||[];var re=he.map(Ir),pe=Q.map(Ir),ze=he.reduce(cn,{}),Ke=Q.reduce(cn,{}),st=re.slice(),Ct=Object.create(null),Vt,$t,sr,ar,kr,Yr,Xr;for(Vt=0,$t=0;Vt<re.length;Vt++)sr=re[Vt],Ke.hasOwnProperty(sr)?$t++:(de.push({command:Ft.removeLayer,args:[sr]}),st.splice(st.indexOf(sr,$t),1));for(Vt=0,$t=0;Vt<pe.length;Vt++)sr=pe[pe.length-1-Vt],st[st.length-1-Vt]!==sr&&(ze.hasOwnProperty(sr)?(de.push({command:Ft.removeLayer,args:[sr]}),st.splice(st.lastIndexOf(sr,st.length-$t),1)):$t++,Yr=st[st.length-Vt],de.push({command:Ft.addLayer,args:[Ke[sr],Yr]}),st.splice(st.length-Vt,0,sr),Ct[sr]=!0);for(Vt=0;Vt<pe.length;Vt++)if(sr=pe[Vt],ar=ze[sr],kr=Ke[sr],!(Ct[sr]||i.deepEqual(ar,kr))){if(!i.deepEqual(ar.source,kr.source)||!i.deepEqual(ar["source-layer"],kr["source-layer"])||!i.deepEqual(ar.type,kr.type)){de.push({command:Ft.removeLayer,args:[sr]}),Yr=st[st.lastIndexOf(sr)+1],de.push({command:Ft.addLayer,args:[kr,Yr]});continue}Dr(ar.layout,kr.layout,de,sr,null,Ft.setLayoutProperty),Dr(ar.paint,kr.paint,de,sr,null,Ft.setPaintProperty),i.deepEqual(ar.filter,kr.filter)||de.push({command:Ft.setFilter,args:[sr,kr.filter]}),(!i.deepEqual(ar.minzoom,kr.minzoom)||!i.deepEqual(ar.maxzoom,kr.maxzoom))&&de.push({command:Ft.setLayerZoomRange,args:[sr,kr.minzoom,kr.maxzoom]});for(Xr in ar)ar.hasOwnProperty(Xr)&&(Xr==="layout"||Xr==="paint"||Xr==="filter"||Xr==="metadata"||Xr==="minzoom"||Xr==="maxzoom"||(Xr.indexOf("paint.")===0?Dr(ar[Xr],kr[Xr],de,sr,Xr.slice(6),Ft.setPaintProperty):i.deepEqual(ar[Xr],kr[Xr])||de.push({command:Ft.setLayerProperty,args:[sr,Xr,kr[Xr]]})));for(Xr in kr)!kr.hasOwnProperty(Xr)||ar.hasOwnProperty(Xr)||Xr==="layout"||Xr==="paint"||Xr==="filter"||Xr==="metadata"||Xr==="minzoom"||Xr==="maxzoom"||(Xr.indexOf("paint.")===0?Dr(ar[Xr],kr[Xr],de,sr,Xr.slice(6),Ft.setPaintProperty):i.deepEqual(ar[Xr],kr[Xr])||de.push({command:Ft.setLayerProperty,args:[sr,Xr,kr[Xr]]}))}}function Cn(he,Q){if(!he)return[{command:Ft.setStyle,args:[Q]}];var de=[];try{if(!i.deepEqual(he.version,Q.version))return[{command:Ft.setStyle,args:[Q]}];i.deepEqual(he.center,Q.center)||de.push({command:Ft.setCenter,args:[Q.center]}),i.deepEqual(he.zoom,Q.zoom)||de.push({command:Ft.setZoom,args:[Q.zoom]}),i.deepEqual(he.bearing,Q.bearing)||de.push({command:Ft.setBearing,args:[Q.bearing]}),i.deepEqual(he.pitch,Q.pitch)||de.push({command:Ft.setPitch,args:[Q.pitch]}),i.deepEqual(he.sprite,Q.sprite)||de.push({command:Ft.setSprite,args:[Q.sprite]}),i.deepEqual(he.glyphs,Q.glyphs)||de.push({command:Ft.setGlyphs,args:[Q.glyphs]}),i.deepEqual(he.transition,Q.transition)||de.push({command:Ft.setTransition,args:[Q.transition]}),i.deepEqual(he.light,Q.light)||de.push({command:Ft.setLight,args:[Q.light]});var re={},pe=[];Gr(he.sources,Q.sources,pe,re);var ze=[];he.layers&&he.layers.forEach(function(Ke){re[Ke.source]?de.push({command:Ft.removeLayer,args:[Ke.id]}):ze.push(Ke)}),de=de.concat(pe),rn(ze,Q.layers,de)}catch(Ke){console.warn("Unable to compute style diff:",Ke),de=[{command:Ft.setStyle,args:[Q]}]}return de}var Sn=function(Q,de){this.reset(Q,de)};Sn.prototype.reset=function(Q,de){this.points=Q||[],this._distances=[0];for(var re=1;re<this.points.length;re++)this._distances[re]=this._distances[re-1]+this.points[re].dist(this.points[re-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(de||0,this.length*.5),this.paddedLength=this.length-this.padding*2},Sn.prototype.lerp=function(Q){if(this.points.length===1)return this.points[0];Q=i.clamp(Q,0,1);for(var de=1,re=this._distances[de],pe=Q*this.paddedLength+this.padding;re<pe&&de<this._distances.length;)re=this._distances[++de];var ze=de-1,Ke=this._distances[ze],st=re-Ke,Ct=st>0?(pe-Ke)/st:0;return this.points[ze].mult(1-Ct).add(this.points[de].mult(Ct))};var Tr=function(Q,de,re){var pe=this.boxCells=[],ze=this.circleCells=[];this.xCellCount=Math.ceil(Q/re),this.yCellCount=Math.ceil(de/re);for(var Ke=0;Ke<this.xCellCount*this.yCellCount;Ke++)pe.push([]),ze.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=Q,this.height=de,this.xScale=this.xCellCount/Q,this.yScale=this.yCellCount/de,this.boxUid=0,this.circleUid=0};Tr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Tr.prototype.insert=function(Q,de,re,pe,ze){this._forEachCell(de,re,pe,ze,this._insertBoxCell,this.boxUid++),this.boxKeys.push(Q),this.bboxes.push(de),this.bboxes.push(re),this.bboxes.push(pe),this.bboxes.push(ze)},Tr.prototype.insertCircle=function(Q,de,re,pe){this._forEachCell(de-pe,re-pe,de+pe,re+pe,this._insertCircleCell,this.circleUid++),this.circleKeys.push(Q),this.circles.push(de),this.circles.push(re),this.circles.push(pe)},Tr.prototype._insertBoxCell=function(Q,de,re,pe,ze,Ke){this.boxCells[ze].push(Ke)},Tr.prototype._insertCircleCell=function(Q,de,re,pe,ze,Ke){this.circleCells[ze].push(Ke)},Tr.prototype._query=function(Q,de,re,pe,ze,Ke){if(re<0||Q>this.width||pe<0||de>this.height)return ze?!1:[];var st=[];if(Q<=0&&de<=0&&this.width<=re&&this.height<=pe){if(ze)return!0;for(var Ct=0;Ct<this.boxKeys.length;Ct++)st.push({key:this.boxKeys[Ct],x1:this.bboxes[Ct*4],y1:this.bboxes[Ct*4+1],x2:this.bboxes[Ct*4+2],y2:this.bboxes[Ct*4+3]});for(var Vt=0;Vt<this.circleKeys.length;Vt++){var $t=this.circles[Vt*3],sr=this.circles[Vt*3+1],ar=this.circles[Vt*3+2];st.push({key:this.circleKeys[Vt],x1:$t-ar,y1:sr-ar,x2:$t+ar,y2:sr+ar})}return Ke?st.filter(Ke):st}else{var kr={hitTest:ze,seenUids:{box:{},circle:{}}};return this._forEachCell(Q,de,re,pe,this._queryCell,st,kr,Ke),ze?st.length>0:st}},Tr.prototype._queryCircle=function(Q,de,re,pe,ze){var Ke=Q-re,st=Q+re,Ct=de-re,Vt=de+re;if(st<0||Ke>this.width||Vt<0||Ct>this.height)return pe?!1:[];var $t=[],sr={hitTest:pe,circle:{x:Q,y:de,radius:re},seenUids:{box:{},circle:{}}};return this._forEachCell(Ke,Ct,st,Vt,this._queryCellCircle,$t,sr,ze),pe?$t.length>0:$t},Tr.prototype.query=function(Q,de,re,pe,ze){return this._query(Q,de,re,pe,!1,ze)},Tr.prototype.hitTest=function(Q,de,re,pe,ze){return this._query(Q,de,re,pe,!0,ze)},Tr.prototype.hitTestCircle=function(Q,de,re,pe){return this._queryCircle(Q,de,re,!0,pe)},Tr.prototype._queryCell=function(Q,de,re,pe,ze,Ke,st,Ct){var Vt=st.seenUids,$t=this.boxCells[ze];if($t!==null)for(var sr=this.bboxes,ar=0,kr=$t;ar<kr.length;ar+=1){var Yr=kr[ar];if(!Vt.box[Yr]){Vt.box[Yr]=!0;var Xr=Yr*4;if(Q<=sr[Xr+2]&&de<=sr[Xr+3]&&re>=sr[Xr+0]&&pe>=sr[Xr+1]&&(!Ct||Ct(this.boxKeys[Yr]))){if(st.hitTest)return Ke.push(!0),!0;Ke.push({key:this.boxKeys[Yr],x1:sr[Xr],y1:sr[Xr+1],x2:sr[Xr+2],y2:sr[Xr+3]})}}}var Hr=this.circleCells[ze];if(Hr!==null)for(var Kr=this.circles,fn=0,_n=Hr;fn<_n.length;fn+=1){var Fn=_n[fn];if(!Vt.circle[Fn]){Vt.circle[Fn]=!0;var Wn=Fn*3;if(this._circleAndRectCollide(Kr[Wn],Kr[Wn+1],Kr[Wn+2],Q,de,re,pe)&&(!Ct||Ct(this.circleKeys[Fn]))){if(st.hitTest)return Ke.push(!0),!0;var Xn=Kr[Wn],Hn=Kr[Wn+1],jn=Kr[Wn+2];Ke.push({key:this.circleKeys[Fn],x1:Xn-jn,y1:Hn-jn,x2:Xn+jn,y2:Hn+jn})}}}},Tr.prototype._queryCellCircle=function(Q,de,re,pe,ze,Ke,st,Ct){var Vt=st.circle,$t=st.seenUids,sr=this.boxCells[ze];if(sr!==null)for(var ar=this.bboxes,kr=0,Yr=sr;kr<Yr.length;kr+=1){var Xr=Yr[kr];if(!$t.box[Xr]){$t.box[Xr]=!0;var Hr=Xr*4;if(this._circleAndRectCollide(Vt.x,Vt.y,Vt.radius,ar[Hr+0],ar[Hr+1],ar[Hr+2],ar[Hr+3])&&(!Ct||Ct(this.boxKeys[Xr])))return Ke.push(!0),!0}}var Kr=this.circleCells[ze];if(Kr!==null)for(var fn=this.circles,_n=0,Fn=Kr;_n<Fn.length;_n+=1){var Wn=Fn[_n];if(!$t.circle[Wn]){$t.circle[Wn]=!0;var Xn=Wn*3;if(this._circlesCollide(fn[Xn],fn[Xn+1],fn[Xn+2],Vt.x,Vt.y,Vt.radius)&&(!Ct||Ct(this.circleKeys[Wn])))return Ke.push(!0),!0}}},Tr.prototype._forEachCell=function(Q,de,re,pe,ze,Ke,st,Ct){for(var Vt=this._convertToXCellCoord(Q),$t=this._convertToYCellCoord(de),sr=this._convertToXCellCoord(re),ar=this._convertToYCellCoord(pe),kr=Vt;kr<=sr;kr++)for(var Yr=$t;Yr<=ar;Yr++){var Xr=this.xCellCount*Yr+kr;if(ze.call(this,Q,de,re,pe,Xr,Ke,st,Ct))return}},Tr.prototype._convertToXCellCoord=function(Q){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(Q*this.xScale)))},Tr.prototype._convertToYCellCoord=function(Q){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(Q*this.yScale)))},Tr.prototype._circlesCollide=function(Q,de,re,pe,ze,Ke){var st=pe-Q,Ct=ze-de,Vt=re+Ke;return Vt*Vt>st*st+Ct*Ct},Tr.prototype._circleAndRectCollide=function(Q,de,re,pe,ze,Ke,st){var Ct=(Ke-pe)/2,Vt=Math.abs(Q-(pe+Ct));if(Vt>Ct+re)return!1;var $t=(st-ze)/2,sr=Math.abs(de-(ze+$t));if(sr>$t+re)return!1;if(Vt<=Ct||sr<=$t)return!0;var ar=Vt-Ct,kr=sr-$t;return ar*ar+kr*kr<=re*re};function Lr(he,Q,de,re,pe){var ze=i.create();return Q?(i.scale(ze,ze,[1/pe,1/pe,1]),de||i.rotateZ(ze,ze,re.angle)):i.multiply(ze,re.labelPlaneMatrix,he),ze}function Wr(he,Q,de,re,pe){if(Q){var ze=i.clone(he);return i.scale(ze,ze,[pe,pe,1]),de||i.rotateZ(ze,ze,-re.angle),ze}else return re.glCoordMatrix}function Ur(he,Q){var de=[he.x,he.y,0,1];br(de,de,Q);var re=de[3];return{point:new i.Point(de[0]/re,de[1]/re),signedDistanceFromCamera:re}}function an(he,Q){return .5+.5*(he/Q)}function pn(he,Q){var de=he[0]/he[3],re=he[1]/he[3],pe=de>=-Q[0]&&de<=Q[0]&&re>=-Q[1]&&re<=Q[1];return pe}function gn(he,Q,de,re,pe,ze,Ke,st){var Ct=re?he.textSizeData:he.iconSizeData,Vt=i.evaluateSizeForZoom(Ct,de.transform.zoom),$t=[256/de.width*2+1,256/de.height*2+1],sr=re?he.text.dynamicLayoutVertexArray:he.icon.dynamicLayoutVertexArray;sr.clear();for(var ar=he.lineVertexArray,kr=re?he.text.placedSymbolArray:he.icon.placedSymbolArray,Yr=de.transform.width/de.transform.height,Xr=!1,Hr=0;Hr<kr.length;Hr++){var Kr=kr.get(Hr);if(Kr.hidden||Kr.writingMode===i.WritingMode.vertical&&!Xr){ri(Kr.numGlyphs,sr);continue}Xr=!1;var fn=[Kr.anchorX,Kr.anchorY,0,1];if(i.transformMat4(fn,fn,Q),!pn(fn,$t)){ri(Kr.numGlyphs,sr);continue}var _n=fn[3],Fn=an(de.transform.cameraToCenterDistance,_n),Wn=i.evaluateSizeForFeature(Ct,Vt,Kr),Xn=Ke?Wn/Fn:Wn*Fn,Hn=new i.Point(Kr.anchorX,Kr.anchorY),jn=Ur(Hn,pe).point,ei={},si=ni(Kr,Xn,!1,st,Q,pe,ze,he.glyphOffsetArray,ar,sr,jn,Hn,ei,Yr);Xr=si.useVertical,(si.notEnoughRoom||Xr||si.needsFlipping&&ni(Kr,Xn,!0,st,Q,pe,ze,he.glyphOffsetArray,ar,sr,jn,Hn,ei,Yr).notEnoughRoom)&&ri(Kr.numGlyphs,sr)}re?he.text.dynamicLayoutVertexBuffer.updateData(sr):he.icon.dynamicLayoutVertexBuffer.updateData(sr)}function En(he,Q,de,re,pe,ze,Ke,st,Ct,Vt,$t){var sr=st.glyphStartIndex+st.numGlyphs,ar=st.lineStartIndex,kr=st.lineStartIndex+st.lineLength,Yr=Q.getoffsetX(st.glyphStartIndex),Xr=Q.getoffsetX(sr-1),Hr=di(he*Yr,de,re,pe,ze,Ke,st.segment,ar,kr,Ct,Vt,$t);if(!Hr)return null;var Kr=di(he*Xr,de,re,pe,ze,Ke,st.segment,ar,kr,Ct,Vt,$t);return Kr?{first:Hr,last:Kr}:null}function On(he,Q,de,re){if(he===i.WritingMode.horizontal){var pe=Math.abs(de.y-Q.y),ze=Math.abs(de.x-Q.x)*re;if(pe>ze)return{useVertical:!0}}return(he===i.WritingMode.vertical?Q.y<de.y:Q.x>de.x)?{needsFlipping:!0}:null}function ni(he,Q,de,re,pe,ze,Ke,st,Ct,Vt,$t,sr,ar,kr){var Yr=Q/24,Xr=he.lineOffsetX*Yr,Hr=he.lineOffsetY*Yr,Kr;if(he.numGlyphs>1){var fn=he.glyphStartIndex+he.numGlyphs,_n=he.lineStartIndex,Fn=he.lineStartIndex+he.lineLength,Wn=En(Yr,st,Xr,Hr,de,$t,sr,he,Ct,ze,ar);if(!Wn)return{notEnoughRoom:!0};var Xn=Ur(Wn.first.point,Ke).point,Hn=Ur(Wn.last.point,Ke).point;if(re&&!de){var jn=On(he.writingMode,Xn,Hn,kr);if(jn)return jn}Kr=[Wn.first];for(var ei=he.glyphStartIndex+1;ei<fn-1;ei++)Kr.push(di(Yr*st.getoffsetX(ei),Xr,Hr,de,$t,sr,he.segment,_n,Fn,Ct,ze,ar));Kr.push(Wn.last)}else{if(re&&!de){var si=Ur(sr,pe).point,xi=he.lineStartIndex+he.segment+1,hi=new i.Point(Ct.getx(xi),Ct.gety(xi)),zi=Ur(hi,pe),$i=zi.signedDistanceFromCamera>0?zi.point:ci(sr,hi,si,1,pe),Yi=On(he.writingMode,si,$i,kr);if(Yi)return Yi}var Mi=di(Yr*st.getoffsetX(he.glyphStartIndex),Xr,Hr,de,$t,sr,he.segment,he.lineStartIndex,he.lineStartIndex+he.lineLength,Ct,ze,ar);if(!Mi)return{notEnoughRoom:!0};Kr=[Mi]}for(var ji=0,Gi=Kr;ji<Gi.length;ji+=1){var oa=Gi[ji];i.addDynamicAttributes(Vt,oa.point,oa.angle)}return{}}function ci(he,Q,de,re,pe){var ze=Ur(he.add(he.sub(Q)._unit()),pe).point,Ke=de.sub(ze);return de.add(Ke._mult(re/Ke.mag()))}function di(he,Q,de,re,pe,ze,Ke,st,Ct,Vt,$t,sr){var ar=re?he-Q:he+Q,kr=ar>0?1:-1,Yr=0;re&&(kr*=-1,Yr=Math.PI),kr<0&&(Yr+=Math.PI);for(var Xr=kr>0?st+Ke:st+Ke+1,Hr=pe,Kr=pe,fn=0,_n=0,Fn=Math.abs(ar),Wn=[];fn+_n<=Fn;){if(Xr+=kr,Xr<st||Xr>=Ct)return null;if(Kr=Hr,Wn.push(Hr),Hr=sr[Xr],Hr===void 0){var Xn=new i.Point(Vt.getx(Xr),Vt.gety(Xr)),Hn=Ur(Xn,$t);if(Hn.signedDistanceFromCamera>0)Hr=sr[Xr]=Hn.point;else{var jn=Xr-kr,ei=fn===0?ze:new i.Point(Vt.getx(jn),Vt.gety(jn));Hr=ci(ei,Xn,Kr,Fn-fn+1,$t)}}fn+=_n,_n=Kr.dist(Hr)}var si=(Fn-fn)/_n,xi=Hr.sub(Kr),hi=xi.mult(si)._add(Kr);hi._add(xi._unit()._perp()._mult(de*kr));var zi=Yr+Math.atan2(Hr.y-Kr.y,Hr.x-Kr.x);return Wn.push(hi),{point:hi,angle:zi,path:Wn}}var li=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ri(he,Q){for(var de=0;de<he;de++){var re=Q.length;Q.resize(re+4),Q.float32.set(li,re*3)}}function br(he,Q,de){var re=Q[0],pe=Q[1];return he[0]=de[0]*re+de[4]*pe+de[12],he[1]=de[1]*re+de[5]*pe+de[13],he[3]=de[3]*re+de[7]*pe+de[15],he}var nn=100,$r=function(Q,de,re){de===void 0&&(de=new Tr(Q.width+2*nn,Q.height+2*nn,25)),re===void 0&&(re=new Tr(Q.width+2*nn,Q.height+2*nn,25)),this.transform=Q,this.grid=de,this.ignoredGrid=re,this.pitchfactor=Math.cos(Q._pitch)*Q.cameraToCenterDistance,this.screenRightBoundary=Q.width+nn,this.screenBottomBoundary=Q.height+nn,this.gridRightBoundary=Q.width+2*nn,this.gridBottomBoundary=Q.height+2*nn};$r.prototype.placeCollisionBox=function(Q,de,re,pe,ze){var Ke=this.projectAndGetPerspectiveRatio(pe,Q.anchorPointX,Q.anchorPointY),st=re*Ke.perspectiveRatio,Ct=Q.x1*st+Ke.point.x,Vt=Q.y1*st+Ke.point.y,$t=Q.x2*st+Ke.point.x,sr=Q.y2*st+Ke.point.y;return!this.isInsideGrid(Ct,Vt,$t,sr)||!de&&this.grid.hitTest(Ct,Vt,$t,sr,ze)?{box:[],offscreen:!1}:{box:[Ct,Vt,$t,sr],offscreen:this.isOffscreen(Ct,Vt,$t,sr)}},$r.prototype.placeCollisionCircles=function(Q,de,re,pe,ze,Ke,st,Ct,Vt,$t,sr,ar,kr){var Yr=[],Xr=new i.Point(de.anchorX,de.anchorY),Hr=Ur(Xr,Ke),Kr=an(this.transform.cameraToCenterDistance,Hr.signedDistanceFromCamera),fn=$t?ze/Kr:ze*Kr,_n=fn/i.ONE_EM,Fn=Ur(Xr,st).point,Wn={},Xn=de.lineOffsetX*_n,Hn=de.lineOffsetY*_n,jn=En(_n,pe,Xn,Hn,!1,Fn,Xr,de,re,st,Wn),ei=!1,si=!1,xi=!0;if(jn){for(var hi=ar*.5*Kr+kr,zi=new i.Point(-nn,-nn),$i=new i.Point(this.screenRightBoundary,this.screenBottomBoundary),Yi=new Sn,Mi=jn.first,ji=jn.last,Gi=[],oa=Mi.path.length-1;oa>=1;oa--)Gi.push(Mi.path[oa]);for(var ta=1;ta<ji.path.length;ta++)Gi.push(ji.path[ta]);var Sa=hi*2.5;if(Ct){var Qi=Gi.map(function(xl){return Ur(xl,Ct)});Qi.some(function(xl){return xl.signedDistanceFromCamera<=0})?Gi=[]:Gi=Qi.map(function(xl){return xl.point})}var ma=[];if(Gi.length>0){for(var Wi=Gi[0].clone(),qi=Gi[0].clone(),Ua=1;Ua<Gi.length;Ua++)Wi.x=Math.min(Wi.x,Gi[Ua].x),Wi.y=Math.min(Wi.y,Gi[Ua].y),qi.x=Math.max(qi.x,Gi[Ua].x),qi.y=Math.max(qi.y,Gi[Ua].y);Wi.x>=zi.x&&qi.x<=$i.x&&Wi.y>=zi.y&&qi.y<=$i.y?ma=[Gi]:qi.x<zi.x||Wi.x>$i.x||qi.y<zi.y||Wi.y>$i.y?ma=[]:ma=i.clipLine([Gi],zi.x,zi.y,$i.x,$i.y)}for(var mo=0,$s=ma;mo<$s.length;mo+=1){var qs=$s[mo];Yi.reset(qs,hi*.25);var yl=0;Yi.length<=.5*hi?yl=1:yl=Math.ceil(Yi.paddedLength/Sa)+1;for(var jl=0;jl<yl;jl++){var _f=jl/Math.max(yl-1,1),Zl=Yi.lerp(_f),as=Zl.x+nn,Kl=Zl.y+nn;Yr.push(as,Kl,hi,0);var bs=as-hi,os=Kl-hi,ml=as+hi,Cu=Kl+hi;if(xi=xi&&this.isOffscreen(bs,os,ml,Cu),si=si||this.isInsideGrid(bs,os,ml,Cu),!Q&&this.grid.hitTestCircle(as,Kl,hi,sr)&&(ei=!0,!Vt))return{circles:[],offscreen:!1,collisionDetected:ei}}}}return{circles:!Vt&&ei||!si?[]:Yr,offscreen:xi,collisionDetected:ei}},$r.prototype.queryRenderedSymbols=function(Q){if(Q.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var de=[],re=1/0,pe=1/0,ze=-1/0,Ke=-1/0,st=0,Ct=Q;st<Ct.length;st+=1){var Vt=Ct[st],$t=new i.Point(Vt.x+nn,Vt.y+nn);re=Math.min(re,$t.x),pe=Math.min(pe,$t.y),ze=Math.max(ze,$t.x),Ke=Math.max(Ke,$t.y),de.push($t)}for(var sr=this.grid.query(re,pe,ze,Ke).concat(this.ignoredGrid.query(re,pe,ze,Ke)),ar={},kr={},Yr=0,Xr=sr;Yr<Xr.length;Yr+=1){var Hr=Xr[Yr],Kr=Hr.key;if(ar[Kr.bucketInstanceId]===void 0&&(ar[Kr.bucketInstanceId]={}),!ar[Kr.bucketInstanceId][Kr.featureIndex]){var fn=[new i.Point(Hr.x1,Hr.y1),new i.Point(Hr.x2,Hr.y1),new i.Point(Hr.x2,Hr.y2),new i.Point(Hr.x1,Hr.y2)];i.polygonIntersectsPolygon(de,fn)&&(ar[Kr.bucketInstanceId][Kr.featureIndex]=!0,kr[Kr.bucketInstanceId]===void 0&&(kr[Kr.bucketInstanceId]=[]),kr[Kr.bucketInstanceId].push(Kr.featureIndex))}}return kr},$r.prototype.insertCollisionBox=function(Q,de,re,pe,ze){var Ke=de?this.ignoredGrid:this.grid,st={bucketInstanceId:re,featureIndex:pe,collisionGroupID:ze};Ke.insert(st,Q[0],Q[1],Q[2],Q[3])},$r.prototype.insertCollisionCircles=function(Q,de,re,pe,ze){for(var Ke=de?this.ignoredGrid:this.grid,st={bucketInstanceId:re,featureIndex:pe,collisionGroupID:ze},Ct=0;Ct<Q.length;Ct+=4)Ke.insertCircle(st,Q[Ct],Q[Ct+1],Q[Ct+2])},$r.prototype.projectAndGetPerspectiveRatio=function(Q,de,re){var pe=[de,re,0,1];br(pe,pe,Q);var ze=new i.Point((pe[0]/pe[3]+1)/2*this.transform.width+nn,(-pe[1]/pe[3]+1)/2*this.transform.height+nn);return{point:ze,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/pe[3])}},$r.prototype.isOffscreen=function(Q,de,re,pe){return re<nn||Q>=this.screenRightBoundary||pe<nn||de>this.screenBottomBoundary},$r.prototype.isInsideGrid=function(Q,de,re,pe){return re>=0&&Q<this.gridRightBoundary&&pe>=0&&de<this.gridBottomBoundary},$r.prototype.getViewportMatrix=function(){var Q=i.identity([]);return i.translate(Q,Q,[-nn,-nn,0]),Q};function dn(he,Q,de){return Q*(i.EXTENT/(he.tileSize*Math.pow(2,de-he.tileID.overscaledZ)))}var Vn=function(Q,de,re,pe){Q?this.opacity=Math.max(0,Math.min(1,Q.opacity+(Q.placed?de:-de))):this.opacity=pe&&re?1:0,this.placed=re};Vn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var wn=function(Q,de,re,pe,ze){this.text=new Vn(Q?Q.text:null,de,re,ze),this.icon=new Vn(Q?Q.icon:null,de,pe,ze)};wn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Tn=function(Q,de,re){this.text=Q,this.icon=de,this.skipFade=re},Nn=function(){this.invProjMatrix=i.create(),this.viewportMatrix=i.create(),this.circles=[]},Jn=function(Q,de,re,pe,ze){this.bucketInstanceId=Q,this.featureIndex=de,this.sourceLayerIndex=re,this.bucketIndex=pe,this.tileID=ze},gi=function(Q){this.crossSourceCollisions=Q,this.maxGroupID=0,this.collisionGroups={}};gi.prototype.get=function(Q){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[Q]){var de=++this.maxGroupID;this.collisionGroups[Q]={ID:de,predicate:function(re){return re.collisionGroupID===de}}}return this.collisionGroups[Q]};function _i(he,Q,de,re,pe){var ze=i.getAnchorAlignment(he),Ke=ze.horizontalAlign,st=ze.verticalAlign,Ct=-(Ke-.5)*Q,Vt=-(st-.5)*de,$t=i.evaluateVariableOffset(he,re);return new i.Point(Ct+$t[0]*pe,Vt+$t[1]*pe)}function Sr(he,Q,de,re,pe,ze){var Ke=he.x1,st=he.x2,Ct=he.y1,Vt=he.y2,$t=he.anchorPointX,sr=he.anchorPointY,ar=new i.Point(Q,de);return re&&ar._rotate(pe?ze:-ze),{x1:Ke+ar.x,y1:Ct+ar.y,x2:st+ar.x,y2:Vt+ar.y,anchorPointX:$t,anchorPointY:sr}}var zr=function(Q,de,re,pe){this.transform=Q.clone(),this.collisionIndex=new $r(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=de,this.retainedQueryData={},this.collisionGroups=new gi(re),this.collisionCircleArrays={},this.prevPlacement=pe,pe&&(pe.prevPlacement=void 0),this.placedOrientations={}};zr.prototype.getBucketParts=function(Q,de,re,pe){var ze=re.getBucket(de),Ke=re.latestFeatureIndex;if(!(!ze||!Ke||de.id!==ze.layerIds[0])){var st=re.collisionBoxArray,Ct=ze.layers[0].layout,Vt=Math.pow(2,this.transform.zoom-re.tileID.overscaledZ),$t=re.tileSize/i.EXTENT,sr=this.transform.calculatePosMatrix(re.tileID.toUnwrapped()),ar=Ct.get("text-pitch-alignment")==="map",kr=Ct.get("text-rotation-alignment")==="map",Yr=dn(re,1,this.transform.zoom),Xr=Lr(sr,ar,kr,this.transform,Yr),Hr=null;if(ar){var Kr=Wr(sr,ar,kr,this.transform,Yr);Hr=i.multiply([],this.transform.labelPlaneMatrix,Kr)}this.retainedQueryData[ze.bucketInstanceId]=new Jn(ze.bucketInstanceId,Ke,ze.sourceLayerIndex,ze.index,re.tileID);var fn={bucket:ze,layout:Ct,posMatrix:sr,textLabelPlaneMatrix:Xr,labelToScreenMatrix:Hr,scale:Vt,textPixelRatio:$t,holdingForFade:re.holdingForFade(),collisionBoxArray:st,partiallyEvaluatedTextSize:i.evaluateSizeForZoom(ze.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(ze.sourceID)};if(pe)for(var _n=0,Fn=ze.sortKeyRanges;_n<Fn.length;_n+=1){var Wn=Fn[_n],Xn=Wn.sortKey,Hn=Wn.symbolInstanceStart,jn=Wn.symbolInstanceEnd;Q.push({sortKey:Xn,symbolInstanceStart:Hn,symbolInstanceEnd:jn,parameters:fn})}else Q.push({symbolInstanceStart:0,symbolInstanceEnd:ze.symbolInstances.length,parameters:fn})}},zr.prototype.attemptAnchorPlacement=function(Q,de,re,pe,ze,Ke,st,Ct,Vt,$t,sr,ar,kr,Yr,Xr){var Hr=[ar.textOffset0,ar.textOffset1],Kr=_i(Q,re,pe,Hr,ze),fn=this.collisionIndex.placeCollisionBox(Sr(de,Kr.x,Kr.y,Ke,st,this.transform.angle),sr,Ct,Vt,$t.predicate);if(Xr){var _n=this.collisionIndex.placeCollisionBox(Sr(Xr,Kr.x,Kr.y,Ke,st,this.transform.angle),sr,Ct,Vt,$t.predicate);if(_n.box.length===0)return}if(fn.box.length>0){var Fn;return this.prevPlacement&&this.prevPlacement.variableOffsets[ar.crossTileID]&&this.prevPlacement.placements[ar.crossTileID]&&this.prevPlacement.placements[ar.crossTileID].text&&(Fn=this.prevPlacement.variableOffsets[ar.crossTileID].anchor),this.variableOffsets[ar.crossTileID]={textOffset:Hr,width:re,height:pe,anchor:Q,textBoxScale:ze,prevAnchor:Fn},this.markUsedJustification(kr,Q,ar,Yr),kr.allowVerticalPlacement&&(this.markUsedOrientation(kr,Yr,ar),this.placedOrientations[ar.crossTileID]=Yr),{shift:Kr,placedGlyphBoxes:fn}}},zr.prototype.placeLayerBucketPart=function(Q,de,re){var pe=this,ze=Q.parameters,Ke=ze.bucket,st=ze.layout,Ct=ze.posMatrix,Vt=ze.textLabelPlaneMatrix,$t=ze.labelToScreenMatrix,sr=ze.textPixelRatio,ar=ze.holdingForFade,kr=ze.collisionBoxArray,Yr=ze.partiallyEvaluatedTextSize,Xr=ze.collisionGroup,Hr=st.get("text-optional"),Kr=st.get("icon-optional"),fn=st.get("text-allow-overlap"),_n=st.get("icon-allow-overlap"),Fn=st.get("text-rotation-alignment")==="map",Wn=st.get("text-pitch-alignment")==="map",Xn=st.get("icon-text-fit")!=="none",Hn=st.get("symbol-z-order")==="viewport-y",jn=fn&&(_n||!Ke.hasIconData()||Kr),ei=_n&&(fn||!Ke.hasTextData()||Hr);!Ke.collisionArrays&&kr&&Ke.deserializeCollisionBoxes(kr);var si=function(Mi,ji){if(!de[Mi.crossTileID]){if(ar){pe.placements[Mi.crossTileID]=new Tn(!1,!1,!1);return}var Gi=!1,oa=!1,ta=!0,Sa=null,Qi={box:null,offscreen:null},ma={box:null,offscreen:null},Wi=null,qi=null,Ua=null,mo=0,$s=0,qs=0;ji.textFeatureIndex?mo=ji.textFeatureIndex:Mi.useRuntimeCollisionCircles&&(mo=Mi.featureIndex),ji.verticalTextFeatureIndex&&($s=ji.verticalTextFeatureIndex);var yl=ji.textBox;if(yl){var jl=function(Ya){var ws=i.WritingMode.horizontal;if(Ke.allowVerticalPlacement&&!Ya&&pe.prevPlacement){var Ts=pe.prevPlacement.placedOrientations[Mi.crossTileID];Ts&&(pe.placedOrientations[Mi.crossTileID]=Ts,ws=Ts,pe.markUsedOrientation(Ke,ws,Mi))}return ws},_f=function(Ya,ws){if(Ke.allowVerticalPlacement&&Mi.numVerticalGlyphVertices>0&&ji.verticalTextBox)for(var Ts=0,rv=Ke.writingModes;Ts<rv.length;Ts+=1){var ad=rv[Ts];if(ad===i.WritingMode.vertical?(Qi=ws(),ma=Qi):Qi=Ya(),Qi&&Qi.box&&Qi.box.length)break}else Qi=Ya()};if(st.get("text-variable-anchor")){var bs=st.get("text-variable-anchor");if(pe.prevPlacement&&pe.prevPlacement.variableOffsets[Mi.crossTileID]){var os=pe.prevPlacement.variableOffsets[Mi.crossTileID];bs.indexOf(os.anchor)>0&&(bs=bs.filter(function(Ya){return Ya!==os.anchor}),bs.unshift(os.anchor))}var ml=function(Ya,ws,Ts){for(var rv=Ya.x2-Ya.x1,ad=Ya.y2-Ya.y1,Dg=Mi.textBoxScale,Rg=Xn&&!_n?ws:null,Ch={box:[],offscreen:!1},Ig=fn?bs.length*2:bs.length,nv=0;nv<Ig;++nv){var _g=bs[nv%bs.length],kg=nv>=bs.length,od=pe.attemptAnchorPlacement(_g,Ya,rv,ad,Dg,Fn,Wn,sr,Ct,Xr,kg,Mi,Ke,Ts,Rg);if(od&&(Ch=od.placedGlyphBoxes,Ch&&Ch.box&&Ch.box.length)){Gi=!0,Sa=od.shift;break}}return Ch},Cu=function(){return ml(yl,ji.iconBox,i.WritingMode.horizontal)},xl=function(){var Ya=ji.verticalTextBox,ws=Qi&&Qi.box&&Qi.box.length;return Ke.allowVerticalPlacement&&!ws&&Mi.numVerticalGlyphVertices>0&&Ya?ml(Ya,ji.verticalIconBox,i.WritingMode.vertical):{box:null,offscreen:null}};_f(Cu,xl),Qi&&(Gi=Qi.box,ta=Qi.offscreen);var Qh=jl(Qi&&Qi.box);if(!Gi&&pe.prevPlacement){var Sc=pe.prevPlacement.variableOffsets[Mi.crossTileID];Sc&&(pe.variableOffsets[Mi.crossTileID]=Sc,pe.markUsedJustification(Ke,Sc.anchor,Mi,Qh))}}else{var Zl=function(Ya,ws){var Ts=pe.collisionIndex.placeCollisionBox(Ya,fn,sr,Ct,Xr.predicate);return Ts&&Ts.box&&Ts.box.length&&(pe.markUsedOrientation(Ke,ws,Mi),pe.placedOrientations[Mi.crossTileID]=ws),Ts},as=function(){return Zl(yl,i.WritingMode.horizontal)},Kl=function(){var Ya=ji.verticalTextBox;return Ke.allowVerticalPlacement&&Mi.numVerticalGlyphVertices>0&&Ya?Zl(Ya,i.WritingMode.vertical):{box:null,offscreen:null}};_f(as,Kl),jl(Qi&&Qi.box&&Qi.box.length)}}if(Wi=Qi,Gi=Wi&&Wi.box&&Wi.box.length>0,ta=Wi&&Wi.offscreen,Mi.useRuntimeCollisionCircles){var Mo=Ke.text.placedSymbolArray.get(Mi.centerJustifiedTextSymbolIndex),$h=i.evaluateSizeForFeature(Ke.textSizeData,Yr,Mo),Eh=st.get("text-padding"),Xo=Mi.collisionCircleDiameter;qi=pe.collisionIndex.placeCollisionCircles(fn,Mo,Ke.lineVertexArray,Ke.glyphOffsetArray,$h,Ct,Vt,$t,re,Wn,Xr.predicate,Xo,Eh),Gi=fn||qi.circles.length>0&&!qi.collisionDetected,ta=ta&&qi.offscreen}if(ji.iconFeatureIndex&&(qs=ji.iconFeatureIndex),ji.iconBox){var Ec=function(Ya){var ws=Xn&&Sa?Sr(Ya,Sa.x,Sa.y,Fn,Wn,pe.transform.angle):Ya;return pe.collisionIndex.placeCollisionBox(ws,_n,sr,Ct,Xr.predicate)};ma&&ma.box&&ma.box.length&&ji.verticalIconBox?(Ua=Ec(ji.verticalIconBox),oa=Ua.box.length>0):(Ua=Ec(ji.iconBox),oa=Ua.box.length>0),ta=ta&&Ua.offscreen}var qh=Hr||Mi.numHorizontalGlyphVertices===0&&Mi.numVerticalGlyphVertices===0,ev=Kr||Mi.numIconVertices===0;if(!qh&&!ev?oa=Gi=oa&&Gi:ev?qh||(oa=oa&&Gi):Gi=oa&&Gi,Gi&&Wi&&Wi.box&&(ma&&ma.box&&$s?pe.collisionIndex.insertCollisionBox(Wi.box,st.get("text-ignore-placement"),Ke.bucketInstanceId,$s,Xr.ID):pe.collisionIndex.insertCollisionBox(Wi.box,st.get("text-ignore-placement"),Ke.bucketInstanceId,mo,Xr.ID)),oa&&Ua&&pe.collisionIndex.insertCollisionBox(Ua.box,st.get("icon-ignore-placement"),Ke.bucketInstanceId,qs,Xr.ID),qi&&(Gi&&pe.collisionIndex.insertCollisionCircles(qi.circles,st.get("text-ignore-placement"),Ke.bucketInstanceId,mo,Xr.ID),re)){var tv=Ke.bucketInstanceId,Cc=pe.collisionCircleArrays[tv];Cc===void 0&&(Cc=pe.collisionCircleArrays[tv]=new Nn);for(var Lc=0;Lc<qi.circles.length;Lc+=4)Cc.circles.push(qi.circles[Lc+0]),Cc.circles.push(qi.circles[Lc+1]),Cc.circles.push(qi.circles[Lc+2]),Cc.circles.push(qi.collisionDetected?1:0)}pe.placements[Mi.crossTileID]=new Tn(Gi||jn,oa||ei,ta||Ke.justReloaded),de[Mi.crossTileID]=!0}};if(Hn)for(var xi=Ke.getSortedSymbolIndexes(this.transform.angle),hi=xi.length-1;hi>=0;--hi){var zi=xi[hi];si(Ke.symbolInstances.get(zi),Ke.collisionArrays[zi])}else for(var $i=Q.symbolInstanceStart;$i<Q.symbolInstanceEnd;$i++)si(Ke.symbolInstances.get($i),Ke.collisionArrays[$i]);if(re&&Ke.bucketInstanceId in this.collisionCircleArrays){var Yi=this.collisionCircleArrays[Ke.bucketInstanceId];i.invert(Yi.invProjMatrix,Ct),Yi.viewportMatrix=this.collisionIndex.getViewportMatrix()}Ke.justReloaded=!1},zr.prototype.markUsedJustification=function(Q,de,re,pe){var ze={left:re.leftJustifiedTextSymbolIndex,center:re.centerJustifiedTextSymbolIndex,right:re.rightJustifiedTextSymbolIndex},Ke;pe===i.WritingMode.vertical?Ke=re.verticalPlacedTextSymbolIndex:Ke=ze[i.getAnchorJustification(de)];for(var st=[re.leftJustifiedTextSymbolIndex,re.centerJustifiedTextSymbolIndex,re.rightJustifiedTextSymbolIndex,re.verticalPlacedTextSymbolIndex],Ct=0,Vt=st;Ct<Vt.length;Ct+=1){var $t=Vt[Ct];$t>=0&&(Ke>=0&&$t!==Ke?Q.text.placedSymbolArray.get($t).crossTileID=0:Q.text.placedSymbolArray.get($t).crossTileID=re.crossTileID)}},zr.prototype.markUsedOrientation=function(Q,de,re){for(var pe=de===i.WritingMode.horizontal||de===i.WritingMode.horizontalOnly?de:0,ze=de===i.WritingMode.vertical?de:0,Ke=[re.leftJustifiedTextSymbolIndex,re.centerJustifiedTextSymbolIndex,re.rightJustifiedTextSymbolIndex],st=0,Ct=Ke;st<Ct.length;st+=1){var Vt=Ct[st];Q.text.placedSymbolArray.get(Vt).placedOrientation=pe}re.verticalPlacedTextSymbolIndex&&(Q.text.placedSymbolArray.get(re.verticalPlacedTextSymbolIndex).placedOrientation=ze)},zr.prototype.commit=function(Q){this.commitTime=Q,this.zoomAtLastRecencyCheck=this.transform.zoom;var de=this.prevPlacement,re=!1;this.prevZoomAdjustment=de?de.zoomAdjustment(this.transform.zoom):0;var pe=de?de.symbolFadeChange(Q):1,ze=de?de.opacities:{},Ke=de?de.variableOffsets:{},st=de?de.placedOrientations:{};for(var Ct in this.placements){var Vt=this.placements[Ct],$t=ze[Ct];$t?(this.opacities[Ct]=new wn($t,pe,Vt.text,Vt.icon),re=re||Vt.text!==$t.text.placed||Vt.icon!==$t.icon.placed):(this.opacities[Ct]=new wn(null,pe,Vt.text,Vt.icon,Vt.skipFade),re=re||Vt.text||Vt.icon)}for(var sr in ze){var ar=ze[sr];if(!this.opacities[sr]){var kr=new wn(ar,pe,!1,!1);kr.isHidden()||(this.opacities[sr]=kr,re=re||ar.text.placed||ar.icon.placed)}}for(var Yr in Ke)!this.variableOffsets[Yr]&&this.opacities[Yr]&&!this.opacities[Yr].isHidden()&&(this.variableOffsets[Yr]=Ke[Yr]);for(var Xr in st)!this.placedOrientations[Xr]&&this.opacities[Xr]&&!this.opacities[Xr].isHidden()&&(this.placedOrientations[Xr]=st[Xr]);re?this.lastPlacementChangeTime=Q:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=de?de.lastPlacementChangeTime:Q)},zr.prototype.updateLayerOpacities=function(Q,de){for(var re={},pe=0,ze=de;pe<ze.length;pe+=1){var Ke=ze[pe],st=Ke.getBucket(Q);st&&Ke.latestFeatureIndex&&Q.id===st.layerIds[0]&&this.updateBucketOpacities(st,re,Ke.collisionBoxArray)}},zr.prototype.updateBucketOpacities=function(Q,de,re){var pe=this;Q.hasTextData()&&Q.text.opacityVertexArray.clear(),Q.hasIconData()&&Q.icon.opacityVertexArray.clear(),Q.hasIconCollisionBoxData()&&Q.iconCollisionBox.collisionVertexArray.clear(),Q.hasTextCollisionBoxData()&&Q.textCollisionBox.collisionVertexArray.clear();var ze=Q.layers[0].layout,Ke=new wn(null,0,!1,!1,!0),st=ze.get("text-allow-overlap"),Ct=ze.get("icon-allow-overlap"),Vt=ze.get("text-variable-anchor"),$t=ze.get("text-rotation-alignment")==="map",sr=ze.get("text-pitch-alignment")==="map",ar=ze.get("icon-text-fit")!=="none",kr=new wn(null,0,st&&(Ct||!Q.hasIconData()||ze.get("icon-optional")),Ct&&(st||!Q.hasTextData()||ze.get("text-optional")),!0);!Q.collisionArrays&&re&&(Q.hasIconCollisionBoxData()||Q.hasTextCollisionBoxData())&&Q.deserializeCollisionBoxes(re);for(var Yr=function(fn,_n,Fn){for(var Wn=0;Wn<_n/4;Wn++)fn.opacityVertexArray.emplaceBack(Fn)},Xr=function(fn){var _n=Q.symbolInstances.get(fn),Fn=_n.numHorizontalGlyphVertices,Wn=_n.numVerticalGlyphVertices,Xn=_n.crossTileID,Hn=de[Xn],jn=pe.opacities[Xn];Hn?jn=Ke:jn||(jn=kr,pe.opacities[Xn]=jn),de[Xn]=!0;var ei=Fn>0||Wn>0,si=_n.numIconVertices>0,xi=pe.placedOrientations[_n.crossTileID],hi=xi===i.WritingMode.vertical,zi=xi===i.WritingMode.horizontal||xi===i.WritingMode.horizontalOnly;if(ei){var $i=Vr(jn.text),Yi=hi?Qr:$i;Yr(Q.text,Fn,Yi);var Mi=zi?Qr:$i;Yr(Q.text,Wn,Mi);var ji=jn.text.isHidden();[_n.rightJustifiedTextSymbolIndex,_n.centerJustifiedTextSymbolIndex,_n.leftJustifiedTextSymbolIndex].forEach(function(qs){qs>=0&&(Q.text.placedSymbolArray.get(qs).hidden=ji||hi?1:0)}),_n.verticalPlacedTextSymbolIndex>=0&&(Q.text.placedSymbolArray.get(_n.verticalPlacedTextSymbolIndex).hidden=ji||zi?1:0);var Gi=pe.variableOffsets[_n.crossTileID];Gi&&pe.markUsedJustification(Q,Gi.anchor,_n,xi);var oa=pe.placedOrientations[_n.crossTileID];oa&&(pe.markUsedJustification(Q,"left",_n,oa),pe.markUsedOrientation(Q,oa,_n))}if(si){var ta=Vr(jn.icon),Sa=!(ar&&_n.verticalPlacedIconSymbolIndex&&hi);if(_n.placedIconSymbolIndex>=0){var Qi=Sa?ta:Qr;Yr(Q.icon,_n.numIconVertices,Qi),Q.icon.placedSymbolArray.get(_n.placedIconSymbolIndex).hidden=jn.icon.isHidden()}if(_n.verticalPlacedIconSymbolIndex>=0){var ma=Sa?Qr:ta;Yr(Q.icon,_n.numVerticalIconVertices,ma),Q.icon.placedSymbolArray.get(_n.verticalPlacedIconSymbolIndex).hidden=jn.icon.isHidden()}}if(Q.hasIconCollisionBoxData()||Q.hasTextCollisionBoxData()){var Wi=Q.collisionArrays[fn];if(Wi){var qi=new i.Point(0,0);if(Wi.textBox||Wi.verticalTextBox){var Ua=!0;if(Vt){var mo=pe.variableOffsets[Xn];mo?(qi=_i(mo.anchor,mo.width,mo.height,mo.textOffset,mo.textBoxScale),$t&&qi._rotate(sr?pe.transform.angle:-pe.transform.angle)):Ua=!1}Wi.textBox&&Ar(Q.textCollisionBox.collisionVertexArray,jn.text.placed,!Ua||hi,qi.x,qi.y),Wi.verticalTextBox&&Ar(Q.textCollisionBox.collisionVertexArray,jn.text.placed,!Ua||zi,qi.x,qi.y)}var $s=!!(!zi&&Wi.verticalIconBox);Wi.iconBox&&Ar(Q.iconCollisionBox.collisionVertexArray,jn.icon.placed,$s,ar?qi.x:0,ar?qi.y:0),Wi.verticalIconBox&&Ar(Q.iconCollisionBox.collisionVertexArray,jn.icon.placed,!$s,ar?qi.x:0,ar?qi.y:0)}}},Hr=0;Hr<Q.symbolInstances.length;Hr++)Xr(Hr);if(Q.sortFeatures(this.transform.angle),this.retainedQueryData[Q.bucketInstanceId]&&(this.retainedQueryData[Q.bucketInstanceId].featureSortOrder=Q.featureSortOrder),Q.hasTextData()&&Q.text.opacityVertexBuffer&&Q.text.opacityVertexBuffer.updateData(Q.text.opacityVertexArray),Q.hasIconData()&&Q.icon.opacityVertexBuffer&&Q.icon.opacityVertexBuffer.updateData(Q.icon.opacityVertexArray),Q.hasIconCollisionBoxData()&&Q.iconCollisionBox.collisionVertexBuffer&&Q.iconCollisionBox.collisionVertexBuffer.updateData(Q.iconCollisionBox.collisionVertexArray),Q.hasTextCollisionBoxData()&&Q.textCollisionBox.collisionVertexBuffer&&Q.textCollisionBox.collisionVertexBuffer.updateData(Q.textCollisionBox.collisionVertexArray),Q.bucketInstanceId in this.collisionCircleArrays){var Kr=this.collisionCircleArrays[Q.bucketInstanceId];Q.placementInvProjMatrix=Kr.invProjMatrix,Q.placementViewportMatrix=Kr.viewportMatrix,Q.collisionCircleArray=Kr.circles,delete this.collisionCircleArrays[Q.bucketInstanceId]}},zr.prototype.symbolFadeChange=function(Q){return this.fadeDuration===0?1:(Q-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},zr.prototype.zoomAdjustment=function(Q){return Math.max(0,(this.transform.zoom-Q)/1.5)},zr.prototype.hasTransitions=function(Q){return this.stale||Q-this.lastPlacementChangeTime<this.fadeDuration},zr.prototype.stillRecent=function(Q,de){var re=this.zoomAtLastRecencyCheck===de?1-this.zoomAdjustment(de):1;return this.zoomAtLastRecencyCheck=de,this.commitTime+this.fadeDuration*re>Q},zr.prototype.setStale=function(){this.stale=!0};function Ar(he,Q,de,re,pe){he.emplaceBack(Q?1:0,de?1:0,re||0,pe||0),he.emplaceBack(Q?1:0,de?1:0,re||0,pe||0),he.emplaceBack(Q?1:0,de?1:0,re||0,pe||0),he.emplaceBack(Q?1:0,de?1:0,re||0,pe||0)}var Fr=Math.pow(2,25),xn=Math.pow(2,24),In=Math.pow(2,17),hn=Math.pow(2,16),sn=Math.pow(2,9),Er=Math.pow(2,8),jr=Math.pow(2,1);function Vr(he){if(he.opacity===0&&!he.placed)return 0;if(he.opacity===1&&he.placed)return 4294967295;var Q=he.placed?1:0,de=Math.floor(he.opacity*127);return de*Fr+Q*xn+de*In+Q*hn+de*sn+Q*Er+de*jr+Q}var Qr=0,bn=function(Q){this._sortAcrossTiles=Q.layout.get("symbol-z-order")!=="viewport-y"&&Q.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};bn.prototype.continuePlacement=function(Q,de,re,pe,ze){for(var Ke=this._bucketParts;this._currentTileIndex<Q.length;){var st=Q[this._currentTileIndex];if(de.getBucketParts(Ke,pe,st,this._sortAcrossTiles),this._currentTileIndex++,ze())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Ke.sort(function(Vt,$t){return Vt.sortKey-$t.sortKey}));this._currentPartIndex<Ke.length;){var Ct=Ke[this._currentPartIndex];if(de.placeLayerBucketPart(Ct,this._seenCrossTileIDs,re),this._currentPartIndex++,ze())return!0}return!1};var Ln=function(Q,de,re,pe,ze,Ke,st){this.placement=new zr(Q,ze,Ke,st),this._currentPlacementIndex=de.length-1,this._forceFullPlacement=re,this._showCollisionBoxes=pe,this._done=!1};Ln.prototype.isDone=function(){return this._done},Ln.prototype.continuePlacement=function(Q,de,re){for(var pe=this,ze=i.browser.now(),Ke=function(){var sr=i.browser.now()-ze;return pe._forceFullPlacement?!1:sr>2};this._currentPlacementIndex>=0;){var st=Q[this._currentPlacementIndex],Ct=de[st],Vt=this.placement.collisionIndex.transform.zoom;if(Ct.type==="symbol"&&(!Ct.minzoom||Ct.minzoom<=Vt)&&(!Ct.maxzoom||Ct.maxzoom>Vt)){this._inProgressLayer||(this._inProgressLayer=new bn(Ct));var $t=this._inProgressLayer.continuePlacement(re[Ct.source],this.placement,this._showCollisionBoxes,Ct,Ke);if($t)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Ln.prototype.commit=function(Q){return this.placement.commit(Q),this.placement};var Pn=512/i.EXTENT/2,Bn=function(Q,de,re){this.tileID=Q,this.indexedSymbolInstances={},this.bucketInstanceId=re;for(var pe=0;pe<de.length;pe++){var ze=de.get(pe),Ke=ze.key;this.indexedSymbolInstances[Ke]||(this.indexedSymbolInstances[Ke]=[]),this.indexedSymbolInstances[Ke].push({crossTileID:ze.crossTileID,coord:this.getScaledCoordinates(ze,Q)})}};Bn.prototype.getScaledCoordinates=function(Q,de){var re=de.canonical.z-this.tileID.canonical.z,pe=Pn/Math.pow(2,re);return{x:Math.floor((de.canonical.x*i.EXTENT+Q.anchorX)*pe),y:Math.floor((de.canonical.y*i.EXTENT+Q.anchorY)*pe)}},Bn.prototype.findMatches=function(Q,de,re){for(var pe=this.tileID.canonical.z<de.canonical.z?1:Math.pow(2,this.tileID.canonical.z-de.canonical.z),ze=0;ze<Q.length;ze++){var Ke=Q.get(ze);if(!Ke.crossTileID){var st=this.indexedSymbolInstances[Ke.key];if(st)for(var Ct=this.getScaledCoordinates(Ke,de),Vt=0,$t=st;Vt<$t.length;Vt+=1){var sr=$t[Vt];if(Math.abs(sr.coord.x-Ct.x)<=pe&&Math.abs(sr.coord.y-Ct.y)<=pe&&!re[sr.crossTileID]){re[sr.crossTileID]=!0,Ke.crossTileID=sr.crossTileID;break}}}}};var zn=function(){this.maxCrossTileID=0};zn.prototype.generate=function(){return++this.maxCrossTileID};var yi=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};yi.prototype.handleWrapJump=function(Q){var de=Math.round((Q-this.lng)/360);if(de!==0)for(var re in this.indexes){var pe=this.indexes[re],ze={};for(var Ke in pe){var st=pe[Ke];st.tileID=st.tileID.unwrapTo(st.tileID.wrap+de),ze[st.tileID.key]=st}this.indexes[re]=ze}this.lng=Q},yi.prototype.addBucket=function(Q,de,re){if(this.indexes[Q.overscaledZ]&&this.indexes[Q.overscaledZ][Q.key]){if(this.indexes[Q.overscaledZ][Q.key].bucketInstanceId===de.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(Q.overscaledZ,this.indexes[Q.overscaledZ][Q.key])}for(var pe=0;pe<de.symbolInstances.length;pe++){var ze=de.symbolInstances.get(pe);ze.crossTileID=0}this.usedCrossTileIDs[Q.overscaledZ]||(this.usedCrossTileIDs[Q.overscaledZ]={});var Ke=this.usedCrossTileIDs[Q.overscaledZ];for(var st in this.indexes){var Ct=this.indexes[st];if(Number(st)>Q.overscaledZ)for(var Vt in Ct){var $t=Ct[Vt];$t.tileID.isChildOf(Q)&&$t.findMatches(de.symbolInstances,Q,Ke)}else{var sr=Q.scaledTo(Number(st)),ar=Ct[sr.key];ar&&ar.findMatches(de.symbolInstances,Q,Ke)}}for(var kr=0;kr<de.symbolInstances.length;kr++){var Yr=de.symbolInstances.get(kr);Yr.crossTileID||(Yr.crossTileID=re.generate(),Ke[Yr.crossTileID]=!0)}return this.indexes[Q.overscaledZ]===void 0&&(this.indexes[Q.overscaledZ]={}),this.indexes[Q.overscaledZ][Q.key]=new Bn(Q,de.symbolInstances,de.bucketInstanceId),!0},yi.prototype.removeBucketCrossTileIDs=function(Q,de){for(var re in de.indexedSymbolInstances)for(var pe=0,ze=de.indexedSymbolInstances[re];pe<ze.length;pe+=1){var Ke=ze[pe];delete this.usedCrossTileIDs[Q][Ke.crossTileID]}},yi.prototype.removeStaleBuckets=function(Q){var de=!1;for(var re in this.indexes){var pe=this.indexes[re];for(var ze in pe)Q[pe[ze].bucketInstanceId]||(this.removeBucketCrossTileIDs(re,pe[ze]),delete pe[ze],de=!0)}return de};var ai=function(){this.layerIndexes={},this.crossTileIDs=new zn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};ai.prototype.addLayer=function(Q,de,re){var pe=this.layerIndexes[Q.id];pe===void 0&&(pe=this.layerIndexes[Q.id]=new yi);var ze=!1,Ke={};pe.handleWrapJump(re);for(var st=0,Ct=de;st<Ct.length;st+=1){var Vt=Ct[st],$t=Vt.getBucket(Q);!$t||Q.id!==$t.layerIds[0]||($t.bucketInstanceId||($t.bucketInstanceId=++this.maxBucketInstanceId),pe.addBucket(Vt.tileID,$t,this.crossTileIDs)&&(ze=!0),Ke[$t.bucketInstanceId]=!0)}return pe.removeStaleBuckets(Ke)&&(ze=!0),ze},ai.prototype.pruneUnusedLayers=function(Q){var de={};Q.forEach(function(pe){de[pe]=!0});for(var re in this.layerIndexes)de[re]||delete this.layerIndexes[re]};var pi=function(he,Q){return i.emitValidationErrors(he,Q&&Q.filter(function(de){return de.identifier!=="source.canvas"}))},Pi=i.pick(Ft,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),ga=i.pick(Ft,["setCenter","setZoom","setBearing","setPitch"]),na=rr(),No=function(he){function Q(de,re){var pe=this;re===void 0&&(re={}),he.call(this),this.map=de,this.dispatcher=new _(zt(),this),this.imageManager=new g,this.imageManager.setEventedParent(this),this.glyphManager=new E(de._requestManager,re.localIdeographFontFamily),this.lineAtlas=new z(256,512),this.crossTileSymbolIndex=new ai,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new i.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",i.getReferrer());var ze=this;this._rtlTextPluginCallback=Q.registerForPluginStateChange(function(Ke){var st={pluginStatus:Ke.pluginStatus,pluginURL:Ke.pluginURL};ze.dispatcher.broadcast("syncRTLPluginState",st,function(Ct,Vt){if(i.triggerPluginCompletionEvent(Ct),Vt){var $t=Vt.every(function(ar){return ar});if($t)for(var sr in ze.sourceCaches)ze.sourceCaches[sr].reload()}})}),this.on("data",function(Ke){if(!(Ke.dataType!=="source"||Ke.sourceDataType!=="metadata")){var st=pe.sourceCaches[Ke.sourceId];if(st){var Ct=st.getSource();if(!(!Ct||!Ct.vectorLayerIds))for(var Vt in pe._layers){var $t=pe._layers[Vt];$t.source===Ct.id&&pe._validateLayer($t)}}}})}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.loadURL=function(re,pe){var ze=this;pe===void 0&&(pe={}),this.fire(new i.Event("dataloading",{dataType:"style"}));var Ke=typeof pe.validate=="boolean"?pe.validate:!i.isMapboxURL(re);re=this.map._requestManager.normalizeStyleURL(re,pe.accessToken);var st=this.map._requestManager.transformRequest(re,i.ResourceType.Style);this._request=i.getJSON(st,function(Ct,Vt){ze._request=null,Ct?ze.fire(new i.ErrorEvent(Ct)):Vt&&ze._load(Vt,Ke)})},Q.prototype.loadJSON=function(re,pe){var ze=this;pe===void 0&&(pe={}),this.fire(new i.Event("dataloading",{dataType:"style"})),this._request=i.browser.frame(function(){ze._request=null,ze._load(re,pe.validate!==!1)})},Q.prototype.loadEmpty=function(){this.fire(new i.Event("dataloading",{dataType:"style"})),this._load(na,!1)},Q.prototype._load=function(re,pe){if(!(pe&&pi(this,i.validateStyle(re)))){this._loaded=!0,this.stylesheet=re;for(var ze in re.sources)this.addSource(ze,re.sources[ze],{validate:!1});re.sprite?this._loadSprite(re.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(re.glyphs);var Ke=lr(this.stylesheet.layers);this._order=Ke.map(function($t){return $t.id}),this._layers={},this._serializedLayers={};for(var st=0,Ct=Ke;st<Ct.length;st+=1){var Vt=Ct[st];Vt=i.createStyleLayer(Vt),Vt.setEventedParent(this,{layer:{id:Vt.id}}),this._layers[Vt.id]=Vt,this._serializedLayers[Vt.id]=Vt.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new T(this.stylesheet.light),this.fire(new i.Event("data",{dataType:"style"})),this.fire(new i.Event("style.load"))}},Q.prototype._loadSprite=function(re){var pe=this;this._spriteRequest=l(re,this.map._requestManager,function(ze,Ke){if(pe._spriteRequest=null,ze)pe.fire(new i.ErrorEvent(ze));else if(Ke)for(var st in Ke)pe.imageManager.addImage(st,Ke[st]);pe.imageManager.setLoaded(!0),pe._availableImages=pe.imageManager.listImages(),pe.dispatcher.broadcast("setImages",pe._availableImages),pe.fire(new i.Event("data",{dataType:"style"}))})},Q.prototype._validateLayer=function(re){var pe=this.sourceCaches[re.source];if(pe){var ze=re.sourceLayer;if(ze){var Ke=pe.getSource();(Ke.type==="geojson"||Ke.vectorLayerIds&&Ke.vectorLayerIds.indexOf(ze)===-1)&&this.fire(new i.ErrorEvent(new Error('Source layer "'+ze+'" does not exist on source "'+Ke.id+'" as specified by style layer "'+re.id+'"')))}}},Q.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var re in this.sourceCaches)if(!this.sourceCaches[re].loaded())return!1;return!!this.imageManager.isLoaded()},Q.prototype._serializeLayers=function(re){for(var pe=[],ze=0,Ke=re;ze<Ke.length;ze+=1){var st=Ke[ze],Ct=this._layers[st];Ct.type!=="custom"&&pe.push(Ct.serialize())}return pe},Q.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var re in this.sourceCaches)if(this.sourceCaches[re].hasTransition())return!0;for(var pe in this._layers)if(this._layers[pe].hasTransition())return!0;return!1},Q.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},Q.prototype.update=function(re){if(this._loaded){var pe=this._changed;if(this._changed){var ze=Object.keys(this._updatedLayers),Ke=Object.keys(this._removedLayers);(ze.length||Ke.length)&&this._updateWorkerLayers(ze,Ke);for(var st in this._updatedSources){var Ct=this._updatedSources[st];Ct==="reload"?this._reloadSource(st):Ct==="clear"&&this._clearSource(st)}this._updateTilesForChangedImages();for(var Vt in this._updatedPaintProps)this._layers[Vt].updateTransitions(re);this.light.updateTransitions(re),this._resetUpdates()}var $t={};for(var sr in this.sourceCaches){var ar=this.sourceCaches[sr];$t[sr]=ar.used,ar.used=!1}for(var kr=0,Yr=this._order;kr<Yr.length;kr+=1){var Xr=Yr[kr],Hr=this._layers[Xr];Hr.recalculate(re,this._availableImages),!Hr.isHidden(re.zoom)&&Hr.source&&(this.sourceCaches[Hr.source].used=!0)}for(var Kr in $t){var fn=this.sourceCaches[Kr];$t[Kr]!==fn.used&&fn.fire(new i.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Kr}))}this.light.recalculate(re),this.z=re.zoom,pe&&this.fire(new i.Event("data",{dataType:"style"}))}},Q.prototype._updateTilesForChangedImages=function(){var re=Object.keys(this._changedImages);if(re.length){for(var pe in this.sourceCaches)this.sourceCaches[pe].reloadTilesForDependencies(["icons","patterns"],re);this._changedImages={}}},Q.prototype._updateWorkerLayers=function(re,pe){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(re),removedIds:pe})},Q.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},Q.prototype.setState=function(re){var pe=this;if(this._checkLoaded(),pi(this,i.validateStyle(re)))return!1;re=i.clone$1(re),re.layers=lr(re.layers);var ze=Cn(this.serialize(),re).filter(function(st){return!(st.command in ga)});if(ze.length===0)return!1;var Ke=ze.filter(function(st){return!(st.command in Pi)});if(Ke.length>0)throw new Error("Unimplemented: "+Ke.map(function(st){return st.command}).join(", ")+".");return ze.forEach(function(st){st.command!=="setTransition"&&pe[st.command].apply(pe,st.args)}),this.stylesheet=re,!0},Q.prototype.addImage=function(re,pe){if(this.getImage(re))return this.fire(new i.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(re,pe),this._afterImageUpdated(re)},Q.prototype.updateImage=function(re,pe){this.imageManager.updateImage(re,pe)},Q.prototype.getImage=function(re){return this.imageManager.getImage(re)},Q.prototype.removeImage=function(re){if(!this.getImage(re))return this.fire(new i.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(re),this._afterImageUpdated(re)},Q.prototype._afterImageUpdated=function(re){this._availableImages=this.imageManager.listImages(),this._changedImages[re]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new i.Event("data",{dataType:"style"}))},Q.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},Q.prototype.addSource=function(re,pe,ze){var Ke=this;if(ze===void 0&&(ze={}),this._checkLoaded(),this.sourceCaches[re]!==void 0)throw new Error("There is already a source with this ID");if(!pe.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(pe).join(", ")+".");var st=["vector","raster","geojson","video","image"],Ct=st.indexOf(pe.type)>=0;if(!(Ct&&this._validate(i.validateStyle.source,"sources."+re,pe,null,ze))){this.map&&this.map._collectResourceTiming&&(pe.collectResourceTiming=!0);var Vt=this.sourceCaches[re]=new Ut(re,pe,this.dispatcher);Vt.style=this,Vt.setEventedParent(this,function(){return{isSourceLoaded:Ke.loaded(),source:Vt.serialize(),sourceId:re}}),Vt.onAdd(this.map),this._changed=!0}},Q.prototype.removeSource=function(re){if(this._checkLoaded(),this.sourceCaches[re]===void 0)throw new Error("There is no source with this ID");for(var pe in this._layers)if(this._layers[pe].source===re)return this.fire(new i.ErrorEvent(new Error('Source "'+re+'" cannot be removed while layer "'+pe+'" is using it.')));var ze=this.sourceCaches[re];delete this.sourceCaches[re],delete this._updatedSources[re],ze.fire(new i.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:re})),ze.setEventedParent(null),ze.clearTiles(),ze.onRemove&&ze.onRemove(this.map),this._changed=!0},Q.prototype.setGeoJSONSourceData=function(re,pe){this._checkLoaded();var ze=this.sourceCaches[re].getSource();ze.setData(pe),this._changed=!0},Q.prototype.getSource=function(re){return this.sourceCaches[re]&&this.sourceCaches[re].getSource()},Q.prototype.addLayer=function(re,pe,ze){ze===void 0&&(ze={}),this._checkLoaded();var Ke=re.id;if(this.getLayer(Ke)){this.fire(new i.ErrorEvent(new Error('Layer with id "'+Ke+'" already exists on this map')));return}var st;if(re.type==="custom"){if(pi(this,i.validateCustomStyleLayer(re)))return;st=i.createStyleLayer(re)}else{if(typeof re.source=="object"&&(this.addSource(Ke,re.source),re=i.clone$1(re),re=i.extend(re,{source:Ke})),this._validate(i.validateStyle.layer,"layers."+Ke,re,{arrayIndex:-1},ze))return;st=i.createStyleLayer(re),this._validateLayer(st),st.setEventedParent(this,{layer:{id:Ke}}),this._serializedLayers[st.id]=st.serialize()}var Ct=pe?this._order.indexOf(pe):this._order.length;if(pe&&Ct===-1){this.fire(new i.ErrorEvent(new Error('Layer with id "'+pe+'" does not exist on this map.')));return}if(this._order.splice(Ct,0,Ke),this._layerOrderChanged=!0,this._layers[Ke]=st,this._removedLayers[Ke]&&st.source&&st.type!=="custom"){var Vt=this._removedLayers[Ke];delete this._removedLayers[Ke],Vt.type!==st.type?this._updatedSources[st.source]="clear":(this._updatedSources[st.source]="reload",this.sourceCaches[st.source].pause())}this._updateLayer(st),st.onAdd&&st.onAdd(this.map)},Q.prototype.moveLayer=function(re,pe){this._checkLoaded(),this._changed=!0;var ze=this._layers[re];if(!ze){this.fire(new i.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be moved.")));return}if(re!==pe){var Ke=this._order.indexOf(re);this._order.splice(Ke,1);var st=pe?this._order.indexOf(pe):this._order.length;if(pe&&st===-1){this.fire(new i.ErrorEvent(new Error('Layer with id "'+pe+'" does not exist on this map.')));return}this._order.splice(st,0,re),this._layerOrderChanged=!0}},Q.prototype.removeLayer=function(re){this._checkLoaded();var pe=this._layers[re];if(!pe){this.fire(new i.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be removed.")));return}pe.setEventedParent(null);var ze=this._order.indexOf(re);this._order.splice(ze,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[re]=pe,delete this._layers[re],delete this._serializedLayers[re],delete this._updatedLayers[re],delete this._updatedPaintProps[re],pe.onRemove&&pe.onRemove(this.map)},Q.prototype.getLayer=function(re){return this._layers[re]},Q.prototype.hasLayer=function(re){return re in this._layers},Q.prototype.setLayerZoomRange=function(re,pe,ze){this._checkLoaded();var Ke=this.getLayer(re);if(!Ke){this.fire(new i.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot have zoom extent.")));return}Ke.minzoom===pe&&Ke.maxzoom===ze||(pe!=null&&(Ke.minzoom=pe),ze!=null&&(Ke.maxzoom=ze),this._updateLayer(Ke))},Q.prototype.setFilter=function(re,pe,ze){ze===void 0&&(ze={}),this._checkLoaded();var Ke=this.getLayer(re);if(!Ke){this.fire(new i.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be filtered.")));return}if(!i.deepEqual(Ke.filter,pe)){if(pe==null){Ke.filter=void 0,this._updateLayer(Ke);return}this._validate(i.validateStyle.filter,"layers."+Ke.id+".filter",pe,null,ze)||(Ke.filter=i.clone$1(pe),this._updateLayer(Ke))}},Q.prototype.getFilter=function(re){return i.clone$1(this.getLayer(re).filter)},Q.prototype.setLayoutProperty=function(re,pe,ze,Ke){Ke===void 0&&(Ke={}),this._checkLoaded();var st=this.getLayer(re);if(!st){this.fire(new i.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be styled.")));return}i.deepEqual(st.getLayoutProperty(pe),ze)||(st.setLayoutProperty(pe,ze,Ke),this._updateLayer(st))},Q.prototype.getLayoutProperty=function(re,pe){var ze=this.getLayer(re);if(!ze){this.fire(new i.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style.")));return}return ze.getLayoutProperty(pe)},Q.prototype.setPaintProperty=function(re,pe,ze,Ke){Ke===void 0&&(Ke={}),this._checkLoaded();var st=this.getLayer(re);if(!st){this.fire(new i.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be styled.")));return}if(!i.deepEqual(st.getPaintProperty(pe),ze)){var Ct=st.setPaintProperty(pe,ze,Ke);Ct&&this._updateLayer(st),this._changed=!0,this._updatedPaintProps[re]=!0}},Q.prototype.getPaintProperty=function(re,pe){return this.getLayer(re).getPaintProperty(pe)},Q.prototype.setFeatureState=function(re,pe){this._checkLoaded();var ze=re.source,Ke=re.sourceLayer,st=this.sourceCaches[ze];if(st===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+ze+"' does not exist in the map's style.")));return}var Ct=st.getSource().type;if(Ct==="geojson"&&Ke){this.fire(new i.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(Ct==="vector"&&!Ke){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}re.id===void 0&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),st.setFeatureState(Ke,re.id,pe)},Q.prototype.removeFeatureState=function(re,pe){this._checkLoaded();var ze=re.source,Ke=this.sourceCaches[ze];if(Ke===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+ze+"' does not exist in the map's style.")));return}var st=Ke.getSource().type,Ct=st==="vector"?re.sourceLayer:void 0;if(st==="vector"&&!Ct){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(pe&&typeof re.id!="string"&&typeof re.id!="number"){this.fire(new i.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));return}Ke.removeFeatureState(Ct,re.id,pe)},Q.prototype.getFeatureState=function(re){this._checkLoaded();var pe=re.source,ze=re.sourceLayer,Ke=this.sourceCaches[pe];if(Ke===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+pe+"' does not exist in the map's style.")));return}var st=Ke.getSource().type;if(st==="vector"&&!ze){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return re.id===void 0&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),Ke.getFeatureState(ze,re.id)},Q.prototype.getTransition=function(){return i.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},Q.prototype.serialize=function(){return i.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:i.mapObject(this.sourceCaches,function(re){return re.serialize()}),layers:this._serializeLayers(this._order)},function(re){return re!==void 0})},Q.prototype._updateLayer=function(re){this._updatedLayers[re.id]=!0,re.source&&!this._updatedSources[re.source]&&this.sourceCaches[re.source].getSource().type!=="raster"&&(this._updatedSources[re.source]="reload",this.sourceCaches[re.source].pause()),this._changed=!0},Q.prototype._flattenAndSortRenderedFeatures=function(re){for(var pe=this,ze=function(zi){return pe._layers[zi].type==="fill-extrusion"},Ke={},st=[],Ct=this._order.length-1;Ct>=0;Ct--){var Vt=this._order[Ct];if(ze(Vt)){Ke[Vt]=Ct;for(var $t=0,sr=re;$t<sr.length;$t+=1){var ar=sr[$t],kr=ar[Vt];if(kr)for(var Yr=0,Xr=kr;Yr<Xr.length;Yr+=1){var Hr=Xr[Yr];st.push(Hr)}}}}st.sort(function(zi,$i){return $i.intersectionZ-zi.intersectionZ});for(var Kr=[],fn=this._order.length-1;fn>=0;fn--){var _n=this._order[fn];if(ze(_n))for(var Fn=st.length-1;Fn>=0;Fn--){var Wn=st[Fn].feature;if(Ke[Wn.layer.id]<fn)break;Kr.push(Wn),st.pop()}else for(var Xn=0,Hn=re;Xn<Hn.length;Xn+=1){var jn=Hn[Xn],ei=jn[_n];if(ei)for(var si=0,xi=ei;si<xi.length;si+=1){var hi=xi[si];Kr.push(hi.feature)}}}return Kr},Q.prototype.queryRenderedFeatures=function(re,pe,ze){pe&&pe.filter&&this._validate(i.validateStyle.filter,"queryRenderedFeatures.filter",pe.filter,null,pe);var Ke={};if(pe&&pe.layers){if(!Array.isArray(pe.layers))return this.fire(new i.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var st=0,Ct=pe.layers;st<Ct.length;st+=1){var Vt=Ct[st],$t=this._layers[Vt];if(!$t)return this.fire(new i.ErrorEvent(new Error("The layer '"+Vt+"' does not exist in the map's style and cannot be queried for features."))),[];Ke[$t.source]=!0}}var sr=[];pe.availableImages=this._availableImages;for(var ar in this.sourceCaches)pe.layers&&!Ke[ar]||sr.push($(this.sourceCaches[ar],this._layers,this._serializedLayers,re,pe,ze));return this.placement&&sr.push(J(this._layers,this._serializedLayers,this.sourceCaches,re,pe,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(sr)},Q.prototype.querySourceFeatures=function(re,pe){pe&&pe.filter&&this._validate(i.validateStyle.filter,"querySourceFeatures.filter",pe.filter,null,pe);var ze=this.sourceCaches[re];return ze?se(ze,pe):[]},Q.prototype.addSourceType=function(re,pe,ze){if(Q.getSourceType(re))return ze(new Error('A source type called "'+re+'" already exists.'));if(Q.setSourceType(re,pe),!pe.workerSourceURL)return ze(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:re,url:pe.workerSourceURL},ze)},Q.prototype.getLight=function(){return this.light.getLight()},Q.prototype.setLight=function(re,pe){pe===void 0&&(pe={}),this._checkLoaded();var ze=this.light.getLight(),Ke=!1;for(var st in re)if(!i.deepEqual(re[st],ze[st])){Ke=!0;break}if(Ke){var Ct={now:i.browser.now(),transition:i.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(re,pe),this.light.updateTransitions(Ct)}},Q.prototype._validate=function(re,pe,ze,Ke,st){return st===void 0&&(st={}),st&&st.validate===!1?!1:pi(this,re.call(i.validateStyle,i.extend({key:pe,style:this.serialize(),value:ze,styleSpec:i.styleSpec},Ke)))},Q.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),i.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var re in this._layers){var pe=this._layers[re];pe.setEventedParent(null)}for(var ze in this.sourceCaches)this.sourceCaches[ze].clearTiles(),this.sourceCaches[ze].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},Q.prototype._clearSource=function(re){this.sourceCaches[re].clearTiles()},Q.prototype._reloadSource=function(re){this.sourceCaches[re].resume(),this.sourceCaches[re].reload()},Q.prototype._updateSources=function(re){for(var pe in this.sourceCaches)this.sourceCaches[pe].update(re)},Q.prototype._generateCollisionBoxes=function(){for(var re in this.sourceCaches)this._reloadSource(re)},Q.prototype._updatePlacement=function(re,pe,ze,Ke,st){st===void 0&&(st=!1);for(var Ct=!1,Vt=!1,$t={},sr=0,ar=this._order;sr<ar.length;sr+=1){var kr=ar[sr],Yr=this._layers[kr];if(Yr.type==="symbol"){if(!$t[Yr.source]){var Xr=this.sourceCaches[Yr.source];$t[Yr.source]=Xr.getRenderableIds(!0).map(function(Xn){return Xr.getTileByID(Xn)}).sort(function(Xn,Hn){return Hn.tileID.overscaledZ-Xn.tileID.overscaledZ||(Xn.tileID.isLessThan(Hn.tileID)?-1:1)})}var Hr=this.crossTileSymbolIndex.addLayer(Yr,$t[Yr.source],re.center.lng);Ct=Ct||Hr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),st=st||this._layerOrderChanged||ze===0,(st||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(i.browser.now(),re.zoom))&&(this.pauseablePlacement=new Ln(re,this._order,st,pe,ze,Ke,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,$t),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(i.browser.now()),Vt=!0),Ct&&this.pauseablePlacement.placement.setStale()),Vt||Ct)for(var Kr=0,fn=this._order;Kr<fn.length;Kr+=1){var _n=fn[Kr],Fn=this._layers[_n];Fn.type==="symbol"&&this.placement.updateLayerOpacities(Fn,$t[Fn.source])}var Wn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(i.browser.now());return Wn},Q.prototype._releaseSymbolFadeTiles=function(){for(var re in this.sourceCaches)this.sourceCaches[re].releaseSymbolFadeTiles()},Q.prototype.getImages=function(re,pe,ze){this.imageManager.getImages(pe.icons,ze),this._updateTilesForChangedImages();var Ke=this.sourceCaches[pe.source];Ke&&Ke.setDependencies(pe.tileID.key,pe.type,pe.icons)},Q.prototype.getGlyphs=function(re,pe,ze){this.glyphManager.getGlyphs(pe.stacks,ze)},Q.prototype.getResource=function(re,pe,ze){return i.makeRequest(pe,ze)},Q}(i.Evented);No.getSourceType=Z,No.setSourceType=G,No.registerForPluginStateChange=i.registerForPluginStateChange;var Do=i.createLayout([{name:"a_pos",type:"Int16",components:2}]),ro=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,Cl=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,hf=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,$f="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",ea=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,au="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",vf=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ja=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,To="void main() {gl_FragColor=vec4(1.0);}",Ll="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Nu=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ka=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,Pl=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,Fa="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",Ga="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",Dl="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",no="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",io="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",Bo="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",qf="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",Ro=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ah=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,ds=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Qa=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,df=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Hs=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,ps=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,pf=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,ec=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,oh=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,Bu=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,sh=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,lh=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,uh="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",gf=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,fh="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",ch=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,tc=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,rc=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,sl=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Rl=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ou=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,su=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,nc=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,Ls=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,hh="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",Uu=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ic=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,ac=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Vu=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,Qo=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Il=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,ll=ya(ro,Cl),lu=ya(hf,$f),Gs=ya(ea,au),gs=ya(vf,Ja),yf=ya(To,Ll),_l=ya(Nu,ka),$o=ya(Pl,Fa),Ra=ya(Ga,Dl),mf=ya(no,io),vh=ya(Bo,qf),Hu=ya(Ro,ah),kl=ya(ds,Qa),Ol=ya(df,Hs),Io=ya(ps,pf),Gu=ya(ec,oh),zl=ya(Bu,sh),Wu=ya(lh,uh),dh=ya(gf,fh),oc=ya(ch,tc),xf=ya(rc,sl),bf=ya(Rl,ou),wf=ya(su,nc),Fl=ya(Ls,hh),Xu=ya(Uu,ic),uu=ya(ac,Vu),Yu=ya(Qo,Il);function ya(he,Q){var de=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,re=Q.match(/attribute ([\w]+) ([\w]+)/g),pe=he.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ze=Q.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Ke=ze?ze.concat(pe):pe,st={};return he=he.replace(de,function(Ct,Vt,$t,sr,ar){return st[ar]=!0,Vt==="define"?`
#ifndef HAS_UNIFORM_u_`+ar+`
varying `+$t+" "+sr+" "+ar+`;
#else
uniform `+$t+" "+sr+" u_"+ar+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+ar+`
    `+$t+" "+sr+" "+ar+" = u_"+ar+`;
#endif
`}),Q=Q.replace(de,function(Ct,Vt,$t,sr,ar){var kr=sr==="float"?"vec2":"vec4",Yr=ar.match(/color/)?"color":kr;return st[ar]?Vt==="define"?`
#ifndef HAS_UNIFORM_u_`+ar+`
uniform lowp float u_`+ar+`_t;
attribute `+$t+" "+kr+" a_"+ar+`;
varying `+$t+" "+sr+" "+ar+`;
#else
uniform `+$t+" "+sr+" u_"+ar+`;
#endif
`:Yr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+ar+`
    `+ar+" = a_"+ar+`;
#else
    `+$t+" "+sr+" "+ar+" = u_"+ar+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+ar+`
    `+ar+" = unpack_mix_"+Yr+"(a_"+ar+", u_"+ar+`_t);
#else
    `+$t+" "+sr+" "+ar+" = u_"+ar+`;
#endif
`:Vt==="define"?`
#ifndef HAS_UNIFORM_u_`+ar+`
uniform lowp float u_`+ar+`_t;
attribute `+$t+" "+kr+" a_"+ar+`;
#else
uniform `+$t+" "+sr+" u_"+ar+`;
#endif
`:Yr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+ar+`
    `+$t+" "+sr+" "+ar+" = a_"+ar+`;
#else
    `+$t+" "+sr+" "+ar+" = u_"+ar+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+ar+`
    `+$t+" "+sr+" "+ar+" = unpack_mix_"+Yr+"(a_"+ar+", u_"+ar+`_t);
#else
    `+$t+" "+sr+" "+ar+" = u_"+ar+`;
#endif
`}),{fragmentSource:he,vertexSource:Q,staticAttributes:re,staticUniforms:Ke}}var sc=Object.freeze({__proto__:null,prelude:ll,background:lu,backgroundPattern:Gs,circle:gs,clippingMask:yf,heatmap:_l,heatmapTexture:$o,collisionBox:Ra,collisionCircle:mf,debug:vh,fill:Hu,fillOutline:kl,fillOutlinePattern:Ol,fillPattern:Io,fillExtrusion:Gu,fillExtrusionPattern:zl,hillshadePrepare:Wu,hillshade:dh,line:oc,lineGradient:xf,linePattern:bf,lineSDF:wf,raster:Fl,symbolIcon:Xu,symbolSDF:uu,symbolTextAndIcon:Yu}),qo=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};qo.prototype.bind=function(Q,de,re,pe,ze,Ke,st,Ct){this.context=Q;for(var Vt=this.boundPaintVertexBuffers.length!==pe.length,$t=0;!Vt&&$t<pe.length;$t++)this.boundPaintVertexBuffers[$t]!==pe[$t]&&(Vt=!0);var sr=!this.vao||this.boundProgram!==de||this.boundLayoutVertexBuffer!==re||Vt||this.boundIndexBuffer!==ze||this.boundVertexOffset!==Ke||this.boundDynamicVertexBuffer!==st||this.boundDynamicVertexBuffer2!==Ct;!Q.extVertexArrayObject||sr?this.freshBind(de,re,pe,ze,Ke,st,Ct):(Q.bindVertexArrayOES.set(this.vao),st&&st.bind(),ze&&ze.dynamicDraw&&ze.bind(),Ct&&Ct.bind())},qo.prototype.freshBind=function(Q,de,re,pe,ze,Ke,st){var Ct,Vt=Q.numAttributes,$t=this.context,sr=$t.gl;if($t.extVertexArrayObject)this.vao&&this.destroy(),this.vao=$t.extVertexArrayObject.createVertexArrayOES(),$t.bindVertexArrayOES.set(this.vao),Ct=0,this.boundProgram=Q,this.boundLayoutVertexBuffer=de,this.boundPaintVertexBuffers=re,this.boundIndexBuffer=pe,this.boundVertexOffset=ze,this.boundDynamicVertexBuffer=Ke,this.boundDynamicVertexBuffer2=st;else{Ct=$t.currentNumAttributes||0;for(var ar=Vt;ar<Ct;ar++)sr.disableVertexAttribArray(ar)}de.enableAttributes(sr,Q);for(var kr=0,Yr=re;kr<Yr.length;kr+=1){var Xr=Yr[kr];Xr.enableAttributes(sr,Q)}Ke&&Ke.enableAttributes(sr,Q),st&&st.enableAttributes(sr,Q),de.bind(),de.setVertexAttribPointers(sr,Q,ze);for(var Hr=0,Kr=re;Hr<Kr.length;Hr+=1){var fn=Kr[Hr];fn.bind(),fn.setVertexAttribPointers(sr,Q,ze)}Ke&&(Ke.bind(),Ke.setVertexAttribPointers(sr,Q,ze)),pe&&pe.bind(),st&&(st.bind(),st.setVertexAttribPointers(sr,Q,ze)),$t.currentNumAttributes=Vt},qo.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function lc(he){for(var Q=[],de=0;de<he.length;de++)if(he[de]!==null){var re=he[de].split(" ");Q.push(re.pop())}return Q}var Tf=function(Q,de,re,pe,ze,Ke){var st=Q.gl;this.program=st.createProgram();for(var Ct=lc(re.staticAttributes),Vt=pe?pe.getBinderAttributes():[],$t=Ct.concat(Vt),sr=re.staticUniforms?lc(re.staticUniforms):[],ar=pe?pe.getBinderUniforms():[],kr=sr.concat(ar),Yr=[],Xr=0,Hr=kr;Xr<Hr.length;Xr+=1){var Kr=Hr[Xr];Yr.indexOf(Kr)<0&&Yr.push(Kr)}var fn=pe?pe.defines():[];Ke&&fn.push("#define OVERDRAW_INSPECTOR;");var _n=fn.concat(ll.fragmentSource,re.fragmentSource).join(`
`),Fn=fn.concat(ll.vertexSource,re.vertexSource).join(`
`),Wn=st.createShader(st.FRAGMENT_SHADER);if(st.isContextLost()){this.failedToCreate=!0;return}st.shaderSource(Wn,_n),st.compileShader(Wn),st.attachShader(this.program,Wn);var Xn=st.createShader(st.VERTEX_SHADER);if(st.isContextLost()){this.failedToCreate=!0;return}st.shaderSource(Xn,Fn),st.compileShader(Xn),st.attachShader(this.program,Xn),this.attributes={};var Hn={};this.numAttributes=$t.length;for(var jn=0;jn<this.numAttributes;jn++)$t[jn]&&(st.bindAttribLocation(this.program,jn,$t[jn]),this.attributes[$t[jn]]=jn);st.linkProgram(this.program),st.deleteShader(Xn),st.deleteShader(Wn);for(var ei=0;ei<Yr.length;ei++){var si=Yr[ei];if(si&&!Hn[si]){var xi=st.getUniformLocation(this.program,si);xi&&(Hn[si]=xi)}}this.fixedUniforms=ze(Q,Hn),this.binderUniforms=pe?pe.getUniforms(Q,Hn):[]};Tf.prototype.draw=function(Q,de,re,pe,ze,Ke,st,Ct,Vt,$t,sr,ar,kr,Yr,Xr,Hr){var Kr,fn=Q.gl;if(!this.failedToCreate){Q.program.set(this.program),Q.setDepthMode(re),Q.setStencilMode(pe),Q.setColorMode(ze),Q.setCullFace(Ke);for(var _n in this.fixedUniforms)this.fixedUniforms[_n].set(st[_n]);Yr&&Yr.setUniforms(Q,this.binderUniforms,ar,{zoom:kr});for(var Fn=(Kr={},Kr[fn.LINES]=2,Kr[fn.TRIANGLES]=3,Kr[fn.LINE_STRIP]=1,Kr)[de],Wn=0,Xn=sr.get();Wn<Xn.length;Wn+=1){var Hn=Xn[Wn],jn=Hn.vaos||(Hn.vaos={}),ei=jn[Ct]||(jn[Ct]=new qo);ei.bind(Q,this,Vt,Yr?Yr.getPaintVertexBuffers():[],$t,Hn.vertexOffset,Xr,Hr),fn.drawElements(de,Hn.primitiveLength*Fn,fn.UNSIGNED_SHORT,Hn.primitiveOffset*Fn*2)}}};function ul(he,Q,de){var re=1/dn(de,1,Q.transform.tileZoom),pe=Math.pow(2,de.tileID.overscaledZ),ze=de.tileSize*Math.pow(2,Q.transform.tileZoom)/pe,Ke=ze*(de.tileID.canonical.x+de.tileID.wrap*pe),st=ze*de.tileID.canonical.y;return{u_image:0,u_texsize:de.imageAtlasTexture.size,u_scale:[re,he.fromScale,he.toScale],u_fade:he.t,u_pixel_coord_upper:[Ke>>16,st>>16],u_pixel_coord_lower:[Ke&65535,st&65535]}}function Ws(he,Q,de,re){var pe=de.imageManager.getPattern(he.from.toString()),ze=de.imageManager.getPattern(he.to.toString()),Ke=de.imageManager.getPixelSize(),st=Ke.width,Ct=Ke.height,Vt=Math.pow(2,re.tileID.overscaledZ),$t=re.tileSize*Math.pow(2,de.transform.tileZoom)/Vt,sr=$t*(re.tileID.canonical.x+re.tileID.wrap*Vt),ar=$t*re.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:pe.tl,u_pattern_br_a:pe.br,u_pattern_tl_b:ze.tl,u_pattern_br_b:ze.br,u_texsize:[st,Ct],u_mix:Q.t,u_pattern_size_a:pe.displaySize,u_pattern_size_b:ze.displaySize,u_scale_a:Q.fromScale,u_scale_b:Q.toScale,u_tile_units_to_pixels:1/dn(re,1,de.transform.tileZoom),u_pixel_coord_upper:[sr>>16,ar>>16],u_pixel_coord_lower:[sr&65535,ar&65535]}}var ju=function(he,Q){return{u_matrix:new i.UniformMatrix4f(he,Q.u_matrix),u_lightpos:new i.Uniform3f(he,Q.u_lightpos),u_lightintensity:new i.Uniform1f(he,Q.u_lightintensity),u_lightcolor:new i.Uniform3f(he,Q.u_lightcolor),u_vertical_gradient:new i.Uniform1f(he,Q.u_vertical_gradient),u_opacity:new i.Uniform1f(he,Q.u_opacity)}},Oa=function(he,Q){return{u_matrix:new i.UniformMatrix4f(he,Q.u_matrix),u_lightpos:new i.Uniform3f(he,Q.u_lightpos),u_lightintensity:new i.Uniform1f(he,Q.u_lightintensity),u_lightcolor:new i.Uniform3f(he,Q.u_lightcolor),u_vertical_gradient:new i.Uniform1f(he,Q.u_vertical_gradient),u_height_factor:new i.Uniform1f(he,Q.u_height_factor),u_image:new i.Uniform1i(he,Q.u_image),u_texsize:new i.Uniform2f(he,Q.u_texsize),u_pixel_coord_upper:new i.Uniform2f(he,Q.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(he,Q.u_pixel_coord_lower),u_scale:new i.Uniform3f(he,Q.u_scale),u_fade:new i.Uniform1f(he,Q.u_fade),u_opacity:new i.Uniform1f(he,Q.u_opacity)}},fu=function(he,Q,de,re){var pe=Q.style.light,ze=pe.properties.get("position"),Ke=[ze.x,ze.y,ze.z],st=i.create$1();pe.properties.get("anchor")==="viewport"&&i.fromRotation(st,-Q.transform.angle),i.transformMat3(Ke,Ke,st);var Ct=pe.properties.get("color");return{u_matrix:he,u_lightpos:Ke,u_lightintensity:pe.properties.get("intensity"),u_lightcolor:[Ct.r,Ct.g,Ct.b],u_vertical_gradient:+de,u_opacity:re}},es=function(he,Q,de,re,pe,ze,Ke){return i.extend(fu(he,Q,de,re),ul(ze,Q,Ke),{u_height_factor:-Math.pow(2,pe.overscaledZ)/Ke.tileSize/8})},Ps=function(he,Q){return{u_matrix:new i.UniformMatrix4f(he,Q.u_matrix)}},fl=function(he,Q){return{u_matrix:new i.UniformMatrix4f(he,Q.u_matrix),u_image:new i.Uniform1i(he,Q.u_image),u_texsize:new i.Uniform2f(he,Q.u_texsize),u_pixel_coord_upper:new i.Uniform2f(he,Q.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(he,Q.u_pixel_coord_lower),u_scale:new i.Uniform3f(he,Q.u_scale),u_fade:new i.Uniform1f(he,Q.u_fade)}},Xs=function(he,Q){return{u_matrix:new i.UniformMatrix4f(he,Q.u_matrix),u_world:new i.Uniform2f(he,Q.u_world)}},ts=function(he,Q){return{u_matrix:new i.UniformMatrix4f(he,Q.u_matrix),u_world:new i.Uniform2f(he,Q.u_world),u_image:new i.Uniform1i(he,Q.u_image),u_texsize:new i.Uniform2f(he,Q.u_texsize),u_pixel_coord_upper:new i.Uniform2f(he,Q.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(he,Q.u_pixel_coord_lower),u_scale:new i.Uniform3f(he,Q.u_scale),u_fade:new i.Uniform1f(he,Q.u_fade)}},Ds=function(he){return{u_matrix:he}},rs=function(he,Q,de,re){return i.extend(Ds(he),ul(de,Q,re))},Wo=function(he,Q){return{u_matrix:he,u_world:Q}},cu=function(he,Q,de,re,pe){return i.extend(rs(he,Q,de,re),{u_world:pe})},ph=function(he,Q){return{u_camera_to_center_distance:new i.Uniform1f(he,Q.u_camera_to_center_distance),u_scale_with_map:new i.Uniform1i(he,Q.u_scale_with_map),u_pitch_with_map:new i.Uniform1i(he,Q.u_pitch_with_map),u_extrude_scale:new i.Uniform2f(he,Q.u_extrude_scale),u_device_pixel_ratio:new i.Uniform1f(he,Q.u_device_pixel_ratio),u_matrix:new i.UniformMatrix4f(he,Q.u_matrix)}},gh=function(he,Q,de,re){var pe=he.transform,ze,Ke;if(re.paint.get("circle-pitch-alignment")==="map"){var st=dn(de,1,pe.zoom);ze=!0,Ke=[st,st]}else ze=!1,Ke=pe.pixelsToGLUnits;return{u_camera_to_center_distance:pe.cameraToCenterDistance,u_scale_with_map:+(re.paint.get("circle-pitch-scale")==="map"),u_matrix:he.translatePosMatrix(Q.posMatrix,de,re.paint.get("circle-translate"),re.paint.get("circle-translate-anchor")),u_pitch_with_map:+ze,u_device_pixel_ratio:i.browser.devicePixelRatio,u_extrude_scale:Ke}},yh=function(he,Q){return{u_matrix:new i.UniformMatrix4f(he,Q.u_matrix),u_camera_to_center_distance:new i.Uniform1f(he,Q.u_camera_to_center_distance),u_pixels_to_tile_units:new i.Uniform1f(he,Q.u_pixels_to_tile_units),u_extrude_scale:new i.Uniform2f(he,Q.u_extrude_scale),u_overscale_factor:new i.Uniform1f(he,Q.u_overscale_factor)}},mh=function(he,Q){return{u_matrix:new i.UniformMatrix4f(he,Q.u_matrix),u_inv_matrix:new i.UniformMatrix4f(he,Q.u_inv_matrix),u_camera_to_center_distance:new i.Uniform1f(he,Q.u_camera_to_center_distance),u_viewport_size:new i.Uniform2f(he,Q.u_viewport_size)}},Af=function(he,Q,de){var re=dn(de,1,Q.zoom),pe=Math.pow(2,Q.zoom-de.tileID.overscaledZ),ze=de.tileID.overscaleFactor();return{u_matrix:he,u_camera_to_center_distance:Q.cameraToCenterDistance,u_pixels_to_tile_units:re,u_extrude_scale:[Q.pixelsToGLUnits[0]/(re*pe),Q.pixelsToGLUnits[1]/(re*pe)],u_overscale_factor:ze}},uc=function(he,Q,de){return{u_matrix:he,u_inv_matrix:Q,u_camera_to_center_distance:de.cameraToCenterDistance,u_viewport_size:[de.width,de.height]}},Nl=function(he,Q){return{u_color:new i.UniformColor(he,Q.u_color),u_matrix:new i.UniformMatrix4f(he,Q.u_matrix),u_overlay:new i.Uniform1i(he,Q.u_overlay),u_overlay_scale:new i.Uniform1f(he,Q.u_overlay_scale)}},$a=function(he,Q,de){return de===void 0&&(de=1),{u_matrix:he,u_color:Q,u_overlay:0,u_overlay_scale:de}},Uo=function(he,Q){return{u_matrix:new i.UniformMatrix4f(he,Q.u_matrix)}},Bl=function(he){return{u_matrix:he}},fc=function(he,Q){return{u_extrude_scale:new i.Uniform1f(he,Q.u_extrude_scale),u_intensity:new i.Uniform1f(he,Q.u_intensity),u_matrix:new i.UniformMatrix4f(he,Q.u_matrix)}},hu=function(he,Q){return{u_matrix:new i.UniformMatrix4f(he,Q.u_matrix),u_world:new i.Uniform2f(he,Q.u_world),u_image:new i.Uniform1i(he,Q.u_image),u_color_ramp:new i.Uniform1i(he,Q.u_color_ramp),u_opacity:new i.Uniform1f(he,Q.u_opacity)}},Rs=function(he,Q,de,re){return{u_matrix:he,u_extrude_scale:dn(Q,1,de),u_intensity:re}},xh=function(he,Q,de,re){var pe=i.create();i.ortho(pe,0,he.width,he.height,0,0,1);var ze=he.context.gl;return{u_matrix:pe,u_world:[ze.drawingBufferWidth,ze.drawingBufferHeight],u_image:de,u_color_ramp:re,u_opacity:Q.paint.get("heatmap-opacity")}},cc=function(he,Q){return{u_matrix:new i.UniformMatrix4f(he,Q.u_matrix),u_image:new i.Uniform1i(he,Q.u_image),u_latrange:new i.Uniform2f(he,Q.u_latrange),u_light:new i.Uniform2f(he,Q.u_light),u_shadow:new i.UniformColor(he,Q.u_shadow),u_highlight:new i.UniformColor(he,Q.u_highlight),u_accent:new i.UniformColor(he,Q.u_accent)}},hc=function(he,Q){return{u_matrix:new i.UniformMatrix4f(he,Q.u_matrix),u_image:new i.Uniform1i(he,Q.u_image),u_dimension:new i.Uniform2f(he,Q.u_dimension),u_zoom:new i.Uniform1f(he,Q.u_zoom),u_unpack:new i.Uniform4f(he,Q.u_unpack)}},Mf=function(he,Q,de){var re=de.paint.get("hillshade-shadow-color"),pe=de.paint.get("hillshade-highlight-color"),ze=de.paint.get("hillshade-accent-color"),Ke=de.paint.get("hillshade-illumination-direction")*(Math.PI/180);de.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ke-=he.transform.angle);var st=!he.options.moving;return{u_matrix:he.transform.calculatePosMatrix(Q.tileID.toUnwrapped(),st),u_image:0,u_latrange:Ao(he,Q.tileID),u_light:[de.paint.get("hillshade-exaggeration"),Ke],u_shadow:re,u_highlight:pe,u_accent:ze}},vc=function(he,Q){var de=Q.stride,re=i.create();return i.ortho(re,0,i.EXTENT,-i.EXTENT,0,0,1),i.translate(re,re,[0,-i.EXTENT,0]),{u_matrix:re,u_image:1,u_dimension:[de,de],u_zoom:he.overscaledZ,u_unpack:Q.getUnpackVector()}};function Ao(he,Q){var de=Math.pow(2,Q.canonical.z),re=Q.canonical.y;return[new i.MercatorCoordinate(0,re/de).toLngLat().lat,new i.MercatorCoordinate(0,(re+1)/de).toLngLat().lat]}var ns=function(he,Q){return{u_matrix:new i.UniformMatrix4f(he,Q.u_matrix),u_ratio:new i.Uniform1f(he,Q.u_ratio),u_device_pixel_ratio:new i.Uniform1f(he,Q.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(he,Q.u_units_to_pixels)}},Ys=function(he,Q){return{u_matrix:new i.UniformMatrix4f(he,Q.u_matrix),u_ratio:new i.Uniform1f(he,Q.u_ratio),u_device_pixel_ratio:new i.Uniform1f(he,Q.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(he,Q.u_units_to_pixels),u_image:new i.Uniform1i(he,Q.u_image),u_image_height:new i.Uniform1f(he,Q.u_image_height)}},Ul=function(he,Q){return{u_matrix:new i.UniformMatrix4f(he,Q.u_matrix),u_texsize:new i.Uniform2f(he,Q.u_texsize),u_ratio:new i.Uniform1f(he,Q.u_ratio),u_device_pixel_ratio:new i.Uniform1f(he,Q.u_device_pixel_ratio),u_image:new i.Uniform1i(he,Q.u_image),u_units_to_pixels:new i.Uniform2f(he,Q.u_units_to_pixels),u_scale:new i.Uniform3f(he,Q.u_scale),u_fade:new i.Uniform1f(he,Q.u_fade)}},Zu=function(he,Q){return{u_matrix:new i.UniformMatrix4f(he,Q.u_matrix),u_ratio:new i.Uniform1f(he,Q.u_ratio),u_device_pixel_ratio:new i.Uniform1f(he,Q.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(he,Q.u_units_to_pixels),u_patternscale_a:new i.Uniform2f(he,Q.u_patternscale_a),u_patternscale_b:new i.Uniform2f(he,Q.u_patternscale_b),u_sdfgamma:new i.Uniform1f(he,Q.u_sdfgamma),u_image:new i.Uniform1i(he,Q.u_image),u_tex_y_a:new i.Uniform1f(he,Q.u_tex_y_a),u_tex_y_b:new i.Uniform1f(he,Q.u_tex_y_b),u_mix:new i.Uniform1f(he,Q.u_mix)}},cl=function(he,Q,de){var re=he.transform;return{u_matrix:js(he,Q,de),u_ratio:1/dn(Q,1,re.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_units_to_pixels:[1/re.pixelsToGLUnits[0],1/re.pixelsToGLUnits[1]]}},hl=function(he,Q,de,re){return i.extend(cl(he,Q,de),{u_image:0,u_image_height:re})},dc=function(he,Q,de,re){var pe=he.transform,ze=Vl(Q,pe);return{u_matrix:js(he,Q,de),u_texsize:Q.imageAtlasTexture.size,u_ratio:1/dn(Q,1,pe.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_image:0,u_scale:[ze,re.fromScale,re.toScale],u_fade:re.t,u_units_to_pixels:[1/pe.pixelsToGLUnits[0],1/pe.pixelsToGLUnits[1]]}},Is=function(he,Q,de,re,pe){var ze=he.transform,Ke=he.lineAtlas,st=Vl(Q,ze),Ct=de.layout.get("line-cap")==="round",Vt=Ke.getDash(re.from,Ct),$t=Ke.getDash(re.to,Ct),sr=Vt.width*pe.fromScale,ar=$t.width*pe.toScale;return i.extend(cl(he,Q,de),{u_patternscale_a:[st/sr,-Vt.height/2],u_patternscale_b:[st/ar,-$t.height/2],u_sdfgamma:Ke.width/(Math.min(sr,ar)*256*i.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Vt.y,u_tex_y_b:$t.y,u_mix:pe.t})};function Vl(he,Q){return 1/dn(he,1,Q.tileZoom)}function js(he,Q,de){return he.translatePosMatrix(Q.tileID.posMatrix,Q,de.paint.get("line-translate"),de.paint.get("line-translate-anchor"))}var _s=function(he,Q){return{u_matrix:new i.UniformMatrix4f(he,Q.u_matrix),u_tl_parent:new i.Uniform2f(he,Q.u_tl_parent),u_scale_parent:new i.Uniform1f(he,Q.u_scale_parent),u_buffer_scale:new i.Uniform1f(he,Q.u_buffer_scale),u_fade_t:new i.Uniform1f(he,Q.u_fade_t),u_opacity:new i.Uniform1f(he,Q.u_opacity),u_image0:new i.Uniform1i(he,Q.u_image0),u_image1:new i.Uniform1i(he,Q.u_image1),u_brightness_low:new i.Uniform1f(he,Q.u_brightness_low),u_brightness_high:new i.Uniform1f(he,Q.u_brightness_high),u_saturation_factor:new i.Uniform1f(he,Q.u_saturation_factor),u_contrast_factor:new i.Uniform1f(he,Q.u_contrast_factor),u_spin_weights:new i.Uniform3f(he,Q.u_spin_weights)}},vu=function(he,Q,de,re,pe){return{u_matrix:he,u_tl_parent:Q,u_scale_parent:de,u_buffer_scale:1,u_fade_t:re.mix,u_opacity:re.opacity*pe.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:pe.paint.get("raster-brightness-min"),u_brightness_high:pe.paint.get("raster-brightness-max"),u_saturation_factor:Gl(pe.paint.get("raster-saturation")),u_contrast_factor:va(pe.paint.get("raster-contrast")),u_spin_weights:Hl(pe.paint.get("raster-hue-rotate"))}};function Hl(he){he*=Math.PI/180;var Q=Math.sin(he),de=Math.cos(he);return[(2*de+1)/3,(-Math.sqrt(3)*Q-de+1)/3,(Math.sqrt(3)*Q-de+1)/3]}function va(he){return he>0?1/(1-he):1+he}function Gl(he){return he>0?1-1/(1.001-he):-he}var Ku=function(he,Q){return{u_is_size_zoom_constant:new i.Uniform1i(he,Q.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(he,Q.u_is_size_feature_constant),u_size_t:new i.Uniform1f(he,Q.u_size_t),u_size:new i.Uniform1f(he,Q.u_size),u_camera_to_center_distance:new i.Uniform1f(he,Q.u_camera_to_center_distance),u_pitch:new i.Uniform1f(he,Q.u_pitch),u_rotate_symbol:new i.Uniform1i(he,Q.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(he,Q.u_aspect_ratio),u_fade_change:new i.Uniform1f(he,Q.u_fade_change),u_matrix:new i.UniformMatrix4f(he,Q.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(he,Q.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(he,Q.u_coord_matrix),u_is_text:new i.Uniform1i(he,Q.u_is_text),u_pitch_with_map:new i.Uniform1i(he,Q.u_pitch_with_map),u_texsize:new i.Uniform2f(he,Q.u_texsize),u_texture:new i.Uniform1i(he,Q.u_texture)}},pc=function(he,Q){return{u_is_size_zoom_constant:new i.Uniform1i(he,Q.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(he,Q.u_is_size_feature_constant),u_size_t:new i.Uniform1f(he,Q.u_size_t),u_size:new i.Uniform1f(he,Q.u_size),u_camera_to_center_distance:new i.Uniform1f(he,Q.u_camera_to_center_distance),u_pitch:new i.Uniform1f(he,Q.u_pitch),u_rotate_symbol:new i.Uniform1i(he,Q.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(he,Q.u_aspect_ratio),u_fade_change:new i.Uniform1f(he,Q.u_fade_change),u_matrix:new i.UniformMatrix4f(he,Q.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(he,Q.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(he,Q.u_coord_matrix),u_is_text:new i.Uniform1i(he,Q.u_is_text),u_pitch_with_map:new i.Uniform1i(he,Q.u_pitch_with_map),u_texsize:new i.Uniform2f(he,Q.u_texsize),u_texture:new i.Uniform1i(he,Q.u_texture),u_gamma_scale:new i.Uniform1f(he,Q.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(he,Q.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(he,Q.u_is_halo)}},Wl=function(he,Q){return{u_is_size_zoom_constant:new i.Uniform1i(he,Q.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(he,Q.u_is_size_feature_constant),u_size_t:new i.Uniform1f(he,Q.u_size_t),u_size:new i.Uniform1f(he,Q.u_size),u_camera_to_center_distance:new i.Uniform1f(he,Q.u_camera_to_center_distance),u_pitch:new i.Uniform1f(he,Q.u_pitch),u_rotate_symbol:new i.Uniform1i(he,Q.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(he,Q.u_aspect_ratio),u_fade_change:new i.Uniform1f(he,Q.u_fade_change),u_matrix:new i.UniformMatrix4f(he,Q.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(he,Q.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(he,Q.u_coord_matrix),u_is_text:new i.Uniform1i(he,Q.u_is_text),u_pitch_with_map:new i.Uniform1i(he,Q.u_pitch_with_map),u_texsize:new i.Uniform2f(he,Q.u_texsize),u_texsize_icon:new i.Uniform2f(he,Q.u_texsize_icon),u_texture:new i.Uniform1i(he,Q.u_texture),u_texture_icon:new i.Uniform1i(he,Q.u_texture_icon),u_gamma_scale:new i.Uniform1f(he,Q.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(he,Q.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(he,Q.u_is_halo)}},du=function(he,Q,de,re,pe,ze,Ke,st,Ct,Vt){var $t=pe.transform;return{u_is_size_zoom_constant:+(he==="constant"||he==="source"),u_is_size_feature_constant:+(he==="constant"||he==="camera"),u_size_t:Q?Q.uSizeT:0,u_size:Q?Q.uSize:0,u_camera_to_center_distance:$t.cameraToCenterDistance,u_pitch:$t.pitch/360*2*Math.PI,u_rotate_symbol:+de,u_aspect_ratio:$t.width/$t.height,u_fade_change:pe.options.fadeDuration?pe.symbolFadeChange:1,u_matrix:ze,u_label_plane_matrix:Ke,u_coord_matrix:st,u_is_text:+Ct,u_pitch_with_map:+re,u_texsize:Vt,u_texture:0}},Ju=function(he,Q,de,re,pe,ze,Ke,st,Ct,Vt,$t){var sr=pe.transform;return i.extend(du(he,Q,de,re,pe,ze,Ke,st,Ct,Vt),{u_gamma_scale:re?Math.cos(sr._pitch)*sr.cameraToCenterDistance:1,u_device_pixel_ratio:i.browser.devicePixelRatio,u_is_halo:+$t})},Sf=function(he,Q,de,re,pe,ze,Ke,st,Ct,Vt){return i.extend(Ju(he,Q,de,re,pe,ze,Ke,st,!0,Ct,!0),{u_texsize_icon:Vt,u_texture_icon:1})},pu=function(he,Q){return{u_matrix:new i.UniformMatrix4f(he,Q.u_matrix),u_opacity:new i.Uniform1f(he,Q.u_opacity),u_color:new i.UniformColor(he,Q.u_color)}},gu=function(he,Q){return{u_matrix:new i.UniformMatrix4f(he,Q.u_matrix),u_opacity:new i.Uniform1f(he,Q.u_opacity),u_image:new i.Uniform1i(he,Q.u_image),u_pattern_tl_a:new i.Uniform2f(he,Q.u_pattern_tl_a),u_pattern_br_a:new i.Uniform2f(he,Q.u_pattern_br_a),u_pattern_tl_b:new i.Uniform2f(he,Q.u_pattern_tl_b),u_pattern_br_b:new i.Uniform2f(he,Q.u_pattern_br_b),u_texsize:new i.Uniform2f(he,Q.u_texsize),u_mix:new i.Uniform1f(he,Q.u_mix),u_pattern_size_a:new i.Uniform2f(he,Q.u_pattern_size_a),u_pattern_size_b:new i.Uniform2f(he,Q.u_pattern_size_b),u_scale_a:new i.Uniform1f(he,Q.u_scale_a),u_scale_b:new i.Uniform1f(he,Q.u_scale_b),u_pixel_coord_upper:new i.Uniform2f(he,Q.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(he,Q.u_pixel_coord_lower),u_tile_units_to_pixels:new i.Uniform1f(he,Q.u_tile_units_to_pixels)}},Zs=function(he,Q,de){return{u_matrix:he,u_opacity:Q,u_color:de}},yu=function(he,Q,de,re,pe,ze){return i.extend(Ws(re,ze,de,pe),{u_matrix:he,u_opacity:Q})},Ks={fillExtrusion:ju,fillExtrusionPattern:Oa,fill:Ps,fillPattern:fl,fillOutline:Xs,fillOutlinePattern:ts,circle:ph,collisionBox:yh,collisionCircle:mh,debug:Nl,clippingMask:Uo,heatmap:fc,heatmapTexture:hu,hillshade:cc,hillshadePrepare:hc,line:ns,lineGradient:Ys,linePattern:Ul,lineSDF:Zu,raster:_s,symbolIcon:Ku,symbolSDF:pc,symbolTextAndIcon:Wl,background:pu,backgroundPattern:gu},Wa;function ys(he,Q,de,re,pe,ze,Ke){for(var st=he.context,Ct=st.gl,Vt=he.useProgram("collisionBox"),$t=[],sr=0,ar=0,kr=0;kr<re.length;kr++){var Yr=re[kr],Xr=Q.getTile(Yr),Hr=Xr.getBucket(de);if(Hr){var Kr=Yr.posMatrix;(pe[0]!==0||pe[1]!==0)&&(Kr=he.translatePosMatrix(Yr.posMatrix,Xr,pe,ze));var fn=Ke?Hr.textCollisionBox:Hr.iconCollisionBox,_n=Hr.collisionCircleArray;if(_n.length>0){var Fn=i.create(),Wn=Kr;i.mul(Fn,Hr.placementInvProjMatrix,he.transform.glCoordMatrix),i.mul(Fn,Fn,Hr.placementViewportMatrix),$t.push({circleArray:_n,circleOffset:ar,transform:Wn,invTransform:Fn}),sr+=_n.length/4,ar=sr}fn&&Vt.draw(st,Ct.LINES,wr.disabled,Jt.disabled,he.colorModeForRenderPass(),Rt.disabled,Af(Kr,he.transform,Xr),de.id,fn.layoutVertexBuffer,fn.indexBuffer,fn.segments,null,he.transform.zoom,null,null,fn.collisionVertexBuffer)}}if(!(!Ke||!$t.length)){var Xn=he.useProgram("collisionCircle"),Hn=new i.StructArrayLayout2f1f2i16;Hn.resize(sr*4),Hn._trim();for(var jn=0,ei=0,si=$t;ei<si.length;ei+=1)for(var xi=si[ei],hi=0;hi<xi.circleArray.length/4;hi++){var zi=hi*4,$i=xi.circleArray[zi+0],Yi=xi.circleArray[zi+1],Mi=xi.circleArray[zi+2],ji=xi.circleArray[zi+3];Hn.emplace(jn++,$i,Yi,Mi,ji,0),Hn.emplace(jn++,$i,Yi,Mi,ji,1),Hn.emplace(jn++,$i,Yi,Mi,ji,2),Hn.emplace(jn++,$i,Yi,Mi,ji,3)}(!Wa||Wa.length<sr*2)&&(Wa=Ef(sr));for(var Gi=st.createIndexBuffer(Wa,!0),oa=st.createVertexBuffer(Hn,i.collisionCircleLayout.members,!0),ta=0,Sa=$t;ta<Sa.length;ta+=1){var Qi=Sa[ta],ma=uc(Qi.transform,Qi.invTransform,he.transform);Xn.draw(st,Ct.TRIANGLES,wr.disabled,Jt.disabled,he.colorModeForRenderPass(),Rt.disabled,ma,de.id,oa,Gi,i.SegmentVector.simpleSegment(0,Qi.circleOffset*2,Qi.circleArray.length,Qi.circleArray.length/2),null,he.transform.zoom,null,null,null)}oa.destroy(),Gi.destroy()}}function Ef(he){var Q=he*2,de=new i.StructArrayLayout3ui6;de.resize(Q),de._trim();for(var re=0;re<Q;re++){var pe=re*6;de.uint16[pe+0]=re*4+0,de.uint16[pe+1]=re*4+1,de.uint16[pe+2]=re*4+2,de.uint16[pe+3]=re*4+2,de.uint16[pe+4]=re*4+3,de.uint16[pe+5]=re*4+0}return de}var vl=i.identity(new Float32Array(16));function Qu(he,Q,de,re,pe){if(he.renderPass==="translucent"){var ze=Jt.disabled,Ke=he.colorModeForRenderPass(),st=de.layout.get("text-variable-anchor");st&&bh(re,he,de,Q,de.layout.get("text-rotation-alignment"),de.layout.get("text-pitch-alignment"),pe),de.paint.get("icon-opacity").constantOr(1)!==0&&xu(he,Q,de,re,!1,de.paint.get("icon-translate"),de.paint.get("icon-translate-anchor"),de.layout.get("icon-rotation-alignment"),de.layout.get("icon-pitch-alignment"),de.layout.get("icon-keep-upright"),ze,Ke),de.paint.get("text-opacity").constantOr(1)!==0&&xu(he,Q,de,re,!0,de.paint.get("text-translate"),de.paint.get("text-translate-anchor"),de.layout.get("text-rotation-alignment"),de.layout.get("text-pitch-alignment"),de.layout.get("text-keep-upright"),ze,Ke),Q.map.showCollisionBoxes&&(ys(he,Q,de,re,de.paint.get("text-translate"),de.paint.get("text-translate-anchor"),!0),ys(he,Q,de,re,de.paint.get("icon-translate"),de.paint.get("icon-translate-anchor"),!1))}}function mu(he,Q,de,re,pe,ze){var Ke=i.getAnchorAlignment(he),st=Ke.horizontalAlign,Ct=Ke.verticalAlign,Vt=-(st-.5)*Q,$t=-(Ct-.5)*de,sr=i.evaluateVariableOffset(he,re);return new i.Point((Vt/pe+sr[0])*ze,($t/pe+sr[1])*ze)}function bh(he,Q,de,re,pe,ze,Ke){for(var st=Q.transform,Ct=pe==="map",Vt=ze==="map",$t=0,sr=he;$t<sr.length;$t+=1){var ar=sr[$t],kr=re.getTile(ar),Yr=kr.getBucket(de);if(!(!Yr||!Yr.text||!Yr.text.segments.get().length)){var Xr=Yr.textSizeData,Hr=i.evaluateSizeForZoom(Xr,st.zoom),Kr=dn(kr,1,Q.transform.zoom),fn=Lr(ar.posMatrix,Vt,Ct,Q.transform,Kr),_n=de.layout.get("icon-text-fit")!=="none"&&Yr.hasIconData();if(Hr){var Fn=Math.pow(2,st.zoom-kr.tileID.overscaledZ);gc(Yr,Ct,Vt,Ke,i.symbolSize,st,fn,ar.posMatrix,Fn,Hr,_n)}}}}function gc(he,Q,de,re,pe,ze,Ke,st,Ct,Vt,$t){var sr=he.text.placedSymbolArray,ar=he.text.dynamicLayoutVertexArray,kr=he.icon.dynamicLayoutVertexArray,Yr={};ar.clear();for(var Xr=0;Xr<sr.length;Xr++){var Hr=sr.get(Xr),Kr=he.allowVerticalPlacement&&!Hr.placedOrientation,fn=!Hr.hidden&&Hr.crossTileID&&!Kr?re[Hr.crossTileID]:null;if(!fn)ri(Hr.numGlyphs,ar);else{var _n=new i.Point(Hr.anchorX,Hr.anchorY),Fn=Ur(_n,de?st:Ke),Wn=an(ze.cameraToCenterDistance,Fn.signedDistanceFromCamera),Xn=pe.evaluateSizeForFeature(he.textSizeData,Vt,Hr)*Wn/i.ONE_EM;de&&(Xn*=he.tilePixelRatio/Ct);for(var Hn=fn.width,jn=fn.height,ei=fn.anchor,si=fn.textOffset,xi=fn.textBoxScale,hi=mu(ei,Hn,jn,si,xi,Xn),zi=de?Ur(_n.add(hi),Ke).point:Fn.point.add(Q?hi.rotate(-ze.angle):hi),$i=he.allowVerticalPlacement&&Hr.placedOrientation===i.WritingMode.vertical?Math.PI/2:0,Yi=0;Yi<Hr.numGlyphs;Yi++)i.addDynamicAttributes(ar,zi,$i);$t&&Hr.associatedIconIndex>=0&&(Yr[Hr.associatedIconIndex]={shiftedAnchor:zi,angle:$i})}}if($t){kr.clear();for(var Mi=he.icon.placedSymbolArray,ji=0;ji<Mi.length;ji++){var Gi=Mi.get(ji);if(Gi.hidden)ri(Gi.numGlyphs,kr);else{var oa=Yr[ji];if(!oa)ri(Gi.numGlyphs,kr);else for(var ta=0;ta<Gi.numGlyphs;ta++)i.addDynamicAttributes(kr,oa.shiftedAnchor,oa.angle)}}he.icon.dynamicLayoutVertexBuffer.updateData(kr)}he.text.dynamicLayoutVertexBuffer.updateData(ar)}function go(he,Q,de){return de.iconsInText&&Q?"symbolTextAndIcon":he?"symbolSDF":"symbolIcon"}function xu(he,Q,de,re,pe,ze,Ke,st,Ct,Vt,$t,sr){for(var ar=he.context,kr=ar.gl,Yr=he.transform,Xr=st==="map",Hr=Ct==="map",Kr=Xr&&de.layout.get("symbol-placement")!=="point",fn=Xr&&!Hr&&!Kr,_n=de.layout.get("symbol-sort-key").constantOr(1)!==void 0,Fn=!1,Wn=he.depthModeForSublayer(0,wr.ReadOnly),Xn=de.layout.get("text-variable-anchor"),Hn=[],jn=0,ei=re;jn<ei.length;jn+=1){var si=ei[jn],xi=Q.getTile(si),hi=xi.getBucket(de);if(hi){var zi=pe?hi.text:hi.icon;if(!(!zi||!zi.segments.get().length)){var $i=zi.programConfigurations.get(de.id),Yi=pe||hi.sdfIcons,Mi=pe?hi.textSizeData:hi.iconSizeData,ji=Hr||Yr.pitch!==0,Gi=he.useProgram(go(Yi,pe,hi),$i),oa=i.evaluateSizeForZoom(Mi,Yr.zoom),ta=void 0,Sa=[0,0],Qi=void 0,ma=void 0,Wi=null,qi=void 0;if(pe){if(Qi=xi.glyphAtlasTexture,ma=kr.LINEAR,ta=xi.glyphAtlasTexture.size,hi.iconsInText){Sa=xi.imageAtlasTexture.size,Wi=xi.imageAtlasTexture;var Ua=Mi.kind==="composite"||Mi.kind==="camera";qi=ji||he.options.rotating||he.options.zooming||Ua?kr.LINEAR:kr.NEAREST}}else{var mo=de.layout.get("icon-size").constantOr(0)!==1||hi.iconsNeedLinear;Qi=xi.imageAtlasTexture,ma=Yi||he.options.rotating||he.options.zooming||mo||ji?kr.LINEAR:kr.NEAREST,ta=xi.imageAtlasTexture.size}var $s=dn(xi,1,he.transform.zoom),qs=Lr(si.posMatrix,Hr,Xr,he.transform,$s),yl=Wr(si.posMatrix,Hr,Xr,he.transform,$s),jl=Xn&&hi.hasTextData(),_f=de.layout.get("icon-text-fit")!=="none"&&jl&&hi.hasIconData();Kr&&gn(hi,si.posMatrix,he,pe,qs,yl,Hr,Vt);var Zl=he.translatePosMatrix(si.posMatrix,xi,ze,Ke),as=Kr||pe&&Xn||_f?vl:qs,Kl=he.translatePosMatrix(yl,xi,ze,Ke,!0),bs=Yi&&de.paint.get(pe?"text-halo-width":"icon-halo-width").constantOr(1)!==0,os=void 0;Yi?hi.iconsInText?os=Sf(Mi.kind,oa,fn,Hr,he,Zl,as,Kl,ta,Sa):os=Ju(Mi.kind,oa,fn,Hr,he,Zl,as,Kl,pe,ta,!0):os=du(Mi.kind,oa,fn,Hr,he,Zl,as,Kl,pe,ta);var ml={program:Gi,buffers:zi,uniformValues:os,atlasTexture:Qi,atlasTextureIcon:Wi,atlasInterpolation:ma,atlasInterpolationIcon:qi,isSDF:Yi,hasHalo:bs};if(_n&&hi.canOverlap){Fn=!0;for(var Cu=zi.segments.get(),xl=0,Qh=Cu;xl<Qh.length;xl+=1){var Sc=Qh[xl];Hn.push({segments:new i.SegmentVector([Sc]),sortKey:Sc.sortKey,state:ml})}}else Hn.push({segments:zi.segments,sortKey:0,state:ml})}}}Fn&&Hn.sort(function(qh,ev){return qh.sortKey-ev.sortKey});for(var Mo=0,$h=Hn;Mo<$h.length;Mo+=1){var Eh=$h[Mo],Xo=Eh.state;if(ar.activeTexture.set(kr.TEXTURE0),Xo.atlasTexture.bind(Xo.atlasInterpolation,kr.CLAMP_TO_EDGE),Xo.atlasTextureIcon&&(ar.activeTexture.set(kr.TEXTURE1),Xo.atlasTextureIcon&&Xo.atlasTextureIcon.bind(Xo.atlasInterpolationIcon,kr.CLAMP_TO_EDGE)),Xo.isSDF){var Ec=Xo.uniformValues;Xo.hasHalo&&(Ec.u_is_halo=1,Xl(Xo.buffers,Eh.segments,de,he,Xo.program,Wn,$t,sr,Ec)),Ec.u_is_halo=0}Xl(Xo.buffers,Eh.segments,de,he,Xo.program,Wn,$t,sr,Xo.uniformValues)}}function Xl(he,Q,de,re,pe,ze,Ke,st,Ct){var Vt=re.context,$t=Vt.gl;pe.draw(Vt,$t.TRIANGLES,ze,Ke,st,Rt.disabled,Ct,de.id,he.layoutVertexBuffer,he.indexBuffer,Q,de.paint,re.transform.zoom,he.programConfigurations.get(de.id),he.dynamicLayoutVertexBuffer,he.opacityVertexBuffer)}function yc(he,Q,de,re){if(he.renderPass==="translucent"){var pe=de.paint.get("circle-opacity"),ze=de.paint.get("circle-stroke-width"),Ke=de.paint.get("circle-stroke-opacity"),st=de.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(pe.constantOr(1)===0&&(ze.constantOr(1)===0||Ke.constantOr(1)===0))){for(var Ct=he.context,Vt=Ct.gl,$t=he.depthModeForSublayer(0,wr.ReadOnly),sr=Jt.disabled,ar=he.colorModeForRenderPass(),kr=[],Yr=0;Yr<re.length;Yr++){var Xr=re[Yr],Hr=Q.getTile(Xr),Kr=Hr.getBucket(de);if(Kr){var fn=Kr.programConfigurations.get(de.id),_n=he.useProgram("circle",fn),Fn=Kr.layoutVertexBuffer,Wn=Kr.indexBuffer,Xn=gh(he,Xr,Hr,de),Hn={programConfiguration:fn,program:_n,layoutVertexBuffer:Fn,indexBuffer:Wn,uniformValues:Xn};if(st)for(var jn=Kr.segments.get(),ei=0,si=jn;ei<si.length;ei+=1){var xi=si[ei];kr.push({segments:new i.SegmentVector([xi]),sortKey:xi.sortKey,state:Hn})}else kr.push({segments:Kr.segments,sortKey:0,state:Hn})}}st&&kr.sort(function(Qi,ma){return Qi.sortKey-ma.sortKey});for(var hi=0,zi=kr;hi<zi.length;hi+=1){var $i=zi[hi],Yi=$i.state,Mi=Yi.programConfiguration,ji=Yi.program,Gi=Yi.layoutVertexBuffer,oa=Yi.indexBuffer,ta=Yi.uniformValues,Sa=$i.segments;ji.draw(Ct,Vt.TRIANGLES,$t,sr,ar,Rt.disabled,ta,de.id,Gi,oa,Sa,de.paint,he.transform.zoom,Mi)}}}}function Js(he,Q,de,re){if(de.paint.get("heatmap-opacity")!==0)if(he.renderPass==="offscreen"){var pe=he.context,ze=pe.gl,Ke=Jt.disabled,st=new at([ze.ONE,ze.ONE],i.Color.transparent,[!0,!0,!0,!0]);wh(pe,he,de),pe.clear({color:i.Color.transparent});for(var Ct=0;Ct<re.length;Ct++){var Vt=re[Ct];if(!Q.hasRenderableParent(Vt)){var $t=Q.getTile(Vt),sr=$t.getBucket(de);if(sr){var ar=sr.programConfigurations.get(de.id),kr=he.useProgram("heatmap",ar),Yr=he.transform,Xr=Yr.zoom;kr.draw(pe,ze.TRIANGLES,wr.disabled,Ke,st,Rt.disabled,Rs(Vt.posMatrix,$t,Xr,de.paint.get("heatmap-intensity")),de.id,sr.layoutVertexBuffer,sr.indexBuffer,sr.segments,de.paint,he.transform.zoom,ar)}}}pe.viewport.set([0,0,he.width,he.height])}else he.renderPass==="translucent"&&(he.context.setColorMode(he.colorModeForRenderPass()),bu(he,de))}function wh(he,Q,de){var re=he.gl;he.activeTexture.set(re.TEXTURE1),he.viewport.set([0,0,Q.width/4,Q.height/4]);var pe=de.heatmapFbo;if(pe)re.bindTexture(re.TEXTURE_2D,pe.colorAttachment.get()),he.bindFramebuffer.set(pe.framebuffer);else{var ze=re.createTexture();re.bindTexture(re.TEXTURE_2D,ze),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_WRAP_S,re.CLAMP_TO_EDGE),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_WRAP_T,re.CLAMP_TO_EDGE),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_MIN_FILTER,re.LINEAR),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_MAG_FILTER,re.LINEAR),pe=de.heatmapFbo=he.createFramebuffer(Q.width/4,Q.height/4,!1),_o(he,Q,ze,pe)}}function _o(he,Q,de,re){var pe=he.gl,ze=he.extRenderToTextureHalfFloat?he.extTextureHalfFloat.HALF_FLOAT_OES:pe.UNSIGNED_BYTE;pe.texImage2D(pe.TEXTURE_2D,0,pe.RGBA,Q.width/4,Q.height/4,0,pe.RGBA,ze,null),re.colorAttachment.set(de)}function bu(he,Q){var de=he.context,re=de.gl,pe=Q.heatmapFbo;if(pe){de.activeTexture.set(re.TEXTURE0),re.bindTexture(re.TEXTURE_2D,pe.colorAttachment.get()),de.activeTexture.set(re.TEXTURE1);var ze=Q.colorRampTexture;ze||(ze=Q.colorRampTexture=new i.Texture(de,Q.colorRamp,re.RGBA)),ze.bind(re.LINEAR,re.CLAMP_TO_EDGE),he.useProgram("heatmapTexture").draw(de,re.TRIANGLES,wr.disabled,Jt.disabled,he.colorModeForRenderPass(),Rt.disabled,xh(he,Q,0,1),Q.id,he.viewportBuffer,he.quadTriangleIndexBuffer,he.viewportSegments,Q.paint,he.transform.zoom)}}function $u(he,Q,de,re){if(he.renderPass==="translucent"){var pe=de.paint.get("line-opacity"),ze=de.paint.get("line-width");if(!(pe.constantOr(1)===0||ze.constantOr(1)===0))for(var Ke=he.depthModeForSublayer(0,wr.ReadOnly),st=he.colorModeForRenderPass(),Ct=de.paint.get("line-dasharray"),Vt=de.paint.get("line-pattern"),$t=Vt.constantOr(1),sr=de.paint.get("line-gradient"),ar=de.getCrossfadeParameters(),kr=$t?"linePattern":Ct?"lineSDF":sr?"lineGradient":"line",Yr=he.context,Xr=Yr.gl,Hr=!0,Kr=0,fn=re;Kr<fn.length;Kr+=1){var _n=fn[Kr],Fn=Q.getTile(_n);if(!($t&&!Fn.patternsLoaded())){var Wn=Fn.getBucket(de);if(Wn){var Xn=Wn.programConfigurations.get(de.id),Hn=he.context.program.get(),jn=he.useProgram(kr,Xn),ei=Hr||jn.program!==Hn,si=Vt.constantOr(null);if(si&&Fn.imageAtlas){var xi=Fn.imageAtlas,hi=xi.patternPositions[si.to.toString()],zi=xi.patternPositions[si.from.toString()];hi&&zi&&Xn.setConstantPatternPositions(hi,zi)}var $i=$t?dc(he,Fn,de,ar):Ct?Is(he,Fn,de,Ct,ar):sr?hl(he,Fn,de,Wn.lineClipsArray.length):cl(he,Fn,de);if($t)Yr.activeTexture.set(Xr.TEXTURE0),Fn.imageAtlasTexture.bind(Xr.LINEAR,Xr.CLAMP_TO_EDGE),Xn.updatePaintBuffers(ar);else if(Ct&&(ei||he.lineAtlas.dirty))Yr.activeTexture.set(Xr.TEXTURE0),he.lineAtlas.bind(Yr);else if(sr){var Yi=Wn.gradients[de.id],Mi=Yi.texture;if(de.gradientVersion!==Yi.version){var ji=256;if(de.stepInterpolant){var Gi=Q.getSource().maxzoom,oa=_n.canonical.z===Gi?Math.ceil(1<<he.transform.maxZoom-_n.canonical.z):1,ta=Wn.maxLineLength/i.EXTENT,Sa=1024,Qi=ta*Sa*oa;ji=i.clamp(i.nextPowerOfTwo(Qi),256,Yr.maxTextureSize)}Yi.gradient=i.renderColorRamp({expression:de.gradientExpression(),evaluationKey:"lineProgress",resolution:ji,image:Yi.gradient||void 0,clips:Wn.lineClipsArray}),Yi.texture?Yi.texture.update(Yi.gradient):Yi.texture=new i.Texture(Yr,Yi.gradient,Xr.RGBA),Yi.version=de.gradientVersion,Mi=Yi.texture}Yr.activeTexture.set(Xr.TEXTURE0),Mi.bind(de.stepInterpolant?Xr.NEAREST:Xr.LINEAR,Xr.CLAMP_TO_EDGE)}jn.draw(Yr,Xr.TRIANGLES,Ke,he.stencilModeForClipping(_n),st,Rt.disabled,$i,de.id,Wn.layoutVertexBuffer,Wn.indexBuffer,Wn.segments,de.paint,he.transform.zoom,Xn,Wn.layoutVertexBuffer2),Hr=!1}}}}}function ks(he,Q,de,re){var pe=de.paint.get("fill-color"),ze=de.paint.get("fill-opacity");if(ze.constantOr(1)!==0){var Ke=he.colorModeForRenderPass(),st=de.paint.get("fill-pattern"),Ct=he.opaquePassEnabledForLayer()&&!st.constantOr(1)&&pe.constantOr(i.Color.transparent).a===1&&ze.constantOr(0)===1?"opaque":"translucent";if(he.renderPass===Ct){var Vt=he.depthModeForSublayer(1,he.renderPass==="opaque"?wr.ReadWrite:wr.ReadOnly);Qs(he,Q,de,re,Vt,Ke,!1)}if(he.renderPass==="translucent"&&de.paint.get("fill-antialias")){var $t=he.depthModeForSublayer(de.getPaintProperty("fill-outline-color")?2:0,wr.ReadOnly);Qs(he,Q,de,re,$t,Ke,!0)}}}function Qs(he,Q,de,re,pe,ze,Ke){var st=he.context.gl,Ct=de.paint.get("fill-pattern"),Vt=Ct&&Ct.constantOr(1),$t=de.getCrossfadeParameters(),sr,ar,kr,Yr,Xr;Ke?(ar=Vt&&!de.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",sr=st.LINES):(ar=Vt?"fillPattern":"fill",sr=st.TRIANGLES);for(var Hr=0,Kr=re;Hr<Kr.length;Hr+=1){var fn=Kr[Hr],_n=Q.getTile(fn);if(!(Vt&&!_n.patternsLoaded())){var Fn=_n.getBucket(de);if(Fn){var Wn=Fn.programConfigurations.get(de.id),Xn=he.useProgram(ar,Wn);Vt&&(he.context.activeTexture.set(st.TEXTURE0),_n.imageAtlasTexture.bind(st.LINEAR,st.CLAMP_TO_EDGE),Wn.updatePaintBuffers($t));var Hn=Ct.constantOr(null);if(Hn&&_n.imageAtlas){var jn=_n.imageAtlas,ei=jn.patternPositions[Hn.to.toString()],si=jn.patternPositions[Hn.from.toString()];ei&&si&&Wn.setConstantPatternPositions(ei,si)}var xi=he.translatePosMatrix(fn.posMatrix,_n,de.paint.get("fill-translate"),de.paint.get("fill-translate-anchor"));if(!Ke)Yr=Fn.indexBuffer,Xr=Fn.segments,kr=Vt?rs(xi,he,$t,_n):Ds(xi);else{Yr=Fn.indexBuffer2,Xr=Fn.segments2;var hi=[st.drawingBufferWidth,st.drawingBufferHeight];kr=ar==="fillOutlinePattern"&&Vt?cu(xi,he,$t,_n,hi):Wo(xi,hi)}Xn.draw(he.context,sr,pe,he.stencilModeForClipping(fn),ze,Rt.disabled,kr,de.id,Fn.layoutVertexBuffer,Yr,Xr,de.paint,he.transform.zoom,Wn)}}}}function Cf(he,Q,de,re){var pe=de.paint.get("fill-extrusion-opacity");if(pe!==0&&he.renderPass==="translucent"){var ze=new wr(he.context.gl.LEQUAL,wr.ReadWrite,he.depthRangeFor3D);if(pe===1&&!de.paint.get("fill-extrusion-pattern").constantOr(1)){var Ke=he.colorModeForRenderPass();wu(he,Q,de,re,ze,Jt.disabled,Ke)}else wu(he,Q,de,re,ze,Jt.disabled,at.disabled),wu(he,Q,de,re,ze,he.stencilModeFor3D(),he.colorModeForRenderPass())}}function wu(he,Q,de,re,pe,ze,Ke){for(var st=he.context,Ct=st.gl,Vt=de.paint.get("fill-extrusion-pattern"),$t=Vt.constantOr(1),sr=de.getCrossfadeParameters(),ar=de.paint.get("fill-extrusion-opacity"),kr=0,Yr=re;kr<Yr.length;kr+=1){var Xr=Yr[kr],Hr=Q.getTile(Xr),Kr=Hr.getBucket(de);if(Kr){var fn=Kr.programConfigurations.get(de.id),_n=he.useProgram($t?"fillExtrusionPattern":"fillExtrusion",fn);$t&&(he.context.activeTexture.set(Ct.TEXTURE0),Hr.imageAtlasTexture.bind(Ct.LINEAR,Ct.CLAMP_TO_EDGE),fn.updatePaintBuffers(sr));var Fn=Vt.constantOr(null);if(Fn&&Hr.imageAtlas){var Wn=Hr.imageAtlas,Xn=Wn.patternPositions[Fn.to.toString()],Hn=Wn.patternPositions[Fn.from.toString()];Xn&&Hn&&fn.setConstantPatternPositions(Xn,Hn)}var jn=he.translatePosMatrix(Xr.posMatrix,Hr,de.paint.get("fill-extrusion-translate"),de.paint.get("fill-extrusion-translate-anchor")),ei=de.paint.get("fill-extrusion-vertical-gradient"),si=$t?es(jn,he,ei,ar,Xr,sr,Hr):fu(jn,he,ei,ar);_n.draw(st,st.gl.TRIANGLES,pe,ze,Ke,Rt.backCCW,si,de.id,Kr.layoutVertexBuffer,Kr.indexBuffer,Kr.segments,de.paint,he.transform.zoom,fn)}}}function Tu(he,Q,de,re){if(!(he.renderPass!=="offscreen"&&he.renderPass!=="translucent")){for(var pe=he.context,ze=he.depthModeForSublayer(0,wr.ReadOnly),Ke=he.colorModeForRenderPass(),st=he.renderPass==="translucent"?he.stencilConfigForOverlap(re):[{},re],Ct=st[0],Vt=st[1],$t=0,sr=Vt;$t<sr.length;$t+=1){var ar=sr[$t],kr=Q.getTile(ar);kr.needsHillshadePrepare&&he.renderPass==="offscreen"?mc(he,kr,de,ze,Jt.disabled,Ke):he.renderPass==="translucent"&&qu(he,kr,de,ze,Ct[ar.overscaledZ],Ke)}pe.viewport.set([0,0,he.width,he.height])}}function qu(he,Q,de,re,pe,ze){var Ke=he.context,st=Ke.gl,Ct=Q.fbo;if(Ct){var Vt=he.useProgram("hillshade");Ke.activeTexture.set(st.TEXTURE0),st.bindTexture(st.TEXTURE_2D,Ct.colorAttachment.get());var $t=Mf(he,Q,de);Vt.draw(Ke,st.TRIANGLES,re,pe,ze,Rt.disabled,$t,de.id,he.rasterBoundsBuffer,he.quadTriangleIndexBuffer,he.rasterBoundsSegments)}}function mc(he,Q,de,re,pe,ze){var Ke=he.context,st=Ke.gl,Ct=Q.dem;if(Ct&&Ct.data){var Vt=Ct.dim,$t=Ct.stride,sr=Ct.getPixels();if(Ke.activeTexture.set(st.TEXTURE1),Ke.pixelStoreUnpackPremultiplyAlpha.set(!1),Q.demTexture=Q.demTexture||he.getTileTexture($t),Q.demTexture){var ar=Q.demTexture;ar.update(sr,{premultiply:!1}),ar.bind(st.NEAREST,st.CLAMP_TO_EDGE)}else Q.demTexture=new i.Texture(Ke,sr,st.RGBA,{premultiply:!1}),Q.demTexture.bind(st.NEAREST,st.CLAMP_TO_EDGE);Ke.activeTexture.set(st.TEXTURE0);var kr=Q.fbo;if(!kr){var Yr=new i.Texture(Ke,{width:Vt,height:Vt,data:null},st.RGBA);Yr.bind(st.LINEAR,st.CLAMP_TO_EDGE),kr=Q.fbo=Ke.createFramebuffer(Vt,Vt,!0),kr.colorAttachment.set(Yr.texture)}Ke.bindFramebuffer.set(kr.framebuffer),Ke.viewport.set([0,0,Vt,Vt]),he.useProgram("hillshadePrepare").draw(Ke,st.TRIANGLES,re,pe,ze,Rt.disabled,vc(Q.tileID,Ct),de.id,he.rasterBoundsBuffer,he.quadTriangleIndexBuffer,he.rasterBoundsSegments),Q.needsHillshadePrepare=!1}}function Au(he,Q,de,re){if(he.renderPass==="translucent"&&de.paint.get("raster-opacity")!==0&&re.length)for(var pe=he.context,ze=pe.gl,Ke=Q.getSource(),st=he.useProgram("raster"),Ct=he.colorModeForRenderPass(),Vt=Ke instanceof ee?[{},re]:he.stencilConfigForOverlap(re),$t=Vt[0],sr=Vt[1],ar=sr[sr.length-1].overscaledZ,kr=!he.options.moving,Yr=0,Xr=sr;Yr<Xr.length;Yr+=1){var Hr=Xr[Yr],Kr=he.depthModeForSublayer(Hr.overscaledZ-ar,de.paint.get("raster-opacity")===1?wr.ReadWrite:wr.ReadOnly,ze.LESS),fn=Q.getTile(Hr),_n=he.transform.calculatePosMatrix(Hr.toUnwrapped(),kr);fn.registerFadeDuration(de.paint.get("raster-fade-duration"));var Fn=Q.findLoadedParent(Hr,0),Wn=Lf(fn,Fn,Q,de,he.transform),Xn=void 0,Hn=void 0,jn=de.paint.get("raster-resampling")==="nearest"?ze.NEAREST:ze.LINEAR;pe.activeTexture.set(ze.TEXTURE0),fn.texture.bind(jn,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST),pe.activeTexture.set(ze.TEXTURE1),Fn?(Fn.texture.bind(jn,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST),Xn=Math.pow(2,Fn.tileID.overscaledZ-fn.tileID.overscaledZ),Hn=[fn.tileID.canonical.x*Xn%1,fn.tileID.canonical.y*Xn%1]):fn.texture.bind(jn,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST);var ei=vu(_n,Hn||[0,0],Xn||1,Wn,de);Ke instanceof ee?st.draw(pe,ze.TRIANGLES,Kr,Jt.disabled,Ct,Rt.disabled,ei,de.id,Ke.boundsBuffer,he.quadTriangleIndexBuffer,Ke.boundsSegments):st.draw(pe,ze.TRIANGLES,Kr,$t[Hr.overscaledZ],Ct,Rt.disabled,ei,de.id,he.rasterBoundsBuffer,he.quadTriangleIndexBuffer,he.rasterBoundsSegments)}}function Lf(he,Q,de,re,pe){var ze=re.paint.get("raster-fade-duration");if(ze>0){var Ke=i.browser.now(),st=(Ke-he.timeAdded)/ze,Ct=Q?(Ke-Q.timeAdded)/ze:-1,Vt=de.getSource(),$t=pe.coveringZoomLevel({tileSize:Vt.tileSize,roundZoom:Vt.roundZoom}),sr=!Q||Math.abs(Q.tileID.overscaledZ-$t)>Math.abs(he.tileID.overscaledZ-$t),ar=sr&&he.refreshedUponExpiration?1:i.clamp(sr?st:1-Ct,0,1);return he.refreshedUponExpiration&&st>=1&&(he.refreshedUponExpiration=!1),Q?{opacity:1,mix:1-ar}:{opacity:ar,mix:0}}else return{opacity:1,mix:0}}function dl(he,Q,de){var re=de.paint.get("background-color"),pe=de.paint.get("background-opacity");if(pe!==0){var ze=he.context,Ke=ze.gl,st=he.transform,Ct=st.tileSize,Vt=de.paint.get("background-pattern");if(!he.isPatternMissing(Vt)){var $t=!Vt&&re.a===1&&pe===1&&he.opaquePassEnabledForLayer()?"opaque":"translucent";if(he.renderPass===$t){var sr=Jt.disabled,ar=he.depthModeForSublayer(0,$t==="opaque"?wr.ReadWrite:wr.ReadOnly),kr=he.colorModeForRenderPass(),Yr=he.useProgram(Vt?"backgroundPattern":"background"),Xr=st.coveringTiles({tileSize:Ct});Vt&&(ze.activeTexture.set(Ke.TEXTURE0),he.imageManager.bind(he.context));for(var Hr=de.getCrossfadeParameters(),Kr=0,fn=Xr;Kr<fn.length;Kr+=1){var _n=fn[Kr],Fn=he.transform.calculatePosMatrix(_n.toUnwrapped()),Wn=Vt?yu(Fn,pe,he,Vt,{tileID:_n,tileSize:Ct},Hr):Zs(Fn,pe,re);Yr.draw(ze,Ke.TRIANGLES,ar,sr,kr,Rt.disabled,Wn,de.id,he.tileExtentBuffer,he.quadTriangleIndexBuffer,he.tileExtentSegments)}}}}}var Pf=new i.Color(1,0,0,1),Mu=new i.Color(0,1,0,1),xc=new i.Color(0,0,1,1),Je=new i.Color(1,0,1,1),it=new i.Color(0,1,1,1);function gt(he){var Q=he.transform.padding,de=3;Ot(he,he.transform.height-(Q.top||0),de,Pf),Ot(he,Q.bottom||0,de,Mu),It(he,Q.left||0,de,xc),It(he,he.transform.width-(Q.right||0),de,Je);var re=he.transform.centerPoint;bt(he,re.x,he.transform.height-re.y,it)}function bt(he,Q,de,re){var pe=20,ze=2;Bt(he,Q-ze/2,de-pe/2,ze,pe,re),Bt(he,Q-pe/2,de-ze/2,pe,ze,re)}function Ot(he,Q,de,re){Bt(he,0,Q+de/2,he.transform.width,de,re)}function It(he,Q,de,re){Bt(he,Q-de/2,0,de,he.transform.height,re)}function Bt(he,Q,de,re,pe,ze){var Ke=he.context,st=Ke.gl;st.enable(st.SCISSOR_TEST),st.scissor(Q*i.browser.devicePixelRatio,de*i.browser.devicePixelRatio,re*i.browser.devicePixelRatio,pe*i.browser.devicePixelRatio),Ke.clear({color:ze}),st.disable(st.SCISSOR_TEST)}function dr(he,Q,de){for(var re=0;re<de.length;re++)xr(he,Q,de[re])}function xr(he,Q,de){var re=he.context,pe=re.gl,ze=de.posMatrix,Ke=he.useProgram("debug"),st=wr.disabled,Ct=Jt.disabled,Vt=he.colorModeForRenderPass(),$t="$debug";re.activeTexture.set(pe.TEXTURE0),he.emptyTexture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE),Ke.draw(re,pe.LINE_STRIP,st,Ct,Vt,Rt.disabled,$a(ze,i.Color.red),$t,he.debugBuffer,he.tileBorderIndexBuffer,he.debugSegments);var sr=Q.getTileByID(de.key).latestRawTileData,ar=sr&&sr.byteLength||0,kr=Math.floor(ar/1024),Yr=Q.getTile(de).tileSize,Xr=512/Math.min(Yr,512)*(de.overscaledZ/he.transform.zoom)*.5,Hr=de.canonical.toString();de.overscaledZ!==de.canonical.z&&(Hr+=" => "+de.overscaledZ);var Kr=Hr+" "+kr+"kb";ir(he,Kr),Ke.draw(re,pe.TRIANGLES,st,Ct,at.alphaBlended,Rt.disabled,$a(ze,i.Color.transparent,Xr),$t,he.debugBuffer,he.quadTriangleIndexBuffer,he.debugSegments)}function ir(he,Q){he.initDebugOverlayCanvas();var de=he.debugOverlayCanvas,re=he.context.gl,pe=he.debugOverlayCanvas.getContext("2d");pe.clearRect(0,0,de.width,de.height),pe.shadowColor="white",pe.shadowBlur=2,pe.lineWidth=1.5,pe.strokeStyle="white",pe.textBaseline="top",pe.font="bold 36px Open Sans, sans-serif",pe.fillText(Q,5,5),pe.strokeText(Q,5,5),he.debugOverlayTexture.update(de),he.debugOverlayTexture.bind(re.LINEAR,re.CLAMP_TO_EDGE)}function Mr(he,Q,de){var re=he.context,pe=de.implementation;if(he.renderPass==="offscreen"){var ze=pe.prerender;ze&&(he.setCustomLayerDefaults(),re.setColorMode(he.colorModeForRenderPass()),ze.call(pe,re.gl,he.transform.customLayerMatrix()),re.setDirty(),he.setBaseState())}else if(he.renderPass==="translucent"){he.setCustomLayerDefaults(),re.setColorMode(he.colorModeForRenderPass()),re.setStencilMode(Jt.disabled);var Ke=pe.renderingMode==="3d"?new wr(he.context.gl.LEQUAL,wr.ReadWrite,he.depthRangeFor3D):he.depthModeForSublayer(0,wr.ReadOnly);re.setDepthMode(Ke),pe.render(re.gl,he.transform.customLayerMatrix()),re.setDirty(),he.setBaseState(),re.bindFramebuffer.set(null)}}var _r={symbol:Qu,circle:yc,heatmap:Js,line:$u,fill:ks,"fill-extrusion":Cf,hillshade:Tu,raster:Au,background:dl,debug:dr,custom:Mr},Nr=function(Q,de){this.context=new Dt(Q),this.transform=de,this._tileTextures={},this.setup(),this.numSublayers=Ut.maxUnderzooming+Ut.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ai,this.gpuTimers={}};Nr.prototype.resize=function(Q,de){if(this.width=Q*i.browser.devicePixelRatio,this.height=de*i.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var re=0,pe=this.style._order;re<pe.length;re+=1){var ze=pe[re];this.style._layers[ze].resize()}},Nr.prototype.setup=function(){var Q=this.context,de=new i.StructArrayLayout2i4;de.emplaceBack(0,0),de.emplaceBack(i.EXTENT,0),de.emplaceBack(0,i.EXTENT),de.emplaceBack(i.EXTENT,i.EXTENT),this.tileExtentBuffer=Q.createVertexBuffer(de,Do.members),this.tileExtentSegments=i.SegmentVector.simpleSegment(0,0,4,2);var re=new i.StructArrayLayout2i4;re.emplaceBack(0,0),re.emplaceBack(i.EXTENT,0),re.emplaceBack(0,i.EXTENT),re.emplaceBack(i.EXTENT,i.EXTENT),this.debugBuffer=Q.createVertexBuffer(re,Do.members),this.debugSegments=i.SegmentVector.simpleSegment(0,0,4,5);var pe=new i.StructArrayLayout4i8;pe.emplaceBack(0,0,0,0),pe.emplaceBack(i.EXTENT,0,i.EXTENT,0),pe.emplaceBack(0,i.EXTENT,0,i.EXTENT),pe.emplaceBack(i.EXTENT,i.EXTENT,i.EXTENT,i.EXTENT),this.rasterBoundsBuffer=Q.createVertexBuffer(pe,j.members),this.rasterBoundsSegments=i.SegmentVector.simpleSegment(0,0,4,2);var ze=new i.StructArrayLayout2i4;ze.emplaceBack(0,0),ze.emplaceBack(1,0),ze.emplaceBack(0,1),ze.emplaceBack(1,1),this.viewportBuffer=Q.createVertexBuffer(ze,Do.members),this.viewportSegments=i.SegmentVector.simpleSegment(0,0,4,2);var Ke=new i.StructArrayLayout1ui2;Ke.emplaceBack(0),Ke.emplaceBack(1),Ke.emplaceBack(3),Ke.emplaceBack(2),Ke.emplaceBack(0),this.tileBorderIndexBuffer=Q.createIndexBuffer(Ke);var st=new i.StructArrayLayout3ui6;st.emplaceBack(0,1,2),st.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=Q.createIndexBuffer(st),this.emptyTexture=new i.Texture(Q,{width:1,height:1,data:new Uint8Array([0,0,0,0])},Q.gl.RGBA);var Ct=this.context.gl;this.stencilClearMode=new Jt({func:Ct.ALWAYS,mask:0},0,255,Ct.ZERO,Ct.ZERO,Ct.ZERO)},Nr.prototype.clearStencil=function(){var Q=this.context,de=Q.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var re=i.create();i.ortho(re,0,this.width,this.height,0,0,1),i.scale(re,re,[de.drawingBufferWidth,de.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(Q,de.TRIANGLES,wr.disabled,this.stencilClearMode,at.disabled,Rt.disabled,Bl(re),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Nr.prototype._renderTileClippingMasks=function(Q,de){if(!(this.currentStencilSource===Q.source||!Q.isTileClipped()||!de||!de.length)){this.currentStencilSource=Q.source;var re=this.context,pe=re.gl;this.nextStencilID+de.length>256&&this.clearStencil(),re.setColorMode(at.disabled),re.setDepthMode(wr.disabled);var ze=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Ke=0,st=de;Ke<st.length;Ke+=1){var Ct=st[Ke],Vt=this._tileClippingMaskIDs[Ct.key]=this.nextStencilID++;ze.draw(re,pe.TRIANGLES,wr.disabled,new Jt({func:pe.ALWAYS,mask:0},Vt,255,pe.KEEP,pe.KEEP,pe.REPLACE),at.disabled,Rt.disabled,Bl(Ct.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Nr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var Q=this.nextStencilID++,de=this.context.gl;return new Jt({func:de.NOTEQUAL,mask:255},Q,255,de.KEEP,de.KEEP,de.REPLACE)},Nr.prototype.stencilModeForClipping=function(Q){var de=this.context.gl;return new Jt({func:de.EQUAL,mask:255},this._tileClippingMaskIDs[Q.key],0,de.KEEP,de.KEEP,de.REPLACE)},Nr.prototype.stencilConfigForOverlap=function(Q){var de,re=this.context.gl,pe=Q.sort(function(Vt,$t){return $t.overscaledZ-Vt.overscaledZ}),ze=pe[pe.length-1].overscaledZ,Ke=pe[0].overscaledZ-ze+1;if(Ke>1){this.currentStencilSource=void 0,this.nextStencilID+Ke>256&&this.clearStencil();for(var st={},Ct=0;Ct<Ke;Ct++)st[Ct+ze]=new Jt({func:re.GEQUAL,mask:255},Ct+this.nextStencilID,255,re.KEEP,re.KEEP,re.REPLACE);return this.nextStencilID+=Ke,[st,pe]}return[(de={},de[ze]=Jt.disabled,de),pe]},Nr.prototype.colorModeForRenderPass=function(){var Q=this.context.gl;if(this._showOverdrawInspector){var de=8,re=1/de;return new at([Q.CONSTANT_COLOR,Q.ONE],new i.Color(re,re,re,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?at.unblended:at.alphaBlended},Nr.prototype.depthModeForSublayer=function(Q,de,re){if(!this.opaquePassEnabledForLayer())return wr.disabled;var pe=1-((1+this.currentLayer)*this.numSublayers+Q)*this.depthEpsilon;return new wr(re||this.context.gl.LEQUAL,de,[pe,pe])},Nr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Nr.prototype.render=function(Q,de){var re=this;this.style=Q,this.options=de,this.lineAtlas=Q.lineAtlas,this.imageManager=Q.imageManager,this.glyphManager=Q.glyphManager,this.symbolFadeChange=Q.placement.symbolFadeChange(i.browser.now()),this.imageManager.beginFrame();var pe=this.style._order,ze=this.style.sourceCaches;for(var Ke in ze){var st=ze[Ke];st.used&&st.prepare(this.context)}var Ct={},Vt={},$t={};for(var sr in ze){var ar=ze[sr];Ct[sr]=ar.getVisibleCoordinates(),Vt[sr]=Ct[sr].slice().reverse(),$t[sr]=ar.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var kr=0;kr<pe.length;kr++){var Yr=pe[kr];if(this.style._layers[Yr].is3D()){this.opaquePassCutoff=kr;break}}this.renderPass="offscreen";for(var Xr=0,Hr=pe;Xr<Hr.length;Xr+=1){var Kr=Hr[Xr],fn=this.style._layers[Kr];if(!(!fn.hasOffscreenPass()||fn.isHidden(this.transform.zoom))){var _n=Vt[fn.source];fn.type!=="custom"&&!_n.length||this.renderLayer(this,ze[fn.source],fn,_n)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:de.showOverdrawInspector?i.Color.black:i.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=de.showOverdrawInspector,this.depthRangeFor3D=[0,1-(Q._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=pe.length-1;this.currentLayer>=0;this.currentLayer--){var Fn=this.style._layers[pe[this.currentLayer]],Wn=ze[Fn.source],Xn=Ct[Fn.source];this._renderTileClippingMasks(Fn,Xn),this.renderLayer(this,Wn,Fn,Xn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<pe.length;this.currentLayer++){var Hn=this.style._layers[pe[this.currentLayer]],jn=ze[Hn.source],ei=(Hn.type==="symbol"?$t:Vt)[Hn.source];this._renderTileClippingMasks(Hn,Ct[Hn.source]),this.renderLayer(this,jn,Hn,ei)}if(this.options.showTileBoundaries){var si,xi,hi=i.values(this.style._layers);hi.forEach(function(zi){zi.source&&!zi.isHidden(re.transform.zoom)&&(zi.source!==(xi&&xi.id)&&(xi=re.style.sourceCaches[zi.source]),(!si||si.getSource().maxzoom<xi.getSource().maxzoom)&&(si=xi))}),si&&_r.debug(this,si,si.getVisibleCoordinates())}this.options.showPadding&&gt(this),this.context.setDefault()},Nr.prototype.renderLayer=function(Q,de,re,pe){re.isHidden(this.transform.zoom)||re.type!=="background"&&re.type!=="custom"&&!pe.length||(this.id=re.id,this.gpuTimingStart(re),_r[re.type](Q,de,re,pe,this.style.placement.variableOffsets),this.gpuTimingEnd())},Nr.prototype.gpuTimingStart=function(Q){if(this.options.gpuTiming){var de=this.context.extTimerQuery,re=this.gpuTimers[Q.id];re||(re=this.gpuTimers[Q.id]={calls:0,cpuTime:0,query:de.createQueryEXT()}),re.calls++,de.beginQueryEXT(de.TIME_ELAPSED_EXT,re.query)}},Nr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var Q=this.context.extTimerQuery;Q.endQueryEXT(Q.TIME_ELAPSED_EXT)}},Nr.prototype.collectGpuTimers=function(){var Q=this.gpuTimers;return this.gpuTimers={},Q},Nr.prototype.queryGpuTimers=function(Q){var de={};for(var re in Q){var pe=Q[re],ze=this.context.extTimerQuery,Ke=ze.getQueryObjectEXT(pe.query,ze.QUERY_RESULT_EXT)/(1e3*1e3);ze.deleteQueryEXT(pe.query),de[re]=Ke}return de},Nr.prototype.translatePosMatrix=function(Q,de,re,pe,ze){if(!re[0]&&!re[1])return Q;var Ke=ze?pe==="map"?this.transform.angle:0:pe==="viewport"?-this.transform.angle:0;if(Ke){var st=Math.sin(Ke),Ct=Math.cos(Ke);re=[re[0]*Ct-re[1]*st,re[0]*st+re[1]*Ct]}var Vt=[ze?re[0]:dn(de,re[0],this.transform.zoom),ze?re[1]:dn(de,re[1],this.transform.zoom),0],$t=new Float32Array(16);return i.translate($t,Q,Vt),$t},Nr.prototype.saveTileTexture=function(Q){var de=this._tileTextures[Q.size[0]];de?de.push(Q):this._tileTextures[Q.size[0]]=[Q]},Nr.prototype.getTileTexture=function(Q){var de=this._tileTextures[Q];return de&&de.length>0?de.pop():null},Nr.prototype.isPatternMissing=function(Q){if(!Q)return!1;if(!Q.from||!Q.to)return!0;var de=this.imageManager.getPattern(Q.from.toString()),re=this.imageManager.getPattern(Q.to.toString());return!de||!re},Nr.prototype.useProgram=function(Q,de){this.cache=this.cache||{};var re=""+Q+(de?de.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[re]||(this.cache[re]=new Tf(this.context,Q,sc[Q],de,Ks[Q],this._showOverdrawInspector)),this.cache[re]},Nr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Nr.prototype.setBaseState=function(){var Q=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(Q.FUNC_ADD)},Nr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=i.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var Q=this.context.gl;this.debugOverlayTexture=new i.Texture(this.context,this.debugOverlayCanvas,Q.RGBA)}},Nr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var tn=function(Q,de){this.points=Q,this.planes=de};tn.fromInvProjectionMatrix=function(Q,de,re){var pe=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],ze=Math.pow(2,re),Ke=pe.map(function(Vt){return i.transformMat4([],Vt,Q)}).map(function(Vt){return i.scale$1([],Vt,1/Vt[3]/de*ze)}),st=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],Ct=st.map(function(Vt){var $t=i.sub([],Ke[Vt[0]],Ke[Vt[1]]),sr=i.sub([],Ke[Vt[2]],Ke[Vt[1]]),ar=i.normalize([],i.cross([],$t,sr)),kr=-i.dot(ar,Ke[Vt[1]]);return ar.concat(kr)});return new tn(Ke,Ct)};var mn=function(Q,de){this.min=Q,this.max=de,this.center=i.scale$2([],i.add([],this.min,this.max),.5)};mn.prototype.quadrant=function(Q){for(var de=[Q%2===0,Q<2],re=i.clone$2(this.min),pe=i.clone$2(this.max),ze=0;ze<de.length;ze++)re[ze]=de[ze]?this.min[ze]:this.center[ze],pe[ze]=de[ze]?this.center[ze]:this.max[ze];return pe[2]=this.max[2],new mn(re,pe)},mn.prototype.distanceX=function(Q){var de=Math.max(Math.min(this.max[0],Q[0]),this.min[0]);return de-Q[0]},mn.prototype.distanceY=function(Q){var de=Math.max(Math.min(this.max[1],Q[1]),this.min[1]);return de-Q[1]},mn.prototype.intersects=function(Q){for(var de=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],re=!0,pe=0;pe<Q.planes.length;pe++){for(var ze=Q.planes[pe],Ke=0,st=0;st<de.length;st++)Ke+=i.dot$1(ze,de[st])>=0;if(Ke===0)return 0;Ke!==de.length&&(re=!1)}if(re)return 2;for(var Ct=0;Ct<3;Ct++){for(var Vt=Number.MAX_VALUE,$t=-Number.MAX_VALUE,sr=0;sr<Q.points.length;sr++){var ar=Q.points[sr][Ct]-this.min[Ct];Vt=Math.min(Vt,ar),$t=Math.max($t,ar)}if($t<0||Vt>this.max[Ct]-this.min[Ct])return 0}return 1};var Dn=function(Q,de,re,pe){if(Q===void 0&&(Q=0),de===void 0&&(de=0),re===void 0&&(re=0),pe===void 0&&(pe=0),isNaN(Q)||Q<0||isNaN(de)||de<0||isNaN(re)||re<0||isNaN(pe)||pe<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=Q,this.bottom=de,this.left=re,this.right=pe};Dn.prototype.interpolate=function(Q,de,re){return de.top!=null&&Q.top!=null&&(this.top=i.number(Q.top,de.top,re)),de.bottom!=null&&Q.bottom!=null&&(this.bottom=i.number(Q.bottom,de.bottom,re)),de.left!=null&&Q.left!=null&&(this.left=i.number(Q.left,de.left,re)),de.right!=null&&Q.right!=null&&(this.right=i.number(Q.right,de.right,re)),this},Dn.prototype.getCenter=function(Q,de){var re=i.clamp((this.left+Q-this.right)/2,0,Q),pe=i.clamp((this.top+de-this.bottom)/2,0,de);return new i.Point(re,pe)},Dn.prototype.equals=function(Q){return this.top===Q.top&&this.bottom===Q.bottom&&this.left===Q.left&&this.right===Q.right},Dn.prototype.clone=function(){return new Dn(this.top,this.bottom,this.left,this.right)},Dn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Rn=function(Q,de,re,pe,ze){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=ze===void 0?!0:ze,this._minZoom=Q||0,this._maxZoom=de||22,this._minPitch=re??0,this._maxPitch=pe??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new i.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Dn,this._posMatrixCache={},this._alignedPosMatrixCache={}},Yn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Rn.prototype.clone=function(){var Q=new Rn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return Q.tileSize=this.tileSize,Q.latRange=this.latRange,Q.width=this.width,Q.height=this.height,Q._center=this._center,Q.zoom=this.zoom,Q.angle=this.angle,Q._fov=this._fov,Q._pitch=this._pitch,Q._unmodified=this._unmodified,Q._edgeInsets=this._edgeInsets.clone(),Q._calcMatrices(),Q},Yn.minZoom.get=function(){return this._minZoom},Yn.minZoom.set=function(he){this._minZoom!==he&&(this._minZoom=he,this.zoom=Math.max(this.zoom,he))},Yn.maxZoom.get=function(){return this._maxZoom},Yn.maxZoom.set=function(he){this._maxZoom!==he&&(this._maxZoom=he,this.zoom=Math.min(this.zoom,he))},Yn.minPitch.get=function(){return this._minPitch},Yn.minPitch.set=function(he){this._minPitch!==he&&(this._minPitch=he,this.pitch=Math.max(this.pitch,he))},Yn.maxPitch.get=function(){return this._maxPitch},Yn.maxPitch.set=function(he){this._maxPitch!==he&&(this._maxPitch=he,this.pitch=Math.min(this.pitch,he))},Yn.renderWorldCopies.get=function(){return this._renderWorldCopies},Yn.renderWorldCopies.set=function(he){he===void 0?he=!0:he===null&&(he=!1),this._renderWorldCopies=he},Yn.worldSize.get=function(){return this.tileSize*this.scale},Yn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Yn.size.get=function(){return new i.Point(this.width,this.height)},Yn.bearing.get=function(){return-this.angle/Math.PI*180},Yn.bearing.set=function(he){var Q=-i.wrap(he,-180,180)*Math.PI/180;this.angle!==Q&&(this._unmodified=!1,this.angle=Q,this._calcMatrices(),this.rotationMatrix=i.create$2(),i.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Yn.pitch.get=function(){return this._pitch/Math.PI*180},Yn.pitch.set=function(he){var Q=i.clamp(he,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==Q&&(this._unmodified=!1,this._pitch=Q,this._calcMatrices())},Yn.fov.get=function(){return this._fov/Math.PI*180},Yn.fov.set=function(he){he=Math.max(.01,Math.min(60,he)),this._fov!==he&&(this._unmodified=!1,this._fov=he/180*Math.PI,this._calcMatrices())},Yn.zoom.get=function(){return this._zoom},Yn.zoom.set=function(he){var Q=Math.min(Math.max(he,this.minZoom),this.maxZoom);this._zoom!==Q&&(this._unmodified=!1,this._zoom=Q,this.scale=this.zoomScale(Q),this.tileZoom=Math.floor(Q),this.zoomFraction=Q-this.tileZoom,this._constrain(),this._calcMatrices())},Yn.center.get=function(){return this._center},Yn.center.set=function(he){he.lat===this._center.lat&&he.lng===this._center.lng||(this._unmodified=!1,this._center=he,this._constrain(),this._calcMatrices())},Yn.padding.get=function(){return this._edgeInsets.toJSON()},Yn.padding.set=function(he){this._edgeInsets.equals(he)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,he,1),this._calcMatrices())},Yn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Rn.prototype.isPaddingEqual=function(Q){return this._edgeInsets.equals(Q)},Rn.prototype.interpolatePadding=function(Q,de,re){this._unmodified=!1,this._edgeInsets.interpolate(Q,de,re),this._constrain(),this._calcMatrices()},Rn.prototype.coveringZoomLevel=function(Q){var de=(Q.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/Q.tileSize));return Math.max(0,de)},Rn.prototype.getVisibleUnwrappedCoordinates=function(Q){var de=[new i.UnwrappedTileID(0,Q)];if(this._renderWorldCopies)for(var re=this.pointCoordinate(new i.Point(0,0)),pe=this.pointCoordinate(new i.Point(this.width,0)),ze=this.pointCoordinate(new i.Point(this.width,this.height)),Ke=this.pointCoordinate(new i.Point(0,this.height)),st=Math.floor(Math.min(re.x,pe.x,ze.x,Ke.x)),Ct=Math.floor(Math.max(re.x,pe.x,ze.x,Ke.x)),Vt=1,$t=st-Vt;$t<=Ct+Vt;$t++)$t!==0&&de.push(new i.UnwrappedTileID($t,Q));return de},Rn.prototype.coveringTiles=function(Q){var de=this.coveringZoomLevel(Q),re=de;if(Q.minzoom!==void 0&&de<Q.minzoom)return[];Q.maxzoom!==void 0&&de>Q.maxzoom&&(de=Q.maxzoom);var pe=i.MercatorCoordinate.fromLngLat(this.center),ze=Math.pow(2,de),Ke=[ze*pe.x,ze*pe.y,0],st=tn.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,de),Ct=Q.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Ct=de);var Vt=3,$t=function(hi){return{aabb:new mn([hi*ze,0,0],[(hi+1)*ze,ze,0]),zoom:0,x:0,y:0,wrap:hi,fullyVisible:!1}},sr=[],ar=[],kr=de,Yr=Q.reparseOverscaled?re:de;if(this._renderWorldCopies)for(var Xr=1;Xr<=3;Xr++)sr.push($t(-Xr)),sr.push($t(Xr));for(sr.push($t(0));sr.length>0;){var Hr=sr.pop(),Kr=Hr.x,fn=Hr.y,_n=Hr.fullyVisible;if(!_n){var Fn=Hr.aabb.intersects(st);if(Fn===0)continue;_n=Fn===2}var Wn=Hr.aabb.distanceX(Ke),Xn=Hr.aabb.distanceY(Ke),Hn=Math.max(Math.abs(Wn),Math.abs(Xn)),jn=Vt+(1<<kr-Hr.zoom)-2;if(Hr.zoom===kr||Hn>jn&&Hr.zoom>=Ct){ar.push({tileID:new i.OverscaledTileID(Hr.zoom===kr?Yr:Hr.zoom,Hr.wrap,Hr.zoom,Kr,fn),distanceSq:i.sqrLen([Ke[0]-.5-Kr,Ke[1]-.5-fn])});continue}for(var ei=0;ei<4;ei++){var si=(Kr<<1)+ei%2,xi=(fn<<1)+(ei>>1);sr.push({aabb:Hr.aabb.quadrant(ei),zoom:Hr.zoom+1,x:si,y:xi,wrap:Hr.wrap,fullyVisible:_n})}}return ar.sort(function(hi,zi){return hi.distanceSq-zi.distanceSq}).map(function(hi){return hi.tileID})},Rn.prototype.resize=function(Q,de){this.width=Q,this.height=de,this.pixelsToGLUnits=[2/Q,-2/de],this._constrain(),this._calcMatrices()},Yn.unmodified.get=function(){return this._unmodified},Rn.prototype.zoomScale=function(Q){return Math.pow(2,Q)},Rn.prototype.scaleZoom=function(Q){return Math.log(Q)/Math.LN2},Rn.prototype.project=function(Q){var de=i.clamp(Q.lat,-this.maxValidLatitude,this.maxValidLatitude);return new i.Point(i.mercatorXfromLng(Q.lng)*this.worldSize,i.mercatorYfromLat(de)*this.worldSize)},Rn.prototype.unproject=function(Q){return new i.MercatorCoordinate(Q.x/this.worldSize,Q.y/this.worldSize).toLngLat()},Yn.point.get=function(){return this.project(this.center)},Rn.prototype.setLocationAtPoint=function(Q,de){var re=this.pointCoordinate(de),pe=this.pointCoordinate(this.centerPoint),ze=this.locationCoordinate(Q),Ke=new i.MercatorCoordinate(ze.x-(re.x-pe.x),ze.y-(re.y-pe.y));this.center=this.coordinateLocation(Ke),this._renderWorldCopies&&(this.center=this.center.wrap())},Rn.prototype.locationPoint=function(Q){return this.coordinatePoint(this.locationCoordinate(Q))},Rn.prototype.pointLocation=function(Q){return this.coordinateLocation(this.pointCoordinate(Q))},Rn.prototype.locationCoordinate=function(Q){return i.MercatorCoordinate.fromLngLat(Q)},Rn.prototype.coordinateLocation=function(Q){return Q.toLngLat()},Rn.prototype.pointCoordinate=function(Q){var de=0,re=[Q.x,Q.y,0,1],pe=[Q.x,Q.y,1,1];i.transformMat4(re,re,this.pixelMatrixInverse),i.transformMat4(pe,pe,this.pixelMatrixInverse);var ze=re[3],Ke=pe[3],st=re[0]/ze,Ct=pe[0]/Ke,Vt=re[1]/ze,$t=pe[1]/Ke,sr=re[2]/ze,ar=pe[2]/Ke,kr=sr===ar?0:(de-sr)/(ar-sr);return new i.MercatorCoordinate(i.number(st,Ct,kr)/this.worldSize,i.number(Vt,$t,kr)/this.worldSize)},Rn.prototype.coordinatePoint=function(Q){var de=[Q.x*this.worldSize,Q.y*this.worldSize,0,1];return i.transformMat4(de,de,this.pixelMatrix),new i.Point(de[0]/de[3],de[1]/de[3])},Rn.prototype.getBounds=function(){return new i.LngLatBounds().extend(this.pointLocation(new i.Point(0,0))).extend(this.pointLocation(new i.Point(this.width,0))).extend(this.pointLocation(new i.Point(this.width,this.height))).extend(this.pointLocation(new i.Point(0,this.height)))},Rn.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new i.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},Rn.prototype.setMaxBounds=function(Q){Q?(this.lngRange=[Q.getWest(),Q.getEast()],this.latRange=[Q.getSouth(),Q.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Rn.prototype.calculatePosMatrix=function(Q,de){de===void 0&&(de=!1);var re=Q.key,pe=de?this._alignedPosMatrixCache:this._posMatrixCache;if(pe[re])return pe[re];var ze=Q.canonical,Ke=this.worldSize/this.zoomScale(ze.z),st=ze.x+Math.pow(2,ze.z)*Q.wrap,Ct=i.identity(new Float64Array(16));return i.translate(Ct,Ct,[st*Ke,ze.y*Ke,0]),i.scale(Ct,Ct,[Ke/i.EXTENT,Ke/i.EXTENT,1]),i.multiply(Ct,de?this.alignedProjMatrix:this.projMatrix,Ct),pe[re]=new Float32Array(Ct),pe[re]},Rn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Rn.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var Q=-90,de=90,re=-180,pe=180,ze,Ke,st,Ct,Vt=this.size,$t=this._unmodified;if(this.latRange){var sr=this.latRange;Q=i.mercatorYfromLat(sr[1])*this.worldSize,de=i.mercatorYfromLat(sr[0])*this.worldSize,ze=de-Q<Vt.y?Vt.y/(de-Q):0}if(this.lngRange){var ar=this.lngRange;re=i.mercatorXfromLng(ar[0])*this.worldSize,pe=i.mercatorXfromLng(ar[1])*this.worldSize,Ke=pe-re<Vt.x?Vt.x/(pe-re):0}var kr=this.point,Yr=Math.max(Ke||0,ze||0);if(Yr){this.center=this.unproject(new i.Point(Ke?(pe+re)/2:kr.x,ze?(de+Q)/2:kr.y)),this.zoom+=this.scaleZoom(Yr),this._unmodified=$t,this._constraining=!1;return}if(this.latRange){var Xr=kr.y,Hr=Vt.y/2;Xr-Hr<Q&&(Ct=Q+Hr),Xr+Hr>de&&(Ct=de-Hr)}if(this.lngRange){var Kr=kr.x,fn=Vt.x/2;Kr-fn<re&&(st=re+fn),Kr+fn>pe&&(st=pe-fn)}(st!==void 0||Ct!==void 0)&&(this.center=this.unproject(new i.Point(st!==void 0?st:kr.x,Ct!==void 0?Ct:kr.y))),this._unmodified=$t,this._constraining=!1}},Rn.prototype._calcMatrices=function(){if(this.height){var Q=this._fov/2,de=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(Q)*this.height;var re=Math.PI/2+this._pitch,pe=this._fov*(.5+de.y/this.height),ze=Math.sin(pe)*this.cameraToCenterDistance/Math.sin(i.clamp(Math.PI-re-pe,.01,Math.PI-.01)),Ke=this.point,st=Ke.x,Ct=Ke.y,Vt=Math.cos(Math.PI/2-this._pitch)*ze+this.cameraToCenterDistance,$t=Vt*1.01,sr=this.height/50,ar=new Float64Array(16);i.perspective(ar,this._fov,this.width/this.height,sr,$t),ar[8]=-de.x*2/this.width,ar[9]=de.y*2/this.height,i.scale(ar,ar,[1,-1,1]),i.translate(ar,ar,[0,0,-this.cameraToCenterDistance]),i.rotateX(ar,ar,this._pitch),i.rotateZ(ar,ar,this.angle),i.translate(ar,ar,[-st,-Ct,0]),this.mercatorMatrix=i.scale([],ar,[this.worldSize,this.worldSize,this.worldSize]),i.scale(ar,ar,[1,1,i.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=ar,this.invProjMatrix=i.invert([],this.projMatrix);var kr=this.width%2/2,Yr=this.height%2/2,Xr=Math.cos(this.angle),Hr=Math.sin(this.angle),Kr=st-Math.round(st)+Xr*kr+Hr*Yr,fn=Ct-Math.round(Ct)+Xr*Yr+Hr*kr,_n=new Float64Array(ar);if(i.translate(_n,_n,[Kr>.5?Kr-1:Kr,fn>.5?fn-1:fn,0]),this.alignedProjMatrix=_n,ar=i.create(),i.scale(ar,ar,[this.width/2,-this.height/2,1]),i.translate(ar,ar,[1,-1,0]),this.labelPlaneMatrix=ar,ar=i.create(),i.scale(ar,ar,[1,-1,1]),i.translate(ar,ar,[-1,-1,0]),i.scale(ar,ar,[2/this.width,2/this.height,1]),this.glCoordMatrix=ar,this.pixelMatrix=i.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),ar=i.invert(new Float64Array(16),this.pixelMatrix),!ar)throw new Error("failed to invert matrix");this.pixelMatrixInverse=ar,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Rn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var Q=this.pointCoordinate(new i.Point(0,0)),de=[Q.x*this.worldSize,Q.y*this.worldSize,0,1],re=i.transformMat4(de,de,this.pixelMatrix);return re[3]/this.cameraToCenterDistance},Rn.prototype.getCameraPoint=function(){var Q=this._pitch,de=Math.tan(Q)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new i.Point(0,de))},Rn.prototype.getCameraQueryGeometry=function(Q){var de=this.getCameraPoint();if(Q.length===1)return[Q[0],de];for(var re=de.x,pe=de.y,ze=de.x,Ke=de.y,st=0,Ct=Q;st<Ct.length;st+=1){var Vt=Ct[st];re=Math.min(re,Vt.x),pe=Math.min(pe,Vt.y),ze=Math.max(ze,Vt.x),Ke=Math.max(Ke,Vt.y)}return[new i.Point(re,pe),new i.Point(ze,pe),new i.Point(ze,Ke),new i.Point(re,Ke),new i.Point(re,pe)]},Object.defineProperties(Rn.prototype,Yn);function Di(he,Q){var de=!1,re=null,pe=function(){re=null,de&&(he(),re=setTimeout(pe,Q),de=!1)};return function(){return de=!0,re||pe(),re}}var Ri=function(Q){this._hashName=Q&&encodeURIComponent(Q),i.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Di(this._updateHashUnthrottled.bind(this),30*1e3/100)};Ri.prototype.addTo=function(Q){return this._map=Q,i.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Ri.prototype.remove=function(){return i.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ri.prototype.getHashString=function(Q){var de=this._map.getCenter(),re=Math.round(this._map.getZoom()*100)/100,pe=Math.ceil((re*Math.LN2+Math.log(512/360/.5))/Math.LN10),ze=Math.pow(10,pe),Ke=Math.round(de.lng*ze)/ze,st=Math.round(de.lat*ze)/ze,Ct=this._map.getBearing(),Vt=this._map.getPitch(),$t="";if(Q?$t+="/"+Ke+"/"+st+"/"+re:$t+=re+"/"+st+"/"+Ke,(Ct||Vt)&&($t+="/"+Math.round(Ct*10)/10),Vt&&($t+="/"+Math.round(Vt)),this._hashName){var sr=this._hashName,ar=!1,kr=i.window.location.hash.slice(1).split("&").map(function(Yr){var Xr=Yr.split("=")[0];return Xr===sr?(ar=!0,Xr+"="+$t):Yr}).filter(function(Yr){return Yr});return ar||kr.push(sr+"="+$t),"#"+kr.join("&")}return"#"+$t},Ri.prototype._getCurrentHash=function(){var Q=this,de=i.window.location.hash.replace("#","");if(this._hashName){var re;return de.split("&").map(function(pe){return pe.split("=")}).forEach(function(pe){pe[0]===Q._hashName&&(re=pe)}),(re&&re[1]||"").split("/")}return de.split("/")},Ri.prototype._onHashChange=function(){var Q=this._getCurrentHash();if(Q.length>=3&&!Q.some(function(re){return isNaN(re)})){var de=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(Q[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+Q[2],+Q[1]],zoom:+Q[0],bearing:de,pitch:+(Q[4]||0)}),!0}return!1},Ri.prototype._updateHashUnthrottled=function(){var Q=i.window.location.href.replace(/(#.+)?$/,this.getHashString());try{i.window.history.replaceState(i.window.history.state,null,Q)}catch{}};var Ii={linearity:.3,easing:i.bezier(0,0,.3,1)},Fi=i.extend({deceleration:2500,maxSpeed:1400},Ii),Zi=i.extend({deceleration:20,maxSpeed:1400},Ii),da=i.extend({deceleration:1e3,maxSpeed:360},Ii),za=i.extend({deceleration:1e3,maxSpeed:90},Ii),fe=function(Q){this._map=Q,this.clear()};fe.prototype.clear=function(){this._inertiaBuffer=[]},fe.prototype.record=function(Q){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:i.browser.now(),settings:Q})},fe.prototype._drainInertiaBuffer=function(){for(var Q=this._inertiaBuffer,de=i.browser.now(),re=160;Q.length>0&&de-Q[0].time>re;)Q.shift()},fe.prototype._onMoveEnd=function(Q){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var de={zoom:0,bearing:0,pitch:0,pan:new i.Point(0,0),pinchAround:void 0,around:void 0},re=0,pe=this._inertiaBuffer;re<pe.length;re+=1){var ze=pe[re],Ke=ze.settings;de.zoom+=Ke.zoomDelta||0,de.bearing+=Ke.bearingDelta||0,de.pitch+=Ke.pitchDelta||0,Ke.panDelta&&de.pan._add(Ke.panDelta),Ke.around&&(de.around=Ke.around),Ke.pinchAround&&(de.pinchAround=Ke.pinchAround)}var st=this._inertiaBuffer[this._inertiaBuffer.length-1],Ct=st.time-this._inertiaBuffer[0].time,Vt={};if(de.pan.mag()){var $t=Fe(de.pan.mag(),Ct,i.extend({},Fi,Q||{}));Vt.offset=de.pan.mult($t.amount/de.pan.mag()),Vt.center=this._map.transform.center,Le(Vt,$t)}if(de.zoom){var sr=Fe(de.zoom,Ct,Zi);Vt.zoom=this._map.transform.zoom+sr.amount,Le(Vt,sr)}if(de.bearing){var ar=Fe(de.bearing,Ct,da);Vt.bearing=this._map.transform.bearing+i.clamp(ar.amount,-179,179),Le(Vt,ar)}if(de.pitch){var kr=Fe(de.pitch,Ct,za);Vt.pitch=this._map.transform.pitch+kr.amount,Le(Vt,kr)}if(Vt.zoom||Vt.bearing){var Yr=de.pinchAround===void 0?de.around:de.pinchAround;Vt.around=Yr?this._map.unproject(Yr):this._map.getCenter()}return this.clear(),i.extend(Vt,{noMoveStart:!0})}};function Le(he,Q){(!he.duration||he.duration<Q.duration)&&(he.duration=Q.duration,he.easing=Q.easing)}function Fe(he,Q,de){var re=de.maxSpeed,pe=de.linearity,ze=de.deceleration,Ke=i.clamp(he*pe/(Q/1e3),-re,re),st=Math.abs(Ke)/(ze*pe);return{easing:de.easing,duration:st*1e3,amount:Ke*(st/2)}}var $e=function(he){function Q(re,pe,ze,Ke){Ke===void 0&&(Ke={});var st=b.mousePos(pe.getCanvasContainer(),ze),Ct=pe.unproject(st);he.call(this,re,i.extend({point:st,lngLat:Ct,originalEvent:ze},Ke)),this._defaultPrevented=!1,this.target=pe}he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q;var de={defaultPrevented:{configurable:!0}};return Q.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Q.prototype,de),Q}(i.Event),nt=function(he){function Q(re,pe,ze){var Ke=re==="touchend"?ze.changedTouches:ze.touches,st=b.touchPos(pe.getCanvasContainer(),Ke),Ct=st.map(function(sr){return pe.unproject(sr)}),Vt=st.reduce(function(sr,ar,kr,Yr){return sr.add(ar.div(Yr.length))},new i.Point(0,0)),$t=pe.unproject(Vt);he.call(this,re,{points:st,point:Vt,lngLats:Ct,lngLat:$t,originalEvent:ze}),this._defaultPrevented=!1}he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q;var de={defaultPrevented:{configurable:!0}};return Q.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Q.prototype,de),Q}(i.Event),lt=function(he){function Q(re,pe,ze){he.call(this,re,{originalEvent:ze}),this._defaultPrevented=!1}he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q;var de={defaultPrevented:{configurable:!0}};return Q.prototype.preventDefault=function(){this._defaultPrevented=!0},de.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Q.prototype,de),Q}(i.Event),Lt=function(Q,de){this._map=Q,this._clickTolerance=de.clickTolerance};Lt.prototype.reset=function(){delete this._mousedownPos},Lt.prototype.wheel=function(Q){return this._firePreventable(new lt(Q.type,this._map,Q))},Lt.prototype.mousedown=function(Q,de){return this._mousedownPos=de,this._firePreventable(new $e(Q.type,this._map,Q))},Lt.prototype.mouseup=function(Q){this._map.fire(new $e(Q.type,this._map,Q))},Lt.prototype.click=function(Q,de){this._mousedownPos&&this._mousedownPos.dist(de)>=this._clickTolerance||this._map.fire(new $e(Q.type,this._map,Q))},Lt.prototype.dblclick=function(Q){return this._firePreventable(new $e(Q.type,this._map,Q))},Lt.prototype.mouseover=function(Q){this._map.fire(new $e(Q.type,this._map,Q))},Lt.prototype.mouseout=function(Q){this._map.fire(new $e(Q.type,this._map,Q))},Lt.prototype.touchstart=function(Q){return this._firePreventable(new nt(Q.type,this._map,Q))},Lt.prototype.touchmove=function(Q){this._map.fire(new nt(Q.type,this._map,Q))},Lt.prototype.touchend=function(Q){this._map.fire(new nt(Q.type,this._map,Q))},Lt.prototype.touchcancel=function(Q){this._map.fire(new nt(Q.type,this._map,Q))},Lt.prototype._firePreventable=function(Q){if(this._map.fire(Q),Q.defaultPrevented)return{}},Lt.prototype.isEnabled=function(){return!0},Lt.prototype.isActive=function(){return!1},Lt.prototype.enable=function(){},Lt.prototype.disable=function(){};var At=function(Q){this._map=Q};At.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},At.prototype.mousemove=function(Q){this._map.fire(new $e(Q.type,this._map,Q))},At.prototype.mousedown=function(){this._delayContextMenu=!0},At.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new $e("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},At.prototype.contextmenu=function(Q){this._delayContextMenu?this._contextMenuEvent=Q:this._map.fire(new $e(Q.type,this._map,Q)),this._map.listens("contextmenu")&&Q.preventDefault()},At.prototype.isEnabled=function(){return!0},At.prototype.isActive=function(){return!1},At.prototype.enable=function(){},At.prototype.disable=function(){};var Ht=function(Q,de){this._map=Q,this._el=Q.getCanvasContainer(),this._container=Q.getContainer(),this._clickTolerance=de.clickTolerance||1};Ht.prototype.isEnabled=function(){return!!this._enabled},Ht.prototype.isActive=function(){return!!this._active},Ht.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Ht.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ht.prototype.mousedown=function(Q,de){this.isEnabled()&&Q.shiftKey&&Q.button===0&&(b.disableDrag(),this._startPos=this._lastPos=de,this._active=!0)},Ht.prototype.mousemoveWindow=function(Q,de){if(this._active){var re=de;if(!(this._lastPos.equals(re)||!this._box&&re.dist(this._startPos)<this._clickTolerance)){var pe=this._startPos;this._lastPos=re,this._box||(this._box=b.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",Q));var ze=Math.min(pe.x,re.x),Ke=Math.max(pe.x,re.x),st=Math.min(pe.y,re.y),Ct=Math.max(pe.y,re.y);b.setTransform(this._box,"translate("+ze+"px,"+st+"px)"),this._box.style.width=Ke-ze+"px",this._box.style.height=Ct-st+"px"}}},Ht.prototype.mouseupWindow=function(Q,de){var re=this;if(this._active&&Q.button===0){var pe=this._startPos,ze=de;if(this.reset(),b.suppressClick(),pe.x===ze.x&&pe.y===ze.y)this._fireEvent("boxzoomcancel",Q);else return this._map.fire(new i.Event("boxzoomend",{originalEvent:Q})),{cameraAnimation:function(Ke){return Ke.fitScreenCoordinates(pe,ze,re._map.getBearing(),{linear:!0})}}}},Ht.prototype.keydown=function(Q){this._active&&Q.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",Q))},Ht.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(b.remove(this._box),this._box=null),b.enableDrag(),delete this._startPos,delete this._lastPos},Ht.prototype._fireEvent=function(Q,de){return this._map.fire(new i.Event(Q,{originalEvent:de}))};function Gt(he,Q){for(var de={},re=0;re<he.length;re++)de[he[re].identifier]=Q[re];return de}function tr(he){for(var Q=new i.Point(0,0),de=0,re=he;de<re.length;de+=1){var pe=re[de];Q._add(pe)}return Q.div(he.length)}var Cr=500,Pr=500,Jr=30,on=function(Q){this.reset(),this.numTouches=Q.numTouches};on.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},on.prototype.touchstart=function(Q,de,re){(this.centroid||re.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=Q.timeStamp),re.length===this.numTouches&&(this.centroid=tr(de),this.touches=Gt(re,de)))},on.prototype.touchmove=function(Q,de,re){if(!(this.aborted||!this.centroid)){var pe=Gt(re,de);for(var ze in this.touches){var Ke=this.touches[ze],st=pe[ze];(!st||st.dist(Ke)>Jr)&&(this.aborted=!0)}}},on.prototype.touchend=function(Q,de,re){if((!this.centroid||Q.timeStamp-this.startTime>Pr)&&(this.aborted=!0),re.length===0){var pe=!this.aborted&&this.centroid;if(this.reset(),pe)return pe}};var Rr=function(Q){this.singleTap=new on(Q),this.numTaps=Q.numTaps,this.reset()};Rr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Rr.prototype.touchstart=function(Q,de,re){this.singleTap.touchstart(Q,de,re)},Rr.prototype.touchmove=function(Q,de,re){this.singleTap.touchmove(Q,de,re)},Rr.prototype.touchend=function(Q,de,re){var pe=this.singleTap.touchend(Q,de,re);if(pe){var ze=Q.timeStamp-this.lastTime<Cr,Ke=!this.lastTap||this.lastTap.dist(pe)<Jr;if((!ze||!Ke)&&this.reset(),this.count++,this.lastTime=Q.timeStamp,this.lastTap=pe,this.count===this.numTaps)return this.reset(),pe}};var Br=function(){this._zoomIn=new Rr({numTouches:1,numTaps:2}),this._zoomOut=new Rr({numTouches:2,numTaps:1}),this.reset()};Br.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Br.prototype.touchstart=function(Q,de,re){this._zoomIn.touchstart(Q,de,re),this._zoomOut.touchstart(Q,de,re)},Br.prototype.touchmove=function(Q,de,re){this._zoomIn.touchmove(Q,de,re),this._zoomOut.touchmove(Q,de,re)},Br.prototype.touchend=function(Q,de,re){var pe=this,ze=this._zoomIn.touchend(Q,de,re),Ke=this._zoomOut.touchend(Q,de,re);if(ze)return this._active=!0,Q.preventDefault(),setTimeout(function(){return pe.reset()},0),{cameraAnimation:function(st){return st.easeTo({duration:300,zoom:st.getZoom()+1,around:st.unproject(ze)},{originalEvent:Q})}};if(Ke)return this._active=!0,Q.preventDefault(),setTimeout(function(){return pe.reset()},0),{cameraAnimation:function(st){return st.easeTo({duration:300,zoom:st.getZoom()-1,around:st.unproject(Ke)},{originalEvent:Q})}}},Br.prototype.touchcancel=function(){this.reset()},Br.prototype.enable=function(){this._enabled=!0},Br.prototype.disable=function(){this._enabled=!1,this.reset()},Br.prototype.isEnabled=function(){return this._enabled},Br.prototype.isActive=function(){return this._active};var Zr=0,un=2,vn={};vn[Zr]=1,vn[un]=2;function qr(he,Q){var de=vn[Q];return he.buttons===void 0||(he.buttons&de)!==de}var Un=function(Q){this.reset(),this._clickTolerance=Q.clickTolerance||1};Un.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Un.prototype._correctButton=function(Q,de){return!1},Un.prototype._move=function(Q,de){return{}},Un.prototype.mousedown=function(Q,de){if(!this._lastPoint){var re=b.mouseButton(Q);this._correctButton(Q,re)&&(this._lastPoint=de,this._eventButton=re)}},Un.prototype.mousemoveWindow=function(Q,de){var re=this._lastPoint;if(re){if(Q.preventDefault(),qr(Q,this._eventButton)){this.reset();return}if(!(!this._moved&&de.dist(re)<this._clickTolerance))return this._moved=!0,this._lastPoint=de,this._move(re,de)}},Un.prototype.mouseupWindow=function(Q){if(this._lastPoint){var de=b.mouseButton(Q);de===this._eventButton&&(this._moved&&b.suppressClick(),this.reset())}},Un.prototype.enable=function(){this._enabled=!0},Un.prototype.disable=function(){this._enabled=!1,this.reset()},Un.prototype.isEnabled=function(){return this._enabled},Un.prototype.isActive=function(){return this._active};var qn=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.mousedown=function(re,pe){he.prototype.mousedown.call(this,re,pe),this._lastPoint&&(this._active=!0)},Q.prototype._correctButton=function(re,pe){return pe===Zr&&!re.ctrlKey},Q.prototype._move=function(re,pe){return{around:pe,panDelta:pe.sub(re)}},Q}(Un),ui=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype._correctButton=function(re,pe){return pe===Zr&&re.ctrlKey||pe===un},Q.prototype._move=function(re,pe){var ze=.8,Ke=(pe.x-re.x)*ze;if(Ke)return this._active=!0,{bearingDelta:Ke}},Q.prototype.contextmenu=function(re){re.preventDefault()},Q}(Un),Qn=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype._correctButton=function(re,pe){return pe===Zr&&re.ctrlKey||pe===un},Q.prototype._move=function(re,pe){var ze=-.5,Ke=(pe.y-re.y)*ze;if(Ke)return this._active=!0,{pitchDelta:Ke}},Q.prototype.contextmenu=function(re){re.preventDefault()},Q}(Un),ii=function(Q){this._minTouches=1,this._clickTolerance=Q.clickTolerance||1,this.reset()};ii.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new i.Point(0,0)},ii.prototype.touchstart=function(Q,de,re){return this._calculateTransform(Q,de,re)},ii.prototype.touchmove=function(Q,de,re){if(!(!this._active||re.length<this._minTouches))return Q.preventDefault(),this._calculateTransform(Q,de,re)},ii.prototype.touchend=function(Q,de,re){this._calculateTransform(Q,de,re),this._active&&re.length<this._minTouches&&this.reset()},ii.prototype.touchcancel=function(){this.reset()},ii.prototype._calculateTransform=function(Q,de,re){re.length>0&&(this._active=!0);var pe=Gt(re,de),ze=new i.Point(0,0),Ke=new i.Point(0,0),st=0;for(var Ct in pe){var Vt=pe[Ct],$t=this._touches[Ct];$t&&(ze._add(Vt),Ke._add(Vt.sub($t)),st++,pe[Ct]=Vt)}if(this._touches=pe,!(st<this._minTouches||!Ke.mag())){var sr=Ke.div(st);if(this._sum._add(sr),!(this._sum.mag()<this._clickTolerance)){var ar=ze.div(st);return{around:ar,panDelta:sr}}}},ii.prototype.enable=function(){this._enabled=!0},ii.prototype.disable=function(){this._enabled=!1,this.reset()},ii.prototype.isEnabled=function(){return this._enabled},ii.prototype.isActive=function(){return this._active};var fi=function(){this.reset()};fi.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},fi.prototype._start=function(Q){},fi.prototype._move=function(Q,de,re){return{}},fi.prototype.touchstart=function(Q,de,re){this._firstTwoTouches||re.length<2||(this._firstTwoTouches=[re[0].identifier,re[1].identifier],this._start([de[0],de[1]]))},fi.prototype.touchmove=function(Q,de,re){if(this._firstTwoTouches){Q.preventDefault();var pe=this._firstTwoTouches,ze=pe[0],Ke=pe[1],st=Bi(re,de,ze),Ct=Bi(re,de,Ke);if(!(!st||!Ct)){var Vt=this._aroundCenter?null:st.add(Ct).div(2);return this._move([st,Ct],Vt,Q)}}},fi.prototype.touchend=function(Q,de,re){if(this._firstTwoTouches){var pe=this._firstTwoTouches,ze=pe[0],Ke=pe[1],st=Bi(re,de,ze),Ct=Bi(re,de,Ke);st&&Ct||(this._active&&b.suppressClick(),this.reset())}},fi.prototype.touchcancel=function(){this.reset()},fi.prototype.enable=function(Q){this._enabled=!0,this._aroundCenter=!!Q&&Q.around==="center"},fi.prototype.disable=function(){this._enabled=!1,this.reset()},fi.prototype.isEnabled=function(){return this._enabled},fi.prototype.isActive=function(){return this._active};function Bi(he,Q,de){for(var re=0;re<he.length;re++)if(he[re].identifier===de)return Q[re]}var Si=.1;function Oi(he,Q){return Math.log(he/Q)/Math.LN2}var ia=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.reset=function(){he.prototype.reset.call(this),delete this._distance,delete this._startDistance},Q.prototype._start=function(re){this._startDistance=this._distance=re[0].dist(re[1])},Q.prototype._move=function(re,pe){var ze=this._distance;if(this._distance=re[0].dist(re[1]),!(!this._active&&Math.abs(Oi(this._distance,this._startDistance))<Si))return this._active=!0,{zoomDelta:Oi(this._distance,ze),pinchAround:pe}},Q}(fi),Na=25;function fa(he,Q){return he.angleWith(Q)*180/Math.PI}var Zn=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.reset=function(){he.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},Q.prototype._start=function(re){this._startVector=this._vector=re[0].sub(re[1]),this._minDiameter=re[0].dist(re[1])},Q.prototype._move=function(re,pe){var ze=this._vector;if(this._vector=re[0].sub(re[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:fa(this._vector,ze),pinchAround:pe}},Q.prototype._isBelowThreshold=function(re){this._minDiameter=Math.min(this._minDiameter,re.mag());var pe=Math.PI*this._minDiameter,ze=Na/pe*360,Ke=fa(re,this._startVector);return Math.abs(Ke)<ze},Q}(fi);function Hi(he){return Math.abs(he.y)>Math.abs(he.x)}var Ai=100,Ki=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.reset=function(){he.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},Q.prototype._start=function(re){this._lastPoints=re,Hi(re[0].sub(re[1]))&&(this._valid=!1)},Q.prototype._move=function(re,pe,ze){var Ke=re[0].sub(this._lastPoints[0]),st=re[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Ke,st,ze.timeStamp),!!this._valid){this._lastPoints=re,this._active=!0;var Ct=(Ke.y+st.y)/2,Vt=-.5;return{pitchDelta:Ct*Vt}}},Q.prototype.gestureBeginsVertically=function(re,pe,ze){if(this._valid!==void 0)return this._valid;var Ke=2,st=re.mag()>=Ke,Ct=pe.mag()>=Ke;if(!(!st&&!Ct)){if(!st||!Ct)return this._firstMove===void 0&&(this._firstMove=ze),ze-this._firstMove<Ai?void 0:!1;var Vt=re.y>0==pe.y>0;return Hi(re)&&Hi(pe)&&Vt}},Q}(fi),Ta={panStep:100,bearingStep:15,pitchStep:10},aa=function(){var Q=Ta;this._panStep=Q.panStep,this._bearingStep=Q.bearingStep,this._pitchStep=Q.pitchStep,this._rotationDisabled=!1};aa.prototype.reset=function(){this._active=!1},aa.prototype.keydown=function(Q){var de=this;if(!(Q.altKey||Q.ctrlKey||Q.metaKey)){var re=0,pe=0,ze=0,Ke=0,st=0;switch(Q.keyCode){case 61:case 107:case 171:case 187:re=1;break;case 189:case 109:case 173:re=-1;break;case 37:Q.shiftKey?pe=-1:(Q.preventDefault(),Ke=-1);break;case 39:Q.shiftKey?pe=1:(Q.preventDefault(),Ke=1);break;case 38:Q.shiftKey?ze=1:(Q.preventDefault(),st=-1);break;case 40:Q.shiftKey?ze=-1:(Q.preventDefault(),st=1);break;default:return}return this._rotationDisabled&&(pe=0,ze=0),{cameraAnimation:function(Ct){var Vt=Ct.getZoom();Ct.easeTo({duration:300,easeId:"keyboardHandler",easing:qa,zoom:re?Math.round(Vt)+re*(Q.shiftKey?2:1):Vt,bearing:Ct.getBearing()+pe*de._bearingStep,pitch:Ct.getPitch()+ze*de._pitchStep,offset:[-Ke*de._panStep,-st*de._panStep],center:Ct.getCenter()},{originalEvent:Q})}}}},aa.prototype.enable=function(){this._enabled=!0},aa.prototype.disable=function(){this._enabled=!1,this.reset()},aa.prototype.isEnabled=function(){return this._enabled},aa.prototype.isActive=function(){return this._active},aa.prototype.disableRotation=function(){this._rotationDisabled=!0},aa.prototype.enableRotation=function(){this._rotationDisabled=!1};function qa(he){return he*(2-he)}var eo=4.000244140625,ao=1/100,Aa=1/450,yo=2,oi=function(Q,de){this._map=Q,this._el=Q.getCanvasContainer(),this._handler=de,this._delta=0,this._defaultZoomRate=ao,this._wheelZoomRate=Aa,i.bindAll(["_onTimeout"],this)};oi.prototype.setZoomRate=function(Q){this._defaultZoomRate=Q},oi.prototype.setWheelZoomRate=function(Q){this._wheelZoomRate=Q},oi.prototype.isEnabled=function(){return!!this._enabled},oi.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},oi.prototype.isZooming=function(){return!!this._zooming},oi.prototype.enable=function(Q){this.isEnabled()||(this._enabled=!0,this._aroundCenter=Q&&Q.around==="center")},oi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},oi.prototype.wheel=function(Q){if(this.isEnabled()){var de=Q.deltaMode===i.window.WheelEvent.DOM_DELTA_LINE?Q.deltaY*40:Q.deltaY,re=i.browser.now(),pe=re-(this._lastWheelEventTime||0);this._lastWheelEventTime=re,de!==0&&de%eo===0?this._type="wheel":de!==0&&Math.abs(de)<4?this._type="trackpad":pe>400?(this._type=null,this._lastValue=de,this._timeout=setTimeout(this._onTimeout,40,Q)):this._type||(this._type=Math.abs(pe*de)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,de+=this._lastValue)),Q.shiftKey&&de&&(de=de/4),this._type&&(this._lastWheelEvent=Q,this._delta-=de,this._active||this._start(Q)),Q.preventDefault()}},oi.prototype._onTimeout=function(Q){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(Q)},oi.prototype._start=function(Q){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var de=b.mousePos(this._el,Q);this._around=i.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(de)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},oi.prototype.renderFrame=function(){var Q=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var de=this._map.transform;if(this._delta!==0){var re=this._type==="wheel"&&Math.abs(this._delta)>eo?this._wheelZoomRate:this._defaultZoomRate,pe=yo/(1+Math.exp(-Math.abs(this._delta*re)));this._delta<0&&pe!==0&&(pe=1/pe);var ze=typeof this._targetZoom=="number"?de.zoomScale(this._targetZoom):de.scale;this._targetZoom=Math.min(de.maxZoom,Math.max(de.minZoom,de.scaleZoom(ze*pe))),this._type==="wheel"&&(this._startZoom=de.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Ke=typeof this._targetZoom=="number"?this._targetZoom:de.zoom,st=this._startZoom,Ct=this._easing,Vt=!1,$t;if(this._type==="wheel"&&st&&Ct){var sr=Math.min((i.browser.now()-this._lastWheelEventTime)/200,1),ar=Ct(sr);$t=i.number(st,Ke,ar),sr<1?this._frameId||(this._frameId=!0):Vt=!0}else $t=Ke,Vt=!0;return this._active=!0,Vt&&(this._active=!1,this._finishTimeout=setTimeout(function(){Q._zooming=!1,Q._handler._triggerRenderFrame(),delete Q._targetZoom,delete Q._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Vt,zoomDelta:$t-de.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},oi.prototype._smoothOutEasing=function(Q){var de=i.ease;if(this._prevEase){var re=this._prevEase,pe=(i.browser.now()-re.start)/re.duration,ze=re.easing(pe+.01)-re.easing(pe),Ke=.27/Math.sqrt(ze*ze+1e-4)*.01,st=Math.sqrt(.27*.27-Ke*Ke);de=i.bezier(Ke,st,.25,1)}return this._prevEase={start:i.browser.now(),duration:Q,easing:de},de},oi.prototype.reset=function(){this._active=!1};var Ci=function(Q,de){this._clickZoom=Q,this._tapZoom=de};Ci.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Ci.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Ci.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Ci.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var ko=function(){this.reset()};ko.prototype.reset=function(){this._active=!1},ko.prototype.dblclick=function(Q,de){return Q.preventDefault(),{cameraAnimation:function(re){re.easeTo({duration:300,zoom:re.getZoom()+(Q.shiftKey?-1:1),around:re.unproject(de)},{originalEvent:Q})}}},ko.prototype.enable=function(){this._enabled=!0},ko.prototype.disable=function(){this._enabled=!1,this.reset()},ko.prototype.isEnabled=function(){return this._enabled},ko.prototype.isActive=function(){return this._active};var Vo=function(){this._tap=new Rr({numTouches:1,numTaps:1}),this.reset()};Vo.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Vo.prototype.touchstart=function(Q,de,re){this._swipePoint||(this._tapTime&&Q.timeStamp-this._tapTime>Cr&&this.reset(),this._tapTime?re.length>0&&(this._swipePoint=de[0],this._swipeTouch=re[0].identifier):this._tap.touchstart(Q,de,re))},Vo.prototype.touchmove=function(Q,de,re){if(!this._tapTime)this._tap.touchmove(Q,de,re);else if(this._swipePoint){if(re[0].identifier!==this._swipeTouch)return;var pe=de[0],ze=pe.y-this._swipePoint.y;return this._swipePoint=pe,Q.preventDefault(),this._active=!0,{zoomDelta:ze/128}}},Vo.prototype.touchend=function(Q,de,re){if(this._tapTime)this._swipePoint&&re.length===0&&this.reset();else{var pe=this._tap.touchend(Q,de,re);pe&&(this._tapTime=Q.timeStamp)}},Vo.prototype.touchcancel=function(){this.reset()},Vo.prototype.enable=function(){this._enabled=!0},Vo.prototype.disable=function(){this._enabled=!1,this.reset()},Vo.prototype.isEnabled=function(){return this._enabled},Vo.prototype.isActive=function(){return this._active};var oo=function(Q,de,re){this._el=Q,this._mousePan=de,this._touchPan=re};oo.prototype.enable=function(Q){this._inertiaOptions=Q||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},oo.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},oo.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},oo.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var ca=function(Q,de,re){this._pitchWithRotate=Q.pitchWithRotate,this._mouseRotate=de,this._mousePitch=re};ca.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},ca.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},ca.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},ca.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Xa=function(Q,de,re,pe){this._el=Q,this._touchZoom=de,this._touchRotate=re,this._tapDragZoom=pe,this._rotationDisabled=!1,this._enabled=!0};Xa.prototype.enable=function(Q){this._touchZoom.enable(Q),this._rotationDisabled||this._touchRotate.enable(Q),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Xa.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Xa.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Xa.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Xa.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Xa.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Ba=function(he){return he.zoom||he.drag||he.pitch||he.rotate},ms=function(he){function Q(){he.apply(this,arguments)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q}(i.Event);function Os(he){return he.panDelta&&he.panDelta.mag()||he.zoomDelta||he.bearingDelta||he.pitchDelta}var Pa=function(Q,de){this._map=Q,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new fe(Q),this._bearingSnap=de.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(de),i.bindAll(["handleEvent","handleWindowEvent"],this);var re=this._el;this._listeners=[[re,"touchstart",{passive:!0}],[re,"touchmove",{passive:!1}],[re,"touchend",void 0],[re,"touchcancel",void 0],[re,"mousedown",void 0],[re,"mousemove",void 0],[re,"mouseup",void 0],[i.window.document,"mousemove",{capture:!0}],[i.window.document,"mouseup",void 0],[re,"mouseover",void 0],[re,"mouseout",void 0],[re,"dblclick",void 0],[re,"click",void 0],[re,"keydown",{capture:!1}],[re,"keyup",void 0],[re,"wheel",{passive:!1}],[re,"contextmenu",void 0],[i.window,"blur",void 0]];for(var pe=0,ze=this._listeners;pe<ze.length;pe+=1){var Ke=ze[pe],st=Ke[0],Ct=Ke[1],Vt=Ke[2];b.addEventListener(st,Ct,st===i.window.document?this.handleWindowEvent:this.handleEvent,Vt)}};Pa.prototype.destroy=function(){for(var Q=0,de=this._listeners;Q<de.length;Q+=1){var re=de[Q],pe=re[0],ze=re[1],Ke=re[2];b.removeEventListener(pe,ze,pe===i.window.document?this.handleWindowEvent:this.handleEvent,Ke)}},Pa.prototype._addDefaultHandlers=function(Q){var de=this._map,re=de.getCanvasContainer();this._add("mapEvent",new Lt(de,Q));var pe=de.boxZoom=new Ht(de,Q);this._add("boxZoom",pe);var ze=new Br,Ke=new ko;de.doubleClickZoom=new Ci(Ke,ze),this._add("tapZoom",ze),this._add("clickZoom",Ke);var st=new Vo;this._add("tapDragZoom",st);var Ct=de.touchPitch=new Ki;this._add("touchPitch",Ct);var Vt=new ui(Q),$t=new Qn(Q);de.dragRotate=new ca(Q,Vt,$t),this._add("mouseRotate",Vt,["mousePitch"]),this._add("mousePitch",$t,["mouseRotate"]);var sr=new qn(Q),ar=new ii(Q);de.dragPan=new oo(re,sr,ar),this._add("mousePan",sr),this._add("touchPan",ar,["touchZoom","touchRotate"]);var kr=new Zn,Yr=new ia;de.touchZoomRotate=new Xa(re,Yr,kr,st),this._add("touchRotate",kr,["touchPan","touchZoom"]),this._add("touchZoom",Yr,["touchPan","touchRotate"]);var Xr=de.scrollZoom=new oi(de,this);this._add("scrollZoom",Xr,["mousePan"]);var Hr=de.keyboard=new aa;this._add("keyboard",Hr),this._add("blockableMapEvent",new At(de));for(var Kr=0,fn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Kr<fn.length;Kr+=1){var _n=fn[Kr];Q.interactive&&Q[_n]&&de[_n].enable(Q[_n])}},Pa.prototype._add=function(Q,de,re){this._handlers.push({handlerName:Q,handler:de,allowed:re}),this._handlersById[Q]=de},Pa.prototype.stop=function(Q){if(!this._updatingCamera){for(var de=0,re=this._handlers;de<re.length;de+=1){var pe=re[de],ze=pe.handler;ze.reset()}this._inertia.clear(),this._fireEvents({},{},Q),this._changes=[]}},Pa.prototype.isActive=function(){for(var Q=0,de=this._handlers;Q<de.length;Q+=1){var re=de[Q],pe=re.handler;if(pe.isActive())return!0}return!1},Pa.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Pa.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Pa.prototype.isMoving=function(){return!!Ba(this._eventsInProgress)||this.isZooming()},Pa.prototype._blockedByActive=function(Q,de,re){for(var pe in Q)if(pe!==re&&(!de||de.indexOf(pe)<0))return!0;return!1},Pa.prototype.handleWindowEvent=function(Q){this.handleEvent(Q,Q.type+"Window")},Pa.prototype._getMapTouches=function(Q){for(var de=[],re=0,pe=Q;re<pe.length;re+=1){var ze=pe[re],Ke=ze.target;this._el.contains(Ke)&&de.push(ze)}return de},Pa.prototype.handleEvent=function(Q,de){if(Q.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;for(var re=Q.type==="renderFrame"?void 0:Q,pe={needsRenderFrame:!1},ze={},Ke={},st=Q.touches?this._getMapTouches(Q.touches):void 0,Ct=st?b.touchPos(this._el,st):b.mousePos(this._el,Q),Vt=0,$t=this._handlers;Vt<$t.length;Vt+=1){var sr=$t[Vt],ar=sr.handlerName,kr=sr.handler,Yr=sr.allowed;if(kr.isEnabled()){var Xr=void 0;this._blockedByActive(Ke,Yr,ar)?kr.reset():kr[de||Q.type]&&(Xr=kr[de||Q.type](Q,Ct,st),this.mergeHandlerResult(pe,ze,Xr,ar,re),Xr&&Xr.needsRenderFrame&&this._triggerRenderFrame()),(Xr||kr.isActive())&&(Ke[ar]=kr)}}var Hr={};for(var Kr in this._previousActiveHandlers)Ke[Kr]||(Hr[Kr]=re);this._previousActiveHandlers=Ke,(Object.keys(Hr).length||Os(pe))&&(this._changes.push([pe,ze,Hr]),this._triggerRenderFrame()),(Object.keys(Ke).length||Os(pe))&&this._map._stop(!0),this._updatingCamera=!1;var fn=pe.cameraAnimation;fn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],fn(this._map))},Pa.prototype.mergeHandlerResult=function(Q,de,re,pe,ze){if(re){i.extend(Q,re);var Ke={handlerName:pe,originalEvent:re.originalEvent||ze};re.zoomDelta!==void 0&&(de.zoom=Ke),re.panDelta!==void 0&&(de.drag=Ke),re.pitchDelta!==void 0&&(de.pitch=Ke),re.bearingDelta!==void 0&&(de.rotate=Ke)}},Pa.prototype._applyChanges=function(){for(var Q={},de={},re={},pe=0,ze=this._changes;pe<ze.length;pe+=1){var Ke=ze[pe],st=Ke[0],Ct=Ke[1],Vt=Ke[2];st.panDelta&&(Q.panDelta=(Q.panDelta||new i.Point(0,0))._add(st.panDelta)),st.zoomDelta&&(Q.zoomDelta=(Q.zoomDelta||0)+st.zoomDelta),st.bearingDelta&&(Q.bearingDelta=(Q.bearingDelta||0)+st.bearingDelta),st.pitchDelta&&(Q.pitchDelta=(Q.pitchDelta||0)+st.pitchDelta),st.around!==void 0&&(Q.around=st.around),st.pinchAround!==void 0&&(Q.pinchAround=st.pinchAround),st.noInertia&&(Q.noInertia=st.noInertia),i.extend(de,Ct),i.extend(re,Vt)}this._updateMapTransform(Q,de,re),this._changes=[]},Pa.prototype._updateMapTransform=function(Q,de,re){var pe=this._map,ze=pe.transform;if(!Os(Q))return this._fireEvents(de,re,!0);var Ke=Q.panDelta,st=Q.zoomDelta,Ct=Q.bearingDelta,Vt=Q.pitchDelta,$t=Q.around,sr=Q.pinchAround;sr!==void 0&&($t=sr),pe._stop(!0),$t=$t||pe.transform.centerPoint;var ar=ze.pointLocation(Ke?$t.sub(Ke):$t);Ct&&(ze.bearing+=Ct),Vt&&(ze.pitch+=Vt),st&&(ze.zoom+=st),ze.setLocationAtPoint(ar,$t),this._map._update(),Q.noInertia||this._inertia.record(Q),this._fireEvents(de,re,!0)},Pa.prototype._fireEvents=function(Q,de,re){var pe=this,ze=Ba(this._eventsInProgress),Ke=Ba(Q),st={};for(var Ct in Q){var Vt=Q[Ct],$t=Vt.originalEvent;this._eventsInProgress[Ct]||(st[Ct+"start"]=$t),this._eventsInProgress[Ct]=Q[Ct]}!ze&&Ke&&this._fireEvent("movestart",Ke.originalEvent);for(var sr in st)this._fireEvent(sr,st[sr]);Ke&&this._fireEvent("move",Ke.originalEvent);for(var ar in Q){var kr=Q[ar],Yr=kr.originalEvent;this._fireEvent(ar,Yr)}var Xr={},Hr;for(var Kr in this._eventsInProgress){var fn=this._eventsInProgress[Kr],_n=fn.handlerName,Fn=fn.originalEvent;this._handlersById[_n].isActive()||(delete this._eventsInProgress[Kr],Hr=de[_n]||Fn,Xr[Kr+"end"]=Hr)}for(var Wn in Xr)this._fireEvent(Wn,Xr[Wn]);var Xn=Ba(this._eventsInProgress);if(re&&(ze||Ke)&&!Xn){this._updatingCamera=!0;var Hn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),jn=function(ei){return ei!==0&&-pe._bearingSnap<ei&&ei<pe._bearingSnap};Hn?(jn(Hn.bearing||this._map.getBearing())&&(Hn.bearing=0),this._map.easeTo(Hn,{originalEvent:Hr})):(this._map.fire(new i.Event("moveend",{originalEvent:Hr})),jn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Pa.prototype._fireEvent=function(Q,de){this._map.fire(new i.Event(Q,de?{originalEvent:de}:{}))},Pa.prototype._requestFrame=function(){var Q=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(de){delete Q._frameId,Q.handleEvent(new ms("renderFrame",{timeStamp:de})),Q._applyChanges()})},Pa.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var Yl=function(he){function Q(de,re){he.call(this),this._moving=!1,this._zooming=!1,this.transform=de,this._bearingSnap=re.bearingSnap,i.bindAll(["_renderFrameCallback"],this)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.getCenter=function(){return new i.LngLat(this.transform.center.lng,this.transform.center.lat)},Q.prototype.setCenter=function(re,pe){return this.jumpTo({center:re},pe)},Q.prototype.panBy=function(re,pe,ze){return re=i.Point.convert(re).mult(-1),this.panTo(this.transform.center,i.extend({offset:re},pe),ze)},Q.prototype.panTo=function(re,pe,ze){return this.easeTo(i.extend({center:re},pe),ze)},Q.prototype.getZoom=function(){return this.transform.zoom},Q.prototype.setZoom=function(re,pe){return this.jumpTo({zoom:re},pe),this},Q.prototype.zoomTo=function(re,pe,ze){return this.easeTo(i.extend({zoom:re},pe),ze)},Q.prototype.zoomIn=function(re,pe){return this.zoomTo(this.getZoom()+1,re,pe),this},Q.prototype.zoomOut=function(re,pe){return this.zoomTo(this.getZoom()-1,re,pe),this},Q.prototype.getBearing=function(){return this.transform.bearing},Q.prototype.setBearing=function(re,pe){return this.jumpTo({bearing:re},pe),this},Q.prototype.getPadding=function(){return this.transform.padding},Q.prototype.setPadding=function(re,pe){return this.jumpTo({padding:re},pe),this},Q.prototype.rotateTo=function(re,pe,ze){return this.easeTo(i.extend({bearing:re},pe),ze)},Q.prototype.resetNorth=function(re,pe){return this.rotateTo(0,i.extend({duration:1e3},re),pe),this},Q.prototype.resetNorthPitch=function(re,pe){return this.easeTo(i.extend({bearing:0,pitch:0,duration:1e3},re),pe),this},Q.prototype.snapToNorth=function(re,pe){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(re,pe):this},Q.prototype.getPitch=function(){return this.transform.pitch},Q.prototype.setPitch=function(re,pe){return this.jumpTo({pitch:re},pe),this},Q.prototype.cameraForBounds=function(re,pe){re=i.LngLatBounds.convert(re);var ze=pe&&pe.bearing||0;return this._cameraForBoxAndBearing(re.getNorthWest(),re.getSouthEast(),ze,pe)},Q.prototype._cameraForBoxAndBearing=function(re,pe,ze,Ke){var st={top:0,bottom:0,right:0,left:0};if(Ke=i.extend({padding:st,offset:[0,0],maxZoom:this.transform.maxZoom},Ke),typeof Ke.padding=="number"){var Ct=Ke.padding;Ke.padding={top:Ct,bottom:Ct,right:Ct,left:Ct}}Ke.padding=i.extend(st,Ke.padding);var Vt=this.transform,$t=Vt.padding,sr=Vt.project(i.LngLat.convert(re)),ar=Vt.project(i.LngLat.convert(pe)),kr=sr.rotate(-ze*Math.PI/180),Yr=ar.rotate(-ze*Math.PI/180),Xr=new i.Point(Math.max(kr.x,Yr.x),Math.max(kr.y,Yr.y)),Hr=new i.Point(Math.min(kr.x,Yr.x),Math.min(kr.y,Yr.y)),Kr=Xr.sub(Hr),fn=(Vt.width-($t.left+$t.right+Ke.padding.left+Ke.padding.right))/Kr.x,_n=(Vt.height-($t.top+$t.bottom+Ke.padding.top+Ke.padding.bottom))/Kr.y;if(_n<0||fn<0){i.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Fn=Math.min(Vt.scaleZoom(Vt.scale*Math.min(fn,_n)),Ke.maxZoom),Wn=typeof Ke.offset.x=="number"?new i.Point(Ke.offset.x,Ke.offset.y):i.Point.convert(Ke.offset),Xn=(Ke.padding.left-Ke.padding.right)/2,Hn=(Ke.padding.top-Ke.padding.bottom)/2,jn=new i.Point(Xn,Hn),ei=jn.rotate(ze*Math.PI/180),si=Wn.add(ei),xi=si.mult(Vt.scale/Vt.zoomScale(Fn)),hi=Vt.unproject(sr.add(ar).div(2).sub(xi));return{center:hi,zoom:Fn,bearing:ze}},Q.prototype.fitBounds=function(re,pe,ze){return this._fitInternal(this.cameraForBounds(re,pe),pe,ze)},Q.prototype.fitScreenCoordinates=function(re,pe,ze,Ke,st){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(i.Point.convert(re)),this.transform.pointLocation(i.Point.convert(pe)),ze,Ke),Ke,st)},Q.prototype._fitInternal=function(re,pe,ze){return re?(pe=i.extend(re,pe),delete pe.padding,pe.linear?this.easeTo(pe,ze):this.flyTo(pe,ze)):this},Q.prototype.jumpTo=function(re,pe){this.stop();var ze=this.transform,Ke=!1,st=!1,Ct=!1;return"zoom"in re&&ze.zoom!==+re.zoom&&(Ke=!0,ze.zoom=+re.zoom),re.center!==void 0&&(ze.center=i.LngLat.convert(re.center)),"bearing"in re&&ze.bearing!==+re.bearing&&(st=!0,ze.bearing=+re.bearing),"pitch"in re&&ze.pitch!==+re.pitch&&(Ct=!0,ze.pitch=+re.pitch),re.padding!=null&&!ze.isPaddingEqual(re.padding)&&(ze.padding=re.padding),this.fire(new i.Event("movestart",pe)).fire(new i.Event("move",pe)),Ke&&this.fire(new i.Event("zoomstart",pe)).fire(new i.Event("zoom",pe)).fire(new i.Event("zoomend",pe)),st&&this.fire(new i.Event("rotatestart",pe)).fire(new i.Event("rotate",pe)).fire(new i.Event("rotateend",pe)),Ct&&this.fire(new i.Event("pitchstart",pe)).fire(new i.Event("pitch",pe)).fire(new i.Event("pitchend",pe)),this.fire(new i.Event("moveend",pe))},Q.prototype.easeTo=function(re,pe){var ze=this;this._stop(!1,re.easeId),re=i.extend({offset:[0,0],duration:500,easing:i.ease},re),(re.animate===!1||!re.essential&&i.browser.prefersReducedMotion)&&(re.duration=0);var Ke=this.transform,st=this.getZoom(),Ct=this.getBearing(),Vt=this.getPitch(),$t=this.getPadding(),sr="zoom"in re?+re.zoom:st,ar="bearing"in re?this._normalizeBearing(re.bearing,Ct):Ct,kr="pitch"in re?+re.pitch:Vt,Yr="padding"in re?re.padding:Ke.padding,Xr=i.Point.convert(re.offset),Hr=Ke.centerPoint.add(Xr),Kr=Ke.pointLocation(Hr),fn=i.LngLat.convert(re.center||Kr);this._normalizeCenter(fn);var _n=Ke.project(Kr),Fn=Ke.project(fn).sub(_n),Wn=Ke.zoomScale(sr-st),Xn,Hn;re.around&&(Xn=i.LngLat.convert(re.around),Hn=Ke.locationPoint(Xn));var jn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||sr!==st,this._rotating=this._rotating||Ct!==ar,this._pitching=this._pitching||kr!==Vt,this._padding=!Ke.isPaddingEqual(Yr),this._easeId=re.easeId,this._prepareEase(pe,re.noMoveStart,jn),this._ease(function(ei){if(ze._zooming&&(Ke.zoom=i.number(st,sr,ei)),ze._rotating&&(Ke.bearing=i.number(Ct,ar,ei)),ze._pitching&&(Ke.pitch=i.number(Vt,kr,ei)),ze._padding&&(Ke.interpolatePadding($t,Yr,ei),Hr=Ke.centerPoint.add(Xr)),Xn)Ke.setLocationAtPoint(Xn,Hn);else{var si=Ke.zoomScale(Ke.zoom-st),xi=sr>st?Math.min(2,Wn):Math.max(.5,Wn),hi=Math.pow(xi,1-ei),zi=Ke.unproject(_n.add(Fn.mult(ei*hi)).mult(si));Ke.setLocationAtPoint(Ke.renderWorldCopies?zi.wrap():zi,Hr)}ze._fireMoveEvents(pe)},function(ei){ze._afterEase(pe,ei)},re),this},Q.prototype._prepareEase=function(re,pe,ze){ze===void 0&&(ze={}),this._moving=!0,!pe&&!ze.moving&&this.fire(new i.Event("movestart",re)),this._zooming&&!ze.zooming&&this.fire(new i.Event("zoomstart",re)),this._rotating&&!ze.rotating&&this.fire(new i.Event("rotatestart",re)),this._pitching&&!ze.pitching&&this.fire(new i.Event("pitchstart",re))},Q.prototype._fireMoveEvents=function(re){this.fire(new i.Event("move",re)),this._zooming&&this.fire(new i.Event("zoom",re)),this._rotating&&this.fire(new i.Event("rotate",re)),this._pitching&&this.fire(new i.Event("pitch",re))},Q.prototype._afterEase=function(re,pe){if(!(this._easeId&&pe&&this._easeId===pe)){delete this._easeId;var ze=this._zooming,Ke=this._rotating,st=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,ze&&this.fire(new i.Event("zoomend",re)),Ke&&this.fire(new i.Event("rotateend",re)),st&&this.fire(new i.Event("pitchend",re)),this.fire(new i.Event("moveend",re))}},Q.prototype.flyTo=function(re,pe){var ze=this;if(!re.essential&&i.browser.prefersReducedMotion){var Ke=i.pick(re,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ke,pe)}this.stop(),re=i.extend({offset:[0,0],speed:1.2,curve:1.42,easing:i.ease},re);var st=this.transform,Ct=this.getZoom(),Vt=this.getBearing(),$t=this.getPitch(),sr=this.getPadding(),ar="zoom"in re?i.clamp(+re.zoom,st.minZoom,st.maxZoom):Ct,kr="bearing"in re?this._normalizeBearing(re.bearing,Vt):Vt,Yr="pitch"in re?+re.pitch:$t,Xr="padding"in re?re.padding:st.padding,Hr=st.zoomScale(ar-Ct),Kr=i.Point.convert(re.offset),fn=st.centerPoint.add(Kr),_n=st.pointLocation(fn),Fn=i.LngLat.convert(re.center||_n);this._normalizeCenter(Fn);var Wn=st.project(_n),Xn=st.project(Fn).sub(Wn),Hn=re.curve,jn=Math.max(st.width,st.height),ei=jn/Hr,si=Xn.mag();if("minZoom"in re){var xi=i.clamp(Math.min(re.minZoom,Ct,ar),st.minZoom,st.maxZoom),hi=jn/st.zoomScale(xi-Ct);Hn=Math.sqrt(hi/si*2)}var zi=Hn*Hn;function $i(Wi){var qi=(ei*ei-jn*jn+(Wi?-1:1)*zi*zi*si*si)/(2*(Wi?ei:jn)*zi*si);return Math.log(Math.sqrt(qi*qi+1)-qi)}function Yi(Wi){return(Math.exp(Wi)-Math.exp(-Wi))/2}function Mi(Wi){return(Math.exp(Wi)+Math.exp(-Wi))/2}function ji(Wi){return Yi(Wi)/Mi(Wi)}var Gi=$i(0),oa=function(Wi){return Mi(Gi)/Mi(Gi+Hn*Wi)},ta=function(Wi){return jn*((Mi(Gi)*ji(Gi+Hn*Wi)-Yi(Gi))/zi)/si},Sa=($i(1)-Gi)/Hn;if(Math.abs(si)<1e-6||!isFinite(Sa)){if(Math.abs(jn-ei)<1e-6)return this.easeTo(re,pe);var Qi=ei<jn?-1:1;Sa=Math.abs(Math.log(ei/jn))/Hn,ta=function(){return 0},oa=function(Wi){return Math.exp(Qi*Hn*Wi)}}if("duration"in re)re.duration=+re.duration;else{var ma="screenSpeed"in re?+re.screenSpeed/Hn:+re.speed;re.duration=1e3*Sa/ma}return re.maxDuration&&re.duration>re.maxDuration&&(re.duration=0),this._zooming=!0,this._rotating=Vt!==kr,this._pitching=Yr!==$t,this._padding=!st.isPaddingEqual(Xr),this._prepareEase(pe,!1),this._ease(function(Wi){var qi=Wi*Sa,Ua=1/oa(qi);st.zoom=Wi===1?ar:Ct+st.scaleZoom(Ua),ze._rotating&&(st.bearing=i.number(Vt,kr,Wi)),ze._pitching&&(st.pitch=i.number($t,Yr,Wi)),ze._padding&&(st.interpolatePadding(sr,Xr,Wi),fn=st.centerPoint.add(Kr));var mo=Wi===1?Fn:st.unproject(Wn.add(Xn.mult(ta(qi))).mult(Ua));st.setLocationAtPoint(st.renderWorldCopies?mo.wrap():mo,fn),ze._fireMoveEvents(pe)},function(){return ze._afterEase(pe)},re),this},Q.prototype.isEasing=function(){return!!this._easeFrameId},Q.prototype.stop=function(){return this._stop()},Q.prototype._stop=function(re,pe){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var ze=this._onEaseEnd;delete this._onEaseEnd,ze.call(this,pe)}if(!re){var Ke=this.handlers;Ke&&Ke.stop(!1)}return this},Q.prototype._ease=function(re,pe,ze){ze.animate===!1||ze.duration===0?(re(1),pe()):(this._easeStart=i.browser.now(),this._easeOptions=ze,this._onEaseFrame=re,this._onEaseEnd=pe,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},Q.prototype._renderFrameCallback=function(){var re=Math.min((i.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(re)),re<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},Q.prototype._normalizeBearing=function(re,pe){re=i.wrap(re,-180,180);var ze=Math.abs(re-pe);return Math.abs(re-360-pe)<ze&&(re-=360),Math.abs(re+360-pe)<ze&&(re+=360),re},Q.prototype._normalizeCenter=function(re){var pe=this.transform;if(!(!pe.renderWorldCopies||pe.lngRange)){var ze=re.lng-pe.center.lng;re.lng+=ze>180?-360:ze<-180?360:0}},Q}(i.Evented),Ji=function(Q){Q===void 0&&(Q={}),this.options=Q,i.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Ji.prototype.getDefaultPosition=function(){return"bottom-right"},Ji.prototype.onAdd=function(Q){var de=this.options&&this.options.compact;return this._map=Q,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=b.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=b.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),de&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),de===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Ji.prototype.onRemove=function(){b.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Ji.prototype._setElementTitle=function(Q,de){var re=this._map._getUIString("AttributionControl."+de);Q.title=re,Q.setAttribute("aria-label",re)},Ji.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Ji.prototype._updateEditLink=function(){var Q=this._editLink;Q||(Q=this._editLink=this._container.querySelector(".mapbox-improve-map"));var de=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||i.config.ACCESS_TOKEN}];if(Q){var re=de.reduce(function(pe,ze,Ke){return ze.value&&(pe+=ze.key+"="+ze.value+(Ke<de.length-1?"&":"")),pe},"?");Q.href=i.config.FEEDBACK_URL+"/"+re+(this._map._hash?this._map._hash.getHashString(!0):""),Q.rel="noopener nofollow",this._setElementTitle(Q,"MapFeedback")}},Ji.prototype._updateData=function(Q){Q&&(Q.sourceDataType==="metadata"||Q.sourceDataType==="visibility"||Q.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},Ji.prototype._updateAttributions=function(){if(this._map.style){var Q=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?Q=Q.concat(this.options.customAttribution.map(function(Ct){return typeof Ct!="string"?"":Ct})):typeof this.options.customAttribution=="string"&&Q.push(this.options.customAttribution)),this._map.style.stylesheet){var de=this._map.style.stylesheet;this.styleOwner=de.owner,this.styleId=de.id}var re=this._map.style.sourceCaches;for(var pe in re){var ze=re[pe];if(ze.used){var Ke=ze.getSource();Ke.attribution&&Q.indexOf(Ke.attribution)<0&&Q.push(Ke.attribution)}}Q.sort(function(Ct,Vt){return Ct.length-Vt.length}),Q=Q.filter(function(Ct,Vt){for(var $t=Vt+1;$t<Q.length;$t++)if(Q[$t].indexOf(Ct)>=0)return!1;return!0});var st=Q.join(" | ");st!==this._attribHTML&&(this._attribHTML=st,Q.length?(this._innerContainer.innerHTML=st,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Ji.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Da=function(){i.bindAll(["_updateLogo"],this),i.bindAll(["_updateCompact"],this)};Da.prototype.onAdd=function(Q){this._map=Q,this._container=b.create("div","mapboxgl-ctrl");var de=b.create("a","mapboxgl-ctrl-logo");return de.target="_blank",de.rel="noopener nofollow",de.href="https://www.mapbox.com/",de.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),de.setAttribute("rel","noopener nofollow"),this._container.appendChild(de),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Da.prototype.onRemove=function(){b.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Da.prototype.getDefaultPosition=function(){return"bottom-left"},Da.prototype._updateLogo=function(Q){(!Q||Q.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},Da.prototype._logoRequired=function(){if(this._map.style){var Q=this._map.style.sourceCaches;for(var de in Q){var re=Q[de].getSource();if(re.mapbox_logo)return!0}return!1}},Da.prototype._updateCompact=function(){var Q=this._container.children;if(Q.length){var de=Q[0];this._map.getCanvasContainer().offsetWidth<250?de.classList.add("mapboxgl-compact"):de.classList.remove("mapboxgl-compact")}};var Th=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Th.prototype.add=function(Q){var de=++this._id,re=this._queue;return re.push({callback:Q,id:de,cancelled:!1}),de},Th.prototype.remove=function(Q){for(var de=this._currentlyRunning,re=de?this._queue.concat(de):this._queue,pe=0,ze=re;pe<ze.length;pe+=1){var Ke=ze[pe];if(Ke.id===Q){Ke.cancelled=!0;return}}},Th.prototype.run=function(Q){Q===void 0&&(Q=0);var de=this._currentlyRunning=this._queue;this._queue=[];for(var re=0,pe=de;re<pe.length;re+=1){var ze=pe[re];if(!ze.cancelled&&(ze.callback(Q),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Th.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var xp={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Df=i.window.HTMLImageElement,qv=i.window.HTMLElement,ef=i.window.ImageBitmap,bc=-2,wc=22,is=0,tf=60,ed={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:bc,maxZoom:wc,minPitch:is,maxPitch:tf,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},td=function(he){function Q(re){var pe=this;if(re=i.extend({},ed,re),re.minZoom!=null&&re.maxZoom!=null&&re.minZoom>re.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(re.minPitch!=null&&re.maxPitch!=null&&re.minPitch>re.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(re.minPitch!=null&&re.minPitch<is)throw new Error("minPitch must be greater than or equal to "+is);if(re.maxPitch!=null&&re.maxPitch>tf)throw new Error("maxPitch must be less than or equal to "+tf);var ze=new Rn(re.minZoom,re.maxZoom,re.minPitch,re.maxPitch,re.renderWorldCopies);if(he.call(this,ze,re),this._interactive=re.interactive,this._maxTileCacheSize=re.maxTileCacheSize,this._failIfMajorPerformanceCaveat=re.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=re.preserveDrawingBuffer,this._antialias=re.antialias,this._trackResize=re.trackResize,this._bearingSnap=re.bearingSnap,this._refreshExpiredTiles=re.refreshExpiredTiles,this._fadeDuration=re.fadeDuration,this._crossSourceCollisions=re.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=re.collectResourceTiming,this._renderTaskQueue=new Th,this._controls=[],this._mapId=i.uniqueId(),this._locale=i.extend({},xp,re.locale),this._clickTolerance=re.clickTolerance,this._requestManager=new i.RequestManager(re.transformRequest,re.accessToken),typeof re.container=="string"){if(this._container=i.window.document.getElementById(re.container),!this._container)throw new Error("Container '"+re.container+"' not found.")}else if(re.container instanceof qv)this._container=re.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(re.maxBounds&&this.setMaxBounds(re.maxBounds),i.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return pe._update(!1)}),this.on("moveend",function(){return pe._update(!1)}),this.on("zoom",function(){return pe._update(!0)}),typeof i.window<"u"&&(i.window.addEventListener("online",this._onWindowOnline,!1),i.window.addEventListener("resize",this._onWindowResize,!1),i.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Pa(this,re);var Ke=typeof re.hash=="string"&&re.hash||void 0;this._hash=re.hash&&new Ri(Ke).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:re.center,zoom:re.zoom,bearing:re.bearing,pitch:re.pitch}),re.bounds&&(this.resize(),this.fitBounds(re.bounds,i.extend({},re.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=re.localIdeographFontFamily,re.style&&this.setStyle(re.style,{localIdeographFontFamily:re.localIdeographFontFamily}),re.attributionControl&&this.addControl(new Ji({customAttribution:re.customAttribution})),this.addControl(new Da,re.logoPosition),this.on("style.load",function(){pe.transform.unmodified&&pe.jumpTo(pe.style.stylesheet)}),this.on("data",function(st){pe._update(st.dataType==="style"),pe.fire(new i.Event(st.dataType+"data",st))}),this.on("dataloading",function(st){pe.fire(new i.Event(st.dataType+"dataloading",st))})}he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q;var de={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return Q.prototype._getMapId=function(){return this._mapId},Q.prototype.addControl=function(pe,ze){if(ze===void 0&&(pe.getDefaultPosition?ze=pe.getDefaultPosition():ze="top-right"),!pe||!pe.onAdd)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Ke=pe.onAdd(this);this._controls.push(pe);var st=this._controlPositions[ze];return ze.indexOf("bottom")!==-1?st.insertBefore(Ke,st.firstChild):st.appendChild(Ke),this},Q.prototype.removeControl=function(pe){if(!pe||!pe.onRemove)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var ze=this._controls.indexOf(pe);return ze>-1&&this._controls.splice(ze,1),pe.onRemove(this),this},Q.prototype.hasControl=function(pe){return this._controls.indexOf(pe)>-1},Q.prototype.resize=function(pe){var ze=this._containerDimensions(),Ke=ze[0],st=ze[1];this._resizeCanvas(Ke,st),this.transform.resize(Ke,st),this.painter.resize(Ke,st);var Ct=!this._moving;return Ct&&(this.stop(),this.fire(new i.Event("movestart",pe)).fire(new i.Event("move",pe))),this.fire(new i.Event("resize",pe)),Ct&&this.fire(new i.Event("moveend",pe)),this},Q.prototype.getBounds=function(){return this.transform.getBounds()},Q.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},Q.prototype.setMaxBounds=function(pe){return this.transform.setMaxBounds(i.LngLatBounds.convert(pe)),this._update()},Q.prototype.setMinZoom=function(pe){if(pe=pe??bc,pe>=bc&&pe<=this.transform.maxZoom)return this.transform.minZoom=pe,this._update(),this.getZoom()<pe&&this.setZoom(pe),this;throw new Error("minZoom must be between "+bc+" and the current maxZoom, inclusive")},Q.prototype.getMinZoom=function(){return this.transform.minZoom},Q.prototype.setMaxZoom=function(pe){if(pe=pe??wc,pe>=this.transform.minZoom)return this.transform.maxZoom=pe,this._update(),this.getZoom()>pe&&this.setZoom(pe),this;throw new Error("maxZoom must be greater than the current minZoom")},Q.prototype.getMaxZoom=function(){return this.transform.maxZoom},Q.prototype.setMinPitch=function(pe){if(pe=pe??is,pe<is)throw new Error("minPitch must be greater than or equal to "+is);if(pe>=is&&pe<=this.transform.maxPitch)return this.transform.minPitch=pe,this._update(),this.getPitch()<pe&&this.setPitch(pe),this;throw new Error("minPitch must be between "+is+" and the current maxPitch, inclusive")},Q.prototype.getMinPitch=function(){return this.transform.minPitch},Q.prototype.setMaxPitch=function(pe){if(pe=pe??tf,pe>tf)throw new Error("maxPitch must be less than or equal to "+tf);if(pe>=this.transform.minPitch)return this.transform.maxPitch=pe,this._update(),this.getPitch()>pe&&this.setPitch(pe),this;throw new Error("maxPitch must be greater than the current minPitch")},Q.prototype.getMaxPitch=function(){return this.transform.maxPitch},Q.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},Q.prototype.setRenderWorldCopies=function(pe){return this.transform.renderWorldCopies=pe,this._update()},Q.prototype.project=function(pe){return this.transform.locationPoint(i.LngLat.convert(pe))},Q.prototype.unproject=function(pe){return this.transform.pointLocation(i.Point.convert(pe))},Q.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},Q.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},Q.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},Q.prototype._createDelegatedListener=function(pe,ze,Ke){var st=this,Ct;if(pe==="mouseenter"||pe==="mouseover"){var Vt=!1,$t=function(Hr){var Kr=st.getLayer(ze)?st.queryRenderedFeatures(Hr.point,{layers:[ze]}):[];Kr.length?Vt||(Vt=!0,Ke.call(st,new $e(pe,st,Hr.originalEvent,{features:Kr}))):Vt=!1},sr=function(){Vt=!1};return{layer:ze,listener:Ke,delegates:{mousemove:$t,mouseout:sr}}}else if(pe==="mouseleave"||pe==="mouseout"){var ar=!1,kr=function(Hr){var Kr=st.getLayer(ze)?st.queryRenderedFeatures(Hr.point,{layers:[ze]}):[];Kr.length?ar=!0:ar&&(ar=!1,Ke.call(st,new $e(pe,st,Hr.originalEvent)))},Yr=function(Hr){ar&&(ar=!1,Ke.call(st,new $e(pe,st,Hr.originalEvent)))};return{layer:ze,listener:Ke,delegates:{mousemove:kr,mouseout:Yr}}}else{var Xr=function(Hr){var Kr=st.getLayer(ze)?st.queryRenderedFeatures(Hr.point,{layers:[ze]}):[];Kr.length&&(Hr.features=Kr,Ke.call(st,Hr),delete Hr.features)};return{layer:ze,listener:Ke,delegates:(Ct={},Ct[pe]=Xr,Ct)}}},Q.prototype.on=function(pe,ze,Ke){if(Ke===void 0)return he.prototype.on.call(this,pe,ze);var st=this._createDelegatedListener(pe,ze,Ke);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[pe]=this._delegatedListeners[pe]||[],this._delegatedListeners[pe].push(st);for(var Ct in st.delegates)this.on(Ct,st.delegates[Ct]);return this},Q.prototype.once=function(pe,ze,Ke){if(Ke===void 0)return he.prototype.once.call(this,pe,ze);var st=this._createDelegatedListener(pe,ze,Ke);for(var Ct in st.delegates)this.once(Ct,st.delegates[Ct]);return this},Q.prototype.off=function(pe,ze,Ke){var st=this;if(Ke===void 0)return he.prototype.off.call(this,pe,ze);var Ct=function(Vt){for(var $t=Vt[pe],sr=0;sr<$t.length;sr++){var ar=$t[sr];if(ar.layer===ze&&ar.listener===Ke){for(var kr in ar.delegates)st.off(kr,ar.delegates[kr]);return $t.splice(sr,1),st}}};return this._delegatedListeners&&this._delegatedListeners[pe]&&Ct(this._delegatedListeners),this},Q.prototype.queryRenderedFeatures=function(pe,ze){if(!this.style)return[];ze===void 0&&pe!==void 0&&!(pe instanceof i.Point)&&!Array.isArray(pe)&&(ze=pe,pe=void 0),ze=ze||{},pe=pe||[[0,0],[this.transform.width,this.transform.height]];var Ke;if(pe instanceof i.Point||typeof pe[0]=="number")Ke=[i.Point.convert(pe)];else{var st=i.Point.convert(pe[0]),Ct=i.Point.convert(pe[1]);Ke=[st,new i.Point(Ct.x,st.y),Ct,new i.Point(st.x,Ct.y),st]}return this.style.queryRenderedFeatures(Ke,ze,this.transform)},Q.prototype.querySourceFeatures=function(pe,ze){return this.style.querySourceFeatures(pe,ze)},Q.prototype.setStyle=function(pe,ze){return ze=i.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},ze),ze.diff!==!1&&ze.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&pe?(this._diffStyle(pe,ze),this):(this._localIdeographFontFamily=ze.localIdeographFontFamily,this._updateStyle(pe,ze))},Q.prototype._getUIString=function(pe){var ze=this._locale[pe];if(ze==null)throw new Error("Missing UI string '"+pe+"'");return ze},Q.prototype._updateStyle=function(pe,ze){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),pe)this.style=new No(this,ze||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof pe=="string"?this.style.loadURL(pe):this.style.loadJSON(pe),this},Q.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new No(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},Q.prototype._diffStyle=function(pe,ze){var Ke=this;if(typeof pe=="string"){var st=this._requestManager.normalizeStyleURL(pe),Ct=this._requestManager.transformRequest(st,i.ResourceType.Style);i.getJSON(Ct,function(Vt,$t){Vt?Ke.fire(new i.ErrorEvent(Vt)):$t&&Ke._updateDiff($t,ze)})}else typeof pe=="object"&&this._updateDiff(pe,ze)},Q.prototype._updateDiff=function(pe,ze){try{this.style.setState(pe)&&this._update(!0)}catch(Ke){i.warnOnce("Unable to perform style diff: "+(Ke.message||Ke.error||Ke)+".  Rebuilding the style from scratch."),this._updateStyle(pe,ze)}},Q.prototype.getStyle=function(){if(this.style)return this.style.serialize()},Q.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():i.warnOnce("There is no style added to the map.")},Q.prototype.addSource=function(pe,ze){return this._lazyInitEmptyStyle(),this.style.addSource(pe,ze),this._update(!0)},Q.prototype.isSourceLoaded=function(pe){var ze=this.style&&this.style.sourceCaches[pe];if(ze===void 0){this.fire(new i.ErrorEvent(new Error("There is no source with ID '"+pe+"'")));return}return ze.loaded()},Q.prototype.areTilesLoaded=function(){var pe=this.style&&this.style.sourceCaches;for(var ze in pe){var Ke=pe[ze],st=Ke._tiles;for(var Ct in st){var Vt=st[Ct];if(!(Vt.state==="loaded"||Vt.state==="errored"))return!1}}return!0},Q.prototype.addSourceType=function(pe,ze,Ke){return this._lazyInitEmptyStyle(),this.style.addSourceType(pe,ze,Ke)},Q.prototype.removeSource=function(pe){return this.style.removeSource(pe),this._update(!0)},Q.prototype.getSource=function(pe){return this.style.getSource(pe)},Q.prototype.addImage=function(pe,ze,Ke){Ke===void 0&&(Ke={});var st=Ke.pixelRatio;st===void 0&&(st=1);var Ct=Ke.sdf;Ct===void 0&&(Ct=!1);var Vt=Ke.stretchX,$t=Ke.stretchY,sr=Ke.content;this._lazyInitEmptyStyle();var ar=0;if(ze instanceof Df||ef&&ze instanceof ef){var kr=i.browser.getImageData(ze),Yr=kr.width,Xr=kr.height,Hr=kr.data;this.style.addImage(pe,{data:new i.RGBAImage({width:Yr,height:Xr},Hr),pixelRatio:st,stretchX:Vt,stretchY:$t,content:sr,sdf:Ct,version:ar})}else{if(ze.width===void 0||ze.height===void 0)return this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Kr=ze.width,fn=ze.height,_n=ze.data,Fn=ze;this.style.addImage(pe,{data:new i.RGBAImage({width:Kr,height:fn},new Uint8Array(_n)),pixelRatio:st,stretchX:Vt,stretchY:$t,content:sr,sdf:Ct,version:ar,userImage:Fn}),Fn.onAdd&&Fn.onAdd(this,pe)}},Q.prototype.updateImage=function(pe,ze){var Ke=this.style.getImage(pe);if(!Ke)return this.fire(new i.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var st=ze instanceof Df||ef&&ze instanceof ef?i.browser.getImageData(ze):ze,Ct=st.width,Vt=st.height,$t=st.data;if(Ct===void 0||Vt===void 0)return this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(Ct!==Ke.data.width||Vt!==Ke.data.height)return this.fire(new i.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var sr=!(ze instanceof Df||ef&&ze instanceof ef);Ke.data.replace($t,sr),this.style.updateImage(pe,Ke)},Q.prototype.hasImage=function(pe){return pe?!!this.style.getImage(pe):(this.fire(new i.ErrorEvent(new Error("Missing required image id"))),!1)},Q.prototype.removeImage=function(pe){this.style.removeImage(pe)},Q.prototype.loadImage=function(pe,ze){i.getImage(this._requestManager.transformRequest(pe,i.ResourceType.Image),ze)},Q.prototype.listImages=function(){return this.style.listImages()},Q.prototype.addLayer=function(pe,ze){return this._lazyInitEmptyStyle(),this.style.addLayer(pe,ze),this._update(!0)},Q.prototype.moveLayer=function(pe,ze){return this.style.moveLayer(pe,ze),this._update(!0)},Q.prototype.removeLayer=function(pe){return this.style.removeLayer(pe),this._update(!0)},Q.prototype.getLayer=function(pe){return this.style.getLayer(pe)},Q.prototype.setLayerZoomRange=function(pe,ze,Ke){return this.style.setLayerZoomRange(pe,ze,Ke),this._update(!0)},Q.prototype.setFilter=function(pe,ze,Ke){return Ke===void 0&&(Ke={}),this.style.setFilter(pe,ze,Ke),this._update(!0)},Q.prototype.getFilter=function(pe){return this.style.getFilter(pe)},Q.prototype.setPaintProperty=function(pe,ze,Ke,st){return st===void 0&&(st={}),this.style.setPaintProperty(pe,ze,Ke,st),this._update(!0)},Q.prototype.getPaintProperty=function(pe,ze){return this.style.getPaintProperty(pe,ze)},Q.prototype.setLayoutProperty=function(pe,ze,Ke,st){return st===void 0&&(st={}),this.style.setLayoutProperty(pe,ze,Ke,st),this._update(!0)},Q.prototype.getLayoutProperty=function(pe,ze){return this.style.getLayoutProperty(pe,ze)},Q.prototype.setLight=function(pe,ze){return ze===void 0&&(ze={}),this._lazyInitEmptyStyle(),this.style.setLight(pe,ze),this._update(!0)},Q.prototype.getLight=function(){return this.style.getLight()},Q.prototype.setFeatureState=function(pe,ze){return this.style.setFeatureState(pe,ze),this._update()},Q.prototype.removeFeatureState=function(pe,ze){return this.style.removeFeatureState(pe,ze),this._update()},Q.prototype.getFeatureState=function(pe){return this.style.getFeatureState(pe)},Q.prototype.getContainer=function(){return this._container},Q.prototype.getCanvasContainer=function(){return this._canvasContainer},Q.prototype.getCanvas=function(){return this._canvas},Q.prototype._containerDimensions=function(){var pe=0,ze=0;return this._container&&(pe=this._container.clientWidth||400,ze=this._container.clientHeight||300),[pe,ze]},Q.prototype._detectMissingCSS=function(){var pe=i.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");pe!=="rgb(250, 128, 114)"&&i.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},Q.prototype._setupContainer=function(){var pe=this._container;pe.classList.add("mapboxgl-map");var ze=this._missingCSSCanary=b.create("div","mapboxgl-canary",pe);ze.style.visibility="hidden",this._detectMissingCSS();var Ke=this._canvasContainer=b.create("div","mapboxgl-canvas-container",pe);this._interactive&&Ke.classList.add("mapboxgl-interactive"),this._canvas=b.create("canvas","mapboxgl-canvas",Ke),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var st=this._containerDimensions();this._resizeCanvas(st[0],st[1]);var Ct=this._controlContainer=b.create("div","mapboxgl-control-container",pe),Vt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function($t){Vt[$t]=b.create("div","mapboxgl-ctrl-"+$t,Ct)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},Q.prototype._resizeCanvas=function(pe,ze){var Ke=i.browser.devicePixelRatio||1;this._canvas.width=Ke*pe,this._canvas.height=Ke*ze,this._canvas.style.width=pe+"px",this._canvas.style.height=ze+"px"},Q.prototype._setupPainter=function(){var pe=i.extend({},S.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),ze=this._canvas.getContext("webgl",pe)||this._canvas.getContext("experimental-webgl",pe);if(!ze){this.fire(new i.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Nr(ze,this.transform),i.webpSupported.testSupport(ze)},Q.prototype._contextLost=function(pe){pe.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new i.Event("webglcontextlost",{originalEvent:pe}))},Q.prototype._contextRestored=function(pe){this._setupPainter(),this.resize(),this._update(),this.fire(new i.Event("webglcontextrestored",{originalEvent:pe}))},Q.prototype._onMapScroll=function(pe){if(pe.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},Q.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},Q.prototype._update=function(pe){return this.style?(this._styleDirty=this._styleDirty||pe,this._sourcesDirty=!0,this.triggerRepaint(),this):this},Q.prototype._requestRenderFrame=function(pe){return this._update(),this._renderTaskQueue.add(pe)},Q.prototype._cancelRenderFrame=function(pe){this._renderTaskQueue.remove(pe)},Q.prototype._render=function(pe){var ze=this,Ke,st=0,Ct=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Ke=Ct.createQueryEXT(),Ct.beginQueryEXT(Ct.TIME_ELAPSED_EXT,Ke),st=i.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(pe),!this._removed){var Vt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var $t=this.transform.zoom,sr=i.browser.now();this.style.zoomHistory.update($t,sr);var ar=new i.EvaluationParameters($t,{now:sr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),kr=ar.crossFadingFactor();(kr!==1||kr!==this._crossFadingFactor)&&(Vt=!0,this._crossFadingFactor=kr),this.style.update(ar)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new i.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new i.Event("load"))),this.style&&(this.style.hasTransitions()||Vt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Yr=i.browser.now()-st;Ct.endQueryEXT(Ct.TIME_ELAPSED_EXT,Ke),setTimeout(function(){var Kr=Ct.getQueryObjectEXT(Ke,Ct.QUERY_RESULT_EXT)/1e6;Ct.deleteQueryEXT(Ke),ze.fire(new i.Event("gpu-timing-frame",{cpuTime:Yr,gpuTime:Kr}))},50)}if(this.listens("gpu-timing-layer")){var Xr=this.painter.collectGpuTimers();setTimeout(function(){var Kr=ze.painter.queryGpuTimers(Xr);ze.fire(new i.Event("gpu-timing-layer",{layerTimes:Kr}))},50)}var Hr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Hr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new i.Event("idle")),this._loaded&&!this._fullyLoaded&&!Hr&&(this._fullyLoaded=!0),this}},Q.prototype.remove=function(){this._hash&&this._hash.remove();for(var pe=0,ze=this._controls;pe<ze.length;pe+=1){var Ke=ze[pe];Ke.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof i.window<"u"&&(i.window.removeEventListener("resize",this._onWindowResize,!1),i.window.removeEventListener("orientationchange",this._onWindowResize,!1),i.window.removeEventListener("online",this._onWindowOnline,!1));var st=this.painter.context.gl.getExtension("WEBGL_lose_context");st&&st.loseContext&&st.loseContext(),Ah(this._canvasContainer),Ah(this._controlContainer),Ah(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new i.Event("remove"))},Q.prototype.triggerRepaint=function(){var pe=this;this.style&&!this._frame&&(this._frame=i.browser.frame(function(ze){pe._frame=null,pe._render(ze)}))},Q.prototype._onWindowOnline=function(){this._update()},Q.prototype._onWindowResize=function(pe){this._trackResize&&this.resize({originalEvent:pe})._update()},de.showTileBoundaries.get=function(){return!!this._showTileBoundaries},de.showTileBoundaries.set=function(re){this._showTileBoundaries!==re&&(this._showTileBoundaries=re,this._update())},de.showPadding.get=function(){return!!this._showPadding},de.showPadding.set=function(re){this._showPadding!==re&&(this._showPadding=re,this._update())},de.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},de.showCollisionBoxes.set=function(re){this._showCollisionBoxes!==re&&(this._showCollisionBoxes=re,re?this.style._generateCollisionBoxes():this._update())},de.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},de.showOverdrawInspector.set=function(re){this._showOverdrawInspector!==re&&(this._showOverdrawInspector=re,this._update())},de.repaint.get=function(){return!!this._repaint},de.repaint.set=function(re){this._repaint!==re&&(this._repaint=re,this.triggerRepaint())},de.vertices.get=function(){return!!this._vertices},de.vertices.set=function(re){this._vertices=re,this._update()},Q.prototype._setCacheLimits=function(pe,ze){i.setCacheLimits(pe,ze)},de.version.get=function(){return i.version},Object.defineProperties(Q.prototype,de),Q}(Yl);function Ah(he){he.parentNode&&he.parentNode.removeChild(he)}var Kh={showCompass:!0,showZoom:!0,visualizePitch:!1},Su=function(Q){var de=this;this.options=i.extend({},Kh,Q),this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(re){return re.preventDefault()}),this.options.showZoom&&(i.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(re){return de._map.zoomIn({},{originalEvent:re})}),b.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(re){return de._map.zoomOut({},{originalEvent:re})}),b.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(i.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(re){de.options.visualizePitch?de._map.resetNorthPitch({},{originalEvent:re}):de._map.resetNorth({},{originalEvent:re})}),this._compassIcon=b.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Su.prototype._updateZoomButtons=function(){var Q=this._map.getZoom(),de=Q===this._map.getMaxZoom(),re=Q===this._map.getMinZoom();this._zoomInButton.disabled=de,this._zoomOutButton.disabled=re,this._zoomInButton.setAttribute("aria-disabled",de.toString()),this._zoomOutButton.setAttribute("aria-disabled",re.toString())},Su.prototype._rotateCompassArrow=function(){var Q=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=Q},Su.prototype.onAdd=function(Q){return this._map=Q,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new xs(this._map,this._compass,this.options.visualizePitch)),this._container},Su.prototype.onRemove=function(){b.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Su.prototype._createButton=function(Q,de){var re=b.create("button",Q,this._container);return re.type="button",re.addEventListener("click",de),re},Su.prototype._setButtonTitle=function(Q,de){var re=this._map._getUIString("NavigationControl."+de);Q.title=re,Q.setAttribute("aria-label",re)};var xs=function(Q,de,re){re===void 0&&(re=!1),this._clickTolerance=10,this.element=de,this.mouseRotate=new ui({clickTolerance:Q.dragRotate._mouseRotate._clickTolerance}),this.map=Q,re&&(this.mousePitch=new Qn({clickTolerance:Q.dragRotate._mousePitch._clickTolerance})),i.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),b.addEventListener(de,"mousedown",this.mousedown),b.addEventListener(de,"touchstart",this.touchstart,{passive:!1}),b.addEventListener(de,"touchmove",this.touchmove),b.addEventListener(de,"touchend",this.touchend),b.addEventListener(de,"touchcancel",this.reset)};xs.prototype.down=function(Q,de){this.mouseRotate.mousedown(Q,de),this.mousePitch&&this.mousePitch.mousedown(Q,de),b.disableDrag()},xs.prototype.move=function(Q,de){var re=this.map,pe=this.mouseRotate.mousemoveWindow(Q,de);if(pe&&pe.bearingDelta&&re.setBearing(re.getBearing()+pe.bearingDelta),this.mousePitch){var ze=this.mousePitch.mousemoveWindow(Q,de);ze&&ze.pitchDelta&&re.setPitch(re.getPitch()+ze.pitchDelta)}},xs.prototype.off=function(){var Q=this.element;b.removeEventListener(Q,"mousedown",this.mousedown),b.removeEventListener(Q,"touchstart",this.touchstart,{passive:!1}),b.removeEventListener(Q,"touchmove",this.touchmove),b.removeEventListener(Q,"touchend",this.touchend),b.removeEventListener(Q,"touchcancel",this.reset),this.offTemp()},xs.prototype.offTemp=function(){b.enableDrag(),b.removeEventListener(i.window,"mousemove",this.mousemove),b.removeEventListener(i.window,"mouseup",this.mouseup)},xs.prototype.mousedown=function(Q){this.down(i.extend({},Q,{ctrlKey:!0,preventDefault:function(){return Q.preventDefault()}}),b.mousePos(this.element,Q)),b.addEventListener(i.window,"mousemove",this.mousemove),b.addEventListener(i.window,"mouseup",this.mouseup)},xs.prototype.mousemove=function(Q){this.move(Q,b.mousePos(this.element,Q))},xs.prototype.mouseup=function(Q){this.mouseRotate.mouseupWindow(Q),this.mousePitch&&this.mousePitch.mouseupWindow(Q),this.offTemp()},xs.prototype.touchstart=function(Q){Q.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=b.touchPos(this.element,Q.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return Q.preventDefault()}},this._startPos))},xs.prototype.touchmove=function(Q){Q.targetTouches.length!==1?this.reset():(this._lastPos=b.touchPos(this.element,Q.targetTouches)[0],this.move({preventDefault:function(){return Q.preventDefault()}},this._lastPos))},xs.prototype.touchend=function(Q){Q.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},xs.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function Eu(he,Q,de){if(he=new i.LngLat(he.lng,he.lat),Q){var re=new i.LngLat(he.lng-360,he.lat),pe=new i.LngLat(he.lng+360,he.lat),ze=de.locationPoint(he).distSqr(Q);de.locationPoint(re).distSqr(Q)<ze?he=re:de.locationPoint(pe).distSqr(Q)<ze&&(he=pe)}for(;Math.abs(he.lng-de.center.lng)>180;){var Ke=de.locationPoint(he);if(Ke.x>=0&&Ke.y>=0&&Ke.x<=de.width&&Ke.y<=de.height)break;he.lng>de.center.lng?he.lng-=360:he.lng+=360}return he}var Mh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Jh(he,Q,de){var re=he.classList;for(var pe in Mh)re.remove("mapboxgl-"+de+"-anchor-"+pe);re.add("mapboxgl-"+de+"-anchor-"+Q)}var Tc=function(he){function Q(de,re){if(he.call(this),(de instanceof i.window.HTMLElement||re)&&(de=i.extend({element:de},re)),i.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=de&&de.anchor||"center",this._color=de&&de.color||"#3FB1CE",this._scale=de&&de.scale||1,this._draggable=de&&de.draggable||!1,this._clickTolerance=de&&de.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=de&&de.rotation||0,this._rotationAlignment=de&&de.rotationAlignment||"auto",this._pitchAlignment=de&&de.pitchAlignment&&de.pitchAlignment!=="auto"?de.pitchAlignment:this._rotationAlignment,!de||!de.element){this._defaultMarker=!0,this._element=b.create("div"),this._element.setAttribute("aria-label","Map marker");var pe=b.createNS("http://www.w3.org/2000/svg","svg"),ze=41,Ke=27;pe.setAttributeNS(null,"display","block"),pe.setAttributeNS(null,"height",ze+"px"),pe.setAttributeNS(null,"width",Ke+"px"),pe.setAttributeNS(null,"viewBox","0 0 "+Ke+" "+ze);var st=b.createNS("http://www.w3.org/2000/svg","g");st.setAttributeNS(null,"stroke","none"),st.setAttributeNS(null,"stroke-width","1"),st.setAttributeNS(null,"fill","none"),st.setAttributeNS(null,"fill-rule","evenodd");var Ct=b.createNS("http://www.w3.org/2000/svg","g");Ct.setAttributeNS(null,"fill-rule","nonzero");var Vt=b.createNS("http://www.w3.org/2000/svg","g");Vt.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Vt.setAttributeNS(null,"fill","#000000");for(var $t=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],sr=0,ar=$t;sr<ar.length;sr+=1){var kr=ar[sr],Yr=b.createNS("http://www.w3.org/2000/svg","ellipse");Yr.setAttributeNS(null,"opacity","0.04"),Yr.setAttributeNS(null,"cx","10.5"),Yr.setAttributeNS(null,"cy","5.80029008"),Yr.setAttributeNS(null,"rx",kr.rx),Yr.setAttributeNS(null,"ry",kr.ry),Vt.appendChild(Yr)}var Xr=b.createNS("http://www.w3.org/2000/svg","g");Xr.setAttributeNS(null,"fill",this._color);var Hr=b.createNS("http://www.w3.org/2000/svg","path");Hr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Xr.appendChild(Hr);var Kr=b.createNS("http://www.w3.org/2000/svg","g");Kr.setAttributeNS(null,"opacity","0.25"),Kr.setAttributeNS(null,"fill","#000000");var fn=b.createNS("http://www.w3.org/2000/svg","path");fn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Kr.appendChild(fn);var _n=b.createNS("http://www.w3.org/2000/svg","g");_n.setAttributeNS(null,"transform","translate(6.0, 7.0)"),_n.setAttributeNS(null,"fill","#FFFFFF");var Fn=b.createNS("http://www.w3.org/2000/svg","g");Fn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Wn=b.createNS("http://www.w3.org/2000/svg","circle");Wn.setAttributeNS(null,"fill","#000000"),Wn.setAttributeNS(null,"opacity","0.25"),Wn.setAttributeNS(null,"cx","5.5"),Wn.setAttributeNS(null,"cy","5.5"),Wn.setAttributeNS(null,"r","5.4999962");var Xn=b.createNS("http://www.w3.org/2000/svg","circle");Xn.setAttributeNS(null,"fill","#FFFFFF"),Xn.setAttributeNS(null,"cx","5.5"),Xn.setAttributeNS(null,"cy","5.5"),Xn.setAttributeNS(null,"r","5.4999962"),Fn.appendChild(Wn),Fn.appendChild(Xn),Ct.appendChild(Vt),Ct.appendChild(Xr),Ct.appendChild(Kr),Ct.appendChild(_n),Ct.appendChild(Fn),pe.appendChild(Ct),pe.setAttributeNS(null,"height",ze*this._scale+"px"),pe.setAttributeNS(null,"width",Ke*this._scale+"px"),this._element.appendChild(pe),this._offset=i.Point.convert(de&&de.offset||[0,-14])}else this._element=de.element,this._offset=i.Point.convert(de&&de.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Hn){Hn.preventDefault()}),this._element.addEventListener("mousedown",function(Hn){Hn.preventDefault()}),Jh(this._element,this._anchor,"marker"),this._popup=null}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.addTo=function(re){return this.remove(),this._map=re,re.getCanvasContainer().appendChild(this._element),re.on("move",this._update),re.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},Q.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),b.remove(this._element),this._popup&&this._popup.remove(),this},Q.prototype.getLngLat=function(){return this._lngLat},Q.prototype.setLngLat=function(re){return this._lngLat=i.LngLat.convert(re),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},Q.prototype.getElement=function(){return this._element},Q.prototype.setPopup=function(re){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),re){if(!("offset"in re.options)){var pe=38.1,ze=13.5,Ke=Math.sqrt(Math.pow(ze,2)/2);re.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-pe],"bottom-left":[Ke,(pe-ze+Ke)*-1],"bottom-right":[-Ke,(pe-ze+Ke)*-1],left:[ze,(pe-ze)*-1],right:[-ze,(pe-ze)*-1]}:this._offset}this._popup=re,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},Q.prototype._onKeyPress=function(re){var pe=re.code,ze=re.charCode||re.keyCode;(pe==="Space"||pe==="Enter"||ze===32||ze===13)&&this.togglePopup()},Q.prototype._onMapClick=function(re){var pe=re.originalEvent.target,ze=this._element;this._popup&&(pe===ze||ze.contains(pe))&&this.togglePopup()},Q.prototype.getPopup=function(){return this._popup},Q.prototype.togglePopup=function(){var re=this._popup;if(re)re.isOpen()?re.remove():re.addTo(this._map);else return this;return this},Q.prototype._update=function(re){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Eu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var pe="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?pe="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(pe="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var ze="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?ze="rotateX(0deg)":this._pitchAlignment==="map"&&(ze="rotateX("+this._map.getPitch()+"deg)"),(!re||re.type==="moveend")&&(this._pos=this._pos.round()),b.setTransform(this._element,Mh[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+ze+" "+pe)}},Q.prototype.getOffset=function(){return this._offset},Q.prototype.setOffset=function(re){return this._offset=i.Point.convert(re),this._update(),this},Q.prototype._onMove=function(re){if(!this._isDragging){var pe=this._clickTolerance||this._map._clickTolerance;this._isDragging=re.point.dist(this._pointerdownPos)>=pe}this._isDragging&&(this._pos=re.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new i.Event("dragstart"))),this.fire(new i.Event("drag")))},Q.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new i.Event("dragend")),this._state="inactive"},Q.prototype._addDragHandler=function(re){this._element.contains(re.originalEvent.target)&&(re.preventDefault(),this._positionDelta=re.point.sub(this._pos).add(this._offset),this._pointerdownPos=re.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},Q.prototype.setDraggable=function(re){return this._draggable=!!re,this._map&&(re?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},Q.prototype.isDraggable=function(){return this._draggable},Q.prototype.setRotation=function(re){return this._rotation=re||0,this._update(),this},Q.prototype.getRotation=function(){return this._rotation},Q.prototype.setRotationAlignment=function(re){return this._rotationAlignment=re||"auto",this._update(),this},Q.prototype.getRotationAlignment=function(){return this._rotationAlignment},Q.prototype.setPitchAlignment=function(re){return this._pitchAlignment=re&&re!=="auto"?re:this._rotationAlignment,this._update(),this},Q.prototype.getPitchAlignment=function(){return this._pitchAlignment},Q}(i.Evented),rd={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},rf;function Sh(he){rf!==void 0?he(rf):i.window.navigator.permissions!==void 0?i.window.navigator.permissions.query({name:"geolocation"}).then(function(Q){rf=Q.state!=="denied",he(rf)}):(rf=!!i.window.navigator.geolocation,he(rf))}var Ac=0,Rf=!1,bp=function(he){function Q(de){he.call(this),this.options=i.extend({},rd,de),i.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.onAdd=function(re){return this._map=re,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),Sh(this._setupUI),this._container},Q.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),b.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ac=0,Rf=!1},Q.prototype._isOutOfMapMaxBounds=function(re){var pe=this._map.getMaxBounds(),ze=re.coords;return pe&&(ze.longitude<pe.getWest()||ze.longitude>pe.getEast()||ze.latitude<pe.getSouth()||ze.latitude>pe.getNorth())},Q.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},Q.prototype._onSuccess=function(re){if(this._map){if(this._isOutOfMapMaxBounds(re)){this._setErrorState(),this.fire(new i.Event("outofmaxbounds",re)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=re,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(re),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(re),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("geolocate",re)),this._finish()}},Q.prototype._updateCamera=function(re){var pe=new i.LngLat(re.coords.longitude,re.coords.latitude),ze=re.coords.accuracy,Ke=this._map.getBearing(),st=i.extend({bearing:Ke},this.options.fitBoundsOptions);this._map.fitBounds(pe.toBounds(ze),st,{geolocateSource:!0})},Q.prototype._updateMarker=function(re){if(re){var pe=new i.LngLat(re.coords.longitude,re.coords.latitude);this._accuracyCircleMarker.setLngLat(pe).addTo(this._map),this._userLocationDotMarker.setLngLat(pe).addTo(this._map),this._accuracy=re.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},Q.prototype._updateCircleRadius=function(){var re=this._map._container.clientHeight/2,pe=this._map.unproject([0,re]),ze=this._map.unproject([1,re]),Ke=pe.distanceTo(ze),st=Math.ceil(2*this._accuracy/Ke);this._circleElement.style.width=st+"px",this._circleElement.style.height=st+"px"},Q.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},Q.prototype._onError=function(re){if(this._map){if(this.options.trackUserLocation)if(re.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var pe=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=pe,this._geolocateButton.setAttribute("aria-label",pe),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(re.code===3&&Rf)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("error",re)),this._finish()}},Q.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},Q.prototype._setupUI=function(re){var pe=this;if(this._container.addEventListener("contextmenu",function(st){return st.preventDefault()}),this._geolocateButton=b.create("button","mapboxgl-ctrl-geolocate",this._container),b.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",re===!1){i.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var ze=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=ze,this._geolocateButton.setAttribute("aria-label",ze)}else{var Ke=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Ke,this._geolocateButton.setAttribute("aria-label",Ke)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=b.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Tc(this._dotElement),this._circleElement=b.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Tc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(st){var Ct=st.originalEvent&&st.originalEvent.type==="resize";!st.geolocateSource&&pe._watchState==="ACTIVE_LOCK"&&!Ct&&(pe._watchState="BACKGROUND",pe._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),pe._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),pe.fire(new i.Event("trackuserlocationend")))})},Q.prototype.trigger=function(){if(!this._setup)return i.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new i.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ac--,Rf=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new i.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new i.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Ac++;var re;Ac>1?(re={maximumAge:6e5,timeout:0},Rf=!0):(re=this.options.positionOptions,Rf=!1),this._geolocationWatchID=i.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,re)}}else i.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},Q.prototype._clearWatch=function(){i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},Q}(i.Evented),nd={maxWidth:100,unit:"metric"},If=function(Q){this.options=i.extend({},nd,Q),i.bindAll(["_onMove","setUnit"],this)};If.prototype.getDefaultPosition=function(){return"bottom-left"},If.prototype._onMove=function(){id(this._map,this._container,this.options)},If.prototype.onAdd=function(Q){return this._map=Q,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",Q.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},If.prototype.onRemove=function(){b.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},If.prototype.setUnit=function(Q){this.options.unit=Q,id(this._map,this._container,this.options)};function id(he,Q,de){var re=de&&de.maxWidth||100,pe=he._container.clientHeight/2,ze=he.unproject([0,pe]),Ke=he.unproject([re,pe]),st=ze.distanceTo(Ke);if(de&&de.unit==="imperial"){var Ct=3.2808*st;if(Ct>5280){var Vt=Ct/5280;Mc(Q,re,Vt,he._getUIString("ScaleControl.Miles"))}else Mc(Q,re,Ct,he._getUIString("ScaleControl.Feet"))}else if(de&&de.unit==="nautical"){var $t=st/1852;Mc(Q,re,$t,he._getUIString("ScaleControl.NauticalMiles"))}else st>=1e3?Mc(Q,re,st/1e3,he._getUIString("ScaleControl.Kilometers")):Mc(Q,re,st,he._getUIString("ScaleControl.Meters"))}function Mc(he,Q,de,re){var pe=Tp(de),ze=pe/de;he.style.width=Q*ze+"px",he.innerHTML=pe+"&nbsp;"+re}function wp(he){var Q=Math.pow(10,Math.ceil(-Math.log(he)/Math.LN10));return Math.round(he*Q)/Q}function Tp(he){var Q=Math.pow(10,(""+Math.floor(he)).length-1),de=he/Q;return de=de>=10?10:de>=5?5:de>=3?3:de>=2?2:de>=1?1:wp(de),Q*de}var pl=function(Q){this._fullscreen=!1,Q&&Q.container&&(Q.container instanceof i.window.HTMLElement?this._container=Q.container:i.warnOnce("Full screen control 'container' must be a DOM element.")),i.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in i.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in i.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in i.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in i.window.document&&(this._fullscreenchange="MSFullscreenChange")};pl.prototype.onAdd=function(Q){return this._map=Q,this._container||(this._container=this._map.getContainer()),this._controlContainer=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",i.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},pl.prototype.onRemove=function(){b.remove(this._controlContainer),this._map=null,i.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},pl.prototype._checkFullscreenSupport=function(){return!!(i.window.document.fullscreenEnabled||i.window.document.mozFullScreenEnabled||i.window.document.msFullscreenEnabled||i.window.document.webkitFullscreenEnabled)},pl.prototype._setupUI=function(){var Q=this._fullscreenButton=b.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);b.create("span","mapboxgl-ctrl-icon",Q).setAttribute("aria-hidden",!0),Q.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),i.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},pl.prototype._updateTitle=function(){var Q=this._getTitle();this._fullscreenButton.setAttribute("aria-label",Q),this._fullscreenButton.title=Q},pl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},pl.prototype._isFullscreen=function(){return this._fullscreen},pl.prototype._changeIcon=function(){var Q=i.window.document.fullscreenElement||i.window.document.mozFullScreenElement||i.window.document.webkitFullscreenElement||i.window.document.msFullscreenElement;Q===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},pl.prototype._onClickFullscreen=function(){this._isFullscreen()?i.window.document.exitFullscreen?i.window.document.exitFullscreen():i.window.document.mozCancelFullScreen?i.window.document.mozCancelFullScreen():i.window.document.msExitFullscreen?i.window.document.msExitFullscreen():i.window.document.webkitCancelFullScreen&&i.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Ap={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Mp=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Pg=function(he){function Q(de){he.call(this),this.options=i.extend(Object.create(Ap),de),i.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return he&&(Q.__proto__=he),Q.prototype=Object.create(he&&he.prototype),Q.prototype.constructor=Q,Q.prototype.addTo=function(re){return this._map&&this.remove(),this._map=re,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new i.Event("open")),this},Q.prototype.isOpen=function(){return!!this._map},Q.prototype.remove=function(){return this._content&&b.remove(this._content),this._container&&(b.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new i.Event("close")),this},Q.prototype.getLngLat=function(){return this._lngLat},Q.prototype.setLngLat=function(re){return this._lngLat=i.LngLat.convert(re),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},Q.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},Q.prototype.getElement=function(){return this._container},Q.prototype.setText=function(re){return this.setDOMContent(i.window.document.createTextNode(re))},Q.prototype.setHTML=function(re){var pe=i.window.document.createDocumentFragment(),ze=i.window.document.createElement("body"),Ke;for(ze.innerHTML=re;Ke=ze.firstChild,!!Ke;)pe.appendChild(Ke);return this.setDOMContent(pe)},Q.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},Q.prototype.setMaxWidth=function(re){return this.options.maxWidth=re,this._update(),this},Q.prototype.setDOMContent=function(re){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=b.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(re),this._createCloseButton(),this._update(),this._focusFirstElement(),this},Q.prototype.addClassName=function(re){this._container&&this._container.classList.add(re)},Q.prototype.removeClassName=function(re){this._container&&this._container.classList.remove(re)},Q.prototype.setOffset=function(re){return this.options.offset=re,this._update(),this},Q.prototype.toggleClassName=function(re){if(this._container)return this._container.classList.toggle(re)},Q.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=b.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},Q.prototype._onMouseUp=function(re){this._update(re.point)},Q.prototype._onMouseMove=function(re){this._update(re.point)},Q.prototype._onDrag=function(re){this._update(re.point)},Q.prototype._update=function(re){var pe=this,ze=this._lngLat||this._trackPointer;if(!(!this._map||!ze||!this._content)&&(this._container||(this._container=b.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=b.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(kr){return pe._container.classList.add(kr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Eu(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!re))){var Ke=this._pos=this._trackPointer&&re?re:this._map.project(this._lngLat),st=this.options.anchor,Ct=Sp(this.options.offset);if(!st){var Vt=this._container.offsetWidth,$t=this._container.offsetHeight,sr;Ke.y+Ct.bottom.y<$t?sr=["top"]:Ke.y>this._map.transform.height-$t?sr=["bottom"]:sr=[],Ke.x<Vt/2?sr.push("left"):Ke.x>this._map.transform.width-Vt/2&&sr.push("right"),sr.length===0?st="bottom":st=sr.join("-")}var ar=Ke.add(Ct[st]).round();b.setTransform(this._container,Mh[st]+" translate("+ar.x+"px,"+ar.y+"px)"),Jh(this._container,st,"popup")}},Q.prototype._focusFirstElement=function(){if(!(!this.options.focusAfterOpen||!this._container)){var re=this._container.querySelector(Mp);re&&re.focus()}},Q.prototype._onClose=function(){this.remove()},Q}(i.Evented);function Sp(he){if(he)if(typeof he=="number"){var Q=Math.round(Math.sqrt(.5*Math.pow(he,2)));return{center:new i.Point(0,0),top:new i.Point(0,he),"top-left":new i.Point(Q,Q),"top-right":new i.Point(-Q,Q),bottom:new i.Point(0,-he),"bottom-left":new i.Point(Q,-Q),"bottom-right":new i.Point(-Q,-Q),left:new i.Point(he,0),right:new i.Point(-he,0)}}else if(he instanceof i.Point||Array.isArray(he)){var de=i.Point.convert(he);return{center:de,top:de,"top-left":de,"top-right":de,bottom:de,"bottom-left":de,"bottom-right":de,left:de,right:de}}else return{center:i.Point.convert(he.center||[0,0]),top:i.Point.convert(he.top||[0,0]),"top-left":i.Point.convert(he["top-left"]||[0,0]),"top-right":i.Point.convert(he["top-right"]||[0,0]),bottom:i.Point.convert(he.bottom||[0,0]),"bottom-left":i.Point.convert(he["bottom-left"]||[0,0]),"bottom-right":i.Point.convert(he["bottom-right"]||[0,0]),left:i.Point.convert(he.left||[0,0]),right:i.Point.convert(he.right||[0,0])};else return Sp(new i.Point(0,0))}var so={version:i.version,supported:S,setRTLTextPlugin:i.setRTLTextPlugin,getRTLTextPluginStatus:i.getRTLTextPluginStatus,Map:td,NavigationControl:Su,GeolocateControl:bp,AttributionControl:Ji,ScaleControl:If,FullscreenControl:pl,Popup:Pg,Marker:Tc,Style:No,LngLat:i.LngLat,LngLatBounds:i.LngLatBounds,Point:i.Point,MercatorCoordinate:i.MercatorCoordinate,Evented:i.Evented,config:i.config,prewarm:kt,clearPrewarmedResources:Zt,get accessToken(){return i.config.ACCESS_TOKEN},set accessToken(he){i.config.ACCESS_TOKEN=he},get baseApiUrl(){return i.config.API_URL},set baseApiUrl(he){i.config.API_URL=he},get workerCount(){return vr.workerCount},set workerCount(he){vr.workerCount=he},get maxParallelImageRequests(){return i.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(he){i.config.MAX_PARALLEL_IMAGE_REQUESTS=he},clearStorage:function(Q){i.clearTileCache(Q)},workerUrl:""};return so}),y})},3108:function(U,B,e){U.exports=e(26099)},26099:function(U,B,e){var y=e(64928),L=e(32420),i=e(51160),S=e(76752),b=e(55616),v=e(31264),p=e(47520),r=e(18400),t=e(72512),a=e(76244),n=1073741824;U.exports=function(l,m){m||(m={}),l=p(l,"float64"),m=b(m,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var h=v(m.maxDepth,255),g=v(m.bounds,S(l,2));g[0]===g[2]&&g[2]++,g[1]===g[3]&&g[3]++;var c=u(l,g),o=l.length>>>1,d;m.dtype||(m.dtype="array"),typeof m.dtype=="string"?d=new(t(m.dtype))(o):m.dtype&&(d=m.dtype,Array.isArray(d)&&(d.length=o));for(var w=0;w<o;++w)d[w]=w;var A=[],C=[],x=[],E=[];V(0,0,1,d,0,1);for(var M=0,f=0;f<A.length;f++){var P=A[f];if(d.set)d.set(P,M);else for(var T=0,z=P.length;T<z;T++)d[T+M]=P[T];var _=M+A[f].length;E[f]=[M,_],M=_}return d.range=F,d;function V(I,H,j,ee,te,ne){if(!ee.length)return null;var ue=A[te]||(A[te]=[]),q=x[te]||(x[te]=[]),Y=C[te]||(C[te]=[]),Z=ue.length;if(te++,te>h||ne>n){for(var G=0;G<ee.length;G++)ue.push(ee[G]),q.push(ne),Y.push(null,null,null,null);return Z}if(ue.push(ee[0]),q.push(ne),ee.length<=1)return Y.push(null,null,null,null),Z;for(var K=j*.5,oe=I+K,$=H+K,J=[],se=[],ie=[],ce=[],ye=1,Se=ee.length;ye<Se;ye++){var Te=ee[ye],ke=c[Te*2],we=c[Te*2+1];ke<oe?we<$?J.push(Te):se.push(Te):we<$?ie.push(Te):ce.push(Te)}return ne<<=2,Y.push(V(I,H,K,J,te,ne),V(I,$,K,se,te,ne+1),V(oe,H,K,ie,te,ne+2),V(oe,$,K,ce,te,ne+3)),Z}function F(){for(var I=[],H=arguments.length;H--;)I[H]=arguments[H];var j;if(r(I[I.length-1])){var ee=I.pop();!I.length&&(ee.x!=null||ee.l!=null||ee.left!=null)&&(I=[ee],j={}),j=b(ee,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else j={};I.length||(I=g);var te=i.apply(void 0,I),ne=[Math.min(te.x,te.x+te.width),Math.min(te.y,te.y+te.height),Math.max(te.x,te.x+te.width),Math.max(te.y,te.y+te.height)],ue=ne[0],q=ne[1],Y=ne[2],Z=ne[3],G=u([ue,q,Y,Z],g),K=G[0],oe=G[1],$=G[2],J=G[3],se=v(j.level,A.length);if(j.d!=null){var ie;typeof j.d=="number"?ie=[j.d,j.d]:j.d.length&&(ie=j.d),se=Math.min(Math.max(Math.ceil(-a(Math.abs(ie[0])/(g[2]-g[0]))),Math.ceil(-a(Math.abs(ie[1])/(g[3]-g[1])))),se)}if(se=Math.min(se,A.length),j.lod)return N(K,oe,$,J,se);var ce=[];ye(0,0,1,0,0,1);function ye(Te,ke,we,Ee,xe,De){if(!(xe===null||De===null)){var Ve=Te+we,Ue=ke+we;if(!(K>Ve||oe>Ue||$<Te||J<ke)&&!(Ee>=se)&&xe!==De){var Be=A[Ee];De===void 0&&(De=Be.length);for(var Xe=xe;Xe<De;Xe++){var ot=Be[Xe],ut=l[ot*2],et=l[ot*2+1];ut>=ue&&ut<=Y&&et>=q&&et<=Z&&ce.push(ot)}var qe=C[Ee],ft=qe[xe*4+0],ht=qe[xe*4+1],dt=qe[xe*4+2],mt=qe[xe*4+3],St=Se(qe,xe+1),rt=we*.5,Oe=Ee+1;ye(Te,ke,rt,Oe,ft,ht||dt||mt||St),ye(Te,ke+rt,rt,Oe,ht,dt||mt||St),ye(Te+rt,ke,rt,Oe,dt,mt||St),ye(Te+rt,ke+rt,rt,Oe,mt,St)}}}function Se(Te,ke){for(var we=null,Ee=0;we===null;)if(we=Te[ke*4+Ee],Ee++,Ee>Te.length)return null;return we}return ce}function N(I,H,j,ee,te){for(var ne=[],ue=0;ue<te;ue++){var q=x[ue],Y=E[ue][0],Z=k(I,H,ue),G=k(j,ee,ue),K=y.ge(q,Z),oe=y.gt(q,G,K,q.length-1);ne[ue]=[K+Y,oe+Y]}return ne}function k(I,H,j){for(var ee=1,te=.5,ne=.5,ue=.5,q=0;q<j;q++)ee<<=2,ee+=I<te?H<ne?0:1:H<ne?2:3,ue*=.5,te+=I<te?-ue:ue,ne+=H<ne?-ue:ue;return ee}};function u(s,l){for(var m=l[0],h=l[1],g=l[2],c=l[3],o=1/(g-m),d=1/(c-h),w=new Array(s.length),A=0,C=s.length/2;A<C;A++)w[2*A]=L((s[2*A]-m)*o,0,1),w[2*A+1]=L((s[2*A+1]-h)*d,0,1);return w}},40440:function(U,B,e){Object.defineProperty(B,"__esModule",{value:!0});var y=e(3256),L=6378137;function i(r){return y.geomReduce(r,function(t,a){return t+S(a)},0)}B.default=i;function S(r){var t=0,a;switch(r.type){case"Polygon":return b(r.coordinates);case"MultiPolygon":for(a=0;a<r.coordinates.length;a++)t+=b(r.coordinates[a]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function b(r){var t=0;if(r&&r.length>0){t+=Math.abs(v(r[0]));for(var a=1;a<r.length;a++)t-=Math.abs(v(r[a]))}return t}function v(r){var t,a,n,u,s,l,m,h=0,g=r.length;if(g>2){for(m=0;m<g;m++)m===g-2?(u=g-2,s=g-1,l=0):m===g-1?(u=g-1,s=0,l=1):(u=m,s=m+1,l=m+2),t=r[u],a=r[s],n=r[l],h+=(p(n[0])-p(t[0]))*Math.sin(p(a[1]));h=h*L*L/2}return h}function p(r){return r*Math.PI/180}},46284:function(U,B){Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=63710088e-1,B.factors={centimeters:B.earthRadius*100,centimetres:B.earthRadius*100,degrees:B.earthRadius/111325,feet:B.earthRadius*3.28084,inches:B.earthRadius*39.37,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:B.earthRadius*1e3,millimetres:B.earthRadius*1e3,nauticalmiles:B.earthRadius/1852,radians:1,yards:B.earthRadius*1.0936},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:1.0936133},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(M,f,P){P===void 0&&(P={});var T={type:"Feature"};return(P.id===0||P.id)&&(T.id=P.id),P.bbox&&(T.bbox=P.bbox),T.properties=f||{},T.geometry=M,T}B.feature=e;function y(M,f,P){switch(M){case"Point":return L(f).geometry;case"LineString":return v(f).geometry;case"Polygon":return S(f).geometry;case"MultiPoint":return a(f).geometry;case"MultiLineString":return t(f).geometry;case"MultiPolygon":return n(f).geometry;default:throw new Error(M+" is invalid")}}B.geometry=y;function L(M,f,P){if(P===void 0&&(P={}),!M)throw new Error("coordinates is required");if(!Array.isArray(M))throw new Error("coordinates must be an Array");if(M.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!A(M[0])||!A(M[1]))throw new Error("coordinates must contain numbers");var T={type:"Point",coordinates:M};return e(T,f,P)}B.point=L;function i(M,f,P){return P===void 0&&(P={}),r(M.map(function(T){return L(T,f)}),P)}B.points=i;function S(M,f,P){P===void 0&&(P={});for(var T=0,z=M;T<z.length;T++){var _=z[T];if(_.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var V=0;V<_[_.length-1].length;V++)if(_[_.length-1][V]!==_[0][V])throw new Error("First and last Position are not equivalent.")}var F={type:"Polygon",coordinates:M};return e(F,f,P)}B.polygon=S;function b(M,f,P){return P===void 0&&(P={}),r(M.map(function(T){return S(T,f)}),P)}B.polygons=b;function v(M,f,P){if(P===void 0&&(P={}),M.length<2)throw new Error("coordinates must be an array of two or more positions");var T={type:"LineString",coordinates:M};return e(T,f,P)}B.lineString=v;function p(M,f,P){return P===void 0&&(P={}),r(M.map(function(T){return v(T,f)}),P)}B.lineStrings=p;function r(M,f){f===void 0&&(f={});var P={type:"FeatureCollection"};return f.id&&(P.id=f.id),f.bbox&&(P.bbox=f.bbox),P.features=M,P}B.featureCollection=r;function t(M,f,P){P===void 0&&(P={});var T={type:"MultiLineString",coordinates:M};return e(T,f,P)}B.multiLineString=t;function a(M,f,P){P===void 0&&(P={});var T={type:"MultiPoint",coordinates:M};return e(T,f,P)}B.multiPoint=a;function n(M,f,P){P===void 0&&(P={});var T={type:"MultiPolygon",coordinates:M};return e(T,f,P)}B.multiPolygon=n;function u(M,f,P){P===void 0&&(P={});var T={type:"GeometryCollection",geometries:M};return e(T,f,P)}B.geometryCollection=u;function s(M,f){if(f===void 0&&(f=0),f&&!(f>=0))throw new Error("precision must be a positive number");var P=Math.pow(10,f||0);return Math.round(M*P)/P}B.round=s;function l(M,f){f===void 0&&(f="kilometers");var P=B.factors[f];if(!P)throw new Error(f+" units is invalid");return M*P}B.radiansToLength=l;function m(M,f){f===void 0&&(f="kilometers");var P=B.factors[f];if(!P)throw new Error(f+" units is invalid");return M/P}B.lengthToRadians=m;function h(M,f){return c(m(M,f))}B.lengthToDegrees=h;function g(M){var f=M%360;return f<0&&(f+=360),f}B.bearingToAzimuth=g;function c(M){var f=M%(2*Math.PI);return f*180/Math.PI}B.radiansToDegrees=c;function o(M){var f=M%360;return f*Math.PI/180}B.degreesToRadians=o;function d(M,f,P){if(f===void 0&&(f="kilometers"),P===void 0&&(P="kilometers"),!(M>=0))throw new Error("length must be a positive number");return l(m(M,f),P)}B.convertLength=d;function w(M,f,P){if(f===void 0&&(f="meters"),P===void 0&&(P="kilometers"),!(M>=0))throw new Error("area must be a positive number");var T=B.areaFactors[f];if(!T)throw new Error("invalid original units");var z=B.areaFactors[P];if(!z)throw new Error("invalid final units");return M/T*z}B.convertArea=w;function A(M){return!isNaN(M)&&M!==null&&!Array.isArray(M)}B.isNumber=A;function C(M){return!!M&&M.constructor===Object}B.isObject=C;function x(M){if(!M)throw new Error("bbox is required");if(!Array.isArray(M))throw new Error("bbox must be an Array");if(M.length!==4&&M.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");M.forEach(function(f){if(!A(f))throw new Error("bbox must only contain numbers")})}B.validateBBox=x;function E(M){if(!M)throw new Error("id is required");if(["string","number"].indexOf(typeof M)===-1)throw new Error("id must be a number or a string")}B.validateId=E},3256:function(U,B,e){Object.defineProperty(B,"__esModule",{value:!0});var y=e(46284);function L(o,d,w){if(o!==null)for(var A,C,x,E,M,f,P,T=0,z=0,_,V=o.type,F=V==="FeatureCollection",N=V==="Feature",k=F?o.features.length:1,I=0;I<k;I++){P=F?o.features[I].geometry:N?o.geometry:o,_=P?P.type==="GeometryCollection":!1,M=_?P.geometries.length:1;for(var H=0;H<M;H++){var j=0,ee=0;if(E=_?P.geometries[H]:P,E!==null){f=E.coordinates;var te=E.type;switch(T=w&&(te==="Polygon"||te==="MultiPolygon")?1:0,te){case null:break;case"Point":if(d(f,z,I,j,ee)===!1)return!1;z++,j++;break;case"LineString":case"MultiPoint":for(A=0;A<f.length;A++){if(d(f[A],z,I,j,ee)===!1)return!1;z++,te==="MultiPoint"&&j++}te==="LineString"&&j++;break;case"Polygon":case"MultiLineString":for(A=0;A<f.length;A++){for(C=0;C<f[A].length-T;C++){if(d(f[A][C],z,I,j,ee)===!1)return!1;z++}te==="MultiLineString"&&j++,te==="Polygon"&&ee++}te==="Polygon"&&j++;break;case"MultiPolygon":for(A=0;A<f.length;A++){for(ee=0,C=0;C<f[A].length;C++){for(x=0;x<f[A][C].length-T;x++){if(d(f[A][C][x],z,I,j,ee)===!1)return!1;z++}ee++}j++}break;case"GeometryCollection":for(A=0;A<E.geometries.length;A++)if(L(E.geometries[A],d,w)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(o,d,w,A){var C=w;return L(o,function(x,E,M,f,P){E===0&&w===void 0?C=x:C=d(C,x,E,M,f,P)},A),C}function S(o,d){var w;switch(o.type){case"FeatureCollection":for(w=0;w<o.features.length&&d(o.features[w].properties,w)!==!1;w++);break;case"Feature":d(o.properties,0);break}}function b(o,d,w){var A=w;return S(o,function(C,x){x===0&&w===void 0?A=C:A=d(A,C,x)}),A}function v(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var w=0;w<o.features.length&&d(o.features[w],w)!==!1;w++);}function p(o,d,w){var A=w;return v(o,function(C,x){x===0&&w===void 0?A=C:A=d(A,C,x)}),A}function r(o){var d=[];return L(o,function(w){d.push(w)}),d}function t(o,d){var w,A,C,x,E,M,f,P,T,z,_=0,V=o.type==="FeatureCollection",F=o.type==="Feature",N=V?o.features.length:1;for(w=0;w<N;w++){for(M=V?o.features[w].geometry:F?o.geometry:o,P=V?o.features[w].properties:F?o.properties:{},T=V?o.features[w].bbox:F?o.bbox:void 0,z=V?o.features[w].id:F?o.id:void 0,f=M?M.type==="GeometryCollection":!1,E=f?M.geometries.length:1,C=0;C<E;C++){if(x=f?M.geometries[C]:M,x===null){if(d(null,_,P,T,z)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(x,_,P,T,z)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<x.geometries.length;A++)if(d(x.geometries[A],_,P,T,z)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function a(o,d,w){var A=w;return t(o,function(C,x,E,M,f){x===0&&w===void 0?A=C:A=d(A,C,x,E,M,f)}),A}function n(o,d){t(o,function(w,A,C,x,E){var M=w===null?null:w.type;switch(M){case null:case"Point":case"LineString":case"Polygon":return d(y.feature(w,C,{bbox:x,id:E}),A,0)===!1?!1:void 0}var f;switch(M){case"MultiPoint":f="Point";break;case"MultiLineString":f="LineString";break;case"MultiPolygon":f="Polygon";break}for(var P=0;P<w.coordinates.length;P++){var T=w.coordinates[P],z={type:f,coordinates:T};if(d(y.feature(z,C),A,P)===!1)return!1}})}function u(o,d,w){var A=w;return n(o,function(C,x,E){x===0&&E===0&&w===void 0?A=C:A=d(A,C,x,E)}),A}function s(o,d){n(o,function(w,A,C){var x=0;if(w.geometry){var E=w.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var M,f=0,P=0,T=0;if(L(w,function(z,_,V,F,N){if(M===void 0||A>f||F>P||N>T){M=z,f=A,P=F,T=N,x=0;return}var k=y.lineString([M,z],w.properties);if(d(k,A,C,N,x)===!1)return!1;x++,M=z})===!1)return!1}}})}function l(o,d,w){var A=w,C=!1;return s(o,function(x,E,M,f,P){C===!1&&w===void 0?A=x:A=d(A,x,E,M,f,P),C=!0}),A}function m(o,d){if(!o)throw new Error("geojson is required");n(o,function(w,A,C){if(w.geometry!==null){var x=w.geometry.type,E=w.geometry.coordinates;switch(x){case"LineString":if(d(w,A,C,0,0)===!1)return!1;break;case"Polygon":for(var M=0;M<E.length;M++)if(d(y.lineString(E[M],w.properties),A,C,M)===!1)return!1;break}}})}function h(o,d,w){var A=w;return m(o,function(C,x,E,M){x===0&&w===void 0?A=C:A=d(A,C,x,E,M)}),A}function g(o,d){if(d=d||{},!y.isObject(d))throw new Error("options is invalid");var w=d.featureIndex||0,A=d.multiFeatureIndex||0,C=d.geometryIndex||0,x=d.segmentIndex||0,E=d.properties,M;switch(o.type){case"FeatureCollection":w<0&&(w=o.features.length+w),E=E||o.features[w].properties,M=o.features[w].geometry;break;case"Feature":E=E||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var f=M.coordinates;switch(M.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=f.length+x-1),y.lineString([f[x],f[x+1]],E,d);case"Polygon":return C<0&&(C=f.length+C),x<0&&(x=f[C].length+x-1),y.lineString([f[C][x],f[C][x+1]],E,d);case"MultiLineString":return A<0&&(A=f.length+A),x<0&&(x=f[A].length+x-1),y.lineString([f[A][x],f[A][x+1]],E,d);case"MultiPolygon":return A<0&&(A=f.length+A),C<0&&(C=f[A].length+C),x<0&&(x=f[A][C].length-x-1),y.lineString([f[A][C][x],f[A][C][x+1]],E,d)}throw new Error("geojson is invalid")}function c(o,d){if(d=d||{},!y.isObject(d))throw new Error("options is invalid");var w=d.featureIndex||0,A=d.multiFeatureIndex||0,C=d.geometryIndex||0,x=d.coordIndex||0,E=d.properties,M;switch(o.type){case"FeatureCollection":w<0&&(w=o.features.length+w),E=E||o.features[w].properties,M=o.features[w].geometry;break;case"Feature":E=E||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var f=M.coordinates;switch(M.type){case"Point":return y.point(f,E,d);case"MultiPoint":return A<0&&(A=f.length+A),y.point(f[A],E,d);case"LineString":return x<0&&(x=f.length+x),y.point(f[x],E,d);case"Polygon":return C<0&&(C=f.length+C),x<0&&(x=f[C].length+x),y.point(f[C][x],E,d);case"MultiLineString":return A<0&&(A=f.length+A),x<0&&(x=f[A].length+x),y.point(f[A][x],E,d);case"MultiPolygon":return A<0&&(A=f.length+A),C<0&&(C=f[A].length+C),x<0&&(x=f[A][C].length-x),y.point(f[A][C][x],E,d)}throw new Error("geojson is invalid")}B.coordEach=L,B.coordReduce=i,B.propEach=S,B.propReduce=b,B.featureEach=v,B.featureReduce=p,B.coordAll=r,B.geomEach=t,B.geomReduce=a,B.flattenEach=n,B.flattenReduce=u,B.segmentEach=s,B.segmentReduce=l,B.lineEach=m,B.lineReduce=h,B.findSegment=g,B.findPoint=c},42428:function(U,B,e){Object.defineProperty(B,"__esModule",{value:!0});var y=e(84880);function L(i){var S=[1/0,1/0,-1/0,-1/0];return y.coordEach(i,function(b){S[0]>b[0]&&(S[0]=b[0]),S[1]>b[1]&&(S[1]=b[1]),S[2]<b[0]&&(S[2]=b[0]),S[3]<b[1]&&(S[3]=b[1])}),S}L.default=L,B.default=L},76796:function(U,B){Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=63710088e-1,B.factors={centimeters:B.earthRadius*100,centimetres:B.earthRadius*100,degrees:B.earthRadius/111325,feet:B.earthRadius*3.28084,inches:B.earthRadius*39.37,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:B.earthRadius*1e3,millimetres:B.earthRadius*1e3,nauticalmiles:B.earthRadius/1852,radians:1,yards:B.earthRadius*1.0936},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:1.0936133},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(M,f,P){P===void 0&&(P={});var T={type:"Feature"};return(P.id===0||P.id)&&(T.id=P.id),P.bbox&&(T.bbox=P.bbox),T.properties=f||{},T.geometry=M,T}B.feature=e;function y(M,f,P){switch(M){case"Point":return L(f).geometry;case"LineString":return v(f).geometry;case"Polygon":return S(f).geometry;case"MultiPoint":return a(f).geometry;case"MultiLineString":return t(f).geometry;case"MultiPolygon":return n(f).geometry;default:throw new Error(M+" is invalid")}}B.geometry=y;function L(M,f,P){if(P===void 0&&(P={}),!M)throw new Error("coordinates is required");if(!Array.isArray(M))throw new Error("coordinates must be an Array");if(M.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!A(M[0])||!A(M[1]))throw new Error("coordinates must contain numbers");var T={type:"Point",coordinates:M};return e(T,f,P)}B.point=L;function i(M,f,P){return P===void 0&&(P={}),r(M.map(function(T){return L(T,f)}),P)}B.points=i;function S(M,f,P){P===void 0&&(P={});for(var T=0,z=M;T<z.length;T++){var _=z[T];if(_.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var V=0;V<_[_.length-1].length;V++)if(_[_.length-1][V]!==_[0][V])throw new Error("First and last Position are not equivalent.")}var F={type:"Polygon",coordinates:M};return e(F,f,P)}B.polygon=S;function b(M,f,P){return P===void 0&&(P={}),r(M.map(function(T){return S(T,f)}),P)}B.polygons=b;function v(M,f,P){if(P===void 0&&(P={}),M.length<2)throw new Error("coordinates must be an array of two or more positions");var T={type:"LineString",coordinates:M};return e(T,f,P)}B.lineString=v;function p(M,f,P){return P===void 0&&(P={}),r(M.map(function(T){return v(T,f)}),P)}B.lineStrings=p;function r(M,f){f===void 0&&(f={});var P={type:"FeatureCollection"};return f.id&&(P.id=f.id),f.bbox&&(P.bbox=f.bbox),P.features=M,P}B.featureCollection=r;function t(M,f,P){P===void 0&&(P={});var T={type:"MultiLineString",coordinates:M};return e(T,f,P)}B.multiLineString=t;function a(M,f,P){P===void 0&&(P={});var T={type:"MultiPoint",coordinates:M};return e(T,f,P)}B.multiPoint=a;function n(M,f,P){P===void 0&&(P={});var T={type:"MultiPolygon",coordinates:M};return e(T,f,P)}B.multiPolygon=n;function u(M,f,P){P===void 0&&(P={});var T={type:"GeometryCollection",geometries:M};return e(T,f,P)}B.geometryCollection=u;function s(M,f){if(f===void 0&&(f=0),f&&!(f>=0))throw new Error("precision must be a positive number");var P=Math.pow(10,f||0);return Math.round(M*P)/P}B.round=s;function l(M,f){f===void 0&&(f="kilometers");var P=B.factors[f];if(!P)throw new Error(f+" units is invalid");return M*P}B.radiansToLength=l;function m(M,f){f===void 0&&(f="kilometers");var P=B.factors[f];if(!P)throw new Error(f+" units is invalid");return M/P}B.lengthToRadians=m;function h(M,f){return c(m(M,f))}B.lengthToDegrees=h;function g(M){var f=M%360;return f<0&&(f+=360),f}B.bearingToAzimuth=g;function c(M){var f=M%(2*Math.PI);return f*180/Math.PI}B.radiansToDegrees=c;function o(M){var f=M%360;return f*Math.PI/180}B.degreesToRadians=o;function d(M,f,P){if(f===void 0&&(f="kilometers"),P===void 0&&(P="kilometers"),!(M>=0))throw new Error("length must be a positive number");return l(m(M,f),P)}B.convertLength=d;function w(M,f,P){if(f===void 0&&(f="meters"),P===void 0&&(P="kilometers"),!(M>=0))throw new Error("area must be a positive number");var T=B.areaFactors[f];if(!T)throw new Error("invalid original units");var z=B.areaFactors[P];if(!z)throw new Error("invalid final units");return M/T*z}B.convertArea=w;function A(M){return!isNaN(M)&&M!==null&&!Array.isArray(M)}B.isNumber=A;function C(M){return!!M&&M.constructor===Object}B.isObject=C;function x(M){if(!M)throw new Error("bbox is required");if(!Array.isArray(M))throw new Error("bbox must be an Array");if(M.length!==4&&M.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");M.forEach(function(f){if(!A(f))throw new Error("bbox must only contain numbers")})}B.validateBBox=x;function E(M){if(!M)throw new Error("id is required");if(["string","number"].indexOf(typeof M)===-1)throw new Error("id must be a number or a string")}B.validateId=E},84880:function(U,B,e){Object.defineProperty(B,"__esModule",{value:!0});var y=e(76796);function L(o,d,w){if(o!==null)for(var A,C,x,E,M,f,P,T=0,z=0,_,V=o.type,F=V==="FeatureCollection",N=V==="Feature",k=F?o.features.length:1,I=0;I<k;I++){P=F?o.features[I].geometry:N?o.geometry:o,_=P?P.type==="GeometryCollection":!1,M=_?P.geometries.length:1;for(var H=0;H<M;H++){var j=0,ee=0;if(E=_?P.geometries[H]:P,E!==null){f=E.coordinates;var te=E.type;switch(T=w&&(te==="Polygon"||te==="MultiPolygon")?1:0,te){case null:break;case"Point":if(d(f,z,I,j,ee)===!1)return!1;z++,j++;break;case"LineString":case"MultiPoint":for(A=0;A<f.length;A++){if(d(f[A],z,I,j,ee)===!1)return!1;z++,te==="MultiPoint"&&j++}te==="LineString"&&j++;break;case"Polygon":case"MultiLineString":for(A=0;A<f.length;A++){for(C=0;C<f[A].length-T;C++){if(d(f[A][C],z,I,j,ee)===!1)return!1;z++}te==="MultiLineString"&&j++,te==="Polygon"&&ee++}te==="Polygon"&&j++;break;case"MultiPolygon":for(A=0;A<f.length;A++){for(ee=0,C=0;C<f[A].length;C++){for(x=0;x<f[A][C].length-T;x++){if(d(f[A][C][x],z,I,j,ee)===!1)return!1;z++}ee++}j++}break;case"GeometryCollection":for(A=0;A<E.geometries.length;A++)if(L(E.geometries[A],d,w)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(o,d,w,A){var C=w;return L(o,function(x,E,M,f,P){E===0&&w===void 0?C=x:C=d(C,x,E,M,f,P)},A),C}function S(o,d){var w;switch(o.type){case"FeatureCollection":for(w=0;w<o.features.length&&d(o.features[w].properties,w)!==!1;w++);break;case"Feature":d(o.properties,0);break}}function b(o,d,w){var A=w;return S(o,function(C,x){x===0&&w===void 0?A=C:A=d(A,C,x)}),A}function v(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var w=0;w<o.features.length&&d(o.features[w],w)!==!1;w++);}function p(o,d,w){var A=w;return v(o,function(C,x){x===0&&w===void 0?A=C:A=d(A,C,x)}),A}function r(o){var d=[];return L(o,function(w){d.push(w)}),d}function t(o,d){var w,A,C,x,E,M,f,P,T,z,_=0,V=o.type==="FeatureCollection",F=o.type==="Feature",N=V?o.features.length:1;for(w=0;w<N;w++){for(M=V?o.features[w].geometry:F?o.geometry:o,P=V?o.features[w].properties:F?o.properties:{},T=V?o.features[w].bbox:F?o.bbox:void 0,z=V?o.features[w].id:F?o.id:void 0,f=M?M.type==="GeometryCollection":!1,E=f?M.geometries.length:1,C=0;C<E;C++){if(x=f?M.geometries[C]:M,x===null){if(d(null,_,P,T,z)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(x,_,P,T,z)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<x.geometries.length;A++)if(d(x.geometries[A],_,P,T,z)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function a(o,d,w){var A=w;return t(o,function(C,x,E,M,f){x===0&&w===void 0?A=C:A=d(A,C,x,E,M,f)}),A}function n(o,d){t(o,function(w,A,C,x,E){var M=w===null?null:w.type;switch(M){case null:case"Point":case"LineString":case"Polygon":return d(y.feature(w,C,{bbox:x,id:E}),A,0)===!1?!1:void 0}var f;switch(M){case"MultiPoint":f="Point";break;case"MultiLineString":f="LineString";break;case"MultiPolygon":f="Polygon";break}for(var P=0;P<w.coordinates.length;P++){var T=w.coordinates[P],z={type:f,coordinates:T};if(d(y.feature(z,C),A,P)===!1)return!1}})}function u(o,d,w){var A=w;return n(o,function(C,x,E){x===0&&E===0&&w===void 0?A=C:A=d(A,C,x,E)}),A}function s(o,d){n(o,function(w,A,C){var x=0;if(w.geometry){var E=w.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var M,f=0,P=0,T=0;if(L(w,function(z,_,V,F,N){if(M===void 0||A>f||F>P||N>T){M=z,f=A,P=F,T=N,x=0;return}var k=y.lineString([M,z],w.properties);if(d(k,A,C,N,x)===!1)return!1;x++,M=z})===!1)return!1}}})}function l(o,d,w){var A=w,C=!1;return s(o,function(x,E,M,f,P){C===!1&&w===void 0?A=x:A=d(A,x,E,M,f,P),C=!0}),A}function m(o,d){if(!o)throw new Error("geojson is required");n(o,function(w,A,C){if(w.geometry!==null){var x=w.geometry.type,E=w.geometry.coordinates;switch(x){case"LineString":if(d(w,A,C,0,0)===!1)return!1;break;case"Polygon":for(var M=0;M<E.length;M++)if(d(y.lineString(E[M],w.properties),A,C,M)===!1)return!1;break}}})}function h(o,d,w){var A=w;return m(o,function(C,x,E,M){x===0&&w===void 0?A=C:A=d(A,C,x,E,M)}),A}function g(o,d){if(d=d||{},!y.isObject(d))throw new Error("options is invalid");var w=d.featureIndex||0,A=d.multiFeatureIndex||0,C=d.geometryIndex||0,x=d.segmentIndex||0,E=d.properties,M;switch(o.type){case"FeatureCollection":w<0&&(w=o.features.length+w),E=E||o.features[w].properties,M=o.features[w].geometry;break;case"Feature":E=E||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var f=M.coordinates;switch(M.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=f.length+x-1),y.lineString([f[x],f[x+1]],E,d);case"Polygon":return C<0&&(C=f.length+C),x<0&&(x=f[C].length+x-1),y.lineString([f[C][x],f[C][x+1]],E,d);case"MultiLineString":return A<0&&(A=f.length+A),x<0&&(x=f[A].length+x-1),y.lineString([f[A][x],f[A][x+1]],E,d);case"MultiPolygon":return A<0&&(A=f.length+A),C<0&&(C=f[A].length+C),x<0&&(x=f[A][C].length-x-1),y.lineString([f[A][C][x],f[A][C][x+1]],E,d)}throw new Error("geojson is invalid")}function c(o,d){if(d=d||{},!y.isObject(d))throw new Error("options is invalid");var w=d.featureIndex||0,A=d.multiFeatureIndex||0,C=d.geometryIndex||0,x=d.coordIndex||0,E=d.properties,M;switch(o.type){case"FeatureCollection":w<0&&(w=o.features.length+w),E=E||o.features[w].properties,M=o.features[w].geometry;break;case"Feature":E=E||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var f=M.coordinates;switch(M.type){case"Point":return y.point(f,E,d);case"MultiPoint":return A<0&&(A=f.length+A),y.point(f[A],E,d);case"LineString":return x<0&&(x=f.length+x),y.point(f[x],E,d);case"Polygon":return C<0&&(C=f.length+C),x<0&&(x=f[C].length+x),y.point(f[C][x],E,d);case"MultiLineString":return A<0&&(A=f.length+A),x<0&&(x=f[A].length+x),y.point(f[A][x],E,d);case"MultiPolygon":return A<0&&(A=f.length+A),C<0&&(C=f[A].length+C),x<0&&(x=f[A][C].length-x),y.point(f[A][C][x],E,d)}throw new Error("geojson is invalid")}B.coordEach=L,B.coordReduce=i,B.propEach=S,B.propReduce=b,B.featureEach=v,B.featureReduce=p,B.coordAll=r,B.geomEach=t,B.geomReduce=a,B.flattenEach=n,B.flattenReduce=u,B.segmentEach=s,B.segmentReduce=l,B.lineEach=m,B.lineReduce=h,B.findSegment=g,B.findPoint=c},77844:function(U,B,e){Object.defineProperty(B,"__esModule",{value:!0});var y=e(43752),L=e(49840);function i(S,b){b===void 0&&(b={});var v=0,p=0,r=0;return y.coordEach(S,function(t){v+=t[0],p+=t[1],r++}),L.point([v/r,p/r],b.properties)}B.default=i},49840:function(U,B){Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=63710088e-1,B.factors={centimeters:B.earthRadius*100,centimetres:B.earthRadius*100,degrees:B.earthRadius/111325,feet:B.earthRadius*3.28084,inches:B.earthRadius*39.37,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:B.earthRadius*1e3,millimetres:B.earthRadius*1e3,nauticalmiles:B.earthRadius/1852,radians:1,yards:B.earthRadius/1.0936},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:.91441111923921},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(F,N,k){k===void 0&&(k={});var I={type:"Feature"};return(k.id===0||k.id)&&(I.id=k.id),k.bbox&&(I.bbox=k.bbox),I.properties=N||{},I.geometry=F,I}B.feature=e;function y(F,N,k){switch(F){case"Point":return L(N).geometry;case"LineString":return v(N).geometry;case"Polygon":return S(N).geometry;case"MultiPoint":return a(N).geometry;case"MultiLineString":return t(N).geometry;case"MultiPolygon":return n(N).geometry;default:throw new Error(F+" is invalid")}}B.geometry=y;function L(F,N,k){k===void 0&&(k={});var I={type:"Point",coordinates:F};return e(I,N,k)}B.point=L;function i(F,N,k){return k===void 0&&(k={}),r(F.map(function(I){return L(I,N)}),k)}B.points=i;function S(F,N,k){k===void 0&&(k={});for(var I=0,H=F;I<H.length;I++){var j=H[I];if(j.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var ee=0;ee<j[j.length-1].length;ee++)if(j[j.length-1][ee]!==j[0][ee])throw new Error("First and last Position are not equivalent.")}var te={type:"Polygon",coordinates:F};return e(te,N,k)}B.polygon=S;function b(F,N,k){return k===void 0&&(k={}),r(F.map(function(I){return S(I,N)}),k)}B.polygons=b;function v(F,N,k){if(k===void 0&&(k={}),F.length<2)throw new Error("coordinates must be an array of two or more positions");var I={type:"LineString",coordinates:F};return e(I,N,k)}B.lineString=v;function p(F,N,k){return k===void 0&&(k={}),r(F.map(function(I){return v(I,N)}),k)}B.lineStrings=p;function r(F,N){N===void 0&&(N={});var k={type:"FeatureCollection"};return N.id&&(k.id=N.id),N.bbox&&(k.bbox=N.bbox),k.features=F,k}B.featureCollection=r;function t(F,N,k){k===void 0&&(k={});var I={type:"MultiLineString",coordinates:F};return e(I,N,k)}B.multiLineString=t;function a(F,N,k){k===void 0&&(k={});var I={type:"MultiPoint",coordinates:F};return e(I,N,k)}B.multiPoint=a;function n(F,N,k){k===void 0&&(k={});var I={type:"MultiPolygon",coordinates:F};return e(I,N,k)}B.multiPolygon=n;function u(F,N,k){k===void 0&&(k={});var I={type:"GeometryCollection",geometries:F};return e(I,N,k)}B.geometryCollection=u;function s(F,N){if(N===void 0&&(N=0),N&&!(N>=0))throw new Error("precision must be a positive number");var k=Math.pow(10,N||0);return Math.round(F*k)/k}B.round=s;function l(F,N){N===void 0&&(N="kilometers");var k=B.factors[N];if(!k)throw new Error(N+" units is invalid");return F*k}B.radiansToLength=l;function m(F,N){N===void 0&&(N="kilometers");var k=B.factors[N];if(!k)throw new Error(N+" units is invalid");return F/k}B.lengthToRadians=m;function h(F,N){return c(m(F,N))}B.lengthToDegrees=h;function g(F){var N=F%360;return N<0&&(N+=360),N}B.bearingToAzimuth=g;function c(F){var N=F%(2*Math.PI);return N*180/Math.PI}B.radiansToDegrees=c;function o(F){var N=F%360;return N*Math.PI/180}B.degreesToRadians=o;function d(F,N,k){if(N===void 0&&(N="kilometers"),k===void 0&&(k="kilometers"),!(F>=0))throw new Error("length must be a positive number");return l(m(F,N),k)}B.convertLength=d;function w(F,N,k){if(N===void 0&&(N="meters"),k===void 0&&(k="kilometers"),!(F>=0))throw new Error("area must be a positive number");var I=B.areaFactors[N];if(!I)throw new Error("invalid original units");var H=B.areaFactors[k];if(!H)throw new Error("invalid final units");return F/I*H}B.convertArea=w;function A(F){return!isNaN(F)&&F!==null&&!Array.isArray(F)&&!/^\s*$/.test(F)}B.isNumber=A;function C(F){return!!F&&F.constructor===Object}B.isObject=C;function x(F){if(!F)throw new Error("bbox is required");if(!Array.isArray(F))throw new Error("bbox must be an Array");if(F.length!==4&&F.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");F.forEach(function(N){if(!A(N))throw new Error("bbox must only contain numbers")})}B.validateBBox=x;function E(F){if(!F)throw new Error("id is required");if(["string","number"].indexOf(typeof F)===-1)throw new Error("id must be a number or a string")}B.validateId=E;function M(){throw new Error("method has been renamed to `radiansToDegrees`")}B.radians2degrees=M;function f(){throw new Error("method has been renamed to `degreesToRadians`")}B.degrees2radians=f;function P(){throw new Error("method has been renamed to `lengthToDegrees`")}B.distanceToDegrees=P;function T(){throw new Error("method has been renamed to `lengthToRadians`")}B.distanceToRadians=T;function z(){throw new Error("method has been renamed to `radiansToLength`")}B.radiansToDistance=z;function _(){throw new Error("method has been renamed to `bearingToAzimuth`")}B.bearingToAngle=_;function V(){throw new Error("method has been renamed to `convertLength`")}B.convertDistance=V},43752:function(U,B,e){Object.defineProperty(B,"__esModule",{value:!0});var y=e(49840);function L(o,d,w){if(o!==null)for(var A,C,x,E,M,f,P,T=0,z=0,_,V=o.type,F=V==="FeatureCollection",N=V==="Feature",k=F?o.features.length:1,I=0;I<k;I++){P=F?o.features[I].geometry:N?o.geometry:o,_=P?P.type==="GeometryCollection":!1,M=_?P.geometries.length:1;for(var H=0;H<M;H++){var j=0,ee=0;if(E=_?P.geometries[H]:P,E!==null){f=E.coordinates;var te=E.type;switch(T=w&&(te==="Polygon"||te==="MultiPolygon")?1:0,te){case null:break;case"Point":if(d(f,z,I,j,ee)===!1)return!1;z++,j++;break;case"LineString":case"MultiPoint":for(A=0;A<f.length;A++){if(d(f[A],z,I,j,ee)===!1)return!1;z++,te==="MultiPoint"&&j++}te==="LineString"&&j++;break;case"Polygon":case"MultiLineString":for(A=0;A<f.length;A++){for(C=0;C<f[A].length-T;C++){if(d(f[A][C],z,I,j,ee)===!1)return!1;z++}te==="MultiLineString"&&j++,te==="Polygon"&&ee++}te==="Polygon"&&j++;break;case"MultiPolygon":for(A=0;A<f.length;A++){for(ee=0,C=0;C<f[A].length;C++){for(x=0;x<f[A][C].length-T;x++){if(d(f[A][C][x],z,I,j,ee)===!1)return!1;z++}ee++}j++}break;case"GeometryCollection":for(A=0;A<E.geometries.length;A++)if(L(E.geometries[A],d,w)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(o,d,w,A){var C=w;return L(o,function(x,E,M,f,P){E===0&&w===void 0?C=x:C=d(C,x,E,M,f,P)},A),C}function S(o,d){var w;switch(o.type){case"FeatureCollection":for(w=0;w<o.features.length&&d(o.features[w].properties,w)!==!1;w++);break;case"Feature":d(o.properties,0);break}}function b(o,d,w){var A=w;return S(o,function(C,x){x===0&&w===void 0?A=C:A=d(A,C,x)}),A}function v(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var w=0;w<o.features.length&&d(o.features[w],w)!==!1;w++);}function p(o,d,w){var A=w;return v(o,function(C,x){x===0&&w===void 0?A=C:A=d(A,C,x)}),A}function r(o){var d=[];return L(o,function(w){d.push(w)}),d}function t(o,d){var w,A,C,x,E,M,f,P,T,z,_=0,V=o.type==="FeatureCollection",F=o.type==="Feature",N=V?o.features.length:1;for(w=0;w<N;w++){for(M=V?o.features[w].geometry:F?o.geometry:o,P=V?o.features[w].properties:F?o.properties:{},T=V?o.features[w].bbox:F?o.bbox:void 0,z=V?o.features[w].id:F?o.id:void 0,f=M?M.type==="GeometryCollection":!1,E=f?M.geometries.length:1,C=0;C<E;C++){if(x=f?M.geometries[C]:M,x===null){if(d(null,_,P,T,z)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(x,_,P,T,z)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<x.geometries.length;A++)if(d(x.geometries[A],_,P,T,z)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function a(o,d,w){var A=w;return t(o,function(C,x,E,M,f){x===0&&w===void 0?A=C:A=d(A,C,x,E,M,f)}),A}function n(o,d){t(o,function(w,A,C,x,E){var M=w===null?null:w.type;switch(M){case null:case"Point":case"LineString":case"Polygon":return d(y.feature(w,C,{bbox:x,id:E}),A,0)===!1?!1:void 0}var f;switch(M){case"MultiPoint":f="Point";break;case"MultiLineString":f="LineString";break;case"MultiPolygon":f="Polygon";break}for(var P=0;P<w.coordinates.length;P++){var T=w.coordinates[P],z={type:f,coordinates:T};if(d(y.feature(z,C),A,P)===!1)return!1}})}function u(o,d,w){var A=w;return n(o,function(C,x,E){x===0&&E===0&&w===void 0?A=C:A=d(A,C,x,E)}),A}function s(o,d){n(o,function(w,A,C){var x=0;if(w.geometry){var E=w.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var M,f=0,P=0,T=0;if(L(w,function(z,_,V,F,N){if(M===void 0||A>f||F>P||N>T){M=z,f=A,P=F,T=N,x=0;return}var k=y.lineString([M,z],w.properties);if(d(k,A,C,N,x)===!1)return!1;x++,M=z})===!1)return!1}}})}function l(o,d,w){var A=w,C=!1;return s(o,function(x,E,M,f,P){C===!1&&w===void 0?A=x:A=d(A,x,E,M,f,P),C=!0}),A}function m(o,d){if(!o)throw new Error("geojson is required");n(o,function(w,A,C){if(w.geometry!==null){var x=w.geometry.type,E=w.geometry.coordinates;switch(x){case"LineString":if(d(w,A,C,0,0)===!1)return!1;break;case"Polygon":for(var M=0;M<E.length;M++)if(d(y.lineString(E[M],w.properties),A,C,M)===!1)return!1;break}}})}function h(o,d,w){var A=w;return m(o,function(C,x,E,M){x===0&&w===void 0?A=C:A=d(A,C,x,E,M)}),A}function g(o,d){if(d=d||{},!y.isObject(d))throw new Error("options is invalid");var w=d.featureIndex||0,A=d.multiFeatureIndex||0,C=d.geometryIndex||0,x=d.segmentIndex||0,E=d.properties,M;switch(o.type){case"FeatureCollection":w<0&&(w=o.features.length+w),E=E||o.features[w].properties,M=o.features[w].geometry;break;case"Feature":E=E||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var f=M.coordinates;switch(M.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=f.length+x-1),y.lineString([f[x],f[x+1]],E,d);case"Polygon":return C<0&&(C=f.length+C),x<0&&(x=f[C].length+x-1),y.lineString([f[C][x],f[C][x+1]],E,d);case"MultiLineString":return A<0&&(A=f.length+A),x<0&&(x=f[A].length+x-1),y.lineString([f[A][x],f[A][x+1]],E,d);case"MultiPolygon":return A<0&&(A=f.length+A),C<0&&(C=f[A].length+C),x<0&&(x=f[A][C].length-x-1),y.lineString([f[A][C][x],f[A][C][x+1]],E,d)}throw new Error("geojson is invalid")}function c(o,d){if(d=d||{},!y.isObject(d))throw new Error("options is invalid");var w=d.featureIndex||0,A=d.multiFeatureIndex||0,C=d.geometryIndex||0,x=d.coordIndex||0,E=d.properties,M;switch(o.type){case"FeatureCollection":w<0&&(w=o.features.length+w),E=E||o.features[w].properties,M=o.features[w].geometry;break;case"Feature":E=E||o.properties,M=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":M=o;break;default:throw new Error("geojson is invalid")}if(M===null)return null;var f=M.coordinates;switch(M.type){case"Point":return y.point(f,E,d);case"MultiPoint":return A<0&&(A=f.length+A),y.point(f[A],E,d);case"LineString":return x<0&&(x=f.length+x),y.point(f[x],E,d);case"Polygon":return C<0&&(C=f.length+C),x<0&&(x=f[C].length+x),y.point(f[C][x],E,d);case"MultiLineString":return A<0&&(A=f.length+A),x<0&&(x=f[A].length+x),y.point(f[A][x],E,d);case"MultiPolygon":return A<0&&(A=f.length+A),C<0&&(C=f[A].length+C),x<0&&(x=f[A][C].length-x),y.point(f[A][C][x],E,d)}throw new Error("geojson is invalid")}B.coordEach=L,B.coordReduce=i,B.propEach=S,B.propReduce=b,B.featureEach=v,B.featureReduce=p,B.coordAll=r,B.geomEach=t,B.geomReduce=a,B.flattenEach=n,B.flattenReduce=u,B.segmentEach=s,B.segmentReduce=l,B.lineEach=m,B.lineReduce=h,B.findSegment=g,B.findPoint=c},49972:function(U){U.exports=B;function B(e){var y=0,L=0,i=0,S=0;return e.map(function(b){b=b.slice();var v=b[0],p=v.toUpperCase();if(v!=p)switch(b[0]=p,v){case"a":b[6]+=i,b[7]+=S;break;case"v":b[1]+=S;break;case"h":b[1]+=i;break;default:for(var r=1;r<b.length;)b[r++]+=i,b[r++]+=S}switch(p){case"Z":i=y,S=L;break;case"H":i=b[1];break;case"V":S=b[1];break;case"M":i=y=b[1],S=L=b[2];break;default:i=b[b.length-2],S=b[b.length-1]}return b})}},76752:function(U){U.exports=B;function B(e,y){if(!e||e.length==null)throw Error("Argument should be an array");y==null?y=1:y=Math.floor(y);for(var L=Array(y*2),i=0;i<y;i++){for(var S=-1/0,b=1/0,v=i,p=e.length;v<p;v+=y)e[v]>S&&(S=e[v]),e[v]<b&&(b=e[v]);L[i]=b,L[y+i]=S}return L}},10272:function(U){U.exports=function(B,e,y){if(typeof Array.prototype.findIndex=="function")return B.findIndex(e,y);if(typeof e!="function")throw new TypeError("predicate must be a function");var L=Object(B),i=L.length;if(i===0)return-1;for(var S=0;S<i;S++)if(e.call(y,L[S],S,L))return S;return-1}},71152:function(U,B,e){var y=e(76752);U.exports=L;function L(i,S,b){if(!i||i.length==null)throw Error("Argument should be an array");S==null&&(S=1),b==null&&(b=y(i,S));for(var v=0;v<S;v++){var p=b[S+v],r=b[v],t=v,a=i.length;if(p===1/0&&r===-1/0)for(t=v;t<a;t+=S)i[t]=i[t]===p?1:i[t]===r?0:.5;else if(p===1/0)for(t=v;t<a;t+=S)i[t]=i[t]===p?1:0;else if(r===-1/0)for(t=v;t<a;t+=S)i[t]=i[t]===r?0:1;else{var n=p-r;for(t=v;t<a;t+=S)isNaN(i[t])||(i[t]=n===0?.5:(i[t]-r)/n)}}return i}},67752:function(U){U.exports=function(e,y){var L=typeof e=="number",i=typeof y=="number";L&&!i?(y=e,e=0):!L&&!i&&(e=0,y=0),e=e|0,y=y|0;var S=y-e;if(S<0)throw new Error("array length must be positive");for(var b=new Array(S),v=0,p=e;v<S;v++,p++)b[v]=p;return b}},45408:function(U,B,e){var y=e(4168);function L(ee){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?L=function(ne){return typeof ne}:L=function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},L(ee)}function i(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}var S=e(86832),b=S.codes,v=b.ERR_AMBIGUOUS_ARGUMENT,p=b.ERR_INVALID_ARG_TYPE,r=b.ERR_INVALID_ARG_VALUE,t=b.ERR_INVALID_RETURN_VALUE,a=b.ERR_MISSING_ARGS,n=e(26144),u=e(35840),s=u.inspect,l=e(35840).types,m=l.isPromise,h=l.isRegExp,g=Object.assign?Object.assign:e(60964).assign,c=Object.is?Object.is:e(39896),o,d;function w(){var ee=e(25116);o=ee.isDeepEqual,d=ee.isDeepStrictEqual}var A=!1,C=U.exports=P,x={};function E(ee){throw ee.message instanceof Error?ee.message:new n(ee)}function M(ee,te,ne,ue,q){var Y=arguments.length,Z;if(Y===0)Z="Failed";else if(Y===1)ne=ee,ee=void 0;else{if(A===!1){A=!0;var G=y.emitWarning?y.emitWarning:console.warn.bind(console);G("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Y===2&&(ue="!=")}if(ne instanceof Error)throw ne;var K={actual:ee,expected:te,operator:ue===void 0?"fail":ue,stackStartFn:q||M};ne!==void 0&&(K.message=ne);var oe=new n(K);throw Z&&(oe.message=Z,oe.generatedMessage=!0),oe}C.fail=M,C.AssertionError=n;function f(ee,te,ne,ue){if(!ne){var q=!1;if(te===0)q=!0,ue="No value argument passed to `assert.ok()`";else if(ue instanceof Error)throw ue;var Y=new n({actual:ne,expected:!0,message:ue,operator:"==",stackStartFn:ee});throw Y.generatedMessage=q,Y}}function P(){for(var ee=arguments.length,te=new Array(ee),ne=0;ne<ee;ne++)te[ne]=arguments[ne];f.apply(void 0,[P,te.length].concat(te))}C.ok=P,C.equal=function ee(te,ne,ue){if(arguments.length<2)throw new a("actual","expected");te!=ne&&E({actual:te,expected:ne,message:ue,operator:"==",stackStartFn:ee})},C.notEqual=function ee(te,ne,ue){if(arguments.length<2)throw new a("actual","expected");te==ne&&E({actual:te,expected:ne,message:ue,operator:"!=",stackStartFn:ee})},C.deepEqual=function ee(te,ne,ue){if(arguments.length<2)throw new a("actual","expected");o===void 0&&w(),o(te,ne)||E({actual:te,expected:ne,message:ue,operator:"deepEqual",stackStartFn:ee})},C.notDeepEqual=function ee(te,ne,ue){if(arguments.length<2)throw new a("actual","expected");o===void 0&&w(),o(te,ne)&&E({actual:te,expected:ne,message:ue,operator:"notDeepEqual",stackStartFn:ee})},C.deepStrictEqual=function ee(te,ne,ue){if(arguments.length<2)throw new a("actual","expected");o===void 0&&w(),d(te,ne)||E({actual:te,expected:ne,message:ue,operator:"deepStrictEqual",stackStartFn:ee})},C.notDeepStrictEqual=T;function T(ee,te,ne){if(arguments.length<2)throw new a("actual","expected");o===void 0&&w(),d(ee,te)&&E({actual:ee,expected:te,message:ne,operator:"notDeepStrictEqual",stackStartFn:T})}C.strictEqual=function ee(te,ne,ue){if(arguments.length<2)throw new a("actual","expected");c(te,ne)||E({actual:te,expected:ne,message:ue,operator:"strictEqual",stackStartFn:ee})},C.notStrictEqual=function ee(te,ne,ue){if(arguments.length<2)throw new a("actual","expected");c(te,ne)&&E({actual:te,expected:ne,message:ue,operator:"notStrictEqual",stackStartFn:ee})};var z=function ee(te,ne,ue){var q=this;i(this,ee),ne.forEach(function(Y){Y in te&&(ue!==void 0&&typeof ue[Y]=="string"&&h(te[Y])&&te[Y].test(ue[Y])?q[Y]=ue[Y]:q[Y]=te[Y])})};function _(ee,te,ne,ue,q,Y){if(!(ne in ee)||!d(ee[ne],te[ne])){if(!ue){var Z=new z(ee,q),G=new z(te,q,ee),K=new n({actual:Z,expected:G,operator:"deepStrictEqual",stackStartFn:Y});throw K.actual=ee,K.expected=te,K.operator=Y.name,K}E({actual:ee,expected:te,message:ue,operator:Y.name,stackStartFn:Y})}}function V(ee,te,ne,ue){if(typeof te!="function"){if(h(te))return te.test(ee);if(arguments.length===2)throw new p("expected",["Function","RegExp"],te);if(L(ee)!=="object"||ee===null){var q=new n({actual:ee,expected:te,message:ne,operator:"deepStrictEqual",stackStartFn:ue});throw q.operator=ue.name,q}var Y=Object.keys(te);if(te instanceof Error)Y.push("name","message");else if(Y.length===0)throw new r("error",te,"may not be an empty object");return o===void 0&&w(),Y.forEach(function(Z){typeof ee[Z]=="string"&&h(te[Z])&&te[Z].test(ee[Z])||_(ee,te,Z,ne,Y,ue)}),!0}return te.prototype!==void 0&&ee instanceof te?!0:Error.isPrototypeOf(te)?!1:te.call({},ee)===!0}function F(ee){if(typeof ee!="function")throw new p("fn","Function",ee);try{ee()}catch(te){return te}return x}function N(ee){return m(ee)||ee!==null&&L(ee)==="object"&&typeof ee.then=="function"&&typeof ee.catch=="function"}function k(ee){return Promise.resolve().then(function(){var te;if(typeof ee=="function"){if(te=ee(),!N(te))throw new t("instance of Promise","promiseFn",te)}else if(N(ee))te=ee;else throw new p("promiseFn",["Function","Promise"],ee);return Promise.resolve().then(function(){return te}).then(function(){return x}).catch(function(ne){return ne})})}function I(ee,te,ne,ue){if(typeof ne=="string"){if(arguments.length===4)throw new p("error",["Object","Error","Function","RegExp"],ne);if(L(te)==="object"&&te!==null){if(te.message===ne)throw new v("error/message",'The error message "'.concat(te.message,'" is identical to the message.'))}else if(te===ne)throw new v("error/message",'The error "'.concat(te,'" is identical to the message.'));ue=ne,ne=void 0}else if(ne!=null&&L(ne)!=="object"&&typeof ne!="function")throw new p("error",["Object","Error","Function","RegExp"],ne);if(te===x){var q="";ne&&ne.name&&(q+=" (".concat(ne.name,")")),q+=ue?": ".concat(ue):".";var Y=ee.name==="rejects"?"rejection":"exception";E({actual:void 0,expected:ne,operator:ee.name,message:"Missing expected ".concat(Y).concat(q),stackStartFn:ee})}if(ne&&!V(te,ne,ue,ee))throw te}function H(ee,te,ne,ue){if(te!==x){if(typeof ne=="string"&&(ue=ne,ne=void 0),!ne||V(te,ne)){var q=ue?": ".concat(ue):".",Y=ee.name==="doesNotReject"?"rejection":"exception";E({actual:te,expected:ne,operator:ee.name,message:"Got unwanted ".concat(Y).concat(q,`
`)+'Actual message: "'.concat(te&&te.message,'"'),stackStartFn:ee})}throw te}}C.throws=function ee(te){for(var ne=arguments.length,ue=new Array(ne>1?ne-1:0),q=1;q<ne;q++)ue[q-1]=arguments[q];I.apply(void 0,[ee,F(te)].concat(ue))},C.rejects=function ee(te){for(var ne=arguments.length,ue=new Array(ne>1?ne-1:0),q=1;q<ne;q++)ue[q-1]=arguments[q];return k(te).then(function(Y){return I.apply(void 0,[ee,Y].concat(ue))})},C.doesNotThrow=function ee(te){for(var ne=arguments.length,ue=new Array(ne>1?ne-1:0),q=1;q<ne;q++)ue[q-1]=arguments[q];H.apply(void 0,[ee,F(te)].concat(ue))},C.doesNotReject=function ee(te){for(var ne=arguments.length,ue=new Array(ne>1?ne-1:0),q=1;q<ne;q++)ue[q-1]=arguments[q];return k(te).then(function(Y){return H.apply(void 0,[ee,Y].concat(ue))})},C.ifError=function ee(te){if(te!=null){var ne="ifError got unwanted exception: ";L(te)==="object"&&typeof te.message=="string"?te.message.length===0&&te.constructor?ne+=te.constructor.name:ne+=te.message:ne+=s(te);var ue=new n({actual:te,expected:null,operator:"ifError",message:ne,stackStartFn:ee}),q=te.stack;if(typeof q=="string"){var Y=q.split(`
`);Y.shift();for(var Z=ue.stack.split(`
`),G=0;G<Y.length;G++){var K=Z.indexOf(Y[G]);if(K!==-1){Z=Z.slice(0,K);break}}ue.stack="".concat(Z.join(`
`),`
`).concat(Y.join(`
`))}throw ue}};function j(){for(var ee=arguments.length,te=new Array(ee),ne=0;ne<ee;ne++)te[ne]=arguments[ne];f.apply(void 0,[j,te.length].concat(te))}C.strict=g(j,C,{equal:C.strictEqual,deepEqual:C.deepStrictEqual,notEqual:C.notStrictEqual,notDeepEqual:C.notDeepStrictEqual}),C.strict.strict=C.strict},26144:function(U,B,e){var y=e(4168);function L(F){for(var N=1;N<arguments.length;N++){var k=arguments[N]!=null?arguments[N]:{},I=Object.keys(k);typeof Object.getOwnPropertySymbols=="function"&&(I=I.concat(Object.getOwnPropertySymbols(k).filter(function(H){return Object.getOwnPropertyDescriptor(k,H).enumerable}))),I.forEach(function(H){i(F,H,k[H])})}return F}function i(F,N,k){return N in F?Object.defineProperty(F,N,{value:k,enumerable:!0,configurable:!0,writable:!0}):F[N]=k,F}function S(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}function b(F,N){for(var k=0;k<N.length;k++){var I=N[k];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(F,I.key,I)}}function v(F,N,k){return N&&b(F.prototype,N),k&&b(F,k),F}function p(F,N){return N&&(h(N)==="object"||typeof N=="function")?N:r(F)}function r(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function t(F,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),N&&l(F,N)}function a(F){var N=typeof Map=="function"?new Map:void 0;return a=function(I){if(I===null||!s(I))return I;if(typeof I!="function")throw new TypeError("Super expression must either be null or a function");if(typeof N<"u"){if(N.has(I))return N.get(I);N.set(I,H)}function H(){return u(I,arguments,m(this).constructor)}return H.prototype=Object.create(I.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),l(H,I)},a(F)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function u(F,N,k){return n()?u=Reflect.construct:u=function(H,j,ee){var te=[null];te.push.apply(te,j);var ne=Function.bind.apply(H,te),ue=new ne;return ee&&l(ue,ee.prototype),ue},u.apply(null,arguments)}function s(F){return Function.toString.call(F).indexOf("[native code]")!==-1}function l(F,N){return l=Object.setPrototypeOf||function(I,H){return I.__proto__=H,I},l(F,N)}function m(F){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)},m(F)}function h(F){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(k){return typeof k}:h=function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},h(F)}var g=e(35840),c=g.inspect,o=e(86832),d=o.codes.ERR_INVALID_ARG_TYPE;function w(F,N,k){return(k===void 0||k>F.length)&&(k=F.length),F.substring(k-N.length,k)===N}function A(F,N){if(N=Math.floor(N),F.length==0||N==0)return"";var k=F.length*N;for(N=Math.floor(Math.log(N)/Math.log(2));N;)F+=F,N--;return F+=F.substring(0,k-F.length),F}var C="",x="",E="",M="",f={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},P=10;function T(F){var N=Object.keys(F),k=Object.create(Object.getPrototypeOf(F));return N.forEach(function(I){k[I]=F[I]}),Object.defineProperty(k,"message",{value:F.message}),k}function z(F){return c(F,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function _(F,N,k){var I="",H="",j=0,ee="",te=!1,ne=z(F),ue=ne.split(`
`),q=z(N).split(`
`),Y=0,Z="";if(k==="strictEqual"&&h(F)==="object"&&h(N)==="object"&&F!==null&&N!==null&&(k="strictEqualObject"),ue.length===1&&q.length===1&&ue[0]!==q[0]){var G=ue[0].length+q[0].length;if(G<=P){if((h(F)!=="object"||F===null)&&(h(N)!=="object"||N===null)&&(F!==0||N!==0))return"".concat(f[k],`

`)+"".concat(ue[0]," !== ").concat(q[0],`
`)}else if(k!=="strictEqualObject"){var K=y.stderr&&y.stderr.isTTY?y.stderr.columns:80;if(G<K){for(;ue[0][Y]===q[0][Y];)Y++;Y>2&&(Z=`
  `.concat(A(" ",Y),"^"),Y=0)}}}for(var oe=ue[ue.length-1],$=q[q.length-1];oe===$&&(Y++<2?ee=`
  `.concat(oe).concat(ee):I=oe,ue.pop(),q.pop(),!(ue.length===0||q.length===0));)oe=ue[ue.length-1],$=q[q.length-1];var J=Math.max(ue.length,q.length);if(J===0){var se=ne.split(`
`);if(se.length>30)for(se[26]="".concat(C,"...").concat(M);se.length>27;)se.pop();return"".concat(f.notIdentical,`

`).concat(se.join(`
`),`
`)}Y>3&&(ee=`
`.concat(C,"...").concat(M).concat(ee),te=!0),I!==""&&(ee=`
  `.concat(I).concat(ee),I="");var ie=0,ce=f[k]+`
`.concat(x,"+ actual").concat(M," ").concat(E,"- expected").concat(M),ye=" ".concat(C,"...").concat(M," Lines skipped");for(Y=0;Y<J;Y++){var Se=Y-j;if(ue.length<Y+1)Se>1&&Y>2&&(Se>4?(H+=`
`.concat(C,"...").concat(M),te=!0):Se>3&&(H+=`
  `.concat(q[Y-2]),ie++),H+=`
  `.concat(q[Y-1]),ie++),j=Y,I+=`
`.concat(E,"-").concat(M," ").concat(q[Y]),ie++;else if(q.length<Y+1)Se>1&&Y>2&&(Se>4?(H+=`
`.concat(C,"...").concat(M),te=!0):Se>3&&(H+=`
  `.concat(ue[Y-2]),ie++),H+=`
  `.concat(ue[Y-1]),ie++),j=Y,H+=`
`.concat(x,"+").concat(M," ").concat(ue[Y]),ie++;else{var Te=q[Y],ke=ue[Y],we=ke!==Te&&(!w(ke,",")||ke.slice(0,-1)!==Te);we&&w(Te,",")&&Te.slice(0,-1)===ke&&(we=!1,ke+=","),we?(Se>1&&Y>2&&(Se>4?(H+=`
`.concat(C,"...").concat(M),te=!0):Se>3&&(H+=`
  `.concat(ue[Y-2]),ie++),H+=`
  `.concat(ue[Y-1]),ie++),j=Y,H+=`
`.concat(x,"+").concat(M," ").concat(ke),I+=`
`.concat(E,"-").concat(M," ").concat(Te),ie+=2):(H+=I,I="",(Se===1||Y===0)&&(H+=`
  `.concat(ke),ie++))}if(ie>20&&Y<J-2)return"".concat(ce).concat(ye,`
`).concat(H,`
`).concat(C,"...").concat(M).concat(I,`
`)+"".concat(C,"...").concat(M)}return"".concat(ce).concat(te?ye:"",`
`).concat(H).concat(I).concat(ee).concat(Z)}var V=function(F){t(N,F);function N(k){var I;if(S(this,N),h(k)!=="object"||k===null)throw new d("options","Object",k);var H=k.message,j=k.operator,ee=k.stackStartFn,te=k.actual,ne=k.expected,ue=Error.stackTraceLimit;if(Error.stackTraceLimit=0,H!=null)I=p(this,m(N).call(this,String(H)));else if(y.stderr&&y.stderr.isTTY&&(y.stderr&&y.stderr.getColorDepth&&y.stderr.getColorDepth()!==1?(C="\x1B[34m",x="\x1B[32m",M="\x1B[39m",E="\x1B[31m"):(C="",x="",M="",E="")),h(te)==="object"&&te!==null&&h(ne)==="object"&&ne!==null&&"stack"in te&&te instanceof Error&&"stack"in ne&&ne instanceof Error&&(te=T(te),ne=T(ne)),j==="deepStrictEqual"||j==="strictEqual")I=p(this,m(N).call(this,_(te,ne,j)));else if(j==="notDeepStrictEqual"||j==="notStrictEqual"){var q=f[j],Y=z(te).split(`
`);if(j==="notStrictEqual"&&h(te)==="object"&&te!==null&&(q=f.notStrictEqualObject),Y.length>30)for(Y[26]="".concat(C,"...").concat(M);Y.length>27;)Y.pop();Y.length===1?I=p(this,m(N).call(this,"".concat(q," ").concat(Y[0]))):I=p(this,m(N).call(this,"".concat(q,`

`).concat(Y.join(`
`),`
`)))}else{var Z=z(te),G="",K=f[j];j==="notDeepEqual"||j==="notEqual"?(Z="".concat(f[j],`

`).concat(Z),Z.length>1024&&(Z="".concat(Z.slice(0,1021),"..."))):(G="".concat(z(ne)),Z.length>512&&(Z="".concat(Z.slice(0,509),"...")),G.length>512&&(G="".concat(G.slice(0,509),"...")),j==="deepEqual"||j==="equal"?Z="".concat(K,`

`).concat(Z,`

should equal

`):G=" ".concat(j," ").concat(G)),I=p(this,m(N).call(this,"".concat(Z).concat(G)))}return Error.stackTraceLimit=ue,I.generatedMessage=!H,Object.defineProperty(r(I),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),I.code="ERR_ASSERTION",I.actual=te,I.expected=ne,I.operator=j,Error.captureStackTrace&&Error.captureStackTrace(r(I),ee),I.stack,I.name="AssertionError",p(I)}return v(N,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:c.custom,value:function(I,H){return c(this,L({},H,{customInspect:!1,depth:0}))}}]),N}(a(Error));U.exports=V},86832:function(U,B,e){function y(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?y=function(c){return typeof c}:y=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},y(h)}function L(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}function i(h,g){return g&&(y(g)==="object"||typeof g=="function")?g:S(h)}function S(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function b(h){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},b(h)}function v(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(g&&g.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),g&&p(h,g)}function p(h,g){return p=Object.setPrototypeOf||function(o,d){return o.__proto__=d,o},p(h,g)}var r={},t,a;function n(h,g,c){c||(c=Error);function o(w,A,C){return typeof g=="string"?g:g(w,A,C)}var d=function(w){v(A,w);function A(C,x,E){var M;return L(this,A),M=i(this,b(A).call(this,o(C,x,E))),M.code=h,M}return A}(c);r[h]=d}function u(h,g){if(Array.isArray(h)){var c=h.length;return h=h.map(function(o){return String(o)}),c>2?"one of ".concat(g," ").concat(h.slice(0,c-1).join(", "),", or ")+h[c-1]:c===2?"one of ".concat(g," ").concat(h[0]," or ").concat(h[1]):"of ".concat(g," ").concat(h[0])}else return"of ".concat(g," ").concat(String(h))}function s(h,g,c){return h.substr(!c||c<0?0:+c,g.length)===g}function l(h,g,c){return(c===void 0||c>h.length)&&(c=h.length),h.substring(c-g.length,c)===g}function m(h,g,c){return typeof c!="number"&&(c=0),c+g.length>h.length?!1:h.indexOf(g,c)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(h,g,c){t===void 0&&(t=e(45408)),t(typeof h=="string","'name' must be a string");var o;typeof g=="string"&&s(g,"not ")?(o="must not be",g=g.replace(/^not /,"")):o="must be";var d;if(l(h," argument"))d="The ".concat(h," ").concat(o," ").concat(u(g,"type"));else{var w=m(h,".")?"property":"argument";d='The "'.concat(h,'" ').concat(w," ").concat(o," ").concat(u(g,"type"))}return d+=". Received type ".concat(y(c)),d},TypeError),n("ERR_INVALID_ARG_VALUE",function(h,g){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";a===void 0&&(a=e(35840));var o=a.inspect(g);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(h,"' ").concat(c,". Received ").concat(o)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(h,g,c){var o;return c&&c.constructor&&c.constructor.name?o="instance of ".concat(c.constructor.name):o="type ".concat(y(c)),"Expected ".concat(h,' to be returned from the "').concat(g,'"')+" function but got ".concat(o,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var h=arguments.length,g=new Array(h),c=0;c<h;c++)g[c]=arguments[c];t===void 0&&(t=e(45408)),t(g.length>0,"At least one arg needs to be specified");var o="The ",d=g.length;switch(g=g.map(function(w){return'"'.concat(w,'"')}),d){case 1:o+="".concat(g[0]," argument");break;case 2:o+="".concat(g[0]," and ").concat(g[1]," arguments");break;default:o+=g.slice(0,d-1).join(", "),o+=", and ".concat(g[d-1]," arguments");break}return"".concat(o," must be specified")},TypeError),U.exports.codes=r},25116:function(U,B,e){function y(Ee,xe){return S(Ee)||i(Ee,xe)||L()}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(Ee,xe){var De=[],Ve=!0,Ue=!1,Be=void 0;try{for(var Xe=Ee[Symbol.iterator](),ot;!(Ve=(ot=Xe.next()).done)&&(De.push(ot.value),!(xe&&De.length===xe));Ve=!0);}catch(ut){Ue=!0,Be=ut}finally{try{!Ve&&Xe.return!=null&&Xe.return()}finally{if(Ue)throw Be}}return De}function S(Ee){if(Array.isArray(Ee))return Ee}function b(Ee){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(De){return typeof De}:b=function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De},b(Ee)}var v=/a/g.flags!==void 0,p=function(xe){var De=[];return xe.forEach(function(Ve){return De.push(Ve)}),De},r=function(xe){var De=[];return xe.forEach(function(Ve,Ue){return De.push([Ue,Ve])}),De},t=Object.is?Object.is:e(39896),a=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(1560);function u(Ee){return Ee.call.bind(Ee)}var s=u(Object.prototype.hasOwnProperty),l=u(Object.prototype.propertyIsEnumerable),m=u(Object.prototype.toString),h=e(35840).types,g=h.isAnyArrayBuffer,c=h.isArrayBufferView,o=h.isDate,d=h.isMap,w=h.isRegExp,A=h.isSet,C=h.isNativeError,x=h.isBoxedPrimitive,E=h.isNumberObject,M=h.isStringObject,f=h.isBooleanObject,P=h.isBigIntObject,T=h.isSymbolObject,z=h.isFloat32Array,_=h.isFloat64Array;function V(Ee){if(Ee.length===0||Ee.length>10)return!0;for(var xe=0;xe<Ee.length;xe++){var De=Ee.charCodeAt(xe);if(De<48||De>57)return!0}return Ee.length===10&&Ee>=Math.pow(2,32)}function F(Ee){return Object.keys(Ee).filter(V).concat(a(Ee).filter(Object.prototype.propertyIsEnumerable.bind(Ee)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function N(Ee,xe){if(Ee===xe)return 0;for(var De=Ee.length,Ve=xe.length,Ue=0,Be=Math.min(De,Ve);Ue<Be;++Ue)if(Ee[Ue]!==xe[Ue]){De=Ee[Ue],Ve=xe[Ue];break}return De<Ve?-1:Ve<De?1:0}var k=!0,I=!1,H=0,j=1,ee=2,te=3;function ne(Ee,xe){return v?Ee.source===xe.source&&Ee.flags===xe.flags:RegExp.prototype.toString.call(Ee)===RegExp.prototype.toString.call(xe)}function ue(Ee,xe){if(Ee.byteLength!==xe.byteLength)return!1;for(var De=0;De<Ee.byteLength;De++)if(Ee[De]!==xe[De])return!1;return!0}function q(Ee,xe){return Ee.byteLength!==xe.byteLength?!1:N(new Uint8Array(Ee.buffer,Ee.byteOffset,Ee.byteLength),new Uint8Array(xe.buffer,xe.byteOffset,xe.byteLength))===0}function Y(Ee,xe){return Ee.byteLength===xe.byteLength&&N(new Uint8Array(Ee),new Uint8Array(xe))===0}function Z(Ee,xe){return E(Ee)?E(xe)&&t(Number.prototype.valueOf.call(Ee),Number.prototype.valueOf.call(xe)):M(Ee)?M(xe)&&String.prototype.valueOf.call(Ee)===String.prototype.valueOf.call(xe):f(Ee)?f(xe)&&Boolean.prototype.valueOf.call(Ee)===Boolean.prototype.valueOf.call(xe):P(Ee)?P(xe)&&BigInt.prototype.valueOf.call(Ee)===BigInt.prototype.valueOf.call(xe):T(xe)&&Symbol.prototype.valueOf.call(Ee)===Symbol.prototype.valueOf.call(xe)}function G(Ee,xe,De,Ve){if(Ee===xe)return Ee!==0?!0:De?t(Ee,xe):!0;if(De){if(b(Ee)!=="object")return typeof Ee=="number"&&n(Ee)&&n(xe);if(b(xe)!=="object"||Ee===null||xe===null||Object.getPrototypeOf(Ee)!==Object.getPrototypeOf(xe))return!1}else{if(Ee===null||b(Ee)!=="object")return xe===null||b(xe)!=="object"?Ee==xe:!1;if(xe===null||b(xe)!=="object")return!1}var Ue=m(Ee),Be=m(xe);if(Ue!==Be)return!1;if(Array.isArray(Ee)){if(Ee.length!==xe.length)return!1;var Xe=F(Ee),ot=F(xe);return Xe.length!==ot.length?!1:oe(Ee,xe,De,Ve,j,Xe)}if(Ue==="[object Object]"&&(!d(Ee)&&d(xe)||!A(Ee)&&A(xe)))return!1;if(o(Ee)){if(!o(xe)||Date.prototype.getTime.call(Ee)!==Date.prototype.getTime.call(xe))return!1}else if(w(Ee)){if(!w(xe)||!ne(Ee,xe))return!1}else if(C(Ee)||Ee instanceof Error){if(Ee.message!==xe.message||Ee.name!==xe.name)return!1}else if(c(Ee)){if(!De&&(z(Ee)||_(Ee))){if(!ue(Ee,xe))return!1}else if(!q(Ee,xe))return!1;var ut=F(Ee),et=F(xe);return ut.length!==et.length?!1:oe(Ee,xe,De,Ve,H,ut)}else{if(A(Ee))return!A(xe)||Ee.size!==xe.size?!1:oe(Ee,xe,De,Ve,ee);if(d(Ee))return!d(xe)||Ee.size!==xe.size?!1:oe(Ee,xe,De,Ve,te);if(g(Ee)){if(!Y(Ee,xe))return!1}else if(x(Ee)&&!Z(Ee,xe))return!1}return oe(Ee,xe,De,Ve,H)}function K(Ee,xe){return xe.filter(function(De){return l(Ee,De)})}function oe(Ee,xe,De,Ve,Ue,Be){if(arguments.length===5){Be=Object.keys(Ee);var Xe=Object.keys(xe);if(Be.length!==Xe.length)return!1}for(var ot=0;ot<Be.length;ot++)if(!s(xe,Be[ot]))return!1;if(De&&arguments.length===5){var ut=a(Ee);if(ut.length!==0){var et=0;for(ot=0;ot<ut.length;ot++){var qe=ut[ot];if(l(Ee,qe)){if(!l(xe,qe))return!1;Be.push(qe),et++}else if(l(xe,qe))return!1}var ft=a(xe);if(ut.length!==ft.length&&K(xe,ft).length!==et)return!1}else{var ht=a(xe);if(ht.length!==0&&K(xe,ht).length!==0)return!1}}if(Be.length===0&&(Ue===H||Ue===j&&Ee.length===0||Ee.size===0))return!0;if(Ve===void 0)Ve={val1:new Map,val2:new Map,position:0};else{var dt=Ve.val1.get(Ee);if(dt!==void 0){var mt=Ve.val2.get(xe);if(mt!==void 0)return dt===mt}Ve.position++}Ve.val1.set(Ee,Ve.position),Ve.val2.set(xe,Ve.position);var St=Te(Ee,xe,De,Be,Ve,Ue);return Ve.val1.delete(Ee),Ve.val2.delete(xe),St}function $(Ee,xe,De,Ve){for(var Ue=p(Ee),Be=0;Be<Ue.length;Be++){var Xe=Ue[Be];if(G(xe,Xe,De,Ve))return Ee.delete(Xe),!0}return!1}function J(Ee){switch(b(Ee)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ee=+Ee;case"number":if(n(Ee))return!1}return!0}function se(Ee,xe,De){var Ve=J(De);return Ve??(xe.has(Ve)&&!Ee.has(Ve))}function ie(Ee,xe,De,Ve,Ue){var Be=J(De);if(Be!=null)return Be;var Xe=xe.get(Be);return Xe===void 0&&!xe.has(Be)||!G(Ve,Xe,!1,Ue)?!1:!Ee.has(Be)&&G(Ve,Xe,!1,Ue)}function ce(Ee,xe,De,Ve){for(var Ue=null,Be=p(Ee),Xe=0;Xe<Be.length;Xe++){var ot=Be[Xe];if(b(ot)==="object"&&ot!==null)Ue===null&&(Ue=new Set),Ue.add(ot);else if(!xe.has(ot)){if(De||!se(Ee,xe,ot))return!1;Ue===null&&(Ue=new Set),Ue.add(ot)}}if(Ue!==null){for(var ut=p(xe),et=0;et<ut.length;et++){var qe=ut[et];if(b(qe)==="object"&&qe!==null){if(!$(Ue,qe,De,Ve))return!1}else if(!De&&!Ee.has(qe)&&!$(Ue,qe,De,Ve))return!1}return Ue.size===0}return!0}function ye(Ee,xe,De,Ve,Ue,Be){for(var Xe=p(Ee),ot=0;ot<Xe.length;ot++){var ut=Xe[ot];if(G(De,ut,Ue,Be)&&G(Ve,xe.get(ut),Ue,Be))return Ee.delete(ut),!0}return!1}function Se(Ee,xe,De,Ve){for(var Ue=null,Be=r(Ee),Xe=0;Xe<Be.length;Xe++){var ot=y(Be[Xe],2),ut=ot[0],et=ot[1];if(b(ut)==="object"&&ut!==null)Ue===null&&(Ue=new Set),Ue.add(ut);else{var qe=xe.get(ut);if(qe===void 0&&!xe.has(ut)||!G(et,qe,De,Ve)){if(De||!ie(Ee,xe,ut,et,Ve))return!1;Ue===null&&(Ue=new Set),Ue.add(ut)}}}if(Ue!==null){for(var ft=r(xe),ht=0;ht<ft.length;ht++){var dt=y(ft[ht],2),ut=dt[0],mt=dt[1];if(b(ut)==="object"&&ut!==null){if(!ye(Ue,Ee,ut,mt,De,Ve))return!1}else if(!De&&(!Ee.has(ut)||!G(Ee.get(ut),mt,!1,Ve))&&!ye(Ue,Ee,ut,mt,!1,Ve))return!1}return Ue.size===0}return!0}function Te(Ee,xe,De,Ve,Ue,Be){var Xe=0;if(Be===ee){if(!ce(Ee,xe,De,Ue))return!1}else if(Be===te){if(!Se(Ee,xe,De,Ue))return!1}else if(Be===j)for(;Xe<Ee.length;Xe++)if(s(Ee,Xe)){if(!s(xe,Xe)||!G(Ee[Xe],xe[Xe],De,Ue))return!1}else{if(s(xe,Xe))return!1;for(var ot=Object.keys(Ee);Xe<ot.length;Xe++){var ut=ot[Xe];if(!s(xe,ut)||!G(Ee[ut],xe[ut],De,Ue))return!1}return ot.length===Object.keys(xe).length}for(Xe=0;Xe<Ve.length;Xe++){var et=Ve[Xe];if(!G(Ee[et],xe[et],De,Ue))return!1}return!0}function ke(Ee,xe){return G(Ee,xe,I)}function we(Ee,xe){return G(Ee,xe,k)}U.exports={isDeepEqual:ke,isDeepStrictEqual:we}},83160:function(U,B,e){e.r(B),e.d(B,{decode:function(){return b},encode:function(){return S}});for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=typeof Uint8Array>"u"?[]:new Uint8Array(256),i=0;i<y.length;i++)L[y.charCodeAt(i)]=i;var S=function(v){var p=new Uint8Array(v),r,t=p.length,a="";for(r=0;r<t;r+=3)a+=y[p[r]>>2],a+=y[(p[r]&3)<<4|p[r+1]>>4],a+=y[(p[r+1]&15)<<2|p[r+2]>>6],a+=y[p[r+2]&63];return t%3===2?a=a.substring(0,a.length-1)+"=":t%3===1&&(a=a.substring(0,a.length-2)+"=="),a},b=function(v){var p=v.length*.75,r=v.length,t,a=0,n,u,s,l;v[v.length-1]==="="&&(p--,v[v.length-2]==="="&&p--);var m=new ArrayBuffer(p),h=new Uint8Array(m);for(t=0;t<r;t+=4)n=L[v.charCodeAt(t)],u=L[v.charCodeAt(t+1)],s=L[v.charCodeAt(t+2)],l=L[v.charCodeAt(t+3)],h[a++]=n<<2|u>>4,h[a++]=(u&15)<<4|s>>2,h[a++]=(s&3)<<6|l&63;return m}},59968:function(U,B){B.byteLength=p,B.toByteArray=t,B.fromByteArray=u;for(var e=[],y=[],L=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0,b=i.length;S<b;++S)e[S]=i[S],y[i.charCodeAt(S)]=S;y[45]=62,y[95]=63;function v(s){var l=s.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=s.indexOf("=");m===-1&&(m=l);var h=m===l?0:4-m%4;return[m,h]}function p(s){var l=v(s),m=l[0],h=l[1];return(m+h)*3/4-h}function r(s,l,m){return(l+m)*3/4-m}function t(s){var l,m=v(s),h=m[0],g=m[1],c=new L(r(s,h,g)),o=0,d=g>0?h-4:h,w;for(w=0;w<d;w+=4)l=y[s.charCodeAt(w)]<<18|y[s.charCodeAt(w+1)]<<12|y[s.charCodeAt(w+2)]<<6|y[s.charCodeAt(w+3)],c[o++]=l>>16&255,c[o++]=l>>8&255,c[o++]=l&255;return g===2&&(l=y[s.charCodeAt(w)]<<2|y[s.charCodeAt(w+1)]>>4,c[o++]=l&255),g===1&&(l=y[s.charCodeAt(w)]<<10|y[s.charCodeAt(w+1)]<<4|y[s.charCodeAt(w+2)]>>2,c[o++]=l>>8&255,c[o++]=l&255),c}function a(s){return e[s>>18&63]+e[s>>12&63]+e[s>>6&63]+e[s&63]}function n(s,l,m){for(var h,g=[],c=l;c<m;c+=3)h=(s[c]<<16&16711680)+(s[c+1]<<8&65280)+(s[c+2]&255),g.push(a(h));return g.join("")}function u(s){for(var l,m=s.length,h=m%3,g=[],c=16383,o=0,d=m-h;o<d;o+=c)g.push(n(s,o,o+c>d?d:o+c));return h===1?(l=s[m-1],g.push(e[l>>2]+e[l<<4&63]+"==")):h===2&&(l=(s[m-2]<<8)+s[m-1],g.push(e[l>>10]+e[l>>4&63]+e[l<<2&63]+"=")),g.join("")}},64928:function(U){function B(b,v,p,r,t){for(var a=t+1;r<=t;){var n=r+t>>>1,u=b[n],s=p!==void 0?p(u,v):u-v;s>=0?(a=n,t=n-1):r=n+1}return a}function e(b,v,p,r,t){for(var a=t+1;r<=t;){var n=r+t>>>1,u=b[n],s=p!==void 0?p(u,v):u-v;s>0?(a=n,t=n-1):r=n+1}return a}function y(b,v,p,r,t){for(var a=r-1;r<=t;){var n=r+t>>>1,u=b[n],s=p!==void 0?p(u,v):u-v;s<0?(a=n,r=n+1):t=n-1}return a}function L(b,v,p,r,t){for(var a=r-1;r<=t;){var n=r+t>>>1,u=b[n],s=p!==void 0?p(u,v):u-v;s<=0?(a=n,r=n+1):t=n-1}return a}function i(b,v,p,r,t){for(;r<=t;){var a=r+t>>>1,n=b[a],u=p!==void 0?p(n,v):n-v;if(u===0)return a;u<=0?r=a+1:t=a-1}return-1}function S(b,v,p,r,t,a){return typeof p=="function"?a(b,v,p,r===void 0?0:r|0,t===void 0?b.length-1:t|0):a(b,v,void 0,p===void 0?0:p|0,r===void 0?b.length-1:r|0)}U.exports={ge:function(b,v,p,r,t){return S(b,v,p,r,t,B)},gt:function(b,v,p,r,t){return S(b,v,p,r,t,e)},lt:function(b,v,p,r,t){return S(b,v,p,r,t,y)},le:function(b,v,p,r,t){return S(b,v,p,r,t,L)},eq:function(b,v,p,r,t){return S(b,v,p,r,t,i)}}},308:function(U,B){"use restrict";var e=32;B.INT_BITS=e,B.INT_MAX=2147483647,B.INT_MIN=-1<<e-1,B.sign=function(i){return(i>0)-(i<0)},B.abs=function(i){var S=i>>e-1;return(i^S)-S},B.min=function(i,S){return S^(i^S)&-(i<S)},B.max=function(i,S){return i^(i^S)&-(i<S)},B.isPow2=function(i){return!(i&i-1)&&!!i},B.log2=function(i){var S,b;return S=(i>65535)<<4,i>>>=S,b=(i>255)<<3,i>>>=b,S|=b,b=(i>15)<<2,i>>>=b,S|=b,b=(i>3)<<1,i>>>=b,S|=b,S|i>>1},B.log10=function(i){return i>=1e9?9:i>=1e8?8:i>=1e7?7:i>=1e6?6:i>=1e5?5:i>=1e4?4:i>=1e3?3:i>=100?2:i>=10?1:0},B.popCount=function(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),(i+(i>>>4)&252645135)*16843009>>>24};function y(i){var S=32;return i&=-i,i&&S--,i&65535&&(S-=16),i&16711935&&(S-=8),i&252645135&&(S-=4),i&858993459&&(S-=2),i&1431655765&&(S-=1),S}B.countTrailingZeros=y,B.nextPow2=function(i){return i+=i===0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1},B.prevPow2=function(i){return i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i-(i>>>1)},B.parity=function(i){return i^=i>>>16,i^=i>>>8,i^=i>>>4,i&=15,27030>>>i&1};var L=new Array(256);(function(i){for(var S=0;S<256;++S){var b=S,v=S,p=7;for(b>>>=1;b;b>>>=1)v<<=1,v|=b&1,--p;i[S]=v<<p&255}})(L),B.reverse=function(i){return L[i&255]<<24|L[i>>>8&255]<<16|L[i>>>16&255]<<8|L[i>>>24&255]},B.interleave2=function(i,S){return i&=65535,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,S&=65535,S=(S|S<<8)&16711935,S=(S|S<<4)&252645135,S=(S|S<<2)&858993459,S=(S|S<<1)&1431655765,i|S<<1},B.deinterleave2=function(i,S){return i=i>>>S&1431655765,i=(i|i>>>1)&858993459,i=(i|i>>>2)&252645135,i=(i|i>>>4)&16711935,i=(i|i>>>16)&65535,i<<16>>16},B.interleave3=function(i,S,b){return i&=1023,i=(i|i<<16)&4278190335,i=(i|i<<8)&251719695,i=(i|i<<4)&3272356035,i=(i|i<<2)&1227133513,S&=1023,S=(S|S<<16)&4278190335,S=(S|S<<8)&251719695,S=(S|S<<4)&3272356035,S=(S|S<<2)&1227133513,i|=S<<1,b&=1023,b=(b|b<<16)&4278190335,b=(b|b<<8)&251719695,b=(b|b<<4)&3272356035,b=(b|b<<2)&1227133513,i|b<<2},B.deinterleave3=function(i,S){return i=i>>>S&1227133513,i=(i|i>>>2)&3272356035,i=(i|i>>>4)&251719695,i=(i|i>>>8)&4278190335,i=(i|i>>>16)&1023,i<<22>>22},B.nextCombination=function(i){var S=i|i-1;return S+1|(~S&-~S)-1>>>y(i)+1}},29620:function(U,B,e){var y=e(32420);U.exports=i;var L=1e20;function i(v,p){p||(p={});var r=p.cutoff==null?.25:p.cutoff,t=p.radius==null?8:p.radius,a=p.channel||0,n,u,s,l,m,h,g,c,o,d,w;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!p.width||!p.height)throw Error("For raw data width and height should be provided by options");n=p.width,u=p.height,l=v,p.stride?h=p.stride:h=Math.floor(v.length/n/u)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(c=v,g=c.getContext("2d"),n=c.width,u=c.height,o=g.getImageData(0,0,n,u),l=o.data,h=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(c=v.canvas,g=v,n=c.width,u=c.height,o=g.getImageData(0,0,n,u),l=o.data,h=4):window.ImageData&&v instanceof window.ImageData&&(o=v,n=v.width,u=v.height,l=o.data,h=4);if(s=Math.max(n,u),window.Uint8ClampedArray&&l instanceof window.Uint8ClampedArray||window.Uint8Array&&l instanceof window.Uint8Array)for(m=l,l=Array(n*u),d=0,w=m.length;d<w;d++)l[d]=m[d*h+a]/255;else if(h!==1)throw Error("Raw data can have only 1 value per pixel");var A=Array(n*u),C=Array(n*u),x=Array(s),E=Array(s),M=Array(s+1),f=Array(s);for(d=0,w=n*u;d<w;d++){var P=l[d];A[d]=P===1?0:P===0?L:Math.pow(Math.max(0,.5-P),2),C[d]=P===1?L:P===0?0:Math.pow(Math.max(0,P-.5),2)}S(A,n,u,x,E,f,M),S(C,n,u,x,E,f,M);var T=window.Float32Array?new Float32Array(n*u):new Array(n*u);for(d=0,w=n*u;d<w;d++)T[d]=y(1-((A[d]-C[d])/t+r),0,1);return T}function S(v,p,r,t,a,n,u){for(var s=0;s<p;s++){for(var l=0;l<r;l++)t[l]=v[l*p+s];for(b(t,a,n,u,r),l=0;l<r;l++)v[l*p+s]=a[l]}for(l=0;l<r;l++){for(s=0;s<p;s++)t[s]=v[l*p+s];for(b(t,a,n,u,p),s=0;s<p;s++)v[l*p+s]=Math.sqrt(a[s])}}function b(v,p,r,t,a){r[0]=0,t[0]=-L,t[1]=+L;for(var n=1,u=0;n<a;n++){for(var s=(v[n]+n*n-(v[r[u]]+r[u]*r[u]))/(2*n-2*r[u]);s<=t[u];)u--,s=(v[n]+n*n-(v[r[u]]+r[u]*r[u]))/(2*n-2*r[u]);u++,r[u]=n,t[u]=s,t[u+1]=+L}for(n=0,u=0;n<a;n++){for(;t[u+1]<n;)u++;p[n]=(n-r[u])*(n-r[u])+v[r[u]]}}},99676:function(U,B,e){var y=e(53664),L=e(57916),i=L(y("String.prototype.indexOf"));U.exports=function(b,v){var p=y(b,!!v);return typeof p=="function"&&i(b,".prototype.")>-1?L(p):p}},57916:function(U,B,e){var y=e(8844),L=e(53664),i=e(14500),S=L("%TypeError%"),b=L("%Function.prototype.apply%"),v=L("%Function.prototype.call%"),p=L("%Reflect.apply%",!0)||y.call(v,b),r=L("%Object.defineProperty%",!0),t=L("%Math.max%");if(r)try{r({},"a",{value:1})}catch{r=null}U.exports=function(u){if(typeof u!="function")throw new S("a function is required");var s=p(y,v,arguments);return i(s,1+t(0,u.length-(arguments.length-1)),!0)};var a=function(){return p(y,b,arguments)};r?r(U.exports,"apply",{value:a}):U.exports.apply=a},32420:function(U){U.exports=B;function B(e,y,L){return y<L?e<y?y:e>L?L:e:e<L?L:e>y?y:e}},3808:function(U,B,e){var y=e(32420);U.exports=L,U.exports.to=L,U.exports.from=i;function L(S,b){b==null&&(b=!0);var v=S[0],p=S[1],r=S[2],t=S[3];t==null&&(t=b?1:255),b&&(v*=255,p*=255,r*=255,t*=255),v=y(v,0,255)&255,p=y(p,0,255)&255,r=y(r,0,255)&255,t=y(t,0,255)&255;var a=v*16777216+(p<<16)+(r<<8)+t;return a}function i(S,b){S=+S;var v=S>>>24,p=(S&16711680)>>>16,r=(S&65280)>>>8,t=S&255;return b===!1?[v,p,r,t]:[v/255,p/255,r/255,t/255]}},17592:function(U){U.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(U,B,e){var y=e(96824),L=e(32420),i=e(72512);U.exports=function(v,p){(p==="float"||!p)&&(p="array"),p==="uint"&&(p="uint8"),p==="uint_clamped"&&(p="uint8_clamped");var r=i(p),t=new r(4),a=p!=="uint8"&&p!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=y(v),v[0]/=255,v[1]/=255,v[2]/=255),S(v)?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:255,a&&(t[0]/=255,t[1]/=255,t[2]/=255,t[3]/=255),t):(a?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:1):(t[0]=L(Math.floor(v[0]*255),0,255),t[1]=L(Math.floor(v[1]*255),0,255),t[2]=L(Math.floor(v[2]*255),0,255),t[3]=v[3]==null?255:L(Math.floor(v[3]*255),0,255)),t)};function S(b){return!!(b instanceof Uint8Array||b instanceof Uint8ClampedArray||Array.isArray(b)&&(b[0]>1||b[0]===0)&&(b[1]>1||b[1]===0)&&(b[2]>1||b[2]===0)&&(!b[3]||b[3]>1))}},96824:function(U,B,e){var y=e(95532),L=e(53576),i=e(32420);U.exports=function(b){var v,p=y(b);return p.space?(v=Array(3),v[0]=i(p.values[0],0,255),v[1]=i(p.values[1],0,255),v[2]=i(p.values[2],0,255),p.space[0]==="h"&&(v=L.rgb(v)),v.push(i(p.alpha,0,1)),v):[]}},95532:function(U,B,e){var y=e(17592);U.exports=i;var L={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function i(S){var b,v=[],p=1,r;if(typeof S=="string")if(S=S.toLowerCase(),y[S])v=y[S].slice(),r="rgb";else if(S==="transparent")p=0,r="rgb",v=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(S)){var t=S.slice(1),a=t.length,n=a<=4;p=1,n?(v=[parseInt(t[0]+t[0],16),parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16)],a===4&&(p=parseInt(t[3]+t[3],16)/255)):(v=[parseInt(t[0]+t[1],16),parseInt(t[2]+t[3],16),parseInt(t[4]+t[5],16)],a===8&&(p=parseInt(t[6]+t[7],16)/255)),v[0]||(v[0]=0),v[1]||(v[1]=0),v[2]||(v[2]=0),r="rgb"}else if(b=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(S)){var u=b[1],s=u==="rgb",t=u.replace(/a$/,"");r=t;var a=t==="cmyk"?4:t==="gray"?1:3;v=b[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(h,g){if(/%$/.test(h))return g===a?parseFloat(h)/100:t==="rgb"?parseFloat(h)*255/100:parseFloat(h);if(t[g]==="h"){if(/deg$/.test(h))return parseFloat(h);if(L[h]!==void 0)return L[h]}return parseFloat(h)}),u===t&&v.push(1),p=s||v[a]===void 0?1:v[a],v=v.slice(0,a)}else S.length>10&&/[0-9](?:\s|\/)/.test(S)&&(v=S.match(/([0-9]+)/g).map(function(l){return parseFloat(l)}),r=S.match(/([a-z])/ig).join("").toLowerCase());else isNaN(S)?Array.isArray(S)||S.length?(v=[S[0],S[1],S[2]],r="rgb",p=S.length===4?S[3]:1):S instanceof Object&&(S.r!=null||S.red!=null||S.R!=null?(r="rgb",v=[S.r||S.red||S.R||0,S.g||S.green||S.G||0,S.b||S.blue||S.B||0]):(r="hsl",v=[S.h||S.hue||S.H||0,S.s||S.saturation||S.S||0,S.l||S.lightness||S.L||S.b||S.brightness]),p=S.a||S.alpha||S.opacity||1,S.opacity!=null&&(p/=100)):(r="rgb",v=[S>>>16,(S&65280)>>>8,S&255]);return{space:r,values:v,alpha:p}}},53576:function(U,B,e){var y=e(19336);U.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(L){var i=L[0]/360,S=L[1]/100,b=L[2]/100,v,p,r,t,a;if(S===0)return a=b*255,[a,a,a];b<.5?p=b*(1+S):p=b+S-b*S,v=2*b-p,t=[0,0,0];for(var n=0;n<3;n++)r=i+.3333333333333333*-(n-1),r<0?r++:r>1&&r--,6*r<1?a=v+(p-v)*6*r:2*r<1?a=p:3*r<2?a=v+(p-v)*(.6666666666666666-r)*6:a=v,t[n]=a*255;return t}},y.hsl=function(L){var i=L[0]/255,S=L[1]/255,b=L[2]/255,v=Math.min(i,S,b),p=Math.max(i,S,b),r=p-v,t,a,n;return p===v?t=0:i===p?t=(S-b)/r:S===p?t=2+(b-i)/r:b===p&&(t=4+(i-S)/r),t=Math.min(t*60,360),t<0&&(t+=360),n=(v+p)/2,p===v?a=0:n<=.5?a=r/(p+v):a=r/(2-p-v),[t,a*100,n*100]}},19336:function(U){U.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(U){U.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|ç)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|é)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|é)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|ã)o.?tom(e|é)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(U,B,e){U.exports={parse:e(46416),stringify:e(49395)}},8744:function(U,B,e){var y=e(30584);U.exports={isSize:function(i){return/^[\d\.]/.test(i)||i.indexOf("/")!==-1||y.indexOf(i)!==-1}}},46416:function(U,B,e){var y=e(92384),L=e(68194),i=e(3748),S=e(2904),b=e(47916),v=e(7294),p=e(39956),r=e(8744).isSize;U.exports=a;var t=a.cache={};function a(u){if(typeof u!="string")throw new Error("Font argument must be a string.");if(t[u])return t[u];if(u==="")throw new Error("Cannot parse an empty string.");if(i.indexOf(u)!==-1)return t[u]={system:u};for(var s={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},l=p(u,/\s+/),m;m=l.shift();){if(L.indexOf(m)!==-1)return["style","variant","weight","stretch"].forEach(function(g){s[g]=m}),t[u]=s;if(b.indexOf(m)!==-1){s.style=m;continue}if(m==="normal"||m==="small-caps"){s.variant=m;continue}if(v.indexOf(m)!==-1){s.stretch=m;continue}if(S.indexOf(m)!==-1){s.weight=m;continue}if(r(m)){var h=p(m,"/");if(s.size=h[0],h[1]!=null?s.lineHeight=n(h[1]):l[0]==="/"&&(l.shift(),s.lineHeight=n(l.shift())),!l.length)throw new Error("Missing required font-family.");return s.family=p(l.join(" "),/\s*,\s*/).map(y),t[u]=s}throw new Error("Unknown or unsupported font token: "+m)}throw new Error("Missing required font-size.")}function n(u){var s=parseFloat(u);return s.toString()===u?s:u}},49395:function(U,B,e){var y=e(55616),L=e(8744).isSize,i=u(e(68194)),S=u(e(3748)),b=u(e(2904)),v=u(e(47916)),p=u(e(7294)),r={normal:1,"small-caps":1},t={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},a={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};U.exports=function(l){if(l=y(l,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),l.system)return l.system&&n(l.system,S),l.system;if(n(l.style,v),n(l.variant,r),n(l.weight,b),n(l.stretch,p),l.size==null&&(l.size=a.size),typeof l.size=="number"&&(l.size+="px"),!L)throw Error("Bad size value `"+l.size+"`");l.family||(l.family=a.family),Array.isArray(l.family)&&(l.family.length||(l.family=[a.family]),l.family=l.family.map(function(h){return t[h]?h:'"'+h+'"'}).join(", "));var m=[];return m.push(l.style),l.variant!==l.style&&m.push(l.variant),l.weight!==l.variant&&l.weight!==l.style&&m.push(l.weight),l.stretch!==l.weight&&l.stretch!==l.variant&&l.stretch!==l.style&&m.push(l.stretch),m.push(l.size+(l.lineHeight==null||l.lineHeight==="normal"||l.lineHeight+""=="1"?"":"/"+l.lineHeight)),m.push(l.family),m.filter(Boolean).join(" ")};function n(s,l){if(s&&!l[s]&&!i[s])throw Error("Unknown keyword `"+s+"`");return s}function u(s){for(var l={},m=0;m<s.length;m++)l[s[m]]=1;return l}},27940:function(U,B,e){var y=e(81680),L=e(18496),i=e(87396),S=e(95920),b=e(50868),v=e(84323),p=Function.prototype.bind,r=Object.defineProperty,t=Object.prototype.hasOwnProperty,a;a=function(n,u,s){var l=L(u)&&i(u.value),m;return m=S(u),delete m.writable,delete m.value,m.get=function(){return!s.overwriteDefinition&&t.call(this,n)?l:(u.value=p.call(l,s.resolveContext?s.resolveContext(this):this),r(this,n,u),this[n])},m},U.exports=function(n){var u=b(arguments[1]);return y(u.resolveContext)&&i(u.resolveContext),v(n,function(s,l){return a(l,s,u)})}},21092:function(U,B,e){var y=e(81680),L=e(85488),i=e(38452),S=e(50868),b=e(71056),v=U.exports=function(p,r){var t,a,n,u,s;return arguments.length<2||typeof p!="string"?(u=r,r=p,p=null):u=arguments[2],y(p)?(t=b.call(p,"c"),a=b.call(p,"e"),n=b.call(p,"w")):(t=n=!0,a=!1),s={value:r,configurable:t,enumerable:a,writable:n},u?i(S(u),s):s};v.gs=function(p,r,t){var a,n,u,s;return typeof p!="string"?(u=t,t=r,r=p,p=null):u=arguments[3],y(r)?L(r)?y(t)?L(t)||(u=t,t=void 0):t=void 0:(u=r,r=t=void 0):r=void 0,y(p)?(a=b.call(p,"c"),n=b.call(p,"e")):(a=!0,n=!1),s={get:r,set:t,configurable:a,enumerable:n},u?i(S(u),s):s}},84706:function(U,B,e){e.d(B,{XE:function(){return y},kv:function(){return S},mo:function(){return v},Uf:function(){return p},SY:function(){return r},ik:function(){return t},oh:function(){return a}});function y(n,u){return n<u?-1:n>u?1:n>=u?0:NaN}function L(n){return n.length===1&&(n=i(n)),{left:function(u,s,l,m){for(l==null&&(l=0),m==null&&(m=u.length);l<m;){var h=l+m>>>1;n(u[h],s)<0?l=h+1:m=h}return l},right:function(u,s,l,m){for(l==null&&(l=0),m==null&&(m=u.length);l<m;){var h=l+m>>>1;n(u[h],s)>0?m=h:l=h+1}return l}}}function i(n){return function(u,s){return y(n(u),s)}}L(y);function S(n,u){var s=n.length,l=-1,m,h;if(u==null){for(;++l<s;)if((m=n[l])!=null&&m>=m)for(h=m;++l<s;)(m=n[l])!=null&&m>h&&(h=m)}else for(;++l<s;)if((m=u(n[l],l,n))!=null&&m>=m)for(h=m;++l<s;)(m=u(n[l],l,n))!=null&&m>h&&(h=m);return h}function b(n){return n===null?NaN:+n}function v(n,u){var s=n.length,l=s,m=-1,h,g=0;if(u==null)for(;++m<s;)isNaN(h=b(n[m]))?--l:g+=h;else for(;++m<s;)isNaN(h=b(u(n[m],m,n)))?--l:g+=h;if(l)return g/l}function p(n){for(var u=n.length,s,l=-1,m=0,h,g;++l<u;)m+=n[l].length;for(h=new Array(m);--u>=0;)for(g=n[u],s=g.length;--s>=0;)h[--m]=g[s];return h}function r(n,u){var s=n.length,l=-1,m,h;if(u==null){for(;++l<s;)if((m=n[l])!=null&&m>=m)for(h=m;++l<s;)(m=n[l])!=null&&h>m&&(h=m)}else for(;++l<s;)if((m=u(n[l],l,n))!=null&&m>=m)for(h=m;++l<s;)(m=u(n[l],l,n))!=null&&h>m&&(h=m);return h}function t(n,u,s){n=+n,u=+u,s=(m=arguments.length)<2?(u=n,n=0,1):m<3?1:+s;for(var l=-1,m=Math.max(0,Math.ceil((u-n)/s))|0,h=new Array(m);++l<m;)h[l]=n+l*s;return h}function a(n,u){var s=n.length,l=-1,m,h=0;if(u==null)for(;++l<s;)(m=+n[l])&&(h+=m);else for(;++l<s;)(m=+u(n[l],l,n))&&(h+=m);return h}},34712:function(U,B,e){e.d(B,{kH:function(){return S},UJ:function(){return b}});var y="$";function L(){}L.prototype=i.prototype={constructor:L,has:function(u){return y+u in this},get:function(u){return this[y+u]},set:function(u,s){return this[y+u]=s,this},remove:function(u){var s=y+u;return s in this&&delete this[s]},clear:function(){for(var u in this)u[0]===y&&delete this[u]},keys:function(){var u=[];for(var s in this)s[0]===y&&u.push(s.slice(1));return u},values:function(){var u=[];for(var s in this)s[0]===y&&u.push(this[s]);return u},entries:function(){var u=[];for(var s in this)s[0]===y&&u.push({key:s.slice(1),value:this[s]});return u},size:function(){var u=0;for(var s in this)s[0]===y&&++u;return u},empty:function(){for(var u in this)if(u[0]===y)return!1;return!0},each:function(u){for(var s in this)s[0]===y&&u(this[s],s.slice(1),this)}};function i(u,s){var l=new L;if(u instanceof L)u.each(function(o,d){l.set(d,o)});else if(Array.isArray(u)){var m=-1,h=u.length,g;if(s==null)for(;++m<h;)l.set(m,u[m]);else for(;++m<h;)l.set(s(g=u[m],m,u),g)}else if(u)for(var c in u)l.set(c,u[c]);return l}var S=i;function b(){var u=[],s=[],l,m,h;function g(o,d,w,A){if(d>=u.length)return l!=null&&o.sort(l),m!=null?m(o):o;for(var C=-1,x=o.length,E=u[d++],M,f,P=S(),T,z=w();++C<x;)(T=P.get(M=E(f=o[C])+""))?T.push(f):P.set(M,[f]);return P.each(function(_,V){A(z,V,g(_,d,w,A))}),z}function c(o,d){if(++d>u.length)return o;var w,A=s[d-1];return m!=null&&d>=u.length?w=o.entries():(w=[],o.each(function(C,x){w.push({key:x,values:c(C,d)})})),A!=null?w.sort(function(C,x){return A(C.key,x.key)}):w}return h={object:function(o){return g(o,0,v,p)},map:function(o){return g(o,0,r,t)},entries:function(o){return c(g(o,0,r,t),0)},key:function(o){return u.push(o),h},sortKeys:function(o){return s[u.length-1]=o,h},sortValues:function(o){return l=o,h},rollup:function(o){return m=o,h}}}function v(){return{}}function p(u,s,l){u[s]=l}function r(){return S()}function t(u,s,l){u.set(s,l)}function a(){}var n=S.prototype;a.prototype={constructor:a,has:n.has,add:function(u){return u+="",this[y+u]=u,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49812:function(U,B,e){e.r(B),e.d(B,{forceCenter:function(){return y},forceCollide:function(){return P},forceLink:function(){return V},forceManyBody:function(){return Xe},forceRadial:function(){return ot},forceSimulation:function(){return Be},forceX:function(){return ut},forceY:function(){return et}});function y(qe,ft){var ht;qe==null&&(qe=0),ft==null&&(ft=0);function dt(){var mt,St=ht.length,rt,Oe=0,Ye=0;for(mt=0;mt<St;++mt)rt=ht[mt],Oe+=rt.x,Ye+=rt.y;for(Oe=Oe/St-qe,Ye=Ye/St-ft,mt=0;mt<St;++mt)rt=ht[mt],rt.x-=Oe,rt.y-=Ye}return dt.initialize=function(mt){ht=mt},dt.x=function(mt){return arguments.length?(qe=+mt,dt):qe},dt.y=function(mt){return arguments.length?(ft=+mt,dt):ft},dt}function L(qe){return function(){return qe}}function i(){return(Math.random()-.5)*1e-6}function S(qe){var ft=+this._x.call(null,qe),ht=+this._y.call(null,qe);return b(this.cover(ft,ht),ft,ht,qe)}function b(qe,ft,ht,dt){if(isNaN(ft)||isNaN(ht))return qe;var mt,St=qe._root,rt={data:dt},Oe=qe._x0,Ye=qe._y0,Ze=qe._x1,Ge=qe._y1,_e,be,me,Ce,Me,Ne,je,tt;if(!St)return qe._root=rt,qe;for(;St.length;)if((Me=ft>=(_e=(Oe+Ze)/2))?Oe=_e:Ze=_e,(Ne=ht>=(be=(Ye+Ge)/2))?Ye=be:Ge=be,mt=St,!(St=St[je=Ne<<1|Me]))return mt[je]=rt,qe;if(me=+qe._x.call(null,St.data),Ce=+qe._y.call(null,St.data),ft===me&&ht===Ce)return rt.next=St,mt?mt[je]=rt:qe._root=rt,qe;do mt=mt?mt[je]=new Array(4):qe._root=new Array(4),(Me=ft>=(_e=(Oe+Ze)/2))?Oe=_e:Ze=_e,(Ne=ht>=(be=(Ye+Ge)/2))?Ye=be:Ge=be;while((je=Ne<<1|Me)===(tt=(Ce>=be)<<1|me>=_e));return mt[tt]=St,mt[je]=rt,qe}function v(qe){var ft,ht,dt=qe.length,mt,St,rt=new Array(dt),Oe=new Array(dt),Ye=1/0,Ze=1/0,Ge=-1/0,_e=-1/0;for(ht=0;ht<dt;++ht)isNaN(mt=+this._x.call(null,ft=qe[ht]))||isNaN(St=+this._y.call(null,ft))||(rt[ht]=mt,Oe[ht]=St,mt<Ye&&(Ye=mt),mt>Ge&&(Ge=mt),St<Ze&&(Ze=St),St>_e&&(_e=St));if(Ye>Ge||Ze>_e)return this;for(this.cover(Ye,Ze).cover(Ge,_e),ht=0;ht<dt;++ht)b(this,rt[ht],Oe[ht],qe[ht]);return this}function p(qe,ft){if(isNaN(qe=+qe)||isNaN(ft=+ft))return this;var ht=this._x0,dt=this._y0,mt=this._x1,St=this._y1;if(isNaN(ht))mt=(ht=Math.floor(qe))+1,St=(dt=Math.floor(ft))+1;else{for(var rt=mt-ht,Oe=this._root,Ye,Ze;ht>qe||qe>=mt||dt>ft||ft>=St;)switch(Ze=(ft<dt)<<1|qe<ht,Ye=new Array(4),Ye[Ze]=Oe,Oe=Ye,rt*=2,Ze){case 0:mt=ht+rt,St=dt+rt;break;case 1:ht=mt-rt,St=dt+rt;break;case 2:mt=ht+rt,dt=St-rt;break;case 3:ht=mt-rt,dt=St-rt;break}this._root&&this._root.length&&(this._root=Oe)}return this._x0=ht,this._y0=dt,this._x1=mt,this._y1=St,this}function r(){var qe=[];return this.visit(function(ft){if(!ft.length)do qe.push(ft.data);while(ft=ft.next)}),qe}function t(qe){return arguments.length?this.cover(+qe[0][0],+qe[0][1]).cover(+qe[1][0],+qe[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function a(qe,ft,ht,dt,mt){this.node=qe,this.x0=ft,this.y0=ht,this.x1=dt,this.y1=mt}function n(qe,ft,ht){var dt,mt=this._x0,St=this._y0,rt,Oe,Ye,Ze,Ge=this._x1,_e=this._y1,be=[],me=this._root,Ce,Me;for(me&&be.push(new a(me,mt,St,Ge,_e)),ht==null?ht=1/0:(mt=qe-ht,St=ft-ht,Ge=qe+ht,_e=ft+ht,ht*=ht);Ce=be.pop();)if(!(!(me=Ce.node)||(rt=Ce.x0)>Ge||(Oe=Ce.y0)>_e||(Ye=Ce.x1)<mt||(Ze=Ce.y1)<St))if(me.length){var Ne=(rt+Ye)/2,je=(Oe+Ze)/2;be.push(new a(me[3],Ne,je,Ye,Ze),new a(me[2],rt,je,Ne,Ze),new a(me[1],Ne,Oe,Ye,je),new a(me[0],rt,Oe,Ne,je)),(Me=(ft>=je)<<1|qe>=Ne)&&(Ce=be[be.length-1],be[be.length-1]=be[be.length-1-Me],be[be.length-1-Me]=Ce)}else{var tt=qe-+this._x.call(null,me.data),ct=ft-+this._y.call(null,me.data),pt=tt*tt+ct*ct;if(pt<ht){var Xt=Math.sqrt(ht=pt);mt=qe-Xt,St=ft-Xt,Ge=qe+Xt,_e=ft+Xt,dt=me.data}}return dt}function u(qe){if(isNaN(Ge=+this._x.call(null,qe))||isNaN(_e=+this._y.call(null,qe)))return this;var ft,ht=this._root,dt,mt,St,rt=this._x0,Oe=this._y0,Ye=this._x1,Ze=this._y1,Ge,_e,be,me,Ce,Me,Ne,je;if(!ht)return this;if(ht.length)for(;;){if((Ce=Ge>=(be=(rt+Ye)/2))?rt=be:Ye=be,(Me=_e>=(me=(Oe+Ze)/2))?Oe=me:Ze=me,ft=ht,!(ht=ht[Ne=Me<<1|Ce]))return this;if(!ht.length)break;(ft[Ne+1&3]||ft[Ne+2&3]||ft[Ne+3&3])&&(dt=ft,je=Ne)}for(;ht.data!==qe;)if(mt=ht,!(ht=ht.next))return this;return(St=ht.next)&&delete ht.next,mt?(St?mt.next=St:delete mt.next,this):ft?(St?ft[Ne]=St:delete ft[Ne],(ht=ft[0]||ft[1]||ft[2]||ft[3])&&ht===(ft[3]||ft[2]||ft[1]||ft[0])&&!ht.length&&(dt?dt[je]=ht:this._root=ht),this):(this._root=St,this)}function s(qe){for(var ft=0,ht=qe.length;ft<ht;++ft)this.remove(qe[ft]);return this}function l(){return this._root}function m(){var qe=0;return this.visit(function(ft){if(!ft.length)do++qe;while(ft=ft.next)}),qe}function h(qe){var ft=[],ht,dt=this._root,mt,St,rt,Oe,Ye;for(dt&&ft.push(new a(dt,this._x0,this._y0,this._x1,this._y1));ht=ft.pop();)if(!qe(dt=ht.node,St=ht.x0,rt=ht.y0,Oe=ht.x1,Ye=ht.y1)&&dt.length){var Ze=(St+Oe)/2,Ge=(rt+Ye)/2;(mt=dt[3])&&ft.push(new a(mt,Ze,Ge,Oe,Ye)),(mt=dt[2])&&ft.push(new a(mt,St,Ge,Ze,Ye)),(mt=dt[1])&&ft.push(new a(mt,Ze,rt,Oe,Ge)),(mt=dt[0])&&ft.push(new a(mt,St,rt,Ze,Ge))}return this}function g(qe){var ft=[],ht=[],dt;for(this._root&&ft.push(new a(this._root,this._x0,this._y0,this._x1,this._y1));dt=ft.pop();){var mt=dt.node;if(mt.length){var St,rt=dt.x0,Oe=dt.y0,Ye=dt.x1,Ze=dt.y1,Ge=(rt+Ye)/2,_e=(Oe+Ze)/2;(St=mt[0])&&ft.push(new a(St,rt,Oe,Ge,_e)),(St=mt[1])&&ft.push(new a(St,Ge,Oe,Ye,_e)),(St=mt[2])&&ft.push(new a(St,rt,_e,Ge,Ze)),(St=mt[3])&&ft.push(new a(St,Ge,_e,Ye,Ze))}ht.push(dt)}for(;dt=ht.pop();)qe(dt.node,dt.x0,dt.y0,dt.x1,dt.y1);return this}function c(qe){return qe[0]}function o(qe){return arguments.length?(this._x=qe,this):this._x}function d(qe){return qe[1]}function w(qe){return arguments.length?(this._y=qe,this):this._y}function A(qe,ft,ht){var dt=new C(ft??c,ht??d,NaN,NaN,NaN,NaN);return qe==null?dt:dt.addAll(qe)}function C(qe,ft,ht,dt,mt,St){this._x=qe,this._y=ft,this._x0=ht,this._y0=dt,this._x1=mt,this._y1=St,this._root=void 0}function x(qe){for(var ft={data:qe.data},ht=ft;qe=qe.next;)ht=ht.next={data:qe.data};return ft}var E=A.prototype=C.prototype;E.copy=function(){var qe=new C(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ft=this._root,ht,dt;if(!ft)return qe;if(!ft.length)return qe._root=x(ft),qe;for(ht=[{source:ft,target:qe._root=new Array(4)}];ft=ht.pop();)for(var mt=0;mt<4;++mt)(dt=ft.source[mt])&&(dt.length?ht.push({source:dt,target:ft.target[mt]=new Array(4)}):ft.target[mt]=x(dt));return qe},E.add=S,E.addAll=v,E.cover=p,E.data=r,E.extent=t,E.find=n,E.remove=u,E.removeAll=s,E.root=l,E.size=m,E.visit=h,E.visitAfter=g,E.x=o,E.y=w;function M(qe){return qe.x+qe.vx}function f(qe){return qe.y+qe.vy}function P(qe){var ft,ht,dt=1,mt=1;typeof qe!="function"&&(qe=L(qe==null?1:+qe));function St(){for(var Ye,Ze=ft.length,Ge,_e,be,me,Ce,Me,Ne=0;Ne<mt;++Ne)for(Ge=A(ft,M,f).visitAfter(rt),Ye=0;Ye<Ze;++Ye)_e=ft[Ye],Ce=ht[_e.index],Me=Ce*Ce,be=_e.x+_e.vx,me=_e.y+_e.vy,Ge.visit(je);function je(tt,ct,pt,Xt,Yt){var Tt=tt.data,_t=tt.r,Qt=Ce+_t;if(Tt){if(Tt.index>_e.index){var wr=be-Tt.x-Tt.vx,xt=me-Tt.y-Tt.vy,jt=wr*wr+xt*xt;jt<Qt*Qt&&(wr===0&&(wr=i(),jt+=wr*wr),xt===0&&(xt=i(),jt+=xt*xt),jt=(Qt-(jt=Math.sqrt(jt)))/jt*dt,_e.vx+=(wr*=jt)*(Qt=(_t*=_t)/(Me+_t)),_e.vy+=(xt*=jt)*Qt,Tt.vx-=wr*(Qt=1-Qt),Tt.vy-=xt*Qt)}return}return ct>be+Qt||Xt<be-Qt||pt>me+Qt||Yt<me-Qt}}function rt(Ye){if(Ye.data)return Ye.r=ht[Ye.data.index];for(var Ze=Ye.r=0;Ze<4;++Ze)Ye[Ze]&&Ye[Ze].r>Ye.r&&(Ye.r=Ye[Ze].r)}function Oe(){if(ft){var Ye,Ze=ft.length,Ge;for(ht=new Array(Ze),Ye=0;Ye<Ze;++Ye)Ge=ft[Ye],ht[Ge.index]=+qe(Ge,Ye,ft)}}return St.initialize=function(Ye){ft=Ye,Oe()},St.iterations=function(Ye){return arguments.length?(mt=+Ye,St):mt},St.strength=function(Ye){return arguments.length?(dt=+Ye,St):dt},St.radius=function(Ye){return arguments.length?(qe=typeof Ye=="function"?Ye:L(+Ye),Oe(),St):qe},St}var T=e(34712);function z(qe){return qe.index}function _(qe,ft){var ht=qe.get(ft);if(!ht)throw new Error("missing: "+ft);return ht}function V(qe){var ft=z,ht=Ge,dt,mt=L(30),St,rt,Oe,Ye,Ze=1;qe==null&&(qe=[]);function Ge(Me){return 1/Math.min(Oe[Me.source.index],Oe[Me.target.index])}function _e(Me){for(var Ne=0,je=qe.length;Ne<Ze;++Ne)for(var tt=0,ct,pt,Xt,Yt,Tt,_t,Qt;tt<je;++tt)ct=qe[tt],pt=ct.source,Xt=ct.target,Yt=Xt.x+Xt.vx-pt.x-pt.vx||i(),Tt=Xt.y+Xt.vy-pt.y-pt.vy||i(),_t=Math.sqrt(Yt*Yt+Tt*Tt),_t=(_t-St[tt])/_t*Me*dt[tt],Yt*=_t,Tt*=_t,Xt.vx-=Yt*(Qt=Ye[tt]),Xt.vy-=Tt*Qt,pt.vx+=Yt*(Qt=1-Qt),pt.vy+=Tt*Qt}function be(){if(rt){var Me,Ne=rt.length,je=qe.length,tt=(0,T.kH)(rt,ft),ct;for(Me=0,Oe=new Array(Ne);Me<je;++Me)ct=qe[Me],ct.index=Me,typeof ct.source!="object"&&(ct.source=_(tt,ct.source)),typeof ct.target!="object"&&(ct.target=_(tt,ct.target)),Oe[ct.source.index]=(Oe[ct.source.index]||0)+1,Oe[ct.target.index]=(Oe[ct.target.index]||0)+1;for(Me=0,Ye=new Array(je);Me<je;++Me)ct=qe[Me],Ye[Me]=Oe[ct.source.index]/(Oe[ct.source.index]+Oe[ct.target.index]);dt=new Array(je),me(),St=new Array(je),Ce()}}function me(){if(rt)for(var Me=0,Ne=qe.length;Me<Ne;++Me)dt[Me]=+ht(qe[Me],Me,qe)}function Ce(){if(rt)for(var Me=0,Ne=qe.length;Me<Ne;++Me)St[Me]=+mt(qe[Me],Me,qe)}return _e.initialize=function(Me){rt=Me,be()},_e.links=function(Me){return arguments.length?(qe=Me,be(),_e):qe},_e.id=function(Me){return arguments.length?(ft=Me,_e):ft},_e.iterations=function(Me){return arguments.length?(Ze=+Me,_e):Ze},_e.strength=function(Me){return arguments.length?(ht=typeof Me=="function"?Me:L(+Me),me(),_e):ht},_e.distance=function(Me){return arguments.length?(mt=typeof Me=="function"?Me:L(+Me),Ce(),_e):mt},_e}var F={value:function(){}};function N(){for(var qe=0,ft=arguments.length,ht={},dt;qe<ft;++qe){if(!(dt=arguments[qe]+"")||dt in ht||/[\s.]/.test(dt))throw new Error("illegal type: "+dt);ht[dt]=[]}return new k(ht)}function k(qe){this._=qe}function I(qe,ft){return qe.trim().split(/^|\s+/).map(function(ht){var dt="",mt=ht.indexOf(".");if(mt>=0&&(dt=ht.slice(mt+1),ht=ht.slice(0,mt)),ht&&!ft.hasOwnProperty(ht))throw new Error("unknown type: "+ht);return{type:ht,name:dt}})}k.prototype=N.prototype={constructor:k,on:function(qe,ft){var ht=this._,dt=I(qe+"",ht),mt,St=-1,rt=dt.length;if(arguments.length<2){for(;++St<rt;)if((mt=(qe=dt[St]).type)&&(mt=H(ht[mt],qe.name)))return mt;return}if(ft!=null&&typeof ft!="function")throw new Error("invalid callback: "+ft);for(;++St<rt;)if(mt=(qe=dt[St]).type)ht[mt]=j(ht[mt],qe.name,ft);else if(ft==null)for(mt in ht)ht[mt]=j(ht[mt],qe.name,null);return this},copy:function(){var qe={},ft=this._;for(var ht in ft)qe[ht]=ft[ht].slice();return new k(qe)},call:function(qe,ft){if((mt=arguments.length-2)>0)for(var ht=new Array(mt),dt=0,mt,St;dt<mt;++dt)ht[dt]=arguments[dt+2];if(!this._.hasOwnProperty(qe))throw new Error("unknown type: "+qe);for(St=this._[qe],dt=0,mt=St.length;dt<mt;++dt)St[dt].value.apply(ft,ht)},apply:function(qe,ft,ht){if(!this._.hasOwnProperty(qe))throw new Error("unknown type: "+qe);for(var dt=this._[qe],mt=0,St=dt.length;mt<St;++mt)dt[mt].value.apply(ft,ht)}};function H(qe,ft){for(var ht=0,dt=qe.length,mt;ht<dt;++ht)if((mt=qe[ht]).name===ft)return mt.value}function j(qe,ft,ht){for(var dt=0,mt=qe.length;dt<mt;++dt)if(qe[dt].name===ft){qe[dt]=F,qe=qe.slice(0,dt).concat(qe.slice(dt+1));break}return ht!=null&&qe.push({name:ft,value:ht}),qe}var ee=N,te=0,ne=0,ue=0,q=1e3,Y,Z,G=0,K=0,oe=0,$=typeof performance=="object"&&performance.now?performance:Date,J=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(qe){setTimeout(qe,17)};function se(){return K||(J(ie),K=$.now()+oe)}function ie(){K=0}function ce(){this._call=this._time=this._next=null}ce.prototype=ye.prototype={constructor:ce,restart:function(qe,ft,ht){if(typeof qe!="function")throw new TypeError("callback is not a function");ht=(ht==null?se():+ht)+(ft==null?0:+ft),!this._next&&Z!==this&&(Z?Z._next=this:Y=this,Z=this),this._call=qe,this._time=ht,Ee()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ee())}};function ye(qe,ft,ht){var dt=new ce;return dt.restart(qe,ft,ht),dt}function Se(){se(),++te;for(var qe=Y,ft;qe;)(ft=K-qe._time)>=0&&qe._call.call(null,ft),qe=qe._next;--te}function Te(){K=(G=$.now())+oe,te=ne=0;try{Se()}finally{te=0,we(),K=0}}function ke(){var qe=$.now(),ft=qe-G;ft>q&&(oe-=ft,G=qe)}function we(){for(var qe,ft=Y,ht,dt=1/0;ft;)ft._call?(dt>ft._time&&(dt=ft._time),qe=ft,ft=ft._next):(ht=ft._next,ft._next=null,ft=qe?qe._next=ht:Y=ht);Z=qe,Ee(dt)}function Ee(qe){if(!te){ne&&(ne=clearTimeout(ne));var ft=qe-K;ft>24?(qe<1/0&&(ne=setTimeout(Te,qe-$.now()-oe)),ue&&(ue=clearInterval(ue))):(ue||(G=$.now(),ue=setInterval(ke,q)),te=1,J(Te))}}function xe(qe){return qe.x}function De(qe){return qe.y}var Ve=10,Ue=Math.PI*(3-Math.sqrt(5));function Be(qe){var ft,ht=1,dt=.001,mt=1-Math.pow(dt,1/300),St=0,rt=.6,Oe=(0,T.kH)(),Ye=ye(Ge),Ze=ee("tick","end");qe==null&&(qe=[]);function Ge(){_e(),Ze.call("tick",ft),ht<dt&&(Ye.stop(),Ze.call("end",ft))}function _e(Ce){var Me,Ne=qe.length,je;Ce===void 0&&(Ce=1);for(var tt=0;tt<Ce;++tt)for(ht+=(St-ht)*mt,Oe.each(function(ct){ct(ht)}),Me=0;Me<Ne;++Me)je=qe[Me],je.fx==null?je.x+=je.vx*=rt:(je.x=je.fx,je.vx=0),je.fy==null?je.y+=je.vy*=rt:(je.y=je.fy,je.vy=0);return ft}function be(){for(var Ce=0,Me=qe.length,Ne;Ce<Me;++Ce){if(Ne=qe[Ce],Ne.index=Ce,Ne.fx!=null&&(Ne.x=Ne.fx),Ne.fy!=null&&(Ne.y=Ne.fy),isNaN(Ne.x)||isNaN(Ne.y)){var je=Ve*Math.sqrt(Ce),tt=Ce*Ue;Ne.x=je*Math.cos(tt),Ne.y=je*Math.sin(tt)}(isNaN(Ne.vx)||isNaN(Ne.vy))&&(Ne.vx=Ne.vy=0)}}function me(Ce){return Ce.initialize&&Ce.initialize(qe),Ce}return be(),ft={tick:_e,restart:function(){return Ye.restart(Ge),ft},stop:function(){return Ye.stop(),ft},nodes:function(Ce){return arguments.length?(qe=Ce,be(),Oe.each(me),ft):qe},alpha:function(Ce){return arguments.length?(ht=+Ce,ft):ht},alphaMin:function(Ce){return arguments.length?(dt=+Ce,ft):dt},alphaDecay:function(Ce){return arguments.length?(mt=+Ce,ft):+mt},alphaTarget:function(Ce){return arguments.length?(St=+Ce,ft):St},velocityDecay:function(Ce){return arguments.length?(rt=1-Ce,ft):1-rt},force:function(Ce,Me){return arguments.length>1?(Me==null?Oe.remove(Ce):Oe.set(Ce,me(Me)),ft):Oe.get(Ce)},find:function(Ce,Me,Ne){var je=0,tt=qe.length,ct,pt,Xt,Yt,Tt;for(Ne==null?Ne=1/0:Ne*=Ne,je=0;je<tt;++je)Yt=qe[je],ct=Ce-Yt.x,pt=Me-Yt.y,Xt=ct*ct+pt*pt,Xt<Ne&&(Tt=Yt,Ne=Xt);return Tt},on:function(Ce,Me){return arguments.length>1?(Ze.on(Ce,Me),ft):Ze.on(Ce)}}}function Xe(){var qe,ft,ht,dt=L(-30),mt,St=1,rt=1/0,Oe=.81;function Ye(be){var me,Ce=qe.length,Me=A(qe,xe,De).visitAfter(Ge);for(ht=be,me=0;me<Ce;++me)ft=qe[me],Me.visit(_e)}function Ze(){if(qe){var be,me=qe.length,Ce;for(mt=new Array(me),be=0;be<me;++be)Ce=qe[be],mt[Ce.index]=+dt(Ce,be,qe)}}function Ge(be){var me=0,Ce,Me,Ne=0,je,tt,ct;if(be.length){for(je=tt=ct=0;ct<4;++ct)(Ce=be[ct])&&(Me=Math.abs(Ce.value))&&(me+=Ce.value,Ne+=Me,je+=Me*Ce.x,tt+=Me*Ce.y);be.x=je/Ne,be.y=tt/Ne}else{Ce=be,Ce.x=Ce.data.x,Ce.y=Ce.data.y;do me+=mt[Ce.data.index];while(Ce=Ce.next)}be.value=me}function _e(be,me,Ce,Me){if(!be.value)return!0;var Ne=be.x-ft.x,je=be.y-ft.y,tt=Me-me,ct=Ne*Ne+je*je;if(tt*tt/Oe<ct)return ct<rt&&(Ne===0&&(Ne=i(),ct+=Ne*Ne),je===0&&(je=i(),ct+=je*je),ct<St&&(ct=Math.sqrt(St*ct)),ft.vx+=Ne*be.value*ht/ct,ft.vy+=je*be.value*ht/ct),!0;if(be.length||ct>=rt)return;(be.data!==ft||be.next)&&(Ne===0&&(Ne=i(),ct+=Ne*Ne),je===0&&(je=i(),ct+=je*je),ct<St&&(ct=Math.sqrt(St*ct)));do be.data!==ft&&(tt=mt[be.data.index]*ht/ct,ft.vx+=Ne*tt,ft.vy+=je*tt);while(be=be.next)}return Ye.initialize=function(be){qe=be,Ze()},Ye.strength=function(be){return arguments.length?(dt=typeof be=="function"?be:L(+be),Ze(),Ye):dt},Ye.distanceMin=function(be){return arguments.length?(St=be*be,Ye):Math.sqrt(St)},Ye.distanceMax=function(be){return arguments.length?(rt=be*be,Ye):Math.sqrt(rt)},Ye.theta=function(be){return arguments.length?(Oe=be*be,Ye):Math.sqrt(Oe)},Ye}function ot(qe,ft,ht){var dt,mt=L(.1),St,rt;typeof qe!="function"&&(qe=L(+qe)),ft==null&&(ft=0),ht==null&&(ht=0);function Oe(Ze){for(var Ge=0,_e=dt.length;Ge<_e;++Ge){var be=dt[Ge],me=be.x-ft||1e-6,Ce=be.y-ht||1e-6,Me=Math.sqrt(me*me+Ce*Ce),Ne=(rt[Ge]-Me)*St[Ge]*Ze/Me;be.vx+=me*Ne,be.vy+=Ce*Ne}}function Ye(){if(dt){var Ze,Ge=dt.length;for(St=new Array(Ge),rt=new Array(Ge),Ze=0;Ze<Ge;++Ze)rt[Ze]=+qe(dt[Ze],Ze,dt),St[Ze]=isNaN(rt[Ze])?0:+mt(dt[Ze],Ze,dt)}}return Oe.initialize=function(Ze){dt=Ze,Ye()},Oe.strength=function(Ze){return arguments.length?(mt=typeof Ze=="function"?Ze:L(+Ze),Ye(),Oe):mt},Oe.radius=function(Ze){return arguments.length?(qe=typeof Ze=="function"?Ze:L(+Ze),Ye(),Oe):qe},Oe.x=function(Ze){return arguments.length?(ft=+Ze,Oe):ft},Oe.y=function(Ze){return arguments.length?(ht=+Ze,Oe):ht},Oe}function ut(qe){var ft=L(.1),ht,dt,mt;typeof qe!="function"&&(qe=L(qe==null?0:+qe));function St(Oe){for(var Ye=0,Ze=ht.length,Ge;Ye<Ze;++Ye)Ge=ht[Ye],Ge.vx+=(mt[Ye]-Ge.x)*dt[Ye]*Oe}function rt(){if(ht){var Oe,Ye=ht.length;for(dt=new Array(Ye),mt=new Array(Ye),Oe=0;Oe<Ye;++Oe)dt[Oe]=isNaN(mt[Oe]=+qe(ht[Oe],Oe,ht))?0:+ft(ht[Oe],Oe,ht)}}return St.initialize=function(Oe){ht=Oe,rt()},St.strength=function(Oe){return arguments.length?(ft=typeof Oe=="function"?Oe:L(+Oe),rt(),St):ft},St.x=function(Oe){return arguments.length?(qe=typeof Oe=="function"?Oe:L(+Oe),rt(),St):qe},St}function et(qe){var ft=L(.1),ht,dt,mt;typeof qe!="function"&&(qe=L(qe==null?0:+qe));function St(Oe){for(var Ye=0,Ze=ht.length,Ge;Ye<Ze;++Ye)Ge=ht[Ye],Ge.vy+=(mt[Ye]-Ge.y)*dt[Ye]*Oe}function rt(){if(ht){var Oe,Ye=ht.length;for(dt=new Array(Ye),mt=new Array(Ye),Oe=0;Oe<Ye;++Oe)dt[Oe]=isNaN(mt[Oe]=+qe(ht[Oe],Oe,ht))?0:+ft(ht[Oe],Oe,ht)}}return St.initialize=function(Oe){ht=Oe,rt()},St.strength=function(Oe){return arguments.length?(ft=typeof Oe=="function"?Oe:L(+Oe),rt(),St):ft},St.y=function(Oe){return arguments.length?(qe=typeof Oe=="function"?Oe:L(+Oe),rt(),St):qe},St}},57624:function(U,B,e){e.d(B,{E9:function(){return o},SO:function(){return g}});function y(w){return Math.abs(w=Math.round(w))>=1e21?w.toLocaleString("en").replace(/,/g,""):w.toString(10)}function L(w,A){if((C=(w=A?w.toExponential(A-1):w.toExponential()).indexOf("e"))<0)return null;var C,x=w.slice(0,C);return[x.length>1?x[0]+x.slice(2):x,+w.slice(C+1)]}function i(w){return w=L(Math.abs(w)),w?w[1]:NaN}function S(w,A){return function(C,x){for(var E=C.length,M=[],f=0,P=w[0],T=0;E>0&&P>0&&(T+P+1>x&&(P=Math.max(1,x-T)),M.push(C.substring(E-=P,E+P)),!((T+=P+1)>x));)P=w[f=(f+1)%w.length];return M.reverse().join(A)}}function b(w){return function(A){return A.replace(/[0-9]/g,function(C){return w[+C]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function p(w){if(!(A=v.exec(w)))throw new Error("invalid format: "+w);var A;return new r({fill:A[1],align:A[2],sign:A[3],symbol:A[4],zero:A[5],width:A[6],comma:A[7],precision:A[8]&&A[8].slice(1),trim:A[9],type:A[10]})}p.prototype=r.prototype;function r(w){this.fill=w.fill===void 0?" ":w.fill+"",this.align=w.align===void 0?">":w.align+"",this.sign=w.sign===void 0?"-":w.sign+"",this.symbol=w.symbol===void 0?"":w.symbol+"",this.zero=!!w.zero,this.width=w.width===void 0?void 0:+w.width,this.comma=!!w.comma,this.precision=w.precision===void 0?void 0:+w.precision,this.trim=!!w.trim,this.type=w.type===void 0?"":w.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t(w){e:for(var A=w.length,C=1,x=-1,E;C<A;++C)switch(w[C]){case".":x=E=C;break;case"0":x===0&&(x=C),E=C;break;default:if(!+w[C])break e;x>0&&(x=0);break}return x>0?w.slice(0,x)+w.slice(E+1):w}var a;function n(w,A){var C=L(w,A);if(!C)return w+"";var x=C[0],E=C[1],M=E-(a=Math.max(-8,Math.min(8,Math.floor(E/3)))*3)+1,f=x.length;return M===f?x:M>f?x+new Array(M-f+1).join("0"):M>0?x.slice(0,M)+"."+x.slice(M):"0."+new Array(1-M).join("0")+L(w,Math.max(0,A+M-1))[0]}function u(w,A){var C=L(w,A);if(!C)return w+"";var x=C[0],E=C[1];return E<0?"0."+new Array(-E).join("0")+x:x.length>E+1?x.slice(0,E+1)+"."+x.slice(E+1):x+new Array(E-x.length+2).join("0")}var s={"%":function(w,A){return(w*100).toFixed(A)},b:function(w){return Math.round(w).toString(2)},c:function(w){return w+""},d:y,e:function(w,A){return w.toExponential(A)},f:function(w,A){return w.toFixed(A)},g:function(w,A){return w.toPrecision(A)},o:function(w){return Math.round(w).toString(8)},p:function(w,A){return u(w*100,A)},r:u,s:n,X:function(w){return Math.round(w).toString(16).toUpperCase()},x:function(w){return Math.round(w).toString(16)}};function l(w){return w}var m=Array.prototype.map,h=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function g(w){var A=w.grouping===void 0||w.thousands===void 0?l:S(m.call(w.grouping,Number),w.thousands+""),C=w.currency===void 0?"":w.currency[0]+"",x=w.currency===void 0?"":w.currency[1]+"",E=w.decimal===void 0?".":w.decimal+"",M=w.numerals===void 0?l:b(m.call(w.numerals,String)),f=w.percent===void 0?"%":w.percent+"",P=w.minus===void 0?"-":w.minus+"",T=w.nan===void 0?"NaN":w.nan+"";function z(V){V=p(V);var F=V.fill,N=V.align,k=V.sign,I=V.symbol,H=V.zero,j=V.width,ee=V.comma,te=V.precision,ne=V.trim,ue=V.type;ue==="n"?(ee=!0,ue="g"):s[ue]||(te===void 0&&(te=12),ne=!0,ue="g"),(H||F==="0"&&N==="=")&&(H=!0,F="0",N="=");var q=I==="$"?C:I==="#"&&/[boxX]/.test(ue)?"0"+ue.toLowerCase():"",Y=I==="$"?x:/[%p]/.test(ue)?f:"",Z=s[ue],G=/[defgprs%]/.test(ue);te=te===void 0?6:/[gprs]/.test(ue)?Math.max(1,Math.min(21,te)):Math.max(0,Math.min(20,te));function K(oe){var $=q,J=Y,se,ie,ce;if(ue==="c")J=Z(oe)+J,oe="";else{oe=+oe;var ye=oe<0||1/oe<0;if(oe=isNaN(oe)?T:Z(Math.abs(oe),te),ne&&(oe=t(oe)),ye&&+oe==0&&k!=="+"&&(ye=!1),$=(ye?k==="("?k:P:k==="-"||k==="("?"":k)+$,J=(ue==="s"?h[8+a/3]:"")+J+(ye&&k==="("?")":""),G){for(se=-1,ie=oe.length;++se<ie;)if(ce=oe.charCodeAt(se),48>ce||ce>57){J=(ce===46?E+oe.slice(se+1):oe.slice(se))+J,oe=oe.slice(0,se);break}}}ee&&!H&&(oe=A(oe,1/0));var Se=$.length+oe.length+J.length,Te=Se<j?new Array(j-Se+1).join(F):"";switch(ee&&H&&(oe=A(Te+oe,Te.length?j-J.length:1/0),Te=""),N){case"<":oe=$+oe+J+Te;break;case"=":oe=$+Te+oe+J;break;case"^":oe=Te.slice(0,Se=Te.length>>1)+$+oe+J+Te.slice(Se);break;default:oe=Te+$+oe+J;break}return M(oe)}return K.toString=function(){return V+""},K}function _(V,F){var N=z((V=p(V),V.type="f",V)),k=Math.max(-8,Math.min(8,Math.floor(i(F)/3)))*3,I=Math.pow(10,-k),H=h[8+k/3];return function(j){return N(I*j)+H}}return{format:z,formatPrefix:_}}var c,o;d({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function d(w){return c=g(w),o=c.format,c.formatPrefix,c}},87108:function(U,B,e){e.r(B),e.d(B,{geoAiry:function(){return H},geoAiryRaw:function(){return I},geoAitoff:function(){return ee},geoAitoffRaw:function(){return j},geoArmadillo:function(){return ne},geoArmadilloRaw:function(){return te},geoAugust:function(){return q},geoAugustRaw:function(){return ue},geoBaker:function(){return K},geoBakerRaw:function(){return G},geoBerghaus:function(){return J},geoBerghausRaw:function(){return $},geoBertin1953:function(){return we},geoBertin1953Raw:function(){return ke},geoBoggs:function(){return ot},geoBoggsRaw:function(){return Xe},geoBonne:function(){return ht},geoBonneRaw:function(){return ft},geoBottomley:function(){return mt},geoBottomleyRaw:function(){return dt},geoBromley:function(){return rt},geoBromleyRaw:function(){return St},geoChamberlin:function(){return Me},geoChamberlinAfrica:function(){return Ce},geoChamberlinRaw:function(){return be},geoCollignon:function(){return je},geoCollignonRaw:function(){return Ne},geoCraig:function(){return ct},geoCraigRaw:function(){return tt},geoCraster:function(){return Yt},geoCrasterRaw:function(){return Xt},geoCylindricalEqualArea:function(){return _t},geoCylindricalEqualAreaRaw:function(){return Tt},geoCylindricalStereographic:function(){return wr},geoCylindricalStereographicRaw:function(){return Qt},geoEckert1:function(){return jt},geoEckert1Raw:function(){return xt},geoEckert2:function(){return gr},geoEckert2Raw:function(){return Jt},geoEckert3:function(){return yt},geoEckert3Raw:function(){return or},geoEckert4:function(){return wt},geoEckert4Raw:function(){return at},geoEckert5:function(){return Rt},geoEckert5Raw:function(){return Et},geoEckert6:function(){return Ut},geoEckert6Raw:function(){return Dt},geoEisenlohr:function(){return ur},geoEisenlohrRaw:function(){return Kt},geoFahey:function(){return We},geoFaheyRaw:function(){return vr},geoFoucaut:function(){return zt},geoFoucautRaw:function(){return He},geoFoucautSinusoidal:function(){return Zt},geoFoucautSinusoidalRaw:function(){return kt},geoGilbert:function(){return cr},geoGingery:function(){return Gr},geoGingeryRaw:function(){return pr},geoGinzburg4:function(){return cn},geoGinzburg4Raw:function(){return Ir},geoGinzburg5:function(){return Cn},geoGinzburg5Raw:function(){return rn},geoGinzburg6:function(){return Tr},geoGinzburg6Raw:function(){return Sn},geoGinzburg8:function(){return Wr},geoGinzburg8Raw:function(){return Lr},geoGinzburg9:function(){return an},geoGinzburg9Raw:function(){return Ur},geoGringorten:function(){return ni},geoGringortenQuincuncial:function(){return xh},geoGringortenRaw:function(){return gn},geoGuyou:function(){return dn},geoGuyouRaw:function(){return br},geoHammer:function(){return ye},geoHammerRaw:function(){return ie},geoHammerRetroazimuthal:function(){return Nn},geoHammerRetroazimuthalRaw:function(){return wn},geoHealpix:function(){return sn},geoHealpixRaw:function(){return Ar},geoHill:function(){return jr},geoHillRaw:function(){return Er},geoHomolosine:function(){return Bn},geoHomolosineRaw:function(){return Pn},geoHufnagel:function(){return yi},geoHufnagelRaw:function(){return zn},geoHyperelliptical:function(){return ga},geoHyperellipticalRaw:function(){return Pi},geoInterrupt:function(){return ro},geoInterruptedBoggs:function(){return hf},geoInterruptedHomolosine:function(){return ea},geoInterruptedMollweide:function(){return vf},geoInterruptedMollweideHemispheres:function(){return To},geoInterruptedQuarticAuthalic:function(){return Gs},geoInterruptedSinuMollweide:function(){return Nu},geoInterruptedSinusoidal:function(){return Pl},geoKavrayskiy7:function(){return Ga},geoKavrayskiy7Raw:function(){return Fa},geoLagrange:function(){return no},geoLagrangeRaw:function(){return Dl},geoLarrivee:function(){return qf},geoLarriveeRaw:function(){return Bo},geoLaskowski:function(){return ah},geoLaskowskiRaw:function(){return Ro},geoLittrow:function(){return Qa},geoLittrowRaw:function(){return ds},geoLoximuthal:function(){return Hs},geoLoximuthalRaw:function(){return df},geoMiller:function(){return pf},geoMillerRaw:function(){return ps},geoModifiedStereographic:function(){return sl},geoModifiedStereographicAlaska:function(){return gf},geoModifiedStereographicGs48:function(){return fh},geoModifiedStereographicGs50:function(){return ch},geoModifiedStereographicLee:function(){return rc},geoModifiedStereographicMiller:function(){return tc},geoModifiedStereographicRaw:function(){return ec},geoMollweide:function(){return Ve},geoMollweideRaw:function(){return De},geoMtFlatPolarParabolic:function(){return nc},geoMtFlatPolarParabolicRaw:function(){return su},geoMtFlatPolarQuartic:function(){return hh},geoMtFlatPolarQuarticRaw:function(){return Ls},geoMtFlatPolarSinusoidal:function(){return ic},geoMtFlatPolarSinusoidalRaw:function(){return Uu},geoNaturalEarth:function(){return ac.c},geoNaturalEarth2:function(){return Qo},geoNaturalEarth2Raw:function(){return Vu},geoNaturalEarthRaw:function(){return ac.g},geoNellHammer:function(){return ll},geoNellHammerRaw:function(){return Il},geoNicolosi:function(){return yf},geoNicolosiRaw:function(){return gs},geoPatterson:function(){return zl},geoPattersonRaw:function(){return Gu},geoPeirceQuincuncial:function(){return cc},geoPierceQuincuncial:function(){return cc},geoPolyconic:function(){return dh},geoPolyconicRaw:function(){return Wu},geoPolyhedral:function(){return ya},geoPolyhedralButterfly:function(){return fu},geoPolyhedralCollignon:function(){return fl},geoPolyhedralWaterman:function(){return Xs},geoProject:function(){return yh},geoQuantize:function(){return hc},geoQuincuncial:function(){return Rs},geoRectangularPolyconic:function(){return vc},geoRectangularPolyconicRaw:function(){return Mf},geoRobinson:function(){return Ys},geoRobinsonRaw:function(){return ns},geoSatellite:function(){return cl},geoSatelliteRaw:function(){return Zu},geoSinuMollweide:function(){return Ln},geoSinuMollweideRaw:function(){return bn},geoSinusoidal:function(){return qe},geoSinusoidalRaw:function(){return et},geoStitch:function(){return yu},geoTimes:function(){return Wa},geoTimesRaw:function(){return Ks},geoTwoPointAzimuthal:function(){return Qu},geoTwoPointAzimuthalRaw:function(){return Ef},geoTwoPointAzimuthalUsa:function(){return vl},geoTwoPointEquidistant:function(){return gc},geoTwoPointEquidistantRaw:function(){return mu},geoTwoPointEquidistantUsa:function(){return bh},geoVanDerGrinten:function(){return xu},geoVanDerGrinten2:function(){return yc},geoVanDerGrinten2Raw:function(){return Xl},geoVanDerGrinten3:function(){return wh},geoVanDerGrinten3Raw:function(){return Js},geoVanDerGrinten4:function(){return bu},geoVanDerGrinten4Raw:function(){return _o},geoVanDerGrintenRaw:function(){return go},geoWagner:function(){return Qs},geoWagner4:function(){return mc},geoWagner4Raw:function(){return qu},geoWagner6:function(){return Lf},geoWagner6Raw:function(){return Au},geoWagner7:function(){return Cf},geoWagnerRaw:function(){return ks},geoWiechel:function(){return Pf},geoWiechelRaw:function(){return dl},geoWinkel3:function(){return xc},geoWinkel3Raw:function(){return Mu}});var y=e(87952),L=Math.abs,i=Math.atan,S=Math.atan2,b=Math.cos,v=Math.exp,p=Math.floor,r=Math.log,t=Math.max,a=Math.min,n=Math.pow,u=Math.round,s=Math.sign||function(Je){return Je>0?1:Je<0?-1:0},l=Math.sin,m=Math.tan,h=1e-6,g=1e-12,c=Math.PI,o=c/2,d=c/4,w=Math.SQRT1_2,A=z(2),C=z(c),x=c*2,E=180/c,M=c/180;function f(Je){return Je?Je/Math.sin(Je):1}function P(Je){return Je>1?o:Je<-1?-o:Math.asin(Je)}function T(Je){return Je>1?0:Je<-1?c:Math.acos(Je)}function z(Je){return Je>0?Math.sqrt(Je):0}function _(Je){return Je=v(2*Je),(Je-1)/(Je+1)}function V(Je){return(v(Je)-v(-Je))/2}function F(Je){return(v(Je)+v(-Je))/2}function N(Je){return r(Je+z(Je*Je+1))}function k(Je){return r(Je+z(Je*Je-1))}function I(Je){var it=m(Je/2),gt=2*r(b(Je/2))/(it*it);function bt(Ot,It){var Bt=b(Ot),dr=b(It),xr=l(It),ir=dr*Bt,Mr=-((1-ir?r((1+ir)/2)/(1-ir):-.5)+gt/(1+ir));return[Mr*dr*l(Ot),Mr*xr]}return bt.invert=function(Ot,It){var Bt=z(Ot*Ot+It*It),dr=-Je/2,xr=50,ir;if(!Bt)return[0,0];do{var Mr=dr/2,_r=b(Mr),Nr=l(Mr),tn=Nr/_r,mn=-r(L(_r));dr-=ir=(2/tn*mn-gt*tn-Bt)/(-mn/(Nr*Nr)+1-gt/(2*_r*_r))*(_r<0?.7:1)}while(L(ir)>h&&--xr>0);var Dn=l(dr);return[S(Ot*Dn,Bt*b(dr)),P(It*Dn/Bt)]},bt}function H(){var Je=o,it=(0,y.U)(I),gt=it(Je);return gt.radius=function(bt){return arguments.length?it(Je=bt*M):Je*E},gt.scale(179.976).clipAngle(147)}function j(Je,it){var gt=b(it),bt=f(T(gt*b(Je/=2)));return[2*gt*l(Je)*bt,l(it)*bt]}j.invert=function(Je,it){if(!(Je*Je+4*it*it>c*c+h)){var gt=Je,bt=it,Ot=25;do{var It=l(gt),Bt=l(gt/2),dr=b(gt/2),xr=l(bt),ir=b(bt),Mr=l(2*bt),_r=xr*xr,Nr=ir*ir,tn=Bt*Bt,mn=1-Nr*dr*dr,Dn=mn?T(ir*dr)*z(Rn=1/mn):Rn=0,Rn,Yn=2*Dn*ir*Bt-Je,Di=Dn*xr-it,Ri=Rn*(Nr*tn+Dn*ir*dr*_r),Ii=Rn*(.5*It*Mr-Dn*2*xr*Bt),Fi=Rn*.25*(Mr*Bt-Dn*xr*Nr*It),Zi=Rn*(_r*dr+Dn*tn*ir),da=Ii*Fi-Zi*Ri;if(!da)break;var za=(Di*Ii-Yn*Zi)/da,fe=(Yn*Fi-Di*Ri)/da;gt-=za,bt-=fe}while((L(za)>h||L(fe)>h)&&--Ot>0);return[gt,bt]}};function ee(){return(0,y.c)(j).scale(152.63)}function te(Je){var it=l(Je),gt=b(Je),bt=Je>=0?1:-1,Ot=m(bt*Je),It=(1+it-gt)/2;function Bt(dr,xr){var ir=b(xr),Mr=b(dr/=2);return[(1+ir)*l(dr),(bt*xr>-S(Mr,Ot)-.001?0:-bt*10)+It+l(xr)*gt-(1+ir)*it*Mr]}return Bt.invert=function(dr,xr){var ir=0,Mr=0,_r=50;do{var Nr=b(ir),tn=l(ir),mn=b(Mr),Dn=l(Mr),Rn=1+mn,Yn=Rn*tn-dr,Di=It+Dn*gt-Rn*it*Nr-xr,Ri=Rn*Nr/2,Ii=-tn*Dn,Fi=it*Rn*tn/2,Zi=gt*mn+it*Nr*Dn,da=Ii*Fi-Zi*Ri,za=(Di*Ii-Yn*Zi)/da/2,fe=(Yn*Fi-Di*Ri)/da;L(fe)>2&&(fe/=2),ir-=za,Mr-=fe}while((L(za)>h||L(fe)>h)&&--_r>0);return bt*Mr>-S(b(ir),Ot)-.001?[ir*2,Mr]:null},Bt}function ne(){var Je=20*M,it=Je>=0?1:-1,gt=m(it*Je),bt=(0,y.U)(te),Ot=bt(Je),It=Ot.stream;return Ot.parallel=function(Bt){return arguments.length?(gt=m((it=(Je=Bt*M)>=0?1:-1)*Je),bt(Je)):Je*E},Ot.stream=function(Bt){var dr=Ot.rotate(),xr=It(Bt),ir=(Ot.rotate([0,0]),It(Bt)),Mr=Ot.precision();return Ot.rotate(dr),xr.sphere=function(){ir.polygonStart(),ir.lineStart();for(var _r=it*-180;it*_r<180;_r+=it*90)ir.point(_r,it*90);if(Je)for(;it*(_r-=3*it*Mr)>=-180;)ir.point(_r,it*-S(b(_r*M/2),gt)*E);ir.lineEnd(),ir.polygonEnd()},xr},Ot.scale(218.695).center([0,28.0974])}function ue(Je,it){var gt=m(it/2),bt=z(1-gt*gt),Ot=1+bt*b(Je/=2),It=l(Je)*bt/Ot,Bt=gt/Ot,dr=It*It,xr=Bt*Bt;return[1.3333333333333333*It*(3+dr-3*xr),1.3333333333333333*Bt*(3+3*dr-xr)]}ue.invert=function(Je,it){if(Je*=.375,it*=.375,!Je&&L(it)>1)return null;var gt=Je*Je,bt=it*it,Ot=1+gt+bt,It=z((Ot-z(Ot*Ot-4*it*it))/2),Bt=P(It)/3,dr=It?k(L(it/It))/3:N(L(Je))/3,xr=b(Bt),ir=F(dr),Mr=ir*ir-xr*xr;return[s(Je)*2*S(V(dr)*xr,.25-Mr),s(it)*2*S(ir*l(Bt),.25+Mr)]};function q(){return(0,y.c)(ue).scale(66.1603)}var Y=z(8),Z=r(1+A);function G(Je,it){var gt=L(it);return gt<d?[Je,r(m(d+it/2))]:[Je*b(gt)*(2*A-1/l(gt)),s(it)*(2*A*(gt-d)-r(m(gt/2)))]}G.invert=function(Je,it){if((It=L(it))<Z)return[Je,2*i(v(it))-o];var gt=d,bt=25,Ot,It;do{var Bt=b(gt/2),dr=m(gt/2);gt-=Ot=(Y*(gt-d)-r(dr)-It)/(Y-Bt*Bt/(2*dr))}while(L(Ot)>g&&--bt>0);return[Je/(b(gt)*(Y-1/l(gt))),s(it)*gt]};function K(){return(0,y.c)(G).scale(112.314)}var oe=e(69020);function $(Je){var it=2*c/Je;function gt(bt,Ot){var It=(0,oe.O)(bt,Ot);if(L(bt)>o){var Bt=S(It[1],It[0]),dr=z(It[0]*It[0]+It[1]*It[1]),xr=it*u((Bt-o)/it)+o,ir=S(l(Bt-=xr),2-b(Bt));Bt=xr+P(c/dr*l(ir))-ir,It[0]=dr*b(Bt),It[1]=dr*l(Bt)}return It}return gt.invert=function(bt,Ot){var It=z(bt*bt+Ot*Ot);if(It>o){var Bt=S(Ot,bt),dr=it*u((Bt-o)/it)+o,xr=Bt>dr?-1:1,ir=It*b(dr-Bt),Mr=1/m(xr*T((ir-c)/z(c*(c-2*ir)+It*It)));Bt=dr+2*i((Mr+xr*z(Mr*Mr-3))/3),bt=It*b(Bt),Ot=It*l(Bt)}return oe.O.invert(bt,Ot)},gt}function J(){var Je=5,it=(0,y.U)($),gt=it(Je),bt=gt.stream,Ot=.01,It=-b(Ot*M),Bt=l(Ot*M);return gt.lobes=function(dr){return arguments.length?it(Je=+dr):Je},gt.stream=function(dr){var xr=gt.rotate(),ir=bt(dr),Mr=(gt.rotate([0,0]),bt(dr));return gt.rotate(xr),ir.sphere=function(){Mr.polygonStart(),Mr.lineStart();for(var _r=0,Nr=360/Je,tn=2*c/Je,mn=90-180/Je,Dn=o;_r<Je;++_r,mn-=Nr,Dn-=tn)Mr.point(S(Bt*b(Dn),It)*E,P(Bt*l(Dn))*E),mn<-90?(Mr.point(-90,-180-mn-Ot),Mr.point(-90,-180-mn+Ot)):(Mr.point(90,mn+Ot),Mr.point(90,mn-Ot));Mr.lineEnd(),Mr.polygonEnd()},ir},gt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var se=e(54724);function ie(Je,it){if(arguments.length<2&&(it=Je),it===1)return se.y;if(it===1/0)return ce;function gt(bt,Ot){var It=(0,se.y)(bt/it,Ot);return It[0]*=Je,It}return gt.invert=function(bt,Ot){var It=se.y.invert(bt/Je,Ot);return It[0]*=it,It},gt}function ce(Je,it){return[Je*b(it)/b(it/=2),2*l(it)]}ce.invert=function(Je,it){var gt=2*P(it/2);return[Je*b(gt/2)/b(gt),gt]};function ye(){var Je=2,it=(0,y.U)(ie),gt=it(Je);return gt.coefficient=function(bt){return arguments.length?it(Je=+bt):Je},gt.scale(169.529)}function Se(Je,it,gt){var bt=100,Ot,It,Bt;gt=gt===void 0?0:+gt,it=+it;do It=Je(gt),Bt=Je(gt+h),It===Bt&&(Bt=It+h),gt-=Ot=-1*h*(It-it)/(It-Bt);while(bt-- >0&&L(Ot)>h);return bt<0?NaN:gt}function Te(Je,it,gt){return it===void 0&&(it=40),gt===void 0&&(gt=g),function(bt,Ot,It,Bt){var dr,xr,ir;It=It===void 0?0:+It,Bt=Bt===void 0?0:+Bt;for(var Mr=0;Mr<it;Mr++){var _r=Je(It,Bt),Nr=_r[0]-bt,tn=_r[1]-Ot;if(L(Nr)<gt&&L(tn)<gt)break;var mn=Nr*Nr+tn*tn;if(mn>dr){It-=xr/=2,Bt-=ir/=2;continue}dr=mn;var Dn=(It>0?-1:1)*gt,Rn=(Bt>0?-1:1)*gt,Yn=Je(It+Dn,Bt),Di=Je(It,Bt+Rn),Ri=(Yn[0]-_r[0])/Dn,Ii=(Yn[1]-_r[1])/Dn,Fi=(Di[0]-_r[0])/Rn,Zi=(Di[1]-_r[1])/Rn,da=Zi*Ri-Ii*Fi,za=(L(da)<.5?.5:1)/da;if(xr=(tn*Fi-Nr*Zi)*za,ir=(Nr*Ii-tn*Ri)*za,It+=xr,Bt+=ir,L(xr)<gt&&L(ir)<gt)break}return[It,Bt]}}function ke(){var Je=ie(1.68,2),it=1.4,gt=12;function bt(Ot,It){if(Ot+It<-it){var Bt=(Ot-It+1.6)*(Ot+It+it)/8;Ot+=Bt,It-=.8*Bt*l(It+c/2)}var dr=Je(Ot,It),xr=(1-b(Ot*It))/gt;return dr[1]<0&&(dr[0]*=1+xr),dr[1]>0&&(dr[1]*=1+xr/1.5*dr[0]*dr[0]),dr}return bt.invert=Te(bt),bt}function we(){return(0,y.c)(ke()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Ee(Je,it){var gt=Je*l(it),bt=30,Ot;do it-=Ot=(it+l(it)-gt)/(1+b(it));while(L(Ot)>h&&--bt>0);return it/2}function xe(Je,it,gt){function bt(Ot,It){return[Je*Ot*b(It=Ee(gt,It)),it*l(It)]}return bt.invert=function(Ot,It){return It=P(It/it),[Ot/(Je*b(It)),P((2*It+l(2*It))/gt)]},bt}var De=xe(A/o,A,c);function Ve(){return(0,y.c)(De).scale(169.529)}var Ue=2.00276,Be=1.11072;function Xe(Je,it){var gt=Ee(c,it);return[Ue*Je/(1/b(it)+Be/b(gt)),(it+A*l(gt))/Ue]}Xe.invert=function(Je,it){var gt=Ue*it,bt=it<0?-d:d,Ot=25,It,Bt;do Bt=gt-A*l(bt),bt-=It=(l(2*bt)+2*bt-c*l(Bt))/(2*b(2*bt)+2+c*b(Bt)*A*b(bt));while(L(It)>h&&--Ot>0);return Bt=gt-A*l(bt),[Je*(1/b(Bt)+Be/b(bt))/Ue,Bt]};function ot(){return(0,y.c)(Xe).scale(160.857)}function ut(Je){var it=0,gt=(0,y.U)(Je),bt=gt(it);return bt.parallel=function(Ot){return arguments.length?gt(it=Ot*M):it*E},bt}function et(Je,it){return[Je*b(it),it]}et.invert=function(Je,it){return[Je/b(it),it]};function qe(){return(0,y.c)(et).scale(152.63)}function ft(Je){if(!Je)return et;var it=1/m(Je);function gt(bt,Ot){var It=it+Je-Ot,Bt=It&&bt*b(Ot)/It;return[It*l(Bt),it-It*b(Bt)]}return gt.invert=function(bt,Ot){var It=z(bt*bt+(Ot=it-Ot)*Ot),Bt=it+Je-It;return[It/b(Bt)*S(bt,Ot),Bt]},gt}function ht(){return ut(ft).scale(123.082).center([0,26.1441]).parallel(45)}function dt(Je){function it(gt,bt){var Ot=o-bt,It=Ot&&gt*Je*l(Ot)/Ot;return[Ot*l(It)/Je,o-Ot*b(It)]}return it.invert=function(gt,bt){var Ot=gt*Je,It=o-bt,Bt=z(Ot*Ot+It*It),dr=S(Ot,It);return[(Bt?Bt/l(Bt):1)*dr/Je,o-Bt]},it}function mt(){var Je=.5,it=(0,y.U)(dt),gt=it(Je);return gt.fraction=function(bt){return arguments.length?it(Je=+bt):Je},gt.scale(158.837)}var St=xe(1,4/c,c);function rt(){return(0,y.c)(St).scale(152.63)}var Oe=e(24052),Ye=e(92992);function Ze(Je,it,gt,bt,Ot,It){var Bt=b(It),dr;if(L(Je)>1||L(It)>1)dr=T(gt*Ot+it*bt*Bt);else{var xr=l(Je/2),ir=l(It/2);dr=2*P(z(xr*xr+it*bt*ir*ir))}return L(dr)>h?[dr,S(bt*l(It),it*Ot-gt*bt*Bt)]:[0,0]}function Ge(Je,it,gt){return T((Je*Je+it*it-gt*gt)/(2*Je*it))}function _e(Je){return Je-2*c*p((Je+c)/(2*c))}function be(Je,it,gt){for(var bt=[[Je[0],Je[1],l(Je[1]),b(Je[1])],[it[0],it[1],l(it[1]),b(it[1])],[gt[0],gt[1],l(gt[1]),b(gt[1])]],Ot=bt[2],It,Bt=0;Bt<3;++Bt,Ot=It)It=bt[Bt],Ot.v=Ze(It[1]-Ot[1],Ot[3],Ot[2],It[3],It[2],It[0]-Ot[0]),Ot.point=[0,0];var dr=Ge(bt[0].v[0],bt[2].v[0],bt[1].v[0]),xr=Ge(bt[0].v[0],bt[1].v[0],bt[2].v[0]),ir=c-dr;bt[2].point[1]=0,bt[0].point[0]=-(bt[1].point[0]=bt[0].v[0]/2);var Mr=[bt[2].point[0]=bt[0].point[0]+bt[2].v[0]*b(dr),2*(bt[0].point[1]=bt[1].point[1]=bt[2].v[0]*l(dr))];function _r(Nr,tn){var mn=l(tn),Dn=b(tn),Rn=new Array(3),Yn;for(Yn=0;Yn<3;++Yn){var Di=bt[Yn];if(Rn[Yn]=Ze(tn-Di[1],Di[3],Di[2],Dn,mn,Nr-Di[0]),!Rn[Yn][0])return Di.point;Rn[Yn][1]=_e(Rn[Yn][1]-Di.v[1])}var Ri=Mr.slice();for(Yn=0;Yn<3;++Yn){var Ii=Yn==2?0:Yn+1,Fi=Ge(bt[Yn].v[0],Rn[Yn][0],Rn[Ii][0]);Rn[Yn][1]<0&&(Fi=-Fi),Yn?Yn==1?(Fi=xr-Fi,Ri[0]-=Rn[Yn][0]*b(Fi),Ri[1]-=Rn[Yn][0]*l(Fi)):(Fi=ir-Fi,Ri[0]+=Rn[Yn][0]*b(Fi),Ri[1]+=Rn[Yn][0]*l(Fi)):(Ri[0]+=Rn[Yn][0]*b(Fi),Ri[1]-=Rn[Yn][0]*l(Fi))}return Ri[0]/=3,Ri[1]/=3,Ri}return _r}function me(Je){return Je[0]*=M,Je[1]*=M,Je}function Ce(){return Me([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Me(Je,it,gt){var bt=(0,Oe.c)({type:"MultiPoint",coordinates:[Je,it,gt]}),Ot=[-bt[0],-bt[1]],It=(0,Ye.c)(Ot),Bt=be(me(It(Je)),me(It(it)),me(It(gt)));Bt.invert=Te(Bt);var dr=(0,y.c)(Bt).rotate(Ot),xr=dr.center;return delete dr.rotate,dr.center=function(ir){return arguments.length?xr(It(ir)):It.invert(xr())},dr.clipAngle(90)}function Ne(Je,it){var gt=z(1-l(it));return[2/C*Je*gt,C*(1-gt)]}Ne.invert=function(Je,it){var gt=(gt=it/C-1)*gt;return[gt>0?Je*z(c/gt)/2:0,P(1-gt)]};function je(){return(0,y.c)(Ne).scale(95.6464).center([0,30])}function tt(Je){var it=m(Je);function gt(bt,Ot){return[bt,(bt?bt/l(bt):1)*(l(Ot)*b(bt)-it*b(Ot))]}return gt.invert=it?function(bt,Ot){bt&&(Ot*=l(bt)/bt);var It=b(bt);return[bt,2*S(z(It*It+it*it-Ot*Ot)-It,it-Ot)]}:function(bt,Ot){return[bt,P(bt?Ot*m(bt)/bt:Ot)]},gt}function ct(){return ut(tt).scale(249.828).clipAngle(90)}var pt=z(3);function Xt(Je,it){return[pt*Je*(2*b(2*it/3)-1)/C,pt*C*l(it/3)]}Xt.invert=function(Je,it){var gt=3*P(it/(pt*C));return[C*Je/(pt*(2*b(2*gt/3)-1)),gt]};function Yt(){return(0,y.c)(Xt).scale(156.19)}function Tt(Je){var it=b(Je);function gt(bt,Ot){return[bt*it,l(Ot)/it]}return gt.invert=function(bt,Ot){return[bt/it,P(Ot*it)]},gt}function _t(){return ut(Tt).parallel(38.58).scale(195.044)}function Qt(Je){var it=b(Je);function gt(bt,Ot){return[bt*it,(1+it)*m(Ot/2)]}return gt.invert=function(bt,Ot){return[bt/it,i(Ot/(1+it))*2]},gt}function wr(){return ut(Qt).scale(124.75)}function xt(Je,it){var gt=z(8/(3*c));return[gt*Je*(1-L(it)/c),gt*it]}xt.invert=function(Je,it){var gt=z(8/(3*c)),bt=it/gt;return[Je/(gt*(1-L(bt)/c)),bt]};function jt(){return(0,y.c)(xt).scale(165.664)}function Jt(Je,it){var gt=z(4-3*l(L(it)));return[2/z(6*c)*Je*gt,s(it)*z(2*c/3)*(2-gt)]}Jt.invert=function(Je,it){var gt=2-L(it)/z(2*c/3);return[Je*z(6*c)/(2*gt),s(it)*P((4-gt*gt)/3)]};function gr(){return(0,y.c)(Jt).scale(165.664)}function or(Je,it){var gt=z(c*(4+c));return[2/gt*Je*(1+z(1-4*it*it/(c*c))),4/gt*it]}or.invert=function(Je,it){var gt=z(c*(4+c))/2;return[Je*gt/(1+z(1-it*it*(4+c)/(4*c))),it*gt/2]};function yt(){return(0,y.c)(or).scale(180.739)}function at(Je,it){var gt=(2+o)*l(it);it/=2;for(var bt=0,Ot=1/0;bt<10&&L(Ot)>h;bt++){var It=b(it);it-=Ot=(it+l(it)*(It+2)-gt)/(2*It*(1+It))}return[2/z(c*(4+c))*Je*(1+b(it)),2*z(c/(4+c))*l(it)]}at.invert=function(Je,it){var gt=it*z((4+c)/c)/2,bt=P(gt),Ot=b(bt);return[Je/(2/z(c*(4+c))*(1+Ot)),P((bt+gt*(Ot+2))/(2+o))]};function wt(){return(0,y.c)(at).scale(180.739)}function Et(Je,it){return[Je*(1+b(it))/z(2+c),2*it/z(2+c)]}Et.invert=function(Je,it){var gt=z(2+c),bt=it*gt/2;return[gt*Je/(1+b(bt)),bt]};function Rt(){return(0,y.c)(Et).scale(173.044)}function Dt(Je,it){for(var gt=(1+o)*l(it),bt=0,Ot=1/0;bt<10&&L(Ot)>h;bt++)it-=Ot=(it+l(it)-gt)/(1+b(it));return gt=z(2+c),[Je*(1+b(it))/gt,2*it/gt]}Dt.invert=function(Je,it){var gt=1+o,bt=z(gt/2);return[Je*2*bt/(1+b(it*=bt)),P((it+l(it))/gt)]};function Ut(){return(0,y.c)(Dt).scale(173.044)}var Nt=3+2*A;function Kt(Je,it){var gt=l(Je/=2),bt=b(Je),Ot=z(b(it)),It=b(it/=2),Bt=l(it)/(It+A*bt*Ot),dr=z(2/(1+Bt*Bt)),xr=z((A*It+(bt+gt)*Ot)/(A*It+(bt-gt)*Ot));return[Nt*(dr*(xr-1/xr)-2*r(xr)),Nt*(dr*Bt*(xr+1/xr)-2*i(Bt))]}Kt.invert=function(Je,it){if(!(It=ue.invert(Je/1.2,it*1.065)))return null;var gt=It[0],bt=It[1],Ot=20,It;Je/=Nt,it/=Nt;do{var Bt=gt/2,dr=bt/2,xr=l(Bt),ir=b(Bt),Mr=l(dr),_r=b(dr),Nr=b(bt),tn=z(Nr),mn=Mr/(_r+A*ir*tn),Dn=mn*mn,Rn=z(2/(1+Dn)),Yn=A*_r+(ir+xr)*tn,Di=A*_r+(ir-xr)*tn,Ri=Yn/Di,Ii=z(Ri),Fi=Ii-1/Ii,Zi=Ii+1/Ii,da=Rn*Fi-2*r(Ii)-Je,za=Rn*mn*Zi-2*i(mn)-it,fe=Mr&&w*tn*xr*Dn/Mr,Le=(A*ir*_r+tn)/(2*(_r+A*ir*tn)*(_r+A*ir*tn)*tn),Fe=-.5*mn*Rn*Rn*Rn,$e=Fe*fe,nt=Fe*Le,lt=(lt=2*_r+A*tn*(ir-xr))*lt*Ii,Lt=(A*ir*_r*tn+Nr)/lt,At=-(A*xr*Mr)/(tn*lt),Ht=Fi*$e-2*Lt/Ii+Rn*(Lt+Lt/Ri),Gt=Fi*nt-2*At/Ii+Rn*(At+At/Ri),tr=mn*Zi*$e-2*fe/(1+Dn)+Rn*Zi*fe+Rn*mn*(Lt-Lt/Ri),Cr=mn*Zi*nt-2*Le/(1+Dn)+Rn*Zi*Le+Rn*mn*(At-At/Ri),Pr=Gt*tr-Cr*Ht;if(!Pr)break;var Jr=(za*Gt-da*Cr)/Pr,on=(da*tr-za*Ht)/Pr;gt-=Jr,bt=t(-o,a(o,bt-on))}while((L(Jr)>h||L(on)>h)&&--Ot>0);return L(L(bt)-o)<h?[0,bt]:Ot&&[gt,bt]};function ur(){return(0,y.c)(Kt).scale(62.5271)}var fr=b(35*M);function vr(Je,it){var gt=m(it/2);return[Je*fr*z(1-gt*gt),(1+fr)*gt]}vr.invert=function(Je,it){var gt=it/(1+fr);return[Je&&Je/(fr*z(1-gt*gt)),2*i(gt)]};function We(){return(0,y.c)(vr).scale(137.152)}function He(Je,it){var gt=it/2,bt=b(gt);return[2*Je/C*b(it)*bt*bt,C*m(gt)]}He.invert=function(Je,it){var gt=i(it/C),bt=b(gt),Ot=2*gt;return[Je*C/2/(b(Ot)*bt*bt),Ot]};function zt(){return(0,y.c)(He).scale(135.264)}function kt(Je){var it=1-Je,gt=It(c,0)[0]-It(-c,0)[0],bt=It(0,o)[1]-It(0,-o)[1],Ot=z(2*bt/gt);function It(xr,ir){var Mr=b(ir),_r=l(ir);return[Mr/(it+Je*Mr)*xr,it*ir+Je*_r]}function Bt(xr,ir){var Mr=It(xr,ir);return[Mr[0]*Ot,Mr[1]/Ot]}function dr(xr){return Bt(0,xr)[1]}return Bt.invert=function(xr,ir){var Mr=Se(dr,ir),_r=xr/Ot*(Je+it/b(Mr));return[_r,Mr]},Bt}function Zt(){var Je=.5,it=(0,y.U)(kt),gt=it(Je);return gt.alpha=function(bt){return arguments.length?it(Je=+bt):Je},gt.scale(168.725)}var er=e(4888),lr=e(69604);function rr(Je){return[Je[0]/2,P(m(Je[1]/2*M))*E]}function Ft(Je){return[Je[0]*2,2*i(l(Je[1]*M))*E]}function cr(Je){Je==null&&(Je=er.c);var it=Je(),gt=(0,lr.c)().scale(E).precision(0).clipAngle(null).translate([0,0]);function bt(It){return it(rr(It))}it.invert&&(bt.invert=function(It){return Ft(it.invert(It))}),bt.stream=function(It){var Bt=it.stream(It),dr=gt.stream({point:function(xr,ir){Bt.point(xr/2,P(m(-ir/2*M))*E)},lineStart:function(){Bt.lineStart()},lineEnd:function(){Bt.lineEnd()},polygonStart:function(){Bt.polygonStart()},polygonEnd:function(){Bt.polygonEnd()}});return dr.sphere=Bt.sphere,dr};function Ot(It){bt[It]=function(){return arguments.length?(it[It].apply(it,arguments),bt):it[It]()}}return bt.rotate=function(It){return arguments.length?(gt.rotate(It),bt):gt.rotate()},bt.center=function(It){return arguments.length?(it.center(rr(It)),bt):Ft(it.center())},Ot("angle"),Ot("clipAngle"),Ot("clipExtent"),Ot("fitExtent"),Ot("fitHeight"),Ot("fitSize"),Ot("fitWidth"),Ot("scale"),Ot("translate"),Ot("precision"),bt.scale(249.5)}function pr(Je,it){var gt=2*c/it,bt=Je*Je;function Ot(It,Bt){var dr=(0,oe.O)(It,Bt),xr=dr[0],ir=dr[1],Mr=xr*xr+ir*ir;if(Mr>bt){var _r=z(Mr),Nr=S(ir,xr),tn=gt*u(Nr/gt),mn=Nr-tn,Dn=Je*b(mn),Rn=(Je*l(mn)-mn*l(Dn))/(o-Dn),Yn=mr(mn,Rn),Di=(c-Je)/hr(Yn,Dn,c);xr=_r;var Ri=50,Ii;do xr-=Ii=(Je+hr(Yn,Dn,xr)*Di-_r)/(Yn(xr)*Di);while(L(Ii)>h&&--Ri>0);ir=mn*l(xr),xr<o&&(ir-=Rn*(xr-o));var Fi=l(tn),Zi=b(tn);dr[0]=xr*Zi-ir*Fi,dr[1]=xr*Fi+ir*Zi}return dr}return Ot.invert=function(It,Bt){var dr=It*It+Bt*Bt;if(dr>bt){var xr=z(dr),ir=S(Bt,It),Mr=gt*u(ir/gt),_r=ir-Mr;It=xr*b(_r),Bt=xr*l(_r);for(var Nr=It-o,tn=l(It),mn=Bt/tn,Dn=It<o?1/0:0,Rn=10;;){var Yn=Je*l(mn),Di=Je*b(mn),Ri=l(Di),Ii=o-Di,Fi=(Yn-mn*Ri)/Ii,Zi=mr(mn,Fi);if(L(Dn)<g||!--Rn)break;mn-=Dn=(mn*tn-Fi*Nr-Bt)/(tn-Nr*2*(Ii*(Di+mn*Yn*b(Di)-Ri)-Yn*(Yn-mn*Ri))/(Ii*Ii))}xr=Je+hr(Zi,Di,It)*(c-Je)/hr(Zi,Di,c),ir=Mr+mn,It=xr*b(ir),Bt=xr*l(ir)}return oe.O.invert(It,Bt)},Ot}function mr(Je,it){return function(gt){var bt=Je*b(gt);return gt<o&&(bt-=it),z(1+bt*bt)}}function hr(Je,it,gt){for(var bt=50,Ot=(gt-it)/bt,It=Je(it)+Je(gt),Bt=1,dr=it;Bt<bt;++Bt)It+=2*Je(dr+=Ot);return It*.5*Ot}function Gr(){var Je=6,it=30*M,gt=b(it),bt=l(it),Ot=(0,y.U)(pr),It=Ot(it,Je),Bt=It.stream,dr=.01,xr=-b(dr*M),ir=l(dr*M);return It.radius=function(Mr){return arguments.length?(gt=b(it=Mr*M),bt=l(it),Ot(it,Je)):it*E},It.lobes=function(Mr){return arguments.length?Ot(it,Je=+Mr):Je},It.stream=function(Mr){var _r=It.rotate(),Nr=Bt(Mr),tn=(It.rotate([0,0]),Bt(Mr));return It.rotate(_r),Nr.sphere=function(){tn.polygonStart(),tn.lineStart();for(var mn=0,Dn=2*c/Je,Rn=0;mn<Je;++mn,Rn-=Dn)tn.point(S(ir*b(Rn),xr)*E,P(ir*l(Rn))*E),tn.point(S(bt*b(Rn-Dn/2),gt)*E,P(bt*l(Rn-Dn/2))*E);tn.lineEnd(),tn.polygonEnd()},Nr},It.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Dr(Je,it,gt,bt,Ot,It,Bt,dr){arguments.length<8&&(dr=0);function xr(ir,Mr){if(!Mr)return[Je*ir/c,0];var _r=Mr*Mr,Nr=Je+_r*(it+_r*(gt+_r*bt)),tn=Mr*(Ot-1+_r*(It-dr+_r*Bt)),mn=(Nr*Nr+tn*tn)/(2*tn),Dn=ir*P(Nr/mn)/c;return[mn*l(Dn),Mr*(1+_r*dr)+mn*(1-b(Dn))]}return xr.invert=function(ir,Mr){var _r=c*ir/Je,Nr=Mr,tn,mn,Dn=50;do{var Rn=Nr*Nr,Yn=Je+Rn*(it+Rn*(gt+Rn*bt)),Di=Nr*(Ot-1+Rn*(It-dr+Rn*Bt)),Ri=Yn*Yn+Di*Di,Ii=2*Di,Fi=Ri/Ii,Zi=Fi*Fi,da=P(Yn/Fi)/c,za=_r*da,fe=Yn*Yn,Le=(2*it+Rn*(4*gt+Rn*6*bt))*Nr,Fe=Ot+Rn*(3*It+Rn*5*Bt),$e=2*(Yn*Le+Di*(Fe-1)),nt=2*(Fe-1),lt=($e*Ii-Ri*nt)/(Ii*Ii),Lt=b(za),At=l(za),Ht=Fi*Lt,Gt=Fi*At,tr=_r/c*(1/z(1-fe/Zi))*(Le*Fi-Yn*lt)/Zi,Cr=Gt-ir,Pr=Nr*(1+Rn*dr)+Fi-Ht-Mr,Jr=lt*At+Ht*tr,on=Ht*da,Rr=1+lt-(lt*Lt-Gt*tr),Br=Gt*da,Zr=Jr*Br-Rr*on;if(!Zr)break;_r-=tn=(Pr*Jr-Cr*Rr)/Zr,Nr-=mn=(Cr*Br-Pr*on)/Zr}while((L(tn)>h||L(mn)>h)&&--Dn>0);return[_r,Nr]},xr}var Ir=Dr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function cn(){return(0,y.c)(Ir).scale(149.995)}var rn=Dr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Cn(){return(0,y.c)(rn).scale(153.93)}var Sn=Dr(5/6*c,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Tr(){return(0,y.c)(Sn).scale(130.945)}function Lr(Je,it){var gt=Je*Je,bt=it*it;return[Je*(1-.162388*bt)*(.87-952426e-9*gt*gt),it*(1+bt/12)]}Lr.invert=function(Je,it){var gt=Je,bt=it,Ot=50,It;do{var Bt=bt*bt;bt-=It=(bt*(1+Bt/12)-it)/(1+Bt/4)}while(L(It)>h&&--Ot>0);Ot=50,Je/=1-.162388*Bt;do{var dr=(dr=gt*gt)*dr;gt-=It=(gt*(.87-952426e-9*dr)-Je)/(.87-.00476213*dr)}while(L(It)>h&&--Ot>0);return[gt,bt]};function Wr(){return(0,y.c)(Lr).scale(131.747)}var Ur=Dr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function an(){return(0,y.c)(Ur).scale(131.087)}function pn(Je){var it=Je(o,0)[0]-Je(-o,0)[0];function gt(bt,Ot){var It=bt>0?-.5:.5,Bt=Je(bt+It*c,Ot);return Bt[0]-=It*it,Bt}return Je.invert&&(gt.invert=function(bt,Ot){var It=bt>0?-.5:.5,Bt=Je.invert(bt+It*it,Ot),dr=Bt[0]-It*c;return dr<-c?dr+=2*c:dr>c&&(dr-=2*c),Bt[0]=dr,Bt}),gt}function gn(Je,it){var gt=s(Je),bt=s(it),Ot=b(it),It=b(Je)*Ot,Bt=l(Je)*Ot,dr=l(bt*it);Je=L(S(Bt,dr)),it=P(It),L(Je-o)>h&&(Je%=o);var xr=En(Je>c/4?o-Je:Je,it);return Je>c/4&&(dr=xr[0],xr[0]=-xr[1],xr[1]=-dr),xr[0]*=gt,xr[1]*=-bt,xr}gn.invert=function(Je,it){L(Je)>1&&(Je=s(Je)*2-Je),L(it)>1&&(it=s(it)*2-it);var gt=s(Je),bt=s(it),Ot=-gt*Je,It=-bt*it,Bt=It/Ot<1,dr=On(Bt?It:Ot,Bt?Ot:It),xr=dr[0],ir=dr[1],Mr=b(ir);return Bt&&(xr=-o-xr),[gt*(S(l(xr)*Mr,-l(ir))+c),bt*P(b(xr)*Mr)]};function En(Je,it){if(it===o)return[0,0];var gt=l(it),bt=gt*gt,Ot=bt*bt,It=1+Ot,Bt=1+3*Ot,dr=1-Ot,xr=P(1/z(It)),ir=dr+bt*It*xr,Mr=(1-gt)/ir,_r=z(Mr),Nr=Mr*It,tn=z(Nr),mn=_r*dr,Dn,Rn;if(Je===0)return[0,-(mn+bt*tn)];var Yn=b(it),Di=1/Yn,Ri=2*gt*Yn,Ii=(-3*bt+xr*Bt)*Ri,Fi=(-ir*Yn-(1-gt)*Ii)/(ir*ir),Zi=.5*Fi/_r,da=dr*Zi-2*bt*_r*Ri,za=bt*It*Fi+Mr*Bt*Ri,fe=-Di*Ri,Le=-Di*za,Fe=-2*Di*da,$e=4*Je/c,nt;if(Je>.222*c||it<c/4&&Je>.175*c){if(Dn=(mn+bt*z(Nr*(1+Ot)-mn*mn))/(1+Ot),Je>c/4)return[Dn,Dn];var lt=Dn,Lt=.5*Dn;Dn=.5*(Lt+lt),Rn=50;do{var At=z(Nr-Dn*Dn),Ht=Dn*(Fe+fe*At)+Le*P(Dn/tn)-$e;if(!Ht)break;Ht<0?Lt=Dn:lt=Dn,Dn=.5*(Lt+lt)}while(L(lt-Lt)>h&&--Rn>0)}else{Dn=h,Rn=25;do{var Gt=Dn*Dn,tr=z(Nr-Gt),Cr=Fe+fe*tr,Pr=Dn*Cr+Le*P(Dn/tn)-$e,Jr=Cr+(Le-fe*Gt)/tr;Dn-=nt=tr?Pr/Jr:0}while(L(nt)>h&&--Rn>0)}return[Dn,-mn-bt*z(Nr-Dn*Dn)]}function On(Je,it){for(var gt=0,bt=1,Ot=.5,It=50;;){var Bt=Ot*Ot,dr=z(Ot),xr=P(1/z(1+Bt)),ir=1-Bt+Ot*(1+Bt)*xr,Mr=(1-dr)/ir,_r=z(Mr),Nr=Mr*(1+Bt),tn=_r*(1-Bt),mn=Nr-Je*Je,Dn=z(mn),Rn=it+tn+Ot*Dn;if(L(bt-gt)<g||--It===0||Rn===0)break;Rn>0?gt=Ot:bt=Ot,Ot=.5*(gt+bt)}if(!It)return null;var Yn=P(dr),Di=b(Yn),Ri=1/Di,Ii=2*dr*Di,Fi=(-3*Ot+xr*(1+3*Bt))*Ii,Zi=(-ir*Di-(1-dr)*Fi)/(ir*ir),da=.5*Zi/_r,za=(1-Bt)*da-2*Ot*_r*Ii,fe=-2*Ri*za,Le=-Ri*Ii,Fe=-Ri*(Ot*(1+Bt)*Zi+Mr*(1+3*Bt)*Ii);return[c/4*(Je*(fe+Le*Dn)+Fe*P(Je/z(Nr))),Yn]}function ni(){return(0,y.c)(pn(gn)).scale(239.75)}function ci(Je,it,gt){var bt,Ot,It;return Je?(bt=di(Je,gt),it?(Ot=di(it,1-gt),It=Ot[1]*Ot[1]+gt*bt[0]*bt[0]*Ot[0]*Ot[0],[[bt[0]*Ot[2]/It,bt[1]*bt[2]*Ot[0]*Ot[1]/It],[bt[1]*Ot[1]/It,-bt[0]*bt[2]*Ot[0]*Ot[2]/It],[bt[2]*Ot[1]*Ot[2]/It,-gt*bt[0]*bt[1]*Ot[0]/It]]):[[bt[0],0],[bt[1],0],[bt[2],0]]):(Ot=di(it,1-gt),[[0,Ot[0]/Ot[1]],[1/Ot[1],0],[Ot[2]/Ot[1],0]])}function di(Je,it){var gt,bt,Ot,It,Bt;if(it<h)return It=l(Je),bt=b(Je),gt=it*(Je-It*bt)/4,[It-gt*bt,bt+gt*It,1-it*It*It/2,Je-gt];if(it>=1-h)return gt=(1-it)/4,bt=F(Je),It=_(Je),Ot=1/bt,Bt=bt*V(Je),[It+gt*(Bt-Je)/(bt*bt),Ot-gt*It*Ot*(Bt-Je),Ot+gt*It*Ot*(Bt+Je),2*i(v(Je))-o+gt*(Bt-Je)/bt];var dr=[1,0,0,0,0,0,0,0,0],xr=[z(it),0,0,0,0,0,0,0,0],ir=0;for(bt=z(1-it),Bt=1;L(xr[ir]/dr[ir])>h&&ir<8;)gt=dr[ir++],xr[ir]=(gt-bt)/2,dr[ir]=(gt+bt)/2,bt=z(gt*bt),Bt*=2;Ot=Bt*dr[ir]*Je;do It=xr[ir]*l(bt=Ot)/dr[ir],Ot=(P(It)+Ot)/2;while(--ir);return[l(Ot),It=b(Ot),It/b(Ot-bt),Ot]}function li(Je,it,gt){var bt=L(Je),Ot=L(it),It=V(Ot);if(bt){var Bt=1/l(bt),dr=1/(m(bt)*m(bt)),xr=-(dr+gt*(It*It*Bt*Bt)-1+gt),ir=(gt-1)*dr,Mr=(-xr+z(xr*xr-4*ir))/2;return[ri(i(1/z(Mr)),gt)*s(Je),ri(i(z((Mr/dr-1)/gt)),1-gt)*s(it)]}return[0,ri(i(It),1-gt)*s(it)]}function ri(Je,it){if(!it)return Je;if(it===1)return r(m(Je/2+d));for(var gt=1,bt=z(1-it),Ot=z(it),It=0;L(Ot)>h;It++){if(Je%c){var Bt=i(bt*m(Je)/gt);Bt<0&&(Bt+=c),Je+=Bt+~~(Je/c)*c}else Je+=Je;Ot=(gt+bt)/2,bt=z(gt*bt),Ot=((gt=Ot)-bt)/2}return Je/(n(2,It)*gt)}function br(Je,it){var gt=(A-1)/(A+1),bt=z(1-gt*gt),Ot=ri(o,bt*bt),It=-1,Bt=r(m(c/4+L(it)/2)),dr=v(It*Bt)/z(gt),xr=nn(dr*b(It*Je),dr*l(It*Je)),ir=li(xr[0],xr[1],bt*bt);return[-ir[1],(it>=0?1:-1)*(.5*Ot-ir[0])]}function nn(Je,it){var gt=Je*Je,bt=it+1,Ot=1-gt-it*it;return[.5*((Je>=0?o:-o)-S(Ot,2*Je)),-.25*r(Ot*Ot+4*gt)+.5*r(bt*bt+gt)]}function $r(Je,it){var gt=it[0]*it[0]+it[1]*it[1];return[(Je[0]*it[0]+Je[1]*it[1])/gt,(Je[1]*it[0]-Je[0]*it[1])/gt]}br.invert=function(Je,it){var gt=(A-1)/(A+1),bt=z(1-gt*gt),Ot=ri(o,bt*bt),It=-1,Bt=ci(.5*Ot-it,-Je,bt*bt),dr=$r(Bt[0],Bt[1]),xr=S(dr[1],dr[0])/It;return[xr,2*i(v(.5/It*r(gt*dr[0]*dr[0]+gt*dr[1]*dr[1])))-o]};function dn(){return(0,y.c)(pn(br)).scale(151.496)}var Vn=e(61780);function wn(Je){var it=l(Je),gt=b(Je),bt=Tn(Je);bt.invert=Tn(-Je);function Ot(It,Bt){var dr=bt(It,Bt);It=dr[0],Bt=dr[1];var xr=l(Bt),ir=b(Bt),Mr=b(It),_r=T(it*xr+gt*ir*Mr),Nr=l(_r),tn=L(Nr)>h?_r/Nr:1;return[tn*gt*l(It),(L(It)>o?tn:-tn)*(it*ir-gt*xr*Mr)]}return Ot.invert=function(It,Bt){var dr=z(It*It+Bt*Bt),xr=-l(dr),ir=b(dr),Mr=dr*ir,_r=-Bt*xr,Nr=dr*it,tn=z(Mr*Mr+_r*_r-Nr*Nr),mn=S(Mr*Nr+_r*tn,_r*Nr-Mr*tn),Dn=(dr>o?-1:1)*S(It*xr,dr*b(mn)*ir+Bt*l(mn)*xr);return bt.invert(Dn,mn)},Ot}function Tn(Je){var it=l(Je),gt=b(Je);return function(bt,Ot){var It=b(Ot),Bt=b(bt)*It,dr=l(bt)*It,xr=l(Ot);return[S(dr,Bt*gt-xr*it),P(xr*gt+Bt*it)]}}function Nn(){var Je=0,it=(0,y.U)(wn),gt=it(Je),bt=gt.rotate,Ot=gt.stream,It=(0,Vn.c)();return gt.parallel=function(Bt){if(!arguments.length)return Je*E;var dr=gt.rotate();return it(Je=Bt*M).rotate(dr)},gt.rotate=function(Bt){return arguments.length?(bt.call(gt,[Bt[0],Bt[1]-Je*E]),It.center([-Bt[0],-Bt[1]]),gt):(Bt=bt.call(gt),Bt[1]+=Je*E,Bt)},gt.stream=function(Bt){return Bt=Ot(Bt),Bt.sphere=function(){Bt.polygonStart();var dr=.01,xr=It.radius(90-dr)().coordinates[0],ir=xr.length-1,Mr=-1,_r;for(Bt.lineStart();++Mr<ir;)Bt.point((_r=xr[Mr])[0],_r[1]);for(Bt.lineEnd(),xr=It.radius(90+dr)().coordinates[0],ir=xr.length-1,Bt.lineStart();--Mr>=0;)Bt.point((_r=xr[Mr])[0],_r[1]);Bt.lineEnd(),Bt.polygonEnd()},Bt},gt.scale(79.4187).parallel(45).clipAngle(179.999)}var Jn=e(84706),gi=e(16016),_i=3,Sr=P(1-1/_i)*E,zr=Tt(0);function Ar(Je){var it=Sr*M,gt=Ne(c,it)[0]-Ne(-c,it)[0],bt=zr(0,it)[1],Ot=Ne(0,it)[1],It=C-Ot,Bt=x/Je,dr=4/x,xr=bt+It*It*4/x;function ir(Mr,_r){var Nr,tn=L(_r);if(tn>it){var mn=a(Je-1,t(0,p((Mr+c)/Bt)));Mr+=c*(Je-1)/Je-mn*Bt,Nr=Ne(Mr,tn),Nr[0]=Nr[0]*x/gt-x*(Je-1)/(2*Je)+mn*x/Je,Nr[1]=bt+(Nr[1]-Ot)*4*It/x,_r<0&&(Nr[1]=-Nr[1])}else Nr=zr(Mr,_r);return Nr[0]*=dr,Nr[1]/=xr,Nr}return ir.invert=function(Mr,_r){Mr/=dr,_r*=xr;var Nr=L(_r);if(Nr>bt){var tn=a(Je-1,t(0,p((Mr+c)/Bt)));Mr=(Mr+c*(Je-1)/Je-tn*Bt)*gt/x;var mn=Ne.invert(Mr,.25*(Nr-bt)*x/It+Ot);return mn[0]-=c*(Je-1)/Je-tn*Bt,_r<0&&(mn[1]=-mn[1]),mn}return zr.invert(Mr,_r)},ir}function Fr(Je,it){return[Je,it&1?90-h:Sr]}function xn(Je,it){return[Je,it&1?-90+h:-Sr]}function In(Je){return[Je[0]*(1-h),Je[1]]}function hn(Je){var it=[].concat((0,Jn.ik)(-180,180+Je/2,Je).map(Fr),(0,Jn.ik)(180,-180-Je/2,-Je).map(xn));return{type:"Polygon",coordinates:[Je===180?it.map(In):it]}}function sn(){var Je=4,it=(0,y.U)(Ar),gt=it(Je),bt=gt.stream;return gt.lobes=function(Ot){return arguments.length?it(Je=+Ot):Je},gt.stream=function(Ot){var It=gt.rotate(),Bt=bt(Ot),dr=(gt.rotate([0,0]),bt(Ot));return gt.rotate(It),Bt.sphere=function(){(0,gi.c)(hn(180/Je),dr)},Bt},gt.scale(239.75)}function Er(Je){var it=1+Je,gt=l(1/it),bt=P(gt),Ot=2*z(c/(It=c+4*bt*it)),It,Bt=.5*Ot*(it+z(Je*(2+Je))),dr=Je*Je,xr=it*it;function ir(Mr,_r){var Nr=1-l(_r),tn,mn;if(Nr&&Nr<2){var Dn=o-_r,Rn=25,Yn;do{var Di=l(Dn),Ri=b(Dn),Ii=bt+S(Di,it-Ri),Fi=1+xr-2*it*Ri;Dn-=Yn=(Dn-dr*bt-it*Di+Fi*Ii-.5*Nr*It)/(2*it*Di*Ii)}while(L(Yn)>g&&--Rn>0);tn=Ot*z(Fi),mn=Mr*Ii/c}else tn=Ot*(Je+Nr),mn=Mr*bt/c;return[tn*l(mn),Bt-tn*b(mn)]}return ir.invert=function(Mr,_r){var Nr=Mr*Mr+(_r-=Bt)*_r,tn=(1+xr-Nr/(Ot*Ot))/(2*it),mn=T(tn),Dn=l(mn),Rn=bt+S(Dn,it-tn);return[P(Mr/z(Nr))*c/Rn,P(1-2*(mn-dr*bt-it*Dn+(1+xr-2*it*tn)*Rn)/It)]},ir}function jr(){var Je=1,it=(0,y.U)(Er),gt=it(Je);return gt.ratio=function(bt){return arguments.length?it(Je=+bt):Je},gt.scale(167.774).center([0,18.67])}var Vr=.7109889596207567,Qr=.0528035274542;function bn(Je,it){return it>-Vr?(Je=De(Je,it),Je[1]+=Qr,Je):et(Je,it)}bn.invert=function(Je,it){return it>-Vr?De.invert(Je,it-Qr):et.invert(Je,it)};function Ln(){return(0,y.c)(bn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Pn(Je,it){return L(it)>Vr?(Je=De(Je,it),Je[1]-=it>0?Qr:-Qr,Je):et(Je,it)}Pn.invert=function(Je,it){return L(it)>Vr?De.invert(Je,it+(it>0?Qr:-Qr)):et.invert(Je,it)};function Bn(){return(0,y.c)(Pn).scale(152.63)}function zn(Je,it,gt,bt){var Ot=z(4*c/(2*gt+(1+Je-it/2)*l(2*gt)+(Je+it)/2*l(4*gt)+it/2*l(6*gt))),It=z(bt*l(gt)*z((1+Je*b(2*gt)+it*b(4*gt))/(1+Je+it))),Bt=gt*xr(1);function dr(_r){return z(1+Je*b(2*_r)+it*b(4*_r))}function xr(_r){var Nr=_r*gt;return(2*Nr+(1+Je-it/2)*l(2*Nr)+(Je+it)/2*l(4*Nr)+it/2*l(6*Nr))/gt}function ir(_r){return dr(_r)*l(_r)}var Mr=function(_r,Nr){var tn=gt*Se(xr,Bt*l(Nr)/gt,Nr/c);isNaN(tn)&&(tn=gt*s(Nr));var mn=Ot*dr(tn);return[mn*It*_r/c*b(tn),mn/It*l(tn)]};return Mr.invert=function(_r,Nr){var tn=Se(ir,Nr*It/Ot);return[_r*c/(b(tn)*Ot*It*dr(tn)),P(gt*xr(tn/gt)/Bt)]},gt===0&&(Ot=z(bt/c),Mr=function(_r,Nr){return[_r*Ot,l(Nr)/Ot]},Mr.invert=function(_r,Nr){return[_r/Ot,P(Nr*Ot)]}),Mr}function yi(){var Je=1,it=0,gt=45*M,bt=2,Ot=(0,y.U)(zn),It=Ot(Je,it,gt,bt);return It.a=function(Bt){return arguments.length?Ot(Je=+Bt,it,gt,bt):Je},It.b=function(Bt){return arguments.length?Ot(Je,it=+Bt,gt,bt):it},It.psiMax=function(Bt){return arguments.length?Ot(Je,it,gt=+Bt*M,bt):gt*E},It.ratio=function(Bt){return arguments.length?Ot(Je,it,gt,bt=+Bt):bt},It.scale(180.739)}function ai(Je,it,gt,bt,Ot,It,Bt,dr,xr,ir,Mr){if(Mr.nanEncountered)return NaN;var _r,Nr,tn,mn,Dn,Rn,Yn,Di,Ri,Ii;if(_r=gt-it,Nr=Je(it+_r*.25),tn=Je(gt-_r*.25),isNaN(Nr)){Mr.nanEncountered=!0;return}if(isNaN(tn)){Mr.nanEncountered=!0;return}return mn=_r*(bt+4*Nr+Ot)/12,Dn=_r*(Ot+4*tn+It)/12,Rn=mn+Dn,Ii=(Rn-Bt)/15,ir>xr?(Mr.maxDepthCount++,Rn+Ii):Math.abs(Ii)<dr?Rn+Ii:(Yn=it+_r*.5,Di=ai(Je,it,Yn,bt,Nr,Ot,mn,dr*.5,xr,ir+1,Mr),isNaN(Di)?(Mr.nanEncountered=!0,NaN):(Ri=ai(Je,Yn,gt,Ot,tn,It,Dn,dr*.5,xr,ir+1,Mr),isNaN(Ri)?(Mr.nanEncountered=!0,NaN):Di+Ri))}function pi(Je,it,gt,bt,Ot){var It={maxDepthCount:0,nanEncountered:!1};bt===void 0&&(bt=1e-8),Ot===void 0&&(Ot=20);var Bt=Je(it),dr=Je(.5*(it+gt)),xr=Je(gt),ir=(Bt+4*dr+xr)*(gt-it)/6,Mr=ai(Je,it,gt,Bt,dr,xr,ir,bt,Ot,1,It);return Mr}function Pi(Je,it,gt){function bt(tn){return Je+(1-Je)*n(1-n(tn,it),1/it)}function Ot(tn){return pi(bt,0,tn,1e-4)}for(var It=1/Ot(1),Bt=1e3,dr=(1+1e-8)*It,xr=[],ir=0;ir<=Bt;ir++)xr.push(Ot(ir/Bt)*dr);function Mr(tn){var mn=0,Dn=Bt,Rn=Bt>>1;do xr[Rn]>tn?Dn=Rn:mn=Rn,Rn=mn+Dn>>1;while(Rn>mn);var Yn=xr[Rn+1]-xr[Rn];return Yn&&(Yn=(tn-xr[Rn+1])/Yn),(Rn+1+Yn)/Bt}var _r=2*Mr(1)/c*It/gt,Nr=function(tn,mn){var Dn=Mr(L(l(mn))),Rn=bt(Dn)*tn;return Dn/=_r,[Rn,mn>=0?Dn:-Dn]};return Nr.invert=function(tn,mn){var Dn;return mn*=_r,L(mn)<1&&(Dn=s(mn)*P(Ot(L(mn))*It)),[tn/bt(L(mn)),Dn]},Nr}function ga(){var Je=0,it=2.5,gt=1.183136,bt=(0,y.U)(Pi),Ot=bt(Je,it,gt);return Ot.alpha=function(It){return arguments.length?bt(Je=+It,it,gt):Je},Ot.k=function(It){return arguments.length?bt(Je,it=+It,gt):it},Ot.gamma=function(It){return arguments.length?bt(Je,it,gt=+It):gt},Ot.scale(152.63)}function na(Je,it){return L(Je[0]-it[0])<h&&L(Je[1]-it[1])<h}function No(Je,it){for(var gt=-1,bt=Je.length,Ot=Je[0],It,Bt,dr,xr=[];++gt<bt;){It=Je[gt],Bt=(It[0]-Ot[0])/it,dr=(It[1]-Ot[1])/it;for(var ir=0;ir<it;++ir)xr.push([Ot[0]+ir*Bt,Ot[1]+ir*dr]);Ot=It}return xr.push(It),xr}function Do(Je){var it=[],gt,bt,Ot,It,Bt,dr,xr,ir=Je[0].length;for(xr=0;xr<ir;++xr)gt=Je[0][xr],bt=gt[0][0],Ot=gt[0][1],It=gt[1][1],Bt=gt[2][0],dr=gt[2][1],it.push(No([[bt+h,Ot+h],[bt+h,It-h],[Bt-h,It-h],[Bt-h,dr+h]],30));for(xr=Je[1].length-1;xr>=0;--xr)gt=Je[1][xr],bt=gt[0][0],Ot=gt[0][1],It=gt[1][1],Bt=gt[2][0],dr=gt[2][1],it.push(No([[Bt-h,dr-h],[Bt-h,It+h],[bt+h,It+h],[bt+h,Ot-h]],30));return{type:"Polygon",coordinates:[(0,Jn.Uf)(it)]}}function ro(Je,it,gt){var bt,Ot;function It(xr,ir){for(var Mr=ir<0?-1:1,_r=it[+(ir<0)],Nr=0,tn=_r.length-1;Nr<tn&&xr>_r[Nr][2][0];++Nr);var mn=Je(xr-_r[Nr][1][0],ir);return mn[0]+=Je(_r[Nr][1][0],Mr*ir>Mr*_r[Nr][0][1]?_r[Nr][0][1]:ir)[0],mn}gt?It.invert=gt(It):Je.invert&&(It.invert=function(xr,ir){for(var Mr=Ot[+(ir<0)],_r=it[+(ir<0)],Nr=0,tn=Mr.length;Nr<tn;++Nr){var mn=Mr[Nr];if(mn[0][0]<=xr&&xr<mn[1][0]&&mn[0][1]<=ir&&ir<mn[1][1]){var Dn=Je.invert(xr-Je(_r[Nr][1][0],0)[0],ir);return Dn[0]+=_r[Nr][1][0],na(It(Dn[0],Dn[1]),[xr,ir])?Dn:null}}});var Bt=(0,y.c)(It),dr=Bt.stream;return Bt.stream=function(xr){var ir=Bt.rotate(),Mr=dr(xr),_r=(Bt.rotate([0,0]),dr(xr));return Bt.rotate(ir),Mr.sphere=function(){(0,gi.c)(bt,_r)},Mr},Bt.lobes=function(xr){return arguments.length?(bt=Do(xr),it=xr.map(function(ir){return ir.map(function(Mr){return[[Mr[0][0]*M,Mr[0][1]*M],[Mr[1][0]*M,Mr[1][1]*M],[Mr[2][0]*M,Mr[2][1]*M]]})}),Ot=it.map(function(ir){return ir.map(function(Mr){var _r=Je(Mr[0][0],Mr[0][1])[0],Nr=Je(Mr[2][0],Mr[2][1])[0],tn=Je(Mr[1][0],Mr[0][1])[1],mn=Je(Mr[1][0],Mr[1][1])[1],Dn;return tn>mn&&(Dn=tn,tn=mn,mn=Dn),[[_r,tn],[Nr,mn]]})}),Bt):it.map(function(ir){return ir.map(function(Mr){return[[Mr[0][0]*E,Mr[0][1]*E],[Mr[1][0]*E,Mr[1][1]*E],[Mr[2][0]*E,Mr[2][1]*E]]})})},it!=null&&Bt.lobes(it),Bt}var Cl=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function hf(){return ro(Xe,Cl).scale(160.857)}var $f=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ea(){return ro(Pn,$f).scale(152.63)}var au=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function vf(){return ro(De,au).scale(169.529)}var Ja=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function To(){return ro(De,Ja).scale(169.529).rotate([20,0])}var Ll=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Nu(){return ro(bn,Ll,Te).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var ka=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Pl(){return ro(et,ka).scale(152.63).rotate([-20,0])}function Fa(Je,it){return[3/x*Je*z(c*c/3-it*it),it]}Fa.invert=function(Je,it){return[x/3*Je/z(c*c/3-it*it),it]};function Ga(){return(0,y.c)(Fa).scale(158.837)}function Dl(Je){function it(gt,bt){if(L(L(bt)-o)<h)return[0,bt<0?-2:2];var Ot=l(bt),It=n((1+Ot)/(1-Ot),Je/2),Bt=.5*(It+1/It)+b(gt*=Je);return[2*l(gt)/Bt,(It-1/It)/Bt]}return it.invert=function(gt,bt){var Ot=L(bt);if(L(Ot-2)<h)return gt?null:[0,s(bt)*o];if(Ot>2)return null;gt/=2,bt/=2;var It=gt*gt,Bt=bt*bt,dr=2*bt/(1+It+Bt);return dr=n((1+dr)/(1-dr),1/Je),[S(2*gt,1-It-Bt)/Je,P((dr-1)/(dr+1))]},it}function no(){var Je=.5,it=(0,y.U)(Dl),gt=it(Je);return gt.spacing=function(bt){return arguments.length?it(Je=+bt):Je},gt.scale(124.75)}var io=c/A;function Bo(Je,it){return[Je*(1+z(b(it)))/2,it/(b(it/2)*b(Je/6))]}Bo.invert=function(Je,it){var gt=L(Je),bt=L(it),Ot=h,It=o;bt<io?It*=bt/io:Ot+=6*T(io/bt);for(var Bt=0;Bt<25;Bt++){var dr=l(It),xr=z(b(It)),ir=l(It/2),Mr=b(It/2),_r=l(Ot/6),Nr=b(Ot/6),tn=.5*Ot*(1+xr)-gt,mn=It/(Mr*Nr)-bt,Dn=xr?-.25*Ot*dr/xr:0,Rn=.5*(1+xr),Yn=(1+.5*It*ir/Mr)/(Mr*Nr),Di=It/Mr*(_r/6)/(Nr*Nr),Ri=Dn*Di-Yn*Rn,Ii=(tn*Di-mn*Rn)/Ri,Fi=(mn*Dn-tn*Yn)/Ri;if(It-=Ii,Ot-=Fi,L(Ii)<h&&L(Fi)<h)break}return[Je<0?-Ot:Ot,it<0?-It:It]};function qf(){return(0,y.c)(Bo).scale(97.2672)}function Ro(Je,it){var gt=Je*Je,bt=it*it;return[Je*(.975534+bt*(-.119161+gt*-.0143059+bt*-.0547009)),it*(1.00384+gt*(.0802894+bt*-.02855+gt*199025e-9)+bt*(.0998909+bt*-.0491032))]}Ro.invert=function(Je,it){var gt=s(Je)*c,bt=it/2,Ot=50;do{var It=gt*gt,Bt=bt*bt,dr=gt*bt,xr=gt*(.975534+Bt*(-.119161+It*-.0143059+Bt*-.0547009))-Je,ir=bt*(1.00384+It*(.0802894+Bt*-.02855+It*199025e-9)+Bt*(.0998909+Bt*-.0491032))-it,Mr=.975534-Bt*(.119161+3*It*.0143059+Bt*.0547009),_r=-dr*(2*.119161+4*.0547009*Bt+2*.0143059*It),Nr=dr*(2*.0802894+4*199025e-9*It+2*-.02855*Bt),tn=1.00384+It*(.0802894+199025e-9*It)+Bt*(3*(.0998909-.02855*It)-5*.0491032*Bt),mn=_r*Nr-tn*Mr,Dn=(ir*_r-xr*tn)/mn,Rn=(xr*Nr-ir*Mr)/mn;gt-=Dn,bt-=Rn}while((L(Dn)>h||L(Rn)>h)&&--Ot>0);return Ot&&[gt,bt]};function ah(){return(0,y.c)(Ro).scale(139.98)}function ds(Je,it){return[l(Je)/b(it),m(it)*b(Je)]}ds.invert=function(Je,it){var gt=Je*Je,bt=it*it,Ot=bt+1,It=gt+Ot,Bt=Je?w*z((It-z(It*It-4*gt))/gt):1/z(Ot);return[P(Je*Bt),s(it)*T(Bt)]};function Qa(){return(0,y.c)(ds).scale(144.049).clipAngle(89.999)}function df(Je){var it=b(Je),gt=m(d+Je/2);function bt(Ot,It){var Bt=It-Je,dr=L(Bt)<h?Ot*it:L(dr=d+It/2)<h||L(L(dr)-o)<h?0:Ot*Bt/r(m(dr)/gt);return[dr,Bt]}return bt.invert=function(Ot,It){var Bt,dr=It+Je;return[L(It)<h?Ot/it:L(Bt=d+dr/2)<h||L(L(Bt)-o)<h?0:Ot*r(m(Bt)/gt)/It,dr]},bt}function Hs(){return ut(df).parallel(40).scale(158.837)}function ps(Je,it){return[Je,1.25*r(m(d+.4*it))]}ps.invert=function(Je,it){return[Je,2.5*i(v(.8*it))-.625*c]};function pf(){return(0,y.c)(ps).scale(108.318)}function ec(Je){var it=Je.length-1;function gt(bt,Ot){for(var It=b(Ot),Bt=2/(1+It*b(bt)),dr=Bt*It*l(bt),xr=Bt*l(Ot),ir=it,Mr=Je[ir],_r=Mr[0],Nr=Mr[1],tn;--ir>=0;)Mr=Je[ir],_r=Mr[0]+dr*(tn=_r)-xr*Nr,Nr=Mr[1]+dr*Nr+xr*tn;return _r=dr*(tn=_r)-xr*Nr,Nr=dr*Nr+xr*tn,[_r,Nr]}return gt.invert=function(bt,Ot){var It=20,Bt=bt,dr=Ot;do{for(var xr=it,ir=Je[xr],Mr=ir[0],_r=ir[1],Nr=0,tn=0,mn;--xr>=0;)ir=Je[xr],Nr=Mr+Bt*(mn=Nr)-dr*tn,tn=_r+Bt*tn+dr*mn,Mr=ir[0]+Bt*(mn=Mr)-dr*_r,_r=ir[1]+Bt*_r+dr*mn;Nr=Mr+Bt*(mn=Nr)-dr*tn,tn=_r+Bt*tn+dr*mn,Mr=Bt*(mn=Mr)-dr*_r-bt,_r=Bt*_r+dr*mn-Ot;var Dn=Nr*Nr+tn*tn,Rn,Yn;Bt-=Rn=(Mr*Nr+_r*tn)/Dn,dr-=Yn=(_r*Nr-Mr*tn)/Dn}while(L(Rn)+L(Yn)>h*h&&--It>0);if(It){var Di=z(Bt*Bt+dr*dr),Ri=2*i(Di*.5),Ii=l(Ri);return[S(Bt*Ii,Di*b(Ri)),Di?P(dr*Ii/Di):0]}},gt}var oh=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Bu=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],sh=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],lh=[[.9245,0],[0,0],[.01943,0]],uh=[[.721316,0],[0,0],[-.00881625,-.00617325]];function gf(){return sl(oh,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function fh(){return sl(Bu,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function ch(){return sl(sh,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function tc(){return sl(lh,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function rc(){return sl(uh,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function sl(Je,it){var gt=(0,y.c)(ec(Je)).rotate(it).clipAngle(90),bt=(0,Ye.c)(it),Ot=gt.center;return delete gt.rotate,gt.center=function(It){return arguments.length?Ot(bt(It)):bt.invert(Ot())},gt}var Rl=z(6),ou=z(7);function su(Je,it){var gt=P(7*l(it)/(3*Rl));return[Rl*Je*(2*b(2*gt/3)-1)/ou,9*l(gt/3)/ou]}su.invert=function(Je,it){var gt=3*P(it*ou/9);return[Je*ou/(Rl*(2*b(2*gt/3)-1)),P(l(gt)*3*Rl/7)]};function nc(){return(0,y.c)(su).scale(164.859)}function Ls(Je,it){for(var gt=(1+w)*l(it),bt=it,Ot=0,It;Ot<25&&(bt-=It=(l(bt/2)+l(bt)-gt)/(.5*b(bt/2)+b(bt)),!(L(It)<h));Ot++);return[Je*(1+2*b(bt)/b(bt/2))/(3*A),2*z(3)*l(bt/2)/z(2+A)]}Ls.invert=function(Je,it){var gt=it*z(2+A)/(2*z(3)),bt=2*P(gt);return[3*A*Je/(1+2*b(bt)/b(bt/2)),P((gt+l(bt))/(1+w))]};function hh(){return(0,y.c)(Ls).scale(188.209)}function Uu(Je,it){for(var gt=z(6/(4+c)),bt=(1+c/4)*l(it),Ot=it/2,It=0,Bt;It<25&&(Ot-=Bt=(Ot/2+l(Ot)-bt)/(.5+b(Ot)),!(L(Bt)<h));It++);return[gt*(.5+b(Ot))*Je/1.5,gt*Ot]}Uu.invert=function(Je,it){var gt=z(6/(4+c)),bt=it/gt;return L(L(bt)-o)<h&&(bt=bt<0?-o:o),[1.5*Je/(gt*(.5+b(bt))),P((bt/2+l(bt))/(1+c/4))]};function ic(){return(0,y.c)(Uu).scale(166.518)}var ac=e(47984);function Vu(Je,it){var gt=it*it,bt=gt*gt,Ot=gt*bt;return[Je*(.84719-.13063*gt+Ot*Ot*(-.04515+.05494*gt-.02326*bt+.00331*Ot)),it*(1.01183+bt*bt*(-.02625+.01926*gt-.00396*bt))]}Vu.invert=function(Je,it){var gt=it,bt=25,Ot,It,Bt,dr;do It=gt*gt,Bt=It*It,gt-=Ot=(gt*(1.01183+Bt*Bt*(-.02625+.01926*It-.00396*Bt))-it)/(1.01183+Bt*Bt*(-.23625+.21186*It+-.05148*Bt));while(L(Ot)>g&&--bt>0);return It=gt*gt,Bt=It*It,dr=It*Bt,[Je/(.84719-.13063*It+dr*dr*(-.04515+.05494*It-.02326*Bt+.00331*dr)),gt]};function Qo(){return(0,y.c)(Vu).scale(175.295)}function Il(Je,it){return[Je*(1+b(it))/2,2*(it-m(it/2))]}Il.invert=function(Je,it){for(var gt=it/2,bt=0,Ot=1/0;bt<10&&L(Ot)>h;++bt){var It=b(it/2);it-=Ot=(it-m(it/2)-gt)/(1-.5/(It*It))}return[2*Je/(1+b(it)),it]};function ll(){return(0,y.c)(Il).scale(152.63)}var lu=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Gs(){return ro(ie(1/0),lu).rotate([20,0]).scale(152.63)}function gs(Je,it){var gt=l(it),bt=b(it),Ot=s(Je);if(Je===0||L(it)===o)return[0,it];if(it===0)return[Je,0];if(L(Je)===o)return[Je*bt,o*gt];var It=c/(2*Je)-2*Je/c,Bt=2*it/c,dr=(1-Bt*Bt)/(gt-Bt),xr=It*It,ir=dr*dr,Mr=1+xr/ir,_r=1+ir/xr,Nr=(It*gt/dr-It/2)/Mr,tn=(ir*gt/xr+dr/2)/_r,mn=Nr*Nr+bt*bt/Mr,Dn=tn*tn-(ir*gt*gt/xr+dr*gt-1)/_r;return[o*(Nr+z(mn)*Ot),o*(tn+z(Dn<0?0:Dn)*s(-it*It)*Ot)]}gs.invert=function(Je,it){Je/=o,it/=o;var gt=Je*Je,bt=it*it,Ot=gt+bt,It=c*c;return[Je?(Ot-1+z((1-Ot)*(1-Ot)+4*gt))/(2*Je)*o:0,Se(function(Bt){return Ot*(c*l(Bt)-2*Bt)*c+4*Bt*Bt*(it-l(Bt))+2*c*Bt-It*it},0)]};function yf(){return(0,y.c)(gs).scale(127.267)}var _l=1.0148,$o=.23185,Ra=-.14499,mf=.02406,vh=_l,Hu=5*$o,kl=7*Ra,Ol=9*mf,Io=1.790857183;function Gu(Je,it){var gt=it*it;return[Je,it*(_l+gt*gt*($o+gt*(Ra+mf*gt)))]}Gu.invert=function(Je,it){it>Io?it=Io:it<-Io&&(it=-Io);var gt=it,bt;do{var Ot=gt*gt;gt-=bt=(gt*(_l+Ot*Ot*($o+Ot*(Ra+mf*Ot)))-it)/(vh+Ot*Ot*(Hu+Ot*(kl+Ol*Ot)))}while(L(bt)>h);return[Je,gt]};function zl(){return(0,y.c)(Gu).scale(139.319)}function Wu(Je,it){if(L(it)<h)return[Je,0];var gt=m(it),bt=Je*l(it);return[l(bt)/gt,it+(1-b(bt))/gt]}Wu.invert=function(Je,it){if(L(it)<h)return[Je,0];var gt=Je*Je+it*it,bt=it*.5,Ot=10,It;do{var Bt=m(bt),dr=1/b(bt),xr=gt-2*it*bt+bt*bt;bt-=It=(Bt*xr+2*(bt-it))/(2+xr*dr*dr+2*(bt-it)*Bt)}while(L(It)>h&&--Ot>0);return Bt=m(bt),[(L(it)<L(bt+1/Bt)?P(Je*Bt):s(it)*s(Je)*(T(L(Je*Bt))+o))/l(bt),bt]};function dh(){return(0,y.c)(Wu).scale(103.74)}var oc=e(13696),xf=e(27284);function bf(Je,it){var gt=Xu(Je[1],Je[0]),bt=Xu(it[1],it[0]),Ot=Yu(gt,bt),It=uu(gt)/uu(bt);return Fl([1,0,Je[0][0],0,1,Je[0][1]],Fl([It,0,0,0,It,0],Fl([b(Ot),l(Ot),0,-l(Ot),b(Ot),0],[1,0,-it[0][0],0,1,-it[0][1]])))}function wf(Je){var it=1/(Je[0]*Je[4]-Je[1]*Je[3]);return[it*Je[4],-it*Je[1],it*(Je[1]*Je[5]-Je[2]*Je[4]),-it*Je[3],it*Je[0],it*(Je[2]*Je[3]-Je[0]*Je[5])]}function Fl(Je,it){return[Je[0]*it[0]+Je[1]*it[3],Je[0]*it[1]+Je[1]*it[4],Je[0]*it[2]+Je[1]*it[5]+Je[2],Je[3]*it[0]+Je[4]*it[3],Je[3]*it[1]+Je[4]*it[4],Je[3]*it[2]+Je[4]*it[5]+Je[5]]}function Xu(Je,it){return[Je[0]-it[0],Je[1]-it[1]]}function uu(Je){return z(Je[0]*Je[0]+Je[1]*Je[1])}function Yu(Je,it){return S(Je[0]*it[1]-Je[1]*it[0],Je[0]*it[0]+Je[1]*it[1])}function ya(Je,it,gt){bt(Je,{transform:null});function bt(ir,Mr){if(ir.edges=Tf(ir.face),Mr.face){var _r=ir.shared=lc(ir.face,Mr.face),Nr=bf(_r.map(Mr.project),_r.map(ir.project));ir.transform=Mr.transform?Fl(Mr.transform,Nr):Nr;for(var tn=Mr.edges,mn=0,Dn=tn.length;mn<Dn;++mn)qo(_r[0],tn[mn][1])&&qo(_r[1],tn[mn][0])&&(tn[mn]=ir),qo(_r[0],tn[mn][0])&&qo(_r[1],tn[mn][1])&&(tn[mn]=ir);for(tn=ir.edges,mn=0,Dn=tn.length;mn<Dn;++mn)qo(_r[0],tn[mn][0])&&qo(_r[1],tn[mn][1])&&(tn[mn]=Mr),qo(_r[0],tn[mn][1])&&qo(_r[1],tn[mn][0])&&(tn[mn]=Mr)}else ir.transform=Mr.transform;return ir.children&&ir.children.forEach(function(Rn){bt(Rn,ir)}),ir}function Ot(ir,Mr){var _r=it(ir,Mr),Nr=_r.project([ir*E,Mr*E]),tn;return(tn=_r.transform)?[tn[0]*Nr[0]+tn[1]*Nr[1]+tn[2],-(tn[3]*Nr[0]+tn[4]*Nr[1]+tn[5])]:(Nr[1]=-Nr[1],Nr)}ul(Je)&&(Ot.invert=function(ir,Mr){var _r=It(Je,[ir,-Mr]);return _r&&(_r[0]*=M,_r[1]*=M,_r)});function It(ir,Mr){var _r=ir.project.invert,Nr=ir.transform,tn=Mr;if(Nr&&(Nr=wf(Nr),tn=[Nr[0]*tn[0]+Nr[1]*tn[1]+Nr[2],Nr[3]*tn[0]+Nr[4]*tn[1]+Nr[5]]),_r&&ir===Bt(mn=_r(tn)))return mn;for(var mn,Dn=ir.children,Rn=0,Yn=Dn&&Dn.length;Rn<Yn;++Rn)if(mn=It(Dn[Rn],Mr))return mn}function Bt(ir){return it(ir[0]*M,ir[1]*M)}var dr=(0,y.c)(Ot),xr=dr.stream;return dr.stream=function(ir){var Mr=dr.rotate(),_r=xr(ir),Nr=(dr.rotate([0,0]),xr(ir));return dr.rotate(Mr),_r.sphere=function(){Nr.polygonStart(),Nr.lineStart(),sc(Nr,Je),Nr.lineEnd(),Nr.polygonEnd()},_r},dr.angle(gt==null?-30:gt*E)}function sc(Je,it,gt){var bt,Ot=it.edges,It=Ot.length,Bt,dr={type:"MultiPoint",coordinates:it.face},xr=it.face.filter(function(Dn){return L(Dn[1])!==90}),ir=(0,oc.c)({type:"MultiPoint",coordinates:xr}),Mr=!1,_r=-1,Nr=ir[1][0]-ir[0][0],tn=Nr===180||Nr===360?[(ir[0][0]+ir[1][0])/2,(ir[0][1]+ir[1][1])/2]:(0,Oe.c)(dr);if(gt)for(;++_r<It&&Ot[_r]!==gt;);++_r;for(var mn=0;mn<It;++mn)Bt=Ot[(mn+_r)%It],Array.isArray(Bt)?(Mr||(Je.point((bt=(0,xf.c)(Bt[0],tn)(h))[0],bt[1]),Mr=!0),Je.point((bt=(0,xf.c)(Bt[1],tn)(h))[0],bt[1])):(Mr=!1,Bt!==gt&&sc(Je,Bt,it))}function qo(Je,it){return Je&&it&&Je[0]===it[0]&&Je[1]===it[1]}function lc(Je,it){for(var gt,bt,Ot=Je.length,It=null,Bt=0;Bt<Ot;++Bt){gt=Je[Bt];for(var dr=it.length;--dr>=0;)if(bt=it[dr],gt[0]===bt[0]&&gt[1]===bt[1]){if(It)return[It,gt];It=gt}}}function Tf(Je){for(var it=Je.length,gt=[],bt=Je[it-1],Ot=0;Ot<it;++Ot)gt.push([bt,bt=Je[Ot]]);return gt}function ul(Je){return Je.project.invert||Je.children&&Je.children.some(ul)}var Ws=e(53285),ju=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Oa=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Je){return Je.map(function(it){return ju[it]})});function fu(Je){Je=Je||function(gt){var bt=(0,Oe.c)({type:"MultiPoint",coordinates:gt});return(0,Ws.c)().scale(1).translate([0,0]).rotate([-bt[0],-bt[1]])};var it=Oa.map(function(gt){return{face:gt,project:Je(gt)}});return[-1,0,0,1,0,1,4,5].forEach(function(gt,bt){var Ot=it[gt];Ot&&(Ot.children||(Ot.children=[])).push(it[bt])}),ya(it[0],function(gt,bt){return it[gt<-c/2?bt<0?6:4:gt<0?bt<0?2:0:gt<c/2?bt<0?3:1:bt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var es=2/z(3);function Ps(Je,it){var gt=Ne(Je,it);return[gt[0]*es,gt[1]]}Ps.invert=function(Je,it){return Ne.invert(Je/es,it)};function fl(Je){Je=Je||function(gt){var bt=(0,Oe.c)({type:"MultiPoint",coordinates:gt});return(0,y.c)(Ps).translate([0,0]).scale(1).rotate(bt[1]>0?[-bt[0],0]:[180-bt[0],180])};var it=Oa.map(function(gt){return{face:gt,project:Je(gt)}});return[-1,0,0,1,0,1,4,5].forEach(function(gt,bt){var Ot=it[gt];Ot&&(Ot.children||(Ot.children=[])).push(it[bt])}),ya(it[0],function(gt,bt){return it[gt<-c/2?bt<0?6:4:gt<0?bt<0?2:0:gt<c/2?bt<0?3:1:bt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function Xs(Je){Je=Je||function(Bt){var dr=Bt.length===6?(0,Oe.c)({type:"MultiPoint",coordinates:Bt}):Bt[0];return(0,Ws.c)().scale(1).translate([0,0]).rotate([-dr[0],-dr[1]])};var it=Oa.map(function(Bt){for(var dr=Bt.map(Wo),xr=dr.length,ir=dr[xr-1],Mr,_r=[],Nr=0;Nr<xr;++Nr)Mr=dr[Nr],_r.push(rs([ir[0]*.9486832980505138+Mr[0]*.31622776601683794,ir[1]*.9486832980505138+Mr[1]*.31622776601683794,ir[2]*.9486832980505138+Mr[2]*.31622776601683794]),rs([Mr[0]*.9486832980505138+ir[0]*.31622776601683794,Mr[1]*.9486832980505138+ir[1]*.31622776601683794,Mr[2]*.9486832980505138+ir[2]*.31622776601683794])),ir=Mr;return _r}),gt=[],bt=[-1,0,0,1,0,1,4,5];it.forEach(function(Bt,dr){for(var xr=Oa[dr],ir=xr.length,Mr=gt[dr]=[],_r=0;_r<ir;++_r)it.push([xr[_r],Bt[(_r*2+2)%(2*ir)],Bt[(_r*2+1)%(2*ir)]]),bt.push(dr),Mr.push(Ds(Wo(Bt[(_r*2+2)%(2*ir)]),Wo(Bt[(_r*2+1)%(2*ir)])))});var Ot=it.map(function(Bt){return{project:Je(Bt),face:Bt}});bt.forEach(function(Bt,dr){var xr=Ot[Bt];xr&&(xr.children||(xr.children=[])).push(Ot[dr])});function It(Bt,dr){var xr=b(dr),ir=[xr*b(Bt),xr*l(Bt),l(dr)],Mr=Bt<-c/2?dr<0?6:4:Bt<0?dr<0?2:0:Bt<c/2?dr<0?3:1:dr<0?7:5,_r=gt[Mr];return Ot[ts(_r[0],ir)<0?8+3*Mr:ts(_r[1],ir)<0?8+3*Mr+1:ts(_r[2],ir)<0?8+3*Mr+2:Mr]}return ya(Ot[0],It).angle(-30).scale(110.625).center([0,45])}function ts(Je,it){for(var gt=0,bt=Je.length,Ot=0;gt<bt;++gt)Ot+=Je[gt]*it[gt];return Ot}function Ds(Je,it){return[Je[1]*it[2]-Je[2]*it[1],Je[2]*it[0]-Je[0]*it[2],Je[0]*it[1]-Je[1]*it[0]]}function rs(Je){return[S(Je[1],Je[0])*E,P(t(-1,a(1,Je[2])))*E]}function Wo(Je){var it=Je[0]*M,gt=Je[1]*M,bt=b(gt);return[bt*b(it),bt*l(it),l(gt)]}function cu(){}function ph(Je){if((gt=Je.length)<4)return!1;for(var it=0,gt,bt=Je[gt-1][1]*Je[0][0]-Je[gt-1][0]*Je[0][1];++it<gt;)bt+=Je[it-1][1]*Je[it][0]-Je[it-1][0]*Je[it][1];return bt<=0}function gh(Je,it){for(var gt=it[0],bt=it[1],Ot=!1,It=0,Bt=Je.length,dr=Bt-1;It<Bt;dr=It++){var xr=Je[It],ir=xr[0],Mr=xr[1],_r=Je[dr],Nr=_r[0],tn=_r[1];Mr>bt^tn>bt&&gt<(Nr-ir)*(bt-Mr)/(tn-Mr)+ir&&(Ot=!Ot)}return Ot}function yh(Je,it){var gt=it.stream,bt;if(!gt)throw new Error("invalid projection");switch(Je&&Je.type){case"Feature":bt=Af;break;case"FeatureCollection":bt=mh;break;default:bt=Nl;break}return bt(Je,gt)}function mh(Je,it){return{type:"FeatureCollection",features:Je.features.map(function(gt){return Af(gt,it)})}}function Af(Je,it){return{type:"Feature",id:Je.id,properties:Je.properties,geometry:Nl(Je.geometry,it)}}function uc(Je,it){return{type:"GeometryCollection",geometries:Je.geometries.map(function(gt){return Nl(gt,it)})}}function Nl(Je,it){if(!Je)return null;if(Je.type==="GeometryCollection")return uc(Je,it);var gt;switch(Je.type){case"Point":gt=Bl;break;case"MultiPoint":gt=Bl;break;case"LineString":gt=fc;break;case"MultiLineString":gt=fc;break;case"Polygon":gt=hu;break;case"MultiPolygon":gt=hu;break;case"Sphere":gt=hu;break;default:return null}return(0,gi.c)(Je,it(gt)),gt.result()}var $a=[],Uo=[],Bl={point:function(Je,it){$a.push([Je,it])},result:function(){var Je=$a.length?$a.length<2?{type:"Point",coordinates:$a[0]}:{type:"MultiPoint",coordinates:$a}:null;return $a=[],Je}},fc={lineStart:cu,point:function(Je,it){$a.push([Je,it])},lineEnd:function(){$a.length&&(Uo.push($a),$a=[])},result:function(){var Je=Uo.length?Uo.length<2?{type:"LineString",coordinates:Uo[0]}:{type:"MultiLineString",coordinates:Uo}:null;return Uo=[],Je}},hu={polygonStart:cu,lineStart:cu,point:function(Je,it){$a.push([Je,it])},lineEnd:function(){var Je=$a.length;if(Je){do $a.push($a[0].slice());while(++Je<4);Uo.push($a),$a=[]}},polygonEnd:cu,result:function(){if(!Uo.length)return null;var Je=[],it=[];return Uo.forEach(function(gt){ph(gt)?Je.push([gt]):it.push(gt)}),it.forEach(function(gt){var bt=gt[0];Je.some(function(Ot){if(gh(Ot[0],bt))return Ot.push(gt),!0})||Je.push([gt])}),Uo=[],Je.length?Je.length>1?{type:"MultiPolygon",coordinates:Je}:{type:"Polygon",coordinates:Je[0]}:null}};function Rs(Je){var it=Je(o,0)[0]-Je(-o,0)[0];function gt(bt,Ot){var It=L(bt)<o,Bt=Je(It?bt:bt>0?bt-c:bt+c,Ot),dr=(Bt[0]-Bt[1])*w,xr=(Bt[0]+Bt[1])*w;if(It)return[dr,xr];var ir=it*w,Mr=dr>0^xr>0?-1:1;return[Mr*dr-s(xr)*ir,Mr*xr-s(dr)*ir]}return Je.invert&&(gt.invert=function(bt,Ot){var It=(bt+Ot)*w,Bt=(Ot-bt)*w,dr=L(It)<.5*it&&L(Bt)<.5*it;if(!dr){var xr=it*w,ir=It>0^Bt>0?-1:1,Mr=-ir*bt+(Bt>0?1:-1)*xr,_r=-ir*Ot+(It>0?1:-1)*xr;It=(-Mr-_r)*w,Bt=(Mr-_r)*w}var Nr=Je.invert(It,Bt);return dr||(Nr[0]+=It>0?c:-c),Nr}),(0,y.c)(gt).rotate([-90,-90,45]).clipAngle(179.999)}function xh(){return Rs(gn).scale(176.423)}function cc(){return Rs(br).scale(111.48)}function hc(Je,it){if(!(0<=(it=+it)&&it<=20))throw new Error("invalid digits");function gt(ir){var Mr=ir.length,_r=2,Nr=new Array(Mr);for(Nr[0]=+ir[0].toFixed(it),Nr[1]=+ir[1].toFixed(it);_r<Mr;)Nr[_r]=ir[_r],++_r;return Nr}function bt(ir){return ir.map(gt)}function Ot(ir){for(var Mr=gt(ir[0]),_r=[Mr],Nr=1;Nr<ir.length;Nr++){var tn=gt(ir[Nr]);(tn.length>2||tn[0]!=Mr[0]||tn[1]!=Mr[1])&&(_r.push(tn),Mr=tn)}return _r.length===1&&ir.length>1&&_r.push(gt(ir[ir.length-1])),_r}function It(ir){return ir.map(Ot)}function Bt(ir){if(ir==null)return ir;var Mr;switch(ir.type){case"GeometryCollection":Mr={type:"GeometryCollection",geometries:ir.geometries.map(Bt)};break;case"Point":Mr={type:"Point",coordinates:gt(ir.coordinates)};break;case"MultiPoint":Mr={type:ir.type,coordinates:bt(ir.coordinates)};break;case"LineString":Mr={type:ir.type,coordinates:Ot(ir.coordinates)};break;case"MultiLineString":case"Polygon":Mr={type:ir.type,coordinates:It(ir.coordinates)};break;case"MultiPolygon":Mr={type:"MultiPolygon",coordinates:ir.coordinates.map(It)};break;default:return ir}return ir.bbox!=null&&(Mr.bbox=ir.bbox),Mr}function dr(ir){var Mr={type:"Feature",properties:ir.properties,geometry:Bt(ir.geometry)};return ir.id!=null&&(Mr.id=ir.id),ir.bbox!=null&&(Mr.bbox=ir.bbox),Mr}if(Je!=null)switch(Je.type){case"Feature":return dr(Je);case"FeatureCollection":{var xr={type:"FeatureCollection",features:Je.features.map(dr)};return Je.bbox!=null&&(xr.bbox=Je.bbox),xr}default:return Bt(Je)}return Je}function Mf(Je){var it=l(Je);function gt(bt,Ot){var It=it?m(bt*it/2)/it:bt/2;if(!Ot)return[2*It,-Je];var Bt=2*i(It*l(Ot)),dr=1/m(Ot);return[l(Bt)*dr,Ot+(1-b(Bt))*dr-Je]}return gt.invert=function(bt,Ot){if(L(Ot+=Je)<h)return[it?2*i(it*bt/2)/it:bt,0];var It=bt*bt+Ot*Ot,Bt=0,dr=10,xr;do{var ir=m(Bt),Mr=1/b(Bt),_r=It-2*Ot*Bt+Bt*Bt;Bt-=xr=(ir*_r+2*(Bt-Ot))/(2+_r*Mr*Mr+2*(Bt-Ot)*ir)}while(L(xr)>h&&--dr>0);var Nr=bt*(ir=m(Bt)),tn=m(L(Ot)<L(Bt+1/ir)?P(Nr)*.5:T(Nr)*.5+c/4)/l(Bt);return[it?2*i(it*tn)/it:2*tn,Bt]},gt}function vc(){return ut(Mf).scale(131.215)}var Ao=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Ao.forEach(function(Je){Je[1]*=1.0144});function ns(Je,it){var gt=a(18,L(it)*36/c),bt=p(gt),Ot=gt-bt,It=(_r=Ao[bt])[0],Bt=_r[1],dr=(_r=Ao[++bt])[0],xr=_r[1],ir=(_r=Ao[a(19,++bt)])[0],Mr=_r[1],_r;return[Je*(dr+Ot*(ir-It)/2+Ot*Ot*(ir-2*dr+It)/2),(it>0?o:-o)*(xr+Ot*(Mr-Bt)/2+Ot*Ot*(Mr-2*xr+Bt)/2)]}ns.invert=function(Je,it){var gt=it/o,bt=gt*90,Ot=a(18,L(bt/5)),It=t(0,p(Ot));do{var Bt=Ao[It][1],dr=Ao[It+1][1],xr=Ao[a(19,It+2)][1],ir=xr-Bt,Mr=xr-2*dr+Bt,_r=2*(L(gt)-dr)/ir,Nr=Mr/ir,tn=_r*(1-Nr*_r*(1-2*Nr*_r));if(tn>=0||It===1){bt=(it>=0?5:-5)*(tn+Ot);var mn=50,Dn;do Ot=a(18,L(bt)/5),It=p(Ot),tn=Ot-It,Bt=Ao[It][1],dr=Ao[It+1][1],xr=Ao[a(19,It+2)][1],bt-=(Dn=(it>=0?o:-o)*(dr+tn*(xr-Bt)/2+tn*tn*(xr-2*dr+Bt)/2)-it)*E;while(L(Dn)>g&&--mn>0);break}}while(--It>=0);var Rn=Ao[It][0],Yn=Ao[It+1][0],Di=Ao[a(19,It+2)][0];return[Je/(Yn+tn*(Di-Rn)/2+tn*tn*(Di-2*Yn+Rn)/2),bt*M]};function Ys(){return(0,y.c)(ns).scale(152.63)}function Ul(Je){function it(gt,bt){var Ot=b(bt),It=(Je-1)/(Je-Ot*b(gt));return[It*Ot*l(gt),It*l(bt)]}return it.invert=function(gt,bt){var Ot=gt*gt+bt*bt,It=z(Ot),Bt=(Je-z(1-Ot*(Je+1)/(Je-1)))/((Je-1)/It+It/(Je-1));return[S(gt*Bt,It*z(1-Bt*Bt)),It?P(bt*Bt/It):0]},it}function Zu(Je,it){var gt=Ul(Je);if(!it)return gt;var bt=b(it),Ot=l(it);function It(Bt,dr){var xr=gt(Bt,dr),ir=xr[1],Mr=ir*Ot/(Je-1)+bt;return[xr[0]*bt/Mr,ir/Mr]}return It.invert=function(Bt,dr){var xr=(Je-1)/(Je-1-dr*Ot);return gt.invert(xr*Bt,xr*dr*bt)},It}function cl(){var Je=2,it=0,gt=(0,y.U)(Zu),bt=gt(Je,it);return bt.distance=function(Ot){return arguments.length?gt(Je=+Ot,it):Je},bt.tilt=function(Ot){return arguments.length?gt(Je,it=Ot*M):it*E},bt.scale(432.147).clipAngle(T(1/Je)*E-1e-6)}var hl=1e-4,dc=1e4,Is=-180,Vl=Is+hl,js=180,_s=js-hl,vu=-90,Hl=vu+hl,va=90,Gl=va-hl;function Ku(Je){return Je.length>0}function pc(Je){return Math.floor(Je*dc)/dc}function Wl(Je){return Je===vu||Je===va?[0,Je]:[Is,pc(Je)]}function du(Je){var it=Je[0],gt=Je[1],bt=!1;return it<=Vl?(it=Is,bt=!0):it>=_s&&(it=js,bt=!0),gt<=Hl?(gt=vu,bt=!0):gt>=Gl&&(gt=va,bt=!0),bt?[it,gt]:Je}function Ju(Je){return Je.map(du)}function Sf(Je,it,gt){for(var bt=0,Ot=Je.length;bt<Ot;++bt){var It=Je[bt].slice();gt.push({index:-1,polygon:it,ring:It});for(var Bt=0,dr=It.length;Bt<dr;++Bt){var xr=It[Bt],ir=xr[0],Mr=xr[1];if(ir<=Vl||ir>=_s||Mr<=Hl||Mr>=Gl){It[Bt]=du(xr);for(var _r=Bt+1;_r<dr;++_r){var Nr=It[_r],tn=Nr[0],mn=Nr[1];if(tn>Vl&&tn<_s&&mn>Hl&&mn<Gl)break}if(_r===Bt+1)continue;if(Bt){var Dn={index:-1,polygon:it,ring:It.slice(0,Bt+1)};Dn.ring[Dn.ring.length-1]=Wl(Mr),gt[gt.length-1]=Dn}else gt.pop();if(_r>=dr)break;gt.push({index:-1,polygon:it,ring:It=It.slice(_r-1)}),It[0]=Wl(It[0][1]),Bt=-1,dr=It.length}}}}function pu(Je){var it,gt=Je.length,bt={},Ot={},It,Bt,dr,xr,ir;for(it=0;it<gt;++it){if(It=Je[it],Bt=It.ring[0],xr=It.ring[It.ring.length-1],Bt[0]===xr[0]&&Bt[1]===xr[1]){It.polygon.push(It.ring),Je[it]=null;continue}It.index=it,bt[Bt]=Ot[xr]=It}for(it=0;it<gt;++it)if(It=Je[it],It){if(Bt=It.ring[0],xr=It.ring[It.ring.length-1],dr=Ot[Bt],ir=bt[xr],delete bt[Bt],delete Ot[xr],Bt[0]===xr[0]&&Bt[1]===xr[1]){It.polygon.push(It.ring);continue}dr?(delete Ot[Bt],delete bt[dr.ring[0]],dr.ring.pop(),Je[dr.index]=null,It={index:-1,polygon:dr.polygon,ring:dr.ring.concat(It.ring)},dr===ir?It.polygon.push(It.ring):(It.index=gt++,Je.push(bt[It.ring[0]]=Ot[It.ring[It.ring.length-1]]=It))):ir?(delete bt[xr],delete Ot[ir.ring[ir.ring.length-1]],It.ring.pop(),It={index:gt++,polygon:ir.polygon,ring:It.ring.concat(ir.ring)},Je[ir.index]=null,Je.push(bt[It.ring[0]]=Ot[It.ring[It.ring.length-1]]=It)):(It.ring.push(It.ring[0]),It.polygon.push(It.ring))}}function gu(Je){var it={type:"Feature",geometry:Zs(Je.geometry)};return Je.id!=null&&(it.id=Je.id),Je.bbox!=null&&(it.bbox=Je.bbox),Je.properties!=null&&(it.properties=Je.properties),it}function Zs(Je){if(Je==null)return Je;var it,gt,bt,Ot;switch(Je.type){case"GeometryCollection":it={type:"GeometryCollection",geometries:Je.geometries.map(Zs)};break;case"Point":it={type:"Point",coordinates:du(Je.coordinates)};break;case"MultiPoint":case"LineString":it={type:Je.type,coordinates:Ju(Je.coordinates)};break;case"MultiLineString":it={type:"MultiLineString",coordinates:Je.coordinates.map(Ju)};break;case"Polygon":{var It=[];Sf(Je.coordinates,It,gt=[]),pu(gt),it={type:"Polygon",coordinates:It};break}case"MultiPolygon":{gt=[],bt=-1,Ot=Je.coordinates.length;for(var Bt=new Array(Ot);++bt<Ot;)Sf(Je.coordinates[bt],Bt[bt]=[],gt);pu(gt),it={type:"MultiPolygon",coordinates:Bt.filter(Ku)};break}default:return Je}return Je.bbox!=null&&(it.bbox=Je.bbox),it}function yu(Je){if(Je==null)return Je;switch(Je.type){case"Feature":return gu(Je);case"FeatureCollection":{var it={type:"FeatureCollection",features:Je.features.map(gu)};return Je.bbox!=null&&(it.bbox=Je.bbox),it}default:return Zs(Je)}}function Ks(Je,it){var gt=m(it/2),bt=l(d*gt);return[Je*(.74482-.34588*bt*bt),1.70711*gt]}Ks.invert=function(Je,it){var gt=it/1.70711,bt=l(d*gt);return[Je/(.74482-.34588*bt*bt),2*i(gt)]};function Wa(){return(0,y.c)(Ks).scale(146.153)}function ys(Je,it,gt){var bt=(0,xf.c)(it,gt),Ot=bt(.5),It=(0,Ye.c)([-Ot[0],-Ot[1]])(it),Bt=bt.distance/2,dr=-P(l(It[1]*M)/l(Bt)),xr=[-Ot[0],-Ot[1],-(It[0]>0?c-dr:dr)*E],ir=(0,y.c)(Je(Bt)).rotate(xr),Mr=(0,Ye.c)(xr),_r=ir.center;return delete ir.rotate,ir.center=function(Nr){return arguments.length?_r(Mr(Nr)):Mr.invert(_r())},ir.clipAngle(90)}function Ef(Je){var it=b(Je);function gt(bt,Ot){var It=(0,Ws.Y)(bt,Ot);return It[0]*=it,It}return gt.invert=function(bt,Ot){return Ws.Y.invert(bt/it,Ot)},gt}function vl(){return Qu([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Qu(Je,it){return ys(Ef,Je,it)}function mu(Je){if(!(Je*=2))return oe.O;var it=-Je/2,gt=-it,bt=Je*Je,Ot=m(gt),It=.5/l(gt);function Bt(dr,xr){var ir=T(b(xr)*b(dr-it)),Mr=T(b(xr)*b(dr-gt)),_r=xr<0?-1:1;return ir*=ir,Mr*=Mr,[(ir-Mr)/(2*Je),_r*z(4*bt*Mr-(bt-ir+Mr)*(bt-ir+Mr))/(2*Je)]}return Bt.invert=function(dr,xr){var ir=xr*xr,Mr=b(z(ir+(Nr=dr+it)*Nr)),_r=b(z(ir+(Nr=dr+gt)*Nr)),Nr,tn;return[S(tn=Mr-_r,Nr=(Mr+_r)*Ot),(xr<0?-1:1)*T(z(Nr*Nr+tn*tn)*It)]},Bt}function bh(){return gc([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function gc(Je,it){return ys(mu,Je,it)}function go(Je,it){if(L(it)<h)return[Je,0];var gt=L(it/o),bt=P(gt);if(L(Je)<h||L(L(it)-o)<h)return[0,s(it)*c*m(bt/2)];var Ot=b(bt),It=L(c/Je-Je/c)/2,Bt=It*It,dr=Ot/(gt+Ot-1),xr=dr*(2/gt-1),ir=xr*xr,Mr=ir+Bt,_r=dr-ir,Nr=Bt+dr;return[s(Je)*c*(It*_r+z(Bt*_r*_r-Mr*(dr*dr-ir)))/Mr,s(it)*c*(xr*Nr-It*z((Bt+1)*Mr-Nr*Nr))/Mr]}go.invert=function(Je,it){if(L(it)<h)return[Je,0];if(L(Je)<h)return[0,o*l(2*i(it/c))];var gt=(Je/=c)*Je,bt=(it/=c)*it,Ot=gt+bt,It=Ot*Ot,Bt=-L(it)*(1+Ot),dr=Bt-2*bt+gt,xr=-2*Bt+1+2*bt+It,ir=bt/xr+(2*dr*dr*dr/(xr*xr*xr)-9*Bt*dr/(xr*xr))/27,Mr=(Bt-dr*dr/(3*xr))/xr,_r=2*z(-Mr/3),Nr=T(3*ir/(Mr*_r))/3;return[c*(Ot-1+z(1+2*(gt-bt)+It))/(2*Je),s(it)*c*(-_r*b(Nr+c/3)-dr/(3*xr))]};function xu(){return(0,y.c)(go).scale(79.4183)}function Xl(Je,it){if(L(it)<h)return[Je,0];var gt=L(it/o),bt=P(gt);if(L(Je)<h||L(L(it)-o)<h)return[0,s(it)*c*m(bt/2)];var Ot=b(bt),It=L(c/Je-Je/c)/2,Bt=It*It,dr=Ot*(z(1+Bt)-It*Ot)/(1+Bt*gt*gt);return[s(Je)*c*dr,s(it)*c*z(1-dr*(2*It+dr))]}Xl.invert=function(Je,it){if(!Je)return[0,o*l(2*i(it/c))];var gt=L(Je/c),bt=(1-gt*gt-(it/=c)*it)/(2*gt),Ot=bt*bt,It=z(Ot+1);return[s(Je)*c*(It-bt),s(it)*o*l(2*S(z((1-2*bt*gt)*(bt+It)-gt),z(It+bt+gt)))]};function yc(){return(0,y.c)(Xl).scale(79.4183)}function Js(Je,it){if(L(it)<h)return[Je,0];var gt=it/o,bt=P(gt);if(L(Je)<h||L(L(it)-o)<h)return[0,c*m(bt/2)];var Ot=(c/Je-Je/c)/2,It=gt/(1+b(bt));return[c*(s(Je)*z(Ot*Ot+1-It*It)-Ot),c*It]}Js.invert=function(Je,it){if(!it)return[Je,0];var gt=it/c,bt=(c*c*(1-gt*gt)-Je*Je)/(2*c*Je);return[Je?c*(s(Je)*z(bt*bt+1)-bt):0,o*l(2*i(gt))]};function wh(){return(0,y.c)(Js).scale(79.4183)}function _o(Je,it){if(!it)return[Je,0];var gt=L(it);if(!Je||gt===o)return[0,it];var bt=gt/o,Ot=bt*bt,It=(8*bt-Ot*(Ot+2)-5)/(2*Ot*(bt-1)),Bt=It*It,dr=bt*It,xr=Ot+Bt+2*dr,ir=bt+3*It,Mr=Je/o,_r=Mr+1/Mr,Nr=s(L(Je)-o)*z(_r*_r-4),tn=Nr*Nr,mn=xr*(Ot+Bt*tn-1)+(1-Ot)*(Ot*(ir*ir+4*Bt)+12*dr*Bt+4*Bt*Bt),Dn=(Nr*(xr+Bt-1)+2*z(mn))/(4*xr+tn);return[s(Je)*o*Dn,s(it)*o*z(1+Nr*L(Dn)-Dn*Dn)]}_o.invert=function(Je,it){var gt;if(!Je||!it)return[Je,it];it/=c;var bt=s(Je)*Je/o,Ot=(bt*bt-1+4*it*it)/L(bt),It=Ot*Ot,Bt=2*it,dr=50;do{var xr=Bt*Bt,ir=(8*Bt-xr*(xr+2)-5)/(2*xr*(Bt-1)),Mr=(3*Bt-xr*Bt-10)/(2*xr*Bt),_r=ir*ir,Nr=Bt*ir,tn=Bt+ir,mn=tn*tn,Dn=Bt+3*ir,Rn=mn*(xr+_r*It-1)+(1-xr)*(xr*(Dn*Dn+4*_r)+_r*(12*Nr+4*_r)),Yn=-2*tn*(4*Nr*_r+(1-4*xr+3*xr*xr)*(1+Mr)+_r*(-6+14*xr-It+(-8+8*xr-2*It)*Mr)+Nr*(-8+12*xr+(-10+10*xr-It)*Mr)),Di=z(Rn),Ri=Ot*(mn+_r-1)+2*Di-bt*(4*mn+It),Ii=Ot*(2*ir*Mr+2*tn*(1+Mr))+Yn/Di-8*tn*(Ot*(-1+_r+mn)+2*Di)*(1+Mr)/(It+4*mn);Bt-=gt=Ri/Ii}while(gt>h&&--dr>0);return[s(Je)*(z(Ot*Ot+4)+Ot)*c/4,o*Bt]};function bu(){return(0,y.c)(_o).scale(127.16)}function $u(Je,it,gt,bt,Ot){function It(Bt,dr){var xr=gt*l(bt*dr),ir=z(1-xr*xr),Mr=z(2/(1+ir*b(Bt*=Ot)));return[Je*ir*Mr*l(Bt),it*xr*Mr]}return It.invert=function(Bt,dr){var xr=Bt/Je,ir=dr/it,Mr=z(xr*xr+ir*ir),_r=2*P(Mr/2);return[S(Bt*m(_r),Je*Mr)/Ot,Mr&&P(dr*l(_r)/(it*gt*Mr))/bt]},It}function ks(Je,it,gt,bt){var Ot=c/3;Je=t(Je,h),it=t(it,h),Je=a(Je,o),it=a(it,c-h),gt=t(gt,0),gt=a(gt,100-h),bt=t(bt,h);var It=gt/100+1,Bt=bt/100,dr=T(It*b(Ot))/Ot,xr=l(Je)/l(dr*o),ir=it/c,Mr=z(Bt*l(Je/2)/l(it/2)),_r=Mr/z(ir*xr*dr),Nr=1/(Mr*z(ir*xr*dr));return $u(_r,Nr,xr,dr,ir)}function Qs(){var Je=65*M,it=60*M,gt=20,bt=200,Ot=(0,y.U)(ks),It=Ot(Je,it,gt,bt);return It.poleline=function(Bt){return arguments.length?Ot(Je=+Bt*M,it,gt,bt):Je*E},It.parallels=function(Bt){return arguments.length?Ot(Je,it=+Bt*M,gt,bt):it*E},It.inflation=function(Bt){return arguments.length?Ot(Je,it,gt=+Bt,bt):gt},It.ratio=function(Bt){return arguments.length?Ot(Je,it,gt,bt=+Bt):bt},It.scale(163.775)}function Cf(){return Qs().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var wu=4*c+3*z(3),Tu=2*z(2*c*z(3)/wu),qu=xe(Tu*z(3)/c,Tu,wu/6);function mc(){return(0,y.c)(qu).scale(176.84)}function Au(Je,it){return[Je*z(1-3*it*it/(c*c)),it]}Au.invert=function(Je,it){return[Je/z(1-3*it*it/(c*c)),it]};function Lf(){return(0,y.c)(Au).scale(152.63)}function dl(Je,it){var gt=b(it),bt=b(Je)*gt,Ot=1-bt,It=b(Je=S(l(Je)*gt,-l(it))),Bt=l(Je);return gt=z(1-bt*bt),[Bt*gt-It*Ot,-It*gt-Bt*Ot]}dl.invert=function(Je,it){var gt=(Je*Je+it*it)/-2,bt=z(-gt*(2+gt)),Ot=it*gt+Je*bt,It=Je*gt-it*bt,Bt=z(It*It+Ot*Ot);return[S(bt*Ot,Bt*(1+gt)),Bt?-P(bt*It/Bt):0]};function Pf(){return(0,y.c)(dl).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Mu(Je,it){var gt=j(Je,it);return[(gt[0]+Je/o)/2,(gt[1]+it)/2]}Mu.invert=function(Je,it){var gt=Je,bt=it,Ot=25;do{var It=b(bt),Bt=l(bt),dr=l(2*bt),xr=Bt*Bt,ir=It*It,Mr=l(gt),_r=b(gt/2),Nr=l(gt/2),tn=Nr*Nr,mn=1-ir*_r*_r,Dn=mn?T(It*_r)*z(Rn=1/mn):Rn=0,Rn,Yn=.5*(2*Dn*It*Nr+gt/o)-Je,Di=.5*(Dn*Bt+bt)-it,Ri=.5*Rn*(ir*tn+Dn*It*_r*xr)+.5/o,Ii=Rn*(Mr*dr/4-Dn*Bt*Nr),Fi=.125*Rn*(dr*Nr-Dn*Bt*ir*Mr),Zi=.5*Rn*(xr*_r+Dn*tn*It)+.5,da=Ii*Fi-Zi*Ri,za=(Di*Ii-Yn*Zi)/da,fe=(Yn*Fi-Di*Ri)/da;gt-=za,bt-=fe}while((L(za)>h||L(fe)>h)&&--Ot>0);return[gt,bt]};function xc(){return(0,y.c)(Mu).scale(158.837)}},88728:function(U,B,e){e.d(B,{c:function(){return y}});function y(){return new L}function L(){this.reset()}L.prototype={constructor:L,reset:function(){this.s=this.t=0},add:function(b){S(i,b,this.t),S(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new L;function S(b,v,p){var r=b.s=v+p,t=r-v,a=r-t;b.t=v-a+(p-t)}},95384:function(U,B,e){e.d(B,{cp:function(){return g},mQ:function(){return b},oB:function(){return u}});var y=e(88728),L=e(64528),i=e(70932),S=e(16016),b=(0,y.c)(),v=(0,y.c)(),p,r,t,a,n,u={point:i.c,lineStart:i.c,lineEnd:i.c,polygonStart:function(){b.reset(),u.lineStart=s,u.lineEnd=l},polygonEnd:function(){var c=+b;v.add(c<0?L.kD+c:c),this.lineStart=this.lineEnd=this.point=i.c},sphere:function(){v.add(L.kD)}};function s(){u.point=m}function l(){h(p,r)}function m(c,o){u.point=h,p=c,r=o,c*=L.qw,o*=L.qw,t=c,a=(0,L.W8)(o=o/2+L.wL),n=(0,L.g$)(o)}function h(c,o){c*=L.qw,o*=L.qw,o=o/2+L.wL;var d=c-t,w=d>=0?1:-1,A=w*d,C=(0,L.W8)(o),x=(0,L.g$)(o),E=n*x,M=a*C+E*(0,L.W8)(A),f=E*w*(0,L.g$)(A);b.add((0,L.WE)(f,M)),t=c,a=C,n=x}function g(c){return v.reset(),(0,S.c)(c,u),v*2}},13696:function(U,B,e){e.d(B,{c:function(){return P}});var y=e(88728),L=e(95384),i=e(84220),S=e(64528),b=e(16016),v,p,r,t,a,n,u,s,l=(0,y.c)(),m,h,g={point:c,lineStart:d,lineEnd:w,polygonStart:function(){g.point=A,g.lineStart=C,g.lineEnd=x,l.reset(),L.oB.polygonStart()},polygonEnd:function(){L.oB.polygonEnd(),g.point=c,g.lineStart=d,g.lineEnd=w,L.mQ<0?(v=-(r=180),p=-(t=90)):l>S.Gg?t=90:l<-S.Gg&&(p=-90),h[0]=v,h[1]=r},sphere:function(){v=-(r=180),p=-(t=90)}};function c(T,z){m.push(h=[v=T,r=T]),z<p&&(p=z),z>t&&(t=z)}function o(T,z){var _=(0,i.ux)([T*S.qw,z*S.qw]);if(s){var V=(0,i.CW)(s,_),F=[V[1],-V[0],0],N=(0,i.CW)(F,V);(0,i.cJ)(N),N=(0,i.G)(N);var k=T-a,I=k>0?1:-1,H=N[0]*S.oh*I,j,ee=(0,S.a2)(k)>180;ee^(I*a<H&&H<I*T)?(j=N[1]*S.oh,j>t&&(t=j)):(H=(H+360)%360-180,ee^(I*a<H&&H<I*T)?(j=-N[1]*S.oh,j<p&&(p=j)):(z<p&&(p=z),z>t&&(t=z))),ee?T<a?E(v,T)>E(v,r)&&(r=T):E(T,r)>E(v,r)&&(v=T):r>=v?(T<v&&(v=T),T>r&&(r=T)):T>a?E(v,T)>E(v,r)&&(r=T):E(T,r)>E(v,r)&&(v=T)}else m.push(h=[v=T,r=T]);z<p&&(p=z),z>t&&(t=z),s=_,a=T}function d(){g.point=o}function w(){h[0]=v,h[1]=r,g.point=c,s=null}function A(T,z){if(s){var _=T-a;l.add((0,S.a2)(_)>180?_+(_>0?360:-360):_)}else n=T,u=z;L.oB.point(T,z),o(T,z)}function C(){L.oB.lineStart()}function x(){A(n,u),L.oB.lineEnd(),(0,S.a2)(l)>S.Gg&&(v=-(r=180)),h[0]=v,h[1]=r,s=null}function E(T,z){return(z-=T)<0?z+360:z}function M(T,z){return T[0]-z[0]}function f(T,z){return T[0]<=T[1]?T[0]<=z&&z<=T[1]:z<T[0]||T[1]<z}function P(T){var z,_,V,F,N,k,I;if(t=r=-(v=p=1/0),m=[],(0,b.c)(T,g),_=m.length){for(m.sort(M),z=1,V=m[0],N=[V];z<_;++z)F=m[z],f(V,F[0])||f(V,F[1])?(E(V[0],F[1])>E(V[0],V[1])&&(V[1]=F[1]),E(F[0],V[1])>E(V[0],V[1])&&(V[0]=F[0])):N.push(V=F);for(k=-1/0,_=N.length-1,z=0,V=N[_];z<=_;V=F,++z)F=N[z],(I=E(V[1],F[0]))>k&&(k=I,v=F[0],r=V[1])}return m=h=null,v===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,p],[r,t]]}},84220:function(U,B,e){e.d(B,{CW:function(){return b},Ez:function(){return S},G:function(){return L},cJ:function(){return r},mg:function(){return v},ux:function(){return i},wx:function(){return p}});var y=e(64528);function L(t){return[(0,y.WE)(t[1],t[0]),(0,y.qR)(t[2])]}function i(t){var a=t[0],n=t[1],u=(0,y.W8)(n);return[u*(0,y.W8)(a),u*(0,y.g$)(a),(0,y.g$)(n)]}function S(t,a){return t[0]*a[0]+t[1]*a[1]+t[2]*a[2]}function b(t,a){return[t[1]*a[2]-t[2]*a[1],t[2]*a[0]-t[0]*a[2],t[0]*a[1]-t[1]*a[0]]}function v(t,a){t[0]+=a[0],t[1]+=a[1],t[2]+=a[2]}function p(t,a){return[t[0]*a,t[1]*a,t[2]*a]}function r(t){var a=(0,y._I)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=a,t[1]/=a,t[2]/=a}},24052:function(U,B,e){e.d(B,{c:function(){return _}});var y=e(64528),L=e(70932),i=e(16016),S,b,v,p,r,t,a,n,u,s,l,m,h,g,c,o,d={sphere:L.c,point:w,lineStart:C,lineEnd:M,polygonStart:function(){d.lineStart=f,d.lineEnd=P},polygonEnd:function(){d.lineStart=C,d.lineEnd=M}};function w(V,F){V*=y.qw,F*=y.qw;var N=(0,y.W8)(F);A(N*(0,y.W8)(V),N*(0,y.g$)(V),(0,y.g$)(F))}function A(V,F,N){++S,v+=(V-v)/S,p+=(F-p)/S,r+=(N-r)/S}function C(){d.point=x}function x(V,F){V*=y.qw,F*=y.qw;var N=(0,y.W8)(F);g=N*(0,y.W8)(V),c=N*(0,y.g$)(V),o=(0,y.g$)(F),d.point=E,A(g,c,o)}function E(V,F){V*=y.qw,F*=y.qw;var N=(0,y.W8)(F),k=N*(0,y.W8)(V),I=N*(0,y.g$)(V),H=(0,y.g$)(F),j=(0,y.WE)((0,y._I)((j=c*H-o*I)*j+(j=o*k-g*H)*j+(j=g*I-c*k)*j),g*k+c*I+o*H);b+=j,t+=j*(g+(g=k)),a+=j*(c+(c=I)),n+=j*(o+(o=H)),A(g,c,o)}function M(){d.point=w}function f(){d.point=T}function P(){z(m,h),d.point=w}function T(V,F){m=V,h=F,V*=y.qw,F*=y.qw,d.point=z;var N=(0,y.W8)(F);g=N*(0,y.W8)(V),c=N*(0,y.g$)(V),o=(0,y.g$)(F),A(g,c,o)}function z(V,F){V*=y.qw,F*=y.qw;var N=(0,y.W8)(F),k=N*(0,y.W8)(V),I=N*(0,y.g$)(V),H=(0,y.g$)(F),j=c*H-o*I,ee=o*k-g*H,te=g*I-c*k,ne=(0,y._I)(j*j+ee*ee+te*te),ue=(0,y.qR)(ne),q=ne&&-ue/ne;u+=q*j,s+=q*ee,l+=q*te,b+=ue,t+=ue*(g+(g=k)),a+=ue*(c+(c=I)),n+=ue*(o+(o=H)),A(g,c,o)}function _(V){S=b=v=p=r=t=a=n=u=s=l=0,(0,i.c)(V,d);var F=u,N=s,k=l,I=F*F+N*N+k*k;return I<y.a8&&(F=t,N=a,k=n,b<y.Gg&&(F=v,N=p,k=r),I=F*F+N*N+k*k,I<y.a8)?[NaN,NaN]:[(0,y.WE)(N,F)*y.oh,(0,y.qR)(k/(0,y._I)(I))*y.oh]}},61780:function(U,B,e){e.d(B,{Q:function(){return b},c:function(){return p}});var y=e(84220);function L(r){return function(){return r}}var i=e(64528),S=e(92992);function b(r,t,a,n,u,s){if(a){var l=(0,i.W8)(t),m=(0,i.g$)(t),h=n*a;u==null?(u=t+n*i.kD,s=t-h/2):(u=v(l,u),s=v(l,s),(n>0?u<s:u>s)&&(u+=n*i.kD));for(var g,c=u;n>0?c>s:c<s;c-=h)g=(0,y.G)([l,-m*(0,i.W8)(c),-m*(0,i.g$)(c)]),r.point(g[0],g[1])}}function v(r,t){t=(0,y.ux)(t),t[0]-=r,(0,y.cJ)(t);var a=(0,i.mE)(-t[1]);return((-t[2]<0?-a:a)+i.kD-i.Gg)%i.kD}function p(){var r=L([0,0]),t=L(90),a=L(6),n,u,s={point:l};function l(h,g){n.push(h=u(h,g)),h[0]*=i.oh,h[1]*=i.oh}function m(){var h=r.apply(this,arguments),g=t.apply(this,arguments)*i.qw,c=a.apply(this,arguments)*i.qw;return n=[],u=(0,S.O)(-h[0]*i.qw,-h[1]*i.qw,0).invert,b(s,g,c,1),h={type:"Polygon",coordinates:[n]},n=u=null,h}return m.center=function(h){return arguments.length?(r=typeof h=="function"?h:L([+h[0],+h[1]]),m):r},m.radius=function(h){return arguments.length?(t=typeof h=="function"?h:L(+h),m):t},m.precision=function(h){return arguments.length?(a=typeof h=="function"?h:L(+h),m):a},m}},78284:function(U,B,e){var y=e(14229),L=e(64528);B.c=(0,y.c)(function(){return!0},i,b,[-L.pi,-L.or]);function i(v){var p=NaN,r=NaN,t=NaN,a;return{lineStart:function(){v.lineStart(),a=1},point:function(n,u){var s=n>0?L.pi:-L.pi,l=(0,L.a2)(n-p);(0,L.a2)(l-L.pi)<L.Gg?(v.point(p,r=(r+u)/2>0?L.or:-L.or),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(s,r),v.point(n,r),a=0):t!==s&&l>=L.pi&&((0,L.a2)(p-t)<L.Gg&&(p-=t*L.Gg),(0,L.a2)(n-s)<L.Gg&&(n-=s*L.Gg),r=S(p,r,n,u),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(s,r),a=0),v.point(p=n,r=u),t=s},lineEnd:function(){v.lineEnd(),p=r=NaN},clean:function(){return 2-a}}}function S(v,p,r,t){var a,n,u=(0,L.g$)(v-r);return(0,L.a2)(u)>L.Gg?(0,L.MQ)(((0,L.g$)(p)*(n=(0,L.W8)(t))*(0,L.g$)(r)-(0,L.g$)(t)*(a=(0,L.W8)(p))*(0,L.g$)(v))/(a*n*u)):(p+t)/2}function b(v,p,r,t){var a;if(v==null)a=r*L.or,t.point(-L.pi,a),t.point(0,a),t.point(L.pi,a),t.point(L.pi,0),t.point(L.pi,-a),t.point(0,-a),t.point(-L.pi,-a),t.point(-L.pi,0),t.point(-L.pi,a);else if((0,L.a2)(v[0]-p[0])>L.Gg){var n=v[0]<p[0]?L.pi:-L.pi;a=r*n/2,t.point(-n,a),t.point(0,a),t.point(n,a)}else t.point(p[0],p[1])}},97208:function(U,B,e){e.d(B,{c:function(){return L}});var y=e(70932);function L(){var i=[],S;return{point:function(b,v,p){S.push([b,v,p])},lineStart:function(){i.push(S=[])},lineEnd:y.c,rejoin:function(){i.length>1&&i.push(i.pop().concat(i.shift()))},result:function(){var b=i;return i=[],S=null,b}}}},2728:function(U,B,e){e.d(B,{c:function(){return v}});var y=e(84220),L=e(61780),i=e(64528),S=e(41860),b=e(14229);function v(p){var r=(0,i.W8)(p),t=6*i.qw,a=r>0,n=(0,i.a2)(r)>i.Gg;function u(g,c,o,d){(0,L.Q)(d,p,t,o,g,c)}function s(g,c){return(0,i.W8)(g)*(0,i.W8)(c)>r}function l(g){var c,o,d,w,A;return{lineStart:function(){w=d=!1,A=1},point:function(C,x){var E=[C,x],M,f=s(C,x),P=a?f?0:h(C,x):f?h(C+(C<0?i.pi:-i.pi),x):0;if(!c&&(w=d=f)&&g.lineStart(),f!==d&&(M=m(c,E),(!M||(0,S.c)(c,M)||(0,S.c)(E,M))&&(E[2]=1)),f!==d)A=0,f?(g.lineStart(),M=m(E,c),g.point(M[0],M[1])):(M=m(c,E),g.point(M[0],M[1],2),g.lineEnd()),c=M;else if(n&&c&&a^f){var T;!(P&o)&&(T=m(E,c,!0))&&(A=0,a?(g.lineStart(),g.point(T[0][0],T[0][1]),g.point(T[1][0],T[1][1]),g.lineEnd()):(g.point(T[1][0],T[1][1]),g.lineEnd(),g.lineStart(),g.point(T[0][0],T[0][1],3)))}f&&(!c||!(0,S.c)(c,E))&&g.point(E[0],E[1]),c=E,d=f,o=P},lineEnd:function(){d&&g.lineEnd(),c=null},clean:function(){return A|(w&&d)<<1}}}function m(g,c,o){var d=(0,y.ux)(g),w=(0,y.ux)(c),A=[1,0,0],C=(0,y.CW)(d,w),x=(0,y.Ez)(C,C),E=C[0],M=x-E*E;if(!M)return!o&&g;var f=r*x/M,P=-r*E/M,T=(0,y.CW)(A,C),z=(0,y.wx)(A,f),_=(0,y.wx)(C,P);(0,y.mg)(z,_);var V=T,F=(0,y.Ez)(z,V),N=(0,y.Ez)(V,V),k=F*F-N*((0,y.Ez)(z,z)-1);if(!(k<0)){var I=(0,i._I)(k),H=(0,y.wx)(V,(-F-I)/N);if((0,y.mg)(H,z),H=(0,y.G)(H),!o)return H;var j=g[0],ee=c[0],te=g[1],ne=c[1],ue;ee<j&&(ue=j,j=ee,ee=ue);var q=ee-j,Y=(0,i.a2)(q-i.pi)<i.Gg,Z=Y||q<i.Gg;if(!Y&&ne<te&&(ue=te,te=ne,ne=ue),Z?Y?te+ne>0^H[1]<((0,i.a2)(H[0]-j)<i.Gg?te:ne):te<=H[1]&&H[1]<=ne:q>i.pi^(j<=H[0]&&H[0]<=ee)){var G=(0,y.wx)(V,(-F+I)/N);return(0,y.mg)(G,z),[H,(0,y.G)(G)]}}}function h(g,c){var o=a?p:i.pi-p,d=0;return g<-o?d|=1:g>o&&(d|=2),c<-o?d|=4:c>o&&(d|=8),d}return(0,b.c)(s,l,u,a?[0,-p]:[-i.pi,p-i.pi])}},14229:function(U,B,e){e.d(B,{c:function(){return v}});var y=e(97208),L=e(32232),i=e(64528),S=e(58196),b=e(84706);function v(t,a,n,u){return function(s){var l=a(s),m=(0,y.c)(),h=a(m),g=!1,c,o,d,w={point:A,lineStart:x,lineEnd:E,polygonStart:function(){w.point=M,w.lineStart=f,w.lineEnd=P,o=[],c=[]},polygonEnd:function(){w.point=A,w.lineStart=x,w.lineEnd=E,o=(0,b.Uf)(o);var T=(0,S.c)(c,u);o.length?(g||(s.polygonStart(),g=!0),(0,L.c)(o,r,T,n,s)):T&&(g||(s.polygonStart(),g=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),g&&(s.polygonEnd(),g=!1),o=c=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function A(T,z){t(T,z)&&s.point(T,z)}function C(T,z){l.point(T,z)}function x(){w.point=C,l.lineStart()}function E(){w.point=A,l.lineEnd()}function M(T,z){d.push([T,z]),h.point(T,z)}function f(){h.lineStart(),d=[]}function P(){M(d[0][0],d[0][1]),h.lineEnd();var T=h.clean(),z=m.result(),_,V=z.length,F,N,k;if(d.pop(),c.push(d),d=null,!!V){if(T&1){if(N=z[0],(F=N.length-1)>0){for(g||(s.polygonStart(),g=!0),s.lineStart(),_=0;_<F;++_)s.point((k=N[_])[0],k[1]);s.lineEnd()}return}V>1&&T&2&&z.push(z.pop().concat(z.shift())),o.push(z.filter(p))}}return w}}function p(t){return t.length>1}function r(t,a){return((t=t.x)[0]<0?t[1]-i.or-i.Gg:i.or-t[1])-((a=a.x)[0]<0?a[1]-i.or-i.Gg:i.or-a[1])}},21676:function(U,B,e){e.d(B,{c:function(){return r}});var y=e(64528),L=e(97208);function i(t,a,n,u,s,l){var m=t[0],h=t[1],g=a[0],c=a[1],o=0,d=1,w=g-m,A=c-h,C;if(C=n-m,!(!w&&C>0)){if(C/=w,w<0){if(C<o)return;C<d&&(d=C)}else if(w>0){if(C>d)return;C>o&&(o=C)}if(C=s-m,!(!w&&C<0)){if(C/=w,w<0){if(C>d)return;C>o&&(o=C)}else if(w>0){if(C<o)return;C<d&&(d=C)}if(C=u-h,!(!A&&C>0)){if(C/=A,A<0){if(C<o)return;C<d&&(d=C)}else if(A>0){if(C>d)return;C>o&&(o=C)}if(C=l-h,!(!A&&C<0)){if(C/=A,A<0){if(C>d)return;C>o&&(o=C)}else if(A>0){if(C<o)return;C<d&&(d=C)}return o>0&&(t[0]=m+o*w,t[1]=h+o*A),d<1&&(a[0]=m+d*w,a[1]=h+d*A),!0}}}}}var S=e(32232),b=e(84706),v=1e9,p=-v;function r(t,a,n,u){function s(c,o){return t<=c&&c<=n&&a<=o&&o<=u}function l(c,o,d,w){var A=0,C=0;if(c==null||(A=m(c,d))!==(C=m(o,d))||g(c,o)<0^d>0)do w.point(A===0||A===3?t:n,A>1?u:a);while((A=(A+d+4)%4)!==C);else w.point(o[0],o[1])}function m(c,o){return(0,y.a2)(c[0]-t)<y.Gg?o>0?0:3:(0,y.a2)(c[0]-n)<y.Gg?o>0?2:1:(0,y.a2)(c[1]-a)<y.Gg?o>0?1:0:o>0?3:2}function h(c,o){return g(c.x,o.x)}function g(c,o){var d=m(c,1),w=m(o,1);return d!==w?d-w:d===0?o[1]-c[1]:d===1?c[0]-o[0]:d===2?c[1]-o[1]:o[0]-c[0]}return function(c){var o=c,d=(0,L.c)(),w,A,C,x,E,M,f,P,T,z,_,V={point:F,lineStart:H,lineEnd:j,polygonStart:k,polygonEnd:I};function F(te,ne){s(te,ne)&&o.point(te,ne)}function N(){for(var te=0,ne=0,ue=A.length;ne<ue;++ne)for(var q=A[ne],Y=1,Z=q.length,G=q[0],K,oe,$=G[0],J=G[1];Y<Z;++Y)K=$,oe=J,G=q[Y],$=G[0],J=G[1],oe<=u?J>u&&($-K)*(u-oe)>(J-oe)*(t-K)&&++te:J<=u&&($-K)*(u-oe)<(J-oe)*(t-K)&&--te;return te}function k(){o=d,w=[],A=[],_=!0}function I(){var te=N(),ne=_&&te,ue=(w=(0,b.Uf)(w)).length;(ne||ue)&&(c.polygonStart(),ne&&(c.lineStart(),l(null,null,1,c),c.lineEnd()),ue&&(0,S.c)(w,h,te,l,c),c.polygonEnd()),o=c,w=A=C=null}function H(){V.point=ee,A&&A.push(C=[]),z=!0,T=!1,f=P=NaN}function j(){w&&(ee(x,E),M&&T&&d.rejoin(),w.push(d.result())),V.point=F,T&&o.lineEnd()}function ee(te,ne){var ue=s(te,ne);if(A&&C.push([te,ne]),z)x=te,E=ne,M=ue,z=!1,ue&&(o.lineStart(),o.point(te,ne));else if(ue&&T)o.point(te,ne);else{var q=[f=Math.max(p,Math.min(v,f)),P=Math.max(p,Math.min(v,P))],Y=[te=Math.max(p,Math.min(v,te)),ne=Math.max(p,Math.min(v,ne))];i(q,Y,t,a,n,u)?(T||(o.lineStart(),o.point(q[0],q[1])),o.point(Y[0],Y[1]),ue||o.lineEnd(),_=!1):ue&&(o.lineStart(),o.point(te,ne),_=!1)}f=te,P=ne,T=ue}return V}}},32232:function(U,B,e){e.d(B,{c:function(){return S}});var y=e(41860),L=e(64528);function i(v,p,r,t){this.x=v,this.z=p,this.o=r,this.e=t,this.v=!1,this.n=this.p=null}function S(v,p,r,t,a){var n=[],u=[],s,l;if(v.forEach(function(d){if(!((w=d.length-1)<=0)){var w,A=d[0],C=d[w],x;if((0,y.c)(A,C)){if(!A[2]&&!C[2]){for(a.lineStart(),s=0;s<w;++s)a.point((A=d[s])[0],A[1]);a.lineEnd();return}C[0]+=2*L.Gg}n.push(x=new i(A,d,null,!0)),u.push(x.o=new i(A,null,x,!1)),n.push(x=new i(C,d,null,!1)),u.push(x.o=new i(C,null,x,!0))}}),!!n.length){for(u.sort(p),b(n),b(u),s=0,l=u.length;s<l;++s)u[s].e=r=!r;for(var m=n[0],h,g;;){for(var c=m,o=!0;c.v;)if((c=c.n)===m)return;h=c.z,a.lineStart();do{if(c.v=c.o.v=!0,c.e){if(o)for(s=0,l=h.length;s<l;++s)a.point((g=h[s])[0],g[1]);else t(c.x,c.n.x,1,a);c=c.n}else{if(o)for(h=c.p.z,s=h.length-1;s>=0;--s)a.point((g=h[s])[0],g[1]);else t(c.x,c.p.x,-1,a);c=c.p}c=c.o,h=c.z,o=!o}while(!c.v);a.lineEnd()}}}function b(v){if(p=v.length){for(var p,r=0,t=v[0],a;++r<p;)t.n=a=v[r],a.p=t,t=a;t.n=a=v[0],a.p=t}}},68120:function(U,B,e){e.d(B,{c:function(){return y}});function y(L,i){function S(b,v){return b=L(b,v),i(b[0],b[1])}return L.invert&&i.invert&&(S.invert=function(b,v){return b=i.invert(b,v),b&&L.invert(b[0],b[1])}),S}},7376:function(U,B,e){e.d(B,{c:function(){return y}});function y(L){return L}},83356:function(U,B,e){e.r(B),e.d(B,{geoAlbers:function(){return gr},geoAlbersUsa:function(){return at},geoArea:function(){return y.cp},geoAzimuthalEqualArea:function(){return wt.c},geoAzimuthalEqualAreaRaw:function(){return wt.y},geoAzimuthalEquidistant:function(){return Et.c},geoAzimuthalEquidistantRaw:function(){return Et.O},geoBounds:function(){return L.c},geoCentroid:function(){return i.c},geoCircle:function(){return S.c},geoClipAntimeridian:function(){return b.c},geoClipCircle:function(){return v.c},geoClipExtent:function(){return r},geoClipRectangle:function(){return p.c},geoConicConformal:function(){return fr},geoConicConformalRaw:function(){return ur},geoConicEqualArea:function(){return Jt},geoConicEqualAreaRaw:function(){return jt},geoConicEquidistant:function(){return He},geoConicEquidistantRaw:function(){return We},geoContains:function(){return k},geoDistance:function(){return M},geoEqualEarth:function(){return cr},geoEqualEarthRaw:function(){return Ft},geoEquirectangular:function(){return vr.c},geoEquirectangularRaw:function(){return vr.u},geoGnomonic:function(){return pr.c},geoGnomonicRaw:function(){return pr.Y},geoGraticule:function(){return ee},geoGraticule10:function(){return te},geoIdentity:function(){return hr},geoInterpolate:function(){return ne.c},geoLength:function(){return C},geoMercator:function(){return Ut},geoMercatorRaw:function(){return Dt},geoNaturalEarth1:function(){return Gr.c},geoNaturalEarth1Raw:function(){return Gr.g},geoOrthographic:function(){return Dr.c},geoOrthographicRaw:function(){return Dr.t},geoPath:function(){return _t},geoProjection:function(){return Qt.c},geoProjectionMutator:function(){return Qt.U},geoRotation:function(){return Rt.c},geoStereographic:function(){return rn},geoStereographicRaw:function(){return cn},geoStream:function(){return s.c},geoTransform:function(){return mr.c},geoTransverseMercator:function(){return Sn},geoTransverseMercatorRaw:function(){return Cn}});var y=e(95384),L=e(13696),i=e(24052),S=e(61780),b=e(78284),v=e(2728),p=e(21676);function r(){var Tr=0,Lr=0,Wr=960,Ur=500,an,pn,gn;return gn={stream:function(En){return an&&pn===En?an:an=(0,p.c)(Tr,Lr,Wr,Ur)(pn=En)},extent:function(En){return arguments.length?(Tr=+En[0][0],Lr=+En[0][1],Wr=+En[1][0],Ur=+En[1][1],an=pn=null,gn):[[Tr,Lr],[Wr,Ur]]}}}var t=e(58196),a=e(88728),n=e(64528),u=e(70932),s=e(16016),l=(0,a.c)(),m,h,g,c={sphere:u.c,point:u.c,lineStart:o,lineEnd:u.c,polygonStart:u.c,polygonEnd:u.c};function o(){c.point=w,c.lineEnd=d}function d(){c.point=c.lineEnd=u.c}function w(Tr,Lr){Tr*=n.qw,Lr*=n.qw,m=Tr,h=(0,n.g$)(Lr),g=(0,n.W8)(Lr),c.point=A}function A(Tr,Lr){Tr*=n.qw,Lr*=n.qw;var Wr=(0,n.g$)(Lr),Ur=(0,n.W8)(Lr),an=(0,n.a2)(Tr-m),pn=(0,n.W8)(an),gn=(0,n.g$)(an),En=Ur*gn,On=g*Wr-h*Ur*pn,ni=h*Wr+g*Ur*pn;l.add((0,n.WE)((0,n._I)(En*En+On*On),ni)),m=Tr,h=Wr,g=Ur}function C(Tr){return l.reset(),(0,s.c)(Tr,c),+l}var x=[null,null],E={type:"LineString",coordinates:x};function M(Tr,Lr){return x[0]=Tr,x[1]=Lr,C(E)}var f={Feature:function(Tr,Lr){return T(Tr.geometry,Lr)},FeatureCollection:function(Tr,Lr){for(var Wr=Tr.features,Ur=-1,an=Wr.length;++Ur<an;)if(T(Wr[Ur].geometry,Lr))return!0;return!1}},P={Sphere:function(){return!0},Point:function(Tr,Lr){return z(Tr.coordinates,Lr)},MultiPoint:function(Tr,Lr){for(var Wr=Tr.coordinates,Ur=-1,an=Wr.length;++Ur<an;)if(z(Wr[Ur],Lr))return!0;return!1},LineString:function(Tr,Lr){return _(Tr.coordinates,Lr)},MultiLineString:function(Tr,Lr){for(var Wr=Tr.coordinates,Ur=-1,an=Wr.length;++Ur<an;)if(_(Wr[Ur],Lr))return!0;return!1},Polygon:function(Tr,Lr){return V(Tr.coordinates,Lr)},MultiPolygon:function(Tr,Lr){for(var Wr=Tr.coordinates,Ur=-1,an=Wr.length;++Ur<an;)if(V(Wr[Ur],Lr))return!0;return!1},GeometryCollection:function(Tr,Lr){for(var Wr=Tr.geometries,Ur=-1,an=Wr.length;++Ur<an;)if(T(Wr[Ur],Lr))return!0;return!1}};function T(Tr,Lr){return Tr&&P.hasOwnProperty(Tr.type)?P[Tr.type](Tr,Lr):!1}function z(Tr,Lr){return M(Tr,Lr)===0}function _(Tr,Lr){for(var Wr,Ur,an,pn=0,gn=Tr.length;pn<gn;pn++){if(Ur=M(Tr[pn],Lr),Ur===0||pn>0&&(an=M(Tr[pn],Tr[pn-1]),an>0&&Wr<=an&&Ur<=an&&(Wr+Ur-an)*(1-Math.pow((Wr-Ur)/an,2))<n.a8*an))return!0;Wr=Ur}return!1}function V(Tr,Lr){return!!(0,t.c)(Tr.map(F),N(Lr))}function F(Tr){return Tr=Tr.map(N),Tr.pop(),Tr}function N(Tr){return[Tr[0]*n.qw,Tr[1]*n.qw]}function k(Tr,Lr){return(Tr&&f.hasOwnProperty(Tr.type)?f[Tr.type]:T)(Tr,Lr)}var I=e(84706);function H(Tr,Lr,Wr){var Ur=(0,I.ik)(Tr,Lr-n.Gg,Wr).concat(Lr);return function(an){return Ur.map(function(pn){return[an,pn]})}}function j(Tr,Lr,Wr){var Ur=(0,I.ik)(Tr,Lr-n.Gg,Wr).concat(Lr);return function(an){return Ur.map(function(pn){return[pn,an]})}}function ee(){var Tr,Lr,Wr,Ur,an,pn,gn,En,On=10,ni=On,ci=90,di=360,li,ri,br,nn,$r=2.5;function dn(){return{type:"MultiLineString",coordinates:Vn()}}function Vn(){return(0,I.ik)((0,n.Km)(Ur/ci)*ci,Wr,ci).map(br).concat((0,I.ik)((0,n.Km)(En/di)*di,gn,di).map(nn)).concat((0,I.ik)((0,n.Km)(Lr/On)*On,Tr,On).filter(function(wn){return(0,n.a2)(wn%ci)>n.Gg}).map(li)).concat((0,I.ik)((0,n.Km)(pn/ni)*ni,an,ni).filter(function(wn){return(0,n.a2)(wn%di)>n.Gg}).map(ri))}return dn.lines=function(){return Vn().map(function(wn){return{type:"LineString",coordinates:wn}})},dn.outline=function(){return{type:"Polygon",coordinates:[br(Ur).concat(nn(gn).slice(1),br(Wr).reverse().slice(1),nn(En).reverse().slice(1))]}},dn.extent=function(wn){return arguments.length?dn.extentMajor(wn).extentMinor(wn):dn.extentMinor()},dn.extentMajor=function(wn){return arguments.length?(Ur=+wn[0][0],Wr=+wn[1][0],En=+wn[0][1],gn=+wn[1][1],Ur>Wr&&(wn=Ur,Ur=Wr,Wr=wn),En>gn&&(wn=En,En=gn,gn=wn),dn.precision($r)):[[Ur,En],[Wr,gn]]},dn.extentMinor=function(wn){return arguments.length?(Lr=+wn[0][0],Tr=+wn[1][0],pn=+wn[0][1],an=+wn[1][1],Lr>Tr&&(wn=Lr,Lr=Tr,Tr=wn),pn>an&&(wn=pn,pn=an,an=wn),dn.precision($r)):[[Lr,pn],[Tr,an]]},dn.step=function(wn){return arguments.length?dn.stepMajor(wn).stepMinor(wn):dn.stepMinor()},dn.stepMajor=function(wn){return arguments.length?(ci=+wn[0],di=+wn[1],dn):[ci,di]},dn.stepMinor=function(wn){return arguments.length?(On=+wn[0],ni=+wn[1],dn):[On,ni]},dn.precision=function(wn){return arguments.length?($r=+wn,li=H(pn,an,90),ri=j(Lr,Tr,$r),br=H(En,gn,90),nn=j(Ur,Wr,$r),dn):$r},dn.extentMajor([[-180,-90+n.Gg],[180,90-n.Gg]]).extentMinor([[-180,-80-n.Gg],[180,80+n.Gg]])}function te(){return ee()()}var ne=e(27284),ue=e(7376),q=(0,a.c)(),Y=(0,a.c)(),Z,G,K,oe,$={point:u.c,lineStart:u.c,lineEnd:u.c,polygonStart:function(){$.lineStart=J,$.lineEnd=ce},polygonEnd:function(){$.lineStart=$.lineEnd=$.point=u.c,q.add((0,n.a2)(Y)),Y.reset()},result:function(){var Tr=q/2;return q.reset(),Tr}};function J(){$.point=se}function se(Tr,Lr){$.point=ie,Z=K=Tr,G=oe=Lr}function ie(Tr,Lr){Y.add(oe*Tr-K*Lr),K=Tr,oe=Lr}function ce(){ie(Z,G)}var ye=$,Se=e(73784),Te=0,ke=0,we=0,Ee=0,xe=0,De=0,Ve=0,Ue=0,Be=0,Xe,ot,ut,et,qe={point:ft,lineStart:ht,lineEnd:St,polygonStart:function(){qe.lineStart=rt,qe.lineEnd=Oe},polygonEnd:function(){qe.point=ft,qe.lineStart=ht,qe.lineEnd=St},result:function(){var Tr=Be?[Ve/Be,Ue/Be]:De?[Ee/De,xe/De]:we?[Te/we,ke/we]:[NaN,NaN];return Te=ke=we=Ee=xe=De=Ve=Ue=Be=0,Tr}};function ft(Tr,Lr){Te+=Tr,ke+=Lr,++we}function ht(){qe.point=dt}function dt(Tr,Lr){qe.point=mt,ft(ut=Tr,et=Lr)}function mt(Tr,Lr){var Wr=Tr-ut,Ur=Lr-et,an=(0,n._I)(Wr*Wr+Ur*Ur);Ee+=an*(ut+Tr)/2,xe+=an*(et+Lr)/2,De+=an,ft(ut=Tr,et=Lr)}function St(){qe.point=ft}function rt(){qe.point=Ye}function Oe(){Ze(Xe,ot)}function Ye(Tr,Lr){qe.point=Ze,ft(Xe=ut=Tr,ot=et=Lr)}function Ze(Tr,Lr){var Wr=Tr-ut,Ur=Lr-et,an=(0,n._I)(Wr*Wr+Ur*Ur);Ee+=an*(ut+Tr)/2,xe+=an*(et+Lr)/2,De+=an,an=et*Tr-ut*Lr,Ve+=an*(ut+Tr),Ue+=an*(et+Lr),Be+=an*3,ft(ut=Tr,et=Lr)}var Ge=qe;function _e(Tr){this._context=Tr}_e.prototype={_radius:4.5,pointRadius:function(Tr){return this._radius=Tr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Tr,Lr){switch(this._point){case 0:{this._context.moveTo(Tr,Lr),this._point=1;break}case 1:{this._context.lineTo(Tr,Lr);break}default:{this._context.moveTo(Tr+this._radius,Lr),this._context.arc(Tr,Lr,this._radius,0,n.kD);break}}},result:u.c};var be=(0,a.c)(),me,Ce,Me,Ne,je,tt={point:u.c,lineStart:function(){tt.point=ct},lineEnd:function(){me&&pt(Ce,Me),tt.point=u.c},polygonStart:function(){me=!0},polygonEnd:function(){me=null},result:function(){var Tr=+be;return be.reset(),Tr}};function ct(Tr,Lr){tt.point=pt,Ce=Ne=Tr,Me=je=Lr}function pt(Tr,Lr){Ne-=Tr,je-=Lr,be.add((0,n._I)(Ne*Ne+je*je)),Ne=Tr,je=Lr}var Xt=tt;function Yt(){this._string=[]}Yt.prototype={_radius:4.5,_circle:Tt(4.5),pointRadius:function(Tr){return(Tr=+Tr)!==this._radius&&(this._radius=Tr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Tr,Lr){switch(this._point){case 0:{this._string.push("M",Tr,",",Lr),this._point=1;break}case 1:{this._string.push("L",Tr,",",Lr);break}default:{this._circle==null&&(this._circle=Tt(this._radius)),this._string.push("M",Tr,",",Lr,this._circle);break}}},result:function(){if(this._string.length){var Tr=this._string.join("");return this._string=[],Tr}else return null}};function Tt(Tr){return"m0,"+Tr+"a"+Tr+","+Tr+" 0 1,1 0,"+-2*Tr+"a"+Tr+","+Tr+" 0 1,1 0,"+2*Tr+"z"}function _t(Tr,Lr){var Wr=4.5,Ur,an;function pn(gn){return gn&&(typeof Wr=="function"&&an.pointRadius(+Wr.apply(this,arguments)),(0,s.c)(gn,Ur(an))),an.result()}return pn.area=function(gn){return(0,s.c)(gn,Ur(ye)),ye.result()},pn.measure=function(gn){return(0,s.c)(gn,Ur(Xt)),Xt.result()},pn.bounds=function(gn){return(0,s.c)(gn,Ur(Se.c)),Se.c.result()},pn.centroid=function(gn){return(0,s.c)(gn,Ur(Ge)),Ge.result()},pn.projection=function(gn){return arguments.length?(Ur=gn==null?(Tr=null,ue.c):(Tr=gn).stream,pn):Tr},pn.context=function(gn){return arguments.length?(an=gn==null?(Lr=null,new Yt):new _e(Lr=gn),typeof Wr!="function"&&an.pointRadius(Wr),pn):Lr},pn.pointRadius=function(gn){return arguments.length?(Wr=typeof gn=="function"?gn:(an.pointRadius(+gn),+gn),pn):Wr},pn.projection(Tr).context(Lr)}var Qt=e(87952);function wr(Tr){var Lr=0,Wr=n.pi/3,Ur=(0,Qt.U)(Tr),an=Ur(Lr,Wr);return an.parallels=function(pn){return arguments.length?Ur(Lr=pn[0]*n.qw,Wr=pn[1]*n.qw):[Lr*n.oh,Wr*n.oh]},an}function xt(Tr){var Lr=(0,n.W8)(Tr);function Wr(Ur,an){return[Ur*Lr,(0,n.g$)(an)/Lr]}return Wr.invert=function(Ur,an){return[Ur/Lr,(0,n.qR)(an*Lr)]},Wr}function jt(Tr,Lr){var Wr=(0,n.g$)(Tr),Ur=(Wr+(0,n.g$)(Lr))/2;if((0,n.a2)(Ur)<n.Gg)return xt(Tr);var an=1+Wr*(2*Ur-Wr),pn=(0,n._I)(an)/Ur;function gn(En,On){var ni=(0,n._I)(an-2*Ur*(0,n.g$)(On))/Ur;return[ni*(0,n.g$)(En*=Ur),pn-ni*(0,n.W8)(En)]}return gn.invert=function(En,On){var ni=pn-On,ci=(0,n.WE)(En,(0,n.a2)(ni))*(0,n.kq)(ni);return ni*Ur<0&&(ci-=n.pi*(0,n.kq)(En)*(0,n.kq)(ni)),[ci/Ur,(0,n.qR)((an-(En*En+ni*ni)*Ur*Ur)/(2*Ur))]},gn}function Jt(){return wr(jt).scale(155.424).center([0,33.6442])}function gr(){return Jt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var or=e(86420);function yt(Tr){var Lr=Tr.length;return{point:function(Wr,Ur){for(var an=-1;++an<Lr;)Tr[an].point(Wr,Ur)},sphere:function(){for(var Wr=-1;++Wr<Lr;)Tr[Wr].sphere()},lineStart:function(){for(var Wr=-1;++Wr<Lr;)Tr[Wr].lineStart()},lineEnd:function(){for(var Wr=-1;++Wr<Lr;)Tr[Wr].lineEnd()},polygonStart:function(){for(var Wr=-1;++Wr<Lr;)Tr[Wr].polygonStart()},polygonEnd:function(){for(var Wr=-1;++Wr<Lr;)Tr[Wr].polygonEnd()}}}function at(){var Tr,Lr,Wr=gr(),Ur,an=Jt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),pn,gn=Jt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),En,On,ni={point:function(li,ri){On=[li,ri]}};function ci(li){var ri=li[0],br=li[1];return On=null,Ur.point(ri,br),On||(pn.point(ri,br),On)||(En.point(ri,br),On)}ci.invert=function(li){var ri=Wr.scale(),br=Wr.translate(),nn=(li[0]-br[0])/ri,$r=(li[1]-br[1])/ri;return($r>=.12&&$r<.234&&nn>=-.425&&nn<-.214?an:$r>=.166&&$r<.234&&nn>=-.214&&nn<-.115?gn:Wr).invert(li)},ci.stream=function(li){return Tr&&Lr===li?Tr:Tr=yt([Wr.stream(Lr=li),an.stream(li),gn.stream(li)])},ci.precision=function(li){return arguments.length?(Wr.precision(li),an.precision(li),gn.precision(li),di()):Wr.precision()},ci.scale=function(li){return arguments.length?(Wr.scale(li),an.scale(li*.35),gn.scale(li),ci.translate(Wr.translate())):Wr.scale()},ci.translate=function(li){if(!arguments.length)return Wr.translate();var ri=Wr.scale(),br=+li[0],nn=+li[1];return Ur=Wr.translate(li).clipExtent([[br-.455*ri,nn-.238*ri],[br+.455*ri,nn+.238*ri]]).stream(ni),pn=an.translate([br-.307*ri,nn+.201*ri]).clipExtent([[br-.425*ri+n.Gg,nn+.12*ri+n.Gg],[br-.214*ri-n.Gg,nn+.234*ri-n.Gg]]).stream(ni),En=gn.translate([br-.205*ri,nn+.212*ri]).clipExtent([[br-.214*ri+n.Gg,nn+.166*ri+n.Gg],[br-.115*ri-n.Gg,nn+.234*ri-n.Gg]]).stream(ni),di()},ci.fitExtent=function(li,ri){return(0,or.QX)(ci,li,ri)},ci.fitSize=function(li,ri){return(0,or.UV)(ci,li,ri)},ci.fitWidth=function(li,ri){return(0,or.Qx)(ci,li,ri)},ci.fitHeight=function(li,ri){return(0,or.OW)(ci,li,ri)};function di(){return Tr=Lr=null,ci}return ci.scale(1070)}var wt=e(54724),Et=e(69020),Rt=e(92992);function Dt(Tr,Lr){return[Tr,(0,n.Yz)((0,n.a6)((n.or+Lr)/2))]}Dt.invert=function(Tr,Lr){return[Tr,2*(0,n.MQ)((0,n.oN)(Lr))-n.or]};function Ut(){return Nt(Dt).scale(961/n.kD)}function Nt(Tr){var Lr=(0,Qt.c)(Tr),Wr=Lr.center,Ur=Lr.scale,an=Lr.translate,pn=Lr.clipExtent,gn=null,En,On,ni;Lr.scale=function(di){return arguments.length?(Ur(di),ci()):Ur()},Lr.translate=function(di){return arguments.length?(an(di),ci()):an()},Lr.center=function(di){return arguments.length?(Wr(di),ci()):Wr()},Lr.clipExtent=function(di){return arguments.length?(di==null?gn=En=On=ni=null:(gn=+di[0][0],En=+di[0][1],On=+di[1][0],ni=+di[1][1]),ci()):gn==null?null:[[gn,En],[On,ni]]};function ci(){var di=n.pi*Ur(),li=Lr((0,Rt.c)(Lr.rotate()).invert([0,0]));return pn(gn==null?[[li[0]-di,li[1]-di],[li[0]+di,li[1]+di]]:Tr===Dt?[[Math.max(li[0]-di,gn),En],[Math.min(li[0]+di,On),ni]]:[[gn,Math.max(li[1]-di,En)],[On,Math.min(li[1]+di,ni)]])}return ci()}function Kt(Tr){return(0,n.a6)((n.or+Tr)/2)}function ur(Tr,Lr){var Wr=(0,n.W8)(Tr),Ur=Tr===Lr?(0,n.g$)(Tr):(0,n.Yz)(Wr/(0,n.W8)(Lr))/(0,n.Yz)(Kt(Lr)/Kt(Tr)),an=Wr*(0,n.g3)(Kt(Tr),Ur)/Ur;if(!Ur)return Dt;function pn(gn,En){an>0?En<-n.or+n.Gg&&(En=-n.or+n.Gg):En>n.or-n.Gg&&(En=n.or-n.Gg);var On=an/(0,n.g3)(Kt(En),Ur);return[On*(0,n.g$)(Ur*gn),an-On*(0,n.W8)(Ur*gn)]}return pn.invert=function(gn,En){var On=an-En,ni=(0,n.kq)(Ur)*(0,n._I)(gn*gn+On*On),ci=(0,n.WE)(gn,(0,n.a2)(On))*(0,n.kq)(On);return On*Ur<0&&(ci-=n.pi*(0,n.kq)(gn)*(0,n.kq)(On)),[ci/Ur,2*(0,n.MQ)((0,n.g3)(an/ni,1/Ur))-n.or]},pn}function fr(){return wr(ur).scale(109.5).parallels([30,30])}var vr=e(69604);function We(Tr,Lr){var Wr=(0,n.W8)(Tr),Ur=Tr===Lr?(0,n.g$)(Tr):(Wr-(0,n.W8)(Lr))/(Lr-Tr),an=Wr/Ur+Tr;if((0,n.a2)(Ur)<n.Gg)return vr.u;function pn(gn,En){var On=an-En,ni=Ur*gn;return[On*(0,n.g$)(ni),an-On*(0,n.W8)(ni)]}return pn.invert=function(gn,En){var On=an-En,ni=(0,n.WE)(gn,(0,n.a2)(On))*(0,n.kq)(On);return On*Ur<0&&(ni-=n.pi*(0,n.kq)(gn)*(0,n.kq)(On)),[ni/Ur,an-(0,n.kq)(Ur)*(0,n._I)(gn*gn+On*On)]},pn}function He(){return wr(We).scale(131.154).center([0,13.9389])}var zt=1.340264,kt=-.081106,Zt=893e-6,er=.003796,lr=(0,n._I)(3)/2,rr=12;function Ft(Tr,Lr){var Wr=(0,n.qR)(lr*(0,n.g$)(Lr)),Ur=Wr*Wr,an=Ur*Ur*Ur;return[Tr*(0,n.W8)(Wr)/(lr*(zt+3*kt*Ur+an*(7*Zt+9*er*Ur))),Wr*(zt+kt*Ur+an*(Zt+er*Ur))]}Ft.invert=function(Tr,Lr){for(var Wr=Lr,Ur=Wr*Wr,an=Ur*Ur*Ur,pn=0,gn,En,On;pn<rr&&(En=Wr*(zt+kt*Ur+an*(Zt+er*Ur))-Lr,On=zt+3*kt*Ur+an*(7*Zt+9*er*Ur),Wr-=gn=En/On,Ur=Wr*Wr,an=Ur*Ur*Ur,!((0,n.a2)(gn)<n.a8));++pn);return[lr*Tr*(zt+3*kt*Ur+an*(7*Zt+9*er*Ur))/(0,n.W8)(Wr),(0,n.qR)((0,n.g$)(Wr)/lr)]};function cr(){return(0,Qt.c)(Ft).scale(177.158)}var pr=e(53285),mr=e(15196);function hr(){var Tr=1,Lr=0,Wr=0,Ur=1,an=1,pn=0,gn,En,On=null,ni,ci,di,li=1,ri=1,br=(0,mr.s)({point:function(Tn,Nn){var Jn=wn([Tn,Nn]);this.stream.point(Jn[0],Jn[1])}}),nn=ue.c,$r,dn;function Vn(){return li=Tr*Ur,ri=Tr*an,$r=dn=null,wn}function wn(Tn){var Nn=Tn[0]*li,Jn=Tn[1]*ri;if(pn){var gi=Jn*gn-Nn*En;Nn=Nn*gn+Jn*En,Jn=gi}return[Nn+Lr,Jn+Wr]}return wn.invert=function(Tn){var Nn=Tn[0]-Lr,Jn=Tn[1]-Wr;if(pn){var gi=Jn*gn+Nn*En;Nn=Nn*gn-Jn*En,Jn=gi}return[Nn/li,Jn/ri]},wn.stream=function(Tn){return $r&&dn===Tn?$r:$r=br(nn(dn=Tn))},wn.postclip=function(Tn){return arguments.length?(nn=Tn,On=ni=ci=di=null,Vn()):nn},wn.clipExtent=function(Tn){return arguments.length?(nn=Tn==null?(On=ni=ci=di=null,ue.c):(0,p.c)(On=+Tn[0][0],ni=+Tn[0][1],ci=+Tn[1][0],di=+Tn[1][1]),Vn()):On==null?null:[[On,ni],[ci,di]]},wn.scale=function(Tn){return arguments.length?(Tr=+Tn,Vn()):Tr},wn.translate=function(Tn){return arguments.length?(Lr=+Tn[0],Wr=+Tn[1],Vn()):[Lr,Wr]},wn.angle=function(Tn){return arguments.length?(pn=Tn%360*n.qw,En=(0,n.g$)(pn),gn=(0,n.W8)(pn),Vn()):pn*n.oh},wn.reflectX=function(Tn){return arguments.length?(Ur=Tn?-1:1,Vn()):Ur<0},wn.reflectY=function(Tn){return arguments.length?(an=Tn?-1:1,Vn()):an<0},wn.fitExtent=function(Tn,Nn){return(0,or.QX)(wn,Tn,Nn)},wn.fitSize=function(Tn,Nn){return(0,or.UV)(wn,Tn,Nn)},wn.fitWidth=function(Tn,Nn){return(0,or.Qx)(wn,Tn,Nn)},wn.fitHeight=function(Tn,Nn){return(0,or.OW)(wn,Tn,Nn)},wn}var Gr=e(47984),Dr=e(4888),Ir=e(62280);function cn(Tr,Lr){var Wr=(0,n.W8)(Lr),Ur=1+(0,n.W8)(Tr)*Wr;return[Wr*(0,n.g$)(Tr)/Ur,(0,n.g$)(Lr)/Ur]}cn.invert=(0,Ir.g)(function(Tr){return 2*(0,n.MQ)(Tr)});function rn(){return(0,Qt.c)(cn).scale(250).clipAngle(142)}function Cn(Tr,Lr){return[(0,n.Yz)((0,n.a6)((n.or+Lr)/2)),-Tr]}Cn.invert=function(Tr,Lr){return[-Lr,2*(0,n.MQ)((0,n.oN)(Tr))-n.or]};function Sn(){var Tr=Nt(Cn),Lr=Tr.center,Wr=Tr.rotate;return Tr.center=function(Ur){return arguments.length?Lr([-Ur[1],Ur[0]]):(Ur=Lr(),[Ur[1],-Ur[0]])},Tr.rotate=function(Ur){return arguments.length?Wr([Ur[0],Ur[1],Ur.length>2?Ur[2]+90:90]):(Ur=Wr(),[Ur[0],Ur[1],Ur[2]-90])},Wr([0,0,90]).scale(159.155)}},27284:function(U,B,e){e.d(B,{c:function(){return L}});var y=e(64528);function L(i,S){var b=i[0]*y.qw,v=i[1]*y.qw,p=S[0]*y.qw,r=S[1]*y.qw,t=(0,y.W8)(v),a=(0,y.g$)(v),n=(0,y.W8)(r),u=(0,y.g$)(r),s=t*(0,y.W8)(b),l=t*(0,y.g$)(b),m=n*(0,y.W8)(p),h=n*(0,y.g$)(p),g=2*(0,y.qR)((0,y._I)((0,y.SD)(r-v)+t*n*(0,y.SD)(p-b))),c=(0,y.g$)(g),o=g?function(d){var w=(0,y.g$)(d*=g)/c,A=(0,y.g$)(g-d)/c,C=A*s+w*m,x=A*l+w*h,E=A*a+w*u;return[(0,y.WE)(x,C)*y.oh,(0,y.WE)(E,(0,y._I)(C*C+x*x))*y.oh]}:function(){return[b*y.oh,v*y.oh]};return o.distance=g,o}},64528:function(U,B,e){e.d(B,{Gg:function(){return y},Km:function(){return s},MQ:function(){return a},SD:function(){return C},W8:function(){return u},WE:function(){return n},Yz:function(){return m},_I:function(){return o},a2:function(){return t},a6:function(){return d},a8:function(){return L},g$:function(){return g},g3:function(){return h},kD:function(){return v},kq:function(){return c},mE:function(){return w},oN:function(){return l},oh:function(){return p},or:function(){return S},pi:function(){return i},qR:function(){return A},qw:function(){return r},wL:function(){return b}});var y=1e-6,L=1e-12,i=Math.PI,S=i/2,b=i/4,v=i*2,p=180/i,r=i/180,t=Math.abs,a=Math.atan,n=Math.atan2,u=Math.cos,s=Math.ceil,l=Math.exp,m=Math.log,h=Math.pow,g=Math.sin,c=Math.sign||function(x){return x>0?1:x<0?-1:0},o=Math.sqrt,d=Math.tan;function w(x){return x>1?0:x<-1?i:Math.acos(x)}function A(x){return x>1?S:x<-1?-S:Math.asin(x)}function C(x){return(x=g(x/2))*x}},70932:function(U,B,e){e.d(B,{c:function(){return y}});function y(){}},73784:function(U,B,e){var y=e(70932),L=1/0,i=L,S=-L,b=S,v={point:p,lineStart:y.c,lineEnd:y.c,polygonStart:y.c,polygonEnd:y.c,result:function(){var r=[[L,i],[S,b]];return S=b=-(i=L=1/0),r}};function p(r,t){r<L&&(L=r),r>S&&(S=r),t<i&&(i=t),t>b&&(b=t)}B.c=v},41860:function(U,B,e){e.d(B,{c:function(){return L}});var y=e(64528);function L(i,S){return(0,y.a2)(i[0]-S[0])<y.Gg&&(0,y.a2)(i[1]-S[1])<y.Gg}},58196:function(U,B,e){e.d(B,{c:function(){return v}});var y=e(88728),L=e(84220),i=e(64528),S=(0,y.c)();function b(p){return(0,i.a2)(p[0])<=i.pi?p[0]:(0,i.kq)(p[0])*(((0,i.a2)(p[0])+i.pi)%i.kD-i.pi)}function v(p,r){var t=b(r),a=r[1],n=(0,i.g$)(a),u=[(0,i.g$)(t),-(0,i.W8)(t),0],s=0,l=0;S.reset(),n===1?a=i.or+i.Gg:n===-1&&(a=-i.or-i.Gg);for(var m=0,h=p.length;m<h;++m)if(c=(g=p[m]).length)for(var g,c,o=g[c-1],d=b(o),w=o[1]/2+i.wL,A=(0,i.g$)(w),C=(0,i.W8)(w),x=0;x<c;++x,d=M,A=P,C=T,o=E){var E=g[x],M=b(E),f=E[1]/2+i.wL,P=(0,i.g$)(f),T=(0,i.W8)(f),z=M-d,_=z>=0?1:-1,V=_*z,F=V>i.pi,N=A*P;if(S.add((0,i.WE)(N*_*(0,i.g$)(V),C*T+N*(0,i.W8)(V))),s+=F?z+_*i.kD:z,F^d>=t^M>=t){var k=(0,L.CW)((0,L.ux)(o),(0,L.ux)(E));(0,L.cJ)(k);var I=(0,L.CW)(u,k);(0,L.cJ)(I);var H=(F^z>=0?-1:1)*(0,i.qR)(I[2]);(a>H||a===H&&(k[0]||k[1]))&&(l+=F^z>=0?1:-1)}}return(s<-i.Gg||s<i.Gg&&S<-i.Gg)^l&1}},62280:function(U,B,e){e.d(B,{a:function(){return L},g:function(){return i}});var y=e(64528);function L(S){return function(b,v){var p=(0,y.W8)(b),r=(0,y.W8)(v),t=S(p*r);return[t*r*(0,y.g$)(b),t*(0,y.g$)(v)]}}function i(S){return function(b,v){var p=(0,y._I)(b*b+v*v),r=S(p),t=(0,y.g$)(r),a=(0,y.W8)(r);return[(0,y.WE)(b*t,p*a),(0,y.qR)(p&&v*t/p)]}}},54724:function(U,B,e){e.d(B,{c:function(){return b},y:function(){return S}});var y=e(64528),L=e(62280),i=e(87952),S=(0,L.a)(function(v){return(0,y._I)(2/(1+v))});S.invert=(0,L.g)(function(v){return 2*(0,y.qR)(v/2)});function b(){return(0,i.c)(S).scale(124.75).clipAngle(179.999)}},69020:function(U,B,e){e.d(B,{O:function(){return S},c:function(){return b}});var y=e(64528),L=e(62280),i=e(87952),S=(0,L.a)(function(v){return(v=(0,y.mE)(v))&&v/(0,y.g$)(v)});S.invert=(0,L.g)(function(v){return v});function b(){return(0,i.c)(S).scale(79.4188).clipAngle(179.999)}},69604:function(U,B,e){e.d(B,{c:function(){return i},u:function(){return L}});var y=e(87952);function L(S,b){return[S,b]}L.invert=L;function i(){return(0,y.c)(L).scale(152.63)}},86420:function(U,B,e){e.d(B,{OW:function(){return p},QX:function(){return S},Qx:function(){return v},UV:function(){return b}});var y=e(16016),L=e(73784);function i(r,t,a){var n=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),n!=null&&r.clipExtent(null),(0,y.c)(a,r.stream(L.c)),t(L.c.result()),n!=null&&r.clipExtent(n),r}function S(r,t,a){return i(r,function(n){var u=t[1][0]-t[0][0],s=t[1][1]-t[0][1],l=Math.min(u/(n[1][0]-n[0][0]),s/(n[1][1]-n[0][1])),m=+t[0][0]+(u-l*(n[1][0]+n[0][0]))/2,h=+t[0][1]+(s-l*(n[1][1]+n[0][1]))/2;r.scale(150*l).translate([m,h])},a)}function b(r,t,a){return S(r,[[0,0],t],a)}function v(r,t,a){return i(r,function(n){var u=+t,s=u/(n[1][0]-n[0][0]),l=(u-s*(n[1][0]+n[0][0]))/2,m=-s*n[0][1];r.scale(150*s).translate([l,m])},a)}function p(r,t,a){return i(r,function(n){var u=+t,s=u/(n[1][1]-n[0][1]),l=-s*n[0][0],m=(u-s*(n[1][1]+n[0][1]))/2;r.scale(150*s).translate([l,m])},a)}},53285:function(U,B,e){e.d(B,{Y:function(){return S},c:function(){return b}});var y=e(64528),L=e(62280),i=e(87952);function S(v,p){var r=(0,y.W8)(p),t=(0,y.W8)(v)*r;return[r*(0,y.g$)(v)/t,(0,y.g$)(p)/t]}S.invert=(0,L.g)(y.MQ);function b(){return(0,i.c)(S).scale(144.049).clipAngle(60)}},87952:function(U,B,e){e.d(B,{c:function(){return d},U:function(){return w}});var y=e(78284),L=e(2728),i=e(21676),S=e(68120),b=e(7376),v=e(64528),p=e(92992),r=e(15196),t=e(86420),a=e(84220),n=16,u=(0,v.W8)(30*v.qw);function s(A,C){return+C?m(A,C):l(A)}function l(A){return(0,r.s)({point:function(C,x){C=A(C,x),this.stream.point(C[0],C[1])}})}function m(A,C){function x(E,M,f,P,T,z,_,V,F,N,k,I,H,j){var ee=_-E,te=V-M,ne=ee*ee+te*te;if(ne>4*C&&H--){var ue=P+N,q=T+k,Y=z+I,Z=(0,v._I)(ue*ue+q*q+Y*Y),G=(0,v.qR)(Y/=Z),K=(0,v.a2)((0,v.a2)(Y)-1)<v.Gg||(0,v.a2)(f-F)<v.Gg?(f+F)/2:(0,v.WE)(q,ue),oe=A(K,G),$=oe[0],J=oe[1],se=$-E,ie=J-M,ce=te*se-ee*ie;(ce*ce/ne>C||(0,v.a2)((ee*se+te*ie)/ne-.5)>.3||P*N+T*k+z*I<u)&&(x(E,M,f,P,T,z,$,J,K,ue/=Z,q/=Z,Y,H,j),j.point($,J),x($,J,K,ue,q,Y,_,V,F,N,k,I,H,j))}}return function(E){var M,f,P,T,z,_,V,F,N,k,I,H,j={point:ee,lineStart:te,lineEnd:ue,polygonStart:function(){E.polygonStart(),j.lineStart=q},polygonEnd:function(){E.polygonEnd(),j.lineStart=te}};function ee(G,K){G=A(G,K),E.point(G[0],G[1])}function te(){F=NaN,j.point=ne,E.lineStart()}function ne(G,K){var oe=(0,a.ux)([G,K]),$=A(G,K);x(F,N,V,k,I,H,F=$[0],N=$[1],V=G,k=oe[0],I=oe[1],H=oe[2],n,E),E.point(F,N)}function ue(){j.point=ee,E.lineEnd()}function q(){te(),j.point=Y,j.lineEnd=Z}function Y(G,K){ne(M=G,K),f=F,P=N,T=k,z=I,_=H,j.point=ne}function Z(){x(F,N,V,k,I,H,f,P,M,T,z,_,n,E),j.lineEnd=ue,ue()}return j}}var h=(0,r.s)({point:function(A,C){this.stream.point(A*v.qw,C*v.qw)}});function g(A){return(0,r.s)({point:function(C,x){var E=A(C,x);return this.stream.point(E[0],E[1])}})}function c(A,C,x,E,M){function f(P,T){return P*=E,T*=M,[C+A*P,x-A*T]}return f.invert=function(P,T){return[(P-C)/A*E,(x-T)/A*M]},f}function o(A,C,x,E,M,f){var P=(0,v.W8)(f),T=(0,v.g$)(f),z=P*A,_=T*A,V=P/A,F=T/A,N=(T*x-P*C)/A,k=(T*C+P*x)/A;function I(H,j){return H*=E,j*=M,[z*H-_*j+C,x-_*H-z*j]}return I.invert=function(H,j){return[E*(V*H-F*j+N),M*(k-F*H-V*j)]},I}function d(A){return w(function(){return A})()}function w(A){var C,x=150,E=480,M=250,f=0,P=0,T=0,z=0,_=0,V,F=0,N=1,k=1,I=null,H=y.c,j=null,ee,te,ne,ue=b.c,q=.5,Y,Z,G,K,oe;function $(ce){return G(ce[0]*v.qw,ce[1]*v.qw)}function J(ce){return ce=G.invert(ce[0],ce[1]),ce&&[ce[0]*v.oh,ce[1]*v.oh]}$.stream=function(ce){return K&&oe===ce?K:K=h(g(V)(H(Y(ue(oe=ce)))))},$.preclip=function(ce){return arguments.length?(H=ce,I=void 0,ie()):H},$.postclip=function(ce){return arguments.length?(ue=ce,j=ee=te=ne=null,ie()):ue},$.clipAngle=function(ce){return arguments.length?(H=+ce?(0,L.c)(I=ce*v.qw):(I=null,y.c),ie()):I*v.oh},$.clipExtent=function(ce){return arguments.length?(ue=ce==null?(j=ee=te=ne=null,b.c):(0,i.c)(j=+ce[0][0],ee=+ce[0][1],te=+ce[1][0],ne=+ce[1][1]),ie()):j==null?null:[[j,ee],[te,ne]]},$.scale=function(ce){return arguments.length?(x=+ce,se()):x},$.translate=function(ce){return arguments.length?(E=+ce[0],M=+ce[1],se()):[E,M]},$.center=function(ce){return arguments.length?(f=ce[0]%360*v.qw,P=ce[1]%360*v.qw,se()):[f*v.oh,P*v.oh]},$.rotate=function(ce){return arguments.length?(T=ce[0]%360*v.qw,z=ce[1]%360*v.qw,_=ce.length>2?ce[2]%360*v.qw:0,se()):[T*v.oh,z*v.oh,_*v.oh]},$.angle=function(ce){return arguments.length?(F=ce%360*v.qw,se()):F*v.oh},$.reflectX=function(ce){return arguments.length?(N=ce?-1:1,se()):N<0},$.reflectY=function(ce){return arguments.length?(k=ce?-1:1,se()):k<0},$.precision=function(ce){return arguments.length?(Y=s(Z,q=ce*ce),ie()):(0,v._I)(q)},$.fitExtent=function(ce,ye){return(0,t.QX)($,ce,ye)},$.fitSize=function(ce,ye){return(0,t.UV)($,ce,ye)},$.fitWidth=function(ce,ye){return(0,t.Qx)($,ce,ye)},$.fitHeight=function(ce,ye){return(0,t.OW)($,ce,ye)};function se(){var ce=o(x,0,0,N,k,F).apply(null,C(f,P)),ye=(F?o:c)(x,E-ce[0],M-ce[1],N,k,F);return V=(0,p.O)(T,z,_),Z=(0,S.c)(C,ye),G=(0,S.c)(V,Z),Y=s(Z,q),ie()}function ie(){return K=oe=null,$}return function(){return C=A.apply(this,arguments),$.invert=C.invert&&J,se()}}},47984:function(U,B,e){e.d(B,{c:function(){return S},g:function(){return i}});var y=e(87952),L=e(64528);function i(b,v){var p=v*v,r=p*p;return[b*(.8707-.131979*p+r*(-.013791+r*(.003971*p-.001529*r))),v*(1.007226+p*(.015085+r*(-.044475+.028874*p-.005916*r)))]}i.invert=function(b,v){var p=v,r=25,t;do{var a=p*p,n=a*a;p-=t=(p*(1.007226+a*(.015085+n*(-.044475+.028874*a-.005916*n)))-v)/(1.007226+a*(.045255+n*(-.311325+.259866*a-.06507600000000001*n)))}while((0,L.a2)(t)>L.Gg&&--r>0);return[b/(.8707+(a=p*p)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),p]};function S(){return(0,y.c)(i).scale(175.295)}},4888:function(U,B,e){e.d(B,{c:function(){return b},t:function(){return S}});var y=e(64528),L=e(62280),i=e(87952);function S(v,p){return[(0,y.W8)(p)*(0,y.g$)(v),(0,y.g$)(p)]}S.invert=(0,L.g)(y.qR);function b(){return(0,i.c)(S).scale(249.5).clipAngle(90+y.Gg)}},92992:function(U,B,e){e.d(B,{O:function(){return S},c:function(){return r}});var y=e(68120),L=e(64528);function i(t,a){return[(0,L.a2)(t)>L.pi?t+Math.round(-t/L.kD)*L.kD:t,a]}i.invert=i;function S(t,a,n){return(t%=L.kD)?a||n?(0,y.c)(v(t),p(a,n)):v(t):a||n?p(a,n):i}function b(t){return function(a,n){return a+=t,[a>L.pi?a-L.kD:a<-L.pi?a+L.kD:a,n]}}function v(t){var a=b(t);return a.invert=b(-t),a}function p(t,a){var n=(0,L.W8)(t),u=(0,L.g$)(t),s=(0,L.W8)(a),l=(0,L.g$)(a);function m(h,g){var c=(0,L.W8)(g),o=(0,L.W8)(h)*c,d=(0,L.g$)(h)*c,w=(0,L.g$)(g),A=w*n+o*u;return[(0,L.WE)(d*s-A*l,o*n-w*u),(0,L.qR)(A*s+d*l)]}return m.invert=function(h,g){var c=(0,L.W8)(g),o=(0,L.W8)(h)*c,d=(0,L.g$)(h)*c,w=(0,L.g$)(g),A=w*s-d*l;return[(0,L.WE)(d*s+w*l,o*n+A*u),(0,L.qR)(A*n-o*u)]},m}function r(t){t=S(t[0]*L.qw,t[1]*L.qw,t.length>2?t[2]*L.qw:0);function a(n){return n=t(n[0]*L.qw,n[1]*L.qw),n[0]*=L.oh,n[1]*=L.oh,n}return a.invert=function(n){return n=t.invert(n[0]*L.qw,n[1]*L.qw),n[0]*=L.oh,n[1]*=L.oh,n},a}},16016:function(U,B,e){e.d(B,{c:function(){return v}});function y(p,r){p&&i.hasOwnProperty(p.type)&&i[p.type](p,r)}var L={Feature:function(p,r){y(p.geometry,r)},FeatureCollection:function(p,r){for(var t=p.features,a=-1,n=t.length;++a<n;)y(t[a].geometry,r)}},i={Sphere:function(p,r){r.sphere()},Point:function(p,r){p=p.coordinates,r.point(p[0],p[1],p[2])},MultiPoint:function(p,r){for(var t=p.coordinates,a=-1,n=t.length;++a<n;)p=t[a],r.point(p[0],p[1],p[2])},LineString:function(p,r){S(p.coordinates,r,0)},MultiLineString:function(p,r){for(var t=p.coordinates,a=-1,n=t.length;++a<n;)S(t[a],r,0)},Polygon:function(p,r){b(p.coordinates,r)},MultiPolygon:function(p,r){for(var t=p.coordinates,a=-1,n=t.length;++a<n;)b(t[a],r)},GeometryCollection:function(p,r){for(var t=p.geometries,a=-1,n=t.length;++a<n;)y(t[a],r)}};function S(p,r,t){var a=-1,n=p.length-t,u;for(r.lineStart();++a<n;)u=p[a],r.point(u[0],u[1],u[2]);r.lineEnd()}function b(p,r){var t=-1,a=p.length;for(r.polygonStart();++t<a;)S(p[t],r,1);r.polygonEnd()}function v(p,r){p&&L.hasOwnProperty(p.type)?L[p.type](p,r):y(p,r)}},15196:function(U,B,e){e.d(B,{c:function(){return y},s:function(){return L}});function y(S){return{stream:L(S)}}function L(S){return function(b){var v=new i;for(var p in S)v[p]=S[p];return v.stream=b,v}}function i(){}i.prototype={constructor:i,point:function(S,b){this.stream.point(S,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(U,B,e){e.r(B),e.d(B,{cluster:function(){return r},hierarchy:function(){return A},pack:function(){return J},packEnclose:function(){return z},packSiblings:function(){return Y},partition:function(){return Te},stratify:function(){return Ve},tree:function(){return ht},treemap:function(){return Oe},treemapBinary:function(){return Ye},treemapDice:function(){return Se},treemapResquarify:function(){return Ge},treemapSlice:function(){return dt},treemapSliceDice:function(){return Ze},treemapSquarify:function(){return rt}});function y(_e,be){return _e.parent===be.parent?1:2}function L(_e){return _e.reduce(i,0)/_e.length}function i(_e,be){return _e+be.x}function S(_e){return 1+_e.reduce(b,0)}function b(_e,be){return Math.max(_e,be.y)}function v(_e){for(var be;be=_e.children;)_e=be[0];return _e}function p(_e){for(var be;be=_e.children;)_e=be[be.length-1];return _e}function r(){var _e=y,be=1,me=1,Ce=!1;function Me(Ne){var je,tt=0;Ne.eachAfter(function(Tt){var _t=Tt.children;_t?(Tt.x=L(_t),Tt.y=S(_t)):(Tt.x=je?tt+=_e(Tt,je):0,Tt.y=0,je=Tt)});var ct=v(Ne),pt=p(Ne),Xt=ct.x-_e(ct,pt)/2,Yt=pt.x+_e(pt,ct)/2;return Ne.eachAfter(Ce?function(Tt){Tt.x=(Tt.x-Ne.x)*be,Tt.y=(Ne.y-Tt.y)*me}:function(Tt){Tt.x=(Tt.x-Xt)/(Yt-Xt)*be,Tt.y=(1-(Ne.y?Tt.y/Ne.y:1))*me})}return Me.separation=function(Ne){return arguments.length?(_e=Ne,Me):_e},Me.size=function(Ne){return arguments.length?(Ce=!1,be=+Ne[0],me=+Ne[1],Me):Ce?null:[be,me]},Me.nodeSize=function(Ne){return arguments.length?(Ce=!0,be=+Ne[0],me=+Ne[1],Me):Ce?[be,me]:null},Me}function t(_e){var be=0,me=_e.children,Ce=me&&me.length;if(!Ce)be=1;else for(;--Ce>=0;)be+=me[Ce].value;_e.value=be}function a(){return this.eachAfter(t)}function n(_e){var be=this,me,Ce=[be],Me,Ne,je;do for(me=Ce.reverse(),Ce=[];be=me.pop();)if(_e(be),Me=be.children,Me)for(Ne=0,je=Me.length;Ne<je;++Ne)Ce.push(Me[Ne]);while(Ce.length);return this}function u(_e){for(var be=this,me=[be],Ce,Me;be=me.pop();)if(_e(be),Ce=be.children,Ce)for(Me=Ce.length-1;Me>=0;--Me)me.push(Ce[Me]);return this}function s(_e){for(var be=this,me=[be],Ce=[],Me,Ne,je;be=me.pop();)if(Ce.push(be),Me=be.children,Me)for(Ne=0,je=Me.length;Ne<je;++Ne)me.push(Me[Ne]);for(;be=Ce.pop();)_e(be);return this}function l(_e){return this.eachAfter(function(be){for(var me=+_e(be.data)||0,Ce=be.children,Me=Ce&&Ce.length;--Me>=0;)me+=Ce[Me].value;be.value=me})}function m(_e){return this.eachBefore(function(be){be.children&&be.children.sort(_e)})}function h(_e){for(var be=this,me=g(be,_e),Ce=[be];be!==me;)be=be.parent,Ce.push(be);for(var Me=Ce.length;_e!==me;)Ce.splice(Me,0,_e),_e=_e.parent;return Ce}function g(_e,be){if(_e===be)return _e;var me=_e.ancestors(),Ce=be.ancestors(),Me=null;for(_e=me.pop(),be=Ce.pop();_e===be;)Me=_e,_e=me.pop(),be=Ce.pop();return Me}function c(){for(var _e=this,be=[_e];_e=_e.parent;)be.push(_e);return be}function o(){var _e=[];return this.each(function(be){_e.push(be)}),_e}function d(){var _e=[];return this.eachBefore(function(be){be.children||_e.push(be)}),_e}function w(){var _e=this,be=[];return _e.each(function(me){me!==_e&&be.push({source:me.parent,target:me})}),be}function A(_e,be){var me=new f(_e),Ce=+_e.value&&(me.value=_e.value),Me,Ne=[me],je,tt,ct,pt;for(be==null&&(be=x);Me=Ne.pop();)if(Ce&&(Me.value=+Me.data.value),(tt=be(Me.data))&&(pt=tt.length))for(Me.children=new Array(pt),ct=pt-1;ct>=0;--ct)Ne.push(je=Me.children[ct]=new f(tt[ct])),je.parent=Me,je.depth=Me.depth+1;return me.eachBefore(M)}function C(){return A(this).eachBefore(E)}function x(_e){return _e.children}function E(_e){_e.data=_e.data.data}function M(_e){var be=0;do _e.height=be;while((_e=_e.parent)&&_e.height<++be)}function f(_e){this.data=_e,this.depth=this.height=0,this.parent=null}f.prototype=A.prototype={constructor:f,count:a,each:n,eachAfter:s,eachBefore:u,sum:l,sort:m,path:h,ancestors:c,descendants:o,leaves:d,links:w,copy:C};var P=Array.prototype.slice;function T(_e){for(var be=_e.length,me,Ce;be;)Ce=Math.random()*be--|0,me=_e[be],_e[be]=_e[Ce],_e[Ce]=me;return _e}function z(_e){for(var be=0,me=(_e=T(P.call(_e))).length,Ce=[],Me,Ne;be<me;)Me=_e[be],Ne&&F(Ne,Me)?++be:(Ne=k(Ce=_(Ce,Me)),be=0);return Ne}function _(_e,be){var me,Ce;if(N(be,_e))return[be];for(me=0;me<_e.length;++me)if(V(be,_e[me])&&N(H(_e[me],be),_e))return[_e[me],be];for(me=0;me<_e.length-1;++me)for(Ce=me+1;Ce<_e.length;++Ce)if(V(H(_e[me],_e[Ce]),be)&&V(H(_e[me],be),_e[Ce])&&V(H(_e[Ce],be),_e[me])&&N(j(_e[me],_e[Ce],be),_e))return[_e[me],_e[Ce],be];throw new Error}function V(_e,be){var me=_e.r-be.r,Ce=be.x-_e.x,Me=be.y-_e.y;return me<0||me*me<Ce*Ce+Me*Me}function F(_e,be){var me=_e.r-be.r+1e-6,Ce=be.x-_e.x,Me=be.y-_e.y;return me>0&&me*me>Ce*Ce+Me*Me}function N(_e,be){for(var me=0;me<be.length;++me)if(!F(_e,be[me]))return!1;return!0}function k(_e){switch(_e.length){case 1:return I(_e[0]);case 2:return H(_e[0],_e[1]);case 3:return j(_e[0],_e[1],_e[2])}}function I(_e){return{x:_e.x,y:_e.y,r:_e.r}}function H(_e,be){var me=_e.x,Ce=_e.y,Me=_e.r,Ne=be.x,je=be.y,tt=be.r,ct=Ne-me,pt=je-Ce,Xt=tt-Me,Yt=Math.sqrt(ct*ct+pt*pt);return{x:(me+Ne+ct/Yt*Xt)/2,y:(Ce+je+pt/Yt*Xt)/2,r:(Yt+Me+tt)/2}}function j(_e,be,me){var Ce=_e.x,Me=_e.y,Ne=_e.r,je=be.x,tt=be.y,ct=be.r,pt=me.x,Xt=me.y,Yt=me.r,Tt=Ce-je,_t=Ce-pt,Qt=Me-tt,wr=Me-Xt,xt=ct-Ne,jt=Yt-Ne,Jt=Ce*Ce+Me*Me-Ne*Ne,gr=Jt-je*je-tt*tt+ct*ct,or=Jt-pt*pt-Xt*Xt+Yt*Yt,yt=_t*Qt-Tt*wr,at=(Qt*or-wr*gr)/(yt*2)-Ce,wt=(wr*xt-Qt*jt)/yt,Et=(_t*gr-Tt*or)/(yt*2)-Me,Rt=(Tt*jt-_t*xt)/yt,Dt=wt*wt+Rt*Rt-1,Ut=2*(Ne+at*wt+Et*Rt),Nt=at*at+Et*Et-Ne*Ne,Kt=-(Dt?(Ut+Math.sqrt(Ut*Ut-4*Dt*Nt))/(2*Dt):Nt/Ut);return{x:Ce+at+wt*Kt,y:Me+Et+Rt*Kt,r:Kt}}function ee(_e,be,me){var Ce=_e.x-be.x,Me,Ne,je=_e.y-be.y,tt,ct,pt=Ce*Ce+je*je;pt?(Ne=be.r+me.r,Ne*=Ne,ct=_e.r+me.r,ct*=ct,Ne>ct?(Me=(pt+ct-Ne)/(2*pt),tt=Math.sqrt(Math.max(0,ct/pt-Me*Me)),me.x=_e.x-Me*Ce-tt*je,me.y=_e.y-Me*je+tt*Ce):(Me=(pt+Ne-ct)/(2*pt),tt=Math.sqrt(Math.max(0,Ne/pt-Me*Me)),me.x=be.x+Me*Ce-tt*je,me.y=be.y+Me*je+tt*Ce)):(me.x=be.x+me.r,me.y=be.y)}function te(_e,be){var me=_e.r+be.r-1e-6,Ce=be.x-_e.x,Me=be.y-_e.y;return me>0&&me*me>Ce*Ce+Me*Me}function ne(_e){var be=_e._,me=_e.next._,Ce=be.r+me.r,Me=(be.x*me.r+me.x*be.r)/Ce,Ne=(be.y*me.r+me.y*be.r)/Ce;return Me*Me+Ne*Ne}function ue(_e){this._=_e,this.next=null,this.previous=null}function q(_e){if(!(Me=_e.length))return 0;var be,me,Ce,Me,Ne,je,tt,ct,pt,Xt,Yt;if(be=_e[0],be.x=0,be.y=0,!(Me>1))return be.r;if(me=_e[1],be.x=-me.r,me.x=be.r,me.y=0,!(Me>2))return be.r+me.r;ee(me,be,Ce=_e[2]),be=new ue(be),me=new ue(me),Ce=new ue(Ce),be.next=Ce.previous=me,me.next=be.previous=Ce,Ce.next=me.previous=be;e:for(tt=3;tt<Me;++tt){ee(be._,me._,Ce=_e[tt]),Ce=new ue(Ce),ct=me.next,pt=be.previous,Xt=me._.r,Yt=be._.r;do if(Xt<=Yt){if(te(ct._,Ce._)){me=ct,be.next=me,me.previous=be,--tt;continue e}Xt+=ct._.r,ct=ct.next}else{if(te(pt._,Ce._)){be=pt,be.next=me,me.previous=be,--tt;continue e}Yt+=pt._.r,pt=pt.previous}while(ct!==pt.next);for(Ce.previous=be,Ce.next=me,be.next=me.previous=me=Ce,Ne=ne(be);(Ce=Ce.next)!==me;)(je=ne(Ce))<Ne&&(be=Ce,Ne=je);me=be.next}for(be=[me._],Ce=me;(Ce=Ce.next)!==me;)be.push(Ce._);for(Ce=z(be),tt=0;tt<Me;++tt)be=_e[tt],be.x-=Ce.x,be.y-=Ce.y;return Ce.r}function Y(_e){return q(_e),_e}function Z(_e){return _e==null?null:G(_e)}function G(_e){if(typeof _e!="function")throw new Error;return _e}function K(){return 0}function oe(_e){return function(){return _e}}function $(_e){return Math.sqrt(_e.value)}function J(){var _e=null,be=1,me=1,Ce=K;function Me(Ne){return Ne.x=be/2,Ne.y=me/2,_e?Ne.eachBefore(se(_e)).eachAfter(ie(Ce,.5)).eachBefore(ce(1)):Ne.eachBefore(se($)).eachAfter(ie(K,1)).eachAfter(ie(Ce,Ne.r/Math.min(be,me))).eachBefore(ce(Math.min(be,me)/(2*Ne.r))),Ne}return Me.radius=function(Ne){return arguments.length?(_e=Z(Ne),Me):_e},Me.size=function(Ne){return arguments.length?(be=+Ne[0],me=+Ne[1],Me):[be,me]},Me.padding=function(Ne){return arguments.length?(Ce=typeof Ne=="function"?Ne:oe(+Ne),Me):Ce},Me}function se(_e){return function(be){be.children||(be.r=Math.max(0,+_e(be)||0))}}function ie(_e,be){return function(me){if(Ce=me.children){var Ce,Me,Ne=Ce.length,je=_e(me)*be||0,tt;if(je)for(Me=0;Me<Ne;++Me)Ce[Me].r+=je;if(tt=q(Ce),je)for(Me=0;Me<Ne;++Me)Ce[Me].r-=je;me.r=tt+je}}}function ce(_e){return function(be){var me=be.parent;be.r*=_e,me&&(be.x=me.x+_e*be.x,be.y=me.y+_e*be.y)}}function ye(_e){_e.x0=Math.round(_e.x0),_e.y0=Math.round(_e.y0),_e.x1=Math.round(_e.x1),_e.y1=Math.round(_e.y1)}function Se(_e,be,me,Ce,Me){for(var Ne=_e.children,je,tt=-1,ct=Ne.length,pt=_e.value&&(Ce-be)/_e.value;++tt<ct;)je=Ne[tt],je.y0=me,je.y1=Me,je.x0=be,je.x1=be+=je.value*pt}function Te(){var _e=1,be=1,me=0,Ce=!1;function Me(je){var tt=je.height+1;return je.x0=je.y0=me,je.x1=_e,je.y1=be/tt,je.eachBefore(Ne(be,tt)),Ce&&je.eachBefore(ye),je}function Ne(je,tt){return function(ct){ct.children&&Se(ct,ct.x0,je*(ct.depth+1)/tt,ct.x1,je*(ct.depth+2)/tt);var pt=ct.x0,Xt=ct.y0,Yt=ct.x1-me,Tt=ct.y1-me;Yt<pt&&(pt=Yt=(pt+Yt)/2),Tt<Xt&&(Xt=Tt=(Xt+Tt)/2),ct.x0=pt,ct.y0=Xt,ct.x1=Yt,ct.y1=Tt}}return Me.round=function(je){return arguments.length?(Ce=!!je,Me):Ce},Me.size=function(je){return arguments.length?(_e=+je[0],be=+je[1],Me):[_e,be]},Me.padding=function(je){return arguments.length?(me=+je,Me):me},Me}var ke="$",we={depth:-1},Ee={};function xe(_e){return _e.id}function De(_e){return _e.parentId}function Ve(){var _e=xe,be=De;function me(Ce){var Me,Ne,je=Ce.length,tt,ct,pt,Xt=new Array(je),Yt,Tt,_t={};for(Ne=0;Ne<je;++Ne)Me=Ce[Ne],pt=Xt[Ne]=new f(Me),(Yt=_e(Me,Ne,Ce))!=null&&(Yt+="")&&(Tt=ke+(pt.id=Yt),_t[Tt]=Tt in _t?Ee:pt);for(Ne=0;Ne<je;++Ne)if(pt=Xt[Ne],Yt=be(Ce[Ne],Ne,Ce),Yt==null||!(Yt+="")){if(tt)throw new Error("multiple roots");tt=pt}else{if(ct=_t[ke+Yt],!ct)throw new Error("missing: "+Yt);if(ct===Ee)throw new Error("ambiguous: "+Yt);ct.children?ct.children.push(pt):ct.children=[pt],pt.parent=ct}if(!tt)throw new Error("no root");if(tt.parent=we,tt.eachBefore(function(Qt){Qt.depth=Qt.parent.depth+1,--je}).eachBefore(M),tt.parent=null,je>0)throw new Error("cycle");return tt}return me.id=function(Ce){return arguments.length?(_e=G(Ce),me):_e},me.parentId=function(Ce){return arguments.length?(be=G(Ce),me):be},me}function Ue(_e,be){return _e.parent===be.parent?1:2}function Be(_e){var be=_e.children;return be?be[0]:_e.t}function Xe(_e){var be=_e.children;return be?be[be.length-1]:_e.t}function ot(_e,be,me){var Ce=me/(be.i-_e.i);be.c-=Ce,be.s+=me,_e.c+=Ce,be.z+=me,be.m+=me}function ut(_e){for(var be=0,me=0,Ce=_e.children,Me=Ce.length,Ne;--Me>=0;)Ne=Ce[Me],Ne.z+=be,Ne.m+=be,be+=Ne.s+(me+=Ne.c)}function et(_e,be,me){return _e.a.parent===be.parent?_e.a:me}function qe(_e,be){this._=_e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=be}qe.prototype=Object.create(f.prototype);function ft(_e){for(var be=new qe(_e,0),me,Ce=[be],Me,Ne,je,tt;me=Ce.pop();)if(Ne=me._.children)for(me.children=new Array(tt=Ne.length),je=tt-1;je>=0;--je)Ce.push(Me=me.children[je]=new qe(Ne[je],je)),Me.parent=me;return(be.parent=new qe(null,0)).children=[be],be}function ht(){var _e=Ue,be=1,me=1,Ce=null;function Me(pt){var Xt=ft(pt);if(Xt.eachAfter(Ne),Xt.parent.m=-Xt.z,Xt.eachBefore(je),Ce)pt.eachBefore(ct);else{var Yt=pt,Tt=pt,_t=pt;pt.eachBefore(function(Jt){Jt.x<Yt.x&&(Yt=Jt),Jt.x>Tt.x&&(Tt=Jt),Jt.depth>_t.depth&&(_t=Jt)});var Qt=Yt===Tt?1:_e(Yt,Tt)/2,wr=Qt-Yt.x,xt=be/(Tt.x+Qt+wr),jt=me/(_t.depth||1);pt.eachBefore(function(Jt){Jt.x=(Jt.x+wr)*xt,Jt.y=Jt.depth*jt})}return pt}function Ne(pt){var Xt=pt.children,Yt=pt.parent.children,Tt=pt.i?Yt[pt.i-1]:null;if(Xt){ut(pt);var _t=(Xt[0].z+Xt[Xt.length-1].z)/2;Tt?(pt.z=Tt.z+_e(pt._,Tt._),pt.m=pt.z-_t):pt.z=_t}else Tt&&(pt.z=Tt.z+_e(pt._,Tt._));pt.parent.A=tt(pt,Tt,pt.parent.A||Yt[0])}function je(pt){pt._.x=pt.z+pt.parent.m,pt.m+=pt.parent.m}function tt(pt,Xt,Yt){if(Xt){for(var Tt=pt,_t=pt,Qt=Xt,wr=Tt.parent.children[0],xt=Tt.m,jt=_t.m,Jt=Qt.m,gr=wr.m,or;Qt=Xe(Qt),Tt=Be(Tt),Qt&&Tt;)wr=Be(wr),_t=Xe(_t),_t.a=pt,or=Qt.z+Jt-Tt.z-xt+_e(Qt._,Tt._),or>0&&(ot(et(Qt,pt,Yt),pt,or),xt+=or,jt+=or),Jt+=Qt.m,xt+=Tt.m,gr+=wr.m,jt+=_t.m;Qt&&!Xe(_t)&&(_t.t=Qt,_t.m+=Jt-jt),Tt&&!Be(wr)&&(wr.t=Tt,wr.m+=xt-gr,Yt=pt)}return Yt}function ct(pt){pt.x*=be,pt.y=pt.depth*me}return Me.separation=function(pt){return arguments.length?(_e=pt,Me):_e},Me.size=function(pt){return arguments.length?(Ce=!1,be=+pt[0],me=+pt[1],Me):Ce?null:[be,me]},Me.nodeSize=function(pt){return arguments.length?(Ce=!0,be=+pt[0],me=+pt[1],Me):Ce?[be,me]:null},Me}function dt(_e,be,me,Ce,Me){for(var Ne=_e.children,je,tt=-1,ct=Ne.length,pt=_e.value&&(Me-me)/_e.value;++tt<ct;)je=Ne[tt],je.x0=be,je.x1=Ce,je.y0=me,je.y1=me+=je.value*pt}var mt=(1+Math.sqrt(5))/2;function St(_e,be,me,Ce,Me,Ne){for(var je=[],tt=be.children,ct,pt,Xt=0,Yt=0,Tt=tt.length,_t,Qt,wr=be.value,xt,jt,Jt,gr,or,yt,at;Xt<Tt;){_t=Me-me,Qt=Ne-Ce;do xt=tt[Yt++].value;while(!xt&&Yt<Tt);for(jt=Jt=xt,yt=Math.max(Qt/_t,_t/Qt)/(wr*_e),at=xt*xt*yt,or=Math.max(Jt/at,at/jt);Yt<Tt;++Yt){if(xt+=pt=tt[Yt].value,pt<jt&&(jt=pt),pt>Jt&&(Jt=pt),at=xt*xt*yt,gr=Math.max(Jt/at,at/jt),gr>or){xt-=pt;break}or=gr}je.push(ct={value:xt,dice:_t<Qt,children:tt.slice(Xt,Yt)}),ct.dice?Se(ct,me,Ce,Me,wr?Ce+=Qt*xt/wr:Ne):dt(ct,me,Ce,wr?me+=_t*xt/wr:Me,Ne),wr-=xt,Xt=Yt}return je}var rt=function _e(be){function me(Ce,Me,Ne,je,tt){St(be,Ce,Me,Ne,je,tt)}return me.ratio=function(Ce){return _e((Ce=+Ce)>1?Ce:1)},me}(mt);function Oe(){var _e=rt,be=!1,me=1,Ce=1,Me=[0],Ne=K,je=K,tt=K,ct=K,pt=K;function Xt(Tt){return Tt.x0=Tt.y0=0,Tt.x1=me,Tt.y1=Ce,Tt.eachBefore(Yt),Me=[0],be&&Tt.eachBefore(ye),Tt}function Yt(Tt){var _t=Me[Tt.depth],Qt=Tt.x0+_t,wr=Tt.y0+_t,xt=Tt.x1-_t,jt=Tt.y1-_t;xt<Qt&&(Qt=xt=(Qt+xt)/2),jt<wr&&(wr=jt=(wr+jt)/2),Tt.x0=Qt,Tt.y0=wr,Tt.x1=xt,Tt.y1=jt,Tt.children&&(_t=Me[Tt.depth+1]=Ne(Tt)/2,Qt+=pt(Tt)-_t,wr+=je(Tt)-_t,xt-=tt(Tt)-_t,jt-=ct(Tt)-_t,xt<Qt&&(Qt=xt=(Qt+xt)/2),jt<wr&&(wr=jt=(wr+jt)/2),_e(Tt,Qt,wr,xt,jt))}return Xt.round=function(Tt){return arguments.length?(be=!!Tt,Xt):be},Xt.size=function(Tt){return arguments.length?(me=+Tt[0],Ce=+Tt[1],Xt):[me,Ce]},Xt.tile=function(Tt){return arguments.length?(_e=G(Tt),Xt):_e},Xt.padding=function(Tt){return arguments.length?Xt.paddingInner(Tt).paddingOuter(Tt):Xt.paddingInner()},Xt.paddingInner=function(Tt){return arguments.length?(Ne=typeof Tt=="function"?Tt:oe(+Tt),Xt):Ne},Xt.paddingOuter=function(Tt){return arguments.length?Xt.paddingTop(Tt).paddingRight(Tt).paddingBottom(Tt).paddingLeft(Tt):Xt.paddingTop()},Xt.paddingTop=function(Tt){return arguments.length?(je=typeof Tt=="function"?Tt:oe(+Tt),Xt):je},Xt.paddingRight=function(Tt){return arguments.length?(tt=typeof Tt=="function"?Tt:oe(+Tt),Xt):tt},Xt.paddingBottom=function(Tt){return arguments.length?(ct=typeof Tt=="function"?Tt:oe(+Tt),Xt):ct},Xt.paddingLeft=function(Tt){return arguments.length?(pt=typeof Tt=="function"?Tt:oe(+Tt),Xt):pt},Xt}function Ye(_e,be,me,Ce,Me){var Ne=_e.children,je,tt=Ne.length,ct,pt=new Array(tt+1);for(pt[0]=ct=je=0;je<tt;++je)pt[je+1]=ct+=Ne[je].value;Xt(0,tt,_e.value,be,me,Ce,Me);function Xt(Yt,Tt,_t,Qt,wr,xt,jt){if(Yt>=Tt-1){var Jt=Ne[Yt];Jt.x0=Qt,Jt.y0=wr,Jt.x1=xt,Jt.y1=jt;return}for(var gr=pt[Yt],or=_t/2+gr,yt=Yt+1,at=Tt-1;yt<at;){var wt=yt+at>>>1;pt[wt]<or?yt=wt+1:at=wt}or-pt[yt-1]<pt[yt]-or&&Yt+1<yt&&--yt;var Et=pt[yt]-gr,Rt=_t-Et;if(xt-Qt>jt-wr){var Dt=(Qt*Rt+xt*Et)/_t;Xt(Yt,yt,Et,Qt,wr,Dt,jt),Xt(yt,Tt,Rt,Dt,wr,xt,jt)}else{var Ut=(wr*Rt+jt*Et)/_t;Xt(Yt,yt,Et,Qt,wr,xt,Ut),Xt(yt,Tt,Rt,Qt,Ut,xt,jt)}}}function Ze(_e,be,me,Ce,Me){(_e.depth&1?dt:Se)(_e,be,me,Ce,Me)}var Ge=function _e(be){function me(Ce,Me,Ne,je,tt){if((ct=Ce._squarify)&&ct.ratio===be)for(var ct,pt,Xt,Yt,Tt=-1,_t,Qt=ct.length,wr=Ce.value;++Tt<Qt;){for(pt=ct[Tt],Xt=pt.children,Yt=pt.value=0,_t=Xt.length;Yt<_t;++Yt)pt.value+=Xt[Yt].value;pt.dice?Se(pt,Me,Ne,je,Ne+=(tt-Ne)*pt.value/wr):dt(pt,Me,Ne,Me+=(je-Me)*pt.value/wr,tt),wr-=pt.value}else Ce._squarify=ct=St(be,Ce,Me,Ne,je,tt),ct.ratio=be}return me.ratio=function(Ce){return _e((Ce=+Ce)>1?Ce:1)},me}(mt)},10132:function(U,B,e){e.d(B,{ak:function(){return h}});var y=Math.PI,L=2*y,i=1e-6,S=L-i;function b(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new b}b.prototype=v.prototype={constructor:b,moveTo:function(g,c){this._+="M"+(this._x0=this._x1=+g)+","+(this._y0=this._y1=+c)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(g,c){this._+="L"+(this._x1=+g)+","+(this._y1=+c)},quadraticCurveTo:function(g,c,o,d){this._+="Q"+ +g+","+ +c+","+(this._x1=+o)+","+(this._y1=+d)},bezierCurveTo:function(g,c,o,d,w,A){this._+="C"+ +g+","+ +c+","+ +o+","+ +d+","+(this._x1=+w)+","+(this._y1=+A)},arcTo:function(g,c,o,d,w){g=+g,c=+c,o=+o,d=+d,w=+w;var A=this._x1,C=this._y1,x=o-g,E=d-c,M=A-g,f=C-c,P=M*M+f*f;if(w<0)throw new Error("negative radius: "+w);if(this._x1===null)this._+="M"+(this._x1=g)+","+(this._y1=c);else if(P>i)if(!(Math.abs(f*x-E*M)>i)||!w)this._+="L"+(this._x1=g)+","+(this._y1=c);else{var T=o-A,z=d-C,_=x*x+E*E,V=T*T+z*z,F=Math.sqrt(_),N=Math.sqrt(P),k=w*Math.tan((y-Math.acos((_+P-V)/(2*F*N)))/2),I=k/N,H=k/F;Math.abs(I-1)>i&&(this._+="L"+(g+I*M)+","+(c+I*f)),this._+="A"+w+","+w+",0,0,"+ +(f*T>M*z)+","+(this._x1=g+H*x)+","+(this._y1=c+H*E)}},arc:function(g,c,o,d,w,A){g=+g,c=+c,o=+o,A=!!A;var C=o*Math.cos(d),x=o*Math.sin(d),E=g+C,M=c+x,f=1^A,P=A?d-w:w-d;if(o<0)throw new Error("negative radius: "+o);this._x1===null?this._+="M"+E+","+M:(Math.abs(this._x1-E)>i||Math.abs(this._y1-M)>i)&&(this._+="L"+E+","+M),o&&(P<0&&(P=P%L+L),P>S?this._+="A"+o+","+o+",0,1,"+f+","+(g-C)+","+(c-x)+"A"+o+","+o+",0,1,"+f+","+(this._x1=E)+","+(this._y1=M):P>i&&(this._+="A"+o+","+o+",0,"+ +(P>=y)+","+f+","+(this._x1=g+o*Math.cos(w))+","+(this._y1=c+o*Math.sin(w))))},rect:function(g,c,o,d){this._+="M"+(this._x0=this._x1=+g)+","+(this._y0=this._y1=+c)+"h"+ +o+"v"+ +d+"h"+-o+"Z"},toString:function(){return this._}};var p=v,r=Array.prototype.slice;function t(g){return function(){return g}}function a(g){return g[0]}function n(g){return g[1]}function u(g){return g.source}function s(g){return g.target}function l(g){var c=u,o=s,d=a,w=n,A=null;function C(){var x,E=r.call(arguments),M=c.apply(this,E),f=o.apply(this,E);if(A||(A=x=p()),g(A,+d.apply(this,(E[0]=M,E)),+w.apply(this,E),+d.apply(this,(E[0]=f,E)),+w.apply(this,E)),x)return A=null,x+""||null}return C.source=function(x){return arguments.length?(c=x,C):c},C.target=function(x){return arguments.length?(o=x,C):o},C.x=function(x){return arguments.length?(d=typeof x=="function"?x:t(+x),C):d},C.y=function(x){return arguments.length?(w=typeof x=="function"?x:t(+x),C):w},C.context=function(x){return arguments.length?(A=x??null,C):A},C}function m(g,c,o,d,w){g.moveTo(c,o),g.bezierCurveTo(c=(c+d)/2,o,c,w,d,w)}function h(){return l(m)}},94336:function(U,B,e){e.d(B,{Yn:function(){return Ye},m_:function(){return a},E9:function(){return Ze}});var y=e(8208),L=e(58931),i=e(46192),S=e(68936),b=e(32171),v=e(53528);function p(_e){if(0<=_e.y&&_e.y<100){var be=new Date(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L);return be.setFullYear(_e.y),be}return new Date(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L)}function r(_e){if(0<=_e.y&&_e.y<100){var be=new Date(Date.UTC(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L));return be.setUTCFullYear(_e.y),be}return new Date(Date.UTC(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L))}function t(_e,be,me){return{y:_e,m:be,d:me,H:0,M:0,S:0,L:0}}function a(_e){var be=_e.dateTime,me=_e.date,Ce=_e.time,Me=_e.periods,Ne=_e.days,je=_e.shortDays,tt=_e.months,ct=_e.shortMonths,pt=g(Me),Xt=c(Me),Yt=g(Ne),Tt=c(Ne),_t=g(je),Qt=c(je),wr=g(tt),xt=c(tt),jt=g(ct),Jt=c(ct),gr={a:We,A:He,b:zt,B:kt,c:null,d:ee,e:ee,f:Y,H:te,I:ne,j:ue,L:q,m:Z,M:G,p:Zt,q:er,Q:St,s:rt,S:K,u:oe,U:$,V:J,w:se,W:ie,x:null,X:null,y:ce,Y:ye,Z:Se,"%":mt},or={a:lr,A:rr,b:Ft,B:cr,c:null,d:Te,e:Te,f:De,H:ke,I:we,j:Ee,L:xe,m:Ve,M:Ue,p:pr,q:mr,Q:St,s:rt,S:Be,u:Xe,U:ot,V:ut,w:et,W:qe,x:null,X:null,y:ft,Y:ht,Z:dt,"%":mt},yt={a:Dt,A:Ut,b:Nt,B:Kt,c:ur,d:T,e:T,f:k,H:_,I:_,j:z,L:N,m:P,M:V,p:Rt,q:f,Q:H,s:j,S:F,u:d,U:w,V:A,w:o,W:C,x:fr,X:vr,y:E,Y:x,Z:M,"%":I};gr.x=at(me,gr),gr.X=at(Ce,gr),gr.c=at(be,gr),or.x=at(me,or),or.X=at(Ce,or),or.c=at(be,or);function at(hr,Gr){return function(Dr){var Ir=[],cn=-1,rn=0,Cn=hr.length,Sn,Tr,Lr;for(Dr instanceof Date||(Dr=new Date(+Dr));++cn<Cn;)hr.charCodeAt(cn)===37&&(Ir.push(hr.slice(rn,cn)),(Tr=n[Sn=hr.charAt(++cn)])!=null?Sn=hr.charAt(++cn):Tr=Sn==="e"?" ":"0",(Lr=Gr[Sn])&&(Sn=Lr(Dr,Tr)),Ir.push(Sn),rn=cn+1);return Ir.push(hr.slice(rn,cn)),Ir.join("")}}function wt(hr,Gr){return function(Dr){var Ir=t(1900,void 0,1),cn=Et(Ir,hr,Dr+="",0),rn,Cn;if(cn!=Dr.length)return null;if("Q"in Ir)return new Date(Ir.Q);if("s"in Ir)return new Date(Ir.s*1e3+("L"in Ir?Ir.L:0));if(Gr&&!("Z"in Ir)&&(Ir.Z=0),"p"in Ir&&(Ir.H=Ir.H%12+Ir.p*12),Ir.m===void 0&&(Ir.m="q"in Ir?Ir.q:0),"V"in Ir){if(Ir.V<1||Ir.V>53)return null;"w"in Ir||(Ir.w=1),"Z"in Ir?(rn=r(t(Ir.y,0,1)),Cn=rn.getUTCDay(),rn=Cn>4||Cn===0?y.ot.ceil(rn):(0,y.ot)(rn),rn=L.c.offset(rn,(Ir.V-1)*7),Ir.y=rn.getUTCFullYear(),Ir.m=rn.getUTCMonth(),Ir.d=rn.getUTCDate()+(Ir.w+6)%7):(rn=p(t(Ir.y,0,1)),Cn=rn.getDay(),rn=Cn>4||Cn===0?i.qT.ceil(rn):(0,i.qT)(rn),rn=S.c.offset(rn,(Ir.V-1)*7),Ir.y=rn.getFullYear(),Ir.m=rn.getMonth(),Ir.d=rn.getDate()+(Ir.w+6)%7)}else("W"in Ir||"U"in Ir)&&("w"in Ir||(Ir.w="u"in Ir?Ir.u%7:"W"in Ir?1:0),Cn="Z"in Ir?r(t(Ir.y,0,1)).getUTCDay():p(t(Ir.y,0,1)).getDay(),Ir.m=0,Ir.d="W"in Ir?(Ir.w+6)%7+Ir.W*7-(Cn+5)%7:Ir.w+Ir.U*7-(Cn+6)%7);return"Z"in Ir?(Ir.H+=Ir.Z/100|0,Ir.M+=Ir.Z%100,r(Ir)):p(Ir)}}function Et(hr,Gr,Dr,Ir){for(var cn=0,rn=Gr.length,Cn=Dr.length,Sn,Tr;cn<rn;){if(Ir>=Cn)return-1;if(Sn=Gr.charCodeAt(cn++),Sn===37){if(Sn=Gr.charAt(cn++),Tr=yt[Sn in n?Gr.charAt(cn++):Sn],!Tr||(Ir=Tr(hr,Dr,Ir))<0)return-1}else if(Sn!=Dr.charCodeAt(Ir++))return-1}return Ir}function Rt(hr,Gr,Dr){var Ir=pt.exec(Gr.slice(Dr));return Ir?(hr.p=Xt[Ir[0].toLowerCase()],Dr+Ir[0].length):-1}function Dt(hr,Gr,Dr){var Ir=_t.exec(Gr.slice(Dr));return Ir?(hr.w=Qt[Ir[0].toLowerCase()],Dr+Ir[0].length):-1}function Ut(hr,Gr,Dr){var Ir=Yt.exec(Gr.slice(Dr));return Ir?(hr.w=Tt[Ir[0].toLowerCase()],Dr+Ir[0].length):-1}function Nt(hr,Gr,Dr){var Ir=jt.exec(Gr.slice(Dr));return Ir?(hr.m=Jt[Ir[0].toLowerCase()],Dr+Ir[0].length):-1}function Kt(hr,Gr,Dr){var Ir=wr.exec(Gr.slice(Dr));return Ir?(hr.m=xt[Ir[0].toLowerCase()],Dr+Ir[0].length):-1}function ur(hr,Gr,Dr){return Et(hr,be,Gr,Dr)}function fr(hr,Gr,Dr){return Et(hr,me,Gr,Dr)}function vr(hr,Gr,Dr){return Et(hr,Ce,Gr,Dr)}function We(hr){return je[hr.getDay()]}function He(hr){return Ne[hr.getDay()]}function zt(hr){return ct[hr.getMonth()]}function kt(hr){return tt[hr.getMonth()]}function Zt(hr){return Me[+(hr.getHours()>=12)]}function er(hr){return 1+~~(hr.getMonth()/3)}function lr(hr){return je[hr.getUTCDay()]}function rr(hr){return Ne[hr.getUTCDay()]}function Ft(hr){return ct[hr.getUTCMonth()]}function cr(hr){return tt[hr.getUTCMonth()]}function pr(hr){return Me[+(hr.getUTCHours()>=12)]}function mr(hr){return 1+~~(hr.getUTCMonth()/3)}return{format:function(hr){var Gr=at(hr+="",gr);return Gr.toString=function(){return hr},Gr},parse:function(hr){var Gr=wt(hr+="",!1);return Gr.toString=function(){return hr},Gr},utcFormat:function(hr){var Gr=at(hr+="",or);return Gr.toString=function(){return hr},Gr},utcParse:function(hr){var Gr=wt(hr+="",!0);return Gr.toString=function(){return hr},Gr}}}var n={"-":"",_:" ",0:"0"},u=/^\s*\d+/,s=/^%/,l=/[\\^$*+?|[\]().{}]/g;function m(_e,be,me){var Ce=_e<0?"-":"",Me=(Ce?-_e:_e)+"",Ne=Me.length;return Ce+(Ne<me?new Array(me-Ne+1).join(be)+Me:Me)}function h(_e){return _e.replace(l,"\\$&")}function g(_e){return new RegExp("^(?:"+_e.map(h).join("|")+")","i")}function c(_e){for(var be={},me=-1,Ce=_e.length;++me<Ce;)be[_e[me].toLowerCase()]=me;return be}function o(_e,be,me){var Ce=u.exec(be.slice(me,me+1));return Ce?(_e.w=+Ce[0],me+Ce[0].length):-1}function d(_e,be,me){var Ce=u.exec(be.slice(me,me+1));return Ce?(_e.u=+Ce[0],me+Ce[0].length):-1}function w(_e,be,me){var Ce=u.exec(be.slice(me,me+2));return Ce?(_e.U=+Ce[0],me+Ce[0].length):-1}function A(_e,be,me){var Ce=u.exec(be.slice(me,me+2));return Ce?(_e.V=+Ce[0],me+Ce[0].length):-1}function C(_e,be,me){var Ce=u.exec(be.slice(me,me+2));return Ce?(_e.W=+Ce[0],me+Ce[0].length):-1}function x(_e,be,me){var Ce=u.exec(be.slice(me,me+4));return Ce?(_e.y=+Ce[0],me+Ce[0].length):-1}function E(_e,be,me){var Ce=u.exec(be.slice(me,me+2));return Ce?(_e.y=+Ce[0]+(+Ce[0]>68?1900:2e3),me+Ce[0].length):-1}function M(_e,be,me){var Ce=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(be.slice(me,me+6));return Ce?(_e.Z=Ce[1]?0:-(Ce[2]+(Ce[3]||"00")),me+Ce[0].length):-1}function f(_e,be,me){var Ce=u.exec(be.slice(me,me+1));return Ce?(_e.q=Ce[0]*3-3,me+Ce[0].length):-1}function P(_e,be,me){var Ce=u.exec(be.slice(me,me+2));return Ce?(_e.m=Ce[0]-1,me+Ce[0].length):-1}function T(_e,be,me){var Ce=u.exec(be.slice(me,me+2));return Ce?(_e.d=+Ce[0],me+Ce[0].length):-1}function z(_e,be,me){var Ce=u.exec(be.slice(me,me+3));return Ce?(_e.m=0,_e.d=+Ce[0],me+Ce[0].length):-1}function _(_e,be,me){var Ce=u.exec(be.slice(me,me+2));return Ce?(_e.H=+Ce[0],me+Ce[0].length):-1}function V(_e,be,me){var Ce=u.exec(be.slice(me,me+2));return Ce?(_e.M=+Ce[0],me+Ce[0].length):-1}function F(_e,be,me){var Ce=u.exec(be.slice(me,me+2));return Ce?(_e.S=+Ce[0],me+Ce[0].length):-1}function N(_e,be,me){var Ce=u.exec(be.slice(me,me+3));return Ce?(_e.L=+Ce[0],me+Ce[0].length):-1}function k(_e,be,me){var Ce=u.exec(be.slice(me,me+6));return Ce?(_e.L=Math.floor(Ce[0]/1e3),me+Ce[0].length):-1}function I(_e,be,me){var Ce=s.exec(be.slice(me,me+1));return Ce?me+Ce[0].length:-1}function H(_e,be,me){var Ce=u.exec(be.slice(me));return Ce?(_e.Q=+Ce[0],me+Ce[0].length):-1}function j(_e,be,me){var Ce=u.exec(be.slice(me));return Ce?(_e.s=+Ce[0],me+Ce[0].length):-1}function ee(_e,be){return m(_e.getDate(),be,2)}function te(_e,be){return m(_e.getHours(),be,2)}function ne(_e,be){return m(_e.getHours()%12||12,be,2)}function ue(_e,be){return m(1+S.c.count((0,b.c)(_e),_e),be,3)}function q(_e,be){return m(_e.getMilliseconds(),be,3)}function Y(_e,be){return q(_e,be)+"000"}function Z(_e,be){return m(_e.getMonth()+1,be,2)}function G(_e,be){return m(_e.getMinutes(),be,2)}function K(_e,be){return m(_e.getSeconds(),be,2)}function oe(_e){var be=_e.getDay();return be===0?7:be}function $(_e,be){return m(i.uU.count((0,b.c)(_e)-1,_e),be,2)}function J(_e,be){var me=_e.getDay();return _e=me>=4||me===0?(0,i.kD)(_e):i.kD.ceil(_e),m(i.kD.count((0,b.c)(_e),_e)+((0,b.c)(_e).getDay()===4),be,2)}function se(_e){return _e.getDay()}function ie(_e,be){return m(i.qT.count((0,b.c)(_e)-1,_e),be,2)}function ce(_e,be){return m(_e.getFullYear()%100,be,2)}function ye(_e,be){return m(_e.getFullYear()%1e4,be,4)}function Se(_e){var be=_e.getTimezoneOffset();return(be>0?"-":(be*=-1,"+"))+m(be/60|0,"0",2)+m(be%60,"0",2)}function Te(_e,be){return m(_e.getUTCDate(),be,2)}function ke(_e,be){return m(_e.getUTCHours(),be,2)}function we(_e,be){return m(_e.getUTCHours()%12||12,be,2)}function Ee(_e,be){return m(1+L.c.count((0,v.c)(_e),_e),be,3)}function xe(_e,be){return m(_e.getUTCMilliseconds(),be,3)}function De(_e,be){return xe(_e,be)+"000"}function Ve(_e,be){return m(_e.getUTCMonth()+1,be,2)}function Ue(_e,be){return m(_e.getUTCMinutes(),be,2)}function Be(_e,be){return m(_e.getUTCSeconds(),be,2)}function Xe(_e){var be=_e.getUTCDay();return be===0?7:be}function ot(_e,be){return m(y.EV.count((0,v.c)(_e)-1,_e),be,2)}function ut(_e,be){var me=_e.getUTCDay();return _e=me>=4||me===0?(0,y.yA)(_e):y.yA.ceil(_e),m(y.yA.count((0,v.c)(_e),_e)+((0,v.c)(_e).getUTCDay()===4),be,2)}function et(_e){return _e.getUTCDay()}function qe(_e,be){return m(y.ot.count((0,v.c)(_e)-1,_e),be,2)}function ft(_e,be){return m(_e.getUTCFullYear()%100,be,2)}function ht(_e,be){return m(_e.getUTCFullYear()%1e4,be,4)}function dt(){return"+0000"}function mt(){return"%"}function St(_e){return+_e}function rt(_e){return Math.floor(+_e/1e3)}var Oe,Ye,Ze;Ge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ge(_e){return Oe=a(_e),Ye=Oe.format,Oe.parse,Ze=Oe.utcFormat,Oe.utcParse,Oe}},68936:function(U,B,e){e.d(B,{m:function(){return S}});var y=e(81628),L=e(69792),i=(0,y.c)(function(b){b.setHours(0,0,0,0)},function(b,v){b.setDate(b.getDate()+v)},function(b,v){return(v-b-(v.getTimezoneOffset()-b.getTimezoneOffset())*L.iy)/L.SK},function(b){return b.getDate()-1});B.c=i;var S=i.range},69792:function(U,B,e){e.d(B,{KK:function(){return b},SK:function(){return S},cg:function(){return i},iy:function(){return L},yc:function(){return y}});var y=1e3,L=6e4,i=36e5,S=864e5,b=6048e5},73220:function(U,B,e){e.r(B),e.d(B,{timeDay:function(){return m.c},timeDays:function(){return m.m},timeFriday:function(){return h.iB},timeFridays:function(){return h.sJ},timeHour:function(){return s},timeHours:function(){return l},timeInterval:function(){return y.c},timeMillisecond:function(){return i},timeMilliseconds:function(){return S},timeMinute:function(){return a},timeMinutes:function(){return n},timeMonday:function(){return h.qT},timeMondays:function(){return h.QP},timeMonth:function(){return c},timeMonths:function(){return o},timeSaturday:function(){return h.Wc},timeSaturdays:function(){return h.aI},timeSecond:function(){return p},timeSeconds:function(){return r},timeSunday:function(){return h.uU},timeSundays:function(){return h.Ab},timeThursday:function(){return h.kD},timeThursdays:function(){return h.eC},timeTuesday:function(){return h.Mf},timeTuesdays:function(){return h.Oc},timeWednesday:function(){return h.eg},timeWednesdays:function(){return h.sn},timeWeek:function(){return h.uU},timeWeeks:function(){return h.Ab},timeYear:function(){return d.c},timeYears:function(){return d.Q},utcDay:function(){return f.c},utcDays:function(){return f.o},utcFriday:function(){return P.od},utcFridays:function(){return P.iG},utcHour:function(){return E},utcHours:function(){return M},utcMillisecond:function(){return i},utcMilliseconds:function(){return S},utcMinute:function(){return A},utcMinutes:function(){return C},utcMonday:function(){return P.ot},utcMondays:function(){return P.iO},utcMonth:function(){return z},utcMonths:function(){return _},utcSaturday:function(){return P.Ad},utcSaturdays:function(){return P.K8},utcSecond:function(){return p},utcSeconds:function(){return r},utcSunday:function(){return P.EV},utcSundays:function(){return P.Wq},utcThursday:function(){return P.yA},utcThursdays:function(){return P.ob},utcTuesday:function(){return P.sG},utcTuesdays:function(){return P.kl},utcWednesday:function(){return P._6},utcWednesdays:function(){return P.W_},utcWeek:function(){return P.EV},utcWeeks:function(){return P.Wq},utcYear:function(){return V.c},utcYears:function(){return V.i}});var y=e(81628),L=(0,y.c)(function(){},function(F,N){F.setTime(+F+N)},function(F,N){return N-F});L.every=function(F){return F=Math.floor(F),!isFinite(F)||!(F>0)?null:F>1?(0,y.c)(function(N){N.setTime(Math.floor(N/F)*F)},function(N,k){N.setTime(+N+k*F)},function(N,k){return(k-N)/F}):L};var i=L,S=L.range,b=e(69792),v=(0,y.c)(function(F){F.setTime(F-F.getMilliseconds())},function(F,N){F.setTime(+F+N*b.yc)},function(F,N){return(N-F)/b.yc},function(F){return F.getUTCSeconds()}),p=v,r=v.range,t=(0,y.c)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*b.yc)},function(F,N){F.setTime(+F+N*b.iy)},function(F,N){return(N-F)/b.iy},function(F){return F.getMinutes()}),a=t,n=t.range,u=(0,y.c)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*b.yc-F.getMinutes()*b.iy)},function(F,N){F.setTime(+F+N*b.cg)},function(F,N){return(N-F)/b.cg},function(F){return F.getHours()}),s=u,l=u.range,m=e(68936),h=e(46192),g=(0,y.c)(function(F){F.setDate(1),F.setHours(0,0,0,0)},function(F,N){F.setMonth(F.getMonth()+N)},function(F,N){return N.getMonth()-F.getMonth()+(N.getFullYear()-F.getFullYear())*12},function(F){return F.getMonth()}),c=g,o=g.range,d=e(32171),w=(0,y.c)(function(F){F.setUTCSeconds(0,0)},function(F,N){F.setTime(+F+N*b.iy)},function(F,N){return(N-F)/b.iy},function(F){return F.getUTCMinutes()}),A=w,C=w.range,x=(0,y.c)(function(F){F.setUTCMinutes(0,0,0)},function(F,N){F.setTime(+F+N*b.cg)},function(F,N){return(N-F)/b.cg},function(F){return F.getUTCHours()}),E=x,M=x.range,f=e(58931),P=e(8208),T=(0,y.c)(function(F){F.setUTCDate(1),F.setUTCHours(0,0,0,0)},function(F,N){F.setUTCMonth(F.getUTCMonth()+N)},function(F,N){return N.getUTCMonth()-F.getUTCMonth()+(N.getUTCFullYear()-F.getUTCFullYear())*12},function(F){return F.getUTCMonth()}),z=T,_=T.range,V=e(53528)},81628:function(U,B,e){e.d(B,{c:function(){return i}});var y=new Date,L=new Date;function i(S,b,v,p){function r(t){return S(t=arguments.length===0?new Date:new Date(+t)),t}return r.floor=function(t){return S(t=new Date(+t)),t},r.ceil=function(t){return S(t=new Date(t-1)),b(t,1),S(t),t},r.round=function(t){var a=r(t),n=r.ceil(t);return t-a<n-t?a:n},r.offset=function(t,a){return b(t=new Date(+t),a==null?1:Math.floor(a)),t},r.range=function(t,a,n){var u=[],s;if(t=r.ceil(t),n=n==null?1:Math.floor(n),!(t<a)||!(n>0))return u;do u.push(s=new Date(+t)),b(t,n),S(t);while(s<t&&t<a);return u},r.filter=function(t){return i(function(a){if(a>=a)for(;S(a),!t(a);)a.setTime(a-1)},function(a,n){if(a>=a)if(n<0)for(;++n<=0;)for(;b(a,-1),!t(a););else for(;--n>=0;)for(;b(a,1),!t(a););})},v&&(r.count=function(t,a){return y.setTime(+t),L.setTime(+a),S(y),S(L),Math.floor(v(y,L))},r.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?r.filter(p?function(a){return p(a)%t===0}:function(a){return r.count(0,a)%t===0}):r}),r}},58931:function(U,B,e){e.d(B,{o:function(){return S}});var y=e(81628),L=e(69792),i=(0,y.c)(function(b){b.setUTCHours(0,0,0,0)},function(b,v){b.setUTCDate(b.getUTCDate()+v)},function(b,v){return(v-b)/L.SK},function(b){return b.getUTCDate()-1});B.c=i;var S=i.range},8208:function(U,B,e){e.d(B,{Ad:function(){return a},EV:function(){return S},K8:function(){return g},W_:function(){return l},Wq:function(){return n},_6:function(){return p},iG:function(){return h},iO:function(){return u},kl:function(){return s},ob:function(){return m},od:function(){return t},ot:function(){return b},sG:function(){return v},yA:function(){return r}});var y=e(81628),L=e(69792);function i(c){return(0,y.c)(function(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-c)%7),o.setUTCHours(0,0,0,0)},function(o,d){o.setUTCDate(o.getUTCDate()+d*7)},function(o,d){return(d-o)/L.KK})}var S=i(0),b=i(1),v=i(2),p=i(3),r=i(4),t=i(5),a=i(6),n=S.range,u=b.range,s=v.range,l=p.range,m=r.range,h=t.range,g=a.range},53528:function(U,B,e){e.d(B,{i:function(){return i}});var y=e(81628),L=(0,y.c)(function(S){S.setUTCMonth(0,1),S.setUTCHours(0,0,0,0)},function(S,b){S.setUTCFullYear(S.getUTCFullYear()+b)},function(S,b){return b.getUTCFullYear()-S.getUTCFullYear()},function(S){return S.getUTCFullYear()});L.every=function(S){return!isFinite(S=Math.floor(S))||!(S>0)?null:(0,y.c)(function(b){b.setUTCFullYear(Math.floor(b.getUTCFullYear()/S)*S),b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},function(b,v){b.setUTCFullYear(b.getUTCFullYear()+v*S)})},B.c=L;var i=L.range},46192:function(U,B,e){e.d(B,{Ab:function(){return n},Mf:function(){return v},Oc:function(){return s},QP:function(){return u},Wc:function(){return a},aI:function(){return g},eC:function(){return m},eg:function(){return p},iB:function(){return t},kD:function(){return r},qT:function(){return b},sJ:function(){return h},sn:function(){return l},uU:function(){return S}});var y=e(81628),L=e(69792);function i(c){return(0,y.c)(function(o){o.setDate(o.getDate()-(o.getDay()+7-c)%7),o.setHours(0,0,0,0)},function(o,d){o.setDate(o.getDate()+d*7)},function(o,d){return(d-o-(d.getTimezoneOffset()-o.getTimezoneOffset())*L.iy)/L.KK})}var S=i(0),b=i(1),v=i(2),p=i(3),r=i(4),t=i(5),a=i(6),n=S.range,u=b.range,s=v.range,l=p.range,m=r.range,h=t.range,g=a.range},32171:function(U,B,e){e.d(B,{Q:function(){return i}});var y=e(81628),L=(0,y.c)(function(S){S.setMonth(0,1),S.setHours(0,0,0,0)},function(S,b){S.setFullYear(S.getFullYear()+b)},function(S,b){return b.getFullYear()-S.getFullYear()},function(S){return S.getFullYear()});L.every=function(S){return!isFinite(S=Math.floor(S))||!(S>0)?null:(0,y.c)(function(b){b.setFullYear(Math.floor(b.getFullYear()/S)*S),b.setMonth(0,1),b.setHours(0,0,0,0)},function(b,v){b.setFullYear(b.getFullYear()+v*S)})},B.c=L;var i=L.range},64348:function(U,B,e){var y=e(39640)(),L=e(53664),i=y&&L("%Object.defineProperty%",!0);if(i)try{i({},"a",{value:1})}catch{i=!1}var S=L("%SyntaxError%"),b=L("%TypeError%"),v=e(2304);U.exports=function(r,t,a){if(!r||typeof r!="object"&&typeof r!="function")throw new b("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new b("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new b("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new b("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new b("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new b("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,m=!!v&&v(r,t);if(i)i(r,t,{configurable:s===null&&m?m.configurable:!s,enumerable:n===null&&m?m.enumerable:!n,value:a,writable:u===null&&m?m.writable:!u});else if(l||!n&&!u&&!s)r[t]=a;else throw new S("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},81288:function(U,B,e){var y=e(41820),L=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",i=Object.prototype.toString,S=Array.prototype.concat,b=Object.defineProperty,v=function(n){return typeof n=="function"&&i.call(n)==="[object Function]"},p=e(39640)(),r=b&&p,t=function(n,u,s,l){if(u in n){if(l===!0){if(n[u]===s)return}else if(!v(l)||!l())return}r?b(n,u,{configurable:!0,enumerable:!1,value:s,writable:!0}):n[u]=s},a=function(n,u){var s=arguments.length>2?arguments[2]:{},l=y(u);L&&(l=S.call(l,Object.getOwnPropertySymbols(u)));for(var m=0;m<l.length;m+=1)t(n,l[m],u[l[m]],s[l[m]])};a.supportsDescriptors=!!r,U.exports=a},31264:function(U){U.exports=function(){for(var B=0;B<arguments.length;B++)if(arguments[B]!==void 0)return arguments[B]}},63768:function(U){U.exports=L;var B=L.canvas=document.createElement("canvas"),e=B.getContext("2d"),y=i([32,126]);L.createPairs=i,L.ascii=y;function L(S,b){Array.isArray(S)&&(S=S.join(", "));var v={},p,r=16,t=.05;b&&(b.length===2&&typeof b[0]=="number"?p=i(b):Array.isArray(b)?p=b:(b.o?p=i(b.o):b.pairs&&(p=b.pairs),b.fontSize&&(r=b.fontSize),b.threshold!=null&&(t=b.threshold))),p||(p=y),e.font=r+"px "+S;for(var a=0;a<p.length;a++){var n=p[a],u=e.measureText(n[0]).width+e.measureText(n[1]).width,s=e.measureText(n).width;if(Math.abs(u-s)>r*t){var l=(s-u)/r;v[n]=l*1e3}}return v}function i(S){for(var b=[],v=S[0];v<=S[1];v++)for(var p=String.fromCharCode(v),r=S[0];r<S[1];r++){var t=String.fromCharCode(r),a=p+t;b.push(a)}return b}},22235:function(U,B,e){var y=e(49972),L=e(48816),i={M:"moveTo",C:"bezierCurveTo"};U.exports=function(S,b){S.beginPath(),L(y(b)).forEach(function(v){var p=v[0],r=v.slice(1);S[i[p]].apply(S,r)}),S.closePath()}},72512:function(U){U.exports=function(B){switch(B){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(U){function B(L,i,S){var b=L[S]|0;if(b<=0)return[];var v=new Array(b),p;if(S===L.length-1)for(p=0;p<b;++p)v[p]=i;else for(p=0;p<b;++p)v[p]=B(L,i,S+1);return v}function e(L,i){var S,b;for(S=new Array(L),b=0;b<L;++b)S[b]=i;return S}function y(L,i){switch(typeof i>"u"&&(i=0),typeof L){case"number":if(L>0)return e(L|0,i);break;case"object":if(typeof L.length=="number")return B(L,i,0);break}return[]}U.exports=y},28912:function(U){U.exports=B,U.exports.default=B;function B(_,V,F){F=F||2;var N=V&&V.length,k=N?V[0]*F:_.length,I=e(_,0,k,F,!0),H=[];if(!I||I.next===I.prev)return H;var j,ee,te,ne,ue,q,Y;if(N&&(I=p(_,V,I,F)),_.length>80*F){j=te=_[0],ee=ne=_[1];for(var Z=F;Z<k;Z+=F)ue=_[Z],q=_[Z+1],ue<j&&(j=ue),q<ee&&(ee=q),ue>te&&(te=ue),q>ne&&(ne=q);Y=Math.max(te-j,ne-ee),Y=Y!==0?1/Y:0}return L(I,H,F,j,ee,Y),H}function e(_,V,F,N,k){var I,H;if(k===z(_,V,F,N)>0)for(I=V;I<F;I+=N)H=f(I,_[I],_[I+1],H);else for(I=F-N;I>=V;I-=N)H=f(I,_[I],_[I+1],H);return H&&o(H,H.next)&&(P(H),H=H.next),H}function y(_,V){if(!_)return _;V||(V=_);var F=_,N;do if(N=!1,!F.steiner&&(o(F,F.next)||c(F.prev,F,F.next)===0)){if(P(F),F=V=F.prev,F===F.next)break;N=!0}else F=F.next;while(N||F!==V);return V}function L(_,V,F,N,k,I,H){if(_){!H&&I&&u(_,N,k,I);for(var j=_,ee,te;_.prev!==_.next;){if(ee=_.prev,te=_.next,I?S(_,N,k,I):i(_)){V.push(ee.i/F),V.push(_.i/F),V.push(te.i/F),P(_),_=te.next,j=te.next;continue}if(_=te,_===j){H?H===1?(_=b(y(_),V,F),L(_,V,F,N,k,I,2)):H===2&&v(_,V,F,N,k,I):L(y(_),V,F,N,k,I,1);break}}}}function i(_){var V=_.prev,F=_,N=_.next;if(c(V,F,N)>=0)return!1;for(var k=_.next.next;k!==_.prev;){if(h(V.x,V.y,F.x,F.y,N.x,N.y,k.x,k.y)&&c(k.prev,k,k.next)>=0)return!1;k=k.next}return!0}function S(_,V,F,N){var k=_.prev,I=_,H=_.next;if(c(k,I,H)>=0)return!1;for(var j=k.x<I.x?k.x<H.x?k.x:H.x:I.x<H.x?I.x:H.x,ee=k.y<I.y?k.y<H.y?k.y:H.y:I.y<H.y?I.y:H.y,te=k.x>I.x?k.x>H.x?k.x:H.x:I.x>H.x?I.x:H.x,ne=k.y>I.y?k.y>H.y?k.y:H.y:I.y>H.y?I.y:H.y,ue=l(j,ee,V,F,N),q=l(te,ne,V,F,N),Y=_.prevZ,Z=_.nextZ;Y&&Y.z>=ue&&Z&&Z.z<=q;){if(Y!==_.prev&&Y!==_.next&&h(k.x,k.y,I.x,I.y,H.x,H.y,Y.x,Y.y)&&c(Y.prev,Y,Y.next)>=0||(Y=Y.prevZ,Z!==_.prev&&Z!==_.next&&h(k.x,k.y,I.x,I.y,H.x,H.y,Z.x,Z.y)&&c(Z.prev,Z,Z.next)>=0))return!1;Z=Z.nextZ}for(;Y&&Y.z>=ue;){if(Y!==_.prev&&Y!==_.next&&h(k.x,k.y,I.x,I.y,H.x,H.y,Y.x,Y.y)&&c(Y.prev,Y,Y.next)>=0)return!1;Y=Y.prevZ}for(;Z&&Z.z<=q;){if(Z!==_.prev&&Z!==_.next&&h(k.x,k.y,I.x,I.y,H.x,H.y,Z.x,Z.y)&&c(Z.prev,Z,Z.next)>=0)return!1;Z=Z.nextZ}return!0}function b(_,V,F){var N=_;do{var k=N.prev,I=N.next.next;!o(k,I)&&d(k,N,N.next,I)&&x(k,I)&&x(I,k)&&(V.push(k.i/F),V.push(N.i/F),V.push(I.i/F),P(N),P(N.next),N=_=I),N=N.next}while(N!==_);return y(N)}function v(_,V,F,N,k,I){var H=_;do{for(var j=H.next.next;j!==H.prev;){if(H.i!==j.i&&g(H,j)){var ee=M(H,j);H=y(H,H.next),ee=y(ee,ee.next),L(H,V,F,N,k,I),L(ee,V,F,N,k,I);return}j=j.next}H=H.next}while(H!==_)}function p(_,V,F,N){var k=[],I,H,j,ee,te;for(I=0,H=V.length;I<H;I++)j=V[I]*N,ee=I<H-1?V[I+1]*N:_.length,te=e(_,j,ee,N,!1),te===te.next&&(te.steiner=!0),k.push(m(te));for(k.sort(r),I=0;I<k.length;I++)t(k[I],F),F=y(F,F.next);return F}function r(_,V){return _.x-V.x}function t(_,V){if(V=a(_,V),V){var F=M(V,_);y(V,V.next),y(F,F.next)}}function a(_,V){var F=V,N=_.x,k=_.y,I=-1/0,H;do{if(k<=F.y&&k>=F.next.y&&F.next.y!==F.y){var j=F.x+(k-F.y)*(F.next.x-F.x)/(F.next.y-F.y);if(j<=N&&j>I){if(I=j,j===N){if(k===F.y)return F;if(k===F.next.y)return F.next}H=F.x<F.next.x?F:F.next}}F=F.next}while(F!==V);if(!H)return null;if(N===I)return H;var ee=H,te=H.x,ne=H.y,ue=1/0,q;F=H;do N>=F.x&&F.x>=te&&N!==F.x&&h(k<ne?N:I,k,te,ne,k<ne?I:N,k,F.x,F.y)&&(q=Math.abs(k-F.y)/(N-F.x),x(F,_)&&(q<ue||q===ue&&(F.x>H.x||F.x===H.x&&n(H,F)))&&(H=F,ue=q)),F=F.next;while(F!==ee);return H}function n(_,V){return c(_.prev,_,V.prev)<0&&c(V.next,_,_.next)<0}function u(_,V,F,N){var k=_;do k.z===null&&(k.z=l(k.x,k.y,V,F,N)),k.prevZ=k.prev,k.nextZ=k.next,k=k.next;while(k!==_);k.prevZ.nextZ=null,k.prevZ=null,s(k)}function s(_){var V,F,N,k,I,H,j,ee,te=1;do{for(F=_,_=null,I=null,H=0;F;){for(H++,N=F,j=0,V=0;V<te&&(j++,N=N.nextZ,!!N);V++);for(ee=te;j>0||ee>0&&N;)j!==0&&(ee===0||!N||F.z<=N.z)?(k=F,F=F.nextZ,j--):(k=N,N=N.nextZ,ee--),I?I.nextZ=k:_=k,k.prevZ=I,I=k;F=N}I.nextZ=null,te*=2}while(H>1);return _}function l(_,V,F,N,k){return _=32767*(_-F)*k,V=32767*(V-N)*k,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,V=(V|V<<8)&16711935,V=(V|V<<4)&252645135,V=(V|V<<2)&858993459,V=(V|V<<1)&1431655765,_|V<<1}function m(_){var V=_,F=_;do(V.x<F.x||V.x===F.x&&V.y<F.y)&&(F=V),V=V.next;while(V!==_);return F}function h(_,V,F,N,k,I,H,j){return(k-H)*(V-j)-(_-H)*(I-j)>=0&&(_-H)*(N-j)-(F-H)*(V-j)>=0&&(F-H)*(I-j)-(k-H)*(N-j)>=0}function g(_,V){return _.next.i!==V.i&&_.prev.i!==V.i&&!C(_,V)&&(x(_,V)&&x(V,_)&&E(_,V)&&(c(_.prev,_,V.prev)||c(_,V.prev,V))||o(_,V)&&c(_.prev,_,_.next)>0&&c(V.prev,V,V.next)>0)}function c(_,V,F){return(V.y-_.y)*(F.x-V.x)-(V.x-_.x)*(F.y-V.y)}function o(_,V){return _.x===V.x&&_.y===V.y}function d(_,V,F,N){var k=A(c(_,V,F)),I=A(c(_,V,N)),H=A(c(F,N,_)),j=A(c(F,N,V));return!!(k!==I&&H!==j||k===0&&w(_,F,V)||I===0&&w(_,N,V)||H===0&&w(F,_,N)||j===0&&w(F,V,N))}function w(_,V,F){return V.x<=Math.max(_.x,F.x)&&V.x>=Math.min(_.x,F.x)&&V.y<=Math.max(_.y,F.y)&&V.y>=Math.min(_.y,F.y)}function A(_){return _>0?1:_<0?-1:0}function C(_,V){var F=_;do{if(F.i!==_.i&&F.next.i!==_.i&&F.i!==V.i&&F.next.i!==V.i&&d(F,F.next,_,V))return!0;F=F.next}while(F!==_);return!1}function x(_,V){return c(_.prev,_,_.next)<0?c(_,V,_.next)>=0&&c(_,_.prev,V)>=0:c(_,V,_.prev)<0||c(_,_.next,V)<0}function E(_,V){var F=_,N=!1,k=(_.x+V.x)/2,I=(_.y+V.y)/2;do F.y>I!=F.next.y>I&&F.next.y!==F.y&&k<(F.next.x-F.x)*(I-F.y)/(F.next.y-F.y)+F.x&&(N=!N),F=F.next;while(F!==_);return N}function M(_,V){var F=new T(_.i,_.x,_.y),N=new T(V.i,V.x,V.y),k=_.next,I=V.prev;return _.next=V,V.prev=_,F.next=k,k.prev=F,N.next=F,F.prev=N,I.next=N,N.prev=I,N}function f(_,V,F,N){var k=new T(_,V,F);return N?(k.next=N.next,k.prev=N,N.next.prev=k,N.next=k):(k.prev=k,k.next=k),k}function P(_){_.next.prev=_.prev,_.prev.next=_.next,_.prevZ&&(_.prevZ.nextZ=_.nextZ),_.nextZ&&(_.nextZ.prevZ=_.prevZ)}function T(_,V,F){this.i=_,this.x=V,this.y=F,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}B.deviation=function(_,V,F,N){var k=V&&V.length,I=k?V[0]*F:_.length,H=Math.abs(z(_,0,I,F));if(k)for(var j=0,ee=V.length;j<ee;j++){var te=V[j]*F,ne=j<ee-1?V[j+1]*F:_.length;H-=Math.abs(z(_,te,ne,F))}var ue=0;for(j=0;j<N.length;j+=3){var q=N[j]*F,Y=N[j+1]*F,Z=N[j+2]*F;ue+=Math.abs((_[q]-_[Z])*(_[Y+1]-_[q+1])-(_[q]-_[Y])*(_[Z+1]-_[q+1]))}return H===0&&ue===0?0:Math.abs((ue-H)/H)};function z(_,V,F,N){for(var k=0,I=V,H=F-N;I<F;I+=N)k+=(_[H]-_[I])*(_[I+1]+_[H+1]),H=I;return k}B.flatten=function(_){for(var V=_[0][0].length,F={vertices:[],holes:[],dimensions:V},N=0,k=0;k<_.length;k++){for(var I=0;I<_[k].length;I++)for(var H=0;H<V;H++)F.vertices.push(_[k][I][H]);k>0&&(N+=_[k-1].length,F.holes.push(N))}return F}},6688:function(U,B,e){var y=e(78484);U.exports=function(i,S){var b=[],v=[],p=[],r={},t=[],a;function n(w){p[w]=!1,r.hasOwnProperty(w)&&Object.keys(r[w]).forEach(function(A){delete r[w][A],p[A]&&n(A)})}function u(w){var A=!1;v.push(w),p[w]=!0;var C,x;for(C=0;C<t[w].length;C++)x=t[w][C],x===a?(s(a,v),A=!0):p[x]||(A=u(x));if(A)n(w);else for(C=0;C<t[w].length;C++){x=t[w][C];var E=r[x];E||(E={},r[x]=E),E[x]=!0}return v.pop(),A}function s(w,A){var C=[].concat(A).concat(w);S?S(u):b.push(C)}function l(w){for(var A=0;A<i.length;A++)A<w&&(i[A]=[]),i[A]=i[A].filter(function(C){return C>=w})}function m(w){l(w);for(var A=i,C=y(A),x=C.components.filter(function(_){return _.length>1}),E=1/0,M,f=0;f<x.length;f++)for(var P=0;P<x[f].length;P++)x[f][P]<E&&(E=x[f][P],M=f);var T=x[M];if(!T)return!1;var z=i.map(function(_,V){return T.indexOf(V)===-1?[]:_.filter(function(F){return T.indexOf(F)!==-1})});return{leastVertex:E,adjList:z}}a=0;for(var h=i.length;a<h;){var g=m(a);if(a=g.leastVertex,t=g.adjList,t){for(var c=0;c<t.length;c++)for(var o=0;o<t[c].length;o++){var d=t[c][o];p[+d]=!1,r[d]={}}u(a),a=a+1}else a=h}if(!S)return b}},41476:function(U,B,e){var y=e(9252);U.exports=function(){return y(this).length=0,this}},74772:function(U,B,e){U.exports=e(44716)()?Array.from:e(80816)},44716:function(U){U.exports=function(){var B=Array.from,e,y;return typeof B!="function"?!1:(e=["raz","dwa"],y=B(e),!!(y&&y!==e&&y[1]==="dwa"))}},80816:function(U,B,e){var y=e(92664).iterator,L=e(60948),i=e(17024),S=e(81304),b=e(34044),v=e(9252),p=e(42584),r=e(29768),t=Array.isArray,a=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},u=Object.defineProperty;U.exports=function(s){var l=arguments[1],m=arguments[2],h,g,c,o,d,w,A,C,x,E;if(s=Object(v(s)),p(l)&&b(l),!this||this===Array||!i(this)){if(!l){if(L(s))return d=s.length,d!==1?Array.apply(null,s):(o=new Array(1),o[0]=s[0],o);if(t(s)){for(o=new Array(d=s.length),g=0;g<d;++g)o[g]=s[g];return o}}o=[]}else h=this;if(!t(s)){if((x=s[y])!==void 0){for(A=b(x).call(s),h&&(o=new h),C=A.next(),g=0;!C.done;)E=l?a.call(l,m,C.value,g):C.value,h?(n.value=E,u(o,g,n)):o[g]=E,C=A.next(),++g;d=g}else if(r(s)){for(d=s.length,h&&(o=new h),g=0,c=0;g<d;++g)E=s[g],g+1<d&&(w=E.charCodeAt(0),w>=55296&&w<=56319&&(E+=s[++g])),E=l?a.call(l,m,E,c):E,h?(n.value=E,u(o,c,n)):o[c]=E,++c;d=c}}if(d===void 0)for(d=S(s.length),h&&(o=new h(d)),g=0;g<d;++g)E=l?a.call(l,m,s[g],g):s[g],h?(n.value=E,u(o,g,n)):o[g]=E;return h&&(n.value=null,o.length=d),o}},60948:function(U){var B=Object.prototype.toString,e=B.call(function(){return arguments}());U.exports=function(y){return B.call(y)===e}},17024:function(U){var B=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);U.exports=function(y){return typeof y=="function"&&e(B.call(y))}},33208:function(U){U.exports=function(){}},85608:function(U,B,e){U.exports=e(37328)()?Math.sign:e(92928)},37328:function(U){U.exports=function(){var B=Math.sign;return typeof B!="function"?!1:B(10)===1&&B(-20)===-1}},92928:function(U){U.exports=function(B){return B=Number(B),isNaN(B)||B===0?B:B>0?1:-1}},96936:function(U,B,e){var y=e(85608),L=Math.abs,i=Math.floor;U.exports=function(S){return isNaN(S)?0:(S=Number(S),S===0||!isFinite(S)?S:y(S)*i(L(S)))}},81304:function(U,B,e){var y=e(96936),L=Math.max;U.exports=function(i){return L(0,y(i))}},14428:function(U,B,e){var y=e(34044),L=e(9252),i=Function.prototype.bind,S=Function.prototype.call,b=Object.keys,v=Object.prototype.propertyIsEnumerable;U.exports=function(p,r){return function(t,a){var n,u=arguments[2],s=arguments[3];return t=Object(L(t)),y(a),n=b(t),s&&n.sort(typeof s=="function"?i.call(s,t):void 0),typeof p!="function"&&(p=n[p]),S.call(p,n,function(l,m){return v.call(t,l)?S.call(a,u,t[l],l,t,m):r})}}},38452:function(U,B,e){U.exports=e(96276)()?Object.assign:e(81892)},96276:function(U){U.exports=function(){var B=Object.assign,e;return typeof B!="function"?!1:(e={foo:"raz"},B(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},81892:function(U,B,e){var y=e(54768),L=e(9252),i=Math.max;U.exports=function(S,b){var v,p,r=i(arguments.length,2),t;for(S=Object(L(S)),t=function(a){try{S[a]=b[a]}catch(n){v||(v=n)}},p=1;p<r;++p)b=arguments[p],y(b).forEach(t);if(v!==void 0)throw v;return S}},95920:function(U,B,e){var y=e(74772),L=e(38452),i=e(9252);U.exports=function(S){var b=Object(i(S)),v=arguments[1],p=Object(arguments[2]);if(b!==S&&!v)return b;var r={};return v?y(v,function(t){(p.ensure||t in S)&&(r[t]=S[t])}):L(r,S),r}},14452:function(U,B,e){var y=Object.create,L;e(63092)()||(L=e(8672)),U.exports=function(){var i,S,b;return!L||L.level!==1?y:(i={},S={},b={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){S[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}S[v]=b}),Object.defineProperties(i,S),Object.defineProperty(L,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(v,p){return y(v===null?i:v,p)})}()},42748:function(U,B,e){U.exports=e(14428)("forEach")},69127:function(U,B,e){var y=e(42584),L={function:!0,object:!0};U.exports=function(i){return y(i)&&L[typeof i]||!1}},42584:function(U,B,e){var y=e(33208)();U.exports=function(L){return L!==y&&L!==null}},54768:function(U,B,e){U.exports=e(87888)()?Object.keys:e(89592)},87888:function(U){U.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(U,B,e){var y=e(42584),L=Object.keys;U.exports=function(i){return L(y(i)?Object(i):i)}},84323:function(U,B,e){var y=e(34044),L=e(42748),i=Function.prototype.call;U.exports=function(S,b){var v={},p=arguments[2];return y(b),L(S,function(r,t,a,n){v[t]=i.call(b,p,r,t,a,n)}),v}},50868:function(U,B,e){var y=e(42584),L=Array.prototype.forEach,i=Object.create,S=function(b,v){var p;for(p in b)v[p]=b[p]};U.exports=function(b){var v=i(null);return L.call(arguments,function(p){y(p)&&S(Object(p),v)}),v}},69932:function(U,B,e){U.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(U){var B=Object.create,e=Object.getPrototypeOf,y={};U.exports=function(){var L=Object.setPrototypeOf,i=arguments[0]||B;return typeof L!="function"?!1:e(L(i(null),y))===y}},8672:function(U,B,e){var y=e(69127),L=e(9252),i=Object.prototype.isPrototypeOf,S=Object.defineProperty,b={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(p,r){if(L(p),r===null||y(r))return p;throw new TypeError("Prototype must be null or an object")},U.exports=function(p){var r,t;return p?(p.level===2?p.set?(t=p.set,r=function(a,n){return t.call(v(a,n),n),a}):r=function(a,n){return v(a,n).__proto__=n,a}:r=function a(n,u){var s;return v(n,u),s=i.call(a.nullPolyfill,n),s&&delete a.nullPolyfill.__proto__,u===null&&(u=a.nullPolyfill),n.__proto__=u,s&&S(a.nullPolyfill,"__proto__",b),n},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:p.level})):null}(function(){var p=Object.create(null),r={},t,a=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(a){try{t=a.set,t.call(p,r)}catch{}if(Object.getPrototypeOf(p)===r)return{set:t,level:2}}return p.__proto__=r,Object.getPrototypeOf(p)===r?{level:2}:(p={},p.__proto__=r,Object.getPrototypeOf(p)===r?{level:1}:!1)}()),e(14452)},34044:function(U){U.exports=function(B){if(typeof B!="function")throw new TypeError(B+" is not a function");return B}},92584:function(U,B,e){var y=e(69127);U.exports=function(L){if(!y(L))throw new TypeError(L+" is not an Object");return L}},9252:function(U,B,e){var y=e(42584);U.exports=function(L){if(!y(L))throw new TypeError("Cannot use null or undefined");return L}},71056:function(U,B,e){U.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(U){var B="razdwatrzy";U.exports=function(){return typeof B.contains!="function"?!1:B.contains("dwa")===!0&&B.contains("foo")===!1}},93040:function(U){var B=String.prototype.indexOf;U.exports=function(e){return B.call(this,e,arguments[1])>-1}},29768:function(U){var B=Object.prototype.toString,e=B.call("");U.exports=function(y){return typeof y=="string"||y&&typeof y=="object"&&(y instanceof String||B.call(y)===e)||!1}},82252:function(U){var B=Object.create(null),e=Math.random;U.exports=function(){var y;do y=e().toString(36).slice(2);while(B[y]);return y}},52104:function(U,B,e){var y=e(69932),L=e(71056),i=e(21092),S=e(92664),b=e(85512),v=Object.defineProperty,p;p=U.exports=function(r,t){if(!(this instanceof p))throw new TypeError("Constructor requires 'new'");b.call(this,r),t?L.call(t,"key+value")?t="key+value":L.call(t,"key")?t="key":t="value":t="value",v(this,"__kind__",i("",t))},y&&y(p,b),delete p.prototype.constructor,p.prototype=Object.create(b.prototype,{_resolve:i(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),v(p.prototype,S.toStringTag,i("c","Array Iterator"))},76024:function(U,B,e){var y=e(60948),L=e(34044),i=e(29768),S=e(76252),b=Array.isArray,v=Function.prototype.call,p=Array.prototype.some;U.exports=function(r,t){var a,n=arguments[2],u,s,l,m,h,g,c;if(b(r)||y(r)?a="array":i(r)?a="string":r=S(r),L(t),s=function(){l=!0},a==="array"){p.call(r,function(o){return v.call(t,n,o,s),l});return}if(a==="string"){for(h=r.length,m=0;m<h&&(g=r[m],m+1<h&&(c=g.charCodeAt(0),c>=55296&&c<=56319&&(g+=r[++m])),v.call(t,n,g,s),!l);++m);return}for(u=r.next();!u.done;){if(v.call(t,n,u.value,s),l)return;u=r.next()}}},76252:function(U,B,e){var y=e(60948),L=e(29768),i=e(52104),S=e(80940),b=e(52891),v=e(92664).iterator;U.exports=function(p){return typeof b(p)[v]=="function"?p[v]():y(p)?new i(p):L(p)?new S(p):new i(p)}},85512:function(U,B,e){var y=e(41476),L=e(38452),i=e(34044),S=e(9252),b=e(21092),v=e(27940),p=e(92664),r=Object.defineProperty,t=Object.defineProperties,a;U.exports=a=function(n,u){if(!(this instanceof a))throw new TypeError("Constructor requires 'new'");t(this,{__list__:b("w",S(n)),__context__:b("w",u),__nextIndex__:b("w",0)}),u&&(i(u.on),u.on("_add",this._onAdd),u.on("_delete",this._onDelete),u.on("_clear",this._onClear))},delete a.prototype.constructor,t(a.prototype,L({_next:b(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:b(function(){return this._createResult(this._next())}),_createResult:b(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:b(function(n){return this.__list__[n]}),_unBind:b(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:b(function(){return"[object "+(this[p.toStringTag]||"Object")+"]"})},v({_onAdd:b(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){r(this,"__redo__",b("c",[n]));return}this.__redo__.forEach(function(u,s){u>=n&&(this.__redo__[s]=++u)},this),this.__redo__.push(n)}}),_onDelete:b(function(n){var u;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(u=this.__redo__.indexOf(n),u!==-1&&this.__redo__.splice(u,1),this.__redo__.forEach(function(s,l){s>n&&(this.__redo__[l]=--s)},this)))}),_onClear:b(function(){this.__redo__&&y.call(this.__redo__),this.__nextIndex__=0})}))),r(a.prototype,p.iterator,b(function(){return this}))},76368:function(U,B,e){var y=e(60948),L=e(42584),i=e(29768),S=e(92664).iterator,b=Array.isArray;U.exports=function(v){return L(v)?b(v)||i(v)||y(v)?!0:typeof v[S]=="function":!1}},80940:function(U,B,e){var y=e(69932),L=e(21092),i=e(92664),S=e(85512),b=Object.defineProperty,v;v=U.exports=function(p){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");p=String(p),S.call(this,p),b(this,"__length__",L("",p.length))},y&&y(v,S),delete v.prototype.constructor,v.prototype=Object.create(S.prototype,{_next:L(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:L(function(p){var r=this.__list__[p],t;return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),b(v.prototype,i.toStringTag,L("c","String Iterator"))},52891:function(U,B,e){var y=e(76368);U.exports=function(L){if(!y(L))throw new TypeError(L+" is not iterable");return L}},60964:function(U){function B(y,L){if(y==null)throw new TypeError("Cannot convert first argument to object");for(var i=Object(y),S=1;S<arguments.length;S++){var b=arguments[S];if(b!=null)for(var v=Object.keys(Object(b)),p=0,r=v.length;p<r;p++){var t=v[p],a=Object.getOwnPropertyDescriptor(b,t);a!==void 0&&a.enumerable&&(i[t]=b[t])}}return i}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:B})}U.exports={assign:B,polyfill:e}},92664:function(U,B,e){U.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(U,B,e){var y=e(12296),L={object:!0,symbol:!0};U.exports=function(){var i=y.Symbol,S;if(typeof i!="function")return!1;S=i("test symbol");try{String(S)}catch{return!1}return!(!L[typeof i.iterator]||!L[typeof i.toPrimitive]||!L[typeof i.toStringTag])}},53908:function(U){U.exports=function(B){return B?typeof B=="symbol"?!0:!B.constructor||B.constructor.name!=="Symbol"?!1:B[B.constructor.toStringTag]==="Symbol":!1}},96863:function(U,B,e){var y=e(21092),L=Object.create,i=Object.defineProperty,S=Object.prototype,b=L(null);U.exports=function(v){for(var p=0,r,t;b[v+(p||"")];)++p;return v+=p||"",b[v]=!0,r="@@"+v,i(S,r,y.gs(null,function(a){t||(t=!0,i(this,r,y(a)),t=!1)})),r}},53540:function(U,B,e){var y=e(21092),L=e(12296).Symbol;U.exports=function(i){return Object.defineProperties(i,{hasInstance:y("",L&&L.hasInstance||i("hasInstance")),isConcatSpreadable:y("",L&&L.isConcatSpreadable||i("isConcatSpreadable")),iterator:y("",L&&L.iterator||i("iterator")),match:y("",L&&L.match||i("match")),replace:y("",L&&L.replace||i("replace")),search:y("",L&&L.search||i("search")),species:y("",L&&L.species||i("species")),split:y("",L&&L.split||i("split")),toPrimitive:y("",L&&L.toPrimitive||i("toPrimitive")),toStringTag:y("",L&&L.toStringTag||i("toStringTag")),unscopables:y("",L&&L.unscopables||i("unscopables"))})}},73852:function(U,B,e){var y=e(21092),L=e(63948),i=Object.create(null);U.exports=function(S){return Object.defineProperties(S,{for:y(function(b){return i[b]?i[b]:i[b]=S(String(b))}),keyFor:y(function(b){var v;L(b);for(v in i)if(i[v]===b)return v})})}},18376:function(U,B,e){var y=e(21092),L=e(63948),i=e(12296).Symbol,S=e(96863),b=e(53540),v=e(73852),p=Object.create,r=Object.defineProperties,t=Object.defineProperty,a,n,u;if(typeof i=="function")try{String(i()),u=!0}catch{}else i=null;n=function(l){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return a(l)},U.exports=a=function s(l){var m;if(this instanceof s)throw new TypeError("Symbol is not a constructor");return u?i(l):(m=p(n.prototype),l=l===void 0?"":String(l),r(m,{__description__:y("",l),__name__:y("",S(l))}))},b(a),v(a),r(n.prototype,{constructor:y(a),toString:y("",function(){return this.__name__})}),r(a.prototype,{toString:y(function(){return"Symbol ("+L(this).__description__+")"}),valueOf:y(function(){return L(this)})}),t(a.prototype,a.toPrimitive,y("",function(){var s=L(this);return typeof s=="symbol"?s:s.toString()})),t(a.prototype,a.toStringTag,y("c","Symbol")),t(n.prototype,a.toStringTag,y("c",a.prototype[a.toStringTag])),t(n.prototype,a.toPrimitive,y("c",a.prototype[a.toPrimitive]))},63948:function(U,B,e){var y=e(53908);U.exports=function(L){if(!y(L))throw new TypeError(L+" is not a symbol");return L}},60463:function(U,B,e){U.exports=e(96979)()?WeakMap:e(64864)},96979:function(U){U.exports=function(){var B,e;if(typeof WeakMap!="function")return!1;try{B=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(B)!=="[object WeakMap]"||typeof B.set!="function"||B.set({},1)!==B||typeof B.delete!="function"||typeof B.has!="function"||B.get(e)!=="one")}},69876:function(U){U.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},64864:function(U,B,e){var y=e(42584),L=e(69932),i=e(92584),S=e(9252),b=e(82252),v=e(21092),p=e(76252),r=e(76024),t=e(92664).toStringTag,a=e(69876),n=Array.isArray,u=Object.defineProperty,s=Object.prototype.hasOwnProperty,l=Object.getPrototypeOf,m;U.exports=m=function(){var h=arguments[0],g;if(!(this instanceof m))throw new TypeError("Constructor requires 'new'");return g=a&&L&&WeakMap!==m?L(new WeakMap,l(this)):this,y(h)&&(n(h)||(h=p(h))),u(g,"__weakMapData__",v("c","$weakMap$"+b())),h&&r(h,function(c){S(c),g.set(c[0],c[1])}),g},a&&(L&&L(m,WeakMap),m.prototype=Object.create(WeakMap.prototype,{constructor:v(m)})),Object.defineProperties(m.prototype,{delete:v(function(h){return s.call(i(h),this.__weakMapData__)?(delete h[this.__weakMapData__],!0):!1}),get:v(function(h){if(s.call(i(h),this.__weakMapData__))return h[this.__weakMapData__]}),has:v(function(h){return s.call(i(h),this.__weakMapData__)}),set:v(function(h,g){return u(i(h),this.__weakMapData__,v("c",g)),this}),toString:v(function(){return"[object WeakMap]"})}),u(m.prototype,t,v("c","WeakMap"))},61252:function(U){var B=typeof Reflect=="object"?Reflect:null,e=B&&typeof B.apply=="function"?B.apply:function(d,w,A){return Function.prototype.apply.call(d,w,A)},y;B&&typeof B.ownKeys=="function"?y=B.ownKeys:Object.getOwnPropertySymbols?y=function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:y=function(d){return Object.getOwnPropertyNames(d)};function L(o){console&&console.warn&&console.warn(o)}var i=Number.isNaN||function(d){return d!==d};function S(){S.init.call(this)}U.exports=S,U.exports.once=h,S.EventEmitter=S,S.prototype._events=void 0,S.prototype._eventsCount=0,S.prototype._maxListeners=void 0;var b=10;function v(o){if(typeof o!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof o)}Object.defineProperty(S,"defaultMaxListeners",{enumerable:!0,get:function(){return b},set:function(o){if(typeof o!="number"||o<0||i(o))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+o+".");b=o}}),S.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},S.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||i(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this};function p(o){return o._maxListeners===void 0?S.defaultMaxListeners:o._maxListeners}S.prototype.getMaxListeners=function(){return p(this)},S.prototype.emit=function(d){for(var w=[],A=1;A<arguments.length;A++)w.push(arguments[A]);var C=d==="error",x=this._events;if(x!==void 0)C=C&&x.error===void 0;else if(!C)return!1;if(C){var E;if(w.length>0&&(E=w[0]),E instanceof Error)throw E;var M=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw M.context=E,M}var f=x[d];if(f===void 0)return!1;if(typeof f=="function")e(f,this,w);else for(var P=f.length,T=s(f,P),A=0;A<P;++A)e(T[A],this,w);return!0};function r(o,d,w,A){var C,x,E;if(v(w),x=o._events,x===void 0?(x=o._events=Object.create(null),o._eventsCount=0):(x.newListener!==void 0&&(o.emit("newListener",d,w.listener?w.listener:w),x=o._events),E=x[d]),E===void 0)E=x[d]=w,++o._eventsCount;else if(typeof E=="function"?E=x[d]=A?[w,E]:[E,w]:A?E.unshift(w):E.push(w),C=p(o),C>0&&E.length>C&&!E.warned){E.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=o,M.type=d,M.count=E.length,L(M)}return o}S.prototype.addListener=function(d,w){return r(this,d,w,!1)},S.prototype.on=S.prototype.addListener,S.prototype.prependListener=function(d,w){return r(this,d,w,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function a(o,d,w){var A={fired:!1,wrapFn:void 0,target:o,type:d,listener:w},C=t.bind(A);return C.listener=w,A.wrapFn=C,C}S.prototype.once=function(d,w){return v(w),this.on(d,a(this,d,w)),this},S.prototype.prependOnceListener=function(d,w){return v(w),this.prependListener(d,a(this,d,w)),this},S.prototype.removeListener=function(d,w){var A,C,x,E,M;if(v(w),C=this._events,C===void 0)return this;if(A=C[d],A===void 0)return this;if(A===w||A.listener===w)--this._eventsCount===0?this._events=Object.create(null):(delete C[d],C.removeListener&&this.emit("removeListener",d,A.listener||w));else if(typeof A!="function"){for(x=-1,E=A.length-1;E>=0;E--)if(A[E]===w||A[E].listener===w){M=A[E].listener,x=E;break}if(x<0)return this;x===0?A.shift():l(A,x),A.length===1&&(C[d]=A[0]),C.removeListener!==void 0&&this.emit("removeListener",d,M||w)}return this},S.prototype.off=S.prototype.removeListener,S.prototype.removeAllListeners=function(d){var w,A,C;if(A=this._events,A===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete A[d]),this;if(arguments.length===0){var x=Object.keys(A),E;for(C=0;C<x.length;++C)E=x[C],E!=="removeListener"&&this.removeAllListeners(E);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(w=A[d],typeof w=="function")this.removeListener(d,w);else if(w!==void 0)for(C=w.length-1;C>=0;C--)this.removeListener(d,w[C]);return this};function n(o,d,w){var A=o._events;if(A===void 0)return[];var C=A[d];return C===void 0?[]:typeof C=="function"?w?[C.listener||C]:[C]:w?m(C):s(C,C.length)}S.prototype.listeners=function(d){return n(this,d,!0)},S.prototype.rawListeners=function(d){return n(this,d,!1)},S.listenerCount=function(o,d){return typeof o.listenerCount=="function"?o.listenerCount(d):u.call(o,d)},S.prototype.listenerCount=u;function u(o){var d=this._events;if(d!==void 0){var w=d[o];if(typeof w=="function")return 1;if(w!==void 0)return w.length}return 0}S.prototype.eventNames=function(){return this._eventsCount>0?y(this._events):[]};function s(o,d){for(var w=new Array(d),A=0;A<d;++A)w[A]=o[A];return w}function l(o,d){for(;d+1<o.length;d++)o[d]=o[d+1];o.pop()}function m(o){for(var d=new Array(o.length),w=0;w<d.length;++w)d[w]=o[w].listener||o[w];return d}function h(o,d){return new Promise(function(w,A){function C(E){o.removeListener(d,x),A(E)}function x(){typeof o.removeListener=="function"&&o.removeListener("error",C),w([].slice.call(arguments))}c(o,d,x,{once:!0}),d!=="error"&&g(o,C,{once:!0})})}function g(o,d,w){typeof o.on=="function"&&c(o,"error",d,w)}function c(o,d,w,A){if(typeof o.on=="function")A.once?o.once(d,w):o.on(d,w);else if(typeof o.addEventListener=="function")o.addEventListener(d,function C(x){A.once&&o.removeEventListener(d,C),w(x)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof o)}},39072:function(U){var B=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};U.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return B()}try{return __global__||B()}finally{delete Object.prototype.__global__}}()},12296:function(U,B,e){U.exports=e(45072)()?globalThis:e(39072)},45072:function(U){U.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},38248:function(U,B,e){var y=e(94576);U.exports=function(L){var i=typeof L;if(i==="string"){var S=L;if(L=+L,L===0&&y(S))return!1}else if(i!=="number")return!1;return L-L<1}},47520:function(U,B,e){var y=e(72512);U.exports=L;function L(i,S,b){if(!i)throw new TypeError("must specify data as first parameter");if(b=+(b||0)|0,Array.isArray(i)&&i[0]&&typeof i[0][0]=="number"){var v=i[0].length,p=i.length*v,r,t,a,n;(!S||typeof S=="string")&&(S=new(y(S||"float32"))(p+b));var u=S.length-b;if(p!==u)throw new Error("source length "+p+" ("+v+"x"+i.length+") does not match destination length "+u);for(r=0,a=b;r<i.length;r++)for(t=0;t<v;t++)S[a++]=i[r][t]===null?NaN:i[r][t]}else if(!S||typeof S=="string"){var s=y(S||"float32");if(Array.isArray(i)||S==="array")for(S=new s(i.length+b),r=0,a=b,n=S.length;a<n;a++,r++)S[a]=i[r]===null?NaN:i[r];else b===0?S=new s(i):(S=new s(i.length+b),S.set(i,b))}else S.set(i,b);return S}},33888:function(U,B,e){var y=e(49395),L=[32,126];U.exports=i;function i(S){S=S||{};var b=S.shape?S.shape:S.canvas?[S.canvas.width,S.canvas.height]:[512,512],v=S.canvas||document.createElement("canvas"),p=S.font,r=typeof S.step=="number"?[S.step,S.step]:S.step||[32,32],t=S.chars||L;if(p&&typeof p!="string"&&(p=y(p)),!Array.isArray(t))t=String(t).split("");else if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var a=[],n=t[0],u=0;n<=t[1];n++)a[u++]=String.fromCharCode(n);t=a}b=b.slice(),v.width=b[0],v.height=b[1];var s=v.getContext("2d");s.fillStyle="#000",s.fillRect(0,0,v.width,v.height),s.font=p,s.textAlign="center",s.textBaseline="middle",s.fillStyle="#fff";for(var l=r[0]/2,m=r[1]/2,n=0;n<t.length;n++)s.fillText(t[n],l,m),(l+=r[0])>b[0]-r[0]/2&&(l=r[0]/2,m+=r[1]);return v}},71920:function(U){U.exports=B,B.canvas=document.createElement("canvas"),B.cache={};function B(t,S){S||(S={}),(typeof t=="string"||Array.isArray(t))&&(S.family=t);var b=Array.isArray(S.family)?S.family.join(", "):S.family;if(!b)throw Error("`family` must be defined");var v=S.size||S.fontSize||S.em||48,p=S.weight||S.fontWeight||"",r=S.style||S.fontStyle||"",t=[r,p,v].join(" ")+"px "+b,a=S.origin||"top";if(B.cache[b]&&v<=B.cache[b].em)return e(B.cache[b],a);var n=S.canvas||B.canvas,u=n.getContext("2d"),s={upper:S.upper!==void 0?S.upper:"H",lower:S.lower!==void 0?S.lower:"x",descent:S.descent!==void 0?S.descent:"p",ascent:S.ascent!==void 0?S.ascent:"h",tittle:S.tittle!==void 0?S.tittle:"i",overshoot:S.overshoot!==void 0?S.overshoot:"O"},l=Math.ceil(v*1.5);n.height=l,n.width=l*.5,u.font=t;var m="H",h={top:0};u.clearRect(0,0,l,l),u.textBaseline="top",u.fillStyle="black",u.fillText(m,0,0);var g=y(u.getImageData(0,0,l,l));u.clearRect(0,0,l,l),u.textBaseline="bottom",u.fillText(m,0,l);var c=y(u.getImageData(0,0,l,l));h.lineHeight=h.bottom=l-c+g,u.clearRect(0,0,l,l),u.textBaseline="alphabetic",u.fillText(m,0,l);var o=y(u.getImageData(0,0,l,l)),d=l-o-1+g;h.baseline=h.alphabetic=d,u.clearRect(0,0,l,l),u.textBaseline="middle",u.fillText(m,0,l*.5);var w=y(u.getImageData(0,0,l,l));h.median=h.middle=l-w-1+g-l*.5,u.clearRect(0,0,l,l),u.textBaseline="hanging",u.fillText(m,0,l*.5);var A=y(u.getImageData(0,0,l,l));h.hanging=l-A-1+g-l*.5,u.clearRect(0,0,l,l),u.textBaseline="ideographic",u.fillText(m,0,l);var C=y(u.getImageData(0,0,l,l));if(h.ideographic=l-C-1+g,s.upper&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(s.upper,0,0),h.upper=y(u.getImageData(0,0,l,l)),h.capHeight=h.baseline-h.upper),s.lower&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(s.lower,0,0),h.lower=y(u.getImageData(0,0,l,l)),h.xHeight=h.baseline-h.lower),s.tittle&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(s.tittle,0,0),h.tittle=y(u.getImageData(0,0,l,l))),s.ascent&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(s.ascent,0,0),h.ascent=y(u.getImageData(0,0,l,l))),s.descent&&(u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(s.descent,0,0),h.descent=L(u.getImageData(0,0,l,l))),s.overshoot){u.clearRect(0,0,l,l),u.textBaseline="top",u.fillText(s.overshoot,0,0);var x=L(u.getImageData(0,0,l,l));h.overshoot=x-d}for(var E in h)h[E]/=v;return h.em=v,B.cache[b]=h,e(h,a)}function e(i,S){var b={};typeof S=="string"&&(S=i[S]);for(var v in i)v!=="em"&&(b[v]=i[v]-S);return b}function y(i){for(var S=i.height,b=i.data,v=3;v<b.length;v+=4)if(b[v]!==0)return Math.floor((v-3)*.25/S)}function L(i){for(var S=i.height,b=i.data,v=b.length-1;v>0;v-=4)if(b[v]!==0)return Math.floor((v-3)*.25/S)}},46492:function(U,B,e){var y=e(90720),L=Object.prototype.toString,i=Object.prototype.hasOwnProperty,S=function(t,a,n){for(var u=0,s=t.length;u<s;u++)i.call(t,u)&&(n==null?a(t[u],u,t):a.call(n,t[u],u,t))},b=function(t,a,n){for(var u=0,s=t.length;u<s;u++)n==null?a(t.charAt(u),u,t):a.call(n,t.charAt(u),u,t)},v=function(t,a,n){for(var u in t)i.call(t,u)&&(n==null?a(t[u],u,t):a.call(n,t[u],u,t))},p=function(t,a,n){if(!y(a))throw new TypeError("iterator must be a function");var u;arguments.length>=3&&(u=n),L.call(t)==="[object Array]"?S(t,a,u):typeof t=="string"?b(t,a,u):v(t,a,u)};U.exports=p},74336:function(U){var B="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,y=Math.max,L="[object Function]",i=function(p,r){for(var t=[],a=0;a<p.length;a+=1)t[a]=p[a];for(var n=0;n<r.length;n+=1)t[n+p.length]=r[n];return t},S=function(p,r){for(var t=[],a=r||0,n=0;a<p.length;a+=1,n+=1)t[n]=p[a];return t},b=function(v,p){for(var r="",t=0;t<v.length;t+=1)r+=v[t],t+1<v.length&&(r+=p);return r};U.exports=function(p){var r=this;if(typeof r!="function"||e.apply(r)!==L)throw new TypeError(B+r);for(var t=S(arguments,1),a,n=function(){if(this instanceof a){var h=r.apply(this,i(t,arguments));return Object(h)===h?h:this}return r.apply(p,i(t,arguments))},u=y(0,r.length-t.length),s=[],l=0;l<u;l++)s[l]="$"+l;if(a=Function("binder","return function ("+b(s,",")+"){ return binder.apply(this,arguments); }")(n),r.prototype){var m=function(){};m.prototype=r.prototype,a.prototype=new m,m.prototype=null}return a}},8844:function(U,B,e){var y=e(74336);U.exports=Function.prototype.bind||y},13380:function(U){U.exports=B;function B(e,y){if(typeof e!="string")throw new TypeError("must specify type string");if(y=y||{},typeof document>"u"&&!y.canvas)return null;var L=y.canvas||document.createElement("canvas");typeof y.width=="number"&&(L.width=y.width),typeof y.height=="number"&&(L.height=y.height);var i=y,S;try{var b=[e];e.indexOf("webgl")===0&&b.push("experimental-"+e);for(var v=0;v<b.length;v++)if(S=L.getContext(b[v],i),S)return S}catch{S=null}return S||null}},53664:function(U,B,e){var y,L=SyntaxError,i=Function,S=TypeError,b=function(T){try{return i('"use strict"; return ('+T+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var p=function(){throw new S},r=v?function(){try{return arguments.callee,p}catch{try{return v(arguments,"callee").get}catch{return p}}}():p,t=e(71080)(),a=e(69572)(),n=Object.getPrototypeOf||(a?function(T){return T.__proto__}:null),u={},s=typeof Uint8Array>"u"||!n?y:n(Uint8Array),l={"%AggregateError%":typeof AggregateError>"u"?y:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?y:ArrayBuffer,"%ArrayIteratorPrototype%":t&&n?n([][Symbol.iterator]()):y,"%AsyncFromSyncIteratorPrototype%":y,"%AsyncFunction%":u,"%AsyncGenerator%":u,"%AsyncGeneratorFunction%":u,"%AsyncIteratorPrototype%":u,"%Atomics%":typeof Atomics>"u"?y:Atomics,"%BigInt%":typeof BigInt>"u"?y:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?y:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?y:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?y:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?y:Float32Array,"%Float64Array%":typeof Float64Array>"u"?y:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?y:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":u,"%Int8Array%":typeof Int8Array>"u"?y:Int8Array,"%Int16Array%":typeof Int16Array>"u"?y:Int16Array,"%Int32Array%":typeof Int32Array>"u"?y:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t&&n?n(n([][Symbol.iterator]())):y,"%JSON%":typeof JSON=="object"?JSON:y,"%Map%":typeof Map>"u"?y:Map,"%MapIteratorPrototype%":typeof Map>"u"||!t||!n?y:n(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?y:Promise,"%Proxy%":typeof Proxy>"u"?y:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?y:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?y:Set,"%SetIteratorPrototype%":typeof Set>"u"||!t||!n?y:n(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?y:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t&&n?n(""[Symbol.iterator]()):y,"%Symbol%":t?Symbol:y,"%SyntaxError%":L,"%ThrowTypeError%":r,"%TypedArray%":s,"%TypeError%":S,"%Uint8Array%":typeof Uint8Array>"u"?y:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?y:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?y:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?y:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?y:WeakMap,"%WeakRef%":typeof WeakRef>"u"?y:WeakRef,"%WeakSet%":typeof WeakSet>"u"?y:WeakSet};if(n)try{null.error}catch(T){var m=n(n(T));l["%Error.prototype%"]=m}var h=function T(z){var _;if(z==="%AsyncFunction%")_=b("async function () {}");else if(z==="%GeneratorFunction%")_=b("function* () {}");else if(z==="%AsyncGeneratorFunction%")_=b("async function* () {}");else if(z==="%AsyncGenerator%"){var V=T("%AsyncGeneratorFunction%");V&&(_=V.prototype)}else if(z==="%AsyncIteratorPrototype%"){var F=T("%AsyncGenerator%");F&&n&&(_=n(F.prototype))}return l[z]=_,_},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},c=e(8844),o=e(92064),d=c.call(Function.call,Array.prototype.concat),w=c.call(Function.apply,Array.prototype.splice),A=c.call(Function.call,String.prototype.replace),C=c.call(Function.call,String.prototype.slice),x=c.call(Function.call,RegExp.prototype.exec),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M=/\\(\\)?/g,f=function(z){var _=C(z,0,1),V=C(z,-1);if(_==="%"&&V!=="%")throw new L("invalid intrinsic syntax, expected closing `%`");if(V==="%"&&_!=="%")throw new L("invalid intrinsic syntax, expected opening `%`");var F=[];return A(z,E,function(N,k,I,H){F[F.length]=I?A(H,M,"$1"):k||N}),F},P=function(z,_){var V=z,F;if(o(g,V)&&(F=g[V],V="%"+F[0]+"%"),o(l,V)){var N=l[V];if(N===u&&(N=h(V)),typeof N>"u"&&!_)throw new S("intrinsic "+z+" exists, but is not available. Please file an issue!");return{alias:F,name:V,value:N}}throw new L("intrinsic "+z+" does not exist!")};U.exports=function(z,_){if(typeof z!="string"||z.length===0)throw new S("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof _!="boolean")throw new S('"allowMissing" argument must be a boolean');if(x(/^%?[^%]*%?$/,z)===null)throw new L("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var V=f(z),F=V.length>0?V[0]:"",N=P("%"+F+"%",_),k=N.name,I=N.value,H=!1,j=N.alias;j&&(F=j[0],w(V,d([0,1],j)));for(var ee=1,te=!0;ee<V.length;ee+=1){var ne=V[ee],ue=C(ne,0,1),q=C(ne,-1);if((ue==='"'||ue==="'"||ue==="`"||q==='"'||q==="'"||q==="`")&&ue!==q)throw new L("property names with quotes must have matching quotes");if((ne==="constructor"||!te)&&(H=!0),F+="."+ne,k="%"+F+"%",o(l,k))I=l[k];else if(I!=null){if(!(ne in I)){if(!_)throw new S("base intrinsic for "+z+" exists, but the property is not available.");return}if(v&&ee+1>=V.length){var Y=v(I,ne);te=!!Y,te&&"get"in Y&&!("originalValue"in Y.get)?I=Y.get:I=I[ne]}else te=o(I,ne),I=I[ne];te&&!H&&(l[k]=I)}}return I}},12408:function(U){U.exports=B;function B(e,y){var L=y[0],i=y[1],S=y[2],b=y[3],v=y[4],p=y[5],r=y[6],t=y[7],a=y[8],n=y[9],u=y[10],s=y[11],l=y[12],m=y[13],h=y[14],g=y[15];return e[0]=p*(u*g-s*h)-n*(r*g-t*h)+m*(r*s-t*u),e[1]=-(i*(u*g-s*h)-n*(S*g-b*h)+m*(S*s-b*u)),e[2]=i*(r*g-t*h)-p*(S*g-b*h)+m*(S*t-b*r),e[3]=-(i*(r*s-t*u)-p*(S*s-b*u)+n*(S*t-b*r)),e[4]=-(v*(u*g-s*h)-a*(r*g-t*h)+l*(r*s-t*u)),e[5]=L*(u*g-s*h)-a*(S*g-b*h)+l*(S*s-b*u),e[6]=-(L*(r*g-t*h)-v*(S*g-b*h)+l*(S*t-b*r)),e[7]=L*(r*s-t*u)-v*(S*s-b*u)+a*(S*t-b*r),e[8]=v*(n*g-s*m)-a*(p*g-t*m)+l*(p*s-t*n),e[9]=-(L*(n*g-s*m)-a*(i*g-b*m)+l*(i*s-b*n)),e[10]=L*(p*g-t*m)-v*(i*g-b*m)+l*(i*t-b*p),e[11]=-(L*(p*s-t*n)-v*(i*s-b*n)+a*(i*t-b*p)),e[12]=-(v*(n*h-u*m)-a*(p*h-r*m)+l*(p*u-r*n)),e[13]=L*(n*h-u*m)-a*(i*h-S*m)+l*(i*u-S*n),e[14]=-(L*(p*h-r*m)-v*(i*h-S*m)+l*(i*r-S*p)),e[15]=L*(p*u-r*n)-v*(i*u-S*n)+a*(i*r-S*p),e}},76860:function(U){U.exports=B;function B(e){var y=new Float32Array(16);return y[0]=e[0],y[1]=e[1],y[2]=e[2],y[3]=e[3],y[4]=e[4],y[5]=e[5],y[6]=e[6],y[7]=e[7],y[8]=e[8],y[9]=e[9],y[10]=e[10],y[11]=e[11],y[12]=e[12],y[13]=e[13],y[14]=e[14],y[15]=e[15],y}},64492:function(U){U.exports=B;function B(e,y){return e[0]=y[0],e[1]=y[1],e[2]=y[2],e[3]=y[3],e[4]=y[4],e[5]=y[5],e[6]=y[6],e[7]=y[7],e[8]=y[8],e[9]=y[9],e[10]=y[10],e[11]=y[11],e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15],e}},54212:function(U){U.exports=B;function B(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},70800:function(U){U.exports=B;function B(e){var y=e[0],L=e[1],i=e[2],S=e[3],b=e[4],v=e[5],p=e[6],r=e[7],t=e[8],a=e[9],n=e[10],u=e[11],s=e[12],l=e[13],m=e[14],h=e[15],g=y*v-L*b,c=y*p-i*b,o=y*r-S*b,d=L*p-i*v,w=L*r-S*v,A=i*r-S*p,C=t*l-a*s,x=t*m-n*s,E=t*h-u*s,M=a*m-n*l,f=a*h-u*l,P=n*h-u*m;return g*P-c*f+o*M+d*E-w*x+A*C}},61784:function(U){U.exports=B;function B(e,y){var L=y[0],i=y[1],S=y[2],b=y[3],v=L+L,p=i+i,r=S+S,t=L*v,a=i*v,n=i*p,u=S*v,s=S*p,l=S*r,m=b*v,h=b*p,g=b*r;return e[0]=1-n-l,e[1]=a+g,e[2]=u-h,e[3]=0,e[4]=a-g,e[5]=1-t-l,e[6]=s+m,e[7]=0,e[8]=u+h,e[9]=s-m,e[10]=1-t-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},91616:function(U){U.exports=B;function B(e,y,L){var i,S,b,v=L[0],p=L[1],r=L[2],t=Math.sqrt(v*v+p*p+r*r);return Math.abs(t)<1e-6?null:(t=1/t,v*=t,p*=t,r*=t,i=Math.sin(y),S=Math.cos(y),b=1-S,e[0]=v*v*b+S,e[1]=p*v*b+r*i,e[2]=r*v*b-p*i,e[3]=0,e[4]=v*p*b-r*i,e[5]=p*p*b+S,e[6]=r*p*b+v*i,e[7]=0,e[8]=v*r*b+p*i,e[9]=p*r*b-v*i,e[10]=r*r*b+S,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},51944:function(U){U.exports=B;function B(e,y,L){var i=y[0],S=y[1],b=y[2],v=y[3],p=i+i,r=S+S,t=b+b,a=i*p,n=i*r,u=i*t,s=S*r,l=S*t,m=b*t,h=v*p,g=v*r,c=v*t;return e[0]=1-(s+m),e[1]=n+c,e[2]=u-g,e[3]=0,e[4]=n-c,e[5]=1-(a+m),e[6]=l+h,e[7]=0,e[8]=u+g,e[9]=l-h,e[10]=1-(a+s),e[11]=0,e[12]=L[0],e[13]=L[1],e[14]=L[2],e[15]=1,e}},69444:function(U){U.exports=B;function B(e,y){return e[0]=y[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=y[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=y[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},48268:function(U){U.exports=B;function B(e,y){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=y[0],e[13]=y[1],e[14]=y[2],e[15]=1,e}},21856:function(U){U.exports=B;function B(e,y){var L=Math.sin(y),i=Math.cos(y);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=L,e[7]=0,e[8]=0,e[9]=-L,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79216:function(U){U.exports=B;function B(e,y){var L=Math.sin(y),i=Math.cos(y);return e[0]=i,e[1]=0,e[2]=-L,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=L,e[9]=0,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},57736:function(U){U.exports=B;function B(e,y){var L=Math.sin(y),i=Math.cos(y);return e[0]=i,e[1]=L,e[2]=0,e[3]=0,e[4]=-L,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},38848:function(U){U.exports=B;function B(e,y,L,i,S,b,v){var p=1/(L-y),r=1/(S-i),t=1/(b-v);return e[0]=b*2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=b*2*r,e[6]=0,e[7]=0,e[8]=(L+y)*p,e[9]=(S+i)*r,e[10]=(v+b)*t,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*b*2*t,e[15]=0,e}},36635:function(U){U.exports=B;function B(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},36524:function(U,B,e){U.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(U){U.exports=B;function B(e,y){var L=y[0],i=y[1],S=y[2],b=y[3],v=y[4],p=y[5],r=y[6],t=y[7],a=y[8],n=y[9],u=y[10],s=y[11],l=y[12],m=y[13],h=y[14],g=y[15],c=L*p-i*v,o=L*r-S*v,d=L*t-b*v,w=i*r-S*p,A=i*t-b*p,C=S*t-b*r,x=a*m-n*l,E=a*h-u*l,M=a*g-s*l,f=n*h-u*m,P=n*g-s*m,T=u*g-s*h,z=c*T-o*P+d*f+w*M-A*E+C*x;return z?(z=1/z,e[0]=(p*T-r*P+t*f)*z,e[1]=(S*P-i*T-b*f)*z,e[2]=(m*C-h*A+g*w)*z,e[3]=(u*A-n*C-s*w)*z,e[4]=(r*M-v*T-t*E)*z,e[5]=(L*T-S*M+b*E)*z,e[6]=(h*d-l*C-g*o)*z,e[7]=(a*C-u*d+s*o)*z,e[8]=(v*P-p*M+t*x)*z,e[9]=(i*M-L*P-b*x)*z,e[10]=(l*A-m*d+g*c)*z,e[11]=(n*d-a*A-s*c)*z,e[12]=(p*E-v*f-r*x)*z,e[13]=(L*f-i*E+S*x)*z,e[14]=(m*o-l*w-h*c)*z,e[15]=(a*w-n*o+u*c)*z,e):null}},56508:function(U,B,e){var y=e(36635);U.exports=L;function L(i,S,b,v){var p,r,t,a,n,u,s,l,m,h,g=S[0],c=S[1],o=S[2],d=v[0],w=v[1],A=v[2],C=b[0],x=b[1],E=b[2];return Math.abs(g-C)<1e-6&&Math.abs(c-x)<1e-6&&Math.abs(o-E)<1e-6?y(i):(s=g-C,l=c-x,m=o-E,h=1/Math.sqrt(s*s+l*l+m*m),s*=h,l*=h,m*=h,p=w*m-A*l,r=A*s-d*m,t=d*l-w*s,h=Math.sqrt(p*p+r*r+t*t),h?(h=1/h,p*=h,r*=h,t*=h):(p=0,r=0,t=0),a=l*t-m*r,n=m*p-s*t,u=s*r-l*p,h=Math.sqrt(a*a+n*n+u*u),h?(h=1/h,a*=h,n*=h,u*=h):(a=0,n=0,u=0),i[0]=p,i[1]=a,i[2]=s,i[3]=0,i[4]=r,i[5]=n,i[6]=l,i[7]=0,i[8]=t,i[9]=u,i[10]=m,i[11]=0,i[12]=-(p*g+r*c+t*o),i[13]=-(a*g+n*c+u*o),i[14]=-(s*g+l*c+m*o),i[15]=1,i)}},80944:function(U){U.exports=B;function B(e,y,L){var i=y[0],S=y[1],b=y[2],v=y[3],p=y[4],r=y[5],t=y[6],a=y[7],n=y[8],u=y[9],s=y[10],l=y[11],m=y[12],h=y[13],g=y[14],c=y[15],o=L[0],d=L[1],w=L[2],A=L[3];return e[0]=o*i+d*p+w*n+A*m,e[1]=o*S+d*r+w*u+A*h,e[2]=o*b+d*t+w*s+A*g,e[3]=o*v+d*a+w*l+A*c,o=L[4],d=L[5],w=L[6],A=L[7],e[4]=o*i+d*p+w*n+A*m,e[5]=o*S+d*r+w*u+A*h,e[6]=o*b+d*t+w*s+A*g,e[7]=o*v+d*a+w*l+A*c,o=L[8],d=L[9],w=L[10],A=L[11],e[8]=o*i+d*p+w*n+A*m,e[9]=o*S+d*r+w*u+A*h,e[10]=o*b+d*t+w*s+A*g,e[11]=o*v+d*a+w*l+A*c,o=L[12],d=L[13],w=L[14],A=L[15],e[12]=o*i+d*p+w*n+A*m,e[13]=o*S+d*r+w*u+A*h,e[14]=o*b+d*t+w*s+A*g,e[15]=o*v+d*a+w*l+A*c,e}},97688:function(U){U.exports=B;function B(e,y,L,i,S,b,v){var p=1/(y-L),r=1/(i-S),t=1/(b-v);return e[0]=-2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*t,e[11]=0,e[12]=(y+L)*p,e[13]=(S+i)*r,e[14]=(v+b)*t,e[15]=1,e}},51296:function(U){U.exports=B;function B(e,y,L,i,S){var b=1/Math.tan(y/2),v=1/(i-S);return e[0]=b/L,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=b,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(S+i)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*S*i*v,e[15]=0,e}},63688:function(U){U.exports=B;function B(e,y,L,i){var S=Math.tan(y.upDegrees*Math.PI/180),b=Math.tan(y.downDegrees*Math.PI/180),v=Math.tan(y.leftDegrees*Math.PI/180),p=Math.tan(y.rightDegrees*Math.PI/180),r=2/(v+p),t=2/(S+b);return e[0]=r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=-((v-p)*r*.5),e[9]=(S-b)*t*.5,e[10]=i/(L-i),e[11]=-1,e[12]=0,e[13]=0,e[14]=i*L/(L-i),e[15]=0,e}},30016:function(U){U.exports=B;function B(e,y,L,i){var S=i[0],b=i[1],v=i[2],p=Math.sqrt(S*S+b*b+v*v),r,t,a,n,u,s,l,m,h,g,c,o,d,w,A,C,x,E,M,f,P,T,z,_;return Math.abs(p)<1e-6?null:(p=1/p,S*=p,b*=p,v*=p,r=Math.sin(L),t=Math.cos(L),a=1-t,n=y[0],u=y[1],s=y[2],l=y[3],m=y[4],h=y[5],g=y[6],c=y[7],o=y[8],d=y[9],w=y[10],A=y[11],C=S*S*a+t,x=b*S*a+v*r,E=v*S*a-b*r,M=S*b*a-v*r,f=b*b*a+t,P=v*b*a+S*r,T=S*v*a+b*r,z=b*v*a-S*r,_=v*v*a+t,e[0]=n*C+m*x+o*E,e[1]=u*C+h*x+d*E,e[2]=s*C+g*x+w*E,e[3]=l*C+c*x+A*E,e[4]=n*M+m*f+o*P,e[5]=u*M+h*f+d*P,e[6]=s*M+g*f+w*P,e[7]=l*M+c*f+A*P,e[8]=n*T+m*z+o*_,e[9]=u*T+h*z+d*_,e[10]=s*T+g*z+w*_,e[11]=l*T+c*z+A*_,y!==e&&(e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15]),e)}},15456:function(U){U.exports=B;function B(e,y,L){var i=Math.sin(L),S=Math.cos(L),b=y[4],v=y[5],p=y[6],r=y[7],t=y[8],a=y[9],n=y[10],u=y[11];return y!==e&&(e[0]=y[0],e[1]=y[1],e[2]=y[2],e[3]=y[3],e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15]),e[4]=b*S+t*i,e[5]=v*S+a*i,e[6]=p*S+n*i,e[7]=r*S+u*i,e[8]=t*S-b*i,e[9]=a*S-v*i,e[10]=n*S-p*i,e[11]=u*S-r*i,e}},64840:function(U){U.exports=B;function B(e,y,L){var i=Math.sin(L),S=Math.cos(L),b=y[0],v=y[1],p=y[2],r=y[3],t=y[8],a=y[9],n=y[10],u=y[11];return y!==e&&(e[4]=y[4],e[5]=y[5],e[6]=y[6],e[7]=y[7],e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15]),e[0]=b*S-t*i,e[1]=v*S-a*i,e[2]=p*S-n*i,e[3]=r*S-u*i,e[8]=b*i+t*S,e[9]=v*i+a*S,e[10]=p*i+n*S,e[11]=r*i+u*S,e}},4192:function(U){U.exports=B;function B(e,y,L){var i=Math.sin(L),S=Math.cos(L),b=y[0],v=y[1],p=y[2],r=y[3],t=y[4],a=y[5],n=y[6],u=y[7];return y!==e&&(e[8]=y[8],e[9]=y[9],e[10]=y[10],e[11]=y[11],e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15]),e[0]=b*S+t*i,e[1]=v*S+a*i,e[2]=p*S+n*i,e[3]=r*S+u*i,e[4]=t*S-b*i,e[5]=a*S-v*i,e[6]=n*S-p*i,e[7]=u*S-r*i,e}},68152:function(U){U.exports=B;function B(e,y,L){var i=L[0],S=L[1],b=L[2];return e[0]=y[0]*i,e[1]=y[1]*i,e[2]=y[2]*i,e[3]=y[3]*i,e[4]=y[4]*S,e[5]=y[5]*S,e[6]=y[6]*S,e[7]=y[7]*S,e[8]=y[8]*b,e[9]=y[9]*b,e[10]=y[10]*b,e[11]=y[11]*b,e[12]=y[12],e[13]=y[13],e[14]=y[14],e[15]=y[15],e}},89412:function(U){U.exports=B;function B(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},35176:function(U){U.exports=B;function B(e,y,L){var i=L[0],S=L[1],b=L[2],v,p,r,t,a,n,u,s,l,m,h,g;return y===e?(e[12]=y[0]*i+y[4]*S+y[8]*b+y[12],e[13]=y[1]*i+y[5]*S+y[9]*b+y[13],e[14]=y[2]*i+y[6]*S+y[10]*b+y[14],e[15]=y[3]*i+y[7]*S+y[11]*b+y[15]):(v=y[0],p=y[1],r=y[2],t=y[3],a=y[4],n=y[5],u=y[6],s=y[7],l=y[8],m=y[9],h=y[10],g=y[11],e[0]=v,e[1]=p,e[2]=r,e[3]=t,e[4]=a,e[5]=n,e[6]=u,e[7]=s,e[8]=l,e[9]=m,e[10]=h,e[11]=g,e[12]=v*i+a*S+l*b+y[12],e[13]=p*i+n*S+m*b+y[13],e[14]=r*i+u*S+h*b+y[14],e[15]=t*i+s*S+g*b+y[15]),e}},86520:function(U){U.exports=B;function B(e,y){if(e===y){var L=y[1],i=y[2],S=y[3],b=y[6],v=y[7],p=y[11];e[1]=y[4],e[2]=y[8],e[3]=y[12],e[4]=L,e[6]=y[9],e[7]=y[13],e[8]=i,e[9]=b,e[11]=y[14],e[12]=S,e[13]=v,e[14]=p}else e[0]=y[0],e[1]=y[4],e[2]=y[8],e[3]=y[12],e[4]=y[1],e[5]=y[5],e[6]=y[9],e[7]=y[13],e[8]=y[2],e[9]=y[6],e[10]=y[10],e[11]=y[14],e[12]=y[3],e[13]=y[7],e[14]=y[11],e[15]=y[15];return e}},23352:function(U,B,e){var y=e(42771),L=e(55616),i=e(28624),S=e(55212),b=e(60463),v=e(72160),p=e(33888),r=e(14144),t=e(51160),a=e(58908),n=e(65819),u=e(23464),s=e(63768),l=e(50896),m=e(71920),h=e(47520),g=e(308),c=g.nextPow2,o=new b,d=!1;if(document.body){var w=document.body.appendChild(document.createElement("div"));w.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(w).fontStretch&&(d=!0),document.body.removeChild(w)}var A=function(E){C(E)?(E={regl:E},this.gl=E.regl._gl):this.gl=S(E),this.shader=o.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=E.regl||i({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),o.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(a(E)?E:{})};A.prototype.createShader=function(){var E=this.regl,M=E({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:E.prop("count"),offset:E.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:E.this("sizeBuffer")},width:{offset:0,stride:8,buffer:E.this("sizeBuffer")},char:E.this("charBuffer"),position:E.this("position")},uniforms:{atlasSize:function(P,T){return[T.atlas.width,T.atlas.height]},atlasDim:function(P,T){return[T.atlas.cols,T.atlas.rows]},atlas:function(P,T){return T.atlas.texture},charStep:function(P,T){return T.atlas.step},em:function(P,T){return T.atlas.em},color:E.prop("color"),opacity:E.prop("opacity"),viewport:E.this("viewportArray"),scale:E.this("scale"),align:E.prop("align"),baseline:E.prop("baseline"),translate:E.this("translate"),positionOffset:E.prop("positionOffset")},primitive:"points",viewport:E.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),f={};return{regl:E,draw:M,atlas:f}},A.prototype.update=function(E){var M=this;if(typeof E=="string")E={text:E};else if(!E)return;E=L(E,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),E.opacity!=null&&(Array.isArray(E.opacity)?this.opacity=E.opacity.map(function(Be){return parseFloat(Be)}):this.opacity=parseFloat(E.opacity)),E.viewport!=null&&(this.viewport=t(E.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),E.kerning!=null&&(this.kerning=E.kerning),E.offset!=null&&(typeof E.offset=="number"&&(E.offset=[E.offset,0]),this.positionOffset=h(E.offset)),E.direction&&(this.direction=E.direction),E.range&&(this.range=E.range,this.scale=[1/(E.range[2]-E.range[0]),1/(E.range[3]-E.range[1])],this.translate=[-E.range[0],-E.range[1]]),E.scale&&(this.scale=E.scale),E.translate&&(this.translate=E.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!E.font&&(E.font=A.baseFontSize+"px sans-serif");var f=!1,P=!1;if(E.font&&(Array.isArray(E.font)?E.font:[E.font]).forEach(function(Be,Xe){if(typeof Be=="string")try{Be=y.parse(Be)}catch{Be=y.parse(A.baseFontSize+"px "+Be)}else Be=y.parse(y.stringify(Be));var ot=y.stringify({size:A.baseFontSize,family:Be.family,stretch:d?Be.stretch:void 0,variant:Be.variant,weight:Be.weight,style:Be.style}),ut=n(Be.size),et=Math.round(ut[0]*u(ut[1]));if(et!==M.fontSize[Xe]&&(P=!0,M.fontSize[Xe]=et),(!M.font[Xe]||ot!=M.font[Xe].baseString)&&(f=!0,M.font[Xe]=A.fonts[ot],!M.font[Xe])){var qe=Be.family.join(", "),ft=[Be.style];Be.style!=Be.variant&&ft.push(Be.variant),Be.variant!=Be.weight&&ft.push(Be.weight),d&&Be.weight!=Be.stretch&&ft.push(Be.stretch),M.font[Xe]={baseString:ot,family:qe,weight:Be.weight,stretch:Be.stretch,style:Be.style,variant:Be.variant,width:{},kerning:{},metrics:m(qe,{origin:"top",fontSize:A.baseFontSize,fontStyle:ft.join(" ")})},A.fonts[ot]=M.font[Xe]}}),(f||P)&&this.font.forEach(function(Be,Xe){var ot=y.stringify({size:M.fontSize[Xe],family:Be.family,stretch:d?Be.stretch:void 0,variant:Be.variant,weight:Be.weight,style:Be.style});if(M.fontAtlas[Xe]=M.shader.atlas[ot],!M.fontAtlas[Xe]){var ut=Be.metrics;M.shader.atlas[ot]=M.fontAtlas[Xe]={fontString:ot,step:Math.ceil(M.fontSize[Xe]*ut.bottom*.5)*2,em:M.fontSize[Xe],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:M.regl.texture()}}E.text==null&&(E.text=M.text)}),typeof E.text=="string"&&E.position&&E.position.length>2){for(var T=Array(E.position.length*.5),z=0;z<T.length;z++)T[z]=E.text;E.text=T}var _;if(E.text!=null||f){if(this.textOffsets=[0],Array.isArray(E.text)){this.count=E.text[0].length,this.counts=[this.count];for(var V=1;V<E.text.length;V++)this.textOffsets[V]=this.textOffsets[V-1]+E.text[V-1].length,this.count+=E.text[V].length,this.counts.push(E.text[V].length);this.text=E.text.join("")}else this.text=E.text,this.count=this.text.length,this.counts=[this.count];_=[],this.font.forEach(function(Be,Xe){A.atlasContext.font=Be.baseString;for(var ot=M.fontAtlas[Xe],ut=0;ut<M.text.length;ut++){var et=M.text.charAt(ut);if(ot.ids[et]==null&&(ot.ids[et]=ot.chars.length,ot.chars.push(et),_.push(et)),Be.width[et]==null&&(Be.width[et]=A.atlasContext.measureText(et).width/A.baseFontSize,M.kerning)){var qe=[];for(var ft in Be.width)qe.push(ft+et,et+ft);l(Be.kerning,s(Be.family,{pairs:qe}))}}})}if(E.position)if(E.position.length>2){for(var F=!E.position[0].length,N=r.mallocFloat(this.count*2),k=0,I=0;k<this.counts.length;k++){var H=this.counts[k];if(F)for(var j=0;j<H;j++)N[I++]=E.position[k*2],N[I++]=E.position[k*2+1];else for(var ee=0;ee<H;ee++)N[I++]=E.position[k][0],N[I++]=E.position[k][1]}this.position.call?this.position({type:"float",data:N}):this.position=this.regl.buffer({type:"float",data:N}),r.freeFloat(N)}else this.position.destroy&&this.position.destroy(),this.position={constant:E.position};if(E.text||f){var te=r.mallocUint8(this.count),ne=r.mallocFloat(this.count*2);this.textWidth=[];for(var ue=0,q=0;ue<this.counts.length;ue++){for(var Y=this.counts[ue],Z=this.font[ue]||this.font[0],G=this.fontAtlas[ue]||this.fontAtlas[0],K=0;K<Y;K++){var oe=this.text.charAt(q),$=this.text.charAt(q-1);if(te[q]=G.ids[oe],ne[q*2]=Z.width[oe],K){var J=ne[q*2-2],se=ne[q*2],ie=ne[q*2-1],ce=ie+J*.5+se*.5;if(this.kerning){var ye=Z.kerning[$+oe];ye&&(ce+=ye*.001)}ne[q*2+1]=ce}else ne[q*2+1]=ne[q*2]*.5;q++}this.textWidth.push(ne.length?ne[q*2-2]*.5+ne[q*2-1]:0)}E.align||(E.align=this.align),this.charBuffer({data:te,type:"uint8",usage:"stream"}),this.sizeBuffer({data:ne,type:"float",usage:"stream"}),r.freeUint8(te),r.freeFloat(ne),_.length&&this.font.forEach(function(Be,Xe){var ot=M.fontAtlas[Xe],ut=ot.step,et=Math.floor(A.maxAtlasSize/ut),qe=Math.min(et,ot.chars.length),ft=Math.ceil(ot.chars.length/qe),ht=c(qe*ut),dt=c(ft*ut);ot.width=ht,ot.height=dt,ot.rows=ft,ot.cols=qe,ot.em&&ot.texture({data:p({canvas:A.atlasCanvas,font:ot.fontString,chars:ot.chars,shape:[ht,dt],step:[ut,ut]})})})}if(E.align&&(this.align=E.align,this.alignOffset=this.textWidth.map(function(Be,Xe){var ot=Array.isArray(M.align)?M.align.length>1?M.align[Xe]:M.align[0]:M.align;if(typeof ot=="number")return ot;switch(ot){case"right":case"end":return-Be;case"center":case"centre":case"middle":return-Be*.5}return 0})),this.baseline==null&&E.baseline==null&&(E.baseline=0),E.baseline!=null&&(this.baseline=E.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Be,Xe){var ot=(M.font[Xe]||M.font[0]).metrics,ut=0;return ut+=ot.bottom*.5,typeof Be=="number"?ut+=Be-ot.baseline:ut+=-ot[Be],ut*=-1,ut})),E.color!=null)if(E.color||(E.color="transparent"),typeof E.color=="string"||!isNaN(E.color))this.color=v(E.color,"uint8");else{var Se;if(typeof E.color[0]=="number"&&E.color.length>this.counts.length){var Te=E.color.length;Se=r.mallocUint8(Te);for(var ke=(E.color.subarray||E.color.slice).bind(E.color),we=0;we<Te;we+=4)Se.set(v(ke(we,we+4),"uint8"),we)}else{var Ee=E.color.length;Se=r.mallocUint8(Ee*4);for(var xe=0;xe<Ee;xe++)Se.set(v(E.color[xe]||0,"uint8"),xe*4)}this.color=Se}if(E.position||E.text||E.color||E.baseline||E.align||E.font||E.offset||E.opacity){var De=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(De){var Ve=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Ve);for(var Ue=0;Ue<this.batch.length;Ue++)this.batch[Ue]={count:this.counts.length>1?this.counts[Ue]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Ue]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Ue*4,Ue*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Ue]:this.opacity,baseline:this.baselineOffset[Ue]!=null?this.baselineOffset[Ue]:this.baselineOffset[0],align:this.align?this.alignOffset[Ue]!=null?this.alignOffset[Ue]:this.alignOffset[0]:0,atlas:this.fontAtlas[Ue]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Ue*2,Ue*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},A.prototype.destroy=function(){},A.prototype.kerning=!0,A.prototype.position={constant:new Float32Array(2)},A.prototype.translate=null,A.prototype.scale=null,A.prototype.font=null,A.prototype.text="",A.prototype.positionOffset=[0,0],A.prototype.opacity=1,A.prototype.color=new Uint8Array([0,0,0,255]),A.prototype.alignOffset=[0,0],A.maxAtlasSize=1024,A.atlasCanvas=document.createElement("canvas"),A.atlasContext=A.atlasCanvas.getContext("2d",{alpha:!1}),A.baseFontSize=64,A.fonts={};function C(x){return typeof x=="function"&&x._gl&&x.prop&&x.texture&&x.buffer}U.exports=A},55212:function(U,B,e){var y=e(55616);U.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},i(r)?r={container:r}:S(r)?r={container:r}:b(r)?r={gl:r}:r=y(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=e.g.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var t=document.querySelector(r.container);if(!t)throw Error("Element "+r.container+" is not found");r.container=t}i(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=v(),r.container.appendChild(r.canvas),L(r))}else if(!r.canvas)if(typeof document<"u")r.container=document.body||document.documentElement,r.canvas=v(),r.container.appendChild(r.canvas),L(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(a){try{r.gl=r.canvas.getContext(a,r.attrs)}catch{}return r.gl}),r.gl};function L(p){if(p.container)if(p.container==document.body)document.body.style.width||(p.canvas.width=p.width||p.pixelRatio*e.g.innerWidth),document.body.style.height||(p.canvas.height=p.height||p.pixelRatio*e.g.innerHeight);else{var r=p.container.getBoundingClientRect();p.canvas.width=p.width||r.right-r.left,p.canvas.height=p.height||r.bottom-r.top}}function i(p){return typeof p.getContext=="function"&&"width"in p&&"height"in p}function S(p){return typeof p.nodeName=="string"&&typeof p.appendChild=="function"&&typeof p.getBoundingClientRect=="function"}function b(p){return typeof p.drawArrays=="function"||typeof p.drawElements=="function"}function v(){var p=document.createElement("canvas");return p.style.position="absolute",p.style.top=0,p.style.left=0,p}},26444:function(U){U.exports=function(B){typeof B=="string"&&(B=[B]);for(var e=[].slice.call(arguments,1),y=[],L=0;L<B.length-1;L++)y.push(B[L],e[L]||"");return y.push(B[L]),y.join("")}},2304:function(U,B,e){var y=e(53664),L=y("%Object.getOwnPropertyDescriptor%",!0);if(L)try{L([],"length")}catch{L=null}U.exports=L},52264:function(U,B,e){var y=e(24200),L;typeof e.g.matchMedia=="function"?L=!e.g.matchMedia("(hover: none)").matches:L=y,U.exports=L},89184:function(U,B,e){var y=e(24200);function L(){var i=!1;try{var S=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,S),window.removeEventListener("test",null,S)}catch{i=!1}return i}U.exports=y&&L()},39640:function(U,B,e){var y=e(53664),L=y("%Object.defineProperty%",!0),i=function(){if(L)try{return L({},"a",{value:1}),!0}catch{return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return L([],"length",{value:1}).length!==1}catch{return!0}},U.exports=i},69572:function(U){var B={foo:{}},e=Object;U.exports=function(){return{__proto__:B}.foo===B.foo&&!({__proto__:null}instanceof e)}},71080:function(U,B,e){var y=typeof Symbol<"u"&&Symbol,L=e(89320);U.exports=function(){return typeof y!="function"||typeof Symbol!="function"||typeof y("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:L()}},89320:function(U){U.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},y=Symbol("test"),L=Object(y);if(typeof y=="string"||Object.prototype.toString.call(y)!=="[object Symbol]"||Object.prototype.toString.call(L)!=="[object Symbol]")return!1;var i=42;e[y]=i;for(y in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var S=Object.getOwnPropertySymbols(e);if(S.length!==1||S[0]!==y||!Object.prototype.propertyIsEnumerable.call(e,y))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var b=Object.getOwnPropertyDescriptor(e,y);if(b.value!==i||b.enumerable!==!0)return!1}return!0}},46672:function(U,B,e){var y=e(89320);U.exports=function(){return y()&&!!Symbol.toStringTag}},92064:function(U,B,e){var y=Function.prototype.call,L=Object.prototype.hasOwnProperty,i=e(8844);U.exports=i.call(y,L)},35984:function(U,B){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */B.read=function(e,y,L,i,S){var b,v,p=S*8-i-1,r=(1<<p)-1,t=r>>1,a=-7,n=L?S-1:0,u=L?-1:1,s=e[y+n];for(n+=u,b=s&(1<<-a)-1,s>>=-a,a+=p;a>0;b=b*256+e[y+n],n+=u,a-=8);for(v=b&(1<<-a)-1,b>>=-a,a+=i;a>0;v=v*256+e[y+n],n+=u,a-=8);if(b===0)b=1-t;else{if(b===r)return v?NaN:(s?-1:1)*(1/0);v=v+Math.pow(2,i),b=b-t}return(s?-1:1)*v*Math.pow(2,b-i)},B.write=function(e,y,L,i,S,b){var v,p,r,t=b*8-S-1,a=(1<<t)-1,n=a>>1,u=S===23?Math.pow(2,-24)-Math.pow(2,-77):0,s=i?0:b-1,l=i?1:-1,m=y<0||y===0&&1/y<0?1:0;for(y=Math.abs(y),isNaN(y)||y===1/0?(p=isNaN(y)?1:0,v=a):(v=Math.floor(Math.log(y)/Math.LN2),y*(r=Math.pow(2,-v))<1&&(v--,r*=2),v+n>=1?y+=u/r:y+=u*Math.pow(2,1-n),y*r>=2&&(v++,r/=2),v+n>=a?(p=0,v=a):v+n>=1?(p=(y*r-1)*Math.pow(2,S),v=v+n):(p=y*Math.pow(2,n-1)*Math.pow(2,S),v=0));S>=8;e[L+s]=p&255,s+=l,p/=256,S-=8);for(v=v<<S|p,t+=S;t>0;e[L+s]=v&255,s+=l,v/=256,t-=8);e[L+s-l]|=m*128}},6768:function(U){typeof Object.create=="function"?U.exports=function(e,y){y&&(e.super_=y,e.prototype=Object.create(y.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:U.exports=function(e,y){if(y){e.super_=y;var L=function(){};L.prototype=y.prototype,e.prototype=new L,e.prototype.constructor=e}}},91148:function(U,B,e){var y=e(46672)(),L=e(99676),i=L("Object.prototype.toString"),S=function(r){return y&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:i(r)==="[object Arguments]"},b=function(r){return S(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&i(r)!=="[object Array]"&&i(r.callee)==="[object Function]"},v=function(){return S(arguments)}();S.isLegacyArguments=b,U.exports=v?S:b},24200:function(U){U.exports=!0},90720:function(U){var B=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,y,L;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{y=Object.defineProperty({},"length",{get:function(){throw L}}),L={},e(function(){throw 42},null,y)}catch(g){g!==L&&(e=null)}else e=null;var i=/^\s*class\b/,S=function(c){try{var o=B.call(c);return i.test(o)}catch{return!1}},b=function(c){try{return S(c)?!1:(B.call(c),!0)}catch{return!1}},v=Object.prototype.toString,p="[object Object]",r="[object Function]",t="[object GeneratorFunction]",a="[object HTMLAllCollection]",n="[object HTML document.all class]",u="[object HTMLCollection]",s=typeof Symbol=="function"&&!!Symbol.toStringTag,l=!(0 in[,]),m=function(){return!1};if(typeof document=="object"){var h=document.all;v.call(h)===v.call(document.all)&&(m=function(c){if((l||!c)&&(typeof c>"u"||typeof c=="object"))try{var o=v.call(c);return(o===a||o===n||o===u||o===p)&&c("")==null}catch{}return!1})}U.exports=e?function(c){if(m(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;try{e(c,null,y)}catch(o){if(o!==L)return!1}return!S(c)&&b(c)}:function(c){if(m(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;if(s)return b(c);if(S(c))return!1;var o=v.call(c);return o!==r&&o!==t&&!/^\[object HTML/.test(o)?!1:b(c)}},84420:function(U,B,e){var y=Object.prototype.toString,L=Function.prototype.toString,i=/^\s*(?:function)?\*/,S=e(46672)(),b=Object.getPrototypeOf,v=function(){if(!S)return!1;try{return Function("return function*() {}")()}catch{}},p;U.exports=function(t){if(typeof t!="function")return!1;if(i.test(L.call(t)))return!0;if(!S){var a=y.call(t);return a==="[object GeneratorFunction]"}if(!b)return!1;if(typeof p>"u"){var n=v();p=n?b(n):!1}return b(t)===p}},96604:function(U){U.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(U){U.exports=function(e){return e!==e}},1560:function(U,B,e){var y=e(57916),L=e(81288),i=e(85992),S=e(57740),b=e(59736),v=y(S(),Number);L(v,{getPolyfill:S,implementation:i,shim:b}),U.exports=v},57740:function(U,B,e){var y=e(85992);U.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:y}},59736:function(U,B,e){var y=e(81288),L=e(57740);U.exports=function(){var S=L();return y(Number,{isNaN:S},{isNaN:function(){return Number.isNaN!==S}}),S}},18400:function(U){U.exports=function(B){var e=typeof B;return B!==null&&(e==="object"||e==="function")}},58908:function(U){var B=Object.prototype.toString;U.exports=function(e){var y;return B.call(e)==="[object Object]"&&(y=Object.getPrototypeOf(e),y===null||y===Object.getPrototypeOf({}))}},94576:function(U){U.exports=function(B){for(var e=B.length,y,L=0;L<e;L++)if(y=B.charCodeAt(L),(y<9||y>13)&&y!==32&&y!==133&&y!==160&&y!==5760&&y!==6158&&(y<8192||y>8205)&&y!==8232&&y!==8233&&y!==8239&&y!==8287&&y!==8288&&y!==12288&&y!==65279)return!1;return!0}},53520:function(U){U.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},7728:function(U,B,e){var y=e(46492),L=e(63436),i=e(99676),S=i("Object.prototype.toString"),b=e(46672)(),v=e(2304),p=typeof globalThis>"u"?e.g:globalThis,r=L(),t=i("Array.prototype.indexOf",!0)||function(m,h){for(var g=0;g<m.length;g+=1)if(m[g]===h)return g;return-1},a=i("String.prototype.slice"),n={},u=Object.getPrototypeOf;b&&v&&u&&y(r,function(l){var m=new p[l];if(Symbol.toStringTag in m){var h=u(m),g=v(h,Symbol.toStringTag);if(!g){var c=u(h);g=v(c,Symbol.toStringTag)}n[l]=g.get}});var s=function(m){var h=!1;return y(n,function(g,c){if(!h)try{h=g.call(m)===c}catch{}}),h};U.exports=function(m){if(!m||typeof m!="object")return!1;if(!b||!(Symbol.toStringTag in m)){var h=a(S(m),8,-1);return t(r,h)>-1}return v?s(m):!1}},76244:function(U){U.exports=Math.log2||function(B){return Math.log(B)*Math.LOG2E}},62644:function(U,B,e){U.exports=L;var y=e(93784);function L(i,S){S||(S=i,i=window);var b=0,v=0,p=0,r={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function a(w){var A=!1;return"altKey"in w&&(A=A||w.altKey!==r.alt,r.alt=!!w.altKey),"shiftKey"in w&&(A=A||w.shiftKey!==r.shift,r.shift=!!w.shiftKey),"ctrlKey"in w&&(A=A||w.ctrlKey!==r.control,r.control=!!w.ctrlKey),"metaKey"in w&&(A=A||w.metaKey!==r.meta,r.meta=!!w.metaKey),A}function n(w,A){var C=y.x(A),x=y.y(A);"buttons"in A&&(w=A.buttons|0),(w!==b||C!==v||x!==p||a(A))&&(b=w|0,v=C||0,p=x||0,S&&S(b,v,p,r))}function u(w){n(0,w)}function s(){(b||v||p||r.shift||r.alt||r.meta||r.control)&&(v=p=0,b=0,r.shift=r.alt=r.control=r.meta=!1,S&&S(0,0,0,r))}function l(w){a(w)&&S&&S(b,v,p,r)}function m(w){y.buttons(w)===0?n(0,w):n(b,w)}function h(w){n(b|y.buttons(w),w)}function g(w){n(b&~y.buttons(w),w)}function c(){t||(t=!0,i.addEventListener("mousemove",m),i.addEventListener("mousedown",h),i.addEventListener("mouseup",g),i.addEventListener("mouseleave",u),i.addEventListener("mouseenter",u),i.addEventListener("mouseout",u),i.addEventListener("mouseover",u),i.addEventListener("blur",s),i.addEventListener("keyup",l),i.addEventListener("keydown",l),i.addEventListener("keypress",l),i!==window&&(window.addEventListener("blur",s),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}function o(){t&&(t=!1,i.removeEventListener("mousemove",m),i.removeEventListener("mousedown",h),i.removeEventListener("mouseup",g),i.removeEventListener("mouseleave",u),i.removeEventListener("mouseenter",u),i.removeEventListener("mouseout",u),i.removeEventListener("mouseover",u),i.removeEventListener("blur",s),i.removeEventListener("keyup",l),i.removeEventListener("keydown",l),i.removeEventListener("keypress",l),i!==window&&(window.removeEventListener("blur",s),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))}c();var d={element:i};return Object.defineProperties(d,{enabled:{get:function(){return t},set:function(w){w?c():o()},enumerable:!0},buttons:{get:function(){return b},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return p},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),d}},29128:function(U){var B={left:0,top:0};U.exports=e;function e(L,i,S){i=i||L.currentTarget||L.srcElement,Array.isArray(S)||(S=[0,0]);var b=L.clientX||0,v=L.clientY||0,p=y(i);return S[0]=b-p.left,S[1]=v-p.top,S}function y(L){return L===window||L===document||L===document.body?B:L.getBoundingClientRect()}},93784:function(U,B){function e(S){if(typeof S=="object"){if("buttons"in S)return S.buttons;if("which"in S){var b=S.which;if(b===2)return 4;if(b===3)return 2;if(b>0)return 1<<b-1}else if("button"in S){var b=S.button;if(b===1)return 4;if(b===2)return 2;if(b>=0)return 1<<b}}return 0}B.buttons=e;function y(S){return S.target||S.srcElement||window}B.element=y;function L(S){if(typeof S=="object"){if("offsetX"in S)return S.offsetX;var b=y(S),v=b.getBoundingClientRect();return S.clientX-v.left}return 0}B.x=L;function i(S){if(typeof S=="object"){if("offsetY"in S)return S.offsetY;var b=y(S),v=b.getBoundingClientRect();return S.clientY-v.top}return 0}B.y=i},97264:function(U,B,e){var y=e(23464);U.exports=L;function L(i,S,b){typeof i=="function"&&(b=!!S,S=i,i=window);var v=y("ex",i),p=function(r){b&&r.preventDefault();var t=r.deltaX||0,a=r.deltaY||0,n=r.deltaZ||0,u=r.deltaMode,s=1;switch(u){case 1:s=v;break;case 2:s=window.innerHeight;break}if(t*=s,a*=s,n*=s,t||a||n)return S(t,a,n,r)};return i.addEventListener("wheel",p),p}},88324:function(U,B,e){var y;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(i,S,b){S[i]=S[i]||b(),U.exports?U.exports=S[i]:(y=(function(){return S[i]}).call(B,e,B,U),y!==void 0&&(U.exports=y))})("Promise",typeof e.g<"u"?e.g:this,function(){var i,S,b,v=Object.prototype.toString,p=typeof setImmediate<"u"?function(d){return setImmediate(d)}:setTimeout;try{Object.defineProperty({},"x",{}),i=function(d,w,A,C){return Object.defineProperty(d,w,{value:A,writable:!0,configurable:C!==!1})}}catch{i=function(w,A,C){return w[A]=C,w}}b=function(){var d,w,A;function C(x,E){this.fn=x,this.self=E,this.next=void 0}return{add:function(E,M){A=new C(E,M),w?w.next=A:d=A,w=A,A=void 0},drain:function(){var E=d;for(d=w=S=void 0;E;)E.fn.call(E.self),E=E.next}}}();function r(o,d){b.add(o,d),S||(S=p(b.drain))}function t(o){var d,w=typeof o;return o!=null&&(w=="object"||w=="function")&&(d=o.then),typeof d=="function"?d:!1}function a(){for(var o=0;o<this.chain.length;o++)n(this,this.state===1?this.chain[o].success:this.chain[o].failure,this.chain[o]);this.chain.length=0}function n(o,d,w){var A,C;try{d===!1?w.reject(o.msg):(d===!0?A=o.msg:A=d.call(void 0,o.msg),A===w.promise?w.reject(TypeError("Promise-chain cycle")):(C=t(A))?C.call(A,w.resolve,w.reject):w.resolve(A))}catch(x){w.reject(x)}}function u(o){var d,w=this;if(!w.triggered){w.triggered=!0,w.def&&(w=w.def);try{(d=t(o))?r(function(){var A=new m(w);try{d.call(o,function(){u.apply(A,arguments)},function(){s.apply(A,arguments)})}catch(C){s.call(A,C)}}):(w.msg=o,w.state=1,w.chain.length>0&&r(a,w))}catch(A){s.call(new m(w),A)}}}function s(o){var d=this;d.triggered||(d.triggered=!0,d.def&&(d=d.def),d.msg=o,d.state=2,d.chain.length>0&&r(a,d))}function l(o,d,w,A){for(var C=0;C<d.length;C++)(function(E){o.resolve(d[E]).then(function(f){w(E,f)},A)})(C)}function m(o){this.def=o,this.triggered=!1}function h(o){this.promise=o,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function g(o){if(typeof o!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var d=new h(this);this.then=function(A,C){var x={success:typeof A=="function"?A:!0,failure:typeof C=="function"?C:!1};return x.promise=new this.constructor(function(M,f){if(typeof M!="function"||typeof f!="function")throw TypeError("Not a function");x.resolve=M,x.reject=f}),d.chain.push(x),d.state!==0&&r(a,d),x.promise},this.catch=function(A){return this.then(void 0,A)};try{o.call(void 0,function(A){u.call(d,A)},function(A){s.call(d,A)})}catch(w){s.call(d,w)}}var c=i({},"constructor",g,!1);return g.prototype=c,i(c,"__NPO__",0,!1),i(g,"resolve",function(d){var w=this;return d&&typeof d=="object"&&d.__NPO__===1?d:new w(function(C,x){if(typeof C!="function"||typeof x!="function")throw TypeError("Not a function");C(d)})}),i(g,"reject",function(d){return new this(function(A,C){if(typeof A!="function"||typeof C!="function")throw TypeError("Not a function");C(d)})}),i(g,"all",function(d){var w=this;return v.call(d)!="[object Array]"?w.reject(TypeError("Not an array")):d.length===0?w.resolve([]):new w(function(C,x){if(typeof C!="function"||typeof x!="function")throw TypeError("Not a function");var E=d.length,M=Array(E),f=0;l(w,d,function(T,z){M[T]=z,++f===E&&C(M)},x)})}),i(g,"race",function(d){var w=this;return v.call(d)!="[object Array]"?w.reject(TypeError("Not an array")):new w(function(C,x){if(typeof C!="function"||typeof x!="function")throw TypeError("Not a function");l(w,d,function(M,f){C(f)},x)})}),g})},48816:function(U){var B=Math.PI,e=v(120);U.exports=y;function y(p){for(var r,t=[],a=0,n=0,u=0,s=0,l=null,m=null,h=0,g=0,c=0,o=p.length;c<o;c++){var d=p[c],w=d[0];switch(w){case"M":u=d[1],s=d[2];break;case"A":d=S(h,g,d[1],d[2],v(d[3]),d[4],d[5],d[6],d[7]),d.unshift("C"),d.length>7&&(t.push(d.splice(0,7)),d.unshift("C"));break;case"S":var A=h,C=g;(r=="C"||r=="S")&&(A+=A-a,C+=C-n),d=["C",A,C,d[1],d[2],d[3],d[4]];break;case"T":r=="Q"||r=="T"?(l=h*2-l,m=g*2-m):(l=h,m=g),d=i(h,g,l,m,d[1],d[2]);break;case"Q":l=d[1],m=d[2],d=i(h,g,d[1],d[2],d[3],d[4]);break;case"L":d=L(h,g,d[1],d[2]);break;case"H":d=L(h,g,d[1],g);break;case"V":d=L(h,g,h,d[1]);break;case"Z":d=L(h,g,u,s);break}r=w,h=d[d.length-2],g=d[d.length-1],d.length>4?(a=d[d.length-4],n=d[d.length-3]):(a=h,n=g),t.push(d)}return t}function L(p,r,t,a){return["C",p,r,t,a,t,a]}function i(p,r,t,a,n,u){return["C",p/3+.6666666666666666*t,r/3+.6666666666666666*a,n/3+.6666666666666666*t,u/3+.6666666666666666*a,n,u]}function S(p,r,t,a,n,u,s,l,m,h){if(h)M=h[0],f=h[1],x=h[2],E=h[3];else{var g=b(p,r,-n);p=g.x,r=g.y,g=b(l,m,-n),l=g.x,m=g.y;var c=(p-l)/2,o=(r-m)/2,d=c*c/(t*t)+o*o/(a*a);d>1&&(d=Math.sqrt(d),t=d*t,a=d*a);var w=t*t,A=a*a,C=(u==s?-1:1)*Math.sqrt(Math.abs((w*A-w*o*o-A*c*c)/(w*o*o+A*c*c)));C==1/0&&(C=1);var x=C*t*o/a+(p+l)/2,E=C*-a*c/t+(r+m)/2,M=Math.asin(((r-E)/a).toFixed(9)),f=Math.asin(((m-E)/a).toFixed(9));M=p<x?B-M:M,f=l<x?B-f:f,M<0&&(M=B*2+M),f<0&&(f=B*2+f),s&&M>f&&(M=M-B*2),!s&&f>M&&(f=f-B*2)}if(Math.abs(f-M)>e){var P=f,T=l,z=m;f=M+e*(s&&f>M?1:-1),l=x+t*Math.cos(f),m=E+a*Math.sin(f);var _=S(l,m,t,a,n,0,s,T,z,[f,P,x,E])}var V=Math.tan((f-M)/4),F=4/3*t*V,N=4/3*a*V,k=[2*p-(p+F*Math.sin(M)),2*r-(r-N*Math.cos(M)),l+F*Math.sin(f),m-N*Math.cos(f),l,m];if(h)return k;_&&(k=k.concat(_));for(var I=0;I<k.length;){var H=b(k[I],k[I+1],n);k[I++]=H.x,k[I++]=H.y}return k}function b(p,r,t){return{x:p*Math.cos(t)-r*Math.sin(t),y:p*Math.sin(t)+r*Math.cos(t)}}function v(p){return p*(B/180)}},50896:function(U){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var B=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;function L(S){if(S==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(S)}function i(){try{if(!Object.assign)return!1;var S=new String("abc");if(S[5]="de",Object.getOwnPropertyNames(S)[0]==="5")return!1;for(var b={},v=0;v<10;v++)b["_"+String.fromCharCode(v)]=v;var p=Object.getOwnPropertyNames(b).map(function(t){return b[t]});if(p.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}U.exports=i()?Object.assign:function(S,b){for(var v,p=L(S),r,t=1;t<arguments.length;t++){v=Object(arguments[t]);for(var a in v)e.call(v,a)&&(p[a]=v[a]);if(B){r=B(v);for(var n=0;n<r.length;n++)y.call(v,r[n])&&(p[r[n]]=v[r[n]])}}return p}},76835:function(U){var B=function(e){return e!==e};U.exports=function(y,L){return y===0&&L===0?1/y===1/L:!!(y===L||B(y)&&B(L))}},39896:function(U,B,e){var y=e(81288),L=e(57916),i=e(76835),S=e(66148),b=e(16408),v=L(S(),Object);y(v,{getPolyfill:S,implementation:i,shim:b}),U.exports=v},66148:function(U,B,e){var y=e(76835);U.exports=function(){return typeof Object.is=="function"?Object.is:y}},16408:function(U,B,e){var y=e(66148),L=e(81288);U.exports=function(){var S=y();return L(Object,{is:S},{is:function(){return Object.is!==S}}),S}},32764:function(U,B,e){var y;if(!Object.keys){var L=Object.prototype.hasOwnProperty,i=Object.prototype.toString,S=e(97344),b=Object.prototype.propertyIsEnumerable,v=!b.call({toString:null},"toString"),p=b.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=function(s){var l=s.constructor;return l&&l.prototype===s},a={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var s in window)try{if(!a["$"+s]&&L.call(window,s)&&window[s]!==null&&typeof window[s]=="object")try{t(window[s])}catch{return!0}}catch{return!0}return!1}(),u=function(s){if(typeof window>"u"||!n)return t(s);try{return t(s)}catch{return!1}};y=function(l){var m=l!==null&&typeof l=="object",h=i.call(l)==="[object Function]",g=S(l),c=m&&i.call(l)==="[object String]",o=[];if(!m&&!h&&!g)throw new TypeError("Object.keys called on a non-object");var d=p&&h;if(c&&l.length>0&&!L.call(l,0))for(var w=0;w<l.length;++w)o.push(String(w));if(g&&l.length>0)for(var A=0;A<l.length;++A)o.push(String(A));else for(var C in l)!(d&&C==="prototype")&&L.call(l,C)&&o.push(String(C));if(v)for(var x=u(l),E=0;E<r.length;++E)!(x&&r[E]==="constructor")&&L.call(l,r[E])&&o.push(r[E]);return o}}U.exports=y},41820:function(U,B,e){var y=Array.prototype.slice,L=e(97344),i=Object.keys,S=i?function(p){return i(p)}:e(32764),b=Object.keys;S.shim=function(){if(Object.keys){var p=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);p||(Object.keys=function(t){return L(t)?b(y.call(t)):b(t)})}else Object.keys=S;return Object.keys||S},U.exports=S},97344:function(U){var B=Object.prototype.toString;U.exports=function(y){var L=B.call(y),i=L==="[object Arguments]";return i||(i=L!=="[object Array]"&&y!==null&&typeof y=="object"&&typeof y.length=="number"&&y.length>=0&&B.call(y.callee)==="[object Function]"),i}},32868:function(U){function B(L,i){if(typeof L!="string")return[L];var S=[L];typeof i=="string"||Array.isArray(i)?i={brackets:i}:i||(i={});var b=i.brackets?Array.isArray(i.brackets)?i.brackets:[i.brackets]:["{}","[]","()"],v=i.escape||"___",p=!!i.flat;b.forEach(function(a){var n=new RegExp(["\\",a[0],"[^\\",a[0],"\\",a[1],"]*\\",a[1]].join("")),u=[];function s(l,m,h){var g=S.push(l.slice(a[0].length,-a[1].length))-1;return u.push(g),v+g+v}S.forEach(function(l,m){for(var h,g=0;l!=h;)if(h=l,l=l.replace(n,s),g++>1e4)throw Error("References have circular dependency. Please, check them.");S[m]=l}),u=u.reverse(),S=S.map(function(l){return u.forEach(function(m){l=l.replace(new RegExp("(\\"+v+m+"\\"+v+")","g"),a[0]+"$1"+a[1])}),l})});var r=new RegExp("\\"+v+"([0-9]+)\\"+v);function t(a,n,u){for(var s=[],l,m=0;l=r.exec(a);){if(m++>1e4)throw Error("Circular references in parenthesis");s.push(a.slice(0,l.index)),s.push(t(n[l[1]],n)),a=a.slice(l.index+l[0].length)}return s.push(a),s}return p?S:t(S[0],S)}function e(L,i){if(i&&i.flat){var S=i&&i.escape||"___",b=L[0],v;if(!b)return"";for(var p=new RegExp("\\"+S+"([0-9]+)\\"+S),r=0;b!=v;){if(r++>1e4)throw Error("Circular references in "+L);v=b,b=b.replace(p,t)}return b}return L.reduce(function a(n,u){return Array.isArray(u)&&(u=u.reduce(a,"")),n+u},"");function t(a,n){if(L[n]==null)throw Error("Reference "+n+"is undefined");return L[n]}}function y(L,i){return Array.isArray(L)?e(L,i):B(L,i)}y.parse=B,y.stringify=e,U.exports=y},51160:function(U,B,e){var y=e(55616);U.exports=L;function L(i){var S;return arguments.length>1&&(i=arguments),typeof i=="string"?i=i.split(/\s/).map(parseFloat):typeof i=="number"&&(i=[i]),i.length&&typeof i[0]=="number"?i.length===1?S={width:i[0],height:i[0],x:0,y:0}:i.length===2?S={width:i[0],height:i[1],x:0,y:0}:S={x:i[0],y:i[1],width:i[2]-i[0]||0,height:i[3]-i[1]||0}:i&&(i=y(i,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),S={x:i.left||0,y:i.top||0},i.width==null?i.right?S.width=i.right-S.x:S.width=0:S.width=i.width,i.height==null?i.bottom?S.height=i.bottom-S.y:S.height=0:S.height=i.height),S}},21984:function(U){U.exports=y;var B={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function y(S){var b=[];return S.replace(e,function(v,p,r){var t=p.toLowerCase();for(r=i(r),t=="m"&&r.length>2&&(b.push([p].concat(r.splice(0,2))),t="l",p=p=="m"?"l":"L");;){if(r.length==B[t])return r.unshift(p),b.push(r);if(r.length<B[t])throw new Error("malformed path data");b.push([p].concat(r.splice(0,B[t])))}}),b}var L=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function i(S){var b=S.match(L);return b?b.map(Number):[]}},65819:function(U){U.exports=function(e,y){y||(y=[0,""]),e=String(e);var L=parseFloat(e,10);return y[0]=L,y[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",y}},41984:function(U,B,e){var y=e(4168);(function(){var L,i,S,b,v,p;typeof performance<"u"&&performance!==null&&performance.now?U.exports=function(){return performance.now()}:typeof y<"u"&&y!==null&&y.hrtime?(U.exports=function(){return(L()-v)/1e6},i=y.hrtime,L=function(){var r;return r=i(),r[0]*1e9+r[1]},b=L(),p=y.uptime()*1e9,v=b-p):Date.now?(U.exports=function(){return Date.now()-S},S=Date.now()):(U.exports=function(){return new Date().getTime()-S},S=new Date().getTime())}).call(this)},55616:function(U){U.exports=function(L,i,S){var b={},v,p;if(typeof i=="string"&&(i=e(i)),Array.isArray(i)){var r={};for(p=0;p<i.length;p++)r[i[p]]=!0;i=r}for(v in i)i[v]=e(i[v]);var t={};for(v in i){var a=i[v];if(Array.isArray(a))for(p=0;p<a.length;p++){var n=a[p];if(S&&(t[n]=!0),n in L){if(b[v]=L[n],S)for(var u=p;u<a.length;u++)t[a[u]]=!0;break}}else v in L&&(i[v]&&(b[v]=L[v]),S&&(t[v]=!0))}if(S)for(v in L)t[v]||(b[v]=L[v]);return b};var B={};function e(y){return B[y]?B[y]:(typeof y=="string"&&(y=B[y]=y.split(/\s*,\s*|\s+/)),y)}},61456:function(U){U.exports=function(e,y,L,i){var S=e[0],b=e[1],v=!1;L===void 0&&(L=0),i===void 0&&(i=y.length);for(var p=i-L,r=0,t=p-1;r<p;t=r++){var a=y[r+L][0],n=y[r+L][1],u=y[t+L][0],s=y[t+L][1],l=n>b!=s>b&&S<(u-a)*(b-n)/(s-n)+a;l&&(v=!v)}return v}},14756:function(U,B,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var y=e(7688),L=e(28648),i=e(72200),S=e(11403),b=e(82368),v=e(17792),p=!1,r=L(),t;t={buildLog:function(n){return n===!0?p=y():n===!1&&(p=!1),p===!1?!1:p.list},epsilon:function(n){return r.epsilon(n)},segments:function(n){var u=i(!0,r,p);return n.regions.forEach(u.addRegion),{segments:u.calculate(n.inverted),inverted:n.inverted}},combine:function(n,u){var s=i(!1,r,p);return{combined:s.calculate(n.segments,n.inverted,u.segments,u.inverted),inverted1:n.inverted,inverted2:u.inverted}},selectUnion:function(n){return{segments:b.union(n.combined,p),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:b.intersect(n.combined,p),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:b.difference(n.combined,p),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:b.differenceRev(n.combined,p),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:b.xor(n.combined,p),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:S(n.segments,r,p),inverted:n.inverted}},polygonFromGeoJSON:function(n){return v.toPolygon(t,n)},polygonToGeoJSON:function(n){return v.fromPolygon(t,r,n)},union:function(n,u){return a(n,u,t.selectUnion)},intersect:function(n,u){return a(n,u,t.selectIntersect)},difference:function(n,u){return a(n,u,t.selectDifference)},differenceRev:function(n,u){return a(n,u,t.selectDifferenceRev)},xor:function(n,u){return a(n,u,t.selectXor)}};function a(n,u,s){var l=t.segments(n),m=t.segments(u),h=t.combine(l,m),g=s(h);return t.polygon(g)}typeof window=="object"&&(window.PolyBool=t),U.exports=t},7688:function(U){function B(){var e,y=0,L=!1;function i(S,b){return e.list.push({type:S,data:b?JSON.parse(JSON.stringify(b)):void 0}),e}return e={list:[],segmentId:function(){return y++},checkIntersection:function(S,b){return i("check",{seg1:S,seg2:b})},segmentChop:function(S,b){return i("div_seg",{seg:S,pt:b}),i("chop",{seg:S,pt:b})},statusRemove:function(S){return i("pop_seg",{seg:S})},segmentUpdate:function(S){return i("seg_update",{seg:S})},segmentNew:function(S,b){return i("new_seg",{seg:S,primary:b})},segmentRemove:function(S){return i("rem_seg",{seg:S})},tempStatus:function(S,b,v){return i("temp_status",{seg:S,above:b,below:v})},rewind:function(S){return i("rewind",{seg:S})},status:function(S,b,v){return i("status",{seg:S,above:b,below:v})},vert:function(S){return S===L?e:(L=S,i("vert",{x:S}))},log:function(S){return typeof S!="string"&&(S=JSON.stringify(S,!1,"  ")),i("log",{txt:S})},reset:function(){return i("reset")},selected:function(S){return i("selected",{segs:S})},chainStart:function(S){return i("chain_start",{seg:S})},chainRemoveHead:function(S,b){return i("chain_rem_head",{index:S,pt:b})},chainRemoveTail:function(S,b){return i("chain_rem_tail",{index:S,pt:b})},chainNew:function(S,b){return i("chain_new",{pt1:S,pt2:b})},chainMatch:function(S){return i("chain_match",{index:S})},chainClose:function(S){return i("chain_close",{index:S})},chainAddHead:function(S,b){return i("chain_add_head",{index:S,pt:b})},chainAddTail:function(S,b){return i("chain_add_tail",{index:S,pt:b})},chainConnect:function(S,b){return i("chain_con",{index1:S,index2:b})},chainReverse:function(S){return i("chain_rev",{index:S})},chainJoin:function(S,b){return i("chain_join",{index1:S,index2:b})},done:function(){return i("done")}},e}U.exports=B},28648:function(U){function B(e){typeof e!="number"&&(e=1e-10);var y={epsilon:function(L){return typeof L=="number"&&(e=L),e},pointAboveOrOnLine:function(L,i,S){var b=i[0],v=i[1],p=S[0],r=S[1],t=L[0],a=L[1];return(p-b)*(a-v)-(r-v)*(t-b)>=-e},pointBetween:function(L,i,S){var b=L[1]-i[1],v=S[0]-i[0],p=L[0]-i[0],r=S[1]-i[1],t=p*v+b*r;if(t<e)return!1;var a=v*v+r*r;return!(t-a>-e)},pointsSameX:function(L,i){return Math.abs(L[0]-i[0])<e},pointsSameY:function(L,i){return Math.abs(L[1]-i[1])<e},pointsSame:function(L,i){return y.pointsSameX(L,i)&&y.pointsSameY(L,i)},pointsCompare:function(L,i){return y.pointsSameX(L,i)?y.pointsSameY(L,i)?0:L[1]<i[1]?-1:1:L[0]<i[0]?-1:1},pointsCollinear:function(L,i,S){var b=L[0]-i[0],v=L[1]-i[1],p=i[0]-S[0],r=i[1]-S[1];return Math.abs(b*r-p*v)<e},linesIntersect:function(L,i,S,b){var v=i[0]-L[0],p=i[1]-L[1],r=b[0]-S[0],t=b[1]-S[1],a=v*t-p*r;if(Math.abs(a)<e)return!1;var n=L[0]-S[0],u=L[1]-S[1],s=(r*u-t*n)/a,l=(v*u-p*n)/a,m={alongA:0,alongB:0,pt:[L[0]+s*v,L[1]+s*p]};return s<=-e?m.alongA=-2:s<e?m.alongA=-1:s-1<=-e?m.alongA=0:s-1<e?m.alongA=1:m.alongA=2,l<=-e?m.alongB=-2:l<e?m.alongB=-1:l-1<=-e?m.alongB=0:l-1<e?m.alongB=1:m.alongB=2,m},pointInsideRegion:function(L,i){for(var S=L[0],b=L[1],v=i[i.length-1][0],p=i[i.length-1][1],r=!1,t=0;t<i.length;t++){var a=i[t][0],n=i[t][1];n-b>e!=p-b>e&&(v-a)*(b-n)/(p-n)+a-S>e&&(r=!r),v=a,p=n}return r}};return y}U.exports=B},17792:function(U){var B={toPolygon:function(e,y){function L(b){if(b.length<=0)return e.segments({inverted:!1,regions:[]});function v(t){var a=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[a]})}for(var p=v(b[0]),r=1;r<b.length;r++)p=e.selectDifference(e.combine(p,v(b[r])));return p}if(y.type==="Polygon")return e.polygon(L(y.coordinates));if(y.type==="MultiPolygon"){for(var i=e.segments({inverted:!1,regions:[]}),S=0;S<y.coordinates.length;S++)i=e.selectUnion(e.combine(i,L(y.coordinates[S])));return e.polygon(i)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,y,L){L=e.polygon(e.segments(L));function i(s,l){return y.pointInsideRegion([(s[0][0]+s[1][0])*.5,(s[0][1]+s[1][1])*.5],l)}function S(s){return{region:s,children:[]}}var b=S(null);function v(s,l){for(var m=0;m<s.children.length;m++){var h=s.children[m];if(i(l,h.region)){v(h,l);return}}for(var g=S(l),m=0;m<s.children.length;m++){var h=s.children[m];i(h.region,l)&&(g.children.push(h),s.children.splice(m,1),m--)}s.children.push(g)}for(var p=0;p<L.regions.length;p++){var r=L.regions[p];r.length<3||v(b,r)}function t(s,l){for(var m=0,h=s[s.length-1][0],g=s[s.length-1][1],c=[],o=0;o<s.length;o++){var d=s[o][0],w=s[o][1];c.push([d,w]),m+=w*h-d*g,h=d,g=w}var A=m<0;return A!==l&&c.reverse(),c.push([c[0][0],c[0][1]]),c}var a=[];function n(s){var l=[t(s.region,!1)];a.push(l);for(var m=0;m<s.children.length;m++)l.push(u(s.children[m]))}function u(s){for(var l=0;l<s.children.length;l++)n(s.children[l]);return t(s.region,!0)}for(var p=0;p<b.children.length;p++)n(b.children[p]);return a.length<=0?{type:"Polygon",coordinates:[]}:a.length==1?{type:"Polygon",coordinates:a[0]}:{type:"MultiPolygon",coordinates:a}}};U.exports=B},72200:function(U,B,e){var y=e(48088);function L(i,S,b){function v(g,c){return{id:b?b.segmentId():-1,start:g,end:c,myFill:{above:null,below:null},otherFill:null}}function p(g,c,o){return{id:b?b.segmentId():-1,start:g,end:c,myFill:{above:o.myFill.above,below:o.myFill.below},otherFill:null}}var r=y.create();function t(g,c,o,d,w,A){var C=S.pointsCompare(c,w);return C!==0?C:S.pointsSame(o,A)?0:g!==d?g?1:-1:S.pointAboveOrOnLine(o,d?w:A,d?A:w)?1:-1}function a(g,c){r.insertBefore(g,function(o){var d=t(g.isStart,g.pt,c,o.isStart,o.pt,o.other.pt);return d<0})}function n(g,c){var o=y.node({isStart:!0,pt:g.start,seg:g,primary:c,other:null,status:null});return a(o,g.end),o}function u(g,c,o){var d=y.node({isStart:!1,pt:c.end,seg:c,primary:o,other:g,status:null});g.other=d,a(d,g.pt)}function s(g,c){var o=n(g,c);return u(o,g,c),o}function l(g,c){b&&b.segmentChop(g.seg,c),g.other.remove(),g.seg.end=c,g.other.pt=c,a(g.other,g.pt)}function m(g,c){var o=p(c,g.seg.end,g.seg);return l(g,c),s(o,g.primary)}function h(g,c){var o=y.create();function d(F,N){var k=F.seg.start,I=F.seg.end,H=N.seg.start,j=N.seg.end;return S.pointsCollinear(k,H,j)?S.pointsCollinear(I,H,j)||S.pointAboveOrOnLine(I,H,j)?1:-1:S.pointAboveOrOnLine(k,H,j)?1:-1}function w(F){return o.findTransition(function(N){var k=d(F,N.ev);return k>0})}function A(F,N){var k=F.seg,I=N.seg,H=k.start,j=k.end,ee=I.start,te=I.end;b&&b.checkIntersection(k,I);var ne=S.linesIntersect(H,j,ee,te);if(ne===!1){if(!S.pointsCollinear(H,j,ee)||S.pointsSame(H,te)||S.pointsSame(j,ee))return!1;var ue=S.pointsSame(H,ee),q=S.pointsSame(j,te);if(ue&&q)return N;var Y=!ue&&S.pointBetween(H,ee,te),Z=!q&&S.pointBetween(j,ee,te);if(ue)return Z?m(N,j):m(F,te),N;Y&&(q||(Z?m(N,j):m(F,te)),m(N,H))}else ne.alongA===0&&(ne.alongB===-1?m(F,ee):ne.alongB===0?m(F,ne.pt):ne.alongB===1&&m(F,te)),ne.alongB===0&&(ne.alongA===-1?m(N,H):ne.alongA===0?m(N,ne.pt):ne.alongA===1&&m(N,j));return!1}for(var C=[];!r.isEmpty();){var x=r.getHead();if(b&&b.vert(x.pt[0]),x.isStart){let F=function(){if(M){var N=A(x,M);if(N)return N}return f?A(x,f):!1};b&&b.segmentNew(x.seg,x.primary);var E=w(x),M=E.before?E.before.ev:null,f=E.after?E.after.ev:null;b&&b.tempStatus(x.seg,M?M.seg:!1,f?f.seg:!1);var P=F();if(P){if(i){var T;x.seg.myFill.below===null?T=!0:T=x.seg.myFill.above!==x.seg.myFill.below,T&&(P.seg.myFill.above=!P.seg.myFill.above)}else P.seg.otherFill=x.seg.myFill;b&&b.segmentUpdate(P.seg),x.other.remove(),x.remove()}if(r.getHead()!==x){b&&b.rewind(x.seg);continue}if(i){var T;x.seg.myFill.below===null?T=!0:T=x.seg.myFill.above!==x.seg.myFill.below,f?x.seg.myFill.below=f.seg.myFill.above:x.seg.myFill.below=g,T?x.seg.myFill.above=!x.seg.myFill.below:x.seg.myFill.above=x.seg.myFill.below}else if(x.seg.otherFill===null){var z;f?x.primary===f.primary?z=f.seg.otherFill.above:z=f.seg.myFill.above:z=x.primary?c:g,x.seg.otherFill={above:z,below:z}}b&&b.status(x.seg,M?M.seg:!1,f?f.seg:!1),x.other.status=E.insert(y.node({ev:x}))}else{var _=x.status;if(_===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(o.exists(_.prev)&&o.exists(_.next)&&A(_.prev.ev,_.next.ev),b&&b.statusRemove(_.ev.seg),_.remove(),!x.primary){var V=x.seg.myFill;x.seg.myFill=x.seg.otherFill,x.seg.otherFill=V}C.push(x.seg)}r.getHead().remove()}return b&&b.done(),C}return i?{addRegion:function(g){for(var c,o=g[g.length-1],d=0;d<g.length;d++){c=o,o=g[d];var w=S.pointsCompare(c,o);w!==0&&s(v(w<0?c:o,w<0?o:c),!0)}},calculate:function(g){return h(g,!1)}}:{calculate:function(g,c,o,d){return g.forEach(function(w){s(p(w.start,w.end,w),!0)}),o.forEach(function(w){s(p(w.start,w.end,w),!1)}),h(c,d)}}}U.exports=L},48088:function(U){var B={create:function(){var e={root:{root:!0,next:null},exists:function(y){return!(y===null||y===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(y,L){for(var i=e.root,S=e.root.next;S!==null;){if(L(S)){y.prev=S.prev,y.next=S,S.prev.next=y,S.prev=y;return}i=S,S=S.next}i.next=y,y.prev=i,y.next=null},findTransition:function(y){for(var L=e.root,i=e.root.next;i!==null&&!y(i);)L=i,i=i.next;return{before:L===e.root?null:L,after:i,insert:function(S){return S.prev=L,S.next=i,L.next=S,i!==null&&(i.prev=S),S}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};U.exports=B},11403:function(U){function B(e,y,L){var i=[],S=[];return e.forEach(function(b){var v=b.start,p=b.end;if(y.pointsSame(v,p)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}L&&L.chainStart(b);var r={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},a=r;function n(P,T,z){return a.index=P,a.matches_head=T,a.matches_pt1=z,a===r?(a=t,!1):(a=null,!0)}for(var u=0;u<i.length;u++){var s=i[u],l=s[0];s[1];var m=s[s.length-1];if(s[s.length-2],y.pointsSame(l,v)){if(n(u,!0,!0))break}else if(y.pointsSame(l,p)){if(n(u,!0,!1))break}else if(y.pointsSame(m,v)){if(n(u,!1,!0))break}else if(y.pointsSame(m,p)&&n(u,!1,!1))break}if(a===r){i.push([v,p]),L&&L.chainNew(v,p);return}if(a===t){L&&L.chainMatch(r.index);var h=r.index,g=r.matches_pt1?p:v,c=r.matches_head,s=i[h],o=c?s[0]:s[s.length-1],d=c?s[1]:s[s.length-2],w=c?s[s.length-1]:s[0],A=c?s[s.length-2]:s[1];if(y.pointsCollinear(d,o,g)&&(c?(L&&L.chainRemoveHead(r.index,g),s.shift()):(L&&L.chainRemoveTail(r.index,g),s.pop()),o=d),y.pointsSame(w,g)){i.splice(h,1),y.pointsCollinear(A,w,o)&&(c?(L&&L.chainRemoveTail(r.index,o),s.pop()):(L&&L.chainRemoveHead(r.index,o),s.shift())),L&&L.chainClose(r.index),S.push(s);return}c?(L&&L.chainAddHead(r.index,g),s.unshift(g)):(L&&L.chainAddTail(r.index,g),s.push(g));return}function C(P){L&&L.chainReverse(P),i[P].reverse()}function x(P,T){var z=i[P],_=i[T],V=z[z.length-1],F=z[z.length-2],N=_[0],k=_[1];y.pointsCollinear(F,V,N)&&(L&&L.chainRemoveTail(P,V),z.pop(),V=F),y.pointsCollinear(V,N,k)&&(L&&L.chainRemoveHead(T,N),_.shift()),L&&L.chainJoin(P,T),i[P]=z.concat(_),i.splice(T,1)}var E=r.index,M=t.index;L&&L.chainConnect(E,M);var f=i[E].length<i[M].length;r.matches_head?t.matches_head?f?(C(E),x(E,M)):(C(M),x(M,E)):x(M,E):t.matches_head?x(E,M):f?(C(E),x(M,E)):(C(M),x(E,M))}),S}U.exports=B},82368:function(U){function B(y,L,i){var S=[];return y.forEach(function(b){var v=(b.myFill.above?8:0)+(b.myFill.below?4:0)+(b.otherFill&&b.otherFill.above?2:0)+(b.otherFill&&b.otherFill.below?1:0);L[v]!==0&&S.push({id:i?i.segmentId():-1,start:b.start,end:b.end,myFill:{above:L[v]===1,below:L[v]===2},otherFill:null})}),i&&i.selected(S),S}var e={union:function(y,L){return B(y,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],L)},intersect:function(y,L){return B(y,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],L)},difference:function(y,L){return B(y,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],L)},differenceRev:function(y,L){return B(y,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],L)},xor:function(y,L){return B(y,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],L)}};U.exports=e},9696:function(U,B,e){var y=e(29936).Transform,L=e(55619);function i(){y.call(this,{readableObjectMode:!0})}i.prototype=Object.create(y.prototype),i.prototype.constructor=i,L(i.prototype),B.gS=function(b,v,p){for(var r=v,t=0;t<p.length;)if(b[r++]!==p[t++])return!1;return!0},B.wR=function(b,v){var p=[],r=0;if(v&&v==="hex")for(;r<b.length;)p.push(parseInt(b.slice(r,r+2),16)),r+=2;else for(;r<b.length;r++)p.push(b.charCodeAt(r)&255);return p},B.Bz=function(b,v){return b[v]|b[v+1]<<8},B.eW=function(b,v){return b[v+1]|b[v]<<8},B.st=function(b,v){return b[v]|b[v+1]<<8|b[v+2]<<16|b[v+3]*16777216},B.eI=function(b,v){return b[v+3]|b[v+2]<<8|b[v+1]<<16|b[v]*16777216};function S(b,v,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=b,v&&(this.code=v),p&&(this.statusCode=p)}S.prototype=Object.create(Error.prototype),S.prototype.constructor=S},11688:function(U){function B(L,i){var S=new Error(L);return S.code=i,S}function e(L){try{return decodeURIComponent(escape(L))}catch{return L}}function y(L,i,S){this.input=L.subarray(i,S),this.start=i;var b=String.fromCharCode.apply(null,this.input.subarray(0,4));if(b!=="II*\0"&&b!=="MM\0*")throw B("invalid TIFF signature","EBADDATA");this.big_endian=b[0]==="M"}y.prototype.each=function(L){this.aborted=!1;var i=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:i}];this.ifds_to_read.length>0&&!this.aborted;){var S=this.ifds_to_read.shift();S.offset&&this.scan_ifd(S.id,S.offset,L)}},y.prototype.read_uint16=function(L){var i=this.input;if(L+2>i.length)throw B("unexpected EOF","EBADDATA");return this.big_endian?i[L]*256+i[L+1]:i[L]+i[L+1]*256},y.prototype.read_uint32=function(L){var i=this.input;if(L+4>i.length)throw B("unexpected EOF","EBADDATA");return this.big_endian?i[L]*16777216+i[L+1]*65536+i[L+2]*256+i[L+3]:i[L]+i[L+1]*256+i[L+2]*65536+i[L+3]*16777216},y.prototype.is_subifd_link=function(L,i){return L===0&&i===34665||L===0&&i===34853||L===34665&&i===40965},y.prototype.exif_format_length=function(L){switch(L){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},y.prototype.exif_format_read=function(L,i){var S;switch(L){case 1:case 2:return S=this.input[i],S;case 6:return S=this.input[i],S|(S&128)*33554430;case 3:return S=this.read_uint16(i),S;case 8:return S=this.read_uint16(i),S|(S&32768)*131070;case 4:return S=this.read_uint32(i),S;case 9:return S=this.read_uint32(i),S|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},y.prototype.scan_ifd=function(L,i,S){var b=this.read_uint16(i);i+=2;for(var v=0;v<b;v++){var p=this.read_uint16(i),r=this.read_uint16(i+2),t=this.read_uint32(i+4),a=this.exif_format_length(r),n=t*a,u=n<=4?i+8:this.read_uint32(i+8),s=!1;if(u+n>this.input.length)throw B("unexpected EOF","EBADDATA");for(var l=[],m=u,h=0;h<t;h++,m+=a){var g=this.exif_format_read(r,m);if(g===null){l=null;break}l.push(g)}Array.isArray(l)&&r===2&&(l=e(String.fromCharCode.apply(null,l)),l&&l[l.length-1]==="\0"&&(l=l.slice(0,-1))),this.is_subifd_link(L,p)&&Array.isArray(l)&&Number.isInteger(l[0])&&l[0]>0&&(this.ifds_to_read.push({id:p,offset:l[0]}),s=!0);var c={is_big_endian:this.big_endian,ifd:L,tag:p,format:r,count:t,entry_offset:i+this.start,data_length:n,data_offset:u+this.start,value:l,is_subifd_link:s};if(S(c)===!1){this.aborted=!0;return}i+=12}L===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(i)})},U.exports.ExifParser=y,U.exports.get_orientation=function(L){var i=0;try{return new y(L,0,L.length).each(function(S){if(S.ifd===0&&S.tag===274&&Array.isArray(S.value))return i=S.value[0],!1}),i}catch{return-1}}},44600:function(U,B,e){var y=e(9696).eW,L=e(9696).eI;function i(n,u){if(n.length<4+u)return null;var s=L(n,u);return n.length<s+u||s<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(u+4,u+8)),data:n.slice(u+8,u+s),end:u+s}}U.exports.unbox=i;function S(n,u){for(var s=0;;){var l=i(n,s);if(!l)break;switch(l.boxtype){case"ispe":u.sizes.push({width:L(l.data,4),height:L(l.data,8)});break;case"irot":u.transforms.push({type:"irot",value:l.data[0]&3});break;case"imir":u.transforms.push({type:"imir",value:l.data[0]&1});break}s=l.end}}function b(n,u,s){for(var l=0,m=0;m<s;m++)l=l*256+(n[u+m]||0);return l}function v(n,u){for(var s=n[4]>>4&15,l=n[4]&15,m=n[5]>>4&15,h=y(n,6),g=8,c=0;c<h;c++){var o=y(n,g);g+=2;var d=y(n,g);g+=2;var w=b(n,g,m);g+=m;var A=y(n,g);if(g+=2,d===0&&A===1){var C=b(n,g,s),x=b(n,g+s,l);u.item_loc[o]={length:x,offset:C+w}}g+=A*(s+l)}}function p(n,u){for(var s=y(n,4),l=6,m=0;m<s;m++){var h=i(n,l);if(!h)break;if(h.boxtype==="infe"){for(var g=y(h.data,4),c="",o=8;o<h.data.length&&h.data[o];o++)c+=String.fromCharCode(h.data[o]);u.item_inf[c]=g}l=h.end}}function r(n,u){for(var s=0;;){var l=i(n,s);if(!l)break;l.boxtype==="ipco"&&S(l.data,u),s=l.end}}function t(n,u){for(var s=4;;){var l=i(n,s);if(!l)break;l.boxtype==="iprp"&&r(l.data,u),l.boxtype==="iloc"&&v(l.data,u),l.boxtype==="iinf"&&p(l.data,u),s=l.end}}function a(n){var u=n.reduce(function(m,h){return m.width>h.width||m.width===h.width&&m.height>h.height?m:h}),s=n.reduce(function(m,h){return m.height>h.height||m.height===h.height&&m.width>h.width?m:h}),l;return u.width>s.height||u.width===s.height&&u.height>s.width?l=u:l=s,l}U.exports.readSizeFromMeta=function(n){var u={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(t(n,u),!!u.sizes.length){var s=a(u.sizes),l=1;u.transforms.forEach(function(h){var g={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},c={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(h.type==="imir"&&(h.value===0?l=c[l]:(l=c[l],l=g[l],l=g[l])),h.type==="irot")for(var o=0;o<h.value;o++)l=g[l]});var m=null;return u.item_inf.Exif&&(m=u.item_loc[u.item_inf.Exif]),{width:s.width,height:s.height,orientation:u.transforms.length?l:null,variants:u.sizes,exif_location:m}}},U.exports.getMimeType=function(n){var u=String.fromCharCode.apply(null,n.slice(0,4)),s={};s[u]=!0;for(var l=8;l<n.length;l+=4)s[String.fromCharCode.apply(null,n.slice(l,l+4))]=!0;if(!(!s.mif1&&!s.msf1&&!s.miaf))return u==="avif"||u==="avis"||u==="avio"?{type:"avif",mime:"image/avif"}:u==="heic"||u==="heix"?{type:"heic",mime:"image/heic"}:u==="hevc"||u==="hevx"?{type:"heic",mime:"image/heic-sequence"}:s.avif||s.avis?{type:"avif",mime:"image/avif"}:s.heic||s.heix||s.hevc||s.hevx||s.heis?s.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(U,B,e){var y=e(9696).wR,L=e(9696).gS,i=e(9696).eI,S=e(44600),b=e(11688),v=y("ftyp");U.exports=function(p){if(L(p,4,v)){var r=S.unbox(p,0);if(r){var t=S.getMimeType(r.data);if(t){for(var a,n=r.end;;){var u=S.unbox(p,n);if(!u)break;if(n=u.end,u.boxtype==="mdat")return;if(u.boxtype==="meta"){a=u.data;break}}if(a){var s=S.readSizeFromMeta(a);if(s){var l={width:s.width,height:s.height,type:t.type,mime:t.mime,wUnits:"px",hUnits:"px"};if(s.variants.length>1&&(l.variants=s.variants),s.orientation&&(l.orientation=s.orientation),s.exif_location&&s.exif_location.offset+s.exif_location.length<=p.length){var m=i(p,s.exif_location.offset),h=p.slice(s.exif_location.offset+m+4,s.exif_location.offset+s.exif_location.length),g=b.get_orientation(h);g>0&&(l.orientation=g)}return l}}}}}}},38728:function(U,B,e){var y=e(9696).wR,L=e(9696).gS,i=e(9696).Bz,S=y("BM");U.exports=function(b){if(!(b.length<26)&&L(b,0,S))return{width:i(b,18),height:i(b,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(U,B,e){var y=e(9696).wR,L=e(9696).gS,i=e(9696).Bz,S=y("GIF87a"),b=y("GIF89a");U.exports=function(v){if(!(v.length<10)&&!(!L(v,0,S)&&!L(v,0,b)))return{width:i(v,6),height:i(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(U,B,e){var y=e(9696).Bz,L=0,i=1,S=16;U.exports=function(b){var v=y(b,0),p=y(b,2),r=y(b,4);if(!(v!==L||p!==i||!r)){for(var t=[],a={width:0,height:0},n=0;n<r;n++){var u=b[6+S*n]||256,s=b[6+S*n+1]||256,l={width:u,height:s};t.push(l),(u>a.width||s>a.height)&&(a=l)}return{width:a.width,height:a.height,variants:t,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(U,B,e){var y=e(9696).eW,L=e(9696).wR,i=e(9696).gS,S=e(11688),b=L("Exif\0\0");U.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var p=2;;){for(;;){if(v.length-p<2)return;if(v[p++]===255)break}for(var r=v[p++],t;r===255;)r=v[p++];if(208<=r&&r<=217||r===1)t=0;else if(192<=r&&r<=254){if(v.length-p<2)return;t=y(v,p)-2,p+=2}else return;if(r===217||r===218)return;var a;if(r===225&&t>=10&&i(v,p,b)&&(a=S.get_orientation(v.slice(p+6,p+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(v.length-p<t)return;var n={width:y(v,p+3),height:y(v,p+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return a>0&&(n.orientation=a),n}p+=t}}},37276:function(U,B,e){var y=e(9696).wR,L=e(9696).gS,i=e(9696).eI,S=y(`PNG\r

`),b=y("IHDR");U.exports=function(v){if(!(v.length<24)&&L(v,0,S)&&L(v,12,b))return{width:i(v,16),height:i(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(U,B,e){var y=e(9696).wR,L=e(9696).gS,i=e(9696).eI,S=y("8BPS\0");U.exports=function(b){if(!(b.length<22)&&L(b,0,S))return{width:i(b,18),height:i(b,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(U){function B(a){return a===32||a===9||a===13||a===10}function e(a){return typeof a=="number"&&isFinite(a)&&a>0}function y(a){var n=0,u=a.length;for(a[0]===239&&a[1]===187&&a[2]===191&&(n=3);n<u&&B(a[n]);)n++;return n===u?!1:a[n]===60}var L=/<[-_.:a-zA-Z0-9][^>]*>/,i=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,S=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,b=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,p=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(a){var n=a.match(S),u=a.match(b),s=a.match(v);return{width:n&&(n[1]||n[2]),height:u&&(u[1]||u[2]),viewbox:s&&(s[1]||s[2])}}function t(a){return p.test(a)?a.match(p)[0]:"px"}U.exports=function(a){if(y(a)){for(var n="",u=0;u<a.length;u++)n+=String.fromCharCode(a[u]);var s=(n.match(L)||[""])[0];if(i.test(s)){var l=r(s),m=parseFloat(l.width),h=parseFloat(l.height);if(l.width&&l.height)return!e(m)||!e(h)?void 0:{width:m,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.height)};var g=(l.viewbox||"").split(" "),c={width:g[2],height:g[3]},o=parseFloat(c.width),d=parseFloat(c.height);if(!(!e(o)||!e(d))&&t(c.width)===t(c.height)){var w=o/d;return l.width?e(m)?{width:m,height:m/w,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.width)}:void 0:l.height?e(h)?{width:h*w,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(l.height),hUnits:t(l.height)}:void 0:{width:o,height:d,type:"svg",mime:"image/svg+xml",wUnits:t(c.width),hUnits:t(c.height)}}}}}},98792:function(U,B,e){var y=e(9696).wR,L=e(9696).gS,i=e(9696).Bz,S=e(9696).eW,b=e(9696).st,v=e(9696).eI,p=y("II*\0"),r=y("MM\0*");function t(u,s,l){return l?S(u,s):i(u,s)}function a(u,s,l){return l?v(u,s):b(u,s)}function n(u,s,l){var m=t(u,s+2,l),h=a(u,s+4,l);return h!==1||m!==3&&m!==4?null:m===3?t(u,s+8,l):a(u,s+8,l)}U.exports=function(u){if(!(u.length<8)&&!(!L(u,0,p)&&!L(u,0,r))){var s=u[0]===77,l=a(u,4,s)-8;if(!(l<0)){var m=l+8;if(!(u.length-m<2)){var h=t(u,m+0,s)*12;if(!(h<=0)&&(m+=2,!(u.length-m<h))){var g,c,o,d;for(g=0;g<h;g+=12)d=t(u,m+g,s),d===256?c=n(u,m+g,s):d===257&&(o=n(u,m+g,s));if(c&&o)return{width:c,height:o,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},20704:function(U,B,e){var y=e(9696).wR,L=e(9696).gS,i=e(9696).Bz,S=e(9696).st,b=e(11688),v=y("RIFF"),p=y("WEBP");function r(n,u){if(!(n[u+3]!==157||n[u+4]!==1||n[u+5]!==42))return{width:i(n,u+6)&16383,height:i(n,u+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function t(n,u){if(n[u]===47){var s=S(n,u+1);return{width:(s&16383)+1,height:(s>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function a(n,u){return{width:(n[u+6]<<16|n[u+5]<<8|n[u+4])+1,height:(n[u+9]<<u|n[u+8]<<8|n[u+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}U.exports=function(n){if(!(n.length<16)&&!(!L(n,0,v)&&!L(n,8,p))){var u=12,s=null,l=0,m=S(n,4)+8;if(!(m>n.length)){for(;u+8<m;){if(n[u]===0){u++;continue}var h=String.fromCharCode.apply(null,n.slice(u,u+4)),g=S(n,u+4);h==="VP8 "&&g>=10?s=s||r(n,u+8):h==="VP8L"&&g>=9?s=s||t(n,u+8):h==="VP8X"&&g>=10?s=s||a(n,u+8):h==="EXIF"&&(l=b.get_orientation(n.slice(u+8,u+8+g)),u=1/0),u+=8+g}if(s)return l>0&&(s.orientation=l),s}}}},87480:function(U,B,e){U.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(U,B,e){var y=e(87480);function L(i){for(var S=Object.keys(y),b=0;b<S.length;b++){var v=y[S[b]](i);if(v)return v}return null}U.exports=function(S){return L(S)},U.exports.parsers=y},4168:function(U){var B=U.exports={},e,y;function L(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=L}catch{e=L}try{typeof clearTimeout=="function"?y=clearTimeout:y=i}catch{y=i}})();function S(l){if(e===setTimeout)return setTimeout(l,0);if((e===L||!e)&&setTimeout)return e=setTimeout,setTimeout(l,0);try{return e(l,0)}catch{try{return e.call(null,l,0)}catch{return e.call(this,l,0)}}}function b(l){if(y===clearTimeout)return clearTimeout(l);if((y===i||!y)&&clearTimeout)return y=clearTimeout,clearTimeout(l);try{return y(l)}catch{try{return y.call(null,l)}catch{return y.call(this,l)}}}var v=[],p=!1,r,t=-1;function a(){!p||!r||(p=!1,r.length?v=r.concat(v):t=-1,v.length&&n())}function n(){if(!p){var l=S(a);p=!0;for(var m=v.length;m;){for(r=v,v=[];++t<m;)r&&r[t].run();t=-1,m=v.length}r=null,p=!1,b(l)}}B.nextTick=function(l){var m=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)m[h-1]=arguments[h];v.push(new u(l,m)),v.length===1&&!p&&S(n)};function u(l,m){this.fun=l,this.array=m}u.prototype.run=function(){this.fun.apply(null,this.array)},B.title="browser",B.browser=!0,B.env={},B.argv=[],B.version="",B.versions={};function s(){}B.on=s,B.addListener=s,B.once=s,B.off=s,B.removeListener=s,B.removeAllListeners=s,B.emit=s,B.prependListener=s,B.prependOnceListener=s,B.listeners=function(l){return[]},B.binding=function(l){throw new Error("process.binding is not supported")},B.cwd=function(){return"/"},B.chdir=function(l){throw new Error("process.chdir is not supported")},B.umask=function(){return 0}},3951:function(U,B,e){for(var y=e(41984),L=typeof window>"u"?e.g:window,i=["moz","webkit"],S="AnimationFrame",b=L["request"+S],v=L["cancel"+S]||L["cancelRequest"+S],p=0;!b&&p<i.length;p++)b=L[i[p]+"Request"+S],v=L[i[p]+"Cancel"+S]||L[i[p]+"CancelRequest"+S];if(!b||!v){var r=0,t=0,a=[],n=1e3/60;b=function(u){if(a.length===0){var s=y(),l=Math.max(0,n-(s-r));r=l+s,setTimeout(function(){var m=a.slice(0);a.length=0;for(var h=0;h<m.length;h++)if(!m[h].cancelled)try{m[h].callback(r)}catch(g){setTimeout(function(){throw g},0)}},Math.round(l))}return a.push({handle:++t,callback:u,cancelled:!1}),t},v=function(u){for(var s=0;s<a.length;s++)a[s].handle===u&&(a[s].cancelled=!0)}}U.exports=function(u){return b.call(L,u)},U.exports.cancel=function(){v.apply(L,arguments)},U.exports.polyfill=function(u){u||(u=L),u.requestAnimationFrame=b,u.cancelAnimationFrame=v}},24544:function(U,B,e){var y=e(76752),L=e(72160),i=e(45223),S=e(55616),b=e(50896),v=e(47520),p=e(37816),r=p.float32,t=p.fract32;U.exports=n;var a=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(u,s){if(typeof u=="function"?(s||(s={}),s.regl=u):s=u,s.length&&(s.positions=s),u=s.regl,!u.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var l=u._gl,m,h,g,c,o,d,w={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},A=[];return c=u.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),h=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),g=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),o=u.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=u.buffer({usage:"static",type:"float",data:a}),M(s),m=u({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:u.prop("range"),lineWidth:u.prop("lineWidth"),capSize:u.prop("capSize"),opacity:u.prop("opacity"),scale:u.prop("scale"),translate:u.prop("translate"),scaleFract:u.prop("scaleFract"),translateFract:u.prop("translateFract"),viewport:function(P,T){return[T.viewport.x,T.viewport.y,P.viewportWidth,P.viewportHeight]}},attributes:{color:{buffer:c,offset:function(P,T){return T.offset*4},divisor:1},position:{buffer:h,offset:function(P,T){return T.offset*8},divisor:1},positionFract:{buffer:g,offset:function(P,T){return T.offset*8},divisor:1},error:{buffer:o,offset:function(P,T){return T.offset*16},divisor:1},direction:{buffer:d,stride:24,offset:0},lineOffset:{buffer:d,stride:24,offset:8},capOffset:{buffer:d,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:u.prop("viewport")},viewport:u.prop("viewport"),stencil:!1,instances:u.prop("count"),count:a.length}),b(C,{update:M,draw:x,destroy:f,regl:u,gl:l,canvas:l.canvas,groups:A}),C;function C(P){P?M(P):P===null&&f(),x()}function x(P){if(typeof P=="number")return E(P);P&&!Array.isArray(P)&&(P=[P]),u._refresh(),A.forEach(function(T,z){if(T){if(P&&(P[z]?T.draw=!0:T.draw=!1),!T.draw){T.draw=!0;return}E(z)}})}function E(P){typeof P=="number"&&(P=A[P]),P!=null&&P&&P.count&&P.color&&P.opacity&&P.positions&&P.positions.length>1&&(P.scaleRatio=[P.scale[0]*P.viewport.width,P.scale[1]*P.viewport.height],m(P),P.after&&P.after(P))}function M(P){if(P){P.length!=null?typeof P[0]=="number"&&(P=[{positions:P}]):Array.isArray(P)||(P=[P]);var T=0,z=0;if(C.groups=A=P.map(function(H,j){var ee=A[j];if(H)typeof H=="function"?H={after:H}:typeof H[0]=="number"&&(H={positions:H});else return ee;return H=S(H,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),ee||(A[j]=ee={id:j,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},H=b({},w,H)),i(ee,H,[{lineWidth:function(te){return+te*.5},capSize:function(te){return+te*.5},opacity:parseFloat,errors:function(te){return te=v(te),z+=te.length,te},positions:function(te,ne){return te=v(te,"float64"),ne.count=Math.floor(te.length/2),ne.bounds=y(te,2),ne.offset=T,T+=ne.count,te}},{color:function(te,ne){var ue=ne.count;if(te||(te="transparent"),!Array.isArray(te)||typeof te[0]=="number"){var q=te;te=Array(ue);for(var Y=0;Y<ue;Y++)te[Y]=q}if(te.length<ue)throw Error("Not enough colors");for(var Z=new Uint8Array(ue*4),G=0;G<ue;G++){var K=L(te[G],"uint8");Z.set(K,G*4)}return Z},range:function(te,ne,ue){var q=ne.bounds;return te||(te=q),ne.scale=[1/(te[2]-te[0]),1/(te[3]-te[1])],ne.translate=[-te[0],-te[1]],ne.scaleFract=t(ne.scale),ne.translateFract=t(ne.translate),te},viewport:function(te){var ne;return Array.isArray(te)?ne={x:te[0],y:te[1],width:te[2]-te[0],height:te[3]-te[1]}:te?(ne={x:te.x||te.left||0,y:te.y||te.top||0},te.right?ne.width=te.right-ne.x:ne.width=te.w||te.width||0,te.bottom?ne.height=te.bottom-ne.y:ne.height=te.h||te.height||0):ne={x:0,y:0,width:l.drawingBufferWidth,height:l.drawingBufferHeight},ne}}]),ee}),T||z){var _=A.reduce(function(H,j,ee){return H+(j?j.count:0)},0),V=new Float64Array(_*2),F=new Uint8Array(_*4),N=new Float32Array(_*4);A.forEach(function(H,j){if(H){var ee=H.positions,te=H.count,ne=H.offset,ue=H.color,q=H.errors;te&&(F.set(ue,ne*4),N.set(q,ne*4),V.set(ee,ne*2))}});var k=r(V);h(k);var I=t(V,k);g(I),c(F),o(N)}}}function f(){h.destroy(),g.destroy(),c.destroy(),o.destroy(),d.destroy()}}},13472:function(U,B,e){var y=e(72160),L=e(76752),i=e(50896),S=e(55616),b=e(47520),v=e(28912),p=e(71152),r=e(37816),t=r.float32,a=r.fract32,n=e(60463),u=e(51160),s=e(10272),l=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,m=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,h=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,g=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,c=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,o=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;U.exports=d;function d(w,A){if(!(this instanceof d))return new d(w,A);if(typeof w=="function"?(A||(A={}),A.regl=w):A=w,A.length&&(A.positions=A),w=A.regl,!w.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=w._gl,this.regl=w,this.passes=[],this.shaders=d.shaders.has(w)?d.shaders.get(w):d.shaders.set(w,d.createShaders(w)).get(w),this.update(A)}d.dashMult=2,d.maxPatternLength=256,d.precisionThreshold=3e6,d.maxPoints=1e4,d.maxLines=2048,d.shaders=new n,d.createShaders=function(w){var A=w.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),C={primitive:"triangle strip",instances:w.prop("count"),count:4,offset:0,uniforms:{miterMode:function(f,P){return P.join==="round"?2:1},miterLimit:w.prop("miterLimit"),scale:w.prop("scale"),scaleFract:w.prop("scaleFract"),translateFract:w.prop("translateFract"),translate:w.prop("translate"),thickness:w.prop("thickness"),dashTexture:w.prop("dashTexture"),opacity:w.prop("opacity"),pixelRatio:w.context("pixelRatio"),id:w.prop("id"),dashLength:w.prop("dashLength"),viewport:function(f,P){return[P.viewport.x,P.viewport.y,f.viewportWidth,f.viewportHeight]},depth:w.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(f,P){return!P.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:w.prop("viewport")},viewport:w.prop("viewport")},x=w(i({vert:l,frag:m,attributes:{lineEnd:{buffer:A,divisor:0,stride:8,offset:0},lineTop:{buffer:A,divisor:0,stride:8,offset:4},aCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:w.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:w.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:w.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},C)),E;try{E=w(i({cull:{enable:!0,face:"back"},vert:c,frag:o,attributes:{lineEnd:{buffer:A,divisor:0,stride:8,offset:0},lineTop:{buffer:A,divisor:0,stride:8,offset:4},aColor:{buffer:w.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:w.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:w.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},C))}catch{E=x}var M=w({primitive:"triangle",elements:function(f,P){return P.triangles},offset:0,vert:h,frag:g,uniforms:{scale:w.prop("scale"),color:w.prop("fill"),scaleFract:w.prop("scaleFract"),translateFract:w.prop("translateFract"),translate:w.prop("translate"),opacity:w.prop("opacity"),pixelRatio:w.context("pixelRatio"),id:w.prop("id"),viewport:function(f,P){return[P.viewport.x,P.viewport.y,f.viewportWidth,f.viewportHeight]}},attributes:{position:{buffer:w.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:w.prop("positionFractBuffer"),stride:8,offset:8}},blend:C.blend,depth:{enable:!1},scissor:C.scissor,stencil:C.stencil,viewport:C.viewport});return{fill:M,rect:x,miter:E}},d.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},d.prototype.render=function(){for(var w,A=[],C=arguments.length;C--;)A[C]=arguments[C];A.length&&(w=this).update.apply(w,A),this.draw()},d.prototype.draw=function(){for(var w=this,A=[],C=arguments.length;C--;)A[C]=arguments[C];return(A.length?A:this.passes).forEach(function(x,E){var M;if(x&&Array.isArray(x))return(M=w).draw.apply(M,x);typeof x=="number"&&(x=w.passes[x]),x&&x.count>1&&x.opacity&&(w.regl._refresh(),x.fill&&x.triangles&&x.triangles.length>2&&w.shaders.fill(x),x.thickness&&(x.scale[0]*x.viewport.width>d.precisionThreshold||x.scale[1]*x.viewport.height>d.precisionThreshold||x.join==="rect"||!x.join&&(x.thickness<=2||x.count>=d.maxPoints)?w.shaders.rect(x):w.shaders.miter(x)))}),this},d.prototype.update=function(w){var A=this;if(w){w.length!=null?typeof w[0]=="number"&&(w=[{positions:w}]):Array.isArray(w)||(w=[w]);var C=this,x=C.regl,E=C.gl;if(w.forEach(function(z,_){var V=A.passes[_];if(z!==void 0){if(z===null){A.passes[_]=null;return}if(typeof z[0]=="number"&&(z={positions:z}),z=S(z,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),V||(A.passes[_]=V={id:_,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:x.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:x.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:x.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:x.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},z=i({},d.defaults,z)),z.thickness!=null&&(V.thickness=parseFloat(z.thickness)),z.opacity!=null&&(V.opacity=parseFloat(z.opacity)),z.miterLimit!=null&&(V.miterLimit=parseFloat(z.miterLimit)),z.overlay!=null&&(V.overlay=!!z.overlay,_<d.maxLines&&(V.depth=2*(d.maxLines-1-_%d.maxLines)/d.maxLines-1)),z.join!=null&&(V.join=z.join),z.hole!=null&&(V.hole=z.hole),z.fill!=null&&(V.fill=z.fill?y(z.fill,"uint8"):null),z.viewport!=null&&(V.viewport=u(z.viewport)),V.viewport||(V.viewport=u([E.drawingBufferWidth,E.drawingBufferHeight])),z.close!=null&&(V.close=z.close),z.positions===null&&(z.positions=[]),z.positions){var F,N;if(z.positions.x&&z.positions.y){var k=z.positions.x,I=z.positions.y;N=V.count=Math.max(k.length,I.length),F=new Float64Array(N*2);for(var H=0;H<N;H++)F[H*2]=k[H],F[H*2+1]=I[H]}else F=b(z.positions,"float64"),N=V.count=Math.floor(F.length/2);var j=V.bounds=L(F,2);if(V.fill){for(var ee=[],te={},ne=0,ue=0,q=0,Y=V.count;ue<Y;ue++){var Z=F[ue*2],G=F[ue*2+1];isNaN(Z)||isNaN(G)||Z==null||G==null?(Z=F[ne*2],G=F[ne*2+1],te[ue]=ne):ne=ue,ee[q++]=Z,ee[q++]=G}if(z.splitNull){V.count-1 in te||(te[V.count]=V.count-1);var K=Object.keys(te).map(Number).sort(function(Me,Ne){return Me-Ne}),oe=[],$=0,J=V.hole!=null?V.hole[0]:null;if(J!=null){var se=s(K,function(Me){return Me>=J});K=K.slice(0,se),K.push(J)}for(var ie=function(Me){var Ne=ee.slice($*2,K[Me]*2).concat(J?ee.slice(J*2):[]),je=(V.hole||[]).map(function(ct){return ct-J+(K[Me]-$)}),tt=v(Ne,je);tt=tt.map(function(ct){return ct+$+(ct+$<K[Me]?0:J-K[Me])}),oe.push.apply(oe,tt),$=K[Me]+1},ce=0;ce<K.length;ce++)ie(ce);for(var ye=0,Se=oe.length;ye<Se;ye++)te[oe[ye]]!=null&&(oe[ye]=te[oe[ye]]);V.triangles=oe}else{for(var Te=v(ee,V.hole||[]),ke=0,we=Te.length;ke<we;ke++)te[Te[ke]]!=null&&(Te[ke]=te[Te[ke]]);V.triangles=Te}}var Ee=new Float64Array(F);p(Ee,2,j);var xe=new Float64Array(N*2+6);V.close?F[0]===F[N*2-2]&&F[1]===F[N*2-1]?(xe[0]=Ee[N*2-4],xe[1]=Ee[N*2-3]):(xe[0]=Ee[N*2-2],xe[1]=Ee[N*2-1]):(xe[0]=Ee[0],xe[1]=Ee[1]),xe.set(Ee,2),V.close?F[0]===F[N*2-2]&&F[1]===F[N*2-1]?(xe[N*2+2]=Ee[2],xe[N*2+3]=Ee[3],V.count-=1):(xe[N*2+2]=Ee[0],xe[N*2+3]=Ee[1],xe[N*2+4]=Ee[2],xe[N*2+5]=Ee[3]):(xe[N*2+2]=Ee[N*2-2],xe[N*2+3]=Ee[N*2-1],xe[N*2+4]=Ee[N*2-2],xe[N*2+5]=Ee[N*2-1]);var De=t(xe);V.positionBuffer(De);var Ve=a(xe,De);V.positionFractBuffer(Ve)}if(z.range?V.range=z.range:V.range||(V.range=V.bounds),(z.range||z.positions)&&V.count){var Ue=V.bounds,Be=Ue[2]-Ue[0],Xe=Ue[3]-Ue[1],ot=V.range[2]-V.range[0],ut=V.range[3]-V.range[1];V.scale=[Be/ot,Xe/ut],V.translate=[-V.range[0]/ot+Ue[0]/ot||0,-V.range[1]/ut+Ue[1]/ut||0],V.scaleFract=a(V.scale),V.translateFract=a(V.translate)}if(z.dashes){var et=0,qe;if(!z.dashes||z.dashes.length<2)et=1,qe=new Uint8Array([255,255,255,255,255,255,255,255]);else{et=0;for(var ft=0;ft<z.dashes.length;++ft)et+=z.dashes[ft];qe=new Uint8Array(et*d.dashMult);for(var ht=0,dt=255,mt=0;mt<2;mt++)for(var St=0;St<z.dashes.length;++St){for(var rt=0,Oe=z.dashes[St]*d.dashMult*.5;rt<Oe;++rt)qe[ht++]=dt;dt^=255}}V.dashLength=et,V.dashTexture({channels:1,data:qe,width:qe.length,height:1,mag:"linear",min:"linear"},0,0)}if(z.color){var Ye=V.count,Ze=z.color;Ze||(Ze="transparent");var Ge=new Uint8Array(Ye*4+4);if(!Array.isArray(Ze)||typeof Ze[0]=="number")for(var _e=y(Ze,"uint8"),be=0;be<Ye+1;be++)Ge.set(_e,be*4);else{for(var me=0;me<Ye;me++){var Ce=y(Ze[me],"uint8");Ge.set(Ce,me*4)}Ge.set(y(Ze[0],"uint8"),Ye*4)}V.colorBuffer({usage:"dynamic",type:"uint8",data:Ge})}}}),w.length<this.passes.length){for(var M=w.length;M<this.passes.length;M++){var f=this.passes[M];f&&(f.colorBuffer.destroy(),f.positionBuffer.destroy(),f.dashTexture.destroy())}this.passes.length=w.length}for(var P=[],T=0;T<this.passes.length;T++)this.passes[T]!==null&&P.push(this.passes[T]);return this.passes=P,this}},d.prototype.destroy=function(){return this.passes.forEach(function(w){w.colorBuffer.destroy(),w.positionBuffer.destroy(),w.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(U,B,e){function y(f,P){var T=f==null?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(T!=null){var z,_,V,F,N=[],k=!0,I=!1;try{if(V=(T=T.call(f)).next,P===0){if(Object(T)!==T)return;k=!1}else for(;!(k=(z=V.call(T)).done)&&(N.push(z.value),N.length!==P);k=!0);}catch(H){I=!0,_=H}finally{try{if(!k&&T.return!=null&&(F=T.return(),Object(F)!==F))return}finally{if(I)throw _}}return N}}function L(f,P){return b(f)||y(f,P)||p(f,P)||a()}function i(f){return S(f)||v(f)||p(f)||t()}function S(f){if(Array.isArray(f))return r(f)}function b(f){if(Array.isArray(f))return f}function v(f){if(typeof Symbol<"u"&&f[Symbol.iterator]!=null||f["@@iterator"]!=null)return Array.from(f)}function p(f,P){if(f){if(typeof f=="string")return r(f,P);var T=Object.prototype.toString.call(f).slice(8,-1);if(T==="Object"&&f.constructor&&(T=f.constructor.name),T==="Map"||T==="Set")return Array.from(f);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return r(f,P)}}function r(f,P){(P==null||P>f.length)&&(P=f.length);for(var T=0,z=new Array(P);T<P;T++)z[T]=f[T];return z}function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=e(72160),u=e(76752),s=e(3808),l=e(3108),m=e(50896),h=e(26444),g=e(55616),c=e(45223),o=e(47520),d=e(96604),w=e(37816),A=e(51160),C=x;function x(f,P){var T=this;if(!(this instanceof x))return new x(f,P);typeof f=="function"?(P||(P={}),P.regl=f):(P=f,f=null),P&&P.length&&(P.positions=P),f=P.regl;var z=f._gl,_,V=[],F={},N=[],k=[null],I=[null],H=255,j=100;this.tooManyColors=d,_=f.texture({data:new Uint8Array(H*4),width:H,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),m(this,{regl:f,gl:z,groups:N,markerCache:I,markerTextures:k,palette:V,paletteIds:F,paletteTexture:_,maxColors:H,maxSize:j,canvas:z.canvas}),this.update(P);var ee={uniforms:{constPointSize:!!P.constPointSize,opacity:f.prop("opacity"),paletteSize:function(q,Y){return[T.tooManyColors?0:H,_.height]},pixelRatio:f.context("pixelRatio"),scale:f.prop("scale"),scaleFract:f.prop("scaleFract"),translate:f.prop("translate"),translateFract:f.prop("translateFract"),markerTexture:f.prop("markerTexture"),paletteTexture:_},attributes:{x:function(q,Y){return Y.xAttr||{buffer:Y.positionBuffer,stride:8,offset:0}},y:function(q,Y){return Y.yAttr||{buffer:Y.positionBuffer,stride:8,offset:4}},xFract:function(q,Y){return Y.xAttr?{constant:[0,0]}:{buffer:Y.positionFractBuffer,stride:8,offset:0}},yFract:function(q,Y){return Y.yAttr?{constant:[0,0]}:{buffer:Y.positionFractBuffer,stride:8,offset:4}},size:function(q,Y){return Y.size.length?{buffer:Y.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(Y.size*255/T.maxSize)]}},borderSize:function(q,Y){return Y.borderSize.length?{buffer:Y.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(Y.borderSize*255/T.maxSize)]}},colorId:function(q,Y){return Y.color.length?{buffer:Y.colorBuffer,stride:T.tooManyColors?8:4,offset:0}:{constant:T.tooManyColors?V.slice(Y.color*4,Y.color*4+4):[Y.color]}},borderColorId:function(q,Y){return Y.borderColor.length?{buffer:Y.colorBuffer,stride:T.tooManyColors?8:4,offset:T.tooManyColors?4:2}:{constant:T.tooManyColors?V.slice(Y.borderColor*4,Y.borderColor*4+4):[Y.borderColor]}},isActive:function(q,Y){return Y.activation===!0?{constant:[1]}:Y.activation?Y.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:f.prop("viewport")},viewport:f.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:f.prop("elements"),count:f.prop("count"),offset:f.prop("offset"),primitive:"points"},te=m({},ee);te.frag=h([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),te.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=f(te);var ne=m({},ee);ne.frag=h([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),ne.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),d&&(ne.frag=ne.frag.replace("smoothstep","smoothStep"),te.frag=te.frag.replace("smoothstep","smoothStep")),this.drawCircle=f(ne)}x.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},x.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},x.prototype.draw=function(){for(var f=this,P=arguments.length,T=new Array(P),z=0;z<P;z++)T[z]=arguments[z];var _=this.groups;if(T.length===1&&Array.isArray(T[0])&&(T[0][0]===null||Array.isArray(T[0][0]))&&(T=T[0]),this.regl._refresh(),T.length)for(var V=0;V<T.length;V++)this.drawItem(V,T[V]);else _.forEach(function(F,N){f.drawItem(N)});return this},x.prototype.drawItem=function(f,P){var T=this.groups,z=T[f];if(typeof P=="number"&&(f=P,z=T[P],P=null),!!(z&&z.count&&z.opacity)){z.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,z,P));for(var _=[],V=1;V<z.activation.length;V++)!z.activation[V]||z.activation[V]!==!0&&!z.activation[V].data.length||_.push.apply(_,i(this.getMarkerDrawOptions(V,z,P)));_.length&&this.drawMarker(_)}},x.prototype.getMarkerDrawOptions=function(f,P,T){var z=P.range,_=P.tree,V=P.viewport,F=P.activation,N=P.selectionBuffer,k=P.count;if(this.regl,!_)return T?[m({},P,{markerTexture:this.markerTextures[f],activation:F[f],count:T.length,elements:T,offset:0})]:[m({},P,{markerTexture:this.markerTextures[f],activation:F[f],offset:0})];var I=[],H=_.range(z,{lod:!0,px:[(z[2]-z[0])/V.width,(z[3]-z[1])/V.height]});if(T){for(var j=F[f],ee=j.data,te=new Uint8Array(k),ne=0;ne<T.length;ne++){var ue=T[ne];te[ue]=ee?ee[ue]:1}N.subdata(te)}for(var q=H.length;q--;){var Y=L(H[q],2),Z=Y[0],G=Y[1];I.push(m({},P,{markerTexture:this.markerTextures[f],activation:T?N:F[f],offset:Z,count:G-Z}))}return I},x.prototype.update=function(){for(var f=this,P=arguments.length,T=new Array(P),z=0;z<P;z++)T[z]=arguments[z];if(T.length){T.length===1&&Array.isArray(T[0])&&(T=T[0]);var _=this.groups,V=this.gl,F=this.regl,N=this.maxSize,k=this.maxColors,I=this.palette;this.groups=_=T.map(function(H,j){var ee=_[j];if(H===void 0)return ee;H===null?H={positions:null}:typeof H=="function"?H={ondraw:H}:typeof H[0]=="number"&&(H={positions:H}),H=g(H,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),H.positions===null&&(H.positions=[]),H.tooManyColors!=null&&(f.tooManyColors=H.tooManyColors),ee||(_[j]=ee={id:j,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:F.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},H=m({},x.defaults,H)),H.positions&&!("marker"in H)&&(H.marker=ee.marker,delete ee.marker),H.marker&&!("positions"in H)&&(H.positions=ee.positions,delete ee.positions);var te=0,ne=0;if(c(ee,H,[{snap:!0,size:function(xe,De){return xe==null&&(xe=x.defaults.size),te+=xe&&xe.length?1:0,xe},borderSize:function(xe,De){return xe==null&&(xe=x.defaults.borderSize),te+=xe&&xe.length?1:0,xe},opacity:parseFloat,color:function(xe,De){return xe==null&&(xe=x.defaults.color),xe=f.updateColor(xe),ne++,xe},borderColor:function(xe,De){return xe==null&&(xe=x.defaults.borderColor),xe=f.updateColor(xe),ne++,xe},bounds:function(xe,De,Ve){return"range"in Ve||(Ve.range=null),xe},positions:function(xe,De,Ve){var Ue=De.snap,Be=De.positionBuffer,Xe=De.positionFractBuffer,ot=De.selectionBuffer;if(xe.x||xe.y)return xe.x.length?De.xAttr={buffer:F.buffer(xe.x),offset:0,stride:4,count:xe.x.length}:De.xAttr={buffer:xe.x.buffer,offset:xe.x.offset*4||0,stride:(xe.x.stride||1)*4,count:xe.x.count},xe.y.length?De.yAttr={buffer:F.buffer(xe.y),offset:0,stride:4,count:xe.y.length}:De.yAttr={buffer:xe.y.buffer,offset:xe.y.offset*4||0,stride:(xe.y.stride||1)*4,count:xe.y.count},De.count=Math.max(De.xAttr.count,De.yAttr.count),xe;xe=o(xe,"float64");var ut=De.count=Math.floor(xe.length/2),et=De.bounds=ut?u(xe,2):null;if(!Ve.range&&!De.range&&(delete De.range,Ve.range=et),!Ve.marker&&!De.marker&&(delete De.marker,Ve.marker=null),Ue&&(Ue===!0||ut>Ue)?De.tree=l(xe,{bounds:et}):Ue&&Ue.length&&(De.tree=Ue),De.tree){var qe={primitive:"points",usage:"static",data:De.tree,type:"uint32"};De.elements?De.elements(qe):De.elements=F.elements(qe)}var ft=w.float32(xe);Be({data:ft,usage:"dynamic"});var ht=w.fract32(xe,ft);return Xe({data:ht,usage:"dynamic"}),ot({data:new Uint8Array(ut),type:"uint8",usage:"stream"}),xe}},{marker:function(xe,De,Ve){var Ue=De.activation;if(Ue.forEach(function(ht){return ht&&ht.destroy&&ht.destroy()}),Ue.length=0,!xe||typeof xe[0]=="number"){var Be=f.addMarker(xe);Ue[Be]=!0}else{for(var Xe=[],ot=0,ut=Math.min(xe.length,De.count);ot<ut;ot++){var et=f.addMarker(xe[ot]);Xe[et]||(Xe[et]=new Uint8Array(De.count)),Xe[et][ot]=1}for(var qe=0;qe<Xe.length;qe++)if(Xe[qe]){var ft={data:Xe[qe],type:"uint8",usage:"static"};Ue[qe]?Ue[qe](ft):Ue[qe]=F.buffer(ft),Ue[qe].data=Xe[qe]}}return xe},range:function(xe,De,Ve){var Ue=De.bounds;if(Ue)return xe||(xe=Ue),De.scale=[1/(xe[2]-xe[0]),1/(xe[3]-xe[1])],De.translate=[-xe[0],-xe[1]],De.scaleFract=w.fract(De.scale),De.translateFract=w.fract(De.translate),xe},viewport:function(xe){var De=A(xe||[V.drawingBufferWidth,V.drawingBufferHeight]);return De}}]),te){var ue=ee,q=ue.count,Y=ue.size,Z=ue.borderSize,G=ue.sizeBuffer,K=new Uint8Array(q*2);if(Y.length||Z.length)for(var oe=0;oe<q;oe++)K[oe*2]=Math.round((Y[oe]==null?Y:Y[oe])*255/N),K[oe*2+1]=Math.round((Z[oe]==null?Z:Z[oe])*255/N);G({data:K,usage:"dynamic"})}if(ne){var $=ee,J=$.count,se=$.color,ie=$.borderColor,ce=$.colorBuffer,ye;if(f.tooManyColors){if(se.length||ie.length){ye=new Uint8Array(J*8);for(var Se=0;Se<J;Se++){var Te=se[Se];ye[Se*8]=I[Te*4],ye[Se*8+1]=I[Te*4+1],ye[Se*8+2]=I[Te*4+2],ye[Se*8+3]=I[Te*4+3];var ke=ie[Se];ye[Se*8+4]=I[ke*4],ye[Se*8+5]=I[ke*4+1],ye[Se*8+6]=I[ke*4+2],ye[Se*8+7]=I[ke*4+3]}}}else if(se.length||ie.length){ye=new Uint8Array(J*4+2);for(var we=0;we<J;we++)se[we]!=null&&(ye[we*4]=se[we]%k,ye[we*4+1]=Math.floor(se[we]/k)),ie[we]!=null&&(ye[we*4+2]=ie[we]%k,ye[we*4+3]=Math.floor(ie[we]/k))}ce({data:ye||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return ee})}},x.prototype.addMarker=function(f){var P=this.markerTextures,T=this.regl,z=this.markerCache,_=f==null?0:z.indexOf(f);if(_>=0)return _;var V;if(f instanceof Uint8Array||f instanceof Uint8ClampedArray)V=f;else{V=new Uint8Array(f.length);for(var F=0,N=f.length;F<N;F++)V[F]=f[F]*255}var k=Math.floor(Math.sqrt(V.length));return _=P.length,z.push(f),P.push(T.texture({channels:1,data:V,radius:k,mag:"linear",min:"linear"})),_},x.prototype.updateColor=function(f){var P=this.paletteIds,T=this.palette,z=this.maxColors;Array.isArray(f)||(f=[f]);var _=[];if(typeof f[0]=="number"){var V=[];if(Array.isArray(f))for(var F=0;F<f.length;F+=4)V.push(f.slice(F,F+4));else for(var N=0;N<f.length;N+=4)V.push(f.subarray(N,N+4));f=V}for(var k=0;k<f.length;k++){var I=f[k];I=n(I,"uint8");var H=s(I,!1);if(P[H]==null){var j=T.length;P[H]=Math.floor(j/4),T[j]=I[0],T[j+1]=I[1],T[j+2]=I[2],T[j+3]=I[3]}_[k]=P[H]}return!this.tooManyColors&&T.length>z*4&&(this.tooManyColors=!0),this.updatePalette(T),_.length===1?_[0]:_},x.prototype.updatePalette=function(f){if(!this.tooManyColors){var P=this.maxColors,T=this.paletteTexture,z=Math.ceil(f.length*.25/P);if(z>1){f=f.slice();for(var _=f.length*.25%P;_<z*P;_++)f.push(0,0,0,0)}T.height<z&&T.resize(P,z),T.subimage({width:Math.min(f.length*.25,P),height:z,data:f},0,0)}},x.prototype.destroy=function(){return this.groups.forEach(function(f){f.sizeBuffer.destroy(),f.positionBuffer.destroy(),f.positionFractBuffer.destroy(),f.colorBuffer.destroy(),f.activation.forEach(function(P){return P&&P.destroy&&P.destroy()}),f.selectionBuffer.destroy(),f.elements&&f.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(f){return f&&f.destroy&&f.destroy()}),this};var E=e(50896),M=function(P,T){var z=new C(P,T),_=z.render.bind(z);return E(_,{render:_,update:z.update.bind(z),draw:z.draw.bind(z),destroy:z.destroy.bind(z),regl:z.regl,gl:z.gl,canvas:z.gl.canvas,groups:z.groups,markers:z.markerCache,palette:z.palette}),_};U.exports=M},55795:function(U,B,e){var y=e(38540),L=e(55616),i=e(76752),S=e(3951),b=e(67752),v=e(51160),p=e(47520);U.exports=r;function r(u,s){if(!(this instanceof r))return new r(u);this.traces=[],this.passes={},this.regl=u,this.scatter=y(u),this.canvas=this.scatter.canvas}r.prototype.render=function(){for(var u=this,s,l=[],m=arguments.length;m--;)l[m]=arguments[m];return l.length&&(s=this).update.apply(s,l),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=S(function(){u.draw(),u.dirty=!0,u.planned=null})):(this.draw(),this.dirty=!0,S(function(){u.dirty=!1})),this)},r.prototype.update=function(){for(var u,s=[],l=arguments.length;l--;)s[l]=arguments[l];if(s.length){for(var m=0;m<s.length;m++)this.updateItem(m,s[m]);this.traces=this.traces.filter(Boolean);for(var h=[],g=0,c=0;c<this.traces.length;c++){for(var o=this.traces[c],d=this.traces[c].passes,w=0;w<d.length;w++)h.push(this.passes[d[w]]);o.passOffset=g,g+=o.passes.length}return(u=this.scatter).update.apply(u,h),this}},r.prototype.updateItem=function(u,s){var l=this,m=l.regl;if(s===null)return this.traces[u]=null,this;if(!s)return this;var h=L(s,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),g=this.traces[u]||(this.traces[u]={id:u,buffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([m._gl.drawingBufferWidth,m._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(h.color!=null&&(g.color=h.color),h.size!=null&&(g.size=h.size),h.marker!=null&&(g.marker=h.marker),h.borderColor!=null&&(g.borderColor=h.borderColor),h.borderSize!=null&&(g.borderSize=h.borderSize),h.opacity!=null&&(g.opacity=h.opacity),h.viewport&&(g.viewport=v(h.viewport)),h.diagonal!=null&&(g.diagonal=h.diagonal),h.upper!=null&&(g.upper=h.upper),h.lower!=null&&(g.lower=h.lower),h.data){g.buffer(p(h.data)),g.columns=h.data.length,g.count=h.data[0].length,g.bounds=[];for(var c=0;c<g.columns;c++)g.bounds[c]=i(h.data[c],1)}var o;h.range&&(g.range=h.range,o=g.range&&typeof g.range[0]!="number"),h.domain&&(g.domain=h.domain);var d=!1;h.padding!=null&&(Array.isArray(h.padding)&&h.padding.length===g.columns&&typeof h.padding[h.padding.length-1]=="number"?(g.padding=h.padding.map(n),d=!0):g.padding=n(h.padding));var w=g.columns,A=g.count,C=g.viewport.width,x=g.viewport.height,E=g.viewport.x,M=g.viewport.y,f=C/w,P=x/w;g.passes=[];for(var T=0;T<w;T++)for(var z=0;z<w;z++)if(!(!g.diagonal&&z===T)&&!(!g.upper&&T>z)&&!(!g.lower&&T<z)){var _=t(g.id,T,z),V=this.passes[_]||(this.passes[_]={});if(h.data&&(h.transpose?V.positions={x:{buffer:g.buffer,offset:z,count:A,stride:w},y:{buffer:g.buffer,offset:T,count:A,stride:w}}:V.positions={x:{buffer:g.buffer,offset:z*A,count:A},y:{buffer:g.buffer,offset:T*A,count:A}},V.bounds=a(g.bounds,T,z)),h.domain||h.viewport||h.data){var F=d?a(g.padding,T,z):g.padding;if(g.domain){var N=a(g.domain,T,z),k=N[0],I=N[1],H=N[2],j=N[3];V.viewport=[E+k*C+F[0],M+I*x+F[1],E+H*C-F[2],M+j*x-F[3]]}else V.viewport=[E+z*f+f*F[0],M+T*P+P*F[1],E+(z+1)*f-f*F[2],M+(T+1)*P-P*F[3]]}h.color&&(V.color=g.color),h.size&&(V.size=g.size),h.marker&&(V.marker=g.marker),h.borderSize&&(V.borderSize=g.borderSize),h.borderColor&&(V.borderColor=g.borderColor),h.opacity&&(V.opacity=g.opacity),h.range&&(V.range=o?a(g.range,T,z):g.range||V.bounds),g.passes.push(_)}return this},r.prototype.draw=function(){for(var u,s=[],l=arguments.length;l--;)s[l]=arguments[l];if(!s.length)this.scatter.draw();else{for(var m=[],h=0;h<s.length;h++)if(typeof s[h]=="number"){var g=this.traces[s[h]],c=g.passes,o=g.passOffset;m.push.apply(m,b(o,o+c.length))}else if(s[h].length){var d=s[h],w=this.traces[h],A=w.passes,C=w.passOffset;A=A.map(function(x,E){m[C+E]=d})}(u=this.scatter).draw.apply(u,m)}return this},r.prototype.destroy=function(){return this.traces.forEach(function(u){u.buffer&&u.buffer.destroy&&u.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function t(u,s,l){var m=u.id!=null?u.id:u,h=s,g=l,c=m<<16|(h&255)<<8|g&255;return c}function a(u,s,l){var m,h,g,c,o=u[s],d=u[l];return o.length>2?(o[0],o[2],m=o[1],h=o[3]):o.length?(m=o[0],h=o[1]):(o.x,m=o.y,o.x+o.width,h=o.y+o.height),d.length>2?(g=d[0],c=d[2],d[1],d[3]):d.length?(g=d[0],c=d[1]):(g=d.x,d.y,c=d.x+d.width,d.y+d.height),[g,m,c,h]}function n(u){if(typeof u=="number")return[u,u,u,u];if(u.length===2)return[u[0],u[1],u[0],u[1]];var s=v(u);return[s.x,s.y,s.x+s.width,s.y+s.height]}},28624:function(U){(function(B,e){U.exports=e()})(this,function(){function B(xt,jt){this.id=ce++,this.type=xt,this.data=jt}function e(xt){if(xt.length===0)return[];var jt=xt.charAt(0),Jt=xt.charAt(xt.length-1);if(1<xt.length&&jt===Jt&&(jt==='"'||jt==="'"))return['"'+xt.substr(1,xt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(jt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(xt))return e(xt.substr(0,jt.index)).concat(e(jt[1])).concat(e(xt.substr(jt.index+jt[0].length)));if(jt=xt.split("."),jt.length===1)return['"'+xt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(xt=[],Jt=0;Jt<jt.length;++Jt)xt=xt.concat(e(jt[Jt]));return xt}function y(xt){return"["+e(xt).join("][")+"]"}function L(xt,jt){if(typeof xt=="function")return new B(0,xt);if(typeof xt=="number"||typeof xt=="boolean")return new B(5,xt);if(Array.isArray(xt))return new B(6,xt.map(function(Jt,gr){return L(Jt)}));if(xt instanceof B)return xt}function i(){var xt={"":0},jt=[""];return{id:function(Jt){var gr=xt[Jt];return gr||(gr=xt[Jt]=jt.length,jt.push(Jt),gr)},str:function(Jt){return jt[Jt]}}}function S(xt,jt,Jt){function gr(){var at=window.innerWidth,wt=window.innerHeight;xt!==document.body&&(wt=or.getBoundingClientRect(),at=wt.right-wt.left,wt=wt.bottom-wt.top),or.width=Jt*at,or.height=Jt*wt}var or=document.createElement("canvas");ie(or.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),xt.appendChild(or),xt===document.body&&(or.style.position="absolute",ie(xt.style,{margin:0,padding:0}));var yt;return xt!==document.body&&typeof ResizeObserver=="function"?(yt=new ResizeObserver(function(){setTimeout(gr)}),yt.observe(xt)):window.addEventListener("resize",gr,!1),gr(),{canvas:or,onDestroy:function(){yt?yt.disconnect():window.removeEventListener("resize",gr),xt.removeChild(or)}}}function b(xt,jt){function Jt(gr){try{return xt.getContext(gr,jt)}catch{return null}}return Jt("webgl")||Jt("experimental-webgl")||Jt("webgl-experimental")}function v(xt){return typeof xt=="string"?xt.split():xt}function p(xt){return typeof xt=="string"?document.querySelector(xt):xt}function r(xt){var jt=xt||{},Jt,gr,or,yt;xt={};var at=[],wt=[],Et=typeof window>"u"?1:window.devicePixelRatio,Rt=!1,Dt={},Ut=function(Kt){},Nt=function(){};if(typeof jt=="string"?Jt=document.querySelector(jt):typeof jt=="object"&&(typeof jt.nodeName=="string"&&typeof jt.appendChild=="function"&&typeof jt.getBoundingClientRect=="function"?Jt=jt:typeof jt.drawArrays=="function"||typeof jt.drawElements=="function"?(yt=jt,or=yt.canvas):("gl"in jt?yt=jt.gl:"canvas"in jt?or=p(jt.canvas):"container"in jt&&(gr=p(jt.container)),"attributes"in jt&&(xt=jt.attributes),"extensions"in jt&&(at=v(jt.extensions)),"optionalExtensions"in jt&&(wt=v(jt.optionalExtensions)),"onDone"in jt&&(Ut=jt.onDone),"profile"in jt&&(Rt=!!jt.profile),"pixelRatio"in jt&&(Et=+jt.pixelRatio),"cachedCode"in jt&&(Dt=jt.cachedCode))),Jt&&(Jt.nodeName.toLowerCase()==="canvas"?or=Jt:gr=Jt),!yt){if(!or){if(Jt=S(gr||document.body,Ut,Et),!Jt)return null;or=Jt.canvas,Nt=Jt.onDestroy}xt.premultipliedAlpha===void 0&&(xt.premultipliedAlpha=!0),yt=b(or,xt)}return yt?{gl:yt,canvas:or,container:gr,extensions:at,optionalExtensions:wt,pixelRatio:Et,profile:Rt,cachedCode:Dt,onDone:Ut,onDestroy:Nt}:(Nt(),Ut("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function t(xt,jt){function Jt(at){at=at.toLowerCase();var wt;try{wt=gr[at]=xt.getExtension(at)}catch{}return!!wt}for(var gr={},or=0;or<jt.extensions.length;++or){var yt=jt.extensions[or];if(!Jt(yt))return jt.onDestroy(),jt.onDone('"'+yt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return jt.optionalExtensions.forEach(Jt),{extensions:gr,restore:function(){Object.keys(gr).forEach(function(at){if(gr[at]&&!Jt(at))throw Error("(regl): error restoring extension "+at)})}}}function a(xt,jt){for(var Jt=Array(xt),gr=0;gr<xt;++gr)Jt[gr]=jt(gr);return Jt}function n(xt){var jt,Jt;return jt=(65535<xt)<<4,xt>>>=jt,Jt=(255<xt)<<3,xt>>>=Jt,jt|=Jt,Jt=(15<xt)<<2,xt>>>=Jt,jt|=Jt,Jt=(3<xt)<<1,jt|Jt|xt>>>Jt>>1}function u(){function xt(gr){e:{for(var or=16;268435456>=or;or*=16)if(gr<=or){gr=or;break e}gr=0}return or=Jt[n(gr)>>2],0<or.length?or.pop():new ArrayBuffer(gr)}function jt(gr){Jt[n(gr.byteLength)>>2].push(gr)}var Jt=a(8,function(){return[]});return{alloc:xt,free:jt,allocType:function(gr,or){var yt=null;switch(gr){case 5120:yt=new Int8Array(xt(or),0,or);break;case 5121:yt=new Uint8Array(xt(or),0,or);break;case 5122:yt=new Int16Array(xt(2*or),0,or);break;case 5123:yt=new Uint16Array(xt(2*or),0,or);break;case 5124:yt=new Int32Array(xt(4*or),0,or);break;case 5125:yt=new Uint32Array(xt(4*or),0,or);break;case 5126:yt=new Float32Array(xt(4*or),0,or);break;default:return null}return yt.length!==or?yt.subarray(0,or):yt},freeType:function(gr){jt(gr.buffer)}}}function s(xt){return!!xt&&typeof xt=="object"&&Array.isArray(xt.shape)&&Array.isArray(xt.stride)&&typeof xt.offset=="number"&&xt.shape.length===xt.stride.length&&(Array.isArray(xt.data)||Ee(xt.data))}function l(xt,jt,Jt,gr,or,yt){for(var at=0;at<jt;++at)for(var wt=xt[at],Et=0;Et<Jt;++Et)for(var Rt=wt[Et],Dt=0;Dt<gr;++Dt)or[yt++]=Rt[Dt]}function m(xt,jt,Jt,gr,or){for(var yt=1,at=Jt+1;at<jt.length;++at)yt*=jt[at];var wt=jt[Jt];if(jt.length-Jt===4){var Et=jt[Jt+1],Rt=jt[Jt+2];for(jt=jt[Jt+3],at=0;at<wt;++at)l(xt[at],Et,Rt,jt,gr,or),or+=yt}else for(at=0;at<wt;++at)m(xt[at],jt,Jt+1,gr,or),or+=yt}function h(xt){return Ve[Object.prototype.toString.call(xt)]|0}function g(xt,jt){for(var Jt=0;Jt<jt.length;++Jt)xt[Jt]=jt[Jt]}function c(xt,jt,Jt,gr,or,yt,at){for(var wt=0,Et=0;Et<Jt;++Et)for(var Rt=0;Rt<gr;++Rt)xt[wt++]=jt[or*Et+yt*Rt+at]}function o(xt,jt,Jt,gr){function or(Ut){this.id=Et++,this.buffer=xt.createBuffer(),this.type=Ut,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Jt.profile&&(this.stats={size:0})}function yt(Ut,Nt,Kt){Ut.byteLength=Nt.byteLength,xt.bufferData(Ut.type,Nt,Kt)}function at(Ut,Nt,Kt,ur,fr,vr){if(Ut.usage=Kt,Array.isArray(Nt)){if(Ut.dtype=ur||5126,0<Nt.length)if(Array.isArray(Nt[0])){fr=ot(Nt);for(var We=ur=1;We<fr.length;++We)ur*=fr[We];Ut.dimension=ur,Nt=Xe(Nt,fr,Ut.dtype),yt(Ut,Nt,Kt),vr?Ut.persistentData=Nt:ke.freeType(Nt)}else typeof Nt[0]=="number"?(Ut.dimension=fr,fr=ke.allocType(Ut.dtype,Nt.length),g(fr,Nt),yt(Ut,fr,Kt),vr?Ut.persistentData=fr:ke.freeType(fr)):Ee(Nt[0])&&(Ut.dimension=Nt[0].length,Ut.dtype=ur||h(Nt[0])||5126,Nt=Xe(Nt,[Nt.length,Nt[0].length],Ut.dtype),yt(Ut,Nt,Kt),vr?Ut.persistentData=Nt:ke.freeType(Nt))}else if(Ee(Nt))Ut.dtype=ur||h(Nt),Ut.dimension=fr,yt(Ut,Nt,Kt),vr&&(Ut.persistentData=new Uint8Array(new Uint8Array(Nt.buffer)));else if(s(Nt)){fr=Nt.shape;var He=Nt.stride,We=Nt.offset,zt=0,kt=0,Zt=0,er=0;fr.length===1?(zt=fr[0],kt=1,Zt=He[0],er=0):fr.length===2&&(zt=fr[0],kt=fr[1],Zt=He[0],er=He[1]),Ut.dtype=ur||h(Nt.data)||5126,Ut.dimension=kt,fr=ke.allocType(Ut.dtype,zt*kt),c(fr,Nt.data,zt,kt,Zt,er,We),yt(Ut,fr,Kt),vr?Ut.persistentData=fr:ke.freeType(fr)}else Nt instanceof ArrayBuffer&&(Ut.dtype=5121,Ut.dimension=fr,yt(Ut,Nt,Kt),vr&&(Ut.persistentData=new Uint8Array(new Uint8Array(Nt))))}function wt(Ut){jt.bufferCount--,gr(Ut),xt.deleteBuffer(Ut.buffer),Ut.buffer=null,delete Rt[Ut.id]}var Et=0,Rt={};or.prototype.bind=function(){xt.bindBuffer(this.type,this.buffer)},or.prototype.destroy=function(){wt(this)};var Dt=[];return Jt.profile&&(jt.getTotalBufferSize=function(){var Ut=0;return Object.keys(Rt).forEach(function(Nt){Ut+=Rt[Nt].stats.size}),Ut}),{create:function(Ut,Nt,Kt,ur){function fr(We){var He=35044,zt=null,kt=0,Zt=0,er=1;return Array.isArray(We)||Ee(We)||s(We)||We instanceof ArrayBuffer?zt=We:typeof We=="number"?kt=We|0:We&&("data"in We&&(zt=We.data),"usage"in We&&(He=Be[We.usage]),"type"in We&&(Zt=Ue[We.type]),"dimension"in We&&(er=We.dimension|0),"length"in We&&(kt=We.length|0)),vr.bind(),zt?at(vr,zt,He,Zt,er,ur):(kt&&xt.bufferData(vr.type,kt,He),vr.dtype=Zt||5121,vr.usage=He,vr.dimension=er,vr.byteLength=kt),Jt.profile&&(vr.stats.size=vr.byteLength*ut[vr.dtype]),fr}jt.bufferCount++;var vr=new or(Nt);return Rt[vr.id]=vr,Kt||fr(Ut),fr._reglType="buffer",fr._buffer=vr,fr.subdata=function(We,He){var zt=(He||0)|0,kt;if(vr.bind(),Ee(We)||We instanceof ArrayBuffer)xt.bufferSubData(vr.type,zt,We);else if(Array.isArray(We)){if(0<We.length)if(typeof We[0]=="number"){var Zt=ke.allocType(vr.dtype,We.length);g(Zt,We),xt.bufferSubData(vr.type,zt,Zt),ke.freeType(Zt)}else(Array.isArray(We[0])||Ee(We[0]))&&(kt=ot(We),Zt=Xe(We,kt,vr.dtype),xt.bufferSubData(vr.type,zt,Zt),ke.freeType(Zt))}else if(s(We)){kt=We.shape;var er=We.stride,lr=Zt=0,rr=0,Ft=0;kt.length===1?(Zt=kt[0],lr=1,rr=er[0],Ft=0):kt.length===2&&(Zt=kt[0],lr=kt[1],rr=er[0],Ft=er[1]),kt=Array.isArray(We.data)?vr.dtype:h(We.data),kt=ke.allocType(kt,Zt*lr),c(kt,We.data,Zt,lr,rr,Ft,We.offset),xt.bufferSubData(vr.type,zt,kt),ke.freeType(kt)}return fr},Jt.profile&&(fr.stats=vr.stats),fr.destroy=function(){wt(vr)},fr},createStream:function(Ut,Nt){var Kt=Dt.pop();return Kt||(Kt=new or(Ut)),Kt.bind(),at(Kt,Nt,35040,0,1,!1),Kt},destroyStream:function(Ut){Dt.push(Ut)},clear:function(){xe(Rt).forEach(wt),Dt.forEach(wt)},getBuffer:function(Ut){return Ut&&Ut._buffer instanceof or?Ut._buffer:null},restore:function(){xe(Rt).forEach(function(Ut){Ut.buffer=xt.createBuffer(),xt.bindBuffer(Ut.type,Ut.buffer),xt.bufferData(Ut.type,Ut.persistentData||Ut.byteLength,Ut.usage)})},_initBuffer:at}}function d(xt,jt,Jt,gr){function or(Ut){this.id=Et++,wt[this.id]=this,this.buffer=Ut,this.primType=4,this.type=this.vertCount=0}function yt(Ut,Nt,Kt,ur,fr,vr,We){Ut.buffer.bind();var He;if(Nt?((He=We)||Ee(Nt)&&(!s(Nt)||Ee(Nt.data))||(He=jt.oes_element_index_uint?5125:5123),Jt._initBuffer(Ut.buffer,Nt,Kt,He,3)):(xt.bufferData(34963,vr,Kt),Ut.buffer.dtype=He||5121,Ut.buffer.usage=Kt,Ut.buffer.dimension=3,Ut.buffer.byteLength=vr),He=We,!We){switch(Ut.buffer.dtype){case 5121:case 5120:He=5121;break;case 5123:case 5122:He=5123;break;case 5125:case 5124:He=5125}Ut.buffer.dtype=He}Ut.type=He,Nt=fr,0>Nt&&(Nt=Ut.buffer.byteLength,He===5123?Nt>>=1:He===5125&&(Nt>>=2)),Ut.vertCount=Nt,Nt=ur,0>ur&&(Nt=4,ur=Ut.buffer.dimension,ur===1&&(Nt=0),ur===2&&(Nt=1),ur===3&&(Nt=4)),Ut.primType=Nt}function at(Ut){gr.elementsCount--,delete wt[Ut.id],Ut.buffer.destroy(),Ut.buffer=null}var wt={},Et=0,Rt={uint8:5121,uint16:5123};jt.oes_element_index_uint&&(Rt.uint32=5125),or.prototype.bind=function(){this.buffer.bind()};var Dt=[];return{create:function(Ut,Nt){function Kt(vr){if(vr)if(typeof vr=="number")ur(vr),fr.primType=4,fr.vertCount=vr|0,fr.type=5121;else{var We=null,He=35044,zt=-1,kt=-1,Zt=0,er=0;Array.isArray(vr)||Ee(vr)||s(vr)?We=vr:("data"in vr&&(We=vr.data),"usage"in vr&&(He=Be[vr.usage]),"primitive"in vr&&(zt=et[vr.primitive]),"count"in vr&&(kt=vr.count|0),"type"in vr&&(er=Rt[vr.type]),"length"in vr?Zt=vr.length|0:(Zt=kt,er===5123||er===5122?Zt*=2:(er===5125||er===5124)&&(Zt*=4))),yt(fr,We,He,zt,kt,Zt,er)}else ur(),fr.primType=4,fr.vertCount=0,fr.type=5121;return Kt}var ur=Jt.create(null,34963,!0),fr=new or(ur._buffer);return gr.elementsCount++,Kt(Ut),Kt._reglType="elements",Kt._elements=fr,Kt.subdata=function(vr,We){return ur.subdata(vr,We),Kt},Kt.destroy=function(){at(fr)},Kt},createStream:function(Ut){var Nt=Dt.pop();return Nt||(Nt=new or(Jt.create(null,34963,!0,!1)._buffer)),yt(Nt,Ut,35040,-1,-1,0,0),Nt},destroyStream:function(Ut){Dt.push(Ut)},getElements:function(Ut){return typeof Ut=="function"&&Ut._elements instanceof or?Ut._elements:null},clear:function(){xe(wt).forEach(at)}}}function w(xt){for(var jt=ke.allocType(5123,xt.length),Jt=0;Jt<xt.length;++Jt)if(isNaN(xt[Jt]))jt[Jt]=65535;else if(xt[Jt]===1/0)jt[Jt]=31744;else if(xt[Jt]===-1/0)jt[Jt]=64512;else{qe[0]=xt[Jt];var yt=ft[0],gr=yt>>>31<<15,or=(yt<<1>>>24)-127,yt=yt>>13&1023;jt[Jt]=-24>or?gr:-14>or?gr+(yt+1024>>-14-or):15<or?gr+31744:gr+(or+15<<10)+yt}return jt}function A(xt){return Array.isArray(xt)||Ee(xt)}function C(xt){return"[object "+xt+"]"}function x(xt){return Array.isArray(xt)&&(xt.length===0||typeof xt[0]=="number")}function E(xt){return!!(Array.isArray(xt)&&xt.length!==0&&A(xt[0]))}function M(xt){return Object.prototype.toString.call(xt)}function f(xt){if(!xt)return!1;var jt=M(xt);return 0<=_e.indexOf(jt)?!0:x(xt)||E(xt)||s(xt)}function P(xt,jt){xt.type===36193?(xt.data=w(jt),ke.freeType(jt)):xt.data=jt}function T(xt,jt,Jt,gr,or,yt){if(xt=typeof me[xt]<"u"?me[xt]:mt[xt]*be[jt],yt&&(xt*=6),or){for(gr=0;1<=Jt;)gr+=xt*Jt*Jt,Jt/=2;return gr}return xt*Jt*gr}function z(xt,jt,Jt,gr,or,yt,at){function wt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Et(br,nn){br.internalformat=nn.internalformat,br.format=nn.format,br.type=nn.type,br.compressed=nn.compressed,br.premultiplyAlpha=nn.premultiplyAlpha,br.flipY=nn.flipY,br.unpackAlignment=nn.unpackAlignment,br.colorSpace=nn.colorSpace,br.width=nn.width,br.height=nn.height,br.channels=nn.channels}function Rt(br,nn){if(typeof nn=="object"&&nn){"premultiplyAlpha"in nn&&(br.premultiplyAlpha=nn.premultiplyAlpha),"flipY"in nn&&(br.flipY=nn.flipY),"alignment"in nn&&(br.unpackAlignment=nn.alignment),"colorSpace"in nn&&(br.colorSpace=cn[nn.colorSpace]),"type"in nn&&(br.type=rn[nn.type]);var $r=br.width,dn=br.height,Vn=br.channels,wn=!1;"shape"in nn?($r=nn.shape[0],dn=nn.shape[1],nn.shape.length===3&&(Vn=nn.shape[2],wn=!0)):("radius"in nn&&($r=dn=nn.radius),"width"in nn&&($r=nn.width),"height"in nn&&(dn=nn.height),"channels"in nn&&(Vn=nn.channels,wn=!0)),br.width=$r|0,br.height=dn|0,br.channels=Vn|0,$r=!1,"format"in nn&&($r=nn.format,dn=br.internalformat=Cn[$r],br.format=En[dn],$r in rn&&!("type"in nn)&&(br.type=rn[$r]),$r in Sn&&(br.compressed=!0),$r=!0),!wn&&$r?br.channels=mt[br.format]:wn&&!$r&&br.channels!==dt[br.format]&&(br.format=br.internalformat=dt[br.channels])}}function Dt(br){xt.pixelStorei(37440,br.flipY),xt.pixelStorei(37441,br.premultiplyAlpha),xt.pixelStorei(37443,br.colorSpace),xt.pixelStorei(3317,br.unpackAlignment)}function Ut(){wt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Nt(br,nn){var $r=null;if(f(nn)?$r=nn:nn&&(Rt(br,nn),"x"in nn&&(br.xOffset=nn.x|0),"y"in nn&&(br.yOffset=nn.y|0),f(nn.data)&&($r=nn.data)),nn.copy){var dn=or.viewportWidth,Vn=or.viewportHeight;br.width=br.width||dn-br.xOffset,br.height=br.height||Vn-br.yOffset,br.needsCopy=!0}else if(!$r)br.width=br.width||1,br.height=br.height||1,br.channels=br.channels||4;else if(Ee($r))br.channels=br.channels||4,br.data=$r,"type"in nn||br.type!==5121||(br.type=Ve[Object.prototype.toString.call($r)]|0);else if(x($r)){switch(br.channels=br.channels||4,dn=$r,Vn=dn.length,br.type){case 5121:case 5123:case 5125:case 5126:Vn=ke.allocType(br.type,Vn),Vn.set(dn),br.data=Vn;break;case 36193:br.data=w(dn)}br.alignment=1,br.needsFree=!0}else if(s($r)){dn=$r.data,Array.isArray(dn)||br.type!==5121||(br.type=Ve[Object.prototype.toString.call(dn)]|0);var Vn=$r.shape,wn=$r.stride,Tn,Nn,Jn,gi;Vn.length===3?(Jn=Vn[2],gi=wn[2]):gi=Jn=1,Tn=Vn[0],Nn=Vn[1],Vn=wn[0],wn=wn[1],br.alignment=1,br.width=Tn,br.height=Nn,br.channels=Jn,br.format=br.internalformat=dt[Jn],br.needsFree=!0,Tn=gi,$r=$r.offset,Jn=br.width,gi=br.height,Nn=br.channels;for(var _i=ke.allocType(br.type===36193?5126:br.type,Jn*gi*Nn),Sr=0,zr=0;zr<gi;++zr)for(var Ar=0;Ar<Jn;++Ar)for(var Fr=0;Fr<Nn;++Fr)_i[Sr++]=dn[Vn*Ar+wn*zr+Tn*Fr+$r];P(br,_i)}else if(M($r)===St||M($r)===rt||M($r)===Oe)M($r)===St||M($r)===rt?br.element=$r:br.element=$r.canvas,br.width=br.element.width,br.height=br.element.height,br.channels=4;else if(M($r)===Ye)br.element=$r,br.width=$r.width,br.height=$r.height,br.channels=4;else if(M($r)===Ze)br.element=$r,br.width=$r.naturalWidth,br.height=$r.naturalHeight,br.channels=4;else if(M($r)===Ge)br.element=$r,br.width=$r.videoWidth,br.height=$r.videoHeight,br.channels=4;else if(E($r)){for(dn=br.width||$r[0].length,Vn=br.height||$r.length,wn=br.channels,wn=A($r[0][0])?wn||$r[0][0].length:wn||1,Tn=De.shape($r),Jn=1,gi=0;gi<Tn.length;++gi)Jn*=Tn[gi];Jn=ke.allocType(br.type===36193?5126:br.type,Jn),De.flatten($r,Tn,"",Jn),P(br,Jn),br.alignment=1,br.width=dn,br.height=Vn,br.channels=wn,br.format=br.internalformat=dt[wn],br.needsFree=!0}}function Kt(br,nn,$r,dn,Vn){var wn=br.element,Tn=br.data,Nn=br.internalformat,Jn=br.format,gi=br.type,_i=br.width,Sr=br.height;Dt(br),wn?xt.texSubImage2D(nn,Vn,$r,dn,Jn,gi,wn):br.compressed?xt.compressedTexSubImage2D(nn,Vn,$r,dn,Nn,_i,Sr,Tn):br.needsCopy?(gr(),xt.copyTexSubImage2D(nn,Vn,$r,dn,br.xOffset,br.yOffset,_i,Sr)):xt.texSubImage2D(nn,Vn,$r,dn,_i,Sr,Jn,gi,Tn)}function ur(){return On.pop()||new Ut}function fr(br){br.needsFree&&ke.freeType(br.data),Ut.call(br),On.push(br)}function vr(){wt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function We(br,nn,$r){var dn=br.images[0]=ur();br.mipmask=1,dn.width=br.width=nn,dn.height=br.height=$r,dn.channels=br.channels=4}function He(br,nn){var $r=null;if(f(nn))$r=br.images[0]=ur(),Et($r,br),Nt($r,nn),br.mipmask=1;else if(Rt(br,nn),Array.isArray(nn.mipmap))for(var dn=nn.mipmap,Vn=0;Vn<dn.length;++Vn)$r=br.images[Vn]=ur(),Et($r,br),$r.width>>=Vn,$r.height>>=Vn,Nt($r,dn[Vn]),br.mipmask|=1<<Vn;else $r=br.images[0]=ur(),Et($r,br),Nt($r,nn),br.mipmask=1;Et(br,br.images[0])}function zt(br,nn){for(var $r=br.images,dn=0;dn<$r.length&&$r[dn];++dn){var Vn=$r[dn],wn=nn,Tn=dn,Nn=Vn.element,Jn=Vn.data,gi=Vn.internalformat,_i=Vn.format,Sr=Vn.type,zr=Vn.width,Ar=Vn.height;Dt(Vn),Nn?xt.texImage2D(wn,Tn,_i,_i,Sr,Nn):Vn.compressed?xt.compressedTexImage2D(wn,Tn,gi,zr,Ar,0,Jn):Vn.needsCopy?(gr(),xt.copyTexImage2D(wn,Tn,_i,Vn.xOffset,Vn.yOffset,zr,Ar,0)):xt.texImage2D(wn,Tn,_i,zr,Ar,0,_i,Sr,Jn||null)}}function kt(){var br=ni.pop()||new vr;wt.call(br);for(var nn=br.mipmask=0;16>nn;++nn)br.images[nn]=null;return br}function Zt(br){for(var nn=br.images,$r=0;$r<nn.length;++$r)nn[$r]&&fr(nn[$r]),nn[$r]=null;ni.push(br)}function er(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function lr(br,nn){"min"in nn&&(br.minFilter=Ir[nn.min],0<=ht.indexOf(br.minFilter)&&!("faces"in nn)&&(br.genMipmaps=!0)),"mag"in nn&&(br.magFilter=Dr[nn.mag]);var $r=br.wrapS,dn=br.wrapT;if("wrap"in nn){var Vn=nn.wrap;typeof Vn=="string"?$r=dn=Gr[Vn]:Array.isArray(Vn)&&($r=Gr[Vn[0]],dn=Gr[Vn[1]])}else"wrapS"in nn&&($r=Gr[nn.wrapS]),"wrapT"in nn&&(dn=Gr[nn.wrapT]);if(br.wrapS=$r,br.wrapT=dn,"anisotropic"in nn&&(br.anisotropic=nn.anisotropic),"mipmap"in nn){switch($r=!1,typeof nn.mipmap){case"string":br.mipmapHint=hr[nn.mipmap],$r=br.genMipmaps=!0;break;case"boolean":$r=br.genMipmaps=nn.mipmap;break;case"object":br.genMipmaps=!1,$r=!0}!$r||"min"in nn||(br.minFilter=9984)}}function rr(br,nn){xt.texParameteri(nn,10241,br.minFilter),xt.texParameteri(nn,10240,br.magFilter),xt.texParameteri(nn,10242,br.wrapS),xt.texParameteri(nn,10243,br.wrapT),jt.ext_texture_filter_anisotropic&&xt.texParameteri(nn,34046,br.anisotropic),br.genMipmaps&&(xt.hint(33170,br.mipmapHint),xt.generateMipmap(nn))}function Ft(br){wt.call(this),this.mipmask=0,this.internalformat=6408,this.id=ci++,this.refCount=1,this.target=br,this.texture=xt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new er,at.profile&&(this.stats={size:0})}function cr(br){xt.activeTexture(33984),xt.bindTexture(br.target,br.texture)}function pr(){var br=ri[0];br?xt.bindTexture(br.target,br.texture):xt.bindTexture(3553,null)}function mr(br){var nn=br.texture,$r=br.unit,dn=br.target;0<=$r&&(xt.activeTexture(33984+$r),xt.bindTexture(dn,null),ri[$r]=null),xt.deleteTexture(nn),br.texture=null,br.params=null,br.pixels=null,br.refCount=0,delete di[br.id],yt.textureCount--}var hr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Gr={repeat:10497,clamp:33071,mirror:33648},Dr={nearest:9728,linear:9729},Ir=ie({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Dr),cn={none:0,browser:37444},rn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Cn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Sn={};jt.ext_srgb&&(Cn.srgb=35904,Cn.srgba=35906),jt.oes_texture_float&&(rn.float32=rn.float=5126),jt.oes_texture_half_float&&(rn.float16=rn["half float"]=36193),jt.webgl_depth_texture&&(ie(Cn,{depth:6402,"depth stencil":34041}),ie(rn,{uint16:5123,uint32:5125,"depth stencil":34042})),jt.webgl_compressed_texture_s3tc&&ie(Sn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),jt.webgl_compressed_texture_atc&&ie(Sn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),jt.webgl_compressed_texture_pvrtc&&ie(Sn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),jt.webgl_compressed_texture_etc1&&(Sn["rgb etc1"]=36196);var Tr=Array.prototype.slice.call(xt.getParameter(34467));Object.keys(Sn).forEach(function(br){var nn=Sn[br];0<=Tr.indexOf(nn)&&(Cn[br]=nn)});var Lr=Object.keys(Cn);Jt.textureFormats=Lr;var Wr=[];Object.keys(Cn).forEach(function(br){Wr[Cn[br]]=br});var Ur=[];Object.keys(rn).forEach(function(br){Ur[rn[br]]=br});var an=[];Object.keys(Dr).forEach(function(br){an[Dr[br]]=br});var pn=[];Object.keys(Ir).forEach(function(br){pn[Ir[br]]=br});var gn=[];Object.keys(Gr).forEach(function(br){gn[Gr[br]]=br});var En=Lr.reduce(function(br,nn){var $r=Cn[nn];return $r===6409||$r===6406||$r===6409||$r===6410||$r===6402||$r===34041||jt.ext_srgb&&($r===35904||$r===35906)?br[$r]=$r:$r===32855||0<=nn.indexOf("rgba")?br[$r]=6408:br[$r]=6407,br},{}),On=[],ni=[],ci=0,di={},li=Jt.maxTextureUnits,ri=Array(li).map(function(){return null});return ie(Ft.prototype,{bind:function(){this.bindCount+=1;var br=this.unit;if(0>br){for(var nn=0;nn<li;++nn){var $r=ri[nn];if($r){if(0<$r.bindCount)continue;$r.unit=-1}ri[nn]=this,br=nn;break}at.profile&&yt.maxTextureUnits<br+1&&(yt.maxTextureUnits=br+1),this.unit=br,xt.activeTexture(33984+br),xt.bindTexture(this.target,this.texture)}return br},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&mr(this)}}),at.profile&&(yt.getTotalTextureSize=function(){var br=0;return Object.keys(di).forEach(function(nn){br+=di[nn].stats.size}),br}),{create2D:function(br,nn){function $r(Vn,wn){var Tn=dn.texInfo;er.call(Tn);var Nn=kt();return typeof Vn=="number"?typeof wn=="number"?We(Nn,Vn|0,wn|0):We(Nn,Vn|0,Vn|0):Vn?(lr(Tn,Vn),He(Nn,Vn)):We(Nn,1,1),Tn.genMipmaps&&(Nn.mipmask=(Nn.width<<1)-1),dn.mipmask=Nn.mipmask,Et(dn,Nn),dn.internalformat=Nn.internalformat,$r.width=Nn.width,$r.height=Nn.height,cr(dn),zt(Nn,3553),rr(Tn,3553),pr(),Zt(Nn),at.profile&&(dn.stats.size=T(dn.internalformat,dn.type,Nn.width,Nn.height,Tn.genMipmaps,!1)),$r.format=Wr[dn.internalformat],$r.type=Ur[dn.type],$r.mag=an[Tn.magFilter],$r.min=pn[Tn.minFilter],$r.wrapS=gn[Tn.wrapS],$r.wrapT=gn[Tn.wrapT],$r}var dn=new Ft(3553);return di[dn.id]=dn,yt.textureCount++,$r(br,nn),$r.subimage=function(Vn,wn,Tn,Nn){wn|=0,Tn|=0,Nn|=0;var Jn=ur();return Et(Jn,dn),Jn.width=0,Jn.height=0,Nt(Jn,Vn),Jn.width=Jn.width||(dn.width>>Nn)-wn,Jn.height=Jn.height||(dn.height>>Nn)-Tn,cr(dn),Kt(Jn,3553,wn,Tn,Nn),pr(),fr(Jn),$r},$r.resize=function(Vn,wn){var Tn=Vn|0,Nn=wn|0||Tn;if(Tn===dn.width&&Nn===dn.height)return $r;$r.width=dn.width=Tn,$r.height=dn.height=Nn,cr(dn);for(var Jn=0;dn.mipmask>>Jn;++Jn){var gi=Tn>>Jn,_i=Nn>>Jn;if(!gi||!_i)break;xt.texImage2D(3553,Jn,dn.format,gi,_i,0,dn.format,dn.type,null)}return pr(),at.profile&&(dn.stats.size=T(dn.internalformat,dn.type,Tn,Nn,!1,!1)),$r},$r._reglType="texture2d",$r._texture=dn,at.profile&&($r.stats=dn.stats),$r.destroy=function(){dn.decRef()},$r},createCube:function(br,nn,$r,dn,Vn,wn){function Tn(gi,_i,Sr,zr,Ar,Fr){var xn,In=Nn.texInfo;for(er.call(In),xn=0;6>xn;++xn)Jn[xn]=kt();if(typeof gi=="number"||!gi)for(gi=gi|0||1,xn=0;6>xn;++xn)We(Jn[xn],gi,gi);else if(typeof gi=="object")if(_i)He(Jn[0],gi),He(Jn[1],_i),He(Jn[2],Sr),He(Jn[3],zr),He(Jn[4],Ar),He(Jn[5],Fr);else if(lr(In,gi),Rt(Nn,gi),"faces"in gi)for(gi=gi.faces,xn=0;6>xn;++xn)Et(Jn[xn],Nn),He(Jn[xn],gi[xn]);else for(xn=0;6>xn;++xn)He(Jn[xn],gi);for(Et(Nn,Jn[0]),Nn.mipmask=In.genMipmaps?(Jn[0].width<<1)-1:Jn[0].mipmask,Nn.internalformat=Jn[0].internalformat,Tn.width=Jn[0].width,Tn.height=Jn[0].height,cr(Nn),xn=0;6>xn;++xn)zt(Jn[xn],34069+xn);for(rr(In,34067),pr(),at.profile&&(Nn.stats.size=T(Nn.internalformat,Nn.type,Tn.width,Tn.height,In.genMipmaps,!0)),Tn.format=Wr[Nn.internalformat],Tn.type=Ur[Nn.type],Tn.mag=an[In.magFilter],Tn.min=pn[In.minFilter],Tn.wrapS=gn[In.wrapS],Tn.wrapT=gn[In.wrapT],xn=0;6>xn;++xn)Zt(Jn[xn]);return Tn}var Nn=new Ft(34067);di[Nn.id]=Nn,yt.cubeCount++;var Jn=Array(6);return Tn(br,nn,$r,dn,Vn,wn),Tn.subimage=function(gi,_i,Sr,zr,Ar){Sr|=0,zr|=0,Ar|=0;var Fr=ur();return Et(Fr,Nn),Fr.width=0,Fr.height=0,Nt(Fr,_i),Fr.width=Fr.width||(Nn.width>>Ar)-Sr,Fr.height=Fr.height||(Nn.height>>Ar)-zr,cr(Nn),Kt(Fr,34069+gi,Sr,zr,Ar),pr(),fr(Fr),Tn},Tn.resize=function(gi){if(gi|=0,gi!==Nn.width){Tn.width=Nn.width=gi,Tn.height=Nn.height=gi,cr(Nn);for(var _i=0;6>_i;++_i)for(var Sr=0;Nn.mipmask>>Sr;++Sr)xt.texImage2D(34069+_i,Sr,Nn.format,gi>>Sr,gi>>Sr,0,Nn.format,Nn.type,null);return pr(),at.profile&&(Nn.stats.size=T(Nn.internalformat,Nn.type,Tn.width,Tn.height,!1,!0)),Tn}},Tn._reglType="textureCube",Tn._texture=Nn,at.profile&&(Tn.stats=Nn.stats),Tn.destroy=function(){Nn.decRef()},Tn},clear:function(){for(var br=0;br<li;++br)xt.activeTexture(33984+br),xt.bindTexture(3553,null),ri[br]=null;xe(di).forEach(mr),yt.cubeCount=0,yt.textureCount=0},getTexture:function(br){return null},restore:function(){for(var br=0;br<li;++br){var nn=ri[br];nn&&(nn.bindCount=0,nn.unit=-1,ri[br]=null)}xe(di).forEach(function($r){$r.texture=xt.createTexture(),xt.bindTexture($r.target,$r.texture);for(var dn=0;32>dn;++dn)if($r.mipmask&1<<dn)if($r.target===3553)xt.texImage2D(3553,dn,$r.internalformat,$r.width>>dn,$r.height>>dn,0,$r.internalformat,$r.type,null);else for(var Vn=0;6>Vn;++Vn)xt.texImage2D(34069+Vn,dn,$r.internalformat,$r.width>>dn,$r.height>>dn,0,$r.internalformat,$r.type,null);rr($r.texInfo,$r.target)})},refresh:function(){for(var br=0;br<li;++br){var nn=ri[br];nn&&(nn.bindCount=0,nn.unit=-1,ri[br]=null),xt.activeTexture(33984+br),xt.bindTexture(3553,null),xt.bindTexture(34067,null)}}}}function _(xt,jt,Jt,gr,or,yt){function at(Ft,cr,pr){this.target=Ft,this.texture=cr,this.renderbuffer=pr;var mr=Ft=0;cr?(Ft=cr.width,mr=cr.height):pr&&(Ft=pr.width,mr=pr.height),this.width=Ft,this.height=mr}function wt(Ft){Ft&&(Ft.texture&&Ft.texture._texture.decRef(),Ft.renderbuffer&&Ft.renderbuffer._renderbuffer.decRef())}function Et(Ft,cr,pr){Ft&&(Ft.texture?Ft.texture._texture.refCount+=1:Ft.renderbuffer._renderbuffer.refCount+=1)}function Rt(Ft,cr){cr&&(cr.texture?xt.framebufferTexture2D(36160,Ft,cr.target,cr.texture._texture.texture,0):xt.framebufferRenderbuffer(36160,Ft,36161,cr.renderbuffer._renderbuffer.renderbuffer))}function Dt(Ft){var cr=3553,pr=null,mr=null,hr=Ft;return typeof Ft=="object"&&(hr=Ft.data,"target"in Ft&&(cr=Ft.target|0)),Ft=hr._reglType,Ft==="texture2d"||Ft==="textureCube"?pr=hr:Ft==="renderbuffer"&&(mr=hr,cr=36161),new at(cr,pr,mr)}function Ut(Ft,cr,pr,mr,hr){return pr?(Ft=gr.create2D({width:Ft,height:cr,format:mr,type:hr}),Ft._texture.refCount=0,new at(3553,Ft,null)):(Ft=or.create({width:Ft,height:cr,format:mr}),Ft._renderbuffer.refCount=0,new at(36161,null,Ft))}function Nt(Ft){return Ft&&(Ft.texture||Ft.renderbuffer)}function Kt(Ft,cr,pr){Ft&&(Ft.texture?Ft.texture.resize(cr,pr):Ft.renderbuffer&&Ft.renderbuffer.resize(cr,pr),Ft.width=cr,Ft.height=pr)}function ur(){this.id=lr++,rr[this.id]=this,this.framebuffer=xt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function fr(Ft){Ft.colorAttachments.forEach(wt),wt(Ft.depthAttachment),wt(Ft.stencilAttachment),wt(Ft.depthStencilAttachment)}function vr(Ft){xt.deleteFramebuffer(Ft.framebuffer),Ft.framebuffer=null,yt.framebufferCount--,delete rr[Ft.id]}function We(Ft){var cr;xt.bindFramebuffer(36160,Ft.framebuffer);var pr=Ft.colorAttachments;for(cr=0;cr<pr.length;++cr)Rt(36064+cr,pr[cr]);for(cr=pr.length;cr<Jt.maxColorAttachments;++cr)xt.framebufferTexture2D(36160,36064+cr,3553,null,0);xt.framebufferTexture2D(36160,33306,3553,null,0),xt.framebufferTexture2D(36160,36096,3553,null,0),xt.framebufferTexture2D(36160,36128,3553,null,0),Rt(36096,Ft.depthAttachment),Rt(36128,Ft.stencilAttachment),Rt(33306,Ft.depthStencilAttachment),xt.checkFramebufferStatus(36160),xt.isContextLost(),xt.bindFramebuffer(36160,zt.next?zt.next.framebuffer:null),zt.cur=zt.next,xt.getError()}function He(Ft,cr){function pr(hr,Gr){var Dr,Ir=0,cn=0,rn=!0,Cn=!0;Dr=null;var Sn=!0,Tr="rgba",Lr="uint8",Wr=1,Ur=null,an=null,pn=null,gn=!1;typeof hr=="number"?(Ir=hr|0,cn=Gr|0||Ir):hr?("shape"in hr?(cn=hr.shape,Ir=cn[0],cn=cn[1]):("radius"in hr&&(Ir=cn=hr.radius),"width"in hr&&(Ir=hr.width),"height"in hr&&(cn=hr.height)),("color"in hr||"colors"in hr)&&(Dr=hr.color||hr.colors),Dr||("colorCount"in hr&&(Wr=hr.colorCount|0),"colorTexture"in hr&&(Sn=!!hr.colorTexture,Tr="rgba4"),"colorType"in hr&&(Lr=hr.colorType,!Sn)&&(Lr==="half float"||Lr==="float16"?Tr="rgba16f":(Lr==="float"||Lr==="float32")&&(Tr="rgba32f")),"colorFormat"in hr&&(Tr=hr.colorFormat,0<=kt.indexOf(Tr)?Sn=!0:0<=Zt.indexOf(Tr)&&(Sn=!1))),("depthTexture"in hr||"depthStencilTexture"in hr)&&(gn=!(!hr.depthTexture&&!hr.depthStencilTexture)),"depth"in hr&&(typeof hr.depth=="boolean"?rn=hr.depth:(Ur=hr.depth,Cn=!1)),"stencil"in hr&&(typeof hr.stencil=="boolean"?Cn=hr.stencil:(an=hr.stencil,rn=!1)),"depthStencil"in hr&&(typeof hr.depthStencil=="boolean"?rn=Cn=hr.depthStencil:(pn=hr.depthStencil,Cn=rn=!1))):Ir=cn=1;var En=null,On=null,ni=null,ci=null;if(Array.isArray(Dr))En=Dr.map(Dt);else if(Dr)En=[Dt(Dr)];else for(En=Array(Wr),Dr=0;Dr<Wr;++Dr)En[Dr]=Ut(Ir,cn,Sn,Tr,Lr);for(Ir=Ir||En[0].width,cn=cn||En[0].height,Ur?On=Dt(Ur):rn&&!Cn&&(On=Ut(Ir,cn,gn,"depth","uint32")),an?ni=Dt(an):Cn&&!rn&&(ni=Ut(Ir,cn,!1,"stencil","uint8")),pn?ci=Dt(pn):!Ur&&!an&&Cn&&rn&&(ci=Ut(Ir,cn,gn,"depth stencil","depth stencil")),rn=null,Dr=0;Dr<En.length;++Dr)Et(En[Dr]),En[Dr]&&En[Dr].texture&&(Cn=Ne[En[Dr].texture._texture.format]*je[En[Dr].texture._texture.type],rn===null&&(rn=Cn));return Et(On),Et(ni),Et(ci),fr(mr),mr.width=Ir,mr.height=cn,mr.colorAttachments=En,mr.depthAttachment=On,mr.stencilAttachment=ni,mr.depthStencilAttachment=ci,pr.color=En.map(Nt),pr.depth=Nt(On),pr.stencil=Nt(ni),pr.depthStencil=Nt(ci),pr.width=mr.width,pr.height=mr.height,We(mr),pr}var mr=new ur;return yt.framebufferCount++,pr(Ft,cr),ie(pr,{resize:function(hr,Gr){var Dr=Math.max(hr|0,1),Ir=Math.max(Gr|0||Dr,1);if(Dr===mr.width&&Ir===mr.height)return pr;for(var cn=mr.colorAttachments,rn=0;rn<cn.length;++rn)Kt(cn[rn],Dr,Ir);return Kt(mr.depthAttachment,Dr,Ir),Kt(mr.stencilAttachment,Dr,Ir),Kt(mr.depthStencilAttachment,Dr,Ir),mr.width=pr.width=Dr,mr.height=pr.height=Ir,We(mr),pr},_reglType:"framebuffer",_framebuffer:mr,destroy:function(){vr(mr),fr(mr)},use:function(hr){zt.setFBO({framebuffer:pr},hr)}})}var zt={cur:null,next:null,dirty:!1,setFBO:null},kt=["rgba"],Zt=["rgba4","rgb565","rgb5 a1"];jt.ext_srgb&&Zt.push("srgba"),jt.ext_color_buffer_half_float&&Zt.push("rgba16f","rgb16f"),jt.webgl_color_buffer_float&&Zt.push("rgba32f");var er=["uint8"];jt.oes_texture_half_float&&er.push("half float","float16"),jt.oes_texture_float&&er.push("float","float32");var lr=0,rr={};return ie(zt,{getFramebuffer:function(Ft){return typeof Ft=="function"&&Ft._reglType==="framebuffer"&&(Ft=Ft._framebuffer,Ft instanceof ur)?Ft:null},create:He,createCube:function(Ft){function cr(mr){var hr,Gr={color:null},Dr=0,Ir=null;hr="rgba";var cn="uint8",rn=1;if(typeof mr=="number"?Dr=mr|0:mr?("shape"in mr?Dr=mr.shape[0]:("radius"in mr&&(Dr=mr.radius|0),"width"in mr?Dr=mr.width|0:"height"in mr&&(Dr=mr.height|0)),("color"in mr||"colors"in mr)&&(Ir=mr.color||mr.colors),Ir||("colorCount"in mr&&(rn=mr.colorCount|0),"colorType"in mr&&(cn=mr.colorType),"colorFormat"in mr&&(hr=mr.colorFormat)),"depth"in mr&&(Gr.depth=mr.depth),"stencil"in mr&&(Gr.stencil=mr.stencil),"depthStencil"in mr&&(Gr.depthStencil=mr.depthStencil)):Dr=1,Ir)if(Array.isArray(Ir))for(mr=[],hr=0;hr<Ir.length;++hr)mr[hr]=Ir[hr];else mr=[Ir];else for(mr=Array(rn),Ir={radius:Dr,format:hr,type:cn},hr=0;hr<rn;++hr)mr[hr]=gr.createCube(Ir);for(Gr.color=Array(mr.length),hr=0;hr<mr.length;++hr)rn=mr[hr],Dr=Dr||rn.width,Gr.color[hr]={target:34069,data:mr[hr]};for(hr=0;6>hr;++hr){for(rn=0;rn<mr.length;++rn)Gr.color[rn].target=34069+hr;0<hr&&(Gr.depth=pr[0].depth,Gr.stencil=pr[0].stencil,Gr.depthStencil=pr[0].depthStencil),pr[hr]?pr[hr](Gr):pr[hr]=He(Gr)}return ie(cr,{width:Dr,height:Dr,color:mr})}var pr=Array(6);return cr(Ft),ie(cr,{faces:pr,resize:function(mr){var hr=mr|0;if(hr===cr.width)return cr;var Gr=cr.color;for(mr=0;mr<Gr.length;++mr)Gr[mr].resize(hr);for(mr=0;6>mr;++mr)pr[mr].resize(hr);return cr.width=cr.height=hr,cr},_reglType:"framebufferCube",destroy:function(){pr.forEach(function(mr){mr.destroy()})}})},clear:function(){xe(rr).forEach(vr)},restore:function(){zt.cur=null,zt.next=null,zt.dirty=!0,xe(rr).forEach(function(Ft){Ft.framebuffer=xt.createFramebuffer(),We(Ft)})}})}function V(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function F(xt,jt,Jt,gr,or,yt,at){function wt(We){if(We!==vr.currentVAO){var He=jt.oes_vertex_array_object;We?He.bindVertexArrayOES(We.vao):He.bindVertexArrayOES(null),vr.currentVAO=We}}function Et(We){if(We!==vr.currentVAO){if(We)We.bindAttrs();else{for(var He=jt.angle_instanced_arrays,zt=0;zt<Kt.length;++zt){var kt=Kt[zt];kt.buffer?(xt.enableVertexAttribArray(zt),kt.buffer.bind(),xt.vertexAttribPointer(zt,kt.size,kt.type,kt.normalized,kt.stride,kt.offfset),He&&kt.divisor&&He.vertexAttribDivisorANGLE(zt,kt.divisor)):(xt.disableVertexAttribArray(zt),xt.vertexAttrib4f(zt,kt.x,kt.y,kt.z,kt.w))}at.elements?xt.bindBuffer(34963,at.elements.buffer.buffer):xt.bindBuffer(34963,null)}vr.currentVAO=We}}function Rt(){xe(fr).forEach(function(We){We.destroy()})}function Dt(){this.id=++ur,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var We=jt.oes_vertex_array_object;this.vao=We?We.createVertexArrayOES():null,fr[this.id]=this,this.buffers=[]}function Ut(){jt.oes_vertex_array_object&&xe(fr).forEach(function(We){We.refresh()})}var Nt=Jt.maxAttributes,Kt=Array(Nt);for(Jt=0;Jt<Nt;++Jt)Kt[Jt]=new V;var ur=0,fr={},vr={Record:V,scope:{},state:Kt,currentVAO:null,targetVAO:null,restore:jt.oes_vertex_array_object?Ut:function(){},createVAO:function(We){function He(kt){var Zt;Array.isArray(kt)?(Zt=kt,zt.elements&&zt.ownsElements&&zt.elements.destroy(),zt.elements=null,zt.ownsElements=!1,zt.offset=0,zt.count=0,zt.instances=-1,zt.primitive=4):(kt.elements?(Zt=kt.elements,zt.ownsElements?(typeof Zt=="function"&&Zt._reglType==="elements"?zt.elements.destroy():zt.elements(Zt),zt.ownsElements=!1):yt.getElements(kt.elements)?(zt.elements=kt.elements,zt.ownsElements=!1):(zt.elements=yt.create(kt.elements),zt.ownsElements=!0)):(zt.elements=null,zt.ownsElements=!1),Zt=kt.attributes,zt.offset=0,zt.count=-1,zt.instances=-1,zt.primitive=4,zt.elements&&(zt.count=zt.elements._elements.vertCount,zt.primitive=zt.elements._elements.primType),"offset"in kt&&(zt.offset=kt.offset|0),"count"in kt&&(zt.count=kt.count|0),"instances"in kt&&(zt.instances=kt.instances|0),"primitive"in kt&&(zt.primitive=et[kt.primitive])),kt={};var er=zt.attributes;er.length=Zt.length;for(var lr=0;lr<Zt.length;++lr){var rr=Zt[lr],Ft=er[lr]=new V,cr=rr.data||rr;if(Array.isArray(cr)||Ee(cr)||s(cr)){var pr;zt.buffers[lr]&&(pr=zt.buffers[lr],Ee(cr)&&pr._buffer.byteLength>=cr.byteLength?pr.subdata(cr):(pr.destroy(),zt.buffers[lr]=null)),zt.buffers[lr]||(pr=zt.buffers[lr]=or.create(rr,34962,!1,!0)),Ft.buffer=or.getBuffer(pr),Ft.size=Ft.buffer.dimension|0,Ft.normalized=!1,Ft.type=Ft.buffer.dtype,Ft.offset=0,Ft.stride=0,Ft.divisor=0,Ft.state=1,kt[lr]=1}else or.getBuffer(rr)?(Ft.buffer=or.getBuffer(rr),Ft.size=Ft.buffer.dimension|0,Ft.normalized=!1,Ft.type=Ft.buffer.dtype,Ft.offset=0,Ft.stride=0,Ft.divisor=0,Ft.state=1):or.getBuffer(rr.buffer)?(Ft.buffer=or.getBuffer(rr.buffer),Ft.size=(+rr.size||Ft.buffer.dimension)|0,Ft.normalized=!!rr.normalized||!1,Ft.type="type"in rr?Ue[rr.type]:Ft.buffer.dtype,Ft.offset=(rr.offset||0)|0,Ft.stride=(rr.stride||0)|0,Ft.divisor=(rr.divisor||0)|0,Ft.state=1):"x"in rr&&(Ft.x=+rr.x||0,Ft.y=+rr.y||0,Ft.z=+rr.z||0,Ft.w=+rr.w||0,Ft.state=2)}for(pr=0;pr<zt.buffers.length;++pr)!kt[pr]&&zt.buffers[pr]&&(zt.buffers[pr].destroy(),zt.buffers[pr]=null);return zt.refresh(),He}var zt=new Dt;return gr.vaoCount+=1,He.destroy=function(){for(var kt=0;kt<zt.buffers.length;++kt)zt.buffers[kt]&&zt.buffers[kt].destroy();zt.buffers.length=0,zt.ownsElements&&(zt.elements.destroy(),zt.elements=null,zt.ownsElements=!1),zt.destroy()},He._vao=zt,He._reglType="vao",He(We)},getVAO:function(We){return typeof We=="function"&&We._vao?We._vao:null},destroyBuffer:function(We){for(var He=0;He<Kt.length;++He){var zt=Kt[He];zt.buffer===We&&(xt.disableVertexAttribArray(He),zt.buffer=null)}},setVAO:jt.oes_vertex_array_object?wt:Et,clear:jt.oes_vertex_array_object?Rt:function(){}};return Dt.prototype.bindAttrs=function(){for(var We=jt.angle_instanced_arrays,He=this.attributes,zt=0;zt<He.length;++zt){var kt=He[zt];kt.buffer?(xt.enableVertexAttribArray(zt),xt.bindBuffer(34962,kt.buffer.buffer),xt.vertexAttribPointer(zt,kt.size,kt.type,kt.normalized,kt.stride,kt.offset),We&&kt.divisor&&We.vertexAttribDivisorANGLE(zt,kt.divisor)):(xt.disableVertexAttribArray(zt),xt.vertexAttrib4f(zt,kt.x,kt.y,kt.z,kt.w))}for(We=He.length;We<Nt;++We)xt.disableVertexAttribArray(We);(We=yt.getElements(this.elements))?xt.bindBuffer(34963,We.buffer.buffer):xt.bindBuffer(34963,null)},Dt.prototype.refresh=function(){var We=jt.oes_vertex_array_object;We&&(We.bindVertexArrayOES(this.vao),this.bindAttrs(),vr.currentVAO=null,We.bindVertexArrayOES(null))},Dt.prototype.destroy=function(){if(this.vao){var We=jt.oes_vertex_array_object;this===vr.currentVAO&&(vr.currentVAO=null,We.bindVertexArrayOES(null)),We.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),fr[this.id]&&(delete fr[this.id],--gr.vaoCount)},vr}function N(xt,jt,Jt,gr){function or(ur,fr,vr,We){this.name=ur,this.id=fr,this.location=vr,this.info=We}function yt(ur,fr){for(var vr=0;vr<ur.length;++vr)if(ur[vr].id===fr.id){ur[vr].location=fr.location;return}ur.push(fr)}function at(ur,fr,vr){vr=ur===35632?Rt:Dt;var We=vr[fr];if(!We){var He=jt.str(fr),We=xt.createShader(ur);xt.shaderSource(We,He),xt.compileShader(We),vr[fr]=We}return We}function wt(ur,fr){this.id=Kt++,this.fragId=ur,this.vertId=fr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,gr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Et(ur,fr,vr){var We;We=at(35632,ur.fragId);var He=at(35633,ur.vertId);if(fr=ur.program=xt.createProgram(),xt.attachShader(fr,We),xt.attachShader(fr,He),vr)for(We=0;We<vr.length;++We)He=vr[We],xt.bindAttribLocation(fr,He[0],He[1]);xt.linkProgram(fr),He=xt.getProgramParameter(fr,35718),gr.profile&&(ur.stats.uniformsCount=He);var zt=ur.uniforms;for(We=0;We<He;++We)if(vr=xt.getActiveUniform(fr,We))if(1<vr.size)for(var kt=0;kt<vr.size;++kt){var Zt=vr.name.replace("[0]","["+kt+"]");yt(zt,new or(Zt,jt.id(Zt),xt.getUniformLocation(fr,Zt),vr))}else yt(zt,new or(vr.name,jt.id(vr.name),xt.getUniformLocation(fr,vr.name),vr));for(He=xt.getProgramParameter(fr,35721),gr.profile&&(ur.stats.attributesCount=He),ur=ur.attributes,We=0;We<He;++We)(vr=xt.getActiveAttrib(fr,We))&&yt(ur,new or(vr.name,jt.id(vr.name),xt.getAttribLocation(fr,vr.name),vr))}var Rt={},Dt={},Ut={},Nt=[],Kt=0;return gr.profile&&(Jt.getMaxUniformsCount=function(){var ur=0;return Nt.forEach(function(fr){fr.stats.uniformsCount>ur&&(ur=fr.stats.uniformsCount)}),ur},Jt.getMaxAttributesCount=function(){var ur=0;return Nt.forEach(function(fr){fr.stats.attributesCount>ur&&(ur=fr.stats.attributesCount)}),ur}),{clear:function(){var ur=xt.deleteShader.bind(xt);xe(Rt).forEach(ur),Rt={},xe(Dt).forEach(ur),Dt={},Nt.forEach(function(fr){xt.deleteProgram(fr.program)}),Nt.length=0,Ut={},Jt.shaderCount=0},program:function(ur,fr,vr,We){var He=Ut[fr];He||(He=Ut[fr]={});var zt=He[ur];if(zt&&(zt.refCount++,!We))return zt;var kt=new wt(fr,ur);return Jt.shaderCount++,Et(kt,vr,We),zt||(He[ur]=kt),Nt.push(kt),ie(kt,{destroy:function(){if(kt.refCount--,0>=kt.refCount){xt.deleteProgram(kt.program);var Zt=Nt.indexOf(kt);Nt.splice(Zt,1),Jt.shaderCount--}0>=He[kt.vertId].refCount&&(xt.deleteShader(Dt[kt.vertId]),delete Dt[kt.vertId],delete Ut[kt.fragId][kt.vertId]),Object.keys(Ut[kt.fragId]).length||(xt.deleteShader(Rt[kt.fragId]),delete Rt[kt.fragId],delete Ut[kt.fragId])}})},restore:function(){Rt={},Dt={};for(var ur=0;ur<Nt.length;++ur)Et(Nt[ur],null,Nt[ur].attributes.map(function(fr){return[fr.location,fr.name]}))},shader:at,frag:-1,vert:-1}}function k(xt,jt,Jt,gr,or,yt,at){function wt(Rt){var Dt;Dt=jt.next===null?5121:jt.next.colorAttachments[0].texture._texture.type;var Ut=0,Nt=0,Kt=gr.framebufferWidth,ur=gr.framebufferHeight,fr=null;return Ee(Rt)?fr=Rt:Rt&&(Ut=Rt.x|0,Nt=Rt.y|0,Kt=(Rt.width||gr.framebufferWidth-Ut)|0,ur=(Rt.height||gr.framebufferHeight-Nt)|0,fr=Rt.data||null),Jt(),Rt=Kt*ur*4,fr||(Dt===5121?fr=new Uint8Array(Rt):Dt===5126&&(fr=fr||new Float32Array(Rt))),xt.pixelStorei(3333,4),xt.readPixels(Ut,Nt,Kt,ur,6408,Dt,fr),fr}function Et(Rt){var Dt;return jt.setFBO({framebuffer:Rt.framebuffer},function(){Dt=wt(Rt)}),Dt}return function(Rt){return Rt&&"framebuffer"in Rt?Et(Rt):wt(Rt)}}function I(xt){for(var jt=Array(xt.length>>2),gr=0;gr<jt.length;gr++)jt[gr]=0;for(gr=0;gr<8*xt.length;gr+=8)jt[gr>>5]|=(xt.charCodeAt(gr/8)&255)<<24-gr%32;var Jt=8*xt.length;xt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var gr=Array(64),or,yt,at,wt,Et,Rt,Dt,Ut,Nt,Kt,ur;for(jt[Jt>>5]|=128<<24-Jt%32,jt[(Jt+64>>9<<4)+15]=Jt,Ut=0;Ut<jt.length;Ut+=16){for(Jt=xt[0],or=xt[1],yt=xt[2],at=xt[3],wt=xt[4],Et=xt[5],Rt=xt[6],Dt=xt[7],Nt=0;64>Nt;Nt++){if(16>Nt)gr[Nt]=jt[Nt+Ut];else{Kt=Nt,ur=gr[Nt-2],ur=ee(ur,17)^ee(ur,19)^ur>>>10,ur=te(ur,gr[Nt-7]);var fr;fr=gr[Nt-15],fr=ee(fr,7)^ee(fr,18)^fr>>>3,gr[Kt]=te(te(ur,fr),gr[Nt-16])}Kt=wt,Kt=ee(Kt,6)^ee(Kt,11)^ee(Kt,25),Kt=te(te(te(te(Dt,Kt),wt&Et^~wt&Rt),tt[Nt]),gr[Nt]),Dt=Jt,Dt=ee(Dt,2)^ee(Dt,13)^ee(Dt,22),ur=te(Dt,Jt&or^Jt&yt^or&yt),Dt=Rt,Rt=Et,Et=wt,wt=te(at,Kt),at=yt,yt=or,or=Jt,Jt=te(Kt,ur)}xt[0]=te(Jt,xt[0]),xt[1]=te(or,xt[1]),xt[2]=te(yt,xt[2]),xt[3]=te(at,xt[3]),xt[4]=te(wt,xt[4]),xt[5]=te(Et,xt[5]),xt[6]=te(Rt,xt[6]),xt[7]=te(Dt,xt[7])}for(jt="",gr=0;gr<32*xt.length;gr+=8)jt+=String.fromCharCode(xt[gr>>5]>>>24-gr%32&255);return jt}function H(xt){for(var jt="",Jt,gr=0;gr<xt.length;gr++)Jt=xt.charCodeAt(gr),jt+="0123456789abcdef".charAt(Jt>>>4&15)+"0123456789abcdef".charAt(Jt&15);return jt}function j(xt){for(var jt="",Jt=-1,gr,or;++Jt<xt.length;)gr=xt.charCodeAt(Jt),or=Jt+1<xt.length?xt.charCodeAt(Jt+1):0,55296<=gr&&56319>=gr&&56320<=or&&57343>=or&&(gr=65536+((gr&1023)<<10)+(or&1023),Jt++),127>=gr?jt+=String.fromCharCode(gr):2047>=gr?jt+=String.fromCharCode(192|gr>>>6&31,128|gr&63):65535>=gr?jt+=String.fromCharCode(224|gr>>>12&15,128|gr>>>6&63,128|gr&63):2097151>=gr&&(jt+=String.fromCharCode(240|gr>>>18&7,128|gr>>>12&63,128|gr>>>6&63,128|gr&63));return jt}function ee(xt,jt){return xt>>>jt|xt<<32-jt}function te(xt,jt){var Jt=(xt&65535)+(jt&65535);return(xt>>16)+(jt>>16)+(Jt>>16)<<16|Jt&65535}function ne(xt){return Array.prototype.slice.call(xt)}function ue(xt){return ne(xt).join("")}function q(xt){function jt(){var Dt=[],Ut=[];return ie(function(){Dt.push.apply(Dt,ne(arguments))},{def:function(){var Nt="v"+or++;return Ut.push(Nt),0<arguments.length&&(Dt.push(Nt,"="),Dt.push.apply(Dt,ne(arguments)),Dt.push(";")),Nt},toString:function(){return ue([0<Ut.length?"var "+Ut.join(",")+";":"",ue(Dt)])}})}function Jt(){function Dt(fr,vr){Nt(fr,vr,"=",Ut.def(fr,vr),";")}var Ut=jt(),Nt=jt(),Kt=Ut.toString,ur=Nt.toString;return ie(function(){Ut.apply(Ut,ne(arguments))},{def:Ut.def,entry:Ut,exit:Nt,save:Dt,set:function(fr,vr,We){Dt(fr,vr),Ut(fr,vr,"=",We,";")},toString:function(){return Kt()+ur()}})}var gr=xt&&xt.cache,or=0,yt=[],at=[],wt=[],Et=jt(),Rt={};return{global:Et,link:function(Dt,Ut){var Nt=Ut&&Ut.stable;if(!Nt){for(var Kt=0;Kt<at.length;++Kt)if(at[Kt]===Dt&&!wt[Kt])return yt[Kt]}return Kt="g"+or++,yt.push(Kt),at.push(Dt),wt.push(Nt),Kt},block:jt,proc:function(Dt,Ut){function Nt(){var vr="a"+Kt.length;return Kt.push(vr),vr}var Kt=[];Ut=Ut||0;for(var ur=0;ur<Ut;++ur)Nt();var ur=Jt(),fr=ur.toString;return Rt[Dt]=ie(ur,{arg:Nt,toString:function(){return ue(["function(",Kt.join(),"){",fr(),"}"])}})},scope:Jt,cond:function(){var Dt=ue(arguments),Ut=Jt(),Nt=Jt(),Kt=Ut.toString,ur=Nt.toString;return ie(Ut,{then:function(){return Ut.apply(Ut,ne(arguments)),this},else:function(){return Nt.apply(Nt,ne(arguments)),this},toString:function(){var fr=ur();return fr&&(fr="else{"+fr+"}"),ue(["if(",Dt,"){",Kt(),"}",fr])}})},compile:function(){var Dt=['"use strict";',Et,"return {"];Object.keys(Rt).forEach(function(Kt){Dt.push('"',Kt,'":',Rt[Kt].toString(),",")}),Dt.push("}");var Ut=ue(Dt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Nt;return gr&&(Nt=H(I(j(Ut))),gr[Nt])?gr[Nt].apply(null,at):(Ut=Function.apply(null,yt.concat(Ut)),gr&&(gr[Nt]=Ut),Ut.apply(null,at))}}}function Y(xt){return Array.isArray(xt)||Ee(xt)||s(xt)}function Z(xt){return xt.sort(function(jt,Jt){return jt==="viewport"?-1:Jt==="viewport"?1:jt<Jt?-1:1})}function G(xt,jt,Jt,gr){this.thisDep=xt,this.contextDep=jt,this.propDep=Jt,this.append=gr}function K(xt){return xt&&!(xt.thisDep||xt.contextDep||xt.propDep)}function oe(xt){return new G(!1,!1,!1,xt)}function $(xt,jt){var Jt=xt.type;if(Jt===0)return Jt=xt.data.length,new G(!0,1<=Jt,2<=Jt,jt);if(Jt===4)return Jt=xt.data,new G(Jt.thisDep,Jt.contextDep,Jt.propDep,jt);if(Jt===5)return new G(!1,!1,!1,jt);if(Jt===6){for(var gr=Jt=!1,or=!1,yt=0;yt<xt.data.length;++yt){var at=xt.data[yt];at.type===1?or=!0:at.type===2?gr=!0:at.type===3?Jt=!0:at.type===0?(Jt=!0,at=at.data,1<=at&&(gr=!0),2<=at&&(or=!0)):at.type===4&&(Jt=Jt||at.data.thisDep,gr=gr||at.data.contextDep,or=or||at.data.propDep)}return new G(Jt,gr,or,jt)}return new G(Jt===3,Jt===2,Jt===1,jt)}function J(xt,jt,Jt,gr,or,yt,at,wt,Et,Rt,Dt,Ut,Nt,Kt,ur,fr){function vr(Sr){return Sr.replace(".","_")}function We(Sr,zr,Ar){var Fr=vr(Sr);wn.push(Sr),Vn[Fr]=dn[Fr]=!!Ar,Tn[Fr]=zr}function He(Sr,zr,Ar){var Fr=vr(Sr);wn.push(Sr),Array.isArray(Ar)?(dn[Fr]=Ar.slice(),Vn[Fr]=Ar.slice()):dn[Fr]=Vn[Fr]=Ar,Nn[Fr]=zr}function zt(){var Sr=q({cache:ur}),zr=Sr.link,Ar=Sr.global;Sr.id=_i++,Sr.batchId="0";var Fr=zr(Jn),xn=Sr.shared={props:"a0"};Object.keys(Jn).forEach(function(jr){xn[jr]=Ar.def(Fr,".",jr)});var In=Sr.next={},hn=Sr.current={};Object.keys(Nn).forEach(function(jr){Array.isArray(dn[jr])&&(In[jr]=Ar.def(xn.next,".",jr),hn[jr]=Ar.def(xn.current,".",jr))});var sn=Sr.constants={};Object.keys(gi).forEach(function(jr){sn[jr]=Ar.def(JSON.stringify(gi[jr]))}),Sr.invoke=function(jr,Vr){switch(Vr.type){case 0:var Qr=["this",xn.context,xn.props,Sr.batchId];return jr.def(zr(Vr.data),".call(",Qr.slice(0,Math.max(Vr.data.length+1,4)),")");case 1:return jr.def(xn.props,Vr.data);case 2:return jr.def(xn.context,Vr.data);case 3:return jr.def("this",Vr.data);case 4:return Vr.data.append(Sr,jr),Vr.data.ref;case 5:return Vr.data.toString();case 6:return Vr.data.map(function(bn){return Sr.invoke(jr,bn)})}},Sr.attribCache={};var Er={};return Sr.scopeAttrib=function(jr){if(jr=jt.id(jr),jr in Er)return Er[jr];var Vr=Rt.scope[jr];return Vr||(Vr=Rt.scope[jr]=new li),Er[jr]=zr(Vr)},Sr}function kt(Sr){var zr=Sr.static;Sr=Sr.dynamic;var Ar;if("profile"in zr){var Fr=!!zr.profile;Ar=oe(function(In,hn){return Fr}),Ar.enable=Fr}else if("profile"in Sr){var xn=Sr.profile;Ar=$(xn,function(In,hn){return In.invoke(hn,xn)})}return Ar}function Zt(Sr,zr){var Ar=Sr.static,Fr=Sr.dynamic;if("framebuffer"in Ar){var xn=Ar.framebuffer;return xn?(xn=wt.getFramebuffer(xn),oe(function(hn,sn){var Er=hn.link(xn),jr=hn.shared;return sn.set(jr.framebuffer,".next",Er),jr=jr.context,sn.set(jr,".framebufferWidth",Er+".width"),sn.set(jr,".framebufferHeight",Er+".height"),Er})):oe(function(hn,sn){var Er=hn.shared;return sn.set(Er.framebuffer,".next","null"),Er=Er.context,sn.set(Er,".framebufferWidth",Er+".drawingBufferWidth"),sn.set(Er,".framebufferHeight",Er+".drawingBufferHeight"),"null"})}if("framebuffer"in Fr){var In=Fr.framebuffer;return $(In,function(hn,sn){var Vr=hn.invoke(sn,In),Er=hn.shared,jr=Er.framebuffer,Vr=sn.def(jr,".getFramebuffer(",Vr,")");return sn.set(jr,".next",Vr),Er=Er.context,sn.set(Er,".framebufferWidth",Vr+"?"+Vr+".width:"+Er+".drawingBufferWidth"),sn.set(Er,".framebufferHeight",Vr+"?"+Vr+".height:"+Er+".drawingBufferHeight"),Vr})}return null}function er(Sr,zr,Ar){function Fr(sn){if(sn in xn){var Er=xn[sn];sn=!0;var jr=Er.x|0,Vr=Er.y|0,Qr,bn;return"width"in Er?Qr=Er.width|0:sn=!1,"height"in Er?bn=Er.height|0:sn=!1,new G(!sn&&zr&&zr.thisDep,!sn&&zr&&zr.contextDep,!sn&&zr&&zr.propDep,function(Pn,Bn){var zn=Pn.shared.context,yi=Qr;"width"in Er||(yi=Bn.def(zn,".","framebufferWidth","-",jr));var ai=bn;return"height"in Er||(ai=Bn.def(zn,".","framebufferHeight","-",Vr)),[jr,Vr,yi,ai]})}if(sn in In){var Ln=In[sn];return sn=$(Ln,function(Pn,Bn){var Pi=Pn.invoke(Bn,Ln),zn=Pn.shared.context,yi=Bn.def(Pi,".x|0"),ai=Bn.def(Pi,".y|0"),pi=Bn.def('"width" in ',Pi,"?",Pi,".width|0:","(",zn,".","framebufferWidth","-",yi,")"),Pi=Bn.def('"height" in ',Pi,"?",Pi,".height|0:","(",zn,".","framebufferHeight","-",ai,")");return[yi,ai,pi,Pi]}),zr&&(sn.thisDep=sn.thisDep||zr.thisDep,sn.contextDep=sn.contextDep||zr.contextDep,sn.propDep=sn.propDep||zr.propDep),sn}return zr?new G(zr.thisDep,zr.contextDep,zr.propDep,function(Pn,Bn){var zn=Pn.shared.context;return[0,0,Bn.def(zn,".","framebufferWidth"),Bn.def(zn,".","framebufferHeight")]}):null}var xn=Sr.static,In=Sr.dynamic;if(Sr=Fr("viewport")){var hn=Sr;Sr=new G(Sr.thisDep,Sr.contextDep,Sr.propDep,function(sn,Er){var jr=hn.append(sn,Er),Vr=sn.shared.context;return Er.set(Vr,".viewportWidth",jr[2]),Er.set(Vr,".viewportHeight",jr[3]),jr})}return{viewport:Sr,scissor_box:Fr("scissor.box")}}function lr(Sr,zr){var Ar=Sr.static;if(typeof Ar.frag=="string"&&typeof Ar.vert=="string"){if(0<Object.keys(zr.dynamic).length)return null;var Ar=zr.static,Fr=Object.keys(Ar);if(0<Fr.length&&typeof Ar[Fr[0]]=="number"){for(var xn=[],In=0;In<Fr.length;++In)xn.push([Ar[Fr[In]]|0,Fr[In]]);return xn}}return null}function rr(Sr,zr,Ar){function Fr(jr){if(jr in xn){var Vr=jt.id(xn[jr]);return jr=oe(function(){return Vr}),jr.id=Vr,jr}if(jr in In){var Qr=In[jr];return $(Qr,function(bn,Ln){var Pn=bn.invoke(Ln,Qr);return Ln.def(bn.shared.strings,".id(",Pn,")")})}return null}var xn=Sr.static,In=Sr.dynamic,hn=Fr("frag"),sn=Fr("vert"),Er=null;return K(hn)&&K(sn)?(Er=Dt.program(sn.id,hn.id,null,Ar),Sr=oe(function(jr,Vr){return jr.link(Er)})):Sr=new G(hn&&hn.thisDep||sn&&sn.thisDep,hn&&hn.contextDep||sn&&sn.contextDep,hn&&hn.propDep||sn&&sn.propDep,function(jr,Vr){var Qr=jr.shared.shader,bn;bn=hn?hn.append(jr,Vr):Vr.def(Qr,".","frag");var Ln;return Ln=sn?sn.append(jr,Vr):Vr.def(Qr,".","vert"),Vr.def(Qr+".program("+Ln+","+bn+")")}),{frag:hn,vert:sn,progVar:Sr,program:Er}}function Ft(Sr,zr){function Ar(Pn,Bn){if(Pn in Fr){var zn=Fr[Pn]|0;return Bn?In.offset=zn:In.instances=zn,oe(function(ai,pi){return Bn&&(ai.OFFSET=zn),zn})}if(Pn in xn){var yi=xn[Pn];return $(yi,function(ai,pi){var Pi=ai.invoke(pi,yi);return Bn&&(ai.OFFSET=Pi),Pi})}if(Bn){if(Er)return oe(function(ai,pi){return ai.OFFSET=0});if(hn)return new G(sn.thisDep,sn.contextDep,sn.propDep,function(ai,pi){return pi.def(ai.shared.vao+".currentVAO?"+ai.shared.vao+".currentVAO.offset:0")})}else if(hn)return new G(sn.thisDep,sn.contextDep,sn.propDep,function(ai,pi){return pi.def(ai.shared.vao+".currentVAO?"+ai.shared.vao+".currentVAO.instances:-1")});return null}var Fr=Sr.static,xn=Sr.dynamic,In={},hn=!1,sn=function(){if("vao"in Fr){var Pn=Fr.vao;return Pn!==null&&Rt.getVAO(Pn)===null&&(Pn=Rt.createVAO(Pn)),hn=!0,In.vao=Pn,oe(function(zn){var yi=Rt.getVAO(Pn);return yi?zn.link(yi):"null"})}if("vao"in xn){hn=!0;var Bn=xn.vao;return $(Bn,function(zn,yi){var ai=zn.invoke(yi,Bn);return yi.def(zn.shared.vao+".getVAO("+ai+")")})}return null}(),Er=!1,jr=function(){if("elements"in Fr){var Pn=Fr.elements;if(In.elements=Pn,Y(Pn)){var Bn=In.elements=yt.create(Pn,!0),Pn=yt.getElements(Bn);Er=!0}else Pn&&(Pn=yt.getElements(Pn),Er=!0);return Bn=oe(function(yi,ai){if(Pn){var pi=yi.link(Pn);return yi.ELEMENTS=pi}return yi.ELEMENTS=null}),Bn.value=Pn,Bn}if("elements"in xn){Er=!0;var zn=xn.elements;return $(zn,function(yi,ai){var pi=yi.shared,ga=pi.isBufferArgs,pi=pi.elements,na=yi.invoke(ai,zn),Pi=ai.def("null"),ga=ai.def(ga,"(",na,")"),na=yi.cond(ga).then(Pi,"=",pi,".createStream(",na,");").else(Pi,"=",pi,".getElements(",na,");");return ai.entry(na),ai.exit(yi.cond(ga).then(pi,".destroyStream(",Pi,");")),yi.ELEMENTS=Pi})}return hn?new G(sn.thisDep,sn.contextDep,sn.propDep,function(yi,ai){return ai.def(yi.shared.vao+".currentVAO?"+yi.shared.elements+".getElements("+yi.shared.vao+".currentVAO.elements):null")}):null}(),Vr=Ar("offset",!0),Qr=function(){if("primitive"in Fr){var Pn=Fr.primitive;return In.primitive=Pn,oe(function(zn,yi){return et[Pn]})}if("primitive"in xn){var Bn=xn.primitive;return $(Bn,function(zn,yi){var ai=zn.constants.primTypes,pi=zn.invoke(yi,Bn);return yi.def(ai,"[",pi,"]")})}return Er?K(jr)?jr.value?oe(function(zn,yi){return yi.def(zn.ELEMENTS,".primType")}):oe(function(){return 4}):new G(jr.thisDep,jr.contextDep,jr.propDep,function(zn,yi){var ai=zn.ELEMENTS;return yi.def(ai,"?",ai,".primType:",4)}):hn?new G(sn.thisDep,sn.contextDep,sn.propDep,function(zn,yi){return yi.def(zn.shared.vao+".currentVAO?"+zn.shared.vao+".currentVAO.primitive:4")}):null}(),bn=function(){if("count"in Fr){var Pn=Fr.count|0;return In.count=Pn,oe(function(){return Pn})}if("count"in xn){var Bn=xn.count;return $(Bn,function(zn,yi){return zn.invoke(yi,Bn)})}return Er?K(jr)?jr?Vr?new G(Vr.thisDep,Vr.contextDep,Vr.propDep,function(zn,yi){return yi.def(zn.ELEMENTS,".vertCount-",zn.OFFSET)}):oe(function(zn,yi){return yi.def(zn.ELEMENTS,".vertCount")}):oe(function(){return-1}):new G(jr.thisDep||Vr.thisDep,jr.contextDep||Vr.contextDep,jr.propDep||Vr.propDep,function(zn,yi){var ai=zn.ELEMENTS;return zn.OFFSET?yi.def(ai,"?",ai,".vertCount-",zn.OFFSET,":-1"):yi.def(ai,"?",ai,".vertCount:-1")}):hn?new G(sn.thisDep,sn.contextDep,sn.propDep,function(zn,yi){return yi.def(zn.shared.vao,".currentVAO?",zn.shared.vao,".currentVAO.count:-1")}):null}(),Ln=Ar("instances",!1);return{elements:jr,primitive:Qr,count:bn,instances:Ln,offset:Vr,vao:sn,vaoActive:hn,elementsActive:Er,static:In}}function cr(Sr,zr){var Ar=Sr.static,Fr=Sr.dynamic,xn={};return wn.forEach(function(In){function hn(Er,jr){if(In in Ar){var Vr=Er(Ar[In]);xn[sn]=oe(function(){return Vr})}else if(In in Fr){var Qr=Fr[In];xn[sn]=$(Qr,function(bn,Ln){return jr(bn,Ln,bn.invoke(Ln,Qr))})}}var sn=vr(In);switch(In){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return hn(function(Er){return Er},function(Er,jr,Vr){return Vr});case"depth.func":return hn(function(Er){return Yt[Er]},function(Er,jr,Vr){return jr.def(Er.constants.compareFuncs,"[",Vr,"]")});case"depth.range":return hn(function(Er){return Er},function(Er,jr,Vr){return Er=jr.def("+",Vr,"[0]"),jr=jr.def("+",Vr,"[1]"),[Er,jr]});case"blend.func":return hn(function(Er){return[Xt["srcRGB"in Er?Er.srcRGB:Er.src],Xt["dstRGB"in Er?Er.dstRGB:Er.dst],Xt["srcAlpha"in Er?Er.srcAlpha:Er.src],Xt["dstAlpha"in Er?Er.dstAlpha:Er.dst]]},function(Er,jr,Vr){function Qr(Bn,zn){return jr.def('"',Bn,zn,'" in ',Vr,"?",Vr,".",Bn,zn,":",Vr,".",Bn)}Er=Er.constants.blendFuncs;var bn=Qr("src","RGB"),Pn=Qr("dst","RGB"),bn=jr.def(Er,"[",bn,"]"),Ln=jr.def(Er,"[",Qr("src","Alpha"),"]"),Pn=jr.def(Er,"[",Pn,"]");return Er=jr.def(Er,"[",Qr("dst","Alpha"),"]"),[bn,Pn,Ln,Er]});case"blend.equation":return hn(function(Er){if(typeof Er=="string")return[ri[Er],ri[Er]];if(typeof Er=="object")return[ri[Er.rgb],ri[Er.alpha]]},function(Er,jr,Vr){var Qr=Er.constants.blendEquations,bn=jr.def(),Ln=jr.def();return Er=Er.cond("typeof ",Vr,'==="string"'),Er.then(bn,"=",Ln,"=",Qr,"[",Vr,"];"),Er.else(bn,"=",Qr,"[",Vr,".rgb];",Ln,"=",Qr,"[",Vr,".alpha];"),jr(Er),[bn,Ln]});case"blend.color":return hn(function(Er){return a(4,function(jr){return+Er[jr]})},function(Er,jr,Vr){return a(4,function(Qr){return jr.def("+",Vr,"[",Qr,"]")})});case"stencil.mask":return hn(function(Er){return Er|0},function(Er,jr,Vr){return jr.def(Vr,"|0")});case"stencil.func":return hn(function(Er){return[Yt[Er.cmp||"keep"],Er.ref||0,"mask"in Er?Er.mask:-1]},function(Er,jr,Vr){Er=jr.def('"cmp" in ',Vr,"?",Er.constants.compareFuncs,"[",Vr,".cmp]",":",7680);var Qr=jr.def(Vr,".ref|0");return jr=jr.def('"mask" in ',Vr,"?",Vr,".mask|0:-1"),[Er,Qr,jr]});case"stencil.opFront":case"stencil.opBack":return hn(function(Er){return[In==="stencil.opBack"?1029:1028,Tt[Er.fail||"keep"],Tt[Er.zfail||"keep"],Tt[Er.zpass||"keep"]]},function(Er,jr,Vr){function Qr(Ln){return jr.def('"',Ln,'" in ',Vr,"?",bn,"[",Vr,".",Ln,"]:",7680)}var bn=Er.constants.stencilOps;return[In==="stencil.opBack"?1029:1028,Qr("fail"),Qr("zfail"),Qr("zpass")]});case"polygonOffset.offset":return hn(function(Er){return[Er.factor|0,Er.units|0]},function(Er,jr,Vr){return Er=jr.def(Vr,".factor|0"),jr=jr.def(Vr,".units|0"),[Er,jr]});case"cull.face":return hn(function(Er){var jr=0;return Er==="front"?jr=1028:Er==="back"&&(jr=1029),jr},function(Er,jr,Vr){return jr.def(Vr,'==="front"?',1028,":",1029)});case"lineWidth":return hn(function(Er){return Er},function(Er,jr,Vr){return Vr});case"frontFace":return hn(function(Er){return _t[Er]},function(Er,jr,Vr){return jr.def(Vr+'==="cw"?2304:2305')});case"colorMask":return hn(function(Er){return Er.map(function(jr){return!!jr})},function(Er,jr,Vr){return a(4,function(Qr){return"!!"+Vr+"["+Qr+"]"})});case"sample.coverage":return hn(function(Er){return["value"in Er?Er.value:1,!!Er.invert]},function(Er,jr,Vr){return Er=jr.def('"value" in ',Vr,"?+",Vr,".value:1"),jr=jr.def("!!",Vr,".invert"),[Er,jr]})}}),xn}function pr(Sr,zr){var Ar=Sr.static,Fr=Sr.dynamic,xn={};return Object.keys(Ar).forEach(function(In){var hn=Ar[In],sn;if(typeof hn=="number"||typeof hn=="boolean")sn=oe(function(){return hn});else if(typeof hn=="function"){var Er=hn._reglType;Er==="texture2d"||Er==="textureCube"?sn=oe(function(jr){return jr.link(hn)}):(Er==="framebuffer"||Er==="framebufferCube")&&(sn=oe(function(jr){return jr.link(hn.color[0])}))}else A(hn)&&(sn=oe(function(jr){return jr.global.def("[",a(hn.length,function(Vr){return hn[Vr]}),"]")}));sn.value=hn,xn[In]=sn}),Object.keys(Fr).forEach(function(In){var hn=Fr[In];xn[In]=$(hn,function(sn,Er){return sn.invoke(Er,hn)})}),xn}function mr(Sr,zr){var Ar=Sr.static,Fr=Sr.dynamic,xn={};return Object.keys(Ar).forEach(function(In){var hn=Ar[In],sn=jt.id(In),Er=new li;if(Y(hn))Er.state=1,Er.buffer=or.getBuffer(or.create(hn,34962,!1,!0)),Er.type=0;else{var jr=or.getBuffer(hn);if(jr)Er.state=1,Er.buffer=jr,Er.type=0;else if("constant"in hn){var Vr=hn.constant;Er.buffer="null",Er.state=2,typeof Vr=="number"?Er.x=Vr:ct.forEach(function(zn,yi){yi<Vr.length&&(Er[zn]=Vr[yi])})}else{var jr=Y(hn.buffer)?or.getBuffer(or.create(hn.buffer,34962,!1,!0)):or.getBuffer(hn.buffer),Qr=hn.offset|0,bn=hn.stride|0,Ln=hn.size|0,Pn=!!hn.normalized,Bn=0;"type"in hn&&(Bn=Ue[hn.type]),hn=hn.divisor|0,Er.buffer=jr,Er.state=1,Er.size=Ln,Er.normalized=Pn,Er.type=Bn||jr.dtype,Er.offset=Qr,Er.stride=bn,Er.divisor=hn}}xn[In]=oe(function(zn,yi){var ai=zn.attribCache;if(sn in ai)return ai[sn];var pi={isStream:!1};return Object.keys(Er).forEach(function(Pi){pi[Pi]=Er[Pi]}),Er.buffer&&(pi.buffer=zn.link(Er.buffer),pi.type=pi.type||pi.buffer+".dtype"),ai[sn]=pi})}),Object.keys(Fr).forEach(function(In){var hn=Fr[In];xn[In]=$(hn,function(sn,Er){function jr(ai){Er(Pn[ai],"=",Vr,".",ai,"|0;")}var Vr=sn.invoke(Er,hn),Ln=sn.shared,Qr=sn.constants,bn=Ln.isBufferArgs,Ln=Ln.buffer,Pn={isStream:Er.def(!1)},Bn=new li;Bn.state=1,Object.keys(Bn).forEach(function(ai){Pn[ai]=Er.def(""+Bn[ai])});var zn=Pn.buffer,yi=Pn.type;return Er("if(",bn,"(",Vr,")){",Pn.isStream,"=true;",zn,"=",Ln,".createStream(",34962,",",Vr,");",yi,"=",zn,".dtype;","}else{",zn,"=",Ln,".getBuffer(",Vr,");","if(",zn,"){",yi,"=",zn,".dtype;",'}else if("constant" in ',Vr,"){",Pn.state,"=",2,";","if(typeof "+Vr+'.constant === "number"){',Pn[ct[0]],"=",Vr,".constant;",ct.slice(1).map(function(ai){return Pn[ai]}).join("="),"=0;","}else{",ct.map(function(ai,pi){return Pn[ai]+"="+Vr+".constant.length>"+pi+"?"+Vr+".constant["+pi+"]:0;"}).join(""),"}}else{","if(",bn,"(",Vr,".buffer)){",zn,"=",Ln,".createStream(",34962,",",Vr,".buffer);","}else{",zn,"=",Ln,".getBuffer(",Vr,".buffer);","}",yi,'="type" in ',Vr,"?",Qr.glTypes,"[",Vr,".type]:",zn,".dtype;",Pn.normalized,"=!!",Vr,".normalized;"),jr("size"),jr("offset"),jr("stride"),jr("divisor"),Er("}}"),Er.exit("if(",Pn.isStream,"){",Ln,".destroyStream(",zn,");","}"),Pn})}),xn}function hr(Sr){var zr=Sr.static,Ar=Sr.dynamic,Fr={};return Object.keys(zr).forEach(function(xn){var In=zr[xn];Fr[xn]=oe(function(hn,sn){return typeof In=="number"||typeof In=="boolean"?""+In:hn.link(In)})}),Object.keys(Ar).forEach(function(xn){var In=Ar[xn];Fr[xn]=$(In,function(hn,sn){return hn.invoke(sn,In)})}),Fr}function Gr(Sr,zr,Ar,Fr,xn){function In(Bn){var zn=sn[Bn];zn&&(jr[Bn]=zn)}var hn=lr(Sr,zr),bn=Zt(Sr),sn=er(Sr,bn),Er=Ft(Sr),jr=cr(Sr),Vr=rr(Sr,xn,hn);In("viewport"),In(vr("scissor.box"));var Qr=0<Object.keys(jr).length,bn={framebuffer:bn,draw:Er,shader:Vr,state:jr,dirty:Qr,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(bn.profile=kt(Sr),bn.uniforms=pr(Ar),bn.drawVAO=bn.scopeVAO=Er.vao,!bn.drawVAO&&Vr.program&&!hn&&Jt.angle_instanced_arrays&&Er.static.elements){var Ln=!0;if(Sr=Vr.program.attributes.map(function(Bn){return Bn=zr.static[Bn],Ln=Ln&&!!Bn,Bn}),Ln&&0<Sr.length){var Pn=Rt.getVAO(Rt.createVAO({attributes:Sr,elements:Er.static.elements}));bn.drawVAO=new G(null,null,null,function(Bn,zn){return Bn.link(Pn)}),bn.useVAO=!0}}return hn?bn.useVAO=!0:bn.attributes=mr(zr),bn.context=hr(Fr),bn}function Dr(Sr,zr,Ar){var Fr=Sr.shared.context,xn=Sr.scope();Object.keys(Ar).forEach(function(In){zr.save(Fr,"."+In);var hn=Ar[In].append(Sr,zr);Array.isArray(hn)?xn(Fr,".",In,"=[",hn.join(),"];"):xn(Fr,".",In,"=",hn,";")}),zr(xn)}function Ir(Sr,zr,Ar,Fr){var sn=Sr.shared,xn=sn.gl,In=sn.framebuffer,hn;nn&&(hn=zr.def(sn.extensions,".webgl_draw_buffers"));var Er=Sr.constants,sn=Er.drawBuffer,Er=Er.backBuffer;Sr=Ar?Ar.append(Sr,zr):zr.def(In,".next"),Fr||zr("if(",Sr,"!==",In,".cur){"),zr("if(",Sr,"){",xn,".bindFramebuffer(",36160,",",Sr,".framebuffer);"),nn&&zr(hn,".drawBuffersWEBGL(",sn,"[",Sr,".colorAttachments.length]);"),zr("}else{",xn,".bindFramebuffer(",36160,",null);"),nn&&zr(hn,".drawBuffersWEBGL(",Er,");"),zr("}",In,".cur=",Sr,";"),Fr||zr("}")}function cn(Sr,zr,Ar){var Fr=Sr.shared,xn=Fr.gl,In=Sr.current,hn=Sr.next,sn=Fr.current,Er=Fr.next,jr=Sr.cond(sn,".dirty");wn.forEach(function(Vr){if(Vr=vr(Vr),!(Vr in Ar.state)){var Qr,bn;if(Vr in hn){Qr=hn[Vr],bn=In[Vr];var Ln=a(dn[Vr].length,function(Pn){return jr.def(Qr,"[",Pn,"]")});jr(Sr.cond(Ln.map(function(Pn,Bn){return Pn+"!=="+bn+"["+Bn+"]"}).join("||")).then(xn,".",Nn[Vr],"(",Ln,");",Ln.map(function(Pn,Bn){return bn+"["+Bn+"]="+Pn}).join(";"),";"))}else Qr=jr.def(Er,".",Vr),Ln=Sr.cond(Qr,"!==",sn,".",Vr),jr(Ln),Vr in Tn?Ln(Sr.cond(Qr).then(xn,".enable(",Tn[Vr],");").else(xn,".disable(",Tn[Vr],");"),sn,".",Vr,"=",Qr,";"):Ln(xn,".",Nn[Vr],"(",Qr,");",sn,".",Vr,"=",Qr,";")}}),Object.keys(Ar.state).length===0&&jr(sn,".dirty=false;"),zr(jr)}function rn(Sr,zr,Ar,Fr){var xn=Sr.shared,In=Sr.current,hn=xn.current,sn=xn.gl,Er;Z(Object.keys(Ar)).forEach(function(jr){var Vr=Ar[jr];if(!Fr||Fr(Vr)){var Qr=Vr.append(Sr,zr);if(Tn[jr]){var bn=Tn[jr];K(Vr)?(Er=Sr.link(Qr,{stable:!0}),zr(Sr.cond(Er).then(sn,".enable(",bn,");").else(sn,".disable(",bn,");")),zr(hn,".",jr,"=",Er,";")):(zr(Sr.cond(Qr).then(sn,".enable(",bn,");").else(sn,".disable(",bn,");")),zr(hn,".",jr,"=",Qr,";"))}else if(A(Qr)){var Ln=In[jr];zr(sn,".",Nn[jr],"(",Qr,");",Qr.map(function(Pn,Bn){return Ln+"["+Bn+"]="+Pn}).join(";"),";")}else K(Vr)?(Er=Sr.link(Qr,{stable:!0}),zr(sn,".",Nn[jr],"(",Er,");",hn,".",jr,"=",Er,";")):zr(sn,".",Nn[jr],"(",Qr,");",hn,".",jr,"=",Qr,";")}})}function Cn(Sr,zr){br&&(Sr.instancing=zr.def(Sr.shared.extensions,".angle_instanced_arrays"))}function Sn(Sr,zr,Ar,Fr,xn){function In(){return typeof performance>"u"?"Date.now()":"performance.now()"}function hn(Bn){Ln=zr.def(),Bn(Ln,"=",In(),";"),typeof xn=="string"?Bn(Vr,".count+=",xn,";"):Bn(Vr,".count++;"),Kt&&(Fr?(Pn=zr.def(),Bn(Pn,"=",bn,".getNumPendingQueries();")):Bn(bn,".beginQuery(",Vr,");"))}function sn(Bn){Bn(Vr,".cpuTime+=",In(),"-",Ln,";"),Kt&&(Fr?Bn(bn,".pushScopeStats(",Pn,",",bn,".getNumPendingQueries(),",Vr,");"):Bn(bn,".endQuery();"))}function Er(Bn){var zn=zr.def(Qr,".profile");zr(Qr,".profile=",Bn,";"),zr.exit(Qr,".profile=",zn,";")}var jr=Sr.shared,Vr=Sr.stats,Qr=jr.current,bn=jr.timer;Ar=Ar.profile;var Ln,Pn;if(Ar){if(K(Ar)){Ar.enable?(hn(zr),sn(zr.exit),Er("true")):Er("false");return}Ar=Ar.append(Sr,zr),Er(Ar)}else Ar=zr.def(Qr,".profile");jr=Sr.block(),hn(jr),zr("if(",Ar,"){",jr,"}"),Sr=Sr.block(),sn(Sr),zr.exit("if(",Ar,"){",Sr,"}")}function Tr(Sr,zr,Ar,Fr,xn){function In(Er){switch(Er){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function hn(Er,jr,Vr){function Qr(){zr("if(!",Bn,".buffer){",Ln,".enableVertexAttribArray(",Pn,");}");var pi=Vr.type,Pi;Pi=Vr.size?zr.def(Vr.size,"||",jr):jr,zr("if(",Bn,".type!==",pi,"||",Bn,".size!==",Pi,"||",ai.map(function(ga){return Bn+"."+ga+"!=="+Vr[ga]}).join("||"),"){",Ln,".bindBuffer(",34962,",",zn,".buffer);",Ln,".vertexAttribPointer(",[Pn,Pi,pi,Vr.normalized,Vr.stride,Vr.offset],");",Bn,".type=",pi,";",Bn,".size=",Pi,";",ai.map(function(ga){return Bn+"."+ga+"="+Vr[ga]+";"}).join(""),"}"),br&&(pi=Vr.divisor,zr("if(",Bn,".divisor!==",pi,"){",Sr.instancing,".vertexAttribDivisorANGLE(",[Pn,pi],");",Bn,".divisor=",pi,";}"))}function bn(){zr("if(",Bn,".buffer){",Ln,".disableVertexAttribArray(",Pn,");",Bn,".buffer=null;","}if(",ct.map(function(pi,Pi){return Bn+"."+pi+"!=="+yi[Pi]}).join("||"),"){",Ln,".vertexAttrib4f(",Pn,",",yi,");",ct.map(function(pi,Pi){return Bn+"."+pi+"="+yi[Pi]+";"}).join(""),"}")}var Ln=sn.gl,Pn=zr.def(Er,".location"),Bn=zr.def(sn.attributes,"[",Pn,"]");Er=Vr.state;var zn=Vr.buffer,yi=[Vr.x,Vr.y,Vr.z,Vr.w],ai=["buffer","normalized","offset","stride"];Er===1?Qr():Er===2?bn():(zr("if(",Er,"===",1,"){"),Qr(),zr("}else{"),bn(),zr("}"))}var sn=Sr.shared;Fr.forEach(function(Er){var jr=Er.name,Vr=Ar.attributes[jr],Qr;if(Vr){if(!xn(Vr))return;Qr=Vr.append(Sr,zr)}else{if(!xn(Qt))return;var bn=Sr.scopeAttrib(jr);Qr={},Object.keys(new li).forEach(function(Ln){Qr[Ln]=zr.def(bn,".",Ln)})}hn(Sr.link(Er),In(Er.info.type),Qr)})}function Lr(Sr,zr,Ar,Fr,xn,In){for(var hn=Sr.shared,sn=hn.gl,Er,jr=0;jr<Fr.length;++jr){var Ln=Fr[jr],Vr=Ln.name,Qr=Ln.info.type,bn=Ar.uniforms[Vr],Ln=Sr.link(Ln)+".location",Pn;if(bn){if(!xn(bn))continue;if(K(bn)){if(Vr=bn.value,Qr===35678||Qr===35680)Qr=Sr.link(Vr._texture||Vr.color[0]._texture),zr(sn,".uniform1i(",Ln,",",Qr+".bind());"),zr.exit(Qr,".unbind();");else if(Qr===35674||Qr===35675||Qr===35676)Vr=Sr.global.def("new Float32Array(["+Array.prototype.slice.call(Vr)+"])"),bn=2,Qr===35675?bn=3:Qr===35676&&(bn=4),zr(sn,".uniformMatrix",bn,"fv(",Ln,",false,",Vr,");");else{switch(Qr){case 5126:Er="1f";break;case 35664:Er="2f";break;case 35665:Er="3f";break;case 35666:Er="4f";break;case 35670:Er="1i";break;case 5124:Er="1i";break;case 35671:Er="2i";break;case 35667:Er="2i";break;case 35672:Er="3i";break;case 35668:Er="3i";break;case 35673:Er="4i";break;case 35669:Er="4i"}zr(sn,".uniform",Er,"(",Ln,",",A(Vr)?Array.prototype.slice.call(Vr):Vr,");")}continue}else Pn=bn.append(Sr,zr)}else{if(!xn(Qt))continue;Pn=zr.def(hn.uniforms,"[",jt.id(Vr),"]")}switch(Qr===35678?zr("if(",Pn,"&&",Pn,'._reglType==="framebuffer"){',Pn,"=",Pn,".color[0];","}"):Qr===35680&&zr("if(",Pn,"&&",Pn,'._reglType==="framebufferCube"){',Pn,"=",Pn,".color[0];","}"),Vr=1,Qr){case 35678:case 35680:Qr=zr.def(Pn,"._texture"),zr(sn,".uniform1i(",Ln,",",Qr,".bind());"),zr.exit(Qr,".unbind();");continue;case 5124:case 35670:Er="1i";break;case 35667:case 35671:Er="2i",Vr=2;break;case 35668:case 35672:Er="3i",Vr=3;break;case 35669:case 35673:Er="4i",Vr=4;break;case 5126:Er="1f";break;case 35664:Er="2f",Vr=2;break;case 35665:Er="3f",Vr=3;break;case 35666:Er="4f",Vr=4;break;case 35674:Er="Matrix2fv";break;case 35675:Er="Matrix3fv";break;case 35676:Er="Matrix4fv"}if(Er.charAt(0)==="M"){zr(sn,".uniform",Er,"(",Ln,",");var Ln=Math.pow(Qr-35674+2,2),Bn=Sr.global.def("new Float32Array(",Ln,")");Array.isArray(Pn)?zr("false,(",a(Ln,function(ai){return Bn+"["+ai+"]="+Pn[ai]}),",",Bn,")"):zr("false,(Array.isArray(",Pn,")||",Pn," instanceof Float32Array)?",Pn,":(",a(Ln,function(ai){return Bn+"["+ai+"]="+Pn+"["+ai+"]"}),",",Bn,")"),zr(");")}else{if(1<Vr){for(var Qr=[],zn=[],bn=0;bn<Vr;++bn)Array.isArray(Pn)?zn.push(Pn[bn]):zn.push(zr.def(Pn+"["+bn+"]")),In&&Qr.push(zr.def());In&&zr("if(!",Sr.batchId,"||",Qr.map(function(yi,ai){return yi+"!=="+zn[ai]}).join("||"),"){",Qr.map(function(yi,ai){return yi+"="+zn[ai]+";"}).join("")),zr(sn,".uniform",Er,"(",Ln,",",zn.join(","),");")}else In&&(Qr=zr.def(),zr("if(!",Sr.batchId,"||",Qr,"!==",Pn,"){",Qr,"=",Pn,";")),zr(sn,".uniform",Er,"(",Ln,",",Pn,");");In&&zr("}")}}}function Wr(Sr,zr,Ar,Fr){function xn(pi){var Pi=Vr[pi];return Pi?Pi.contextDep&&Fr.contextDynamic||Pi.propDep?Pi.append(Sr,Ar):Pi.append(Sr,zr):zr.def(jr,".",pi)}function In(){function pi(){Ar(zn,".drawElementsInstancedANGLE(",[bn,Pn,yi,Ln+"<<(("+yi+"-5121)>>1)",Bn],");")}function Pi(){Ar(zn,".drawArraysInstancedANGLE(",[bn,Ln,Pn,Bn],");")}Qr&&Qr!=="null"?ai?pi():(Ar("if(",Qr,"){"),pi(),Ar("}else{"),Pi(),Ar("}")):Pi()}function hn(){function pi(){Ar(Er+".drawElements("+[bn,Pn,yi,Ln+"<<(("+yi+"-5121)>>1)"]+");")}function Pi(){Ar(Er+".drawArrays("+[bn,Ln,Pn]+");")}Qr&&Qr!=="null"?ai?pi():(Ar("if(",Qr,"){"),pi(),Ar("}else{"),Pi(),Ar("}")):Pi()}var sn=Sr.shared,Er=sn.gl,jr=sn.draw,Vr=Fr.draw,Qr=function(){var pi=Vr.elements,Pi=zr;return pi?((pi.contextDep&&Fr.contextDynamic||pi.propDep)&&(Pi=Ar),pi=pi.append(Sr,Pi),Vr.elementsActive&&Pi("if("+pi+")"+Er+".bindBuffer(34963,"+pi+".buffer.buffer);")):(pi=Pi.def(),Pi(pi,"=",jr,".","elements",";","if(",pi,"){",Er,".bindBuffer(",34963,",",pi,".buffer.buffer);}","else if(",sn.vao,".currentVAO){",pi,"=",Sr.shared.elements+".getElements("+sn.vao,".currentVAO.elements);",$r?"":"if("+pi+")"+Er+".bindBuffer(34963,"+pi+".buffer.buffer);","}")),pi}(),bn=xn("primitive"),Ln=xn("offset"),Pn=function(){var pi=Vr.count,Pi=zr;return pi?((pi.contextDep&&Fr.contextDynamic||pi.propDep)&&(Pi=Ar),pi=pi.append(Sr,Pi)):pi=Pi.def(jr,".","count"),pi}();if(typeof Pn=="number"){if(Pn===0)return}else Ar("if(",Pn,"){"),Ar.exit("}");var Bn,zn;br&&(Bn=xn("instances"),zn=Sr.instancing);var yi=Qr+".type",ai=Vr.elements&&K(Vr.elements)&&!Vr.vaoActive;br&&(typeof Bn!="number"||0<=Bn)?typeof Bn=="string"?(Ar("if(",Bn,">0){"),In(),Ar("}else if(",Bn,"<0){"),hn(),Ar("}")):In():hn()}function Ur(Sr,zr,Ar,Fr,xn){return zr=zt(),xn=zr.proc("body",xn),br&&(zr.instancing=xn.def(zr.shared.extensions,".angle_instanced_arrays")),Sr(zr,xn,Ar,Fr),zr.compile().body}function an(Sr,zr,Ar,Fr){Cn(Sr,zr),Ar.useVAO?Ar.drawVAO?zr(Sr.shared.vao,".setVAO(",Ar.drawVAO.append(Sr,zr),");"):zr(Sr.shared.vao,".setVAO(",Sr.shared.vao,".targetVAO);"):(zr(Sr.shared.vao,".setVAO(null);"),Tr(Sr,zr,Ar,Fr.attributes,function(){return!0})),Lr(Sr,zr,Ar,Fr.uniforms,function(){return!0},!1),Wr(Sr,zr,zr,Ar)}function pn(Sr,zr){var Ar=Sr.proc("draw",1);Cn(Sr,Ar),Dr(Sr,Ar,zr.context),Ir(Sr,Ar,zr.framebuffer),cn(Sr,Ar,zr),rn(Sr,Ar,zr.state),Sn(Sr,Ar,zr,!1,!0);var Fr=zr.shader.progVar.append(Sr,Ar);if(Ar(Sr.shared.gl,".useProgram(",Fr,".program);"),zr.shader.program)an(Sr,Ar,zr,zr.shader.program);else{Ar(Sr.shared.vao,".setVAO(null);");var xn=Sr.global.def("{}"),In=Ar.def(Fr,".id"),hn=Ar.def(xn,"[",In,"]");Ar(Sr.cond(hn).then(hn,".call(this,a0);").else(hn,"=",xn,"[",In,"]=",Sr.link(function(sn){return Ur(an,Sr,zr,sn,1)}),"(",Fr,");",hn,".call(this,a0);"))}0<Object.keys(zr.state).length&&Ar(Sr.shared.current,".dirty=true;"),Sr.shared.vao&&Ar(Sr.shared.vao,".setVAO(null);")}function gn(Sr,zr,Ar,Fr){function xn(){return!0}Sr.batchId="a1",Cn(Sr,zr),Tr(Sr,zr,Ar,Fr.attributes,xn),Lr(Sr,zr,Ar,Fr.uniforms,xn,!1),Wr(Sr,zr,zr,Ar)}function En(Sr,zr,Ar,Fr){function xn(Qr){return Qr.contextDep&&hn||Qr.propDep}function In(Qr){return!xn(Qr)}Cn(Sr,zr);var hn=Ar.contextDep,sn=zr.def(),Er=zr.def();Sr.shared.props=Er,Sr.batchId=sn;var jr=Sr.scope(),Vr=Sr.scope();zr(jr.entry,"for(",sn,"=0;",sn,"<","a1",";++",sn,"){",Er,"=","a0","[",sn,"];",Vr,"}",jr.exit),Ar.needsContext&&Dr(Sr,Vr,Ar.context),Ar.needsFramebuffer&&Ir(Sr,Vr,Ar.framebuffer),rn(Sr,Vr,Ar.state,xn),Ar.profile&&xn(Ar.profile)&&Sn(Sr,Vr,Ar,!1,!0),Fr?(Ar.useVAO?Ar.drawVAO?xn(Ar.drawVAO)?Vr(Sr.shared.vao,".setVAO(",Ar.drawVAO.append(Sr,Vr),");"):jr(Sr.shared.vao,".setVAO(",Ar.drawVAO.append(Sr,jr),");"):jr(Sr.shared.vao,".setVAO(",Sr.shared.vao,".targetVAO);"):(jr(Sr.shared.vao,".setVAO(null);"),Tr(Sr,jr,Ar,Fr.attributes,In),Tr(Sr,Vr,Ar,Fr.attributes,xn)),Lr(Sr,jr,Ar,Fr.uniforms,In,!1),Lr(Sr,Vr,Ar,Fr.uniforms,xn,!0),Wr(Sr,jr,Vr,Ar)):(zr=Sr.global.def("{}"),Fr=Ar.shader.progVar.append(Sr,Vr),Er=Vr.def(Fr,".id"),jr=Vr.def(zr,"[",Er,"]"),Vr(Sr.shared.gl,".useProgram(",Fr,".program);","if(!",jr,"){",jr,"=",zr,"[",Er,"]=",Sr.link(function(Qr){return Ur(gn,Sr,Ar,Qr,2)}),"(",Fr,");}",jr,".call(this,a0[",sn,"],",sn,");"))}function On(Sr,zr){function Ar(jr){return jr.contextDep&&xn||jr.propDep}var Fr=Sr.proc("batch",2);Sr.batchId="0",Cn(Sr,Fr);var xn=!1,In=!0;Object.keys(zr.context).forEach(function(jr){xn=xn||zr.context[jr].propDep}),xn||(Dr(Sr,Fr,zr.context),In=!1);var hn=zr.framebuffer,sn=!1;if(hn?(hn.propDep?xn=sn=!0:hn.contextDep&&xn&&(sn=!0),sn||Ir(Sr,Fr,hn)):Ir(Sr,Fr,null),zr.state.viewport&&zr.state.viewport.propDep&&(xn=!0),cn(Sr,Fr,zr),rn(Sr,Fr,zr.state,function(jr){return!Ar(jr)}),zr.profile&&Ar(zr.profile)||Sn(Sr,Fr,zr,!1,"a1"),zr.contextDep=xn,zr.needsContext=In,zr.needsFramebuffer=sn,In=zr.shader.progVar,In.contextDep&&xn||In.propDep)En(Sr,Fr,zr,null);else if(In=In.append(Sr,Fr),Fr(Sr.shared.gl,".useProgram(",In,".program);"),zr.shader.program)En(Sr,Fr,zr,zr.shader.program);else{Fr(Sr.shared.vao,".setVAO(null);");var hn=Sr.global.def("{}"),sn=Fr.def(In,".id"),Er=Fr.def(hn,"[",sn,"]");Fr(Sr.cond(Er).then(Er,".call(this,a0,a1);").else(Er,"=",hn,"[",sn,"]=",Sr.link(function(Qr){return Ur(En,Sr,zr,Qr,2)}),"(",In,");",Er,".call(this,a0,a1);"))}0<Object.keys(zr.state).length&&Fr(Sr.shared.current,".dirty=true;"),Sr.shared.vao&&Fr(Sr.shared.vao,".setVAO(null);")}function ni(Sr,zr){function Ar(sn){var Er=zr.shader[sn];Er&&(Er=Er.append(Sr,Fr),isNaN(Er)?Fr.set(xn.shader,"."+sn,Er):Fr.set(xn.shader,"."+sn,Sr.link(Er,{stable:!0})))}var Fr=Sr.proc("scope",3);Sr.batchId="a2";var xn=Sr.shared,In=xn.current;if(Dr(Sr,Fr,zr.context),zr.framebuffer&&zr.framebuffer.append(Sr,Fr),Z(Object.keys(zr.state)).forEach(function(sn){var Er=zr.state[sn],jr=Er.append(Sr,Fr);A(jr)?jr.forEach(function(Vr,Qr){isNaN(Vr)?Fr.set(Sr.next[sn],"["+Qr+"]",Vr):Fr.set(Sr.next[sn],"["+Qr+"]",Sr.link(Vr,{stable:!0}))}):K(Er)?Fr.set(xn.next,"."+sn,Sr.link(jr,{stable:!0})):Fr.set(xn.next,"."+sn,jr)}),Sn(Sr,Fr,zr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(sn){var Er=zr.draw[sn];Er&&(Er=Er.append(Sr,Fr),isNaN(Er)?Fr.set(xn.draw,"."+sn,Er):Fr.set(xn.draw,"."+sn,Sr.link(Er),{stable:!0}))}),Object.keys(zr.uniforms).forEach(function(sn){var Er=zr.uniforms[sn].append(Sr,Fr);Array.isArray(Er)&&(Er="["+Er.map(function(jr){return isNaN(jr)?jr:Sr.link(jr,{stable:!0})})+"]"),Fr.set(xn.uniforms,"["+Sr.link(jt.id(sn),{stable:!0})+"]",Er)}),Object.keys(zr.attributes).forEach(function(sn){var Er=zr.attributes[sn].append(Sr,Fr),jr=Sr.scopeAttrib(sn);Object.keys(new li).forEach(function(Vr){Fr.set(jr,"."+Vr,Er[Vr])})}),zr.scopeVAO){var hn=zr.scopeVAO.append(Sr,Fr);isNaN(hn)?Fr.set(xn.vao,".targetVAO",hn):Fr.set(xn.vao,".targetVAO",Sr.link(hn,{stable:!0}))}Ar("vert"),Ar("frag"),0<Object.keys(zr.state).length&&(Fr(In,".dirty=true;"),Fr.exit(In,".dirty=true;")),Fr("a1(",Sr.shared.context,",a0,",Sr.batchId,");")}function ci(Sr){if(typeof Sr=="object"&&!A(Sr)){for(var zr=Object.keys(Sr),Ar=0;Ar<zr.length;++Ar)if(ye.isDynamic(Sr[zr[Ar]]))return!0;return!1}}function di(Sr,zr,Ar){function Fr(Qr,bn){hn.forEach(function(Ln){var Pn=xn[Ln];ye.isDynamic(Pn)&&(Pn=Qr.invoke(bn,Pn),bn(Vr,".",Ln,"=",Pn,";"))})}var xn=zr.static[Ar];if(xn&&ci(xn)){var In=Sr.global,hn=Object.keys(xn),sn=!1,Er=!1,jr=!1,Vr=Sr.global.def("{}");hn.forEach(function(Qr){var bn=xn[Qr];if(ye.isDynamic(bn))typeof bn=="function"&&(bn=xn[Qr]=ye.unbox(bn)),Qr=$(bn,null),sn=sn||Qr.thisDep,jr=jr||Qr.propDep,Er=Er||Qr.contextDep;else{switch(In(Vr,".",Qr,"="),typeof bn){case"number":In(bn);break;case"string":In('"',bn,'"');break;case"object":Array.isArray(bn)&&In("[",bn.join(),"]");break;default:In(Sr.link(bn))}In(";")}}),zr.dynamic[Ar]=new ye.DynamicVariable(4,{thisDep:sn,contextDep:Er,propDep:jr,ref:Vr,append:Fr}),delete zr.static[Ar]}}var li=Rt.Record,ri={add:32774,subtract:32778,"reverse subtract":32779};Jt.ext_blend_minmax&&(ri.min=32775,ri.max=32776);var br=Jt.angle_instanced_arrays,nn=Jt.webgl_draw_buffers,$r=Jt.oes_vertex_array_object,dn={dirty:!0,profile:fr.profile},Vn={},wn=[],Tn={},Nn={};We("dither",3024),We("blend.enable",3042),He("blend.color","blendColor",[0,0,0,0]),He("blend.equation","blendEquationSeparate",[32774,32774]),He("blend.func","blendFuncSeparate",[1,0,1,0]),We("depth.enable",2929,!0),He("depth.func","depthFunc",513),He("depth.range","depthRange",[0,1]),He("depth.mask","depthMask",!0),He("colorMask","colorMask",[!0,!0,!0,!0]),We("cull.enable",2884),He("cull.face","cullFace",1029),He("frontFace","frontFace",2305),He("lineWidth","lineWidth",1),We("polygonOffset.enable",32823),He("polygonOffset.offset","polygonOffset",[0,0]),We("sample.alpha",32926),We("sample.enable",32928),He("sample.coverage","sampleCoverage",[1,!1]),We("stencil.enable",2960),He("stencil.mask","stencilMask",-1),He("stencil.func","stencilFunc",[519,0,-1]),He("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),He("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),We("scissor.enable",3089),He("scissor.box","scissor",[0,0,xt.drawingBufferWidth,xt.drawingBufferHeight]),He("viewport","viewport",[0,0,xt.drawingBufferWidth,xt.drawingBufferHeight]);var Jn={gl:xt,context:Nt,strings:jt,next:Vn,current:dn,draw:Ut,elements:yt,buffer:or,shader:Dt,attributes:Rt.state,vao:Rt,uniforms:Et,framebuffer:wt,extensions:Jt,timer:Kt,isBufferArgs:Y},gi={primTypes:et,compareFuncs:Yt,blendFuncs:Xt,blendEquations:ri,stencilOps:Tt,glTypes:Ue,orientationType:_t};nn&&(gi.backBuffer=[1029],gi.drawBuffer=a(gr.maxDrawbuffers,function(Sr){return Sr===0?[0]:a(Sr,function(zr){return 36064+zr})}));var _i=0;return{next:Vn,current:dn,procs:function(){var Sr=zt(),zr=Sr.proc("poll"),Ar=Sr.proc("refresh"),Fr=Sr.block();zr(Fr),Ar(Fr);var Er=Sr.shared,xn=Er.gl,In=Er.next,hn=Er.current;Fr(hn,".dirty=false;"),Ir(Sr,zr),Ir(Sr,Ar,null,!0);var sn;br&&(sn=Sr.link(br)),Jt.oes_vertex_array_object&&Ar(Sr.link(Jt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Er=Ar.def(Er.attributes),jr=Ar.def(0),Vr=Sr.cond(jr,".buffer");Vr.then(xn,".enableVertexAttribArray(i);",xn,".bindBuffer(",34962,",",jr,".buffer.buffer);",xn,".vertexAttribPointer(i,",jr,".size,",jr,".type,",jr,".normalized,",jr,".stride,",jr,".offset);").else(xn,".disableVertexAttribArray(i);",xn,".vertexAttrib4f(i,",jr,".x,",jr,".y,",jr,".z,",jr,".w);",jr,".buffer=null;");var Qr=Sr.link(gr.maxAttributes,{stable:!0});return Ar("for(var i=0;i<",Qr,";++i){",jr,"=",Er,"[i];",Vr,"}"),br&&Ar("for(var i=0;i<",Qr,";++i){",sn,".vertexAttribDivisorANGLE(i,",Er,"[i].divisor);","}"),Ar(Sr.shared.vao,".currentVAO=null;",Sr.shared.vao,".setVAO(",Sr.shared.vao,".targetVAO);"),Object.keys(Tn).forEach(function(bn){var Ln=Tn[bn],Pn=Fr.def(In,".",bn),Bn=Sr.block();Bn("if(",Pn,"){",xn,".enable(",Ln,")}else{",xn,".disable(",Ln,")}",hn,".",bn,"=",Pn,";"),Ar(Bn),zr("if(",Pn,"!==",hn,".",bn,"){",Bn,"}")}),Object.keys(Nn).forEach(function(bn){var Ln=Nn[bn],Pn=dn[bn],Bn,zn,yi=Sr.block();yi(xn,".",Ln,"("),A(Pn)?(Ln=Pn.length,Bn=Sr.global.def(In,".",bn),zn=Sr.global.def(hn,".",bn),yi(a(Ln,function(ai){return Bn+"["+ai+"]"}),");",a(Ln,function(ai){return zn+"["+ai+"]="+Bn+"["+ai+"];"}).join("")),zr("if(",a(Ln,function(ai){return Bn+"["+ai+"]!=="+zn+"["+ai+"]"}).join("||"),"){",yi,"}")):(Bn=Fr.def(In,".",bn),zn=Fr.def(hn,".",bn),yi(Bn,");",hn,".",bn,"=",Bn,";"),zr("if(",Bn,"!==",zn,"){",yi,"}")),Ar(yi)}),Sr.compile()}(),compile:function(Sr,zr,Ar,Fr,xn){var In=zt();In.stats=In.link(xn),Object.keys(zr.static).forEach(function(sn){di(In,zr,sn)}),pt.forEach(function(sn){di(In,Sr,sn)});var hn=Gr(Sr,zr,Ar,Fr,In);return hn.shader.program&&(hn.shader.program.attributes.sort(function(sn,Er){return sn.name<Er.name?-1:1}),hn.shader.program.uniforms.sort(function(sn,Er){return sn.name<Er.name?-1:1})),pn(In,hn),ni(In,hn),On(In,hn),ie(In.compile(),{destroy:function(){hn.shader.program.destroy()}})}}}function se(xt,jt){for(var Jt=0;Jt<xt.length;++Jt)if(xt[Jt]===jt)return Jt;return-1}var ie=function(xt,jt){for(var Jt=Object.keys(jt),gr=0;gr<Jt.length;++gr)xt[Jt[gr]]=jt[Jt[gr]];return xt},ce=0,ye={DynamicVariable:B,define:function(xt,jt){return new B(xt,y(jt+""))},isDynamic:function(xt){return typeof xt=="function"&&!xt._reglType||xt instanceof B},unbox:L,accessor:y},Se={next:typeof requestAnimationFrame=="function"?function(xt){return requestAnimationFrame(xt)}:function(xt){return setTimeout(xt,16)},cancel:typeof cancelAnimationFrame=="function"?function(xt){return cancelAnimationFrame(xt)}:clearTimeout},Te=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},ke=u();ke.zero=u();var we=function(xt,jt){var Jt=1;jt.ext_texture_filter_anisotropic&&(Jt=xt.getParameter(34047));var gr=1,or=1;jt.webgl_draw_buffers&&(gr=xt.getParameter(34852),or=xt.getParameter(36063));var yt=!!jt.oes_texture_float;if(yt){yt=xt.createTexture(),xt.bindTexture(3553,yt),xt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var at=xt.createFramebuffer();if(xt.bindFramebuffer(36160,at),xt.framebufferTexture2D(36160,36064,3553,yt,0),xt.bindTexture(3553,null),xt.checkFramebufferStatus(36160)!==36053)yt=!1;else{xt.viewport(0,0,1,1),xt.clearColor(1,0,0,1),xt.clear(16384);var wt=ke.allocType(5126,4);xt.readPixels(0,0,1,1,6408,5126,wt),xt.getError()?yt=!1:(xt.deleteFramebuffer(at),xt.deleteTexture(yt),yt=wt[0]===1),ke.freeType(wt)}}return wt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(wt=xt.createTexture(),at=ke.allocType(5121,36),xt.activeTexture(33984),xt.bindTexture(34067,wt),xt.texImage2D(34069,0,6408,3,3,0,6408,5121,at),ke.freeType(at),xt.bindTexture(34067,null),xt.deleteTexture(wt),wt=!xt.getError()),{colorBits:[xt.getParameter(3410),xt.getParameter(3411),xt.getParameter(3412),xt.getParameter(3413)],depthBits:xt.getParameter(3414),stencilBits:xt.getParameter(3415),subpixelBits:xt.getParameter(3408),extensions:Object.keys(jt).filter(function(Et){return!!jt[Et]}),maxAnisotropic:Jt,maxDrawbuffers:gr,maxColorAttachments:or,pointSizeDims:xt.getParameter(33901),lineWidthDims:xt.getParameter(33902),maxViewportDims:xt.getParameter(3386),maxCombinedTextureUnits:xt.getParameter(35661),maxCubeMapSize:xt.getParameter(34076),maxRenderbufferSize:xt.getParameter(34024),maxTextureUnits:xt.getParameter(34930),maxTextureSize:xt.getParameter(3379),maxAttributes:xt.getParameter(34921),maxVertexUniforms:xt.getParameter(36347),maxVertexTextureUnits:xt.getParameter(35660),maxVaryingVectors:xt.getParameter(36348),maxFragmentUniforms:xt.getParameter(36349),glsl:xt.getParameter(35724),renderer:xt.getParameter(7937),vendor:xt.getParameter(7936),version:xt.getParameter(7938),readFloat:yt,npotTextureCube:wt}},Ee=function(xt){return xt instanceof Uint8Array||xt instanceof Uint16Array||xt instanceof Uint32Array||xt instanceof Int8Array||xt instanceof Int16Array||xt instanceof Int32Array||xt instanceof Float32Array||xt instanceof Float64Array||xt instanceof Uint8ClampedArray},xe=function(xt){return Object.keys(xt).map(function(jt){return xt[jt]})},De={shape:function(xt){for(var jt=[];xt.length;xt=xt[0])jt.push(xt.length);return jt},flatten:function(xt,jt,Jt,gr){var or=1;if(jt.length)for(var yt=0;yt<jt.length;++yt)or*=jt[yt];else or=0;switch(Jt=gr||ke.allocType(Jt,or),jt.length){case 0:break;case 1:for(gr=jt[0],jt=0;jt<gr;++jt)Jt[jt]=xt[jt];break;case 2:for(gr=jt[0],jt=jt[1],yt=or=0;yt<gr;++yt)for(var at=xt[yt],wt=0;wt<jt;++wt)Jt[or++]=at[wt];break;case 3:l(xt,jt[0],jt[1],jt[2],Jt,0);break;default:m(xt,jt,0,Jt,0)}return Jt}},Ve={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ue={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Be={dynamic:35048,stream:35040,static:35044},Xe=De.flatten,ot=De.shape,ut=[];ut[5120]=1,ut[5122]=2,ut[5124]=4,ut[5121]=1,ut[5123]=2,ut[5125]=4,ut[5126]=4;var et={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},qe=new Float32Array(1),ft=new Uint32Array(qe.buffer),ht=[9984,9986,9985,9987],dt=[0,6409,6410,6407,6408],mt={};mt[6409]=mt[6406]=mt[6402]=1,mt[34041]=mt[6410]=2,mt[6407]=mt[35904]=3,mt[6408]=mt[35906]=4;var St=C("HTMLCanvasElement"),rt=C("OffscreenCanvas"),Oe=C("CanvasRenderingContext2D"),Ye=C("ImageBitmap"),Ze=C("HTMLImageElement"),Ge=C("HTMLVideoElement"),_e=Object.keys(Ve).concat([St,rt,Oe,Ye,Ze,Ge]),be=[];be[5121]=1,be[5126]=4,be[36193]=2,be[5123]=2,be[5125]=4;var me=[];me[32854]=2,me[32855]=2,me[36194]=2,me[34041]=4,me[33776]=.5,me[33777]=.5,me[33778]=1,me[33779]=1,me[35986]=.5,me[35987]=1,me[34798]=1,me[35840]=.5,me[35841]=.25,me[35842]=.5,me[35843]=.25,me[36196]=.5;var Ce=[];Ce[32854]=2,Ce[32855]=2,Ce[36194]=2,Ce[33189]=2,Ce[36168]=1,Ce[34041]=4,Ce[35907]=4,Ce[34836]=16,Ce[34842]=8,Ce[34843]=6;var Me=function(xt,jt,Jt,gr,or){function yt(Ut){this.id=Rt++,this.refCount=1,this.renderbuffer=Ut,this.format=32854,this.height=this.width=0,or.profile&&(this.stats={size:0})}function at(Ut){var Nt=Ut.renderbuffer;xt.bindRenderbuffer(36161,null),xt.deleteRenderbuffer(Nt),Ut.renderbuffer=null,Ut.refCount=0,delete Dt[Ut.id],gr.renderbufferCount--}var wt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};jt.ext_srgb&&(wt.srgba=35907),jt.ext_color_buffer_half_float&&(wt.rgba16f=34842,wt.rgb16f=34843),jt.webgl_color_buffer_float&&(wt.rgba32f=34836);var Et=[];Object.keys(wt).forEach(function(Ut){Et[wt[Ut]]=Ut});var Rt=0,Dt={};return yt.prototype.decRef=function(){0>=--this.refCount&&at(this)},or.profile&&(gr.getTotalRenderbufferSize=function(){var Ut=0;return Object.keys(Dt).forEach(function(Nt){Ut+=Dt[Nt].stats.size}),Ut}),{create:function(Ut,Nt){function Kt(fr,vr){var We=0,He=0,zt=32854;if(typeof fr=="object"&&fr?("shape"in fr?(He=fr.shape,We=He[0]|0,He=He[1]|0):("radius"in fr&&(We=He=fr.radius|0),"width"in fr&&(We=fr.width|0),"height"in fr&&(He=fr.height|0)),"format"in fr&&(zt=wt[fr.format])):typeof fr=="number"?(We=fr|0,He=typeof vr=="number"?vr|0:We):fr||(We=He=1),We!==ur.width||He!==ur.height||zt!==ur.format)return Kt.width=ur.width=We,Kt.height=ur.height=He,ur.format=zt,xt.bindRenderbuffer(36161,ur.renderbuffer),xt.renderbufferStorage(36161,zt,We,He),or.profile&&(ur.stats.size=Ce[ur.format]*ur.width*ur.height),Kt.format=Et[ur.format],Kt}var ur=new yt(xt.createRenderbuffer());return Dt[ur.id]=ur,gr.renderbufferCount++,Kt(Ut,Nt),Kt.resize=function(fr,vr){var We=fr|0,He=vr|0||We;return We===ur.width&&He===ur.height||(Kt.width=ur.width=We,Kt.height=ur.height=He,xt.bindRenderbuffer(36161,ur.renderbuffer),xt.renderbufferStorage(36161,ur.format,We,He),or.profile&&(ur.stats.size=Ce[ur.format]*ur.width*ur.height)),Kt},Kt._reglType="renderbuffer",Kt._renderbuffer=ur,or.profile&&(Kt.stats=ur.stats),Kt.destroy=function(){ur.decRef()},Kt},clear:function(){xe(Dt).forEach(at)},restore:function(){xe(Dt).forEach(function(Ut){Ut.renderbuffer=xt.createRenderbuffer(),xt.bindRenderbuffer(36161,Ut.renderbuffer),xt.renderbufferStorage(36161,Ut.format,Ut.width,Ut.height)}),xt.bindRenderbuffer(36161,null)}}},Ne=[];Ne[6408]=4,Ne[6407]=3;var je=[];je[5121]=1,je[5126]=4,je[36193]=2;var tt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ct=["x","y","z","w"],pt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Xt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Yt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Tt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},_t={cw:2304,ccw:2305},Qt=new G(!1,!1,!1,function(){}),wr=function(xt,jt){function Jt(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function gr(Dt,Ut,Nt){var Kt=at.pop()||new Jt;Kt.startQueryIndex=Dt,Kt.endQueryIndex=Ut,Kt.sum=0,Kt.stats=Nt,wt.push(Kt)}if(!jt.ext_disjoint_timer_query)return null;var or=[],yt=[],at=[],wt=[],Et=[],Rt=[];return{beginQuery:function(Dt){var Ut=or.pop()||jt.ext_disjoint_timer_query.createQueryEXT();jt.ext_disjoint_timer_query.beginQueryEXT(35007,Ut),yt.push(Ut),gr(yt.length-1,yt.length,Dt)},endQuery:function(){jt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:gr,update:function(){var Dt,Ut;if(Dt=yt.length,Dt!==0){Rt.length=Math.max(Rt.length,Dt+1),Et.length=Math.max(Et.length,Dt+1),Et[0]=0;var Nt=Rt[0]=0;for(Ut=Dt=0;Ut<yt.length;++Ut){var Kt=yt[Ut];jt.ext_disjoint_timer_query.getQueryObjectEXT(Kt,34919)?(Nt+=jt.ext_disjoint_timer_query.getQueryObjectEXT(Kt,34918),or.push(Kt)):yt[Dt++]=Kt,Et[Ut+1]=Nt,Rt[Ut+1]=Dt}for(yt.length=Dt,Ut=Dt=0;Ut<wt.length;++Ut){var Nt=wt[Ut],ur=Nt.startQueryIndex,Kt=Nt.endQueryIndex;Nt.sum+=Et[Kt]-Et[ur],ur=Rt[ur],Kt=Rt[Kt],Kt===ur?(Nt.stats.gpuTime+=Nt.sum/1e6,at.push(Nt)):(Nt.startQueryIndex=ur,Nt.endQueryIndex=Kt,wt[Dt++]=Nt)}wt.length=Dt}},getNumPendingQueries:function(){return yt.length},clear:function(){or.push.apply(or,yt);for(var Dt=0;Dt<or.length;Dt++)jt.ext_disjoint_timer_query.deleteQueryEXT(or[Dt]);yt.length=0,or.length=0},restore:function(){yt.length=0,or.length=0}}};return function(xt){function jt(){if(Sn.length===0)zt&&zt.update(),Ur=null;else{Ur=Se.next(jt),Dt();for(var pn=Sn.length-1;0<=pn;--pn){var gn=Sn[pn];gn&&gn(er,null,0)}Kt.flush(),zt&&zt.update()}}function Jt(){!Ur&&0<Sn.length&&(Ur=Se.next(jt))}function gr(){Ur&&(Se.cancel(jt),Ur=null)}function or(pn){pn.preventDefault(),gr(),Tr.forEach(function(gn){gn()})}function yt(pn){Kt.getError(),fr.restore(),mr.restore(),Ft.restore(),hr.restore(),Gr.restore(),Dr.restore(),pr.restore(),zt&&zt.restore(),Ir.procs.refresh(),Jt(),Lr.forEach(function(gn){gn()})}function at(pn){function gn(dn,Vn){var wn={},Tn={};return Object.keys(dn).forEach(function(Nn){var Jn=dn[Nn];if(ye.isDynamic(Jn))Tn[Nn]=ye.unbox(Jn,Nn);else{if(Vn&&Array.isArray(Jn)){for(var gi=0;gi<Jn.length;++gi)if(ye.isDynamic(Jn[gi])){Tn[Nn]=ye.unbox(Jn,Nn);return}}wn[Nn]=Jn}}),{dynamic:Tn,static:wn}}function En(dn){for(;$r.length<dn;)$r.push(null);return $r}var On=gn(pn.context||{},!0),ni=gn(pn.uniforms||{},!0),ci=gn(pn.attributes||{},!1);pn=gn(function(dn){function Vn(Tn){if(Tn in wn){var Nn=wn[Tn];delete wn[Tn],Object.keys(Nn).forEach(function(Jn){wn[Tn+"."+Jn]=Nn[Jn]})}}var wn=ie({},dn);return delete wn.uniforms,delete wn.attributes,delete wn.context,delete wn.vao,"stencil"in wn&&wn.stencil.op&&(wn.stencil.opBack=wn.stencil.opFront=wn.stencil.op,delete wn.stencil.op),Vn("blend"),Vn("depth"),Vn("cull"),Vn("stencil"),Vn("polygonOffset"),Vn("scissor"),Vn("sample"),"vao"in dn&&(wn.vao=dn.vao),wn}(pn),!1);var di={gpuTime:0,cpuTime:0,count:0},li=Ir.compile(pn,ci,ni,On,di),ri=li.draw,br=li.batch,nn=li.scope,$r=[];return ie(function(dn,Vn){var wn;if(typeof dn=="function")return nn.call(this,null,dn,0);if(typeof Vn=="function")if(typeof dn=="number")for(wn=0;wn<dn;++wn)nn.call(this,null,Vn,wn);else if(Array.isArray(dn))for(wn=0;wn<dn.length;++wn)nn.call(this,dn[wn],Vn,wn);else return nn.call(this,dn,Vn,0);else if(typeof dn=="number"){if(0<dn)return br.call(this,En(dn|0),dn|0)}else if(Array.isArray(dn)){if(dn.length)return br.call(this,dn,dn.length)}else return ri.call(this,dn)},{stats:di,destroy:function(){li.destroy()}})}function wt(pn,gn){var En=0;Ir.procs.poll();var On=gn.color;On&&(Kt.clearColor(+On[0]||0,+On[1]||0,+On[2]||0,+On[3]||0),En|=16384),"depth"in gn&&(Kt.clearDepth(+gn.depth),En|=256),"stencil"in gn&&(Kt.clearStencil(gn.stencil|0),En|=1024),Kt.clear(En)}function Et(pn){return Sn.push(pn),Jt(),{cancel:function(){function gn(){var On=se(Sn,gn);Sn[On]=Sn[Sn.length-1],--Sn.length,0>=Sn.length&&gr()}var En=se(Sn,pn);Sn[En]=gn}}}function Rt(){var pn=rn.viewport,gn=rn.scissor_box;pn[0]=pn[1]=gn[0]=gn[1]=0,er.viewportWidth=er.framebufferWidth=er.drawingBufferWidth=pn[2]=gn[2]=Kt.drawingBufferWidth,er.viewportHeight=er.framebufferHeight=er.drawingBufferHeight=pn[3]=gn[3]=Kt.drawingBufferHeight}function Dt(){er.tick+=1,er.time=Nt(),Rt(),Ir.procs.poll()}function Ut(){hr.refresh(),Rt(),Ir.procs.refresh(),zt&&zt.update()}function Nt(){return(Te()-kt)/1e3}if(xt=r(xt),!xt)return null;var Kt=xt.gl,ur=Kt.getContextAttributes();Kt.isContextLost();var fr=t(Kt,xt);if(!fr)return null;var cn=i(),vr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},We=xt.cachedCode||{},He=fr.extensions,zt=wr(Kt,He),kt=Te(),lr=Kt.drawingBufferWidth,Zt=Kt.drawingBufferHeight,er={tick:0,time:0,viewportWidth:lr,viewportHeight:Zt,framebufferWidth:lr,framebufferHeight:Zt,drawingBufferWidth:lr,drawingBufferHeight:Zt,pixelRatio:xt.pixelRatio},lr={elements:null,primitive:4,count:-1,offset:0,instances:-1},rr=we(Kt,He),Ft=o(Kt,vr,xt,function(pn){return pr.destroyBuffer(pn)}),cr=d(Kt,He,Ft,vr),pr=F(Kt,He,rr,vr,Ft,cr,lr),mr=N(Kt,cn,vr,xt),hr=z(Kt,He,rr,function(){Ir.procs.poll()},er,vr,xt),Gr=Me(Kt,He,rr,vr,xt),Dr=_(Kt,He,rr,hr,Gr,vr),Ir=J(Kt,cn,He,rr,Ft,cr,hr,Dr,{},pr,mr,lr,er,zt,We,xt),cn=k(Kt,Dr,Ir.procs.poll,er),rn=Ir.next,Cn=Kt.canvas,Sn=[],Tr=[],Lr=[],Wr=[xt.onDestroy],Ur=null;Cn&&(Cn.addEventListener("webglcontextlost",or,!1),Cn.addEventListener("webglcontextrestored",yt,!1));var an=Dr.setFBO=at({framebuffer:ye.define.call(null,1,"framebuffer")});return Ut(),ur=ie(at,{clear:function(pn){if("framebuffer"in pn)if(pn.framebuffer&&pn.framebuffer_reglType==="framebufferCube")for(var gn=0;6>gn;++gn)an(ie({framebuffer:pn.framebuffer.faces[gn]},pn),wt);else an(pn,wt);else wt(null,pn)},prop:ye.define.bind(null,1),context:ye.define.bind(null,2),this:ye.define.bind(null,3),draw:at({}),buffer:function(pn){return Ft.create(pn,34962,!1,!1)},elements:function(pn){return cr.create(pn,!1)},texture:hr.create2D,cube:hr.createCube,renderbuffer:Gr.create,framebuffer:Dr.create,framebufferCube:Dr.createCube,vao:pr.createVAO,attributes:ur,frame:Et,on:function(pn,gn){var En;switch(pn){case"frame":return Et(gn);case"lost":En=Tr;break;case"restore":En=Lr;break;case"destroy":En=Wr}return En.push(gn),{cancel:function(){for(var On=0;On<En.length;++On)if(En[On]===gn){En[On]=En[En.length-1],En.pop();break}}}},limits:rr,hasExtension:function(pn){return 0<=rr.extensions.indexOf(pn.toLowerCase())},read:cn,destroy:function(){Sn.length=0,gr(),Cn&&(Cn.removeEventListener("webglcontextlost",or),Cn.removeEventListener("webglcontextrestored",yt)),mr.clear(),Dr.clear(),Gr.clear(),pr.clear(),hr.clear(),cr.clear(),Ft.clear(),zt&&zt.clear(),Wr.forEach(function(pn){pn()})},_gl:Kt,_refresh:Ut,poll:function(){Dt(),zt&&zt.update()},now:Nt,stats:vr,getCachedCode:function(){return We},preloadCachedCode:function(pn){Object.entries(pn).forEach(function(gn){We[gn[0]]=gn[1]})}}),xt.onDone(null,ur),ur}})},30456:function(U,B,e){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var y=e(33576),L=y.Buffer;function i(b,v){for(var p in b)v[p]=b[p]}L.from&&L.alloc&&L.allocUnsafe&&L.allocUnsafeSlow?U.exports=y:(i(y,B),B.Buffer=S);function S(b,v,p){return L(b,v,p)}S.prototype=Object.create(L.prototype),i(L,S),S.from=function(b,v,p){if(typeof b=="number")throw new TypeError("Argument must not be a number");return L(b,v,p)},S.alloc=function(b,v,p){if(typeof b!="number")throw new TypeError("Argument must be a number");var r=L(b);return v!==void 0?typeof p=="string"?r.fill(v,p):r.fill(v):r.fill(0),r},S.allocUnsafe=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return L(b)},S.allocUnsafeSlow=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return y.SlowBuffer(b)}},14500:function(U,B,e){var y=e(53664),L=e(64348),i=e(39640)(),S=e(2304),b=y("%TypeError%"),v=y("%Math.floor%");U.exports=function(r,t){if(typeof r!="function")throw new b("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||v(t)!==t)throw new b("`length` must be a positive 32-bit integer");var a=arguments.length>2&&!!arguments[2],n=!0,u=!0;if("length"in r&&S){var s=S(r,"length");s&&!s.configurable&&(n=!1),s&&!s.writable&&(u=!1)}return(n||u||!a)&&(i?L(r,"length",t,!0,!0):L(r,"length",t)),r}},29936:function(U,B,e){U.exports=i;var y=e(61252).EventEmitter,L=e(6768);L(i,y),i.Readable=e(12348),i.Writable=e(11288),i.Duplex=e(15316),i.Transform=e(22477),i.PassThrough=e(27136),i.finished=e(15932),i.pipeline=e(38180),i.Stream=i;function i(){y.call(this)}i.prototype.pipe=function(S,b){var v=this;function p(l){S.writable&&S.write(l)===!1&&v.pause&&v.pause()}v.on("data",p);function r(){v.readable&&v.resume&&v.resume()}S.on("drain",r),!S._isStdio&&(!b||b.end!==!1)&&(v.on("end",a),v.on("close",n));var t=!1;function a(){t||(t=!0,S.end())}function n(){t||(t=!0,typeof S.destroy=="function"&&S.destroy())}function u(l){if(s(),y.listenerCount(this,"error")===0)throw l}v.on("error",u),S.on("error",u);function s(){v.removeListener("data",p),S.removeListener("drain",r),v.removeListener("end",a),v.removeListener("close",n),v.removeListener("error",u),S.removeListener("error",u),v.removeListener("end",s),v.removeListener("close",s),S.removeListener("close",s)}return v.on("end",s),v.on("close",s),S.on("close",s),S.emit("pipe",v),S}},92784:function(U){function B(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}var e={};function y(v,p,r){r||(r=Error);function t(n,u,s){return typeof p=="string"?p:p(n,u,s)}var a=function(n){B(u,n);function u(s,l,m){return n.call(this,t(s,l,m))||this}return u}(r);a.prototype.name=r.name,a.prototype.code=v,e[v]=a}function L(v,p){if(Array.isArray(v)){var r=v.length;return v=v.map(function(t){return String(t)}),r>2?"one of ".concat(p," ").concat(v.slice(0,r-1).join(", "),", or ")+v[r-1]:r===2?"one of ".concat(p," ").concat(v[0]," or ").concat(v[1]):"of ".concat(p," ").concat(v[0])}else return"of ".concat(p," ").concat(String(v))}function i(v,p,r){return v.substr(!r||r<0?0:+r,p.length)===p}function S(v,p,r){return(r===void 0||r>v.length)&&(r=v.length),v.substring(r-p.length,r)===p}function b(v,p,r){return typeof r!="number"&&(r=0),r+p.length>v.length?!1:v.indexOf(p,r)!==-1}y("ERR_INVALID_OPT_VALUE",function(v,p){return'The value "'+p+'" is invalid for option "'+v+'"'},TypeError),y("ERR_INVALID_ARG_TYPE",function(v,p,r){var t;typeof p=="string"&&i(p,"not ")?(t="must not be",p=p.replace(/^not /,"")):t="must be";var a;if(S(v," argument"))a="The ".concat(v," ").concat(t," ").concat(L(p,"type"));else{var n=b(v,".")?"property":"argument";a='The "'.concat(v,'" ').concat(n," ").concat(t," ").concat(L(p,"type"))}return a+=". Received type ".concat(typeof r),a},TypeError),y("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),y("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),y("ERR_STREAM_PREMATURE_CLOSE","Premature close"),y("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),y("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),y("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),y("ERR_STREAM_WRITE_AFTER_END","write after end"),y("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),y("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),y("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),U.exports.i=e},15316:function(U,B,e){var y=e(4168),L=Object.keys||function(n){var u=[];for(var s in n)u.push(s);return u};U.exports=r;var i=e(12348),S=e(11288);e(6768)(r,i);for(var b=L(S.prototype),v=0;v<b.length;v++){var p=b[v];r.prototype[p]||(r.prototype[p]=S.prototype[p])}function r(n){if(!(this instanceof r))return new r(n);i.call(this,n),S.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",t)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function t(){this._writableState.ended||y.nextTick(a,this)}function a(n){n.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}})},27136:function(U,B,e){U.exports=L;var y=e(22477);e(6768)(L,y);function L(i){if(!(this instanceof L))return new L(i);y.call(this,i)}L.prototype._transform=function(i,S,b){b(null,i)}},12348:function(U,B,e){var y=e(4168);U.exports=f;var L;f.ReadableState=M,e(61252).EventEmitter;var i=function(J,se){return J.listeners(se).length},S=e(4776),b=e(33576).Buffer,v=e.g.Uint8Array||function(){};function p($){return b.from($)}function r($){return b.isBuffer($)||$ instanceof v}var t=e(19768),a;t&&t.debuglog?a=t.debuglog("stream"):a=function(){};var n=e(47264),u=e(55324),s=e(24888),l=s.getHighWaterMark,m=e(92784).i,h=m.ERR_INVALID_ARG_TYPE,g=m.ERR_STREAM_PUSH_AFTER_EOF,c=m.ERR_METHOD_NOT_IMPLEMENTED,o=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,d,w,A;e(6768)(f,S);var C=u.errorOrDestroy,x=["error","close","destroy","pause","resume"];function E($,J,se){if(typeof $.prependListener=="function")return $.prependListener(J,se);!$._events||!$._events[J]?$.on(J,se):Array.isArray($._events[J])?$._events[J].unshift(se):$._events[J]=[se,$._events[J]]}function M($,J,se){L=L||e(15316),$=$||{},typeof se!="boolean"&&(se=J instanceof L),this.objectMode=!!$.objectMode,se&&(this.objectMode=this.objectMode||!!$.readableObjectMode),this.highWaterMark=l(this,$,"readableHighWaterMark",se),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=$.emitClose!==!1,this.autoDestroy=!!$.autoDestroy,this.destroyed=!1,this.defaultEncoding=$.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(d||(d=e(86032).o),this.decoder=new d($.encoding),this.encoding=$.encoding)}function f($){if(L=L||e(15316),!(this instanceof f))return new f($);var J=this instanceof L;this._readableState=new M($,this,J),this.readable=!0,$&&(typeof $.read=="function"&&(this._read=$.read),typeof $.destroy=="function"&&(this._destroy=$.destroy)),S.call(this)}Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(J){this._readableState&&(this._readableState.destroyed=J)}}),f.prototype.destroy=u.destroy,f.prototype._undestroy=u.undestroy,f.prototype._destroy=function($,J){J($)},f.prototype.push=function($,J){var se=this._readableState,ie;return se.objectMode?ie=!0:typeof $=="string"&&(J=J||se.defaultEncoding,J!==se.encoding&&($=b.from($,J),J=""),ie=!0),P(this,$,J,!1,ie)},f.prototype.unshift=function($){return P(this,$,null,!0,!1)};function P($,J,se,ie,ce){a("readableAddChunk",J);var ye=$._readableState;if(J===null)ye.reading=!1,N($,ye);else{var Se;if(ce||(Se=z(ye,J)),Se)C($,Se);else if(ye.objectMode||J&&J.length>0)if(typeof J!="string"&&!ye.objectMode&&Object.getPrototypeOf(J)!==b.prototype&&(J=p(J)),ie)ye.endEmitted?C($,new o):T($,ye,J,!0);else if(ye.ended)C($,new g);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!se?(J=ye.decoder.write(J),ye.objectMode||J.length!==0?T($,ye,J,!1):H($,ye)):T($,ye,J,!1)}else ie||(ye.reading=!1,H($,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function T($,J,se,ie){J.flowing&&J.length===0&&!J.sync?(J.awaitDrain=0,$.emit("data",se)):(J.length+=J.objectMode?1:se.length,ie?J.buffer.unshift(se):J.buffer.push(se),J.needReadable&&k($)),H($,J)}function z($,J){var se;return!r(J)&&typeof J!="string"&&J!==void 0&&!$.objectMode&&(se=new h("chunk",["string","Buffer","Uint8Array"],J)),se}f.prototype.isPaused=function(){return this._readableState.flowing===!1},f.prototype.setEncoding=function($){d||(d=e(86032).o);var J=new d($);this._readableState.decoder=J,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,ie="";se!==null;)ie+=J.write(se.data),se=se.next;return this._readableState.buffer.clear(),ie!==""&&this._readableState.buffer.push(ie),this._readableState.length=ie.length,this};var _=1073741824;function V($){return $>=_?$=_:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$}function F($,J){return $<=0||J.length===0&&J.ended?0:J.objectMode?1:$!==$?J.flowing&&J.length?J.buffer.head.data.length:J.length:($>J.highWaterMark&&(J.highWaterMark=V($)),$<=J.length?$:J.ended?J.length:(J.needReadable=!0,0))}f.prototype.read=function($){a("read",$),$=parseInt($,10);var J=this._readableState,se=$;if($!==0&&(J.emittedReadable=!1),$===0&&J.needReadable&&((J.highWaterMark!==0?J.length>=J.highWaterMark:J.length>0)||J.ended))return a("read: emitReadable",J.length,J.ended),J.length===0&&J.ended?G(this):k(this),null;if($=F($,J),$===0&&J.ended)return J.length===0&&G(this),null;var ie=J.needReadable;a("need readable",ie),(J.length===0||J.length-$<J.highWaterMark)&&(ie=!0,a("length less than watermark",ie)),J.ended||J.reading?(ie=!1,a("reading or ended",ie)):ie&&(a("do read"),J.reading=!0,J.sync=!0,J.length===0&&(J.needReadable=!0),this._read(J.highWaterMark),J.sync=!1,J.reading||($=F(se,J)));var ce;return $>0?ce=Z($,J):ce=null,ce===null?(J.needReadable=J.length<=J.highWaterMark,$=0):(J.length-=$,J.awaitDrain=0),J.length===0&&(J.ended||(J.needReadable=!0),se!==$&&J.ended&&G(this)),ce!==null&&this.emit("data",ce),ce};function N($,J){if(a("onEofChunk"),!J.ended){if(J.decoder){var se=J.decoder.end();se&&se.length&&(J.buffer.push(se),J.length+=J.objectMode?1:se.length)}J.ended=!0,J.sync?k($):(J.needReadable=!1,J.emittedReadable||(J.emittedReadable=!0,I($)))}}function k($){var J=$._readableState;a("emitReadable",J.needReadable,J.emittedReadable),J.needReadable=!1,J.emittedReadable||(a("emitReadable",J.flowing),J.emittedReadable=!0,y.nextTick(I,$))}function I($){var J=$._readableState;a("emitReadable_",J.destroyed,J.length,J.ended),!J.destroyed&&(J.length||J.ended)&&($.emit("readable"),J.emittedReadable=!1),J.needReadable=!J.flowing&&!J.ended&&J.length<=J.highWaterMark,Y($)}function H($,J){J.readingMore||(J.readingMore=!0,y.nextTick(j,$,J))}function j($,J){for(;!J.reading&&!J.ended&&(J.length<J.highWaterMark||J.flowing&&J.length===0);){var se=J.length;if(a("maybeReadMore read 0"),$.read(0),se===J.length)break}J.readingMore=!1}f.prototype._read=function($){C(this,new c("_read()"))},f.prototype.pipe=function($,J){var se=this,ie=this._readableState;switch(ie.pipesCount){case 0:ie.pipes=$;break;case 1:ie.pipes=[ie.pipes,$];break;default:ie.pipes.push($);break}ie.pipesCount+=1,a("pipe count=%d opts=%j",ie.pipesCount,J);var ce=(!J||J.end!==!1)&&$!==y.stdout&&$!==y.stderr,ye=ce?Te:Be;ie.endEmitted?y.nextTick(ye):se.once("end",ye),$.on("unpipe",Se);function Se(Xe,ot){a("onunpipe"),Xe===se&&ot&&ot.hasUnpiped===!1&&(ot.hasUnpiped=!0,Ee())}function Te(){a("onend"),$.end()}var ke=ee(se);$.on("drain",ke);var we=!1;function Ee(){a("cleanup"),$.removeListener("close",Ve),$.removeListener("finish",Ue),$.removeListener("drain",ke),$.removeListener("error",De),$.removeListener("unpipe",Se),se.removeListener("end",Te),se.removeListener("end",Be),se.removeListener("data",xe),we=!0,ie.awaitDrain&&(!$._writableState||$._writableState.needDrain)&&ke()}se.on("data",xe);function xe(Xe){a("ondata");var ot=$.write(Xe);a("dest.write",ot),ot===!1&&((ie.pipesCount===1&&ie.pipes===$||ie.pipesCount>1&&oe(ie.pipes,$)!==-1)&&!we&&(a("false write response, pause",ie.awaitDrain),ie.awaitDrain++),se.pause())}function De(Xe){a("onerror",Xe),Be(),$.removeListener("error",De),i($,"error")===0&&C($,Xe)}E($,"error",De);function Ve(){$.removeListener("finish",Ue),Be()}$.once("close",Ve);function Ue(){a("onfinish"),$.removeListener("close",Ve),Be()}$.once("finish",Ue);function Be(){a("unpipe"),se.unpipe($)}return $.emit("pipe",se),ie.flowing||(a("pipe resume"),se.resume()),$};function ee($){return function(){var se=$._readableState;a("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&i($,"data")&&(se.flowing=!0,Y($))}}f.prototype.unpipe=function($){var J=this._readableState,se={hasUnpiped:!1};if(J.pipesCount===0)return this;if(J.pipesCount===1)return $&&$!==J.pipes?this:($||($=J.pipes),J.pipes=null,J.pipesCount=0,J.flowing=!1,$&&$.emit("unpipe",this,se),this);if(!$){var ie=J.pipes,ce=J.pipesCount;J.pipes=null,J.pipesCount=0,J.flowing=!1;for(var ye=0;ye<ce;ye++)ie[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var Se=oe(J.pipes,$);return Se===-1?this:(J.pipes.splice(Se,1),J.pipesCount-=1,J.pipesCount===1&&(J.pipes=J.pipes[0]),$.emit("unpipe",this,se),this)},f.prototype.on=function($,J){var se=S.prototype.on.call(this,$,J),ie=this._readableState;return $==="data"?(ie.readableListening=this.listenerCount("readable")>0,ie.flowing!==!1&&this.resume()):$==="readable"&&!ie.endEmitted&&!ie.readableListening&&(ie.readableListening=ie.needReadable=!0,ie.flowing=!1,ie.emittedReadable=!1,a("on readable",ie.length,ie.reading),ie.length?k(this):ie.reading||y.nextTick(ne,this)),se},f.prototype.addListener=f.prototype.on,f.prototype.removeListener=function($,J){var se=S.prototype.removeListener.call(this,$,J);return $==="readable"&&y.nextTick(te,this),se},f.prototype.removeAllListeners=function($){var J=S.prototype.removeAllListeners.apply(this,arguments);return($==="readable"||$===void 0)&&y.nextTick(te,this),J};function te($){var J=$._readableState;J.readableListening=$.listenerCount("readable")>0,J.resumeScheduled&&!J.paused?J.flowing=!0:$.listenerCount("data")>0&&$.resume()}function ne($){a("readable nexttick read 0"),$.read(0)}f.prototype.resume=function(){var $=this._readableState;return $.flowing||(a("resume"),$.flowing=!$.readableListening,ue(this,$)),$.paused=!1,this};function ue($,J){J.resumeScheduled||(J.resumeScheduled=!0,y.nextTick(q,$,J))}function q($,J){a("resume",J.reading),J.reading||$.read(0),J.resumeScheduled=!1,$.emit("resume"),Y($),J.flowing&&!J.reading&&$.read(0)}f.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Y($){var J=$._readableState;for(a("flow",J.flowing);J.flowing&&$.read()!==null;);}f.prototype.wrap=function($){var J=this,se=this._readableState,ie=!1;$.on("end",function(){if(a("wrapped end"),se.decoder&&!se.ended){var Se=se.decoder.end();Se&&Se.length&&J.push(Se)}J.push(null)}),$.on("data",function(Se){if(a("wrapped data"),se.decoder&&(Se=se.decoder.write(Se)),!(se.objectMode&&Se==null)&&!(!se.objectMode&&(!Se||!Se.length))){var Te=J.push(Se);Te||(ie=!0,$.pause())}});for(var ce in $)this[ce]===void 0&&typeof $[ce]=="function"&&(this[ce]=function(Te){return function(){return $[Te].apply($,arguments)}}(ce));for(var ye=0;ye<x.length;ye++)$.on(x[ye],this.emit.bind(this,x[ye]));return this._read=function(Se){a("wrapped _read",Se),ie&&(ie=!1,$.resume())},this},typeof Symbol=="function"&&(f.prototype[Symbol.asyncIterator]=function(){return w===void 0&&(w=e(60328)),w(this)}),Object.defineProperty(f.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(f.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(f.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(J){this._readableState&&(this._readableState.flowing=J)}}),f._fromList=Z,Object.defineProperty(f.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Z($,J){if(J.length===0)return null;var se;return J.objectMode?se=J.buffer.shift():!$||$>=J.length?(J.decoder?se=J.buffer.join(""):J.buffer.length===1?se=J.buffer.first():se=J.buffer.concat(J.length),J.buffer.clear()):se=J.buffer.consume($,J.decoder),se}function G($){var J=$._readableState;a("endReadable",J.endEmitted),J.endEmitted||(J.ended=!0,y.nextTick(K,J,$))}function K($,J){if(a("endReadableNT",$.endEmitted,$.length),!$.endEmitted&&$.length===0&&($.endEmitted=!0,J.readable=!1,J.emit("end"),$.autoDestroy)){var se=J._writableState;(!se||se.autoDestroy&&se.finished)&&J.destroy()}}typeof Symbol=="function"&&(f.from=function($,J){return A===void 0&&(A=e(90555)),A(f,$,J)});function oe($,J){for(var se=0,ie=$.length;se<ie;se++)if($[se]===J)return se;return-1}},22477:function(U,B,e){U.exports=r;var y=e(92784).i,L=y.ERR_METHOD_NOT_IMPLEMENTED,i=y.ERR_MULTIPLE_CALLBACK,S=y.ERR_TRANSFORM_ALREADY_TRANSFORMING,b=y.ERR_TRANSFORM_WITH_LENGTH_0,v=e(15316);e(6768)(r,v);function p(n,u){var s=this._transformState;s.transforming=!1;var l=s.writecb;if(l===null)return this.emit("error",new i);s.writechunk=null,s.writecb=null,u!=null&&this.push(u),l(n);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function r(n){if(!(this instanceof r))return new r(n);v.call(this,n),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",t)}function t(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(u,s){a(n,u,s)}):a(this,null,null)}r.prototype.push=function(n,u){return this._transformState.needTransform=!1,v.prototype.push.call(this,n,u)},r.prototype._transform=function(n,u,s){s(new L("_transform()"))},r.prototype._write=function(n,u,s){var l=this._transformState;if(l.writecb=s,l.writechunk=n,l.writeencoding=u,!l.transforming){var m=this._readableState;(l.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},r.prototype._read=function(n){var u=this._transformState;u.writechunk!==null&&!u.transforming?(u.transforming=!0,this._transform(u.writechunk,u.writeencoding,u.afterTransform)):u.needTransform=!0},r.prototype._destroy=function(n,u){v.prototype._destroy.call(this,n,function(s){u(s)})};function a(n,u,s){if(u)return n.emit("error",u);if(s!=null&&n.push(s),n._writableState.length)throw new b;if(n._transformState.transforming)throw new S;return n.push(null)}},11288:function(U,B,e){var y=e(4168);U.exports=M;function L(Y){var Z=this;this.next=null,this.entry=null,this.finish=function(){q(Z,Y)}}var i;M.WritableState=x;var S={deprecate:e(96656)},b=e(4776),v=e(33576).Buffer,p=e.g.Uint8Array||function(){};function r(Y){return v.from(Y)}function t(Y){return v.isBuffer(Y)||Y instanceof p}var a=e(55324),n=e(24888),u=n.getHighWaterMark,s=e(92784).i,l=s.ERR_INVALID_ARG_TYPE,m=s.ERR_METHOD_NOT_IMPLEMENTED,h=s.ERR_MULTIPLE_CALLBACK,g=s.ERR_STREAM_CANNOT_PIPE,c=s.ERR_STREAM_DESTROYED,o=s.ERR_STREAM_NULL_VALUES,d=s.ERR_STREAM_WRITE_AFTER_END,w=s.ERR_UNKNOWN_ENCODING,A=a.errorOrDestroy;e(6768)(M,b);function C(){}function x(Y,Z,G){i=i||e(15316),Y=Y||{},typeof G!="boolean"&&(G=Z instanceof i),this.objectMode=!!Y.objectMode,G&&(this.objectMode=this.objectMode||!!Y.writableObjectMode),this.highWaterMark=u(this,Y,"writableHighWaterMark",G),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var K=Y.decodeStrings===!1;this.decodeStrings=!K,this.defaultEncoding=Y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(oe){N(Z,oe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Y.emitClose!==!1,this.autoDestroy=!!Y.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new L(this)}x.prototype.getBuffer=function(){for(var Z=this.bufferedRequest,G=[];Z;)G.push(Z),Z=Z.next;return G},function(){try{Object.defineProperty(x.prototype,"buffer",{get:S.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var E;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(E=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(Z){return E.call(this,Z)?!0:this!==M?!1:Z&&Z._writableState instanceof x}})):E=function(Z){return Z instanceof this};function M(Y){i=i||e(15316);var Z=this instanceof i;if(!Z&&!E.call(M,this))return new M(Y);this._writableState=new x(Y,this,Z),this.writable=!0,Y&&(typeof Y.write=="function"&&(this._write=Y.write),typeof Y.writev=="function"&&(this._writev=Y.writev),typeof Y.destroy=="function"&&(this._destroy=Y.destroy),typeof Y.final=="function"&&(this._final=Y.final)),b.call(this)}M.prototype.pipe=function(){A(this,new g)};function f(Y,Z){var G=new d;A(Y,G),y.nextTick(Z,G)}function P(Y,Z,G,K){var oe;return G===null?oe=new o:typeof G!="string"&&!Z.objectMode&&(oe=new l("chunk",["string","Buffer"],G)),oe?(A(Y,oe),y.nextTick(K,oe),!1):!0}M.prototype.write=function(Y,Z,G){var K=this._writableState,oe=!1,$=!K.objectMode&&t(Y);return $&&!v.isBuffer(Y)&&(Y=r(Y)),typeof Z=="function"&&(G=Z,Z=null),$?Z="buffer":Z||(Z=K.defaultEncoding),typeof G!="function"&&(G=C),K.ending?f(this,G):($||P(this,K,Y,G))&&(K.pendingcb++,oe=z(this,K,$,Y,Z,G)),oe},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var Y=this._writableState;Y.corked&&(Y.corked--,!Y.writing&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest&&H(this,Y))},M.prototype.setDefaultEncoding=function(Z){if(typeof Z=="string"&&(Z=Z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Z+"").toLowerCase())>-1))throw new w(Z);return this._writableState.defaultEncoding=Z,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function T(Y,Z,G){return!Y.objectMode&&Y.decodeStrings!==!1&&typeof Z=="string"&&(Z=v.from(Z,G)),Z}Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function z(Y,Z,G,K,oe,$){if(!G){var J=T(Z,K,oe);K!==J&&(G=!0,oe="buffer",K=J)}var se=Z.objectMode?1:K.length;Z.length+=se;var ie=Z.length<Z.highWaterMark;if(ie||(Z.needDrain=!0),Z.writing||Z.corked){var ce=Z.lastBufferedRequest;Z.lastBufferedRequest={chunk:K,encoding:oe,isBuf:G,callback:$,next:null},ce?ce.next=Z.lastBufferedRequest:Z.bufferedRequest=Z.lastBufferedRequest,Z.bufferedRequestCount+=1}else _(Y,Z,!1,se,K,oe,$);return ie}function _(Y,Z,G,K,oe,$,J){Z.writelen=K,Z.writecb=J,Z.writing=!0,Z.sync=!0,Z.destroyed?Z.onwrite(new c("write")):G?Y._writev(oe,Z.onwrite):Y._write(oe,$,Z.onwrite),Z.sync=!1}function V(Y,Z,G,K,oe){--Z.pendingcb,G?(y.nextTick(oe,K),y.nextTick(ne,Y,Z),Y._writableState.errorEmitted=!0,A(Y,K)):(oe(K),Y._writableState.errorEmitted=!0,A(Y,K),ne(Y,Z))}function F(Y){Y.writing=!1,Y.writecb=null,Y.length-=Y.writelen,Y.writelen=0}function N(Y,Z){var G=Y._writableState,K=G.sync,oe=G.writecb;if(typeof oe!="function")throw new h;if(F(G),Z)V(Y,G,K,Z,oe);else{var $=j(G)||Y.destroyed;!$&&!G.corked&&!G.bufferProcessing&&G.bufferedRequest&&H(Y,G),K?y.nextTick(k,Y,G,$,oe):k(Y,G,$,oe)}}function k(Y,Z,G,K){G||I(Y,Z),Z.pendingcb--,K(),ne(Y,Z)}function I(Y,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,Y.emit("drain"))}function H(Y,Z){Z.bufferProcessing=!0;var G=Z.bufferedRequest;if(Y._writev&&G&&G.next){var K=Z.bufferedRequestCount,oe=new Array(K),$=Z.corkedRequestsFree;$.entry=G;for(var J=0,se=!0;G;)oe[J]=G,G.isBuf||(se=!1),G=G.next,J+=1;oe.allBuffers=se,_(Y,Z,!0,Z.length,oe,"",$.finish),Z.pendingcb++,Z.lastBufferedRequest=null,$.next?(Z.corkedRequestsFree=$.next,$.next=null):Z.corkedRequestsFree=new L(Z),Z.bufferedRequestCount=0}else{for(;G;){var ie=G.chunk,ce=G.encoding,ye=G.callback,Se=Z.objectMode?1:ie.length;if(_(Y,Z,!1,Se,ie,ce,ye),G=G.next,Z.bufferedRequestCount--,Z.writing)break}G===null&&(Z.lastBufferedRequest=null)}Z.bufferedRequest=G,Z.bufferProcessing=!1}M.prototype._write=function(Y,Z,G){G(new m("_write()"))},M.prototype._writev=null,M.prototype.end=function(Y,Z,G){var K=this._writableState;return typeof Y=="function"?(G=Y,Y=null,Z=null):typeof Z=="function"&&(G=Z,Z=null),Y!=null&&this.write(Y,Z),K.corked&&(K.corked=1,this.uncork()),K.ending||ue(this,K,G),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function j(Y){return Y.ending&&Y.length===0&&Y.bufferedRequest===null&&!Y.finished&&!Y.writing}function ee(Y,Z){Y._final(function(G){Z.pendingcb--,G&&A(Y,G),Z.prefinished=!0,Y.emit("prefinish"),ne(Y,Z)})}function te(Y,Z){!Z.prefinished&&!Z.finalCalled&&(typeof Y._final=="function"&&!Z.destroyed?(Z.pendingcb++,Z.finalCalled=!0,y.nextTick(ee,Y,Z)):(Z.prefinished=!0,Y.emit("prefinish")))}function ne(Y,Z){var G=j(Z);if(G&&(te(Y,Z),Z.pendingcb===0&&(Z.finished=!0,Y.emit("finish"),Z.autoDestroy))){var K=Y._readableState;(!K||K.autoDestroy&&K.endEmitted)&&Y.destroy()}return G}function ue(Y,Z,G){Z.ending=!0,ne(Y,Z),G&&(Z.finished?y.nextTick(G):Y.once("finish",G)),Z.ended=!0,Y.writable=!1}function q(Y,Z,G){var K=Y.entry;for(Y.entry=null;K;){var oe=K.callback;Z.pendingcb--,oe(G),K=K.next}Z.corkedRequestsFree.next=Y}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Z){this._writableState&&(this._writableState.destroyed=Z)}}),M.prototype.destroy=a.destroy,M.prototype._undestroy=a.undestroy,M.prototype._destroy=function(Y,Z){Z(Y)}},60328:function(U,B,e){var y=e(4168),L;function i(o,d,w){return d in o?Object.defineProperty(o,d,{value:w,enumerable:!0,configurable:!0,writable:!0}):o[d]=w,o}var S=e(15932),b=Symbol("lastResolve"),v=Symbol("lastReject"),p=Symbol("error"),r=Symbol("ended"),t=Symbol("lastPromise"),a=Symbol("handlePromise"),n=Symbol("stream");function u(o,d){return{value:o,done:d}}function s(o){var d=o[b];if(d!==null){var w=o[n].read();w!==null&&(o[t]=null,o[b]=null,o[v]=null,d(u(w,!1)))}}function l(o){y.nextTick(s,o)}function m(o,d){return function(w,A){o.then(function(){if(d[r]){w(u(void 0,!0));return}d[a](w,A)},A)}}var h=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((L={get stream(){return this[n]},next:function(){var d=this,w=this[p];if(w!==null)return Promise.reject(w);if(this[r])return Promise.resolve(u(void 0,!0));if(this[n].destroyed)return new Promise(function(E,M){y.nextTick(function(){d[p]?M(d[p]):E(u(void 0,!0))})});var A=this[t],C;if(A)C=new Promise(m(A,this));else{var x=this[n].read();if(x!==null)return Promise.resolve(u(x,!1));C=new Promise(this[a])}return this[t]=C,C}},i(L,Symbol.asyncIterator,function(){return this}),i(L,"return",function(){var d=this;return new Promise(function(w,A){d[n].destroy(null,function(C){if(C){A(C);return}w(u(void 0,!0))})})}),L),h),c=function(d){var w,A=Object.create(g,(w={},i(w,n,{value:d,writable:!0}),i(w,b,{value:null,writable:!0}),i(w,v,{value:null,writable:!0}),i(w,p,{value:null,writable:!0}),i(w,r,{value:d._readableState.endEmitted,writable:!0}),i(w,a,{value:function(x,E){var M=A[n].read();M?(A[t]=null,A[b]=null,A[v]=null,x(u(M,!1))):(A[b]=x,A[v]=E)},writable:!0}),w));return A[t]=null,S(d,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var x=A[v];x!==null&&(A[t]=null,A[b]=null,A[v]=null,x(C)),A[p]=C;return}var E=A[b];E!==null&&(A[t]=null,A[b]=null,A[v]=null,E(u(void 0,!0))),A[r]=!0}),d.on("readable",l.bind(null,A)),A};U.exports=c},47264:function(U,B,e){function y(s,l){var m=Object.keys(s);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(s);l&&(h=h.filter(function(g){return Object.getOwnPropertyDescriptor(s,g).enumerable})),m.push.apply(m,h)}return m}function L(s){for(var l=1;l<arguments.length;l++){var m=arguments[l]!=null?arguments[l]:{};l%2?y(Object(m),!0).forEach(function(h){i(s,h,m[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(m)):y(Object(m)).forEach(function(h){Object.defineProperty(s,h,Object.getOwnPropertyDescriptor(m,h))})}return s}function i(s,l,m){return l in s?Object.defineProperty(s,l,{value:m,enumerable:!0,configurable:!0,writable:!0}):s[l]=m,s}function S(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function b(s,l){for(var m=0;m<l.length;m++){var h=l[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(s,h.key,h)}}function v(s,l,m){return l&&b(s.prototype,l),m&&b(s,m),s}var p=e(33576),r=p.Buffer,t=e(21576),a=t.inspect,n=a&&a.custom||"inspect";function u(s,l,m){r.prototype.copy.call(s,l,m)}U.exports=function(){function s(){S(this,s),this.head=null,this.tail=null,this.length=0}return v(s,[{key:"push",value:function(m){var h={data:m,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}},{key:"unshift",value:function(m){var h={data:m,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var h=this.head,g=""+h.data;h=h.next;)g+=m+h.data;return g}},{key:"concat",value:function(m){if(this.length===0)return r.alloc(0);for(var h=r.allocUnsafe(m>>>0),g=this.head,c=0;g;)u(g.data,h,c),c+=g.data.length,g=g.next;return h}},{key:"consume",value:function(m,h){var g;return m<this.head.data.length?(g=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?g=this.shift():g=h?this._getString(m):this._getBuffer(m),g}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var h=this.head,g=1,c=h.data;for(m-=c.length;h=h.next;){var o=h.data,d=m>o.length?o.length:m;if(d===o.length?c+=o:c+=o.slice(0,m),m-=d,m===0){d===o.length?(++g,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=o.slice(d));break}++g}return this.length-=g,c}},{key:"_getBuffer",value:function(m){var h=r.allocUnsafe(m),g=this.head,c=1;for(g.data.copy(h),m-=g.data.length;g=g.next;){var o=g.data,d=m>o.length?o.length:m;if(o.copy(h,h.length-m,0,d),m-=d,m===0){d===o.length?(++c,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=o.slice(d));break}++c}return this.length-=c,h}},{key:n,value:function(m,h){return a(this,L({},h,{depth:0,customInspect:!1}))}}]),s}()},55324:function(U,B,e){var y=e(4168);function L(r,t){var a=this,n=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return n||u?(t?t(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,y.nextTick(v,this,r)):y.nextTick(v,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(s){!t&&s?a._writableState?a._writableState.errorEmitted?y.nextTick(S,a):(a._writableState.errorEmitted=!0,y.nextTick(i,a,s)):y.nextTick(i,a,s):t?(y.nextTick(S,a),t(s)):y.nextTick(S,a)}),this)}function i(r,t){v(r,t),S(r)}function S(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function b(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(r,t){r.emit("error",t)}function p(r,t){var a=r._readableState,n=r._writableState;a&&a.autoDestroy||n&&n.autoDestroy?r.destroy(t):r.emit("error",t)}U.exports={destroy:L,undestroy:b,errorOrDestroy:p}},15932:function(U,B,e){var y=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function L(v){var p=!1;return function(){if(!p){p=!0;for(var r=arguments.length,t=new Array(r),a=0;a<r;a++)t[a]=arguments[a];v.apply(this,t)}}}function i(){}function S(v){return v.setHeader&&typeof v.abort=="function"}function b(v,p,r){if(typeof p=="function")return b(v,null,p);p||(p={}),r=L(r||i);var t=p.readable||p.readable!==!1&&v.readable,a=p.writable||p.writable!==!1&&v.writable,n=function(){v.writable||s()},u=v._writableState&&v._writableState.finished,s=function(){a=!1,u=!0,t||r.call(v)},l=v._readableState&&v._readableState.endEmitted,m=function(){t=!1,l=!0,a||r.call(v)},h=function(d){r.call(v,d)},g=function(){var d;if(t&&!l)return(!v._readableState||!v._readableState.ended)&&(d=new y),r.call(v,d);if(a&&!u)return(!v._writableState||!v._writableState.ended)&&(d=new y),r.call(v,d)},c=function(){v.req.on("finish",s)};return S(v)?(v.on("complete",s),v.on("abort",g),v.req?c():v.on("request",c)):a&&!v._writableState&&(v.on("end",n),v.on("close",n)),v.on("end",m),v.on("finish",s),p.error!==!1&&v.on("error",h),v.on("close",g),function(){v.removeListener("complete",s),v.removeListener("abort",g),v.removeListener("request",c),v.req&&v.req.removeListener("finish",s),v.removeListener("end",n),v.removeListener("close",n),v.removeListener("finish",s),v.removeListener("end",m),v.removeListener("error",h),v.removeListener("close",g)}}U.exports=b},90555:function(U){U.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(U,B,e){var y;function L(s){var l=!1;return function(){l||(l=!0,s.apply(void 0,arguments))}}var i=e(92784).i,S=i.ERR_MISSING_ARGS,b=i.ERR_STREAM_DESTROYED;function v(s){if(s)throw s}function p(s){return s.setHeader&&typeof s.abort=="function"}function r(s,l,m,h){h=L(h);var g=!1;s.on("close",function(){g=!0}),y===void 0&&(y=e(15932)),y(s,{readable:l,writable:m},function(o){if(o)return h(o);g=!0,h()});var c=!1;return function(o){if(!g&&!c){if(c=!0,p(s))return s.abort();if(typeof s.destroy=="function")return s.destroy();h(o||new b("pipe"))}}}function t(s){s()}function a(s,l){return s.pipe(l)}function n(s){return!s.length||typeof s[s.length-1]!="function"?v:s.pop()}function u(){for(var s=arguments.length,l=new Array(s),m=0;m<s;m++)l[m]=arguments[m];var h=n(l);if(Array.isArray(l[0])&&(l=l[0]),l.length<2)throw new S("streams");var g,c=l.map(function(o,d){var w=d<l.length-1,A=d>0;return r(o,w,A,function(C){g||(g=C),C&&c.forEach(t),!w&&(c.forEach(t),h(g))})});return l.reduce(a)}U.exports=u},24888:function(U,B,e){var y=e(92784).i.ERR_INVALID_OPT_VALUE;function L(S,b,v){return S.highWaterMark!=null?S.highWaterMark:b?S[v]:null}function i(S,b,v,p){var r=L(b,p,v);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var t=p?v:"highWaterMark";throw new y(t,r)}return Math.floor(r)}return S.objectMode?16:16384}U.exports={getHighWaterMark:i}},4776:function(U,B,e){U.exports=e(61252).EventEmitter},86032:function(U,B,e){var y=e(30456).Buffer,L=y.isEncoding||function(c){switch(c=""+c,c&&c.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(c){if(!c)return"utf8";for(var o;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(o)return;c=(""+c).toLowerCase(),o=!0}}function S(c){var o=i(c);if(typeof o!="string"&&(y.isEncoding===L||!L(c)))throw new Error("Unknown encoding: "+c);return o||c}B.o=b;function b(c){this.encoding=S(c);var o;switch(this.encoding){case"utf16le":this.text=u,this.end=s,o=4;break;case"utf8":this.fillLast=t,o=4;break;case"base64":this.text=l,this.end=m,o=3;break;default:this.write=h,this.end=g;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=y.allocUnsafe(o)}b.prototype.write=function(c){if(c.length===0)return"";var o,d;if(this.lastNeed){if(o=this.fillLast(c),o===void 0)return"";d=this.lastNeed,this.lastNeed=0}else d=0;return d<c.length?o?o+this.text(c,d):this.text(c,d):o||""},b.prototype.end=n,b.prototype.text=a,b.prototype.fillLast=function(c){if(this.lastNeed<=c.length)return c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,c.length),this.lastNeed-=c.length};function v(c){return c<=127?0:c>>5===6?2:c>>4===14?3:c>>3===30?4:c>>6===2?-1:-2}function p(c,o,d){var w=o.length-1;if(w<d)return 0;var A=v(o[w]);return A>=0?(A>0&&(c.lastNeed=A-1),A):--w<d||A===-2?0:(A=v(o[w]),A>=0?(A>0&&(c.lastNeed=A-2),A):--w<d||A===-2?0:(A=v(o[w]),A>=0?(A>0&&(A===2?A=0:c.lastNeed=A-3),A):0))}function r(c,o,d){if((o[0]&192)!==128)return c.lastNeed=0,"�";if(c.lastNeed>1&&o.length>1){if((o[1]&192)!==128)return c.lastNeed=1,"�";if(c.lastNeed>2&&o.length>2&&(o[2]&192)!==128)return c.lastNeed=2,"�"}}function t(c){var o=this.lastTotal-this.lastNeed,d=r(this,c);if(d!==void 0)return d;if(this.lastNeed<=c.length)return c.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,o,0,c.length),this.lastNeed-=c.length}function a(c,o){var d=p(this,c,o);if(!this.lastNeed)return c.toString("utf8",o);this.lastTotal=d;var w=c.length-(d-this.lastNeed);return c.copy(this.lastChar,0,w),c.toString("utf8",o,w)}function n(c){var o=c&&c.length?this.write(c):"";return this.lastNeed?o+"�":o}function u(c,o){if((c.length-o)%2===0){var d=c.toString("utf16le",o);if(d){var w=d.charCodeAt(d.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=c[c.length-1],c.toString("utf16le",o,c.length-1)}function s(c){var o=c&&c.length?this.write(c):"";if(this.lastNeed){var d=this.lastTotal-this.lastNeed;return o+this.lastChar.toString("utf16le",0,d)}return o}function l(c,o){var d=(c.length-o)%3;return d===0?c.toString("base64",o):(this.lastNeed=3-d,this.lastTotal=3,d===1?this.lastChar[0]=c[c.length-1]:(this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1]),c.toString("base64",o,c.length-d))}function m(c){var o=c&&c.length?this.write(c):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function h(c){return c.toString(this.encoding)}function g(c){return c&&c.length?this.write(c):""}},55619:function(U,B,e){var y=e(45408),L=e(86844)("stream-parser");U.exports=p;var i=-1,S=0,b=1,v=2;function p(c){var o=c&&typeof c._transform=="function",d=c&&typeof c._write=="function";if(!o&&!d)throw new Error("must pass a Writable or Transform stream in");L("extending Parser into stream"),c._bytes=t,c._skipBytes=a,o&&(c._passthrough=n),o?c._transform=s:c._write=u}function r(c){L("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=i,c._parserCallback=null,typeof c.push=="function"&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function t(c,o){y(!this._parserCallback,'there is already a "callback" set!'),y(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||r(this),L("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=o,this._parserState=S}function a(c,o){y(!this._parserCallback,'there is already a "callback" set!'),y(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||r(this),L("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=o,this._parserState=b}function n(c,o){y(!this._parserCallback,'There is already a "callback" set!'),y(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||r(this),L("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=o,this._parserState=v}function u(c,o,d){this._parserInit||r(this),L("write(%o bytes)",c.length),typeof o=="function"&&(d=o),h(this,c,null,d)}function s(c,o,d){this._parserInit||r(this),L("transform(%o bytes)",c.length),typeof o!="function"&&(o=this._parserOutput),h(this,c,o,d)}function l(c,o,d,w){return c._parserBytesLeft<=0?w(new Error("got data but not currently parsing anything")):o.length<=c._parserBytesLeft?function(){return m(c,o,d,w)}:function(){var A=o.slice(0,c._parserBytesLeft);return m(c,A,d,function(C){if(C)return w(C);if(o.length>A.length)return function(){return l(c,o.slice(A.length),d,w)}})}}function m(c,o,d,w){if(c._parserBytesLeft-=o.length,L("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===S?(c._parserBuffers.push(o),c._parserBuffered+=o.length):c._parserState===v&&d(o),c._parserBytesLeft===0){var A=c._parserCallback;if(A&&c._parserState===S&&c._parserBuffers.length>1&&(o=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==S&&(o=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=i,c._parserBuffers.splice(0),A){var C=[];o&&C.push(o),d&&C.push(d);var x=A.length>C.length;x&&C.push(g(w));var E=A.apply(c,C);if(!x||w===E)return w}}else return w}var h=g(l);function g(c){return function(){for(var o=c.apply(this,arguments);typeof o=="function";)o=o();return o}}},86844:function(U,B,e){var y=e(4168);B=U.exports=e(89416),B.log=S,B.formatArgs=i,B.save=b,B.load=v,B.useColors=L,B.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:p(),B.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function L(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}B.formatters.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function i(r){var t=this.useColors;if(r[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+r[0]+(t?"%c ":" ")+"+"+B.humanize(this.diff),!!t){var a="color: "+this.color;r.splice(1,0,a,"color: inherit");var n=0,u=0;r[0].replace(/%[a-zA-Z%]/g,function(s){s!=="%%"&&(n++,s==="%c"&&(u=n))}),r.splice(u,0,a)}}function S(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function b(r){try{r==null?B.storage.removeItem("debug"):B.storage.debug=r}catch{}}function v(){var r;try{r=B.storage.debug}catch{}return!r&&typeof y<"u"&&"env"in y&&(r=y.env.DEBUG),r}B.enable(v());function p(){try{return window.localStorage}catch{}}},89416:function(U,B,e){B=U.exports=i.debug=i.default=i,B.coerce=p,B.disable=b,B.enable=S,B.enabled=v,B.humanize=e(93744),B.names=[],B.skips=[],B.formatters={};var y;function L(r){var t=0,a;for(a in r)t=(t<<5)-t+r.charCodeAt(a),t|=0;return B.colors[Math.abs(t)%B.colors.length]}function i(r){function t(){if(t.enabled){var a=t,n=+new Date,u=n-(y||n);a.diff=u,a.prev=y,a.curr=n,y=n;for(var s=new Array(arguments.length),l=0;l<s.length;l++)s[l]=arguments[l];s[0]=B.coerce(s[0]),typeof s[0]!="string"&&s.unshift("%O");var m=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(g,c){if(g==="%%")return g;m++;var o=B.formatters[c];if(typeof o=="function"){var d=s[m];g=o.call(a,d),s.splice(m,1),m--}return g}),B.formatArgs.call(a,s);var h=t.log||B.log||console.log.bind(console);h.apply(a,s)}}return t.namespace=r,t.enabled=B.enabled(r),t.useColors=B.useColors(),t.color=L(r),typeof B.init=="function"&&B.init(t),t}function S(r){B.save(r),B.names=[],B.skips=[];for(var t=(typeof r=="string"?r:"").split(/[\s,]+/),a=t.length,n=0;n<a;n++)t[n]&&(r=t[n].replace(/\*/g,".*?"),r[0]==="-"?B.skips.push(new RegExp("^"+r.substr(1)+"$")):B.names.push(new RegExp("^"+r+"$")))}function b(){B.enable("")}function v(r){var t,a;for(t=0,a=B.skips.length;t<a;t++)if(B.skips[t].test(r))return!1;for(t=0,a=B.names.length;t<a;t++)if(B.names[t].test(r))return!0;return!1}function p(r){return r instanceof Error?r.stack||r.message:r}},93744:function(U){var B=1e3,e=B*60,y=e*60,L=y*24,i=L*365.25;U.exports=function(r,t){t=t||{};var a=typeof r;if(a==="string"&&r.length>0)return S(r);if(a==="number"&&isNaN(r)===!1)return t.long?v(r):b(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function S(r){if(r=String(r),!(r.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(t){var a=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return a*i;case"days":case"day":case"d":return a*L;case"hours":case"hour":case"hrs":case"hr":case"h":return a*y;case"minutes":case"minute":case"mins":case"min":case"m":return a*e;case"seconds":case"second":case"secs":case"sec":case"s":return a*B;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function b(r){return r>=L?Math.round(r/L)+"d":r>=y?Math.round(r/y)+"h":r>=e?Math.round(r/e)+"m":r>=B?Math.round(r/B)+"s":r+"ms"}function v(r){return p(r,L,"day")||p(r,y,"hour")||p(r,e,"minute")||p(r,B,"second")||r+" ms"}function p(r,t,a){if(!(r<t))return r<t*1.5?Math.floor(r/t)+" "+a:Math.ceil(r/t)+" "+a+"s"}},39956:function(U,B,e){var y=e(32868);U.exports=function(i,S,b){if(i==null)throw Error("First argument should be a string");if(S==null)throw Error("Separator should be a string or a RegExp");b?(typeof b=="string"||Array.isArray(b))&&(b={ignore:b}):b={},b.escape==null&&(b.escape=!0),b.ignore==null?b.ignore=["[]","()","{}","<>",'""',"''","``","“”","«»"]:(typeof b.ignore=="string"&&(b.ignore=[b.ignore]),b.ignore=b.ignore.map(function(s){return s.length===1&&(s=s+s),s}));var v=y.parse(i,{flat:!0,brackets:b.ignore}),p=v[0],r=p.split(S);if(b.escape){for(var t=[],a=0;a<r.length;a++){var n=r[a],u=r[a+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(t.push(n+S+u),a++):t.push(n)}r=t}for(var a=0;a<r.length;a++)v[0]=r[a],r[a]=y.stringify(v,{flat:!0});return r}},78484:function(U){U.exports=B;function B(e){for(var y=e.length,L=new Array(y),i=new Array(y),S=new Array(y),b=new Array(y),v=new Array(y),p=new Array(y),r=0;r<y;++r)L[r]=-1,i[r]=0,S[r]=!1,b[r]=0,v[r]=-1,p[r]=[];var t=0,a=[],n=[];function u(h){var g=[h],c=[h];for(L[h]=i[h]=t,S[h]=!0,t+=1;c.length>0;){h=c[c.length-1];var o=e[h];if(b[h]<o.length){for(var d=b[h];d<o.length;++d){var w=o[d];if(L[w]<0){L[w]=i[w]=t,S[w]=!0,t+=1,g.push(w),c.push(w);break}else S[w]&&(i[h]=Math.min(i[h],i[w])|0);v[w]>=0&&p[h].push(v[w])}b[h]=d}else{if(i[h]===L[h]){for(var A=[],C=[],x=0,d=g.length-1;d>=0;--d){var E=g[d];if(S[E]=!1,A.push(E),C.push(p[E]),x+=p[E].length,v[E]=a.length,E===h){g.length=d;break}}a.push(A);for(var M=new Array(x),d=0;d<C.length;d++)for(var f=0;f<C[d].length;f++)M[--x]=C[d][f];n.push(M)}c.pop()}}}for(var r=0;r<y;++r)L[r]<0&&u(r);for(var s,r=0;r<n.length;r++){var l=n[r];if(l.length!==0){l.sort(function(g,c){return g-c}),s=[l[0]];for(var m=1;m<l.length;m++)l[m]!==l[m-1]&&s.push(l[m]);n[r]=s}}return{components:a,adjacencyList:n}}},92848:function(U,B,e){e.r(B);var y=function(){function r(t,a){var n=[],u=!0,s=!1,l=void 0;try{for(var m=t[Symbol.iterator](),h;!(u=(h=m.next()).done)&&(n.push(h.value),!(a&&n.length===a));u=!0);}catch(g){s=!0,l=g}finally{try{!u&&m.return&&m.return()}finally{if(s)throw l}}return n}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),L=Math.PI*2,i=function(t,a,n,u,s,l,m){var h=t.x,g=t.y;h*=a,g*=n;var c=u*h-s*g,o=s*h+u*g;return{x:c+l,y:o+m}},S=function(t,a){var n=a===1.5707963267948966?.551915024494:a===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(a/4),u=Math.cos(t),s=Math.sin(t),l=Math.cos(t+a),m=Math.sin(t+a);return[{x:u-s*n,y:s+u*n},{x:l+m*n,y:m-l*n},{x:l,y:m}]},b=function(t,a,n,u){var s=t*u-a*n<0?-1:1,l=t*n+a*u;return l>1&&(l=1),l<-1&&(l=-1),s*Math.acos(l)},v=function(t,a,n,u,s,l,m,h,g,c,o,d){var w=Math.pow(s,2),A=Math.pow(l,2),C=Math.pow(o,2),x=Math.pow(d,2),E=w*A-w*x-A*C;E<0&&(E=0),E/=w*x+A*C,E=Math.sqrt(E)*(m===h?-1:1);var M=E*s/l*d,f=E*-l/s*o,P=c*M-g*f+(t+n)/2,T=g*M+c*f+(a+u)/2,z=(o-M)/s,_=(d-f)/l,V=(-o-M)/s,F=(-d-f)/l,N=b(1,0,z,_),k=b(z,_,V,F);return h===0&&k>0&&(k-=L),h===1&&k<0&&(k+=L),[P,T,N,k]},p=function(t){var a=t.px,n=t.py,u=t.cx,s=t.cy,l=t.rx,m=t.ry,h=t.xAxisRotation,g=h===void 0?0:h,c=t.largeArcFlag,o=c===void 0?0:c,d=t.sweepFlag,w=d===void 0?0:d,A=[];if(l===0||m===0)return[];var C=Math.sin(g*L/360),x=Math.cos(g*L/360),E=x*(a-u)/2+C*(n-s)/2,M=-C*(a-u)/2+x*(n-s)/2;if(E===0&&M===0)return[];l=Math.abs(l),m=Math.abs(m);var f=Math.pow(E,2)/Math.pow(l,2)+Math.pow(M,2)/Math.pow(m,2);f>1&&(l*=Math.sqrt(f),m*=Math.sqrt(f));var P=v(a,n,u,s,l,m,o,w,C,x,E,M),T=y(P,4),z=T[0],_=T[1],V=T[2],F=T[3],N=Math.abs(F)/(L/4);Math.abs(1-N)<1e-7&&(N=1);var k=Math.max(Math.ceil(N),1);F/=k;for(var I=0;I<k;I++)A.push(S(V,F)),V+=F;return A.map(function(H){var j=i(H[0],l,m,x,C,z,_),ee=j.x,te=j.y,ne=i(H[1],l,m,x,C,z,_),ue=ne.x,q=ne.y,Y=i(H[2],l,m,x,C,z,_),Z=Y.x,G=Y.y;return{x1:ee,y1:te,x2:ue,y2:q,x:Z,y:G}})};B.default=p},74840:function(U,B,e){var y=e(21984),L=e(49972),i=e(41976),S=e(53520),b=e(45408);U.exports=v;function v(p){if(Array.isArray(p)&&p.length===1&&typeof p[0]=="string"&&(p=p[0]),typeof p=="string"&&(b(S(p),"String is not an SVG path."),p=y(p)),b(Array.isArray(p),"Argument should be a string or an array of path segments."),p=L(p),p=i(p),!p.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],t=0,a=p.length;t<a;t++)for(var n=p[t].slice(1),u=0;u<n.length;u+=2)n[u+0]<r[0]&&(r[0]=n[u+0]),n[u+1]<r[1]&&(r[1]=n[u+1]),n[u+0]>r[2]&&(r[2]=n[u+0]),n[u+1]>r[3]&&(r[3]=n[u+1]);return r}},41976:function(U,B,e){U.exports=L;var y=e(92848);function L(b){for(var v,p=[],r=0,t=0,a=0,n=0,u=null,s=null,l=0,m=0,h=0,g=b.length;h<g;h++){var c=b[h],o=c[0];switch(o){case"M":a=c[1],n=c[2];break;case"A":var d=y({px:l,py:m,cx:c[6],cy:c[7],rx:c[1],ry:c[2],xAxisRotation:c[3],largeArcFlag:c[4],sweepFlag:c[5]});if(!d.length)continue;for(var w=0,A;w<d.length;w++)A=d[w],c=["C",A.x1,A.y1,A.x2,A.y2,A.x,A.y],w<d.length-1&&p.push(c);break;case"S":var C=l,x=m;(v=="C"||v=="S")&&(C+=C-r,x+=x-t),c=["C",C,x,c[1],c[2],c[3],c[4]];break;case"T":v=="Q"||v=="T"?(u=l*2-u,s=m*2-s):(u=l,s=m),c=S(l,m,u,s,c[1],c[2]);break;case"Q":u=c[1],s=c[2],c=S(l,m,c[1],c[2],c[3],c[4]);break;case"L":c=i(l,m,c[1],c[2]);break;case"H":c=i(l,m,c[1],m);break;case"V":c=i(l,m,l,c[1]);break;case"Z":c=i(l,m,a,n);break}v=o,l=c[c.length-2],m=c[c.length-1],c.length>4?(r=c[c.length-4],t=c[c.length-3]):(r=l,t=m),p.push(c)}return p}function i(b,v,p,r){return["C",b,v,p,r,p,r]}function S(b,v,p,r,t,a){return["C",b/3+.6666666666666666*p,v/3+.6666666666666666*r,t/3+.6666666666666666*p,a/3+.6666666666666666*r,t,a]}},20472:function(U,B,e){var y=e(74840),L=e(21984),i=e(22235),S=e(53520),b=e(29620),v=document.createElement("canvas"),p=v.getContext("2d");U.exports=r;function r(n,u){if(!S(n))throw Error("Argument should be valid svg path string");u||(u={});var s,l;u.shape?(s=u.shape[0],l=u.shape[1]):(s=v.width=u.w||u.width||200,l=v.height=u.h||u.height||200);var m=Math.min(s,l),h=u.stroke||0,g=u.viewbox||u.viewBox||y(n),c=[s/(g[2]-g[0]),l/(g[3]-g[1])],o=Math.min(c[0]||0,c[1]||0)/2;if(p.fillStyle="black",p.fillRect(0,0,s,l),p.fillStyle="white",h&&(typeof h!="number"&&(h=1),h>0?p.strokeStyle="white":p.strokeStyle="black",p.lineWidth=Math.abs(h)),p.translate(s*.5,l*.5),p.scale(o,o),a()){var d=new Path2D(n);p.fill(d),h&&p.stroke(d)}else{var w=L(n);i(p,w),p.fill(),h&&p.stroke()}p.setTransform(1,0,0,1,0,0);var A=b(p,{cutoff:u.cutoff!=null?u.cutoff:.5,radius:u.radius!=null?u.radius:m*.5});return A}var t;function a(){if(t!=null)return t;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return t=!1;var u=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(u);var s=n.getImageData(0,0,1,1);return t=s&&s.data&&s.data[3]===255}},49760:function(U,B,e){var y;(function(L){var i=/^\s+/,S=/\s+$/,b=0,v=L.round,p=L.min,r=L.max,t=L.random;function a(J,se){if(J=J||"",se=se||{},J instanceof a)return J;if(!(this instanceof a))return new a(J,se);var ie=n(J);this._originalInput=J,this._r=ie.r,this._g=ie.g,this._b=ie.b,this._a=ie.a,this._roundA=v(100*this._a)/100,this._format=se.format||ie.format,this._gradientType=se.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=ie.ok,this._tc_id=b++}a.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var J=this.toRgb();return(J.r*299+J.g*587+J.b*114)/1e3},getLuminance:function(){var J=this.toRgb(),se,ie,ce,ye,Se,Te;return se=J.r/255,ie=J.g/255,ce=J.b/255,se<=.03928?ye=se/12.92:ye=L.pow((se+.055)/1.055,2.4),ie<=.03928?Se=ie/12.92:Se=L.pow((ie+.055)/1.055,2.4),ce<=.03928?Te=ce/12.92:Te=L.pow((ce+.055)/1.055,2.4),.2126*ye+.7152*Se+.0722*Te},setAlpha:function(J){return this._a=I(J),this._roundA=v(100*this._a)/100,this},toHsv:function(){var J=m(this._r,this._g,this._b);return{h:J.h*360,s:J.s,v:J.v,a:this._a}},toHsvString:function(){var J=m(this._r,this._g,this._b),se=v(J.h*360),ie=v(J.s*100),ce=v(J.v*100);return this._a==1?"hsv("+se+", "+ie+"%, "+ce+"%)":"hsva("+se+", "+ie+"%, "+ce+"%, "+this._roundA+")"},toHsl:function(){var J=s(this._r,this._g,this._b);return{h:J.h*360,s:J.s,l:J.l,a:this._a}},toHslString:function(){var J=s(this._r,this._g,this._b),se=v(J.h*360),ie=v(J.s*100),ce=v(J.l*100);return this._a==1?"hsl("+se+", "+ie+"%, "+ce+"%)":"hsla("+se+", "+ie+"%, "+ce+"%, "+this._roundA+")"},toHex:function(J){return g(this._r,this._g,this._b,J)},toHexString:function(J){return"#"+this.toHex(J)},toHex8:function(J){return c(this._r,this._g,this._b,this._a,J)},toHex8String:function(J){return"#"+this.toHex8(J)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(H(this._r,255)*100)+"%",g:v(H(this._g,255)*100)+"%",b:v(H(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(H(this._r,255)*100)+"%, "+v(H(this._g,255)*100)+"%, "+v(H(this._b,255)*100)+"%)":"rgba("+v(H(this._r,255)*100)+"%, "+v(H(this._g,255)*100)+"%, "+v(H(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:N[g(this._r,this._g,this._b,!0)]||!1},toFilter:function(J){var se="#"+o(this._r,this._g,this._b,this._a),ie=se,ce=this._gradientType?"GradientType = 1, ":"";if(J){var ye=a(J);ie="#"+o(ye._r,ye._g,ye._b,ye._a)}return"progid:DXImageTransform.Microsoft.gradient("+ce+"startColorstr="+se+",endColorstr="+ie+")"},toString:function(J){var se=!!J;J=J||this._format;var ie=!1,ce=this._a<1&&this._a>=0,ye=!se&&ce&&(J==="hex"||J==="hex6"||J==="hex3"||J==="hex4"||J==="hex8"||J==="name");return ye?J==="name"&&this._a===0?this.toName():this.toRgbString():(J==="rgb"&&(ie=this.toRgbString()),J==="prgb"&&(ie=this.toPercentageRgbString()),(J==="hex"||J==="hex6")&&(ie=this.toHexString()),J==="hex3"&&(ie=this.toHexString(!0)),J==="hex4"&&(ie=this.toHex8String(!0)),J==="hex8"&&(ie=this.toHex8String()),J==="name"&&(ie=this.toName()),J==="hsl"&&(ie=this.toHslString()),J==="hsv"&&(ie=this.toHsvString()),ie||this.toHexString())},clone:function(){return a(this.toString())},_applyModification:function(J,se){var ie=J.apply(null,[this].concat([].slice.call(se)));return this._r=ie._r,this._g=ie._g,this._b=ie._b,this.setAlpha(ie._a),this},lighten:function(){return this._applyModification(C,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(w,arguments)},greyscale:function(){return this._applyModification(A,arguments)},spin:function(){return this._applyModification(M,arguments)},_applyCombination:function(J,se){return J.apply(null,[this].concat([].slice.call(se)))},analogous:function(){return this._applyCombination(_,arguments)},complement:function(){return this._applyCombination(f,arguments)},monochromatic:function(){return this._applyCombination(V,arguments)},splitcomplement:function(){return this._applyCombination(z,arguments)},triad:function(){return this._applyCombination(P,arguments)},tetrad:function(){return this._applyCombination(T,arguments)}},a.fromRatio=function(J,se){if(typeof J=="object"){var ie={};for(var ce in J)J.hasOwnProperty(ce)&&(ce==="a"?ie[ce]=J[ce]:ie[ce]=q(J[ce]));J=ie}return a(J,se)};function n(J){var se={r:0,g:0,b:0},ie=1,ce=null,ye=null,Se=null,Te=!1,ke=!1;return typeof J=="string"&&(J=oe(J)),typeof J=="object"&&(K(J.r)&&K(J.g)&&K(J.b)?(se=u(J.r,J.g,J.b),Te=!0,ke=String(J.r).substr(-1)==="%"?"prgb":"rgb"):K(J.h)&&K(J.s)&&K(J.v)?(ce=q(J.s),ye=q(J.v),se=h(J.h,ce,ye),Te=!0,ke="hsv"):K(J.h)&&K(J.s)&&K(J.l)&&(ce=q(J.s),Se=q(J.l),se=l(J.h,ce,Se),Te=!0,ke="hsl"),J.hasOwnProperty("a")&&(ie=J.a)),ie=I(ie),{ok:Te,format:J.format||ke,r:p(255,r(se.r,0)),g:p(255,r(se.g,0)),b:p(255,r(se.b,0)),a:ie}}function u(J,se,ie){return{r:H(J,255)*255,g:H(se,255)*255,b:H(ie,255)*255}}function s(J,se,ie){J=H(J,255),se=H(se,255),ie=H(ie,255);var ce=r(J,se,ie),ye=p(J,se,ie),Se,Te,ke=(ce+ye)/2;if(ce==ye)Se=Te=0;else{var we=ce-ye;switch(Te=ke>.5?we/(2-ce-ye):we/(ce+ye),ce){case J:Se=(se-ie)/we+(se<ie?6:0);break;case se:Se=(ie-J)/we+2;break;case ie:Se=(J-se)/we+4;break}Se/=6}return{h:Se,s:Te,l:ke}}function l(J,se,ie){var ce,ye,Se;J=H(J,360),se=H(se,100),ie=H(ie,100);function Te(Ee,xe,De){return De<0&&(De+=1),De>1&&(De-=1),De<.16666666666666666?Ee+(xe-Ee)*6*De:De<.5?xe:De<.6666666666666666?Ee+(xe-Ee)*(.6666666666666666-De)*6:Ee}if(se===0)ce=ye=Se=ie;else{var ke=ie<.5?ie*(1+se):ie+se-ie*se,we=2*ie-ke;ce=Te(we,ke,J+.3333333333333333),ye=Te(we,ke,J),Se=Te(we,ke,J-.3333333333333333)}return{r:ce*255,g:ye*255,b:Se*255}}function m(J,se,ie){J=H(J,255),se=H(se,255),ie=H(ie,255);var ce=r(J,se,ie),ye=p(J,se,ie),Se,Te,ke=ce,we=ce-ye;if(Te=ce===0?0:we/ce,ce==ye)Se=0;else{switch(ce){case J:Se=(se-ie)/we+(se<ie?6:0);break;case se:Se=(ie-J)/we+2;break;case ie:Se=(J-se)/we+4;break}Se/=6}return{h:Se,s:Te,v:ke}}function h(J,se,ie){J=H(J,360)*6,se=H(se,100),ie=H(ie,100);var ce=L.floor(J),ye=J-ce,Se=ie*(1-se),Te=ie*(1-ye*se),ke=ie*(1-(1-ye)*se),we=ce%6,Ee=[ie,Te,Se,Se,ke,ie][we],xe=[ke,ie,ie,Te,Se,Se][we],De=[Se,Se,ke,ie,ie,Te][we];return{r:Ee*255,g:xe*255,b:De*255}}function g(J,se,ie,ce){var ye=[ue(v(J).toString(16)),ue(v(se).toString(16)),ue(v(ie).toString(16))];return ce&&ye[0].charAt(0)==ye[0].charAt(1)&&ye[1].charAt(0)==ye[1].charAt(1)&&ye[2].charAt(0)==ye[2].charAt(1)?ye[0].charAt(0)+ye[1].charAt(0)+ye[2].charAt(0):ye.join("")}function c(J,se,ie,ce,ye){var Se=[ue(v(J).toString(16)),ue(v(se).toString(16)),ue(v(ie).toString(16)),ue(Y(ce))];return ye&&Se[0].charAt(0)==Se[0].charAt(1)&&Se[1].charAt(0)==Se[1].charAt(1)&&Se[2].charAt(0)==Se[2].charAt(1)&&Se[3].charAt(0)==Se[3].charAt(1)?Se[0].charAt(0)+Se[1].charAt(0)+Se[2].charAt(0)+Se[3].charAt(0):Se.join("")}function o(J,se,ie,ce){var ye=[ue(Y(ce)),ue(v(J).toString(16)),ue(v(se).toString(16)),ue(v(ie).toString(16))];return ye.join("")}a.equals=function(J,se){return!J||!se?!1:a(J).toRgbString()==a(se).toRgbString()},a.random=function(){return a.fromRatio({r:t(),g:t(),b:t()})};function d(J,se){se=se===0?0:se||10;var ie=a(J).toHsl();return ie.s-=se/100,ie.s=j(ie.s),a(ie)}function w(J,se){se=se===0?0:se||10;var ie=a(J).toHsl();return ie.s+=se/100,ie.s=j(ie.s),a(ie)}function A(J){return a(J).desaturate(100)}function C(J,se){se=se===0?0:se||10;var ie=a(J).toHsl();return ie.l+=se/100,ie.l=j(ie.l),a(ie)}function x(J,se){se=se===0?0:se||10;var ie=a(J).toRgb();return ie.r=r(0,p(255,ie.r-v(255*-(se/100)))),ie.g=r(0,p(255,ie.g-v(255*-(se/100)))),ie.b=r(0,p(255,ie.b-v(255*-(se/100)))),a(ie)}function E(J,se){se=se===0?0:se||10;var ie=a(J).toHsl();return ie.l-=se/100,ie.l=j(ie.l),a(ie)}function M(J,se){var ie=a(J).toHsl(),ce=(ie.h+se)%360;return ie.h=ce<0?360+ce:ce,a(ie)}function f(J){var se=a(J).toHsl();return se.h=(se.h+180)%360,a(se)}function P(J){var se=a(J).toHsl(),ie=se.h;return[a(J),a({h:(ie+120)%360,s:se.s,l:se.l}),a({h:(ie+240)%360,s:se.s,l:se.l})]}function T(J){var se=a(J).toHsl(),ie=se.h;return[a(J),a({h:(ie+90)%360,s:se.s,l:se.l}),a({h:(ie+180)%360,s:se.s,l:se.l}),a({h:(ie+270)%360,s:se.s,l:se.l})]}function z(J){var se=a(J).toHsl(),ie=se.h;return[a(J),a({h:(ie+72)%360,s:se.s,l:se.l}),a({h:(ie+216)%360,s:se.s,l:se.l})]}function _(J,se,ie){se=se||6,ie=ie||30;var ce=a(J).toHsl(),ye=360/ie,Se=[a(J)];for(ce.h=(ce.h-(ye*se>>1)+720)%360;--se;)ce.h=(ce.h+ye)%360,Se.push(a(ce));return Se}function V(J,se){se=se||6;for(var ie=a(J).toHsv(),ce=ie.h,ye=ie.s,Se=ie.v,Te=[],ke=1/se;se--;)Te.push(a({h:ce,s:ye,v:Se})),Se=(Se+ke)%1;return Te}a.mix=function(J,se,ie){ie=ie===0?0:ie||50;var ce=a(J).toRgb(),ye=a(se).toRgb(),Se=ie/100,Te={r:(ye.r-ce.r)*Se+ce.r,g:(ye.g-ce.g)*Se+ce.g,b:(ye.b-ce.b)*Se+ce.b,a:(ye.a-ce.a)*Se+ce.a};return a(Te)},a.readability=function(J,se){var ie=a(J),ce=a(se);return(L.max(ie.getLuminance(),ce.getLuminance())+.05)/(L.min(ie.getLuminance(),ce.getLuminance())+.05)},a.isReadable=function(J,se,ie){var ce=a.readability(J,se),ye,Se;switch(Se=!1,ye=$(ie),ye.level+ye.size){case"AAsmall":case"AAAlarge":Se=ce>=4.5;break;case"AAlarge":Se=ce>=3;break;case"AAAsmall":Se=ce>=7;break}return Se},a.mostReadable=function(J,se,ie){var ce=null,ye=0,Se,Te,ke,we;ie=ie||{},Te=ie.includeFallbackColors,ke=ie.level,we=ie.size;for(var Ee=0;Ee<se.length;Ee++)Se=a.readability(J,se[Ee]),Se>ye&&(ye=Se,ce=a(se[Ee]));return a.isReadable(J,ce,{level:ke,size:we})||!Te?ce:(ie.includeFallbackColors=!1,a.mostReadable(J,["#fff","#000"],ie))};var F=a.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},N=a.hexNames=k(F);function k(J){var se={};for(var ie in J)J.hasOwnProperty(ie)&&(se[J[ie]]=ie);return se}function I(J){return J=parseFloat(J),(isNaN(J)||J<0||J>1)&&(J=1),J}function H(J,se){te(J)&&(J="100%");var ie=ne(J);return J=p(se,r(0,parseFloat(J))),ie&&(J=parseInt(J*se,10)/100),L.abs(J-se)<1e-6?1:J%se/parseFloat(se)}function j(J){return p(1,r(0,J))}function ee(J){return parseInt(J,16)}function te(J){return typeof J=="string"&&J.indexOf(".")!=-1&&parseFloat(J)===1}function ne(J){return typeof J=="string"&&J.indexOf("%")!=-1}function ue(J){return J.length==1?"0"+J:""+J}function q(J){return J<=1&&(J=J*100+"%"),J}function Y(J){return L.round(parseFloat(J)*255).toString(16)}function Z(J){return ee(J)/255}var G=function(){var J="[-\\+]?\\d+%?",se="[-\\+]?\\d*\\.\\d+%?",ie="(?:"+se+")|(?:"+J+")",ce="[\\s|\\(]+("+ie+")[,|\\s]+("+ie+")[,|\\s]+("+ie+")\\s*\\)?",ye="[\\s|\\(]+("+ie+")[,|\\s]+("+ie+")[,|\\s]+("+ie+")[,|\\s]+("+ie+")\\s*\\)?";return{CSS_UNIT:new RegExp(ie),rgb:new RegExp("rgb"+ce),rgba:new RegExp("rgba"+ye),hsl:new RegExp("hsl"+ce),hsla:new RegExp("hsla"+ye),hsv:new RegExp("hsv"+ce),hsva:new RegExp("hsva"+ye),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function K(J){return!!G.CSS_UNIT.exec(J)}function oe(J){J=J.replace(i,"").replace(S,"").toLowerCase();var se=!1;if(F[J])J=F[J],se=!0;else if(J=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ie;return(ie=G.rgb.exec(J))?{r:ie[1],g:ie[2],b:ie[3]}:(ie=G.rgba.exec(J))?{r:ie[1],g:ie[2],b:ie[3],a:ie[4]}:(ie=G.hsl.exec(J))?{h:ie[1],s:ie[2],l:ie[3]}:(ie=G.hsla.exec(J))?{h:ie[1],s:ie[2],l:ie[3],a:ie[4]}:(ie=G.hsv.exec(J))?{h:ie[1],s:ie[2],v:ie[3]}:(ie=G.hsva.exec(J))?{h:ie[1],s:ie[2],v:ie[3],a:ie[4]}:(ie=G.hex8.exec(J))?{r:ee(ie[1]),g:ee(ie[2]),b:ee(ie[3]),a:Z(ie[4]),format:se?"name":"hex8"}:(ie=G.hex6.exec(J))?{r:ee(ie[1]),g:ee(ie[2]),b:ee(ie[3]),format:se?"name":"hex"}:(ie=G.hex4.exec(J))?{r:ee(ie[1]+""+ie[1]),g:ee(ie[2]+""+ie[2]),b:ee(ie[3]+""+ie[3]),a:Z(ie[4]+""+ie[4]),format:se?"name":"hex8"}:(ie=G.hex3.exec(J))?{r:ee(ie[1]+""+ie[1]),g:ee(ie[2]+""+ie[2]),b:ee(ie[3]+""+ie[3]),format:se?"name":"hex"}:!1}function $(J){var se,ie;return J=J||{level:"AA",size:"small"},se=(J.level||"AA").toUpperCase(),ie=(J.size||"small").toLowerCase(),se!=="AA"&&se!=="AAA"&&(se="AA"),ie!=="small"&&ie!=="large"&&(ie="small"),{level:se,size:ie}}U.exports?U.exports=a:(y=(function(){return a}).call(B,e,B,U),y!==void 0&&(U.exports=y))})(Math)},37816:function(U){U.exports=y,U.exports.float32=U.exports.float=y,U.exports.fract32=U.exports.fract=e;var B=new Float32Array(1);function e(L,i){if(L.length){if(L instanceof Float32Array)return new Float32Array(L.length);i instanceof Float32Array||(i=y(L));for(var S=0,b=i.length;S<b;S++)i[S]=L[S]-i[S];return i}return y(L-y(L))}function y(L){return L.length?L instanceof Float32Array?L:new Float32Array(L):(B[0]=L,B[0])}},23464:function(U,B,e){var y=e(65819);U.exports=b;var L=96;function i(v,p){var r=y(getComputedStyle(v).getPropertyValue(p));return r[0]*b(r[1],v)}function S(v,p){var r=document.createElement("div");r.style["font-size"]="128"+v,p.appendChild(r);var t=i(r,"font-size")/128;return p.removeChild(r),t}function b(v,p){switch(p=p||document.body,v=(v||"px").trim().toLowerCase(),(p===window||p===document)&&(p=document.body),v){case"%":return p.clientHeight/100;case"ch":case"ex":return S(v,p);case"em":return i(p,"font-size");case"rem":return i(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return L;case"cm":return L/2.54;case"mm":return L/25.4;case"pt":return L/72;case"pc":return L/6}return 1}},55712:function(U,B,e){e.d(B,{NO:function(){return S}});function y(p,r){for(var t,a=p.length,n=a-r;n<--a;)t=p[n],p[n++]=p[a],p[a]=t}function L(p){return p}function i(p){if(p==null)return L;var r,t,a=p.scale[0],n=p.scale[1],u=p.translate[0],s=p.translate[1];return function(l,m){m||(r=t=0);var h=2,g=l.length,c=new Array(g);for(c[0]=(r+=l[0])*a+u,c[1]=(t+=l[1])*n+s;h<g;)c[h]=l[h],++h;return c}}function S(p,r){return typeof r=="string"&&(r=p.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(t){return b(p,t)})}:b(p,r)}function b(p,r){var t=r.id,a=r.bbox,n=r.properties==null?{}:r.properties,u=v(p,r);return t==null&&a==null?{type:"Feature",properties:n,geometry:u}:a==null?{type:"Feature",id:t,properties:n,geometry:u}:{type:"Feature",id:t,bbox:a,properties:n,geometry:u}}function v(p,r){var t=i(p.transform),a=p.arcs;function n(g,c){c.length&&c.pop();for(var o=a[g<0?~g:g],d=0,w=o.length;d<w;++d)c.push(t(o[d],d));g<0&&y(c,w)}function u(g){return t(g)}function s(g){for(var c=[],o=0,d=g.length;o<d;++o)n(g[o],c);return c.length<2&&c.push(c[0]),c}function l(g){for(var c=s(g);c.length<4;)c.push(c[0]);return c}function m(g){return g.map(l)}function h(g){var c=g.type,o;switch(c){case"GeometryCollection":return{type:c,geometries:g.geometries.map(h)};case"Point":o=u(g.coordinates);break;case"MultiPoint":o=g.coordinates.map(u);break;case"LineString":o=s(g.arcs);break;case"MultiLineString":o=g.arcs.map(s);break;case"Polygon":o=m(g.arcs);break;case"MultiPolygon":o=g.arcs.map(m);break;default:return null}return{type:c,coordinates:o}}return h(r)}},73384:function(U,B,e){var y=e(54612);U.exports=function(L){if(typeof L!="function"||!hasOwnProperty.call(L,"length"))return!1;try{if(typeof L.length!="number"||typeof L.call!="function"||typeof L.apply!="function")return!1}catch{return!1}return!y(L)}},57980:function(U,B,e){var y=e(81680),L=e(7328),i=e(33940),S=e(18856),b=function(v,p){return v.replace("%v",S(p))};U.exports=function(v,p,r){if(!L(r))throw new TypeError(b(p,v));if(!y(v)){if("default"in r)return r.default;if(r.isOptional)return null}var t=i(r.errorMessage);throw y(t)||(t=p),new TypeError(b(t,v))}},32336:function(U){U.exports=function(B){try{return B.toString()}catch{try{return String(B)}catch{return null}}}},18856:function(U,B,e){var y=e(32336),L=/[\n\r\u2028\u2029]/g;U.exports=function(i){var S=y(i);return S===null?"<Non-coercible to string value>":(S.length>100&&(S=S.slice(0,99)+"…"),S=S.replace(L,function(b){switch(b){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),S)}},7328:function(U,B,e){var y=e(81680),L={object:!0,function:!0,undefined:!0};U.exports=function(i){return y(i)?hasOwnProperty.call(L,typeof i):!1}},87396:function(U,B,e){var y=e(57980),L=e(85488);U.exports=function(i){return L(i)?i:y(i,"%v is not a plain function",arguments[1])}},85488:function(U,B,e){var y=e(73384),L=/^\s*class[\s{/}]/,i=Function.prototype.toString;U.exports=function(S){return!(!y(S)||L.test(i.call(S)))}},54612:function(U,B,e){var y=e(7328);U.exports=function(L){if(!y(L))return!1;try{return L.constructor?L.constructor.prototype===L:!1}catch{return!1}}},33940:function(U,B,e){var y=e(81680),L=e(7328),i=Object.prototype.toString;U.exports=function(S){if(!y(S))return null;if(L(S)){var b=S.toString;if(typeof b!="function"||b===i)return null}try{return""+S}catch{return null}}},18496:function(U,B,e){var y=e(57980),L=e(81680);U.exports=function(i){return L(i)?i:y(i,"Cannot use %v",arguments[1])}},81680:function(U){var B=void 0;U.exports=function(e){return e!==B&&e!==null}},14144:function(U,B,e){var y=e(308),L=e(10352),i=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:L([32,0]),UINT16:L([32,0]),UINT32:L([32,0]),BIGUINT64:L([32,0]),INT8:L([32,0]),INT16:L([32,0]),INT32:L([32,0]),BIGINT64:L([32,0]),FLOAT:L([32,0]),DOUBLE:L([32,0]),DATA:L([32,0]),UINT8C:L([32,0]),BUFFER:L([32,0])});var S=typeof Uint8ClampedArray<"u",b=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",p=e.g.__TYPEDARRAY_POOL;p.UINT8C||(p.UINT8C=L([32,0])),p.BIGUINT64||(p.BIGUINT64=L([32,0])),p.BIGINT64||(p.BIGINT64=L([32,0])),p.BUFFER||(p.BUFFER=L([32,0]));var r=p.DATA,t=p.BUFFER;B.free=function(f){if(i.isBuffer(f))t[y.log2(f.length)].push(f);else{if(Object.prototype.toString.call(f)!=="[object ArrayBuffer]"&&(f=f.buffer),!f)return;var P=f.length||f.byteLength,T=y.log2(P)|0;r[T].push(f)}};function a(M){if(M){var f=M.length||M.byteLength,P=y.log2(f);r[P].push(M)}}function n(M){a(M.buffer)}B.freeUint8=B.freeUint16=B.freeUint32=B.freeBigUint64=B.freeInt8=B.freeInt16=B.freeInt32=B.freeBigInt64=B.freeFloat32=B.freeFloat=B.freeFloat64=B.freeDouble=B.freeUint8Clamped=B.freeDataView=n,B.freeArrayBuffer=a,B.freeBuffer=function(f){t[y.log2(f.length)].push(f)},B.malloc=function(f,P){if(P===void 0||P==="arraybuffer")return u(f);switch(P){case"uint8":return s(f);case"uint16":return l(f);case"uint32":return m(f);case"int8":return h(f);case"int16":return g(f);case"int32":return c(f);case"float":case"float32":return o(f);case"double":case"float64":return d(f);case"uint8_clamped":return w(f);case"bigint64":return C(f);case"biguint64":return A(f);case"buffer":return E(f);case"data":case"dataview":return x(f);default:return null}return null};function u(f){var f=y.nextPow2(f),P=y.log2(f),T=r[P];return T.length>0?T.pop():new ArrayBuffer(f)}B.mallocArrayBuffer=u;function s(M){return new Uint8Array(u(M),0,M)}B.mallocUint8=s;function l(M){return new Uint16Array(u(2*M),0,M)}B.mallocUint16=l;function m(M){return new Uint32Array(u(4*M),0,M)}B.mallocUint32=m;function h(M){return new Int8Array(u(M),0,M)}B.mallocInt8=h;function g(M){return new Int16Array(u(2*M),0,M)}B.mallocInt16=g;function c(M){return new Int32Array(u(4*M),0,M)}B.mallocInt32=c;function o(M){return new Float32Array(u(4*M),0,M)}B.mallocFloat32=B.mallocFloat=o;function d(M){return new Float64Array(u(8*M),0,M)}B.mallocFloat64=B.mallocDouble=d;function w(M){return S?new Uint8ClampedArray(u(M),0,M):s(M)}B.mallocUint8Clamped=w;function A(M){return b?new BigUint64Array(u(8*M),0,M):null}B.mallocBigUint64=A;function C(M){return v?new BigInt64Array(u(8*M),0,M):null}B.mallocBigInt64=C;function x(M){return new DataView(u(M),0,M)}B.mallocDataView=x;function E(M){M=y.nextPow2(M);var f=y.log2(M),P=t[f];return P.length>0?P.pop():new i(M)}B.mallocBuffer=E,B.clearCache=function(){for(var f=0;f<32;++f)p.UINT8[f].length=0,p.UINT16[f].length=0,p.UINT32[f].length=0,p.INT8[f].length=0,p.INT16[f].length=0,p.INT32[f].length=0,p.FLOAT[f].length=0,p.DOUBLE[f].length=0,p.BIGUINT64[f].length=0,p.BIGINT64[f].length=0,p.UINT8C[f].length=0,r[f].length=0,t[f].length=0}},92384:function(U){var B=/[\'\"]/;U.exports=function(y){return y?(B.test(y.charAt(0))&&(y=y.substr(1)),B.test(y.charAt(y.length-1))&&(y=y.substr(0,y.length-1)),y):""}},45223:function(U){U.exports=function(e,y,L){Array.isArray(L)||(L=[].slice.call(arguments,2));for(var i=0,S=L.length;i<S;i++){var b=L[i];for(var v in b)if(!(y[v]!==void 0&&!Array.isArray(y[v])&&e[v]===y[v])&&v in y){var p;if(b[v]===!0)p=y[v];else{if(b[v]===!1)continue;if(typeof b[v]=="function"&&(p=b[v](y[v],e,y),p===void 0))continue}e[v]=p}}return e}},96656:function(U,B,e){U.exports=y;function y(i,S){if(L("noDeprecation"))return i;var b=!1;function v(){if(!b){if(L("throwDeprecation"))throw new Error(S);L("traceDeprecation")?console.trace(S):console.warn(S),b=!0}return i.apply(this,arguments)}return v}function L(i){try{if(!e.g.localStorage)return!1}catch{return!1}var S=e.g.localStorage[i];return S==null?!1:String(S).toLowerCase()==="true"}},75272:function(U){U.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},41088:function(U,B,e){var y=e(91148),L=e(84420),i=e(96632),S=e(7728);function b(Se){return Se.call.bind(Se)}var v=typeof BigInt<"u",p=typeof Symbol<"u",r=b(Object.prototype.toString),t=b(Number.prototype.valueOf),a=b(String.prototype.valueOf),n=b(Boolean.prototype.valueOf);if(v)var u=b(BigInt.prototype.valueOf);if(p)var s=b(Symbol.prototype.valueOf);function l(Se,Te){if(typeof Se!="object")return!1;try{return Te(Se),!0}catch{return!1}}B.isArgumentsObject=y,B.isGeneratorFunction=L,B.isTypedArray=S;function m(Se){return typeof Promise<"u"&&Se instanceof Promise||Se!==null&&typeof Se=="object"&&typeof Se.then=="function"&&typeof Se.catch=="function"}B.isPromise=m;function h(Se){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Se):S(Se)||ee(Se)}B.isArrayBufferView=h;function g(Se){return i(Se)==="Uint8Array"}B.isUint8Array=g;function c(Se){return i(Se)==="Uint8ClampedArray"}B.isUint8ClampedArray=c;function o(Se){return i(Se)==="Uint16Array"}B.isUint16Array=o;function d(Se){return i(Se)==="Uint32Array"}B.isUint32Array=d;function w(Se){return i(Se)==="Int8Array"}B.isInt8Array=w;function A(Se){return i(Se)==="Int16Array"}B.isInt16Array=A;function C(Se){return i(Se)==="Int32Array"}B.isInt32Array=C;function x(Se){return i(Se)==="Float32Array"}B.isFloat32Array=x;function E(Se){return i(Se)==="Float64Array"}B.isFloat64Array=E;function M(Se){return i(Se)==="BigInt64Array"}B.isBigInt64Array=M;function f(Se){return i(Se)==="BigUint64Array"}B.isBigUint64Array=f;function P(Se){return r(Se)==="[object Map]"}P.working=typeof Map<"u"&&P(new Map);function T(Se){return typeof Map>"u"?!1:P.working?P(Se):Se instanceof Map}B.isMap=T;function z(Se){return r(Se)==="[object Set]"}z.working=typeof Set<"u"&&z(new Set);function _(Se){return typeof Set>"u"?!1:z.working?z(Se):Se instanceof Set}B.isSet=_;function V(Se){return r(Se)==="[object WeakMap]"}V.working=typeof WeakMap<"u"&&V(new WeakMap);function F(Se){return typeof WeakMap>"u"?!1:V.working?V(Se):Se instanceof WeakMap}B.isWeakMap=F;function N(Se){return r(Se)==="[object WeakSet]"}N.working=typeof WeakSet<"u"&&N(new WeakSet);function k(Se){return N(Se)}B.isWeakSet=k;function I(Se){return r(Se)==="[object ArrayBuffer]"}I.working=typeof ArrayBuffer<"u"&&I(new ArrayBuffer);function H(Se){return typeof ArrayBuffer>"u"?!1:I.working?I(Se):Se instanceof ArrayBuffer}B.isArrayBuffer=H;function j(Se){return r(Se)==="[object DataView]"}j.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&j(new DataView(new ArrayBuffer(1),0,1));function ee(Se){return typeof DataView>"u"?!1:j.working?j(Se):Se instanceof DataView}B.isDataView=ee;var te=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ne(Se){return r(Se)==="[object SharedArrayBuffer]"}function ue(Se){return typeof te>"u"?!1:(typeof ne.working>"u"&&(ne.working=ne(new te)),ne.working?ne(Se):Se instanceof te)}B.isSharedArrayBuffer=ue;function q(Se){return r(Se)==="[object AsyncFunction]"}B.isAsyncFunction=q;function Y(Se){return r(Se)==="[object Map Iterator]"}B.isMapIterator=Y;function Z(Se){return r(Se)==="[object Set Iterator]"}B.isSetIterator=Z;function G(Se){return r(Se)==="[object Generator]"}B.isGeneratorObject=G;function K(Se){return r(Se)==="[object WebAssembly.Module]"}B.isWebAssemblyCompiledModule=K;function oe(Se){return l(Se,t)}B.isNumberObject=oe;function $(Se){return l(Se,a)}B.isStringObject=$;function J(Se){return l(Se,n)}B.isBooleanObject=J;function se(Se){return v&&l(Se,u)}B.isBigIntObject=se;function ie(Se){return p&&l(Se,s)}B.isSymbolObject=ie;function ce(Se){return oe(Se)||$(Se)||J(Se)||se(Se)||ie(Se)}B.isBoxedPrimitive=ce;function ye(Se){return typeof Uint8Array<"u"&&(H(Se)||ue(Se))}B.isAnyArrayBuffer=ye,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Se){Object.defineProperty(B,Se,{enumerable:!1,value:function(){throw new Error(Se+" is not supported in userland")}})})},35840:function(U,B,e){var y=e(4168),L=Object.getOwnPropertyDescriptors||function(te){for(var ne=Object.keys(te),ue={},q=0;q<ne.length;q++)ue[ne[q]]=Object.getOwnPropertyDescriptor(te,ne[q]);return ue},i=/%[sdj%]/g;B.format=function(ee){if(!A(ee)){for(var te=[],ne=0;ne<arguments.length;ne++)te.push(p(arguments[ne]));return te.join(" ")}for(var ne=1,ue=arguments,q=ue.length,Y=String(ee).replace(i,function(G){if(G==="%%")return"%";if(ne>=q)return G;switch(G){case"%s":return String(ue[ne++]);case"%d":return Number(ue[ne++]);case"%j":try{return JSON.stringify(ue[ne++])}catch{return"[Circular]"}default:return G}}),Z=ue[ne];ne<q;Z=ue[++ne])o(Z)||!M(Z)?Y+=" "+Z:Y+=" "+p(Z);return Y},B.deprecate=function(ee,te){if(typeof y<"u"&&y.noDeprecation===!0)return ee;if(typeof y>"u")return function(){return B.deprecate(ee,te).apply(this,arguments)};var ne=!1;function ue(){if(!ne){if(y.throwDeprecation)throw new Error(te);y.traceDeprecation?console.trace(te):console.error(te),ne=!0}return ee.apply(this,arguments)}return ue};var S={},b=/^$/;if(y.env.NODE_DEBUG){var v=y.env.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),b=new RegExp("^"+v+"$","i")}B.debuglog=function(ee){if(ee=ee.toUpperCase(),!S[ee])if(b.test(ee)){var te=y.pid;S[ee]=function(){var ne=B.format.apply(B,arguments);console.error("%s %d: %s",ee,te,ne)}}else S[ee]=function(){};return S[ee]};function p(ee,te){var ne={seen:[],stylize:t};return arguments.length>=3&&(ne.depth=arguments[2]),arguments.length>=4&&(ne.colors=arguments[3]),c(te)?ne.showHidden=te:te&&B._extend(ne,te),x(ne.showHidden)&&(ne.showHidden=!1),x(ne.depth)&&(ne.depth=2),x(ne.colors)&&(ne.colors=!1),x(ne.customInspect)&&(ne.customInspect=!0),ne.colors&&(ne.stylize=r),n(ne,ee,ne.depth)}B.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(ee,te){var ne=p.styles[te];return ne?"\x1B["+p.colors[ne][0]+"m"+ee+"\x1B["+p.colors[ne][1]+"m":ee}function t(ee,te){return ee}function a(ee){var te={};return ee.forEach(function(ne,ue){te[ne]=!0}),te}function n(ee,te,ne){if(ee.customInspect&&te&&T(te.inspect)&&te.inspect!==B.inspect&&!(te.constructor&&te.constructor.prototype===te)){var ue=te.inspect(ne,ee);return A(ue)||(ue=n(ee,ue,ne)),ue}var q=u(ee,te);if(q)return q;var Y=Object.keys(te),Z=a(Y);if(ee.showHidden&&(Y=Object.getOwnPropertyNames(te)),P(te)&&(Y.indexOf("message")>=0||Y.indexOf("description")>=0))return s(te);if(Y.length===0){if(T(te)){var G=te.name?": "+te.name:"";return ee.stylize("[Function"+G+"]","special")}if(E(te))return ee.stylize(RegExp.prototype.toString.call(te),"regexp");if(f(te))return ee.stylize(Date.prototype.toString.call(te),"date");if(P(te))return s(te)}var K="",oe=!1,$=["{","}"];if(g(te)&&(oe=!0,$=["[","]"]),T(te)){var J=te.name?": "+te.name:"";K=" [Function"+J+"]"}if(E(te)&&(K=" "+RegExp.prototype.toString.call(te)),f(te)&&(K=" "+Date.prototype.toUTCString.call(te)),P(te)&&(K=" "+s(te)),Y.length===0&&(!oe||te.length==0))return $[0]+K+$[1];if(ne<0)return E(te)?ee.stylize(RegExp.prototype.toString.call(te),"regexp"):ee.stylize("[Object]","special");ee.seen.push(te);var se;return oe?se=l(ee,te,ne,Z,Y):se=Y.map(function(ie){return m(ee,te,ne,Z,ie,oe)}),ee.seen.pop(),h(se,K,$)}function u(ee,te){if(x(te))return ee.stylize("undefined","undefined");if(A(te)){var ne="'"+JSON.stringify(te).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ee.stylize(ne,"string")}if(w(te))return ee.stylize(""+te,"number");if(c(te))return ee.stylize(""+te,"boolean");if(o(te))return ee.stylize("null","null")}function s(ee){return"["+Error.prototype.toString.call(ee)+"]"}function l(ee,te,ne,ue,q){for(var Y=[],Z=0,G=te.length;Z<G;++Z)k(te,String(Z))?Y.push(m(ee,te,ne,ue,String(Z),!0)):Y.push("");return q.forEach(function(K){K.match(/^\d+$/)||Y.push(m(ee,te,ne,ue,K,!0))}),Y}function m(ee,te,ne,ue,q,Y){var Z,G,K;if(K=Object.getOwnPropertyDescriptor(te,q)||{value:te[q]},K.get?K.set?G=ee.stylize("[Getter/Setter]","special"):G=ee.stylize("[Getter]","special"):K.set&&(G=ee.stylize("[Setter]","special")),k(ue,q)||(Z="["+q+"]"),G||(ee.seen.indexOf(K.value)<0?(o(ne)?G=n(ee,K.value,null):G=n(ee,K.value,ne-1),G.indexOf(`
`)>-1&&(Y?G=G.split(`
`).map(function(oe){return"  "+oe}).join(`
`).slice(2):G=`
`+G.split(`
`).map(function(oe){return"   "+oe}).join(`
`))):G=ee.stylize("[Circular]","special")),x(Z)){if(Y&&q.match(/^\d+$/))return G;Z=JSON.stringify(""+q),Z.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Z=Z.slice(1,-1),Z=ee.stylize(Z,"name")):(Z=Z.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Z=ee.stylize(Z,"string"))}return Z+": "+G}function h(ee,te,ne){var ue=ee.reduce(function(q,Y){return Y.indexOf(`
`)>=0,q+Y.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ue>60?ne[0]+(te===""?"":te+`
 `)+" "+ee.join(`,
  `)+" "+ne[1]:ne[0]+te+" "+ee.join(", ")+" "+ne[1]}B.types=e(41088);function g(ee){return Array.isArray(ee)}B.isArray=g;function c(ee){return typeof ee=="boolean"}B.isBoolean=c;function o(ee){return ee===null}B.isNull=o;function d(ee){return ee==null}B.isNullOrUndefined=d;function w(ee){return typeof ee=="number"}B.isNumber=w;function A(ee){return typeof ee=="string"}B.isString=A;function C(ee){return typeof ee=="symbol"}B.isSymbol=C;function x(ee){return ee===void 0}B.isUndefined=x;function E(ee){return M(ee)&&_(ee)==="[object RegExp]"}B.isRegExp=E,B.types.isRegExp=E;function M(ee){return typeof ee=="object"&&ee!==null}B.isObject=M;function f(ee){return M(ee)&&_(ee)==="[object Date]"}B.isDate=f,B.types.isDate=f;function P(ee){return M(ee)&&(_(ee)==="[object Error]"||ee instanceof Error)}B.isError=P,B.types.isNativeError=P;function T(ee){return typeof ee=="function"}B.isFunction=T;function z(ee){return ee===null||typeof ee=="boolean"||typeof ee=="number"||typeof ee=="string"||typeof ee=="symbol"||typeof ee>"u"}B.isPrimitive=z,B.isBuffer=e(75272);function _(ee){return Object.prototype.toString.call(ee)}function V(ee){return ee<10?"0"+ee.toString(10):ee.toString(10)}var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var ee=new Date,te=[V(ee.getHours()),V(ee.getMinutes()),V(ee.getSeconds())].join(":");return[ee.getDate(),F[ee.getMonth()],te].join(" ")}B.log=function(){console.log("%s - %s",N(),B.format.apply(B,arguments))},B.inherits=e(6768),B._extend=function(ee,te){if(!te||!M(te))return ee;for(var ne=Object.keys(te),ue=ne.length;ue--;)ee[ne[ue]]=te[ne[ue]];return ee};function k(ee,te){return Object.prototype.hasOwnProperty.call(ee,te)}var I=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;B.promisify=function(te){if(typeof te!="function")throw new TypeError('The "original" argument must be of type Function');if(I&&te[I]){var ne=te[I];if(typeof ne!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ne,I,{value:ne,enumerable:!1,writable:!1,configurable:!0}),ne}function ne(){for(var ue,q,Y=new Promise(function(K,oe){ue=K,q=oe}),Z=[],G=0;G<arguments.length;G++)Z.push(arguments[G]);Z.push(function(K,oe){K?q(K):ue(oe)});try{te.apply(this,Z)}catch(K){q(K)}return Y}return Object.setPrototypeOf(ne,Object.getPrototypeOf(te)),I&&Object.defineProperty(ne,I,{value:ne,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ne,L(te))},B.promisify.custom=I;function H(ee,te){if(!ee){var ne=new Error("Promise was rejected with a falsy value");ne.reason=ee,ee=ne}return te(ee)}function j(ee){if(typeof ee!="function")throw new TypeError('The "original" argument must be of type Function');function te(){for(var ne=[],ue=0;ue<arguments.length;ue++)ne.push(arguments[ue]);var q=ne.pop();if(typeof q!="function")throw new TypeError("The last argument must be of type Function");var Y=this,Z=function(){return q.apply(Y,arguments)};ee.apply(this,ne).then(function(G){y.nextTick(Z.bind(null,null,G))},function(G){y.nextTick(H.bind(null,G,Z))})}return Object.setPrototypeOf(te,Object.getPrototypeOf(ee)),Object.defineProperties(te,L(ee)),te}B.callbackify=j},5408:function(U,B,e){var y=e(13380);U.exports=function(i){return y("webgl",i)}},96632:function(U,B,e){var y=e(46492),L=e(63436),i=e(57916),S=e(99676),b=e(2304),v=S("Object.prototype.toString"),p=e(46672)(),r=typeof globalThis>"u"?e.g:globalThis,t=L(),a=S("String.prototype.slice"),n=Object.getPrototypeOf,u=S("Array.prototype.indexOf",!0)||function(g,c){for(var o=0;o<g.length;o+=1)if(g[o]===c)return o;return-1},s={__proto__:null};p&&b&&n?y(t,function(h){var g=new r[h];if(Symbol.toStringTag in g){var c=n(g),o=b(c,Symbol.toStringTag);if(!o){var d=n(c);o=b(d,Symbol.toStringTag)}s["$"+h]=i(o.get)}}):y(t,function(h){var g=new r[h],c=g.slice||g.set;c&&(s["$"+h]=i(c))});var l=function(g){var c=!1;return y(s,function(o,d){if(!c)try{"$"+o(g)===d&&(c=a(d,1))}catch{}}),c},m=function(g){var c=!1;return y(s,function(o,d){if(!c)try{o(g),c=a(d,1)}catch{}}),c};U.exports=function(g){if(!g||typeof g!="object")return!1;if(!p){var c=a(v(g),8,-1);return u(t,c)>-1?c:c!=="Object"?!1:m(g)}return b?l(g):null}},67020:function(U,B,e){var y=e(38700),L=e(50896),i=y.instance();function S(s){this.local=this.regionalOptions[s||""]||this.regionalOptions[""]}S.prototype=new y.baseCalendar,L(S.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(s,l){if(typeof s=="string"){var m=s.match(v);return m?m[0]:""}var h=this._validateYear(s),g=s.month(),c=""+this.toChineseMonth(h,g);return l&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(h,g)&&(c+="i"),c},monthNames:function(s){if(typeof s=="string"){var l=s.match(p);return l?l[0]:""}var m=this._validateYear(s),h=s.month(),g=this.toChineseMonth(m,h),c=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][g-1];return this.isIntercalaryMonth(m,h)&&(c="闰"+c),c},monthNamesShort:function(s){if(typeof s=="string"){var l=s.match(r);return l?l[0]:""}var m=this._validateYear(s),h=s.month(),g=this.toChineseMonth(m,h),c=["一","二","三","四","五","六","七","八","九","十","十一","十二"][g-1];return this.isIntercalaryMonth(m,h)&&(c="闰"+c),c},parseMonth:function(s,l){s=this._validateYear(s);var m=parseInt(l),h;if(isNaN(m))l[0]==="闰"&&(h=!0,l=l.substring(1)),l[l.length-1]==="月"&&(l=l.substring(0,l.length-1)),m=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(l);else{var g=l[l.length-1];h=g==="i"||g==="I"}var c=this.toMonthIndex(s,m,h);return c},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(s,l){if(s.year&&(s=s.year()),typeof s!="number"||s<1888||s>2111)throw l.replace(/\{0\}/,this.local.name);return s},toMonthIndex:function(s,l,m){var h=this.intercalaryMonth(s),g=m&&l!==h;if(g||l<1||l>12)throw y.local.invalidMonth.replace(/\{0\}/,this.local.name);var c;return h?!m&&l<=h?c=l-1:c=l:c=l-1,c},toChineseMonth:function(s,l){s.year&&(s=s.year(),l=s.month());var m=this.intercalaryMonth(s),h=m?12:11;if(l<0||l>h)throw y.local.invalidMonth.replace(/\{0\}/,this.local.name);var g;return m?l<m?g=l+1:g=l:g=l+1,g},intercalaryMonth:function(s){s=this._validateYear(s);var l=t[s-t[0]],m=l>>13;return m},isIntercalaryMonth:function(s,l){s.year&&(s=s.year(),l=s.month());var m=this.intercalaryMonth(s);return!!m&&m===l},leapYear:function(s){return this.intercalaryMonth(s)!==0},weekOfYear:function(s,l,m){var h=this._validateYear(s,y.local.invalidyear),g=a[h-a[0]],c=g>>9&4095,o=g>>5&15,d=g&31,w;w=i.newDate(c,o,d),w.add(4-(w.dayOfWeek()||7),"d");var A=this.toJD(s,l,m)-w.toJD();return 1+Math.floor(A/7)},monthsInYear:function(s){return this.leapYear(s)?13:12},daysInMonth:function(s,l){s.year&&(l=s.month(),s=s.year()),s=this._validateYear(s);var m=t[s-t[0]],h=m>>13,g=h?12:11;if(l>g)throw y.local.invalidMonth.replace(/\{0\}/,this.local.name);var c=m&1<<12-l?30:29;return c},weekDay:function(s,l,m){return(this.dayOfWeek(s,l,m)||7)<6},toJD:function(s,l,m){var h=this._validate(s,c,m,y.local.invalidDate);s=this._validateYear(h.year()),l=h.month(),m=h.day();var g=this.isIntercalaryMonth(s,l),c=this.toChineseMonth(s,l),o=u(s,c,m,g);return i.toJD(o.year,o.month,o.day)},fromJD:function(s){var l=i.fromJD(s),m=n(l.year(),l.month(),l.day()),h=this.toMonthIndex(m.year,m.month,m.isIntercalary);return this.newDate(m.year,h,m.day)},fromString:function(s){var l=s.match(b),m=this._validateYear(+l[1]),h=+l[2],g=!!l[3],c=this.toMonthIndex(m,h,g),o=+l[4];return this.newDate(m,c,o)},add:function(s,l,m){var h=s.year(),g=s.month(),c=this.isIntercalaryMonth(h,g),o=this.toChineseMonth(h,g),d=Object.getPrototypeOf(S.prototype).add.call(this,s,l,m);if(m==="y"){var w=d.year(),A=d.month(),C=this.isIntercalaryMonth(w,o),x=c&&C?this.toMonthIndex(w,o,!0):this.toMonthIndex(w,o,!1);x!==A&&d.month(x)}return d}});var b=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,p=/^闰?十?[一二三四五六七八九]?月/m,r=/^闰?十?[一二三四五六七八九]?/m;y.calendars.chinese=S;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],a=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(s,l,m,h){var g,c;if(typeof s=="object")g=s,c=l||{};else{var o=typeof s=="number"&&s>=1888&&s<=2111;if(!o)throw new Error("Solar year outside range 1888-2111");var d=typeof l=="number"&&l>=1&&l<=12;if(!d)throw new Error("Solar month outside range 1 - 12");var w=typeof m=="number"&&m>=1&&m<=31;if(!w)throw new Error("Solar day outside range 1 - 31");g={year:s,month:l,day:m},c=h||{}}var A=a[g.year-a[0]],C=g.year<<9|g.month<<5|g.day;c.year=C>=A?g.year:g.year-1,A=a[c.year-a[0]];var x=A>>9&4095,E=A>>5&15,M=A&31,f,P=new Date(x,E-1,M),T=new Date(g.year,g.month-1,g.day);f=Math.round((T-P)/864e5);var z=t[c.year-t[0]],_;for(_=0;_<13;_++){var V=z&1<<12-_?30:29;if(f<V)break;f-=V}var F=z>>13;return!F||_<F?(c.isIntercalary=!1,c.month=1+_):_===F?(c.isIntercalary=!0,c.month=_):(c.isIntercalary=!1,c.month=_),c.day=1+f,c}function u(s,l,m,h,g){var c,o;if(typeof s=="object")o=s,c=l||{};else{var d=typeof s=="number"&&s>=1888&&s<=2111;if(!d)throw new Error("Lunar year outside range 1888-2111");var w=typeof l=="number"&&l>=1&&l<=12;if(!w)throw new Error("Lunar month outside range 1 - 12");var A=typeof m=="number"&&m>=1&&m<=30;if(!A)throw new Error("Lunar day outside range 1 - 30");var C;typeof h=="object"?(C=!1,c=h):(C=!!h,c=g||{}),o={year:s,month:l,day:m,isIntercalary:C}}var x;x=o.day-1;var E=t[o.year-t[0]],M=E>>13,f;M&&(o.month>M||o.isIntercalary)?f=o.month:f=o.month-1;for(var P=0;P<f;P++){var T=E&1<<12-P?30:29;x+=T}var z=a[o.year-a[0]],_=z>>9&4095,V=z>>5&15,F=z&31,N=new Date(_,V-1,F+x);return c.year=N.getFullYear(),c.month=1+N.getMonth(),c.day=N.getDate(),c}},89792:function(U,B,e){var y=e(38700),L=e(50896);function i(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}i.prototype=new y.baseCalendar,L(i.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var b=this._validate(v,this.minMonth,this.minDay,y.local.invalidYear),v=b.year()+(b.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(S){return this._validate(S,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear),13},weekOfYear:function(S,b,v){var p=this.newDate(S,b,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(S,b){var v=this._validate(S,b,this.minDay,y.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(S,b,v){return(this.dayOfWeek(S,b,v)||7)<6},toJD:function(S,b,v){var p=this._validate(S,b,v,y.local.invalidDate);return S=p.year(),S<0&&S++,p.day()+(p.month()-1)*30+(S-1)*365+Math.floor(S/4)+this.jdEpoch-1},fromJD:function(S){var b=Math.floor(S)+.5-this.jdEpoch,v=Math.floor((b-Math.floor((b+366)/1461))/365)+1;v<=0&&v--,b=Math.floor(S)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(b/30)+1,r=b-(p-1)*30+1;return this.newDate(v,p,r)}}),y.calendars.coptic=i},55668:function(U,B,e){var y=e(38700),L=e(50896);function i(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}i.prototype=new y.baseCalendar,L(i.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(b){return this._validate(b,this.minMonth,this.minDay,y.local.invalidYear),!1},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,y.local.invalidYear),13},daysInYear:function(b){return this._validate(b,this.minMonth,this.minDay,y.local.invalidYear),400},weekOfYear:function(b,v,p){var r=this.newDate(b,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(b,v){var p=this._validate(b,v,this.minDay,y.local.invalidMonth);return this.daysPerMonth[p.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(b,v,p){var r=this._validate(b,v,p,y.local.invalidDate);return(r.day()+1)%8},weekDay:function(b,v,p){var r=this.dayOfWeek(b,v,p);return r>=2&&r<=6},extraInfo:function(b,v,p){var r=this._validate(b,v,p,y.local.invalidDate);return{century:S[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(b,v,p){var r=this._validate(b,v,p,y.local.invalidDate);return b=r.year()+(r.year()<0?1:0),v=r.month(),p=r.day(),p+(v>1?16:0)+(v>2?(v-2)*32:0)+(b-1)*400+this.jdEpoch-1},fromJD:function(b){b=Math.floor(b+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(b/400)+1;b-=(v-1)*400,b+=b>15?16:0;var p=Math.floor(b/32)+1,r=b-(p-1)*32+1;return this.newDate(v<=0?v-1:v,p,r)}});var S={20:"Fruitbat",21:"Anchovy"};y.calendars.discworld=i},65168:function(U,B,e){var y=e(38700),L=e(50896);function i(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}i.prototype=new y.baseCalendar,L(i.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var b=this._validate(v,this.minMonth,this.minDay,y.local.invalidYear),v=b.year()+(b.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(S){return this._validate(S,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear),13},weekOfYear:function(S,b,v){var p=this.newDate(S,b,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(S,b){var v=this._validate(S,b,this.minDay,y.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(S,b,v){return(this.dayOfWeek(S,b,v)||7)<6},toJD:function(S,b,v){var p=this._validate(S,b,v,y.local.invalidDate);return S=p.year(),S<0&&S++,p.day()+(p.month()-1)*30+(S-1)*365+Math.floor(S/4)+this.jdEpoch-1},fromJD:function(S){var b=Math.floor(S)+.5-this.jdEpoch,v=Math.floor((b-Math.floor((b+366)/1461))/365)+1;v<=0&&v--,b=Math.floor(S)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(b/30)+1,r=b-(p-1)*30+1;return this.newDate(v,p,r)}}),y.calendars.ethiopian=i},2084:function(U,B,e){var y=e(38700),L=e(50896);function i(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}i.prototype=new y.baseCalendar,L(i.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var v=this._validate(b,this.minMonth,this.minDay,y.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(b){return b=b<0?b+1:b,S(b*7+1,19)<7},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,y.local.invalidYear),this._leapYear(b.year?b.year():b)?13:12},weekOfYear:function(b,v,p){var r=this.newDate(b,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(b){var v=this._validate(b,this.minMonth,this.minDay,y.local.invalidYear);return b=v.year(),this.toJD(b===-1?1:b+1,7,1)-this.toJD(b,7,1)},daysInMonth:function(b,v){return b.year&&(v=b.month(),b=b.year()),this._validate(b,v,this.minDay,y.local.invalidMonth),v===12&&this.leapYear(b)||v===8&&S(this.daysInYear(b),10)===5?30:v===9&&S(this.daysInYear(b),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(b,v,p){return this.dayOfWeek(b,v,p)!==6},extraInfo:function(b,v,p){var r=this._validate(b,v,p,y.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(b,v,p){var r=this._validate(b,v,p,y.local.invalidDate);b=r.year(),v=r.month(),p=r.day();var t=b<=0?b+1:b,a=this.jdEpoch+this._delay1(t)+this._delay2(t)+p+1;if(v<7){for(var n=7;n<=this.monthsInYear(b);n++)a+=this.daysInMonth(b,n);for(var n=1;n<v;n++)a+=this.daysInMonth(b,n)}else for(var n=7;n<v;n++)a+=this.daysInMonth(b,n);return a},_delay1:function(b){var v=Math.floor((235*b-234)/19),p=12084+13753*v,r=v*29+Math.floor(p/25920);return S(3*(r+1),7)<3&&r++,r},_delay2:function(b){var v=this._delay1(b-1),p=this._delay1(b),r=this._delay1(b+1);return r-p===356?2:p-v===382?1:0},fromJD:function(b){b=Math.floor(b)+.5;for(var v=Math.floor((b-this.jdEpoch)*98496/35975351)-1;b>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var p=b<this.toJD(v,1,1)?7:1;b>this.toJD(v,p,this.daysInMonth(v,p));)p++;var r=b-this.toJD(v,p,1)+1;return this.newDate(v,p,r)}});function S(b,v){return b-v*Math.floor(b/v)}y.calendars.hebrew=i},26368:function(U,B,e){var y=e(38700),L=e(50896);function i(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}i.prototype=new y.baseCalendar,L(i.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(S){var b=this._validate(S,this.minMonth,this.minDay,y.local.invalidYear);return(b.year()*11+14)%30<11},weekOfYear:function(S,b,v){var p=this.newDate(S,b,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(S){return this.leapYear(S)?355:354},daysInMonth:function(S,b){var v=this._validate(S,b,this.minDay,y.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(S,b,v){return this.dayOfWeek(S,b,v)!==5},toJD:function(S,b,v){var p=this._validate(S,b,v,y.local.invalidDate);return S=p.year(),b=p.month(),v=p.day(),S=S<=0?S+1:S,v+Math.ceil(29.5*(b-1))+(S-1)*354+Math.floor((3+11*S)/30)+this.jdEpoch-1},fromJD:function(S){S=Math.floor(S)+.5;var b=Math.floor((30*(S-this.jdEpoch)+10646)/10631);b=b<=0?b-1:b;var v=Math.min(12,Math.ceil((S-29-this.toJD(b,1,1))/29.5)+1),p=S-this.toJD(b,v,1)+1;return this.newDate(b,v,p)}}),y.calendars.islamic=i},24747:function(U,B,e){var y=e(38700),L=e(50896);function i(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}i.prototype=new y.baseCalendar,L(i.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var b=this._validate(v,this.minMonth,this.minDay,y.local.invalidYear),v=b.year()<0?b.year()+1:b.year();return v%4===0},weekOfYear:function(S,b,v){var p=this.newDate(S,b,v);return p.add(4-(p.dayOfWeek()||7),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(S,b){var v=this._validate(S,b,this.minDay,y.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(S,b,v){return(this.dayOfWeek(S,b,v)||7)<6},toJD:function(S,b,v){var p=this._validate(S,b,v,y.local.invalidDate);return S=p.year(),b=p.month(),v=p.day(),S<0&&S++,b<=2&&(S--,b+=12),Math.floor(365.25*(S+4716))+Math.floor(30.6001*(b+1))+v-1524.5},fromJD:function(S){var b=Math.floor(S+.5),v=b+1524,p=Math.floor((v-122.1)/365.25),r=Math.floor(365.25*p),t=Math.floor((v-r)/30.6001),a=t-Math.floor(t<14?1:13),n=p-Math.floor(a>2?4716:4715),u=v-r-Math.floor(30.6001*t);return n<=0&&n--,this.newDate(n,a,u)}}),y.calendars.julian=i},65616:function(U,B,e){var y=e(38700),L=e(50896);function i(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}i.prototype=new y.baseCalendar,L(i.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,y.local.invalidYear),!1},formatYear:function(v){var p=this._validate(v,this.minMonth,this.minDay,y.local.invalidYear);v=p.year();var r=Math.floor(v/400);v=v%400,v+=v<0?400:0;var t=Math.floor(v/20);return r+"."+t+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var p=0,r=0;r<v.length;r++){var t=parseInt(v[r],10);if(Math.abs(t)>19||r>0&&t<0)throw"Invalid Mayan year";p=p*20+t}return p},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,y.local.invalidYear),18},weekOfYear:function(v,p,r){return this._validate(v,p,r,y.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,y.local.invalidYear),360},daysInMonth:function(v,p){return this._validate(v,p,this.minDay,y.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,p,r){var t=this._validate(v,p,r,y.local.invalidDate);return t.day()},weekDay:function(v,p,r){return this._validate(v,p,r,y.local.invalidDate),!0},extraInfo:function(v,p,r){var t=this._validate(v,p,r,y.local.invalidDate),a=t.toJD(),n=this._toHaab(a),u=this._toTzolkin(a);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[u[0]-1],tzolkinDay:u[0],tzolkinTrecena:u[1]}},_toHaab:function(v){v-=this.jdEpoch;var p=S(v+8+17*20,365);return[Math.floor(p/20)+1,S(p,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[b(v+20,20),b(v+4,13)]},toJD:function(v,p,r){var t=this._validate(v,p,r,y.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var p=Math.floor(v/360);v=v%360,v+=v<0?360:0;var r=Math.floor(v/20),t=v%20;return this.newDate(p,r,t)}});function S(v,p){return v-p*Math.floor(v/p)}function b(v,p){return S(v-1,p)+1}y.calendars.mayan=i},30632:function(U,B,e){var y=e(38700),L=e(50896);function i(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}i.prototype=new y.baseCalendar;var S=y.instance("gregorian");L(i.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var v=this._validate(b,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear);return S.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(b,v,p){var r=this.newDate(b,v,p);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(b,v){var p=this._validate(b,v,this.minDay,y.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(b,v,p){return(this.dayOfWeek(b,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,y.local.invalidMonth),t=r.year();t<0&&t++;for(var a=r.day(),n=1;n<r.month();n++)a+=this.daysPerMonth[n-1];return a+S.toJD(t+1468,3,13)},fromJD:function(b){b=Math.floor(b+.5);for(var v=Math.floor((b-(this.jdEpoch-1))/366);b>=this.toJD(v+1,1,1);)v++;for(var p=b-Math.floor(this.toJD(v,1,1)+.5)+1,r=1;p>this.daysInMonth(v,r);)p-=this.daysInMonth(v,r),r++;return this.newDate(v,r,p)}}),y.calendars.nanakshahi=i},73040:function(U,B,e){var y=e(38700),L=e(50896);function i(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}i.prototype=new y.baseCalendar,L(i.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(S){return this.daysInYear(S)!==this.daysPerYear},weekOfYear:function(S,b,v){var p=this.newDate(S,b,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(S){var b=this._validate(S,this.minMonth,this.minDay,y.local.invalidYear);if(S=b.year(),typeof this.NEPALI_CALENDAR_DATA[S]>"u")return this.daysPerYear;for(var v=0,p=this.minMonth;p<=12;p++)v+=this.NEPALI_CALENDAR_DATA[S][p];return v},daysInMonth:function(S,b){return S.year&&(b=S.month(),S=S.year()),this._validate(S,b,this.minDay,y.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[S]>"u"?this.daysPerMonth[b-1]:this.NEPALI_CALENDAR_DATA[S][b]},weekDay:function(S,b,v){return this.dayOfWeek(S,b,v)!==6},toJD:function(S,b,v){var p=this._validate(S,b,v,y.local.invalidDate);S=p.year(),b=p.month(),v=p.day();var r=y.instance(),t=0,a=b,n=S;this._createMissingCalendarData(S);var u=S-(a>9||a===9&&v>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(b!==9&&(t=v,a--);a!==9;)a<=0&&(a=12,n--),t+=this.NEPALI_CALENDAR_DATA[n][a],a--;return b===9?(t+=v-this.NEPALI_CALENDAR_DATA[n][0],t<0&&(t+=r.daysInYear(u))):t+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],r.newDate(u,1,1).add(t,"d").toJD()},fromJD:function(S){var b=y.instance(),v=b.fromJD(S),p=v.year(),r=v.dayOfYear(),t=p+56;this._createMissingCalendarData(t);for(var a=9,n=this.NEPALI_CALENDAR_DATA[t][0],u=this.NEPALI_CALENDAR_DATA[t][a]-n+1;r>u;)a++,a>12&&(a=1,t++),u+=this.NEPALI_CALENDAR_DATA[t][a];var s=this.NEPALI_CALENDAR_DATA[t][a]-(u-r);return this.newDate(t,a,s)},_createMissingCalendarData:function(S){var b=this.daysPerMonth.slice(0);b.unshift(17);for(var v=S-1;v<S+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=b)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),y.calendars.nepali=i},1104:function(U,B,e){var y=e(38700),L=e(50896);function i(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}i.prototype=new y.baseCalendar,L(i.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(b){var v=this._validate(b,this.minMonth,this.minDay,y.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(b,v,p){var r=this.newDate(b,v,p);return r.add(-((r.dayOfWeek()+1)%7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(b,v){var p=this._validate(b,v,this.minDay,y.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(b,v,p){return this.dayOfWeek(b,v,p)!==5},toJD:function(b,v,p){var r=this._validate(b,v,p,y.local.invalidDate);b=r.year(),v=r.month(),p=r.day();var t=b-(b>=0?474:473),a=474+S(t,2820);return p+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((a*682-110)/2816)+(a-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(b){b=Math.floor(b)+.5;var v=b-this.toJD(475,1,1),p=Math.floor(v/1029983),r=S(v,1029983),t=2820;if(r!==1029982){var a=Math.floor(r/366),n=S(r,366);t=Math.floor((2134*a+2816*n+2815)/1028522)+a+1}var u=t+2820*p+474;u=u<=0?u-1:u;var s=b-this.toJD(u,1,1)+1,l=s<=186?Math.ceil(s/31):Math.ceil((s-6)/30),m=b-this.toJD(u,l,1)+1;return this.newDate(u,l,m)}});function S(b,v){return b-v*Math.floor(b/v)}y.calendars.persian=i,y.calendars.jalali=i},51456:function(U,B,e){var y=e(38700),L=e(50896),i=y.instance();function S(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}S.prototype=new y.baseCalendar,L(S.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,y.local.invalidYear),p=this._t2gYear(v.year());return i.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,y.local.invalidYear),t=this._t2gYear(r.year());return i.weekOfYear(t,r.month(),r.day())},daysInMonth:function(b,v){var p=this._validate(b,v,this.minDay,y.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(b,v,p){return(this.dayOfWeek(b,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,y.local.invalidDate),t=this._t2gYear(r.year());return i.toJD(t,r.month(),r.day())},fromJD:function(b){var v=i.fromJD(b),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(b){return b+this.yearsOffset+(b>=-this.yearsOffset&&b<=-1?1:0)},_g2tYear:function(b){return b-this.yearsOffset-(b>=1&&b<=this.yearsOffset?1:0)}}),y.calendars.taiwan=S},4592:function(U,B,e){var y=e(38700),L=e(50896),i=y.instance();function S(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}S.prototype=new y.baseCalendar,L(S.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,y.local.invalidYear),p=this._t2gYear(v.year());return i.leapYear(p)},weekOfYear:function(t,v,p){var r=this._validate(t,this.minMonth,this.minDay,y.local.invalidYear),t=this._t2gYear(r.year());return i.weekOfYear(t,r.month(),r.day())},daysInMonth:function(b,v){var p=this._validate(b,v,this.minDay,y.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(b,v,p){return(this.dayOfWeek(b,v,p)||7)<6},toJD:function(t,v,p){var r=this._validate(t,v,p,y.local.invalidDate),t=this._t2gYear(r.year());return i.toJD(t,r.month(),r.day())},fromJD:function(b){var v=i.fromJD(b),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(b){return b-this.yearsOffset-(b>=1&&b<=this.yearsOffset?1:0)},_g2tYear:function(b){return b+this.yearsOffset+(b>=-this.yearsOffset&&b<=-1?1:0)}}),y.calendars.thai=S},45348:function(U,B,e){var y=e(38700),L=e(50896);function i(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}i.prototype=new y.baseCalendar,L(i.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(b){var v=this._validate(b,this.minMonth,this.minDay,y.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(b,v,p){var r=this.newDate(b,v,p);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(b){for(var v=0,p=1;p<=12;p++)v+=this.daysInMonth(b,p);return v},daysInMonth:function(b,v){for(var p=this._validate(b,v,this.minDay,y.local.invalidMonth),r=p.toJD()-24e5+.5,t=0,a=0;a<S.length;a++){if(S[a]>r)return S[t]-S[t-1];t++}return 30},weekDay:function(b,v,p){return this.dayOfWeek(b,v,p)!==5},toJD:function(b,v,p){var r=this._validate(b,v,p,y.local.invalidDate),t=12*(r.year()-1)+r.month()-15292,a=r.day()+S[t-1]-1;return a+24e5-.5},fromJD:function(b){for(var v=b-24e5+.5,p=0,r=0;r<S.length&&!(S[r]>v);r++)p++;var t=p+15292,a=Math.floor((t-1)/12),n=a+1,u=t-12*a,s=v-S[p-1]+1;return this.newDate(n,u,s)},isValid:function(b,v,p){var r=y.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(b=b.year!=null?b.year:b,r=b>=1276&&b<=1500),r},_validate:function(b,v,p,r){var t=y.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw r.replace(/\{0\}/,this.local.name);return t}}),y.calendars.ummalqura=i;var S=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(U,B,e){var y=e(50896);function L(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}y(L.prototype,{instance:function(r,t){r=(r||"gregorian").toLowerCase(),t=t||"";var a=this._localCals[r+"-"+t];if(!a&&this.calendars[r]&&(a=new this.calendars[r](t),this._localCals[r+"-"+t]=a),!a)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return a},newDate:function(r,t,a,n,u){return n=(r!=null&&r.year?r.calendar():typeof n=="string"?this.instance(n,u):n)||this.instance(),n.newDate(r,t,a)},substituteDigits:function(r){return function(t){return(t+"").replace(/[0-9]/g,function(a){return r[a]})}},substituteChineseDigits:function(r,t){return function(a){for(var n="",u=0;a>0;){var s=a%10;n=(s===0?"":r[s]+t[u])+n,u++,a=Math.floor(a/10)}return n.indexOf(r[1]+t[1])===0&&(n=n.substr(1)),n||r[0]}}});function i(r,t,a,n){if(this._calendar=r,this._year=t,this._month=a,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function S(r,t){return r=""+r,"000000".substring(0,t-r.length)+r}y(i.prototype,{newDate:function(r,t,a){return this._calendar.newDate(r??this,t,a)},year:function(r){return arguments.length===0?this._year:this.set(r,"y")},month:function(r){return arguments.length===0?this._month:this.set(r,"m")},day:function(r){return arguments.length===0?this._day:this.set(r,"d")},date:function(r,t,a){if(!this._calendar.isValid(r,t,a))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=t,this._day=a,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,t){return this._calendar.add(this,r,t)},set:function(r,t){return this._calendar.set(this,r,t)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var t=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+S(Math.abs(this.year()),4)+"-"+S(this.month(),2)+"-"+S(this.day(),2)}});function b(){this.shortYearCutoff="+10"}y(b.prototype,{_validateLevel:0,newDate:function(r,t,a){return r==null?this.today():(r.year&&(this._validate(r,t,a,p.local.invalidDate||p.regionalOptions[""].invalidDate),a=r.day(),t=r.month(),r=r.year()),new i(this,r,t,a))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+S(Math.abs(t.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),12},monthOfYear:function(r,t){var a=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return(a.month()+this.monthsInYear(a)-this.firstMonth)%this.monthsInYear(a)+this.minMonth},fromMonthOfYear:function(r,t){var a=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,a,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth),a},daysInYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(r,t,a){var n=this._validate(r,t,a,p.local.invalidDate||p.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,t,a){var n=this._validate(r,t,a,p.local.invalidDate||p.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(r,t,a){return this._validate(r,t,a,p.local.invalidDate||p.regionalOptions[""].invalidDate),{}},add:function(r,t,a){return this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,t,a),t,a)},_add:function(r,t,a){if(this._validateLevel++,a==="d"||a==="w"){var n=r.toJD()+t*(a==="w"?this.daysInWeek():1),u=r.calendar().fromJD(n);return this._validateLevel--,[u.year(),u.month(),u.day()]}try{var s=r.year()+(a==="y"?t:0),l=r.monthOfYear()+(a==="m"?t:0),u=r.day(),m=function(c){for(;l<c.minMonth;)s--,l+=c.monthsInYear(s);for(var o=c.monthsInYear(s);l>o-1+c.minMonth;)s++,l-=o,o=c.monthsInYear(s)};a==="y"?(r.month()!==this.fromMonthOfYear(s,l)&&(l=this.newDate(s,r.month(),this.minDay).monthOfYear()),l=Math.min(l,this.monthsInYear(s)),u=Math.min(u,this.daysInMonth(s,this.fromMonthOfYear(s,l)))):a==="m"&&(m(this),u=Math.min(u,this.daysInMonth(s,this.fromMonthOfYear(s,l))));var h=[s,this.fromMonthOfYear(s,l),u];return this._validateLevel--,h}catch(g){throw this._validateLevel--,g}},_correctAdd:function(r,t,a,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(t[0]===0||r.year()>0!=t[0]>0)){var u={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],s=a<0?-1:1;t=this._add(r,a*u[0]+s*u[1],u[2])}return r.date(t[0],t[1],t[2])},set:function(r,t,a){this._validate(r,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate);var n=a==="y"?t:r.year(),u=a==="m"?t:r.month(),s=a==="d"?t:r.day();return(a==="y"||a==="m")&&(s=Math.min(s,this.daysInMonth(n,u))),r.date(n,u,s)},isValid:function(r,t,a){this._validateLevel++;var n=this.hasYearZero||r!==0;if(n){var u=this.newDate(r,t,this.minDay);n=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(u)&&a>=this.minDay&&a-this.minDay<this.daysInMonth(u)}return this._validateLevel--,n},toJSDate:function(r,t,a){var n=this._validate(r,t,a,p.local.invalidDate||p.regionalOptions[""].invalidDate);return p.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(r){return this.fromJD(p.instance().fromJSDate(r).toJD())},_validate:function(r,t,a,n){if(r.year){if(this._validateLevel===0&&this.name!==r.calendar().name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(r,t,a))throw n.replace(/\{0\}/,this.local.name);var u=this.newDate(r,t,a);return this._validateLevel--,u}catch(s){throw this._validateLevel--,s}}});function v(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}v.prototype=new b,y(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(a){var t=this._validate(a,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),a=t.year()+(t.year()<0?1:0);return a%4===0&&(a%100!==0||a%400===0)},weekOfYear:function(r,t,a){var n=this.newDate(r,t,a);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,t){var a=this._validate(r,t,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return this.daysPerMonth[a.month()-1]+(a.month()===2&&this.leapYear(a.year())?1:0)},weekDay:function(r,t,a){return(this.dayOfWeek(r,t,a)||7)<6},toJD:function(r,t,a){var n=this._validate(r,t,a,p.local.invalidDate||p.regionalOptions[""].invalidDate);r=n.year(),t=n.month(),a=n.day(),r<0&&r++,t<3&&(t+=12,r--);var u=Math.floor(r/100),s=2-u+Math.floor(u/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(t+1))+a+s-1524.5},fromJD:function(r){var t=Math.floor(r+.5),a=Math.floor((t-186721625e-2)/36524.25);a=t+1+a-Math.floor(a/4);var n=a+1524,u=Math.floor((n-122.1)/365.25),s=Math.floor(365.25*u),l=Math.floor((n-s)/30.6001),m=n-s-Math.floor(l*30.6001),h=l-(l>13.5?13:1),g=u-(h>2.5?4716:4715);return g<=0&&g--,this.newDate(g,h,m)},toJSDate:function(r,t,a){var n=this._validate(r,t,a,p.local.invalidDate||p.regionalOptions[""].invalidDate),u=new Date(n.year(),n.month()-1,n.day());return u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0),u.setHours(u.getHours()>12?u.getHours()+2:0),u},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var p=U.exports=new L;p.cdate=i,p.baseCalendar=b,p.calendars.gregorian=v},15168:function(U,B,e){var y=e(50896),L=e(38700);y(L.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),L.local=L.regionalOptions[""],y(L.cdate.prototype,{formatDate:function(i,S){return typeof i!="string"&&(S=i,i=""),this._calendar.formatDate(i||"",this,S)}}),y(L.baseCalendar.prototype,{UNIX_EPOCH:L.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:L.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(i,S,b){if(typeof i!="string"&&(b=S,S=i,i=""),!S)return"";if(S.calendar()!==this)throw L.local.invalidFormat||L.regionalOptions[""].invalidFormat;i=i||this.local.dateFormat,b=b||{};var v=b.dayNamesShort||this.local.dayNamesShort,p=b.dayNames||this.local.dayNames,r=b.monthNumbers||this.local.monthNumbers,t=b.monthNamesShort||this.local.monthNamesShort,a=b.monthNames||this.local.monthNames;b.calculateWeek||this.local.calculateWeek;for(var n=function(A,C){for(var x=1;w+x<i.length&&i.charAt(w+x)===A;)x++;return w+=x-1,Math.floor(x/(C||1))>1},u=function(A,C,x,E){var M=""+C;if(n(A,E))for(;M.length<x;)M="0"+M;return M},s=function(A,C,x,E){return n(A)?E[C]:x[C]},l=this,m=function(A){return typeof r=="function"?r.call(l,A,n("m")):c(u("m",A.month(),2))},h=function(A,C){return C?typeof a=="function"?a.call(l,A):a[A.month()-l.minMonth]:typeof t=="function"?t.call(l,A):t[A.month()-l.minMonth]},g=this.local.digits,c=function(A){return b.localNumbers&&g?g(A):A},o="",d=!1,w=0;w<i.length;w++)if(d)i.charAt(w)==="'"&&!n("'")?d=!1:o+=i.charAt(w);else switch(i.charAt(w)){case"d":o+=c(u("d",S.day(),2));break;case"D":o+=s("D",S.dayOfWeek(),v,p);break;case"o":o+=u("o",S.dayOfYear(),3);break;case"w":o+=u("w",S.weekOfYear(),2);break;case"m":o+=m(S);break;case"M":o+=h(S,n("M"));break;case"y":o+=n("y",2)?S.year():(S.year()%100<10?"0":"")+S.year()%100;break;case"Y":n("Y",2),o+=S.formatYear();break;case"J":o+=S.toJD();break;case"@":o+=(S.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":o+=(S.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?o+="'":d=!0;break;default:o+=i.charAt(w)}return o},parseDate:function(i,S,b){if(S==null)throw L.local.invalidArguments||L.regionalOptions[""].invalidArguments;if(S=typeof S=="object"?S.toString():S+"",S==="")return null;i=i||this.local.dateFormat,b=b||{};var v=b.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var p=b.dayNamesShort||this.local.dayNamesShort,r=b.dayNames||this.local.dayNames,t=b.parseMonth||this.local.parseMonth,a=b.monthNumbers||this.local.monthNumbers,n=b.monthNamesShort||this.local.monthNamesShort,u=b.monthNames||this.local.monthNames,s=-1,l=-1,m=-1,h=-1,g=-1,c=!1,o=!1,d=function(_,V){for(var F=1;P+F<i.length&&i.charAt(P+F)===_;)F++;return P+=F-1,Math.floor(F/(V||1))>1},w=function(_,V){var F=d(_,V),N=[2,3,F?4:2,F?4:2,10,11,20]["oyYJ@!".indexOf(_)+1],k=new RegExp("^-?\\d{1,"+N+"}"),I=S.substring(f).match(k);if(!I)throw(L.local.missingNumberAt||L.regionalOptions[""].missingNumberAt).replace(/\{0\}/,f);return f+=I[0].length,parseInt(I[0],10)},A=this,C=function(){if(typeof a=="function"){d("m");var _=a.call(A,S.substring(f));return f+=_.length,_}return w("m")},x=function(_,V,F,N){for(var k=d(_,N)?F:V,I=0;I<k.length;I++)if(S.substr(f,k[I].length).toLowerCase()===k[I].toLowerCase())return f+=k[I].length,I+A.minMonth;throw(L.local.unknownNameAt||L.regionalOptions[""].unknownNameAt).replace(/\{0\}/,f)},E=function(){if(typeof u=="function"){var _=d("M")?u.call(A,S.substring(f)):n.call(A,S.substring(f));return f+=_.length,_}return x("M",n,u)},M=function(){if(S.charAt(f)!==i.charAt(P))throw(L.local.unexpectedLiteralAt||L.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,f);f++},f=0,P=0;P<i.length;P++)if(o)i.charAt(P)==="'"&&!d("'")?o=!1:M();else switch(i.charAt(P)){case"d":h=w("d");break;case"D":x("D",p,r);break;case"o":g=w("o");break;case"w":w("w");break;case"m":m=C();break;case"M":m=E();break;case"y":var T=P;c=!d("y",2),P=T,l=w("y",2);break;case"Y":l=w("Y",2);break;case"J":s=w("J")+.5,S.charAt(f)==="."&&(f++,w("J"));break;case"@":s=w("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":s=w("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":f=S.length;break;case"'":d("'")?M():o=!0;break;default:M()}if(f<S.length)throw L.local.unexpectedText||L.regionalOptions[""].unexpectedText;if(l===-1?l=this.today().year():l<100&&c&&(l+=v===-1?1900:this.today().year()-this.today().year()%100-(l<=v?0:100)),typeof m=="string"&&(m=t.call(this,l,m)),g>-1){m=1,h=g;for(var z=this.daysInMonth(l,m);h>z;z=this.daysInMonth(l,m))m++,h-=z}return s>-1?this.fromJD(s):this.newDate(l,m,h)},determineDate:function(i,S,b,v,p){b&&typeof b!="object"&&(p=v,v=b,b=null),typeof v!="string"&&(p=v,v="");var r=this,t=function(a){try{return r.parseDate(v,a,p)}catch{}a=a.toLowerCase();for(var n=(a.match(/^c/)&&b?b.newDate():null)||r.today(),u=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,s=u.exec(a);s;)n.add(parseInt(s[1],10),s[2]||"d"),s=u.exec(a);return n};return S=S?S.newDate():null,i=i==null?S:typeof i=="string"?t(i):typeof i=="number"?isNaN(i)||i===1/0||i===-1/0?S:r.today().add(i,"d"):r.newDate(i),i}})},21576:function(){},19768:function(){},63436:function(U,B,e){var y=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],L=typeof globalThis>"u"?e.g:globalThis;U.exports=function(){for(var S=[],b=0;b<y.length;b++)typeof L[y[b]]=="function"&&(S[S.length]=y[b]);return S}},67756:function(U,B,e){e.d(B,{qy:function(){return Ee},Gz:function(){return oe}});function y(xe,De,Ve){xe.prototype=De.prototype=Ve,Ve.constructor=xe}function L(xe,De){var Ve=Object.create(xe.prototype);for(var Ue in De)Ve[Ue]=De[Ue];return Ve}function i(){}var S=.7,b=1/S,v="\\s*([+-]?\\d+)\\s*",p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t=/^#([0-9a-f]{3,8})$/,a=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),n=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),u=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(p,"\\)$")),s=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(p,"\\)$")),l=new RegExp("^hsl\\(".concat(p,",").concat(r,",").concat(r,"\\)$")),m=new RegExp("^hsla\\(".concat(p,",").concat(r,",").concat(r,",").concat(p,"\\)$")),h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};y(i,w,{copy:function(De){return Object.assign(new this.constructor,this,De)},displayable:function(){return this.rgb().displayable()},hex:g,formatHex:g,formatHex8:c,formatHsl:o,formatRgb:d,toString:d});function g(){return this.rgb().formatHex()}function c(){return this.rgb().formatHex8()}function o(){return N(this).formatHsl()}function d(){return this.rgb().formatRgb()}function w(xe){var De,Ve;return xe=(xe+"").trim().toLowerCase(),(De=t.exec(xe))?(Ve=De[1].length,De=parseInt(De[1],16),Ve===6?A(De):Ve===3?new M(De>>8&15|De>>4&240,De>>4&15|De&240,(De&15)<<4|De&15,1):Ve===8?C(De>>24&255,De>>16&255,De>>8&255,(De&255)/255):Ve===4?C(De>>12&15|De>>8&240,De>>8&15|De>>4&240,De>>4&15|De&240,((De&15)<<4|De&15)/255):null):(De=a.exec(xe))?new M(De[1],De[2],De[3],1):(De=n.exec(xe))?new M(De[1]*255/100,De[2]*255/100,De[3]*255/100,1):(De=u.exec(xe))?C(De[1],De[2],De[3],De[4]):(De=s.exec(xe))?C(De[1]*255/100,De[2]*255/100,De[3]*255/100,De[4]):(De=l.exec(xe))?F(De[1],De[2]/100,De[3]/100,1):(De=m.exec(xe))?F(De[1],De[2]/100,De[3]/100,De[4]):h.hasOwnProperty(xe)?A(h[xe]):xe==="transparent"?new M(NaN,NaN,NaN,0):null}function A(xe){return new M(xe>>16&255,xe>>8&255,xe&255,1)}function C(xe,De,Ve,Ue){return Ue<=0&&(xe=De=Ve=NaN),new M(xe,De,Ve,Ue)}function x(xe){return xe instanceof i||(xe=w(xe)),xe?(xe=xe.rgb(),new M(xe.r,xe.g,xe.b,xe.opacity)):new M}function E(xe,De,Ve,Ue){return arguments.length===1?x(xe):new M(xe,De,Ve,Ue??1)}function M(xe,De,Ve,Ue){this.r=+xe,this.g=+De,this.b=+Ve,this.opacity=+Ue}y(M,E,L(i,{brighter:function(De){return De=De==null?b:Math.pow(b,De),new M(this.r*De,this.g*De,this.b*De,this.opacity)},darker:function(De){return De=De==null?S:Math.pow(S,De),new M(this.r*De,this.g*De,this.b*De,this.opacity)},rgb:function(){return this},clamp:function(){return new M(_(this.r),_(this.g),_(this.b),z(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:f,formatHex:f,formatHex8:P,formatRgb:T,toString:T}));function f(){return"#".concat(V(this.r)).concat(V(this.g)).concat(V(this.b))}function P(){return"#".concat(V(this.r)).concat(V(this.g)).concat(V(this.b)).concat(V((isNaN(this.opacity)?1:this.opacity)*255))}function T(){var xe=z(this.opacity);return"".concat(xe===1?"rgb(":"rgba(").concat(_(this.r),", ").concat(_(this.g),", ").concat(_(this.b)).concat(xe===1?")":", ".concat(xe,")"))}function z(xe){return isNaN(xe)?1:Math.max(0,Math.min(1,xe))}function _(xe){return Math.max(0,Math.min(255,Math.round(xe)||0))}function V(xe){return xe=_(xe),(xe<16?"0":"")+xe.toString(16)}function F(xe,De,Ve,Ue){return Ue<=0?xe=De=Ve=NaN:Ve<=0||Ve>=1?xe=De=NaN:De<=0&&(xe=NaN),new I(xe,De,Ve,Ue)}function N(xe){if(xe instanceof I)return new I(xe.h,xe.s,xe.l,xe.opacity);if(xe instanceof i||(xe=w(xe)),!xe)return new I;if(xe instanceof I)return xe;xe=xe.rgb();var De=xe.r/255,Ve=xe.g/255,Ue=xe.b/255,Be=Math.min(De,Ve,Ue),Xe=Math.max(De,Ve,Ue),ot=NaN,ut=Xe-Be,et=(Xe+Be)/2;return ut?(De===Xe?ot=(Ve-Ue)/ut+(Ve<Ue)*6:Ve===Xe?ot=(Ue-De)/ut+2:ot=(De-Ve)/ut+4,ut/=et<.5?Xe+Be:2-Xe-Be,ot*=60):ut=et>0&&et<1?0:ot,new I(ot,ut,et,xe.opacity)}function k(xe,De,Ve,Ue){return arguments.length===1?N(xe):new I(xe,De,Ve,Ue??1)}function I(xe,De,Ve,Ue){this.h=+xe,this.s=+De,this.l=+Ve,this.opacity=+Ue}y(I,k,L(i,{brighter:function(De){return De=De==null?b:Math.pow(b,De),new I(this.h,this.s,this.l*De,this.opacity)},darker:function(De){return De=De==null?S:Math.pow(S,De),new I(this.h,this.s,this.l*De,this.opacity)},rgb:function(){var De=this.h%360+(this.h<0)*360,Ve=isNaN(De)||isNaN(this.s)?0:this.s,Ue=this.l,Be=Ue+(Ue<.5?Ue:1-Ue)*Ve,Xe=2*Ue-Be;return new M(ee(De>=240?De-240:De+120,Xe,Be),ee(De,Xe,Be),ee(De<120?De+240:De-120,Xe,Be),this.opacity)},clamp:function(){return new I(H(this.h),j(this.s),j(this.l),z(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var De=z(this.opacity);return"".concat(De===1?"hsl(":"hsla(").concat(H(this.h),", ").concat(j(this.s)*100,"%, ").concat(j(this.l)*100,"%").concat(De===1?")":", ".concat(De,")"))}}));function H(xe){return xe=(xe||0)%360,xe<0?xe+360:xe}function j(xe){return Math.max(0,Math.min(1,xe||0))}function ee(xe,De,Ve){return(xe<60?De+(Ve-De)*xe/60:xe<180?Ve:xe<240?De+(Ve-De)*(240-xe)/60:De)*255}var te=function(xe){return function(){return xe}};function ne(xe,De){return function(Ve){return xe+Ve*De}}function ue(xe,De,Ve){return xe=Math.pow(xe,Ve),De=Math.pow(De,Ve)-xe,Ve=1/Ve,function(Ue){return Math.pow(xe+Ue*De,Ve)}}function q(xe){return(xe=+xe)==1?Y:function(De,Ve){return Ve-De?ue(De,Ve,xe):te(isNaN(De)?Ve:De)}}function Y(xe,De){var Ve=De-xe;return Ve?ne(xe,Ve):te(isNaN(xe)?De:xe)}var Z=function xe(De){var Ve=q(De);function Ue(Be,Xe){var ot=Ve((Be=E(Be)).r,(Xe=E(Xe)).r),ut=Ve(Be.g,Xe.g),et=Ve(Be.b,Xe.b),qe=Y(Be.opacity,Xe.opacity);return function(ft){return Be.r=ot(ft),Be.g=ut(ft),Be.b=et(ft),Be.opacity=qe(ft),Be+""}}return Ue.gamma=xe,Ue}(1);function G(xe,De){var Ve=De?De.length:0,Ue=xe?Math.min(Ve,xe.length):0,Be=new Array(Ue),Xe=new Array(Ve),ot;for(ot=0;ot<Ue;++ot)Be[ot]=Ee(xe[ot],De[ot]);for(;ot<Ve;++ot)Xe[ot]=De[ot];return function(ut){for(ot=0;ot<Ue;++ot)Xe[ot]=Be[ot](ut);return Xe}}function K(xe,De){var Ve=new Date;return xe=+xe,De=+De,function(Ue){return Ve.setTime(xe*(1-Ue)+De*Ue),Ve}}function oe(xe,De){return xe=+xe,De=+De,function(Ve){return xe*(1-Ve)+De*Ve}}function $(xe){"@babel/helpers - typeof";return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(De){return typeof De}:function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De},$(xe)}function J(xe,De){var Ve={},Ue={},Be;(xe===null||$(xe)!=="object")&&(xe={}),(De===null||$(De)!=="object")&&(De={});for(Be in De)Be in xe?Ve[Be]=Ee(xe[Be],De[Be]):Ue[Be]=De[Be];return function(Xe){for(Be in Ve)Ue[Be]=Ve[Be](Xe);return Ue}}var se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ie=new RegExp(se.source,"g");function ce(xe){return function(){return xe}}function ye(xe){return function(De){return xe(De)+""}}function Se(xe,De){var Ve=se.lastIndex=ie.lastIndex=0,Ue,Be,Xe,ot=-1,ut=[],et=[];for(xe=xe+"",De=De+"";(Ue=se.exec(xe))&&(Be=ie.exec(De));)(Xe=Be.index)>Ve&&(Xe=De.slice(Ve,Xe),ut[ot]?ut[ot]+=Xe:ut[++ot]=Xe),(Ue=Ue[0])===(Be=Be[0])?ut[ot]?ut[ot]+=Be:ut[++ot]=Be:(ut[++ot]=null,et.push({i:ot,x:oe(Ue,Be)})),Ve=ie.lastIndex;return Ve<De.length&&(Xe=De.slice(Ve),ut[ot]?ut[ot]+=Xe:ut[++ot]=Xe),ut.length<2?et[0]?ye(et[0].x):ce(De):(De=et.length,function(qe){for(var ft=0,ht;ft<De;++ft)ut[(ht=et[ft]).i]=ht.x(qe);return ut.join("")})}function Te(xe,De){De||(De=[]);var Ve=xe?Math.min(De.length,xe.length):0,Ue=De.slice(),Be;return function(Xe){for(Be=0;Be<Ve;++Be)Ue[Be]=xe[Be]*(1-Xe)+De[Be]*Xe;return Ue}}function ke(xe){return ArrayBuffer.isView(xe)&&!(xe instanceof DataView)}function we(xe){"@babel/helpers - typeof";return we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(De){return typeof De}:function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De},we(xe)}function Ee(xe,De){var Ve=we(De),Ue;return De==null||Ve==="boolean"?te(De):(Ve==="number"?oe:Ve==="string"?(Ue=w(De))?(De=Ue,Z):Se:De instanceof w?Z:De instanceof Date?K:ke(De)?Te:Array.isArray(De)?G:typeof De.valueOf!="function"&&typeof De.toString!="function"||isNaN(De)?J:oe)(xe,De)}},30584:function(U){U.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(U){U.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(U){U.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(U){U.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(U){U.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(U){U.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},ge={};function Re(U){var B=ge[U];if(B!==void 0)return B.exports;var e=ge[U]={exports:{}};return le[U].call(e.exports,e,e.exports,Re),e.exports}(function(){Re.n=function(U){var B=U&&U.__esModule?function(){return U.default}:function(){return U};return Re.d(B,{a:B}),B}})(),function(){Re.d=function(U,B){for(var e in B)Re.o(B,e)&&!Re.o(U,e)&&Object.defineProperty(U,e,{enumerable:!0,get:B[e]})}}(),function(){Re.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){Re.o=function(U,B){return Object.prototype.hasOwnProperty.call(U,B)}}(),function(){Re.r=function(U){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(U,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(U,"__esModule",{value:!0})}}();var Pe=Re(13792);return Pe}()})})(G4);var rC=G4.exports;(function(O){Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var W=ge(B4),le=ge(rC);function ge(U){return U&&U.__esModule?U:{default:U}}var Re=(0,W.default)(le.default),Pe=Re;O.default=Pe})(N4);const nC=h2(N4),iC=({city:O,forecast:W})=>{const le=W.map(Pe=>Pe.dt_txt),ge=W.map(Pe=>Pe.main.temp),Re=[{x:le,y:ge,type:"scatter",mode:"lines+markers",marker:{color:"rgb(20 184 166)"}}];return Vi.jsx("div",{className:"mb-8 rounded-lg bg-white p-6 shadow-md",children:Vi.jsx(nC,{data:Re,layout:{width:800,height:400,title:"5-day Weather Forecast for "+O}})})},aC=()=>Vi.jsx("div",{className:"bg-light-green-100 py-8",children:Vi.jsxs("div",{className:"container mx-auto px-4",children:[Vi.jsx(KE,{}),Vi.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[Vi.jsx(uw,{title:"Interact with Multiple APIs",description:"Explore a wide range of APIs for inspiration on your own projects."}),Vi.jsx(uw,{title:"Visualize Insights",description:"Visualize data from APIs with intuitive charts and graphs for better understanding and analysis."})]})]})});function W4(O,W){return function(){return O.apply(W,arguments)}}const{toString:oC}=Object.prototype,{getPrototypeOf:mx}=Object,Tg=(O=>W=>{const le=oC.call(W);return O[le]||(O[le]=le.slice(8,-1).toLowerCase())})(Object.create(null)),cf=O=>(O=O.toLowerCase(),W=>Tg(W)===O),Ag=O=>W=>typeof W===O,{isArray:$v}=Array,up=Ag("undefined");function sC(O){return O!==null&&!up(O)&&O.constructor!==null&&!up(O.constructor)&&tu(O.constructor.isBuffer)&&O.constructor.isBuffer(O)}const X4=cf("ArrayBuffer");function lC(O){let W;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?W=ArrayBuffer.isView(O):W=O&&O.buffer&&X4(O.buffer),W}const uC=Ag("string"),tu=Ag("function"),Y4=Ag("number"),Mg=O=>O!==null&&typeof O=="object",fC=O=>O===!0||O===!1,E0=O=>{if(Tg(O)!=="object")return!1;const W=mx(O);return(W===null||W===Object.prototype||Object.getPrototypeOf(W)===null)&&!(Symbol.toStringTag in O)&&!(Symbol.iterator in O)},cC=cf("Date"),hC=cf("File"),vC=cf("Blob"),dC=cf("FileList"),pC=O=>Mg(O)&&tu(O.pipe),gC=O=>{let W;return O&&(typeof FormData=="function"&&O instanceof FormData||tu(O.append)&&((W=Tg(O))==="formdata"||W==="object"&&tu(O.toString)&&O.toString()==="[object FormData]"))},yC=cf("URLSearchParams"),mC=O=>O.trim?O.trim():O.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yp(O,W,{allOwnKeys:le=!1}={}){if(O===null||typeof O>"u")return;let ge,Re;if(typeof O!="object"&&(O=[O]),$v(O))for(ge=0,Re=O.length;ge<Re;ge++)W.call(null,O[ge],ge,O);else{const Pe=le?Object.getOwnPropertyNames(O):Object.keys(O),U=Pe.length;let B;for(ge=0;ge<U;ge++)B=Pe[ge],W.call(null,O[B],B,O)}}function j4(O,W){W=W.toLowerCase();const le=Object.keys(O);let ge=le.length,Re;for(;ge-- >0;)if(Re=le[ge],W===Re.toLowerCase())return Re;return null}const Z4=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,K4=O=>!up(O)&&O!==Z4;function m1(){const{caseless:O}=K4(this)&&this||{},W={},le=(ge,Re)=>{const Pe=O&&j4(W,Re)||Re;E0(W[Pe])&&E0(ge)?W[Pe]=m1(W[Pe],ge):E0(ge)?W[Pe]=m1({},ge):$v(ge)?W[Pe]=ge.slice():W[Pe]=ge};for(let ge=0,Re=arguments.length;ge<Re;ge++)arguments[ge]&&yp(arguments[ge],le);return W}const xC=(O,W,le,{allOwnKeys:ge}={})=>(yp(W,(Re,Pe)=>{le&&tu(Re)?O[Pe]=W4(Re,le):O[Pe]=Re},{allOwnKeys:ge}),O),bC=O=>(O.charCodeAt(0)===65279&&(O=O.slice(1)),O),wC=(O,W,le,ge)=>{O.prototype=Object.create(W.prototype,ge),O.prototype.constructor=O,Object.defineProperty(O,"super",{value:W.prototype}),le&&Object.assign(O.prototype,le)},TC=(O,W,le,ge)=>{let Re,Pe,U;const B={};if(W=W||{},O==null)return W;do{for(Re=Object.getOwnPropertyNames(O),Pe=Re.length;Pe-- >0;)U=Re[Pe],(!ge||ge(U,O,W))&&!B[U]&&(W[U]=O[U],B[U]=!0);O=le!==!1&&mx(O)}while(O&&(!le||le(O,W))&&O!==Object.prototype);return W},AC=(O,W,le)=>{O=String(O),(le===void 0||le>O.length)&&(le=O.length),le-=W.length;const ge=O.indexOf(W,le);return ge!==-1&&ge===le},MC=O=>{if(!O)return null;if($v(O))return O;let W=O.length;if(!Y4(W))return null;const le=new Array(W);for(;W-- >0;)le[W]=O[W];return le},SC=(O=>W=>O&&W instanceof O)(typeof Uint8Array<"u"&&mx(Uint8Array)),EC=(O,W)=>{const ge=(O&&O[Symbol.iterator]).call(O);let Re;for(;(Re=ge.next())&&!Re.done;){const Pe=Re.value;W.call(O,Pe[0],Pe[1])}},CC=(O,W)=>{let le;const ge=[];for(;(le=O.exec(W))!==null;)ge.push(le);return ge},LC=cf("HTMLFormElement"),PC=O=>O.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(le,ge,Re){return ge.toUpperCase()+Re}),fw=(({hasOwnProperty:O})=>(W,le)=>O.call(W,le))(Object.prototype),DC=cf("RegExp"),J4=(O,W)=>{const le=Object.getOwnPropertyDescriptors(O),ge={};yp(le,(Re,Pe)=>{let U;(U=W(Re,Pe,O))!==!1&&(ge[Pe]=U||Re)}),Object.defineProperties(O,ge)},RC=O=>{J4(O,(W,le)=>{if(tu(O)&&["arguments","caller","callee"].indexOf(le)!==-1)return!1;const ge=O[le];if(tu(ge)){if(W.enumerable=!1,"writable"in W){W.writable=!1;return}W.set||(W.set=()=>{throw Error("Can not rewrite read-only method '"+le+"'")})}})},IC=(O,W)=>{const le={},ge=Re=>{Re.forEach(Pe=>{le[Pe]=!0})};return $v(O)?ge(O):ge(String(O).split(W)),le},_C=()=>{},kC=(O,W)=>(O=+O,Number.isFinite(O)?O:W),_y="abcdefghijklmnopqrstuvwxyz",cw="0123456789",Q4={DIGIT:cw,ALPHA:_y,ALPHA_DIGIT:_y+_y.toUpperCase()+cw},OC=(O=16,W=Q4.ALPHA_DIGIT)=>{let le="";const{length:ge}=W;for(;O--;)le+=W[Math.random()*ge|0];return le};function zC(O){return!!(O&&tu(O.append)&&O[Symbol.toStringTag]==="FormData"&&O[Symbol.iterator])}const FC=O=>{const W=new Array(10),le=(ge,Re)=>{if(Mg(ge)){if(W.indexOf(ge)>=0)return;if(!("toJSON"in ge)){W[Re]=ge;const Pe=$v(ge)?[]:{};return yp(ge,(U,B)=>{const e=le(U,Re+1);!up(e)&&(Pe[B]=e)}),W[Re]=void 0,Pe}}return ge};return le(O,0)},NC=cf("AsyncFunction"),BC=O=>O&&(Mg(O)||tu(O))&&tu(O.then)&&tu(O.catch),Kn={isArray:$v,isArrayBuffer:X4,isBuffer:sC,isFormData:gC,isArrayBufferView:lC,isString:uC,isNumber:Y4,isBoolean:fC,isObject:Mg,isPlainObject:E0,isUndefined:up,isDate:cC,isFile:hC,isBlob:vC,isRegExp:DC,isFunction:tu,isStream:pC,isURLSearchParams:yC,isTypedArray:SC,isFileList:dC,forEach:yp,merge:m1,extend:xC,trim:mC,stripBOM:bC,inherits:wC,toFlatObject:TC,kindOf:Tg,kindOfTest:cf,endsWith:AC,toArray:MC,forEachEntry:EC,matchAll:CC,isHTMLForm:LC,hasOwnProperty:fw,hasOwnProp:fw,reduceDescriptors:J4,freezeMethods:RC,toObjectSet:IC,toCamelCase:PC,noop:_C,toFiniteNumber:kC,findKey:j4,global:Z4,isContextDefined:K4,ALPHABET:Q4,generateString:OC,isSpecCompliantForm:zC,toJSONObject:FC,isAsyncFn:NC,isThenable:BC};function wa(O,W,le,ge,Re){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=O,this.name="AxiosError",W&&(this.code=W),le&&(this.config=le),ge&&(this.request=ge),Re&&(this.response=Re)}Kn.inherits(wa,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Kn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const $4=wa.prototype,q4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(O=>{q4[O]={value:O}});Object.defineProperties(wa,q4);Object.defineProperty($4,"isAxiosError",{value:!0});wa.from=(O,W,le,ge,Re,Pe)=>{const U=Object.create($4);return Kn.toFlatObject(O,U,function(e){return e!==Error.prototype},B=>B!=="isAxiosError"),wa.call(U,O.message,W,le,ge,Re),U.cause=O,U.name=O.name,Pe&&Object.assign(U,Pe),U};const UC=null;function x1(O){return Kn.isPlainObject(O)||Kn.isArray(O)}function e5(O){return Kn.endsWith(O,"[]")?O.slice(0,-2):O}function hw(O,W,le){return O?O.concat(W).map(function(Re,Pe){return Re=e5(Re),!le&&Pe?"["+Re+"]":Re}).join(le?".":""):W}function VC(O){return Kn.isArray(O)&&!O.some(x1)}const HC=Kn.toFlatObject(Kn,{},null,function(W){return/^is[A-Z]/.test(W)});function Sg(O,W,le){if(!Kn.isObject(O))throw new TypeError("target must be an object");W=W||new FormData,le=Kn.toFlatObject(le,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,r){return!Kn.isUndefined(r[p])});const ge=le.metaTokens,Re=le.visitor||L,Pe=le.dots,U=le.indexes,e=(le.Blob||typeof Blob<"u"&&Blob)&&Kn.isSpecCompliantForm(W);if(!Kn.isFunction(Re))throw new TypeError("visitor must be a function");function y(v){if(v===null)return"";if(Kn.isDate(v))return v.toISOString();if(!e&&Kn.isBlob(v))throw new wa("Blob is not supported. Use a Buffer instead.");return Kn.isArrayBuffer(v)||Kn.isTypedArray(v)?e&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function L(v,p,r){let t=v;if(v&&!r&&typeof v=="object"){if(Kn.endsWith(p,"{}"))p=ge?p:p.slice(0,-2),v=JSON.stringify(v);else if(Kn.isArray(v)&&VC(v)||(Kn.isFileList(v)||Kn.endsWith(p,"[]"))&&(t=Kn.toArray(v)))return p=e5(p),t.forEach(function(n,u){!(Kn.isUndefined(n)||n===null)&&W.append(U===!0?hw([p],u,Pe):U===null?p:p+"[]",y(n))}),!1}return x1(v)?!0:(W.append(hw(r,p,Pe),y(v)),!1)}const i=[],S=Object.assign(HC,{defaultVisitor:L,convertValue:y,isVisitable:x1});function b(v,p){if(!Kn.isUndefined(v)){if(i.indexOf(v)!==-1)throw Error("Circular reference detected in "+p.join("."));i.push(v),Kn.forEach(v,function(t,a){(!(Kn.isUndefined(t)||t===null)&&Re.call(W,t,Kn.isString(a)?a.trim():a,p,S))===!0&&b(t,p?p.concat(a):[a])}),i.pop()}}if(!Kn.isObject(O))throw new TypeError("data must be an object");return b(O),W}function vw(O){const W={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(O).replace(/[!'()~]|%20|%00/g,function(ge){return W[ge]})}function xx(O,W){this._pairs=[],O&&Sg(O,this,W)}const t5=xx.prototype;t5.append=function(W,le){this._pairs.push([W,le])};t5.toString=function(W){const le=W?function(ge){return W.call(this,ge,vw)}:vw;return this._pairs.map(function(Re){return le(Re[0])+"="+le(Re[1])},"").join("&")};function GC(O){return encodeURIComponent(O).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function r5(O,W,le){if(!W)return O;const ge=le&&le.encode||GC,Re=le&&le.serialize;let Pe;if(Re?Pe=Re(W,le):Pe=Kn.isURLSearchParams(W)?W.toString():new xx(W,le).toString(ge),Pe){const U=O.indexOf("#");U!==-1&&(O=O.slice(0,U)),O+=(O.indexOf("?")===-1?"?":"&")+Pe}return O}class dw{constructor(){this.handlers=[]}use(W,le,ge){return this.handlers.push({fulfilled:W,rejected:le,synchronous:ge?ge.synchronous:!1,runWhen:ge?ge.runWhen:null}),this.handlers.length-1}eject(W){this.handlers[W]&&(this.handlers[W]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(W){Kn.forEach(this.handlers,function(ge){ge!==null&&W(ge)})}}const n5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},WC=typeof URLSearchParams<"u"?URLSearchParams:xx,XC=typeof FormData<"u"?FormData:null,YC=typeof Blob<"u"?Blob:null,jC={isBrowser:!0,classes:{URLSearchParams:WC,FormData:XC,Blob:YC},protocols:["http","https","file","blob","url","data"]},i5=typeof window<"u"&&typeof document<"u",ZC=(O=>i5&&["ReactNative","NativeScript","NS"].indexOf(O)<0)(typeof navigator<"u"&&navigator.product),KC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",JC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:i5,hasStandardBrowserEnv:ZC,hasStandardBrowserWebWorkerEnv:KC},Symbol.toStringTag,{value:"Module"})),lf={...JC,...jC};function QC(O,W){return Sg(O,new lf.classes.URLSearchParams,Object.assign({visitor:function(le,ge,Re,Pe){return lf.isNode&&Kn.isBuffer(le)?(this.append(ge,le.toString("base64")),!1):Pe.defaultVisitor.apply(this,arguments)}},W))}function $C(O){return Kn.matchAll(/\w+|\[(\w*)]/g,O).map(W=>W[0]==="[]"?"":W[1]||W[0])}function qC(O){const W={},le=Object.keys(O);let ge;const Re=le.length;let Pe;for(ge=0;ge<Re;ge++)Pe=le[ge],W[Pe]=O[Pe];return W}function a5(O){function W(le,ge,Re,Pe){let U=le[Pe++];if(U==="__proto__")return!0;const B=Number.isFinite(+U),e=Pe>=le.length;return U=!U&&Kn.isArray(Re)?Re.length:U,e?(Kn.hasOwnProp(Re,U)?Re[U]=[Re[U],ge]:Re[U]=ge,!B):((!Re[U]||!Kn.isObject(Re[U]))&&(Re[U]=[]),W(le,ge,Re[U],Pe)&&Kn.isArray(Re[U])&&(Re[U]=qC(Re[U])),!B)}if(Kn.isFormData(O)&&Kn.isFunction(O.entries)){const le={};return Kn.forEachEntry(O,(ge,Re)=>{W($C(ge),Re,le,0)}),le}return null}function eL(O,W,le){if(Kn.isString(O))try{return(W||JSON.parse)(O),Kn.trim(O)}catch(ge){if(ge.name!=="SyntaxError")throw ge}return(le||JSON.stringify)(O)}const bx={transitional:n5,adapter:["xhr","http"],transformRequest:[function(W,le){const ge=le.getContentType()||"",Re=ge.indexOf("application/json")>-1,Pe=Kn.isObject(W);if(Pe&&Kn.isHTMLForm(W)&&(W=new FormData(W)),Kn.isFormData(W))return Re?JSON.stringify(a5(W)):W;if(Kn.isArrayBuffer(W)||Kn.isBuffer(W)||Kn.isStream(W)||Kn.isFile(W)||Kn.isBlob(W))return W;if(Kn.isArrayBufferView(W))return W.buffer;if(Kn.isURLSearchParams(W))return le.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),W.toString();let B;if(Pe){if(ge.indexOf("application/x-www-form-urlencoded")>-1)return QC(W,this.formSerializer).toString();if((B=Kn.isFileList(W))||ge.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Sg(B?{"files[]":W}:W,e&&new e,this.formSerializer)}}return Pe||Re?(le.setContentType("application/json",!1),eL(W)):W}],transformResponse:[function(W){const le=this.transitional||bx.transitional,ge=le&&le.forcedJSONParsing,Re=this.responseType==="json";if(W&&Kn.isString(W)&&(ge&&!this.responseType||Re)){const U=!(le&&le.silentJSONParsing)&&Re;try{return JSON.parse(W)}catch(B){if(U)throw B.name==="SyntaxError"?wa.from(B,wa.ERR_BAD_RESPONSE,this,null,this.response):B}}return W}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lf.classes.FormData,Blob:lf.classes.Blob},validateStatus:function(W){return W>=200&&W<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Kn.forEach(["delete","get","head","post","put","patch"],O=>{bx.headers[O]={}});const wx=bx,tL=Kn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rL=O=>{const W={};let le,ge,Re;return O&&O.split(`
`).forEach(function(U){Re=U.indexOf(":"),le=U.substring(0,Re).trim().toLowerCase(),ge=U.substring(Re+1).trim(),!(!le||W[le]&&tL[le])&&(le==="set-cookie"?W[le]?W[le].push(ge):W[le]=[ge]:W[le]=W[le]?W[le]+", "+ge:ge)}),W},pw=Symbol("internals");function Pd(O){return O&&String(O).trim().toLowerCase()}function C0(O){return O===!1||O==null?O:Kn.isArray(O)?O.map(C0):String(O)}function nL(O){const W=Object.create(null),le=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let ge;for(;ge=le.exec(O);)W[ge[1]]=ge[2];return W}const iL=O=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(O.trim());function ky(O,W,le,ge,Re){if(Kn.isFunction(ge))return ge.call(this,W,le);if(Re&&(W=le),!!Kn.isString(W)){if(Kn.isString(ge))return W.indexOf(ge)!==-1;if(Kn.isRegExp(ge))return ge.test(W)}}function aL(O){return O.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(W,le,ge)=>le.toUpperCase()+ge)}function oL(O,W){const le=Kn.toCamelCase(" "+W);["get","set","has"].forEach(ge=>{Object.defineProperty(O,ge+le,{value:function(Re,Pe,U){return this[ge].call(this,W,Re,Pe,U)},configurable:!0})})}class Eg{constructor(W){W&&this.set(W)}set(W,le,ge){const Re=this;function Pe(B,e,y){const L=Pd(e);if(!L)throw new Error("header name must be a non-empty string");const i=Kn.findKey(Re,L);(!i||Re[i]===void 0||y===!0||y===void 0&&Re[i]!==!1)&&(Re[i||e]=C0(B))}const U=(B,e)=>Kn.forEach(B,(y,L)=>Pe(y,L,e));return Kn.isPlainObject(W)||W instanceof this.constructor?U(W,le):Kn.isString(W)&&(W=W.trim())&&!iL(W)?U(rL(W),le):W!=null&&Pe(le,W,ge),this}get(W,le){if(W=Pd(W),W){const ge=Kn.findKey(this,W);if(ge){const Re=this[ge];if(!le)return Re;if(le===!0)return nL(Re);if(Kn.isFunction(le))return le.call(this,Re,ge);if(Kn.isRegExp(le))return le.exec(Re);throw new TypeError("parser must be boolean|regexp|function")}}}has(W,le){if(W=Pd(W),W){const ge=Kn.findKey(this,W);return!!(ge&&this[ge]!==void 0&&(!le||ky(this,this[ge],ge,le)))}return!1}delete(W,le){const ge=this;let Re=!1;function Pe(U){if(U=Pd(U),U){const B=Kn.findKey(ge,U);B&&(!le||ky(ge,ge[B],B,le))&&(delete ge[B],Re=!0)}}return Kn.isArray(W)?W.forEach(Pe):Pe(W),Re}clear(W){const le=Object.keys(this);let ge=le.length,Re=!1;for(;ge--;){const Pe=le[ge];(!W||ky(this,this[Pe],Pe,W,!0))&&(delete this[Pe],Re=!0)}return Re}normalize(W){const le=this,ge={};return Kn.forEach(this,(Re,Pe)=>{const U=Kn.findKey(ge,Pe);if(U){le[U]=C0(Re),delete le[Pe];return}const B=W?aL(Pe):String(Pe).trim();B!==Pe&&delete le[Pe],le[B]=C0(Re),ge[B]=!0}),this}concat(...W){return this.constructor.concat(this,...W)}toJSON(W){const le=Object.create(null);return Kn.forEach(this,(ge,Re)=>{ge!=null&&ge!==!1&&(le[Re]=W&&Kn.isArray(ge)?ge.join(", "):ge)}),le}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([W,le])=>W+": "+le).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(W){return W instanceof this?W:new this(W)}static concat(W,...le){const ge=new this(W);return le.forEach(Re=>ge.set(Re)),ge}static accessor(W){const ge=(this[pw]=this[pw]={accessors:{}}).accessors,Re=this.prototype;function Pe(U){const B=Pd(U);ge[B]||(oL(Re,U),ge[B]=!0)}return Kn.isArray(W)?W.forEach(Pe):Pe(W),this}}Eg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Kn.reduceDescriptors(Eg.prototype,({value:O},W)=>{let le=W[0].toUpperCase()+W.slice(1);return{get:()=>O,set(ge){this[le]=ge}}});Kn.freezeMethods(Eg);const Xf=Eg;function Oy(O,W){const le=this||wx,ge=W||le,Re=Xf.from(ge.headers);let Pe=ge.data;return Kn.forEach(O,function(B){Pe=B.call(le,Pe,Re.normalize(),W?W.status:void 0)}),Re.normalize(),Pe}function o5(O){return!!(O&&O.__CANCEL__)}function mp(O,W,le){wa.call(this,O??"canceled",wa.ERR_CANCELED,W,le),this.name="CanceledError"}Kn.inherits(mp,wa,{__CANCEL__:!0});function sL(O,W,le){const ge=le.config.validateStatus;!le.status||!ge||ge(le.status)?O(le):W(new wa("Request failed with status code "+le.status,[wa.ERR_BAD_REQUEST,wa.ERR_BAD_RESPONSE][Math.floor(le.status/100)-4],le.config,le.request,le))}const lL=lf.hasStandardBrowserEnv?{write(O,W,le,ge,Re,Pe){const U=[O+"="+encodeURIComponent(W)];Kn.isNumber(le)&&U.push("expires="+new Date(le).toGMTString()),Kn.isString(ge)&&U.push("path="+ge),Kn.isString(Re)&&U.push("domain="+Re),Pe===!0&&U.push("secure"),document.cookie=U.join("; ")},read(O){const W=document.cookie.match(new RegExp("(^|;\\s*)("+O+")=([^;]*)"));return W?decodeURIComponent(W[3]):null},remove(O){this.write(O,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function uL(O){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(O)}function fL(O,W){return W?O.replace(/\/?\/$/,"")+"/"+W.replace(/^\/+/,""):O}function s5(O,W){return O&&!uL(W)?fL(O,W):W}const cL=lf.hasStandardBrowserEnv?function(){const W=/(msie|trident)/i.test(navigator.userAgent),le=document.createElement("a");let ge;function Re(Pe){let U=Pe;return W&&(le.setAttribute("href",U),U=le.href),le.setAttribute("href",U),{href:le.href,protocol:le.protocol?le.protocol.replace(/:$/,""):"",host:le.host,search:le.search?le.search.replace(/^\?/,""):"",hash:le.hash?le.hash.replace(/^#/,""):"",hostname:le.hostname,port:le.port,pathname:le.pathname.charAt(0)==="/"?le.pathname:"/"+le.pathname}}return ge=Re(window.location.href),function(U){const B=Kn.isString(U)?Re(U):U;return B.protocol===ge.protocol&&B.host===ge.host}}():function(){return function(){return!0}}();function hL(O){const W=/^([-+\w]{1,25})(:?\/\/|:)/.exec(O);return W&&W[1]||""}function vL(O,W){O=O||10;const le=new Array(O),ge=new Array(O);let Re=0,Pe=0,U;return W=W!==void 0?W:1e3,function(e){const y=Date.now(),L=ge[Pe];U||(U=y),le[Re]=e,ge[Re]=y;let i=Pe,S=0;for(;i!==Re;)S+=le[i++],i=i%O;if(Re=(Re+1)%O,Re===Pe&&(Pe=(Pe+1)%O),y-U<W)return;const b=L&&y-L;return b?Math.round(S*1e3/b):void 0}}function gw(O,W){let le=0;const ge=vL(50,250);return Re=>{const Pe=Re.loaded,U=Re.lengthComputable?Re.total:void 0,B=Pe-le,e=ge(B),y=Pe<=U;le=Pe;const L={loaded:Pe,total:U,progress:U?Pe/U:void 0,bytes:B,rate:e||void 0,estimated:e&&U&&y?(U-Pe)/e:void 0,event:Re};L[W?"download":"upload"]=!0,O(L)}}const dL=typeof XMLHttpRequest<"u",pL=dL&&function(O){return new Promise(function(le,ge){let Re=O.data;const Pe=Xf.from(O.headers).normalize();let{responseType:U,withXSRFToken:B}=O,e;function y(){O.cancelToken&&O.cancelToken.unsubscribe(e),O.signal&&O.signal.removeEventListener("abort",e)}let L;if(Kn.isFormData(Re)){if(lf.hasStandardBrowserEnv||lf.hasStandardBrowserWebWorkerEnv)Pe.setContentType(!1);else if((L=Pe.getContentType())!==!1){const[p,...r]=L?L.split(";").map(t=>t.trim()).filter(Boolean):[];Pe.setContentType([p||"multipart/form-data",...r].join("; "))}}let i=new XMLHttpRequest;if(O.auth){const p=O.auth.username||"",r=O.auth.password?unescape(encodeURIComponent(O.auth.password)):"";Pe.set("Authorization","Basic "+btoa(p+":"+r))}const S=s5(O.baseURL,O.url);i.open(O.method.toUpperCase(),r5(S,O.params,O.paramsSerializer),!0),i.timeout=O.timeout;function b(){if(!i)return;const p=Xf.from("getAllResponseHeaders"in i&&i.getAllResponseHeaders()),t={data:!U||U==="text"||U==="json"?i.responseText:i.response,status:i.status,statusText:i.statusText,headers:p,config:O,request:i};sL(function(n){le(n),y()},function(n){ge(n),y()},t),i=null}if("onloadend"in i?i.onloadend=b:i.onreadystatechange=function(){!i||i.readyState!==4||i.status===0&&!(i.responseURL&&i.responseURL.indexOf("file:")===0)||setTimeout(b)},i.onabort=function(){i&&(ge(new wa("Request aborted",wa.ECONNABORTED,O,i)),i=null)},i.onerror=function(){ge(new wa("Network Error",wa.ERR_NETWORK,O,i)),i=null},i.ontimeout=function(){let r=O.timeout?"timeout of "+O.timeout+"ms exceeded":"timeout exceeded";const t=O.transitional||n5;O.timeoutErrorMessage&&(r=O.timeoutErrorMessage),ge(new wa(r,t.clarifyTimeoutError?wa.ETIMEDOUT:wa.ECONNABORTED,O,i)),i=null},lf.hasStandardBrowserEnv&&(B&&Kn.isFunction(B)&&(B=B(O)),B||B!==!1&&cL(S))){const p=O.xsrfHeaderName&&O.xsrfCookieName&&lL.read(O.xsrfCookieName);p&&Pe.set(O.xsrfHeaderName,p)}Re===void 0&&Pe.setContentType(null),"setRequestHeader"in i&&Kn.forEach(Pe.toJSON(),function(r,t){i.setRequestHeader(t,r)}),Kn.isUndefined(O.withCredentials)||(i.withCredentials=!!O.withCredentials),U&&U!=="json"&&(i.responseType=O.responseType),typeof O.onDownloadProgress=="function"&&i.addEventListener("progress",gw(O.onDownloadProgress,!0)),typeof O.onUploadProgress=="function"&&i.upload&&i.upload.addEventListener("progress",gw(O.onUploadProgress)),(O.cancelToken||O.signal)&&(e=p=>{i&&(ge(!p||p.type?new mp(null,O,i):p),i.abort(),i=null)},O.cancelToken&&O.cancelToken.subscribe(e),O.signal&&(O.signal.aborted?e():O.signal.addEventListener("abort",e)));const v=hL(S);if(v&&lf.protocols.indexOf(v)===-1){ge(new wa("Unsupported protocol "+v+":",wa.ERR_BAD_REQUEST,O));return}i.send(Re||null)})},b1={http:UC,xhr:pL};Kn.forEach(b1,(O,W)=>{if(O){try{Object.defineProperty(O,"name",{value:W})}catch{}Object.defineProperty(O,"adapterName",{value:W})}});const yw=O=>`- ${O}`,gL=O=>Kn.isFunction(O)||O===null||O===!1,l5={getAdapter:O=>{O=Kn.isArray(O)?O:[O];const{length:W}=O;let le,ge;const Re={};for(let Pe=0;Pe<W;Pe++){le=O[Pe];let U;if(ge=le,!gL(le)&&(ge=b1[(U=String(le)).toLowerCase()],ge===void 0))throw new wa(`Unknown adapter '${U}'`);if(ge)break;Re[U||"#"+Pe]=ge}if(!ge){const Pe=Object.entries(Re).map(([B,e])=>`adapter ${B} `+(e===!1?"is not supported by the environment":"is not available in the build"));let U=W?Pe.length>1?`since :
`+Pe.map(yw).join(`
`):" "+yw(Pe[0]):"as no adapter specified";throw new wa("There is no suitable adapter to dispatch the request "+U,"ERR_NOT_SUPPORT")}return ge},adapters:b1};function zy(O){if(O.cancelToken&&O.cancelToken.throwIfRequested(),O.signal&&O.signal.aborted)throw new mp(null,O)}function mw(O){return zy(O),O.headers=Xf.from(O.headers),O.data=Oy.call(O,O.transformRequest),["post","put","patch"].indexOf(O.method)!==-1&&O.headers.setContentType("application/x-www-form-urlencoded",!1),l5.getAdapter(O.adapter||wx.adapter)(O).then(function(ge){return zy(O),ge.data=Oy.call(O,O.transformResponse,ge),ge.headers=Xf.from(ge.headers),ge},function(ge){return o5(ge)||(zy(O),ge&&ge.response&&(ge.response.data=Oy.call(O,O.transformResponse,ge.response),ge.response.headers=Xf.from(ge.response.headers))),Promise.reject(ge)})}const xw=O=>O instanceof Xf?{...O}:O;function Zv(O,W){W=W||{};const le={};function ge(y,L,i){return Kn.isPlainObject(y)&&Kn.isPlainObject(L)?Kn.merge.call({caseless:i},y,L):Kn.isPlainObject(L)?Kn.merge({},L):Kn.isArray(L)?L.slice():L}function Re(y,L,i){if(Kn.isUndefined(L)){if(!Kn.isUndefined(y))return ge(void 0,y,i)}else return ge(y,L,i)}function Pe(y,L){if(!Kn.isUndefined(L))return ge(void 0,L)}function U(y,L){if(Kn.isUndefined(L)){if(!Kn.isUndefined(y))return ge(void 0,y)}else return ge(void 0,L)}function B(y,L,i){if(i in W)return ge(y,L);if(i in O)return ge(void 0,y)}const e={url:Pe,method:Pe,data:Pe,baseURL:U,transformRequest:U,transformResponse:U,paramsSerializer:U,timeout:U,timeoutMessage:U,withCredentials:U,withXSRFToken:U,adapter:U,responseType:U,xsrfCookieName:U,xsrfHeaderName:U,onUploadProgress:U,onDownloadProgress:U,decompress:U,maxContentLength:U,maxBodyLength:U,beforeRedirect:U,transport:U,httpAgent:U,httpsAgent:U,cancelToken:U,socketPath:U,responseEncoding:U,validateStatus:B,headers:(y,L)=>Re(xw(y),xw(L),!0)};return Kn.forEach(Object.keys(Object.assign({},O,W)),function(L){const i=e[L]||Re,S=i(O[L],W[L],L);Kn.isUndefined(S)&&i!==B||(le[L]=S)}),le}const u5="1.6.8",Tx={};["object","boolean","number","function","string","symbol"].forEach((O,W)=>{Tx[O]=function(ge){return typeof ge===O||"a"+(W<1?"n ":" ")+O}});const bw={};Tx.transitional=function(W,le,ge){function Re(Pe,U){return"[Axios v"+u5+"] Transitional option '"+Pe+"'"+U+(ge?". "+ge:"")}return(Pe,U,B)=>{if(W===!1)throw new wa(Re(U," has been removed"+(le?" in "+le:"")),wa.ERR_DEPRECATED);return le&&!bw[U]&&(bw[U]=!0,console.warn(Re(U," has been deprecated since v"+le+" and will be removed in the near future"))),W?W(Pe,U,B):!0}};function yL(O,W,le){if(typeof O!="object")throw new wa("options must be an object",wa.ERR_BAD_OPTION_VALUE);const ge=Object.keys(O);let Re=ge.length;for(;Re-- >0;){const Pe=ge[Re],U=W[Pe];if(U){const B=O[Pe],e=B===void 0||U(B,Pe,O);if(e!==!0)throw new wa("option "+Pe+" must be "+e,wa.ERR_BAD_OPTION_VALUE);continue}if(le!==!0)throw new wa("Unknown option "+Pe,wa.ERR_BAD_OPTION)}}const w1={assertOptions:yL,validators:Tx},zc=w1.validators;class rg{constructor(W){this.defaults=W,this.interceptors={request:new dw,response:new dw}}async request(W,le){try{return await this._request(W,le)}catch(ge){if(ge instanceof Error){let Re;Error.captureStackTrace?Error.captureStackTrace(Re={}):Re=new Error;const Pe=Re.stack?Re.stack.replace(/^.+\n/,""):"";ge.stack?Pe&&!String(ge.stack).endsWith(Pe.replace(/^.+\n.+\n/,""))&&(ge.stack+=`
`+Pe):ge.stack=Pe}throw ge}}_request(W,le){typeof W=="string"?(le=le||{},le.url=W):le=W||{},le=Zv(this.defaults,le);const{transitional:ge,paramsSerializer:Re,headers:Pe}=le;ge!==void 0&&w1.assertOptions(ge,{silentJSONParsing:zc.transitional(zc.boolean),forcedJSONParsing:zc.transitional(zc.boolean),clarifyTimeoutError:zc.transitional(zc.boolean)},!1),Re!=null&&(Kn.isFunction(Re)?le.paramsSerializer={serialize:Re}:w1.assertOptions(Re,{encode:zc.function,serialize:zc.function},!0)),le.method=(le.method||this.defaults.method||"get").toLowerCase();let U=Pe&&Kn.merge(Pe.common,Pe[le.method]);Pe&&Kn.forEach(["delete","get","head","post","put","patch","common"],v=>{delete Pe[v]}),le.headers=Xf.concat(U,Pe);const B=[];let e=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(le)===!1||(e=e&&p.synchronous,B.unshift(p.fulfilled,p.rejected))});const y=[];this.interceptors.response.forEach(function(p){y.push(p.fulfilled,p.rejected)});let L,i=0,S;if(!e){const v=[mw.bind(this),void 0];for(v.unshift.apply(v,B),v.push.apply(v,y),S=v.length,L=Promise.resolve(le);i<S;)L=L.then(v[i++],v[i++]);return L}S=B.length;let b=le;for(i=0;i<S;){const v=B[i++],p=B[i++];try{b=v(b)}catch(r){p.call(this,r);break}}try{L=mw.call(this,b)}catch(v){return Promise.reject(v)}for(i=0,S=y.length;i<S;)L=L.then(y[i++],y[i++]);return L}getUri(W){W=Zv(this.defaults,W);const le=s5(W.baseURL,W.url);return r5(le,W.params,W.paramsSerializer)}}Kn.forEach(["delete","get","head","options"],function(W){rg.prototype[W]=function(le,ge){return this.request(Zv(ge||{},{method:W,url:le,data:(ge||{}).data}))}});Kn.forEach(["post","put","patch"],function(W){function le(ge){return function(Pe,U,B){return this.request(Zv(B||{},{method:W,headers:ge?{"Content-Type":"multipart/form-data"}:{},url:Pe,data:U}))}}rg.prototype[W]=le(),rg.prototype[W+"Form"]=le(!0)});const L0=rg;class Ax{constructor(W){if(typeof W!="function")throw new TypeError("executor must be a function.");let le;this.promise=new Promise(function(Pe){le=Pe});const ge=this;this.promise.then(Re=>{if(!ge._listeners)return;let Pe=ge._listeners.length;for(;Pe-- >0;)ge._listeners[Pe](Re);ge._listeners=null}),this.promise.then=Re=>{let Pe;const U=new Promise(B=>{ge.subscribe(B),Pe=B}).then(Re);return U.cancel=function(){ge.unsubscribe(Pe)},U},W(function(Pe,U,B){ge.reason||(ge.reason=new mp(Pe,U,B),le(ge.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(W){if(this.reason){W(this.reason);return}this._listeners?this._listeners.push(W):this._listeners=[W]}unsubscribe(W){if(!this._listeners)return;const le=this._listeners.indexOf(W);le!==-1&&this._listeners.splice(le,1)}static source(){let W;return{token:new Ax(function(Re){W=Re}),cancel:W}}}const mL=Ax;function xL(O){return function(le){return O.apply(null,le)}}function bL(O){return Kn.isObject(O)&&O.isAxiosError===!0}const T1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(T1).forEach(([O,W])=>{T1[W]=O});const wL=T1;function f5(O){const W=new L0(O),le=W4(L0.prototype.request,W);return Kn.extend(le,L0.prototype,W,{allOwnKeys:!0}),Kn.extend(le,W,null,{allOwnKeys:!0}),le.create=function(Re){return f5(Zv(O,Re))},le}const Po=f5(wx);Po.Axios=L0;Po.CanceledError=mp;Po.CancelToken=mL;Po.isCancel=o5;Po.VERSION=u5;Po.toFormData=Sg;Po.AxiosError=wa;Po.Cancel=Po.CanceledError;Po.all=function(W){return Promise.all(W)};Po.spread=xL;Po.isAxiosError=bL;Po.mergeConfig=Zv;Po.AxiosHeaders=Xf;Po.formToJSON=O=>a5(Kn.isHTMLForm(O)?new FormData(O):O);Po.getAdapter=l5.getAdapter;Po.HttpStatusCode=wL;Po.default=Po;var Fy={},ww;function Mx(){return ww||(ww=1,(function(){Fy.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:`
`},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(ha)),Fy}var Ny={},Nf={},Bf={},Tw;function Qf(){return Tw||(Tw=1,(function(){var O,W,le,ge,Re,Pe,U,B=[].slice,e={}.hasOwnProperty;O=function(){var y,L,i,S,b,v;if(v=arguments[0],b=2<=arguments.length?B.call(arguments,1):[],Re(Object.assign))Object.assign.apply(null,arguments);else for(y=0,i=b.length;y<i;y++)if(S=b[y],S!=null)for(L in S)e.call(S,L)&&(v[L]=S[L]);return v},Re=function(y){return!!y&&Object.prototype.toString.call(y)==="[object Function]"},Pe=function(y){var L;return!!y&&((L=typeof y)=="function"||L==="object")},le=function(y){return Re(Array.isArray)?Array.isArray(y):Object.prototype.toString.call(y)==="[object Array]"},ge=function(y){var L;if(le(y))return!y.length;for(L in y)if(e.call(y,L))return!1;return!0},U=function(y){var L,i;return Pe(y)&&(i=Object.getPrototypeOf(y))&&(L=i.constructor)&&typeof L=="function"&&L instanceof L&&Function.prototype.toString.call(L)===Function.prototype.toString.call(Object)},W=function(y){return Re(y.valueOf)?y.valueOf():y},Bf.assign=O,Bf.isFunction=Re,Bf.isObject=Pe,Bf.isArray=le,Bf.isEmpty=ge,Bf.isPlainObject=U,Bf.getValue=W}).call(ha)),Bf}var By={exports:{}},Aw;function c5(){return Aw||(Aw=1,(function(){By.exports=function(){function O(){}return O.prototype.hasFeature=function(W,le){return!0},O.prototype.createDocumentType=function(W,le,ge){throw new Error("This DOM method is not implemented.")},O.prototype.createDocument=function(W,le,ge){throw new Error("This DOM method is not implemented.")},O.prototype.createHTMLDocument=function(W){throw new Error("This DOM method is not implemented.")},O.prototype.getFeature=function(W,le){throw new Error("This DOM method is not implemented.")},O}()}).call(ha)),By.exports}var Uy={exports:{}},Vy={exports:{}},Hy={exports:{}},Mw;function TL(){return Mw||(Mw=1,(function(){Hy.exports=function(){function O(){}return O.prototype.handleError=function(W){throw new Error(W)},O}()}).call(ha)),Hy.exports}var Gy={exports:{}},Sw;function AL(){return Sw||(Sw=1,(function(){Gy.exports=function(){function O(W){this.arr=W||[]}return Object.defineProperty(O.prototype,"length",{get:function(){return this.arr.length}}),O.prototype.item=function(W){return this.arr[W]||null},O.prototype.contains=function(W){return this.arr.indexOf(W)!==-1},O}()}).call(ha)),Gy.exports}var Ew;function ML(){return Ew||(Ew=1,(function(){var O,W;O=TL(),W=AL(),Vy.exports=function(){function le(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new O,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(le.prototype,"parameterNames",{get:function(){return new W(Object.keys(this.defaultParams))}}),le.prototype.getParameter=function(ge){return this.params.hasOwnProperty(ge)?this.params[ge]:null},le.prototype.canSetParameter=function(ge,Re){return!0},le.prototype.setParameter=function(ge,Re){return Re!=null?this.params[ge]=Re:delete this.params[ge]},le}()}).call(ha)),Vy.exports}var Wy={exports:{}},Xy={exports:{}},Yy={exports:{}},Cw;function Fo(){return Cw||(Cw=1,(function(){Yy.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(ha)),Yy.exports}var jy={exports:{}},Lw;function h5(){return Lw||(Lw=1,(function(){var O;O=Fo(),iu(),jy.exports=function(){function W(le,ge,Re){if(this.parent=le,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),ge==null)throw new Error("Missing attribute name. "+this.debugInfo(ge));this.name=this.stringify.name(ge),this.value=this.stringify.attValue(Re),this.type=O.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(W.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(W.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(W.prototype,"textContent",{get:function(){return this.value},set:function(le){return this.value=le||""}}),Object.defineProperty(W.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(W.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(W.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(W.prototype,"specified",{get:function(){return!0}}),W.prototype.clone=function(){return Object.create(this)},W.prototype.toString=function(le){return this.options.writer.attribute(this,this.options.writer.filterOptions(le))},W.prototype.debugInfo=function(le){return le=le||this.name,le==null?"parent: <"+this.parent.name+">":"attribute: {"+le+"}, parent: <"+this.parent.name+">"},W.prototype.isEqualNode=function(le){return!(le.namespaceURI!==this.namespaceURI||le.prefix!==this.prefix||le.localName!==this.localName||le.value!==this.value)},W}()}).call(ha)),jy.exports}var Zy={exports:{}},Pw;function Sx(){return Pw||(Pw=1,(function(){Zy.exports=function(){function O(W){this.nodes=W}return Object.defineProperty(O.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),O.prototype.clone=function(){return this.nodes=null},O.prototype.getNamedItem=function(W){return this.nodes[W]},O.prototype.setNamedItem=function(W){var le;return le=this.nodes[W.nodeName],this.nodes[W.nodeName]=W,le||null},O.prototype.removeNamedItem=function(W){var le;return le=this.nodes[W],delete this.nodes[W],le||null},O.prototype.item=function(W){return this.nodes[Object.keys(this.nodes)[W]]||null},O.prototype.getNamedItemNS=function(W,le){throw new Error("This DOM method is not implemented.")},O.prototype.setNamedItemNS=function(W){throw new Error("This DOM method is not implemented.")},O.prototype.removeNamedItemNS=function(W,le){throw new Error("This DOM method is not implemented.")},O}()}).call(ha)),Zy.exports}var Dw;function Ex(){return Dw||(Dw=1,(function(){var O,W,le,ge,Re,Pe,U,B,e=function(L,i){for(var S in i)y.call(i,S)&&(L[S]=i[S]);function b(){this.constructor=L}return b.prototype=i.prototype,L.prototype=new b,L.__super__=i.prototype,L},y={}.hasOwnProperty;B=Qf(),U=B.isObject,Pe=B.isFunction,Re=B.getValue,ge=iu(),O=Fo(),W=h5(),le=Sx(),Xy.exports=function(L){e(i,L);function i(S,b,v){var p,r,t,a;if(i.__super__.constructor.call(this,S),b==null)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(b),this.type=O.Element,this.attribs={},this.schemaTypeInfo=null,v!=null&&this.attribute(v),S.type===O.Document&&(this.isRoot=!0,this.documentObject=S,S.rootObject=this,S.children)){for(a=S.children,r=0,t=a.length;r<t;r++)if(p=a[r],p.type===O.DocType){p.name=this.name;break}}}return Object.defineProperty(i.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(i.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(i.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(i.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(i.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(i.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(i.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(i.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new le(this.attribs)),this.attributeMap}}),i.prototype.clone=function(){var S,b,v,p;v=Object.create(this),v.isRoot&&(v.documentObject=null),v.attribs={},p=this.attribs;for(b in p)y.call(p,b)&&(S=p[b],v.attribs[b]=S.clone());return v.children=[],this.children.forEach(function(r){var t;return t=r.clone(),t.parent=v,v.children.push(t)}),v},i.prototype.attribute=function(S,b){var v,p;if(S!=null&&(S=Re(S)),U(S))for(v in S)y.call(S,v)&&(p=S[v],this.attribute(v,p));else Pe(b)&&(b=b.apply()),this.options.keepNullAttributes&&b==null?this.attribs[S]=new W(this,S,""):b!=null&&(this.attribs[S]=new W(this,S,b));return this},i.prototype.removeAttribute=function(S){var b,v,p;if(S==null)throw new Error("Missing attribute name. "+this.debugInfo());if(S=Re(S),Array.isArray(S))for(v=0,p=S.length;v<p;v++)b=S[v],delete this.attribs[b];else delete this.attribs[S];return this},i.prototype.toString=function(S){return this.options.writer.element(this,this.options.writer.filterOptions(S))},i.prototype.att=function(S,b){return this.attribute(S,b)},i.prototype.a=function(S,b){return this.attribute(S,b)},i.prototype.getAttribute=function(S){return this.attribs.hasOwnProperty(S)?this.attribs[S].value:null},i.prototype.setAttribute=function(S,b){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.getAttributeNode=function(S){return this.attribs.hasOwnProperty(S)?this.attribs[S]:null},i.prototype.setAttributeNode=function(S){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.removeAttributeNode=function(S){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.getElementsByTagName=function(S){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.getAttributeNS=function(S,b){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.setAttributeNS=function(S,b,v){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.removeAttributeNS=function(S,b){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.getAttributeNodeNS=function(S,b){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.setAttributeNodeNS=function(S){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.getElementsByTagNameNS=function(S,b){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.hasAttribute=function(S){return this.attribs.hasOwnProperty(S)},i.prototype.hasAttributeNS=function(S,b){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.setIdAttribute=function(S,b){return this.attribs.hasOwnProperty(S)?this.attribs[S].isId:b},i.prototype.setIdAttributeNS=function(S,b,v){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.setIdAttributeNode=function(S,b){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.getElementsByTagName=function(S){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.getElementsByTagNameNS=function(S,b){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.getElementsByClassName=function(S){throw new Error("This DOM method is not implemented."+this.debugInfo())},i.prototype.isEqualNode=function(S){var b,v,p;if(!i.__super__.isEqualNode.apply(this,arguments).isEqualNode(S)||S.namespaceURI!==this.namespaceURI||S.prefix!==this.prefix||S.localName!==this.localName||S.attribs.length!==this.attribs.length)return!1;for(b=v=0,p=this.attribs.length-1;0<=p?v<=p:v>=p;b=0<=p?++v:--v)if(!this.attribs[b].isEqualNode(S.attribs[b]))return!1;return!0},i}(ge)}).call(ha)),Xy.exports}var Ky={exports:{}},Jy={exports:{}},Rw;function Cg(){return Rw||(Rw=1,(function(){var O,W=function(ge,Re){for(var Pe in Re)le.call(Re,Pe)&&(ge[Pe]=Re[Pe]);function U(){this.constructor=ge}return U.prototype=Re.prototype,ge.prototype=new U,ge.__super__=Re.prototype,ge},le={}.hasOwnProperty;O=iu(),Jy.exports=function(ge){W(Re,ge);function Re(Pe){Re.__super__.constructor.call(this,Pe),this.value=""}return Object.defineProperty(Re.prototype,"data",{get:function(){return this.value},set:function(Pe){return this.value=Pe||""}}),Object.defineProperty(Re.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(Re.prototype,"textContent",{get:function(){return this.value},set:function(Pe){return this.value=Pe||""}}),Re.prototype.clone=function(){return Object.create(this)},Re.prototype.substringData=function(Pe,U){throw new Error("This DOM method is not implemented."+this.debugInfo())},Re.prototype.appendData=function(Pe){throw new Error("This DOM method is not implemented."+this.debugInfo())},Re.prototype.insertData=function(Pe,U){throw new Error("This DOM method is not implemented."+this.debugInfo())},Re.prototype.deleteData=function(Pe,U){throw new Error("This DOM method is not implemented."+this.debugInfo())},Re.prototype.replaceData=function(Pe,U,B){throw new Error("This DOM method is not implemented."+this.debugInfo())},Re.prototype.isEqualNode=function(Pe){return!(!Re.__super__.isEqualNode.apply(this,arguments).isEqualNode(Pe)||Pe.data!==this.data)},Re}(O)}).call(ha)),Jy.exports}var Iw;function Cx(){return Iw||(Iw=1,(function(){var O,W,le=function(Re,Pe){for(var U in Pe)ge.call(Pe,U)&&(Re[U]=Pe[U]);function B(){this.constructor=Re}return B.prototype=Pe.prototype,Re.prototype=new B,Re.__super__=Pe.prototype,Re},ge={}.hasOwnProperty;O=Fo(),W=Cg(),Ky.exports=function(Re){le(Pe,Re);function Pe(U,B){if(Pe.__super__.constructor.call(this,U),B==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=O.CData,this.value=this.stringify.cdata(B)}return Pe.prototype.clone=function(){return Object.create(this)},Pe.prototype.toString=function(U){return this.options.writer.cdata(this,this.options.writer.filterOptions(U))},Pe}(W)}).call(ha)),Ky.exports}var Qy={exports:{}},_w;function Lx(){return _w||(_w=1,(function(){var O,W,le=function(Re,Pe){for(var U in Pe)ge.call(Pe,U)&&(Re[U]=Pe[U]);function B(){this.constructor=Re}return B.prototype=Pe.prototype,Re.prototype=new B,Re.__super__=Pe.prototype,Re},ge={}.hasOwnProperty;O=Fo(),W=Cg(),Qy.exports=function(Re){le(Pe,Re);function Pe(U,B){if(Pe.__super__.constructor.call(this,U),B==null)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=O.Comment,this.value=this.stringify.comment(B)}return Pe.prototype.clone=function(){return Object.create(this)},Pe.prototype.toString=function(U){return this.options.writer.comment(this,this.options.writer.filterOptions(U))},Pe}(W)}).call(ha)),Qy.exports}var $y={exports:{}},kw;function Px(){return kw||(kw=1,(function(){var O,W,le,ge=function(Pe,U){for(var B in U)Re.call(U,B)&&(Pe[B]=U[B]);function e(){this.constructor=Pe}return e.prototype=U.prototype,Pe.prototype=new e,Pe.__super__=U.prototype,Pe},Re={}.hasOwnProperty;le=Qf().isObject,W=iu(),O=Fo(),$y.exports=function(Pe){ge(U,Pe);function U(B,e,y,L){var i;U.__super__.constructor.call(this,B),le(e)&&(i=e,e=i.version,y=i.encoding,L=i.standalone),e||(e="1.0"),this.type=O.Declaration,this.version=this.stringify.xmlVersion(e),y!=null&&(this.encoding=this.stringify.xmlEncoding(y)),L!=null&&(this.standalone=this.stringify.xmlStandalone(L))}return U.prototype.toString=function(B){return this.options.writer.declaration(this,this.options.writer.filterOptions(B))},U}(W)}).call(ha)),$y.exports}var qy={exports:{}},em={exports:{}},Ow;function Dx(){return Ow||(Ow=1,(function(){var O,W,le=function(Re,Pe){for(var U in Pe)ge.call(Pe,U)&&(Re[U]=Pe[U]);function B(){this.constructor=Re}return B.prototype=Pe.prototype,Re.prototype=new B,Re.__super__=Pe.prototype,Re},ge={}.hasOwnProperty;W=iu(),O=Fo(),em.exports=function(Re){le(Pe,Re);function Pe(U,B,e,y,L,i){if(Pe.__super__.constructor.call(this,U),B==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(e==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(B));if(!y)throw new Error("Missing DTD attribute type. "+this.debugInfo(B));if(!L)throw new Error("Missing DTD attribute default. "+this.debugInfo(B));if(L.indexOf("#")!==0&&(L="#"+L),!L.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(B));if(i&&!L.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(B));this.elementName=this.stringify.name(B),this.type=O.AttributeDeclaration,this.attributeName=this.stringify.name(e),this.attributeType=this.stringify.dtdAttType(y),i&&(this.defaultValue=this.stringify.dtdAttDefault(i)),this.defaultValueType=L}return Pe.prototype.toString=function(U){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(U))},Pe}(W)}).call(ha)),em.exports}var tm={exports:{}},zw;function Rx(){return zw||(zw=1,(function(){var O,W,le,ge=function(Pe,U){for(var B in U)Re.call(U,B)&&(Pe[B]=U[B]);function e(){this.constructor=Pe}return e.prototype=U.prototype,Pe.prototype=new e,Pe.__super__=U.prototype,Pe},Re={}.hasOwnProperty;le=Qf().isObject,W=iu(),O=Fo(),tm.exports=function(Pe){ge(U,Pe);function U(B,e,y,L){if(U.__super__.constructor.call(this,B),y==null)throw new Error("Missing DTD entity name. "+this.debugInfo(y));if(L==null)throw new Error("Missing DTD entity value. "+this.debugInfo(y));if(this.pe=!!e,this.name=this.stringify.name(y),this.type=O.EntityDeclaration,!le(L))this.value=this.stringify.dtdEntityValue(L),this.internal=!0;else{if(!L.pubID&&!L.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(y));if(L.pubID&&!L.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(y));if(this.internal=!1,L.pubID!=null&&(this.pubID=this.stringify.dtdPubID(L.pubID)),L.sysID!=null&&(this.sysID=this.stringify.dtdSysID(L.sysID)),L.nData!=null&&(this.nData=this.stringify.dtdNData(L.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(y))}}return Object.defineProperty(U.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(U.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(U.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(U.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(U.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(U.prototype,"xmlVersion",{get:function(){return null}}),U.prototype.toString=function(B){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(B))},U}(W)}).call(ha)),tm.exports}var rm={exports:{}},Fw;function Ix(){return Fw||(Fw=1,(function(){var O,W,le=function(Re,Pe){for(var U in Pe)ge.call(Pe,U)&&(Re[U]=Pe[U]);function B(){this.constructor=Re}return B.prototype=Pe.prototype,Re.prototype=new B,Re.__super__=Pe.prototype,Re},ge={}.hasOwnProperty;W=iu(),O=Fo(),rm.exports=function(Re){le(Pe,Re);function Pe(U,B,e){if(Pe.__super__.constructor.call(this,U),B==null)throw new Error("Missing DTD element name. "+this.debugInfo());e||(e="(#PCDATA)"),Array.isArray(e)&&(e="("+e.join(",")+")"),this.name=this.stringify.name(B),this.type=O.ElementDeclaration,this.value=this.stringify.dtdElementValue(e)}return Pe.prototype.toString=function(U){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(U))},Pe}(W)}).call(ha)),rm.exports}var nm={exports:{}},Nw;function _x(){return Nw||(Nw=1,(function(){var O,W,le=function(Re,Pe){for(var U in Pe)ge.call(Pe,U)&&(Re[U]=Pe[U]);function B(){this.constructor=Re}return B.prototype=Pe.prototype,Re.prototype=new B,Re.__super__=Pe.prototype,Re},ge={}.hasOwnProperty;W=iu(),O=Fo(),nm.exports=function(Re){le(Pe,Re);function Pe(U,B,e){if(Pe.__super__.constructor.call(this,U),B==null)throw new Error("Missing DTD notation name. "+this.debugInfo(B));if(!e.pubID&&!e.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(B));this.name=this.stringify.name(B),this.type=O.NotationDeclaration,e.pubID!=null&&(this.pubID=this.stringify.dtdPubID(e.pubID)),e.sysID!=null&&(this.sysID=this.stringify.dtdSysID(e.sysID))}return Object.defineProperty(Pe.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(Pe.prototype,"systemId",{get:function(){return this.sysID}}),Pe.prototype.toString=function(U){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(U))},Pe}(W)}).call(ha)),nm.exports}var Bw;function kx(){return Bw||(Bw=1,(function(){var O,W,le,ge,Re,Pe,U,B,e=function(L,i){for(var S in i)y.call(i,S)&&(L[S]=i[S]);function b(){this.constructor=L}return b.prototype=i.prototype,L.prototype=new b,L.__super__=i.prototype,L},y={}.hasOwnProperty;B=Qf().isObject,U=iu(),O=Fo(),W=Dx(),ge=Rx(),le=Ix(),Re=_x(),Pe=Sx(),qy.exports=function(L){e(i,L);function i(S,b,v){var p,r,t,a,n,u;if(i.__super__.constructor.call(this,S),this.type=O.DocType,S.children){for(a=S.children,r=0,t=a.length;r<t;r++)if(p=a[r],p.type===O.Element){this.name=p.name;break}}this.documentObject=S,B(b)&&(n=b,b=n.pubID,v=n.sysID),v==null&&(u=[b,v],v=u[0],b=u[1]),b!=null&&(this.pubID=this.stringify.dtdPubID(b)),v!=null&&(this.sysID=this.stringify.dtdSysID(v))}return Object.defineProperty(i.prototype,"entities",{get:function(){var S,b,v,p,r;for(p={},r=this.children,b=0,v=r.length;b<v;b++)S=r[b],S.type===O.EntityDeclaration&&!S.pe&&(p[S.name]=S);return new Pe(p)}}),Object.defineProperty(i.prototype,"notations",{get:function(){var S,b,v,p,r;for(p={},r=this.children,b=0,v=r.length;b<v;b++)S=r[b],S.type===O.NotationDeclaration&&(p[S.name]=S);return new Pe(p)}}),Object.defineProperty(i.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(i.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(i.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),i.prototype.element=function(S,b){var v;return v=new le(this,S,b),this.children.push(v),this},i.prototype.attList=function(S,b,v,p,r){var t;return t=new W(this,S,b,v,p,r),this.children.push(t),this},i.prototype.entity=function(S,b){var v;return v=new ge(this,!1,S,b),this.children.push(v),this},i.prototype.pEntity=function(S,b){var v;return v=new ge(this,!0,S,b),this.children.push(v),this},i.prototype.notation=function(S,b){var v;return v=new Re(this,S,b),this.children.push(v),this},i.prototype.toString=function(S){return this.options.writer.docType(this,this.options.writer.filterOptions(S))},i.prototype.ele=function(S,b){return this.element(S,b)},i.prototype.att=function(S,b,v,p,r){return this.attList(S,b,v,p,r)},i.prototype.ent=function(S,b){return this.entity(S,b)},i.prototype.pent=function(S,b){return this.pEntity(S,b)},i.prototype.not=function(S,b){return this.notation(S,b)},i.prototype.up=function(){return this.root()||this.documentObject},i.prototype.isEqualNode=function(S){return!(!i.__super__.isEqualNode.apply(this,arguments).isEqualNode(S)||S.name!==this.name||S.publicId!==this.publicId||S.systemId!==this.systemId)},i}(U)}).call(ha)),qy.exports}var im={exports:{}},Uw;function Ox(){return Uw||(Uw=1,(function(){var O,W,le=function(Re,Pe){for(var U in Pe)ge.call(Pe,U)&&(Re[U]=Pe[U]);function B(){this.constructor=Re}return B.prototype=Pe.prototype,Re.prototype=new B,Re.__super__=Pe.prototype,Re},ge={}.hasOwnProperty;O=Fo(),W=iu(),im.exports=function(Re){le(Pe,Re);function Pe(U,B){if(Pe.__super__.constructor.call(this,U),B==null)throw new Error("Missing raw text. "+this.debugInfo());this.type=O.Raw,this.value=this.stringify.raw(B)}return Pe.prototype.clone=function(){return Object.create(this)},Pe.prototype.toString=function(U){return this.options.writer.raw(this,this.options.writer.filterOptions(U))},Pe}(W)}).call(ha)),im.exports}var am={exports:{}},Vw;function zx(){return Vw||(Vw=1,(function(){var O,W,le=function(Re,Pe){for(var U in Pe)ge.call(Pe,U)&&(Re[U]=Pe[U]);function B(){this.constructor=Re}return B.prototype=Pe.prototype,Re.prototype=new B,Re.__super__=Pe.prototype,Re},ge={}.hasOwnProperty;O=Fo(),W=Cg(),am.exports=function(Re){le(Pe,Re);function Pe(U,B){if(Pe.__super__.constructor.call(this,U),B==null)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=O.Text,this.value=this.stringify.text(B)}return Object.defineProperty(Pe.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(Pe.prototype,"wholeText",{get:function(){var U,B,e;for(e="",B=this.previousSibling;B;)e=B.data+e,B=B.previousSibling;for(e+=this.data,U=this.nextSibling;U;)e=e+U.data,U=U.nextSibling;return e}}),Pe.prototype.clone=function(){return Object.create(this)},Pe.prototype.toString=function(U){return this.options.writer.text(this,this.options.writer.filterOptions(U))},Pe.prototype.splitText=function(U){throw new Error("This DOM method is not implemented."+this.debugInfo())},Pe.prototype.replaceWholeText=function(U){throw new Error("This DOM method is not implemented."+this.debugInfo())},Pe}(W)}).call(ha)),am.exports}var om={exports:{}},Hw;function Fx(){return Hw||(Hw=1,(function(){var O,W,le=function(Re,Pe){for(var U in Pe)ge.call(Pe,U)&&(Re[U]=Pe[U]);function B(){this.constructor=Re}return B.prototype=Pe.prototype,Re.prototype=new B,Re.__super__=Pe.prototype,Re},ge={}.hasOwnProperty;O=Fo(),W=Cg(),om.exports=function(Re){le(Pe,Re);function Pe(U,B,e){if(Pe.__super__.constructor.call(this,U),B==null)throw new Error("Missing instruction target. "+this.debugInfo());this.type=O.ProcessingInstruction,this.target=this.stringify.insTarget(B),this.name=this.target,e&&(this.value=this.stringify.insValue(e))}return Pe.prototype.clone=function(){return Object.create(this)},Pe.prototype.toString=function(U){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(U))},Pe.prototype.isEqualNode=function(U){return!(!Pe.__super__.isEqualNode.apply(this,arguments).isEqualNode(U)||U.target!==this.target)},Pe}(W)}).call(ha)),om.exports}var sm={exports:{}},Gw;function v5(){return Gw||(Gw=1,(function(){var O,W,le=function(Re,Pe){for(var U in Pe)ge.call(Pe,U)&&(Re[U]=Pe[U]);function B(){this.constructor=Re}return B.prototype=Pe.prototype,Re.prototype=new B,Re.__super__=Pe.prototype,Re},ge={}.hasOwnProperty;W=iu(),O=Fo(),sm.exports=function(Re){le(Pe,Re);function Pe(U){Pe.__super__.constructor.call(this,U),this.type=O.Dummy}return Pe.prototype.clone=function(){return Object.create(this)},Pe.prototype.toString=function(U){return""},Pe}(W)}).call(ha)),sm.exports}var lm={exports:{}},Ww;function SL(){return Ww||(Ww=1,(function(){lm.exports=function(){function O(W){this.nodes=W}return Object.defineProperty(O.prototype,"length",{get:function(){return this.nodes.length||0}}),O.prototype.clone=function(){return this.nodes=null},O.prototype.item=function(W){return this.nodes[W]||null},O}()}).call(ha)),lm.exports}var um={exports:{}},Xw;function EL(){return Xw||(Xw=1,(function(){um.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(ha)),um.exports}var Yw;function iu(){return Yw||(Yw=1,(function(){var O,W,le,ge,Re,Pe,U,B,e,y,L,i,S,b,v,p,r,t={}.hasOwnProperty;r=Qf(),p=r.isObject,v=r.isFunction,b=r.isEmpty,S=r.getValue,B=null,le=null,ge=null,Re=null,Pe=null,L=null,i=null,y=null,U=null,W=null,e=null,O=null,Wy.exports=function(){function a(n){this.parent=n,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,B||(B=Ex(),le=Cx(),ge=Lx(),Re=Px(),Pe=kx(),L=Ox(),i=zx(),y=Fx(),U=v5(),W=Fo(),e=SL(),Sx(),O=EL())}return Object.defineProperty(a.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(a.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(a.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(a.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(a.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new e(this.children)),this.childNodeList}}),Object.defineProperty(a.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(a.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(a.prototype,"previousSibling",{get:function(){var n;return n=this.parent.children.indexOf(this),this.parent.children[n-1]||null}}),Object.defineProperty(a.prototype,"nextSibling",{get:function(){var n;return n=this.parent.children.indexOf(this),this.parent.children[n+1]||null}}),Object.defineProperty(a.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(a.prototype,"textContent",{get:function(){var n,u,s,l,m;if(this.nodeType===W.Element||this.nodeType===W.DocumentFragment){for(m="",l=this.children,u=0,s=l.length;u<s;u++)n=l[u],n.textContent&&(m+=n.textContent);return m}else return null},set:function(n){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),a.prototype.setParent=function(n){var u,s,l,m,h;for(this.parent=n,n&&(this.options=n.options,this.stringify=n.stringify),m=this.children,h=[],s=0,l=m.length;s<l;s++)u=m[s],h.push(u.setParent(this));return h},a.prototype.element=function(n,u,s){var l,m,h,g,c,o,d,w,A,C,x;if(o=null,u===null&&s==null&&(A=[{},null],u=A[0],s=A[1]),u==null&&(u={}),u=S(u),p(u)||(C=[u,s],s=C[0],u=C[1]),n!=null&&(n=S(n)),Array.isArray(n))for(h=0,d=n.length;h<d;h++)m=n[h],o=this.element(m);else if(v(n))o=this.element(n.apply());else if(p(n)){for(c in n)if(t.call(n,c))if(x=n[c],v(x)&&(x=x.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&c.indexOf(this.stringify.convertAttKey)===0)o=this.attribute(c.substr(this.stringify.convertAttKey.length),x);else if(!this.options.separateArrayItems&&Array.isArray(x)&&b(x))o=this.dummy();else if(p(x)&&b(x))o=this.element(c);else if(!this.options.keepNullNodes&&x==null)o=this.dummy();else if(!this.options.separateArrayItems&&Array.isArray(x))for(g=0,w=x.length;g<w;g++)m=x[g],l={},l[c]=m,o=this.element(l);else p(x)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&c.indexOf(this.stringify.convertTextKey)===0?o=this.element(x):(o=this.element(c),o.element(x)):o=this.element(c,x)}else!this.options.keepNullNodes&&s===null?o=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&n.indexOf(this.stringify.convertTextKey)===0?o=this.text(s):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&n.indexOf(this.stringify.convertCDataKey)===0?o=this.cdata(s):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&n.indexOf(this.stringify.convertCommentKey)===0?o=this.comment(s):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&n.indexOf(this.stringify.convertRawKey)===0?o=this.raw(s):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&n.indexOf(this.stringify.convertPIKey)===0?o=this.instruction(n.substr(this.stringify.convertPIKey.length),s):o=this.node(n,u,s);if(o==null)throw new Error("Could not create any elements with: "+n+". "+this.debugInfo());return o},a.prototype.insertBefore=function(n,u,s){var l,m,h,g,c;if(n!=null&&n.type)return h=n,g=u,h.setParent(this),g?(m=children.indexOf(g),c=children.splice(m),children.push(h),Array.prototype.push.apply(children,c)):children.push(h),h;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(n));return m=this.parent.children.indexOf(this),c=this.parent.children.splice(m),l=this.parent.element(n,u,s),Array.prototype.push.apply(this.parent.children,c),l},a.prototype.insertAfter=function(n,u,s){var l,m,h;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(n));return m=this.parent.children.indexOf(this),h=this.parent.children.splice(m+1),l=this.parent.element(n,u,s),Array.prototype.push.apply(this.parent.children,h),l},a.prototype.remove=function(){var n;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return n=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[n,n-n+1].concat([])),this.parent},a.prototype.node=function(n,u,s){var l,m;return n!=null&&(n=S(n)),u||(u={}),u=S(u),p(u)||(m=[u,s],s=m[0],u=m[1]),l=new B(this,n,u),s!=null&&l.text(s),this.children.push(l),l},a.prototype.text=function(n){var u;return p(n)&&this.element(n),u=new i(this,n),this.children.push(u),this},a.prototype.cdata=function(n){var u;return u=new le(this,n),this.children.push(u),this},a.prototype.comment=function(n){var u;return u=new ge(this,n),this.children.push(u),this},a.prototype.commentBefore=function(n){var u,s;return u=this.parent.children.indexOf(this),s=this.parent.children.splice(u),this.parent.comment(n),Array.prototype.push.apply(this.parent.children,s),this},a.prototype.commentAfter=function(n){var u,s;return u=this.parent.children.indexOf(this),s=this.parent.children.splice(u+1),this.parent.comment(n),Array.prototype.push.apply(this.parent.children,s),this},a.prototype.raw=function(n){var u;return u=new L(this,n),this.children.push(u),this},a.prototype.dummy=function(){var n;return n=new U(this),n},a.prototype.instruction=function(n,u){var s,l,m,h,g;if(n!=null&&(n=S(n)),u!=null&&(u=S(u)),Array.isArray(n))for(h=0,g=n.length;h<g;h++)s=n[h],this.instruction(s);else if(p(n))for(s in n)t.call(n,s)&&(l=n[s],this.instruction(s,l));else v(u)&&(u=u.apply()),m=new y(this,n,u),this.children.push(m);return this},a.prototype.instructionBefore=function(n,u){var s,l;return s=this.parent.children.indexOf(this),l=this.parent.children.splice(s),this.parent.instruction(n,u),Array.prototype.push.apply(this.parent.children,l),this},a.prototype.instructionAfter=function(n,u){var s,l;return s=this.parent.children.indexOf(this),l=this.parent.children.splice(s+1),this.parent.instruction(n,u),Array.prototype.push.apply(this.parent.children,l),this},a.prototype.declaration=function(n,u,s){var l,m;return l=this.document(),m=new Re(l,n,u,s),l.children.length===0?l.children.unshift(m):l.children[0].type===W.Declaration?l.children[0]=m:l.children.unshift(m),l.root()||l},a.prototype.dtd=function(n,u){var s,l,m,h,g,c,o,d,w,A;for(l=this.document(),m=new Pe(l,n,u),w=l.children,h=g=0,o=w.length;g<o;h=++g)if(s=w[h],s.type===W.DocType)return l.children[h]=m,m;for(A=l.children,h=c=0,d=A.length;c<d;h=++c)if(s=A[h],s.isRoot)return l.children.splice(h,0,m),m;return l.children.push(m),m},a.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},a.prototype.root=function(){var n;for(n=this;n;){if(n.type===W.Document)return n.rootObject;if(n.isRoot)return n;n=n.parent}},a.prototype.document=function(){var n;for(n=this;n;){if(n.type===W.Document)return n;n=n.parent}},a.prototype.end=function(n){return this.document().end(n)},a.prototype.prev=function(){var n;if(n=this.parent.children.indexOf(this),n<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[n-1]},a.prototype.next=function(){var n;if(n=this.parent.children.indexOf(this),n===-1||n===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[n+1]},a.prototype.importDocument=function(n){var u;return u=n.root().clone(),u.parent=this,u.isRoot=!1,this.children.push(u),this},a.prototype.debugInfo=function(n){var u,s;return n=n||this.name,n==null&&!((u=this.parent)!=null&&u.name)?"":n==null?"parent: <"+this.parent.name+">":(s=this.parent)!=null&&s.name?"node: <"+n+">, parent: <"+this.parent.name+">":"node: <"+n+">"},a.prototype.ele=function(n,u,s){return this.element(n,u,s)},a.prototype.nod=function(n,u,s){return this.node(n,u,s)},a.prototype.txt=function(n){return this.text(n)},a.prototype.dat=function(n){return this.cdata(n)},a.prototype.com=function(n){return this.comment(n)},a.prototype.ins=function(n,u){return this.instruction(n,u)},a.prototype.doc=function(){return this.document()},a.prototype.dec=function(n,u,s){return this.declaration(n,u,s)},a.prototype.e=function(n,u,s){return this.element(n,u,s)},a.prototype.n=function(n,u,s){return this.node(n,u,s)},a.prototype.t=function(n){return this.text(n)},a.prototype.d=function(n){return this.cdata(n)},a.prototype.c=function(n){return this.comment(n)},a.prototype.r=function(n){return this.raw(n)},a.prototype.i=function(n,u){return this.instruction(n,u)},a.prototype.u=function(){return this.up()},a.prototype.importXMLBuilder=function(n){return this.importDocument(n)},a.prototype.replaceChild=function(n,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.removeChild=function(n){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.appendChild=function(n){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.hasChildNodes=function(){return this.children.length!==0},a.prototype.cloneNode=function(n){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.isSupported=function(n,u){return!0},a.prototype.hasAttributes=function(){return this.attribs.length!==0},a.prototype.compareDocumentPosition=function(n){var u,s;return u=this,u===n?0:this.document()!==n.document()?(s=O.Disconnected|O.ImplementationSpecific,Math.random()<.5?s|=O.Preceding:s|=O.Following,s):u.isAncestor(n)?O.Contains|O.Preceding:u.isDescendant(n)?O.Contains|O.Following:u.isPreceding(n)?O.Preceding:O.Following},a.prototype.isSameNode=function(n){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.lookupPrefix=function(n){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.isDefaultNamespace=function(n){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.lookupNamespaceURI=function(n){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.isEqualNode=function(n){var u,s,l;if(n.nodeType!==this.nodeType||n.children.length!==this.children.length)return!1;for(u=s=0,l=this.children.length-1;0<=l?s<=l:s>=l;u=0<=l?++s:--s)if(!this.children[u].isEqualNode(n.children[u]))return!1;return!0},a.prototype.getFeature=function(n,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.setUserData=function(n,u,s){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getUserData=function(n){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.contains=function(n){return n?n===this||this.isDescendant(n):!1},a.prototype.isDescendant=function(n){var u,s,l,m,h;for(h=this.children,l=0,m=h.length;l<m;l++)if(u=h[l],n===u||(s=u.isDescendant(n),s))return!0;return!1},a.prototype.isAncestor=function(n){return n.isDescendant(this)},a.prototype.isPreceding=function(n){var u,s;return u=this.treePosition(n),s=this.treePosition(this),u===-1||s===-1?!1:u<s},a.prototype.isFollowing=function(n){var u,s;return u=this.treePosition(n),s=this.treePosition(this),u===-1||s===-1?!1:u>s},a.prototype.treePosition=function(n){var u,s;return s=0,u=!1,this.foreachTreeNode(this.document(),function(l){if(s++,!u&&l===n)return u=!0}),u?s:-1},a.prototype.foreachTreeNode=function(n,u){var s,l,m,h,g;for(n||(n=this.document()),h=n.children,l=0,m=h.length;l<m;l++){if(s=h[l],g=u(s))return g;if(g=this.foreachTreeNode(s,u),g)return g}},a}()}).call(ha)),Wy.exports}var fm={exports:{}},jw;function d5(){return jw||(jw=1,(function(){var O=function(le,ge){return function(){return le.apply(ge,arguments)}},W={}.hasOwnProperty;fm.exports=function(){function le(ge){this.assertLegalName=O(this.assertLegalName,this),this.assertLegalChar=O(this.assertLegalChar,this);var Re,Pe,U;ge||(ge={}),this.options=ge,this.options.version||(this.options.version="1.0"),Pe=ge.stringify||{};for(Re in Pe)W.call(Pe,Re)&&(U=Pe[Re],this[Re]=U)}return le.prototype.name=function(ge){return this.options.noValidation?ge:this.assertLegalName(""+ge||"")},le.prototype.text=function(ge){return this.options.noValidation?ge:this.assertLegalChar(this.textEscape(""+ge||""))},le.prototype.cdata=function(ge){return this.options.noValidation?ge:(ge=""+ge||"",ge=ge.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(ge))},le.prototype.comment=function(ge){if(this.options.noValidation)return ge;if(ge=""+ge||"",ge.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+ge);return this.assertLegalChar(ge)},le.prototype.raw=function(ge){return this.options.noValidation?ge:""+ge||""},le.prototype.attValue=function(ge){return this.options.noValidation?ge:this.assertLegalChar(this.attEscape(ge=""+ge||""))},le.prototype.insTarget=function(ge){return this.options.noValidation?ge:this.assertLegalChar(""+ge||"")},le.prototype.insValue=function(ge){if(this.options.noValidation)return ge;if(ge=""+ge||"",ge.match(/\?>/))throw new Error("Invalid processing instruction value: "+ge);return this.assertLegalChar(ge)},le.prototype.xmlVersion=function(ge){if(this.options.noValidation)return ge;if(ge=""+ge||"",!ge.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+ge);return ge},le.prototype.xmlEncoding=function(ge){if(this.options.noValidation)return ge;if(ge=""+ge||"",!ge.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+ge);return this.assertLegalChar(ge)},le.prototype.xmlStandalone=function(ge){return this.options.noValidation?ge:ge?"yes":"no"},le.prototype.dtdPubID=function(ge){return this.options.noValidation?ge:this.assertLegalChar(""+ge||"")},le.prototype.dtdSysID=function(ge){return this.options.noValidation?ge:this.assertLegalChar(""+ge||"")},le.prototype.dtdElementValue=function(ge){return this.options.noValidation?ge:this.assertLegalChar(""+ge||"")},le.prototype.dtdAttType=function(ge){return this.options.noValidation?ge:this.assertLegalChar(""+ge||"")},le.prototype.dtdAttDefault=function(ge){return this.options.noValidation?ge:this.assertLegalChar(""+ge||"")},le.prototype.dtdEntityValue=function(ge){return this.options.noValidation?ge:this.assertLegalChar(""+ge||"")},le.prototype.dtdNData=function(ge){return this.options.noValidation?ge:this.assertLegalChar(""+ge||"")},le.prototype.convertAttKey="@",le.prototype.convertPIKey="?",le.prototype.convertTextKey="#text",le.prototype.convertCDataKey="#cdata",le.prototype.convertCommentKey="#comment",le.prototype.convertRawKey="#raw",le.prototype.assertLegalChar=function(ge){var Re,Pe;if(this.options.noValidation)return ge;if(Re="",this.options.version==="1.0"){if(Re=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Pe=ge.match(Re))throw new Error("Invalid character in string: "+ge+" at index "+Pe.index)}else if(this.options.version==="1.1"&&(Re=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Pe=ge.match(Re)))throw new Error("Invalid character in string: "+ge+" at index "+Pe.index);return ge},le.prototype.assertLegalName=function(ge){var Re;if(this.options.noValidation)return ge;if(this.assertLegalChar(ge),Re=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!ge.match(Re))throw new Error("Invalid character in name");return ge},le.prototype.textEscape=function(ge){var Re;return this.options.noValidation?ge:(Re=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,ge.replace(Re,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},le.prototype.attEscape=function(ge){var Re;return this.options.noValidation?ge:(Re=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,ge.replace(Re,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},le}()}).call(ha)),fm.exports}var cm={exports:{}},hm={exports:{}},vm={exports:{}},Zw;function Lg(){return Zw||(Zw=1,(function(){vm.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(ha)),vm.exports}var Kw;function p5(){return Kw||(Kw=1,(function(){var O,W,le,ge={}.hasOwnProperty;le=Qf().assign,O=Fo(),Px(),kx(),Cx(),Lx(),Ex(),Ox(),zx(),Fx(),v5(),Dx(),Ix(),Rx(),_x(),W=Lg(),hm.exports=function(){function Re(Pe){var U,B,e;Pe||(Pe={}),this.options=Pe,B=Pe.writer||{};for(U in B)ge.call(B,U)&&(e=B[U],this["_"+U]=this[U],this[U]=e)}return Re.prototype.filterOptions=function(Pe){var U,B,e,y,L,i,S,b;return Pe||(Pe={}),Pe=le({},this.options,Pe),U={writer:this},U.pretty=Pe.pretty||!1,U.allowEmpty=Pe.allowEmpty||!1,U.indent=(B=Pe.indent)!=null?B:"  ",U.newline=(e=Pe.newline)!=null?e:`
`,U.offset=(y=Pe.offset)!=null?y:0,U.dontPrettyTextNodes=(L=(i=Pe.dontPrettyTextNodes)!=null?i:Pe.dontprettytextnodes)!=null?L:0,U.spaceBeforeSlash=(S=(b=Pe.spaceBeforeSlash)!=null?b:Pe.spacebeforeslash)!=null?S:"",U.spaceBeforeSlash===!0&&(U.spaceBeforeSlash=" "),U.suppressPrettyCount=0,U.user={},U.state=W.None,U},Re.prototype.indent=function(Pe,U,B){var e;return!U.pretty||U.suppressPrettyCount?"":U.pretty&&(e=(B||0)+U.offset+1,e>0)?new Array(e).join(U.indent):""},Re.prototype.endline=function(Pe,U,B){return!U.pretty||U.suppressPrettyCount?"":U.newline},Re.prototype.attribute=function(Pe,U,B){var e;return this.openAttribute(Pe,U,B),e=" "+Pe.name+'="'+Pe.value+'"',this.closeAttribute(Pe,U,B),e},Re.prototype.cdata=function(Pe,U,B){var e;return this.openNode(Pe,U,B),U.state=W.OpenTag,e=this.indent(Pe,U,B)+"<![CDATA[",U.state=W.InsideTag,e+=Pe.value,U.state=W.CloseTag,e+="]]>"+this.endline(Pe,U,B),U.state=W.None,this.closeNode(Pe,U,B),e},Re.prototype.comment=function(Pe,U,B){var e;return this.openNode(Pe,U,B),U.state=W.OpenTag,e=this.indent(Pe,U,B)+"<!-- ",U.state=W.InsideTag,e+=Pe.value,U.state=W.CloseTag,e+=" -->"+this.endline(Pe,U,B),U.state=W.None,this.closeNode(Pe,U,B),e},Re.prototype.declaration=function(Pe,U,B){var e;return this.openNode(Pe,U,B),U.state=W.OpenTag,e=this.indent(Pe,U,B)+"<?xml",U.state=W.InsideTag,e+=' version="'+Pe.version+'"',Pe.encoding!=null&&(e+=' encoding="'+Pe.encoding+'"'),Pe.standalone!=null&&(e+=' standalone="'+Pe.standalone+'"'),U.state=W.CloseTag,e+=U.spaceBeforeSlash+"?>",e+=this.endline(Pe,U,B),U.state=W.None,this.closeNode(Pe,U,B),e},Re.prototype.docType=function(Pe,U,B){var e,y,L,i,S;if(B||(B=0),this.openNode(Pe,U,B),U.state=W.OpenTag,i=this.indent(Pe,U,B),i+="<!DOCTYPE "+Pe.root().name,Pe.pubID&&Pe.sysID?i+=' PUBLIC "'+Pe.pubID+'" "'+Pe.sysID+'"':Pe.sysID&&(i+=' SYSTEM "'+Pe.sysID+'"'),Pe.children.length>0){for(i+=" [",i+=this.endline(Pe,U,B),U.state=W.InsideTag,S=Pe.children,y=0,L=S.length;y<L;y++)e=S[y],i+=this.writeChildNode(e,U,B+1);U.state=W.CloseTag,i+="]"}return U.state=W.CloseTag,i+=U.spaceBeforeSlash+">",i+=this.endline(Pe,U,B),U.state=W.None,this.closeNode(Pe,U,B),i},Re.prototype.element=function(Pe,U,B){var e,y,L,i,S,b,v,p,r,t,a,n,u,s;B||(B=0),t=!1,a="",this.openNode(Pe,U,B),U.state=W.OpenTag,a+=this.indent(Pe,U,B)+"<"+Pe.name,n=Pe.attribs;for(r in n)ge.call(n,r)&&(e=n[r],a+=this.attribute(e,U,B));if(L=Pe.children.length,i=L===0?null:Pe.children[0],L===0||Pe.children.every(function(l){return(l.type===O.Text||l.type===O.Raw)&&l.value===""}))U.allowEmpty?(a+=">",U.state=W.CloseTag,a+="</"+Pe.name+">"+this.endline(Pe,U,B)):(U.state=W.CloseTag,a+=U.spaceBeforeSlash+"/>"+this.endline(Pe,U,B));else if(U.pretty&&L===1&&(i.type===O.Text||i.type===O.Raw)&&i.value!=null)a+=">",U.state=W.InsideTag,U.suppressPrettyCount++,t=!0,a+=this.writeChildNode(i,U,B+1),U.suppressPrettyCount--,t=!1,U.state=W.CloseTag,a+="</"+Pe.name+">"+this.endline(Pe,U,B);else{if(U.dontPrettyTextNodes){for(u=Pe.children,S=0,v=u.length;S<v;S++)if(y=u[S],(y.type===O.Text||y.type===O.Raw)&&y.value!=null){U.suppressPrettyCount++,t=!0;break}}for(a+=">"+this.endline(Pe,U,B),U.state=W.InsideTag,s=Pe.children,b=0,p=s.length;b<p;b++)y=s[b],a+=this.writeChildNode(y,U,B+1);U.state=W.CloseTag,a+=this.indent(Pe,U,B)+"</"+Pe.name+">",t&&U.suppressPrettyCount--,a+=this.endline(Pe,U,B),U.state=W.None}return this.closeNode(Pe,U,B),a},Re.prototype.writeChildNode=function(Pe,U,B){switch(Pe.type){case O.CData:return this.cdata(Pe,U,B);case O.Comment:return this.comment(Pe,U,B);case O.Element:return this.element(Pe,U,B);case O.Raw:return this.raw(Pe,U,B);case O.Text:return this.text(Pe,U,B);case O.ProcessingInstruction:return this.processingInstruction(Pe,U,B);case O.Dummy:return"";case O.Declaration:return this.declaration(Pe,U,B);case O.DocType:return this.docType(Pe,U,B);case O.AttributeDeclaration:return this.dtdAttList(Pe,U,B);case O.ElementDeclaration:return this.dtdElement(Pe,U,B);case O.EntityDeclaration:return this.dtdEntity(Pe,U,B);case O.NotationDeclaration:return this.dtdNotation(Pe,U,B);default:throw new Error("Unknown XML node type: "+Pe.constructor.name)}},Re.prototype.processingInstruction=function(Pe,U,B){var e;return this.openNode(Pe,U,B),U.state=W.OpenTag,e=this.indent(Pe,U,B)+"<?",U.state=W.InsideTag,e+=Pe.target,Pe.value&&(e+=" "+Pe.value),U.state=W.CloseTag,e+=U.spaceBeforeSlash+"?>",e+=this.endline(Pe,U,B),U.state=W.None,this.closeNode(Pe,U,B),e},Re.prototype.raw=function(Pe,U,B){var e;return this.openNode(Pe,U,B),U.state=W.OpenTag,e=this.indent(Pe,U,B),U.state=W.InsideTag,e+=Pe.value,U.state=W.CloseTag,e+=this.endline(Pe,U,B),U.state=W.None,this.closeNode(Pe,U,B),e},Re.prototype.text=function(Pe,U,B){var e;return this.openNode(Pe,U,B),U.state=W.OpenTag,e=this.indent(Pe,U,B),U.state=W.InsideTag,e+=Pe.value,U.state=W.CloseTag,e+=this.endline(Pe,U,B),U.state=W.None,this.closeNode(Pe,U,B),e},Re.prototype.dtdAttList=function(Pe,U,B){var e;return this.openNode(Pe,U,B),U.state=W.OpenTag,e=this.indent(Pe,U,B)+"<!ATTLIST",U.state=W.InsideTag,e+=" "+Pe.elementName+" "+Pe.attributeName+" "+Pe.attributeType,Pe.defaultValueType!=="#DEFAULT"&&(e+=" "+Pe.defaultValueType),Pe.defaultValue&&(e+=' "'+Pe.defaultValue+'"'),U.state=W.CloseTag,e+=U.spaceBeforeSlash+">"+this.endline(Pe,U,B),U.state=W.None,this.closeNode(Pe,U,B),e},Re.prototype.dtdElement=function(Pe,U,B){var e;return this.openNode(Pe,U,B),U.state=W.OpenTag,e=this.indent(Pe,U,B)+"<!ELEMENT",U.state=W.InsideTag,e+=" "+Pe.name+" "+Pe.value,U.state=W.CloseTag,e+=U.spaceBeforeSlash+">"+this.endline(Pe,U,B),U.state=W.None,this.closeNode(Pe,U,B),e},Re.prototype.dtdEntity=function(Pe,U,B){var e;return this.openNode(Pe,U,B),U.state=W.OpenTag,e=this.indent(Pe,U,B)+"<!ENTITY",U.state=W.InsideTag,Pe.pe&&(e+=" %"),e+=" "+Pe.name,Pe.value?e+=' "'+Pe.value+'"':(Pe.pubID&&Pe.sysID?e+=' PUBLIC "'+Pe.pubID+'" "'+Pe.sysID+'"':Pe.sysID&&(e+=' SYSTEM "'+Pe.sysID+'"'),Pe.nData&&(e+=" NDATA "+Pe.nData)),U.state=W.CloseTag,e+=U.spaceBeforeSlash+">"+this.endline(Pe,U,B),U.state=W.None,this.closeNode(Pe,U,B),e},Re.prototype.dtdNotation=function(Pe,U,B){var e;return this.openNode(Pe,U,B),U.state=W.OpenTag,e=this.indent(Pe,U,B)+"<!NOTATION",U.state=W.InsideTag,e+=" "+Pe.name,Pe.pubID&&Pe.sysID?e+=' PUBLIC "'+Pe.pubID+'" "'+Pe.sysID+'"':Pe.pubID?e+=' PUBLIC "'+Pe.pubID+'"':Pe.sysID&&(e+=' SYSTEM "'+Pe.sysID+'"'),U.state=W.CloseTag,e+=U.spaceBeforeSlash+">"+this.endline(Pe,U,B),U.state=W.None,this.closeNode(Pe,U,B),e},Re.prototype.openNode=function(Pe,U,B){},Re.prototype.closeNode=function(Pe,U,B){},Re.prototype.openAttribute=function(Pe,U,B){},Re.prototype.closeAttribute=function(Pe,U,B){},Re}()}).call(ha)),hm.exports}var Jw;function Nx(){return Jw||(Jw=1,(function(){var O,W=function(ge,Re){for(var Pe in Re)le.call(Re,Pe)&&(ge[Pe]=Re[Pe]);function U(){this.constructor=ge}return U.prototype=Re.prototype,ge.prototype=new U,ge.__super__=Re.prototype,ge},le={}.hasOwnProperty;O=p5(),cm.exports=function(ge){W(Re,ge);function Re(Pe){Re.__super__.constructor.call(this,Pe)}return Re.prototype.document=function(Pe,U){var B,e,y,L,i;for(U=this.filterOptions(U),L="",i=Pe.children,e=0,y=i.length;e<y;e++)B=i[e],L+=this.writeChildNode(B,U,0);return U.pretty&&L.slice(-U.newline.length)===U.newline&&(L=L.slice(0,-U.newline.length)),L},Re}(O)}).call(ha)),cm.exports}var Qw;function g5(){return Qw||(Qw=1,(function(){var O,W,le,ge,Re,Pe,U,B=function(y,L){for(var i in L)e.call(L,i)&&(y[i]=L[i]);function S(){this.constructor=y}return S.prototype=L.prototype,y.prototype=new S,y.__super__=L.prototype,y},e={}.hasOwnProperty;U=Qf().isPlainObject,le=c5(),W=ML(),ge=iu(),O=Fo(),Pe=d5(),Re=Nx(),Uy.exports=function(y){B(L,y);function L(i){L.__super__.constructor.call(this,null),this.name="#document",this.type=O.Document,this.documentURI=null,this.domConfig=new W,i||(i={}),i.writer||(i.writer=new Re),this.options=i,this.stringify=new Pe(i)}return Object.defineProperty(L.prototype,"implementation",{value:new le}),Object.defineProperty(L.prototype,"doctype",{get:function(){var i,S,b,v;for(v=this.children,S=0,b=v.length;S<b;S++)if(i=v[S],i.type===O.DocType)return i;return null}}),Object.defineProperty(L.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(L.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(L.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(L.prototype,"xmlEncoding",{get:function(){return this.children.length!==0&&this.children[0].type===O.Declaration?this.children[0].encoding:null}}),Object.defineProperty(L.prototype,"xmlStandalone",{get:function(){return this.children.length!==0&&this.children[0].type===O.Declaration?this.children[0].standalone==="yes":!1}}),Object.defineProperty(L.prototype,"xmlVersion",{get:function(){return this.children.length!==0&&this.children[0].type===O.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(L.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(L.prototype,"origin",{get:function(){return null}}),Object.defineProperty(L.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(L.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(L.prototype,"contentType",{get:function(){return null}}),L.prototype.end=function(i){var S;return S={},i?U(i)&&(S=i,i=this.options.writer):i=this.options.writer,i.document(this,i.filterOptions(S))},L.prototype.toString=function(i){return this.options.writer.document(this,this.options.writer.filterOptions(i))},L.prototype.createElement=function(i){throw new Error("This DOM method is not implemented."+this.debugInfo())},L.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},L.prototype.createTextNode=function(i){throw new Error("This DOM method is not implemented."+this.debugInfo())},L.prototype.createComment=function(i){throw new Error("This DOM method is not implemented."+this.debugInfo())},L.prototype.createCDATASection=function(i){throw new Error("This DOM method is not implemented."+this.debugInfo())},L.prototype.createProcessingInstruction=function(i,S){throw new Error("This DOM method is not implemented."+this.debugInfo())},L.prototype.createAttribute=function(i){throw new Error("This DOM method is not implemented."+this.debugInfo())},L.prototype.createEntityReference=function(i){throw new Error("This DOM method is not implemented."+this.debugInfo())},L.prototype.getElementsByTagName=function(i){throw new Error("This DOM method is not implemented."+this.debugInfo())},L.prototype.importNode=function(i,S){throw new Error("This DOM method is not implemented."+this.debugInfo())},L.prototype.createElementNS=function(i,S){throw new Error("This DOM method is not implemented."+this.debugInfo())},L.prototype.createAttributeNS=function(i,S){throw new Error("This DOM method is not implemented."+this.debugInfo())},L.prototype.getElementsByTagNameNS=function(i,S){throw new Error("This DOM method is not implemented."+this.debugInfo())},L.prototype.getElementById=function(i){throw new Error("This DOM method is not implemented."+this.debugInfo())},L.prototype.adoptNode=function(i){throw new Error("This DOM method is not implemented."+this.debugInfo())},L.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},L.prototype.renameNode=function(i,S,b){throw new Error("This DOM method is not implemented."+this.debugInfo())},L.prototype.getElementsByClassName=function(i){throw new Error("This DOM method is not implemented."+this.debugInfo())},L.prototype.createEvent=function(i){throw new Error("This DOM method is not implemented."+this.debugInfo())},L.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},L.prototype.createNodeIterator=function(i,S,b){throw new Error("This DOM method is not implemented."+this.debugInfo())},L.prototype.createTreeWalker=function(i,S,b){throw new Error("This DOM method is not implemented."+this.debugInfo())},L}(ge)}).call(ha)),Uy.exports}var dm={exports:{}},$w;function CL(){return $w||($w=1,(function(){var O,W,le,ge,Re,Pe,U,B,e,y,L,i,S,b,v,p,r,t,a,n,u,s,l,m={}.hasOwnProperty;l=Qf(),u=l.isObject,n=l.isFunction,s=l.isPlainObject,a=l.getValue,O=Fo(),i=g5(),S=Ex(),ge=Cx(),Re=Lx(),v=Ox(),t=zx(),b=Fx(),y=Px(),L=kx(),Pe=Dx(),B=Rx(),U=Ix(),e=_x(),le=h5(),r=d5(),p=Nx(),W=Lg(),dm.exports=function(){function h(g,c,o){var d;this.name="?xml",this.type=O.Document,g||(g={}),d={},g.writer?s(g.writer)&&(d=g.writer,g.writer=new p):g.writer=new p,this.options=g,this.writer=g.writer,this.writerOptions=this.writer.filterOptions(d),this.stringify=new r(g),this.onDataCallback=c||function(){},this.onEndCallback=o||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return h.prototype.createChildNode=function(g){var c,o,d,w,A,C,x,E;switch(g.type){case O.CData:this.cdata(g.value);break;case O.Comment:this.comment(g.value);break;case O.Element:d={},x=g.attribs;for(o in x)m.call(x,o)&&(c=x[o],d[o]=c.value);this.node(g.name,d);break;case O.Dummy:this.dummy();break;case O.Raw:this.raw(g.value);break;case O.Text:this.text(g.value);break;case O.ProcessingInstruction:this.instruction(g.target,g.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+g.constructor.name)}for(E=g.children,A=0,C=E.length;A<C;A++)w=E[A],this.createChildNode(w),w.type===O.Element&&this.up();return this},h.prototype.dummy=function(){return this},h.prototype.node=function(g,c,o){var d;if(g==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(g));return this.openCurrent(),g=a(g),c==null&&(c={}),c=a(c),u(c)||(d=[c,o],o=d[0],c=d[1]),this.currentNode=new S(this,g,c),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,o!=null&&this.text(o),this},h.prototype.element=function(g,c,o){var d,w,A,C,x,E;if(this.currentNode&&this.currentNode.type===O.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(g)||u(g)||n(g))for(C=this.options.noValidation,this.options.noValidation=!0,E=new i(this.options).element("TEMP_ROOT"),E.element(g),this.options.noValidation=C,x=E.children,w=0,A=x.length;w<A;w++)d=x[w],this.createChildNode(d),d.type===O.Element&&this.up();else this.node(g,c,o);return this},h.prototype.attribute=function(g,c){var o,d;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(g));if(g!=null&&(g=a(g)),u(g))for(o in g)m.call(g,o)&&(d=g[o],this.attribute(o,d));else n(c)&&(c=c.apply()),this.options.keepNullAttributes&&c==null?this.currentNode.attribs[g]=new le(this,g,""):c!=null&&(this.currentNode.attribs[g]=new le(this,g,c));return this},h.prototype.text=function(g){var c;return this.openCurrent(),c=new t(this,g),this.onData(this.writer.text(c,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},h.prototype.cdata=function(g){var c;return this.openCurrent(),c=new ge(this,g),this.onData(this.writer.cdata(c,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},h.prototype.comment=function(g){var c;return this.openCurrent(),c=new Re(this,g),this.onData(this.writer.comment(c,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},h.prototype.raw=function(g){var c;return this.openCurrent(),c=new v(this,g),this.onData(this.writer.raw(c,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},h.prototype.instruction=function(g,c){var o,d,w,A,C;if(this.openCurrent(),g!=null&&(g=a(g)),c!=null&&(c=a(c)),Array.isArray(g))for(o=0,A=g.length;o<A;o++)d=g[o],this.instruction(d);else if(u(g))for(d in g)m.call(g,d)&&(w=g[d],this.instruction(d,w));else n(c)&&(c=c.apply()),C=new b(this,g,c),this.onData(this.writer.processingInstruction(C,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},h.prototype.declaration=function(g,c,o){var d;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return d=new y(this,g,c,o),this.onData(this.writer.declaration(d,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},h.prototype.doctype=function(g,c,o){if(this.openCurrent(),g==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new L(this,c,o),this.currentNode.rootNodeName=g,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},h.prototype.dtdElement=function(g,c){var o;return this.openCurrent(),o=new U(this,g,c),this.onData(this.writer.dtdElement(o,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},h.prototype.attList=function(g,c,o,d,w){var A;return this.openCurrent(),A=new Pe(this,g,c,o,d,w),this.onData(this.writer.dtdAttList(A,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},h.prototype.entity=function(g,c){var o;return this.openCurrent(),o=new B(this,!1,g,c),this.onData(this.writer.dtdEntity(o,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},h.prototype.pEntity=function(g,c){var o;return this.openCurrent(),o=new B(this,!0,g,c),this.onData(this.writer.dtdEntity(o,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},h.prototype.notation=function(g,c){var o;return this.openCurrent(),o=new e(this,g,c),this.onData(this.writer.dtdNotation(o,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},h.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},h.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},h.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},h.prototype.openNode=function(g){var c,o,d,w;if(!g.isOpen){if(!this.root&&this.currentLevel===0&&g.type===O.Element&&(this.root=g),o="",g.type===O.Element){this.writerOptions.state=W.OpenTag,o=this.writer.indent(g,this.writerOptions,this.currentLevel)+"<"+g.name,w=g.attribs;for(d in w)m.call(w,d)&&(c=w[d],o+=this.writer.attribute(c,this.writerOptions,this.currentLevel));o+=(g.children?">":"/>")+this.writer.endline(g,this.writerOptions,this.currentLevel),this.writerOptions.state=W.InsideTag}else this.writerOptions.state=W.OpenTag,o=this.writer.indent(g,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+g.rootNodeName,g.pubID&&g.sysID?o+=' PUBLIC "'+g.pubID+'" "'+g.sysID+'"':g.sysID&&(o+=' SYSTEM "'+g.sysID+'"'),g.children?(o+=" [",this.writerOptions.state=W.InsideTag):(this.writerOptions.state=W.CloseTag,o+=">"),o+=this.writer.endline(g,this.writerOptions,this.currentLevel);return this.onData(o,this.currentLevel),g.isOpen=!0}},h.prototype.closeNode=function(g){var c;if(!g.isClosed)return c="",this.writerOptions.state=W.CloseTag,g.type===O.Element?c=this.writer.indent(g,this.writerOptions,this.currentLevel)+"</"+g.name+">"+this.writer.endline(g,this.writerOptions,this.currentLevel):c=this.writer.indent(g,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(g,this.writerOptions,this.currentLevel),this.writerOptions.state=W.None,this.onData(c,this.currentLevel),g.isClosed=!0},h.prototype.onData=function(g,c){return this.documentStarted=!0,this.onDataCallback(g,c+1)},h.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},h.prototype.debugInfo=function(g){return g==null?"":"node: <"+g+">"},h.prototype.ele=function(){return this.element.apply(this,arguments)},h.prototype.nod=function(g,c,o){return this.node(g,c,o)},h.prototype.txt=function(g){return this.text(g)},h.prototype.dat=function(g){return this.cdata(g)},h.prototype.com=function(g){return this.comment(g)},h.prototype.ins=function(g,c){return this.instruction(g,c)},h.prototype.dec=function(g,c,o){return this.declaration(g,c,o)},h.prototype.dtd=function(g,c,o){return this.doctype(g,c,o)},h.prototype.e=function(g,c,o){return this.element(g,c,o)},h.prototype.n=function(g,c,o){return this.node(g,c,o)},h.prototype.t=function(g){return this.text(g)},h.prototype.d=function(g){return this.cdata(g)},h.prototype.c=function(g){return this.comment(g)},h.prototype.r=function(g){return this.raw(g)},h.prototype.i=function(g,c){return this.instruction(g,c)},h.prototype.att=function(){return this.currentNode&&this.currentNode.type===O.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},h.prototype.a=function(){return this.currentNode&&this.currentNode.type===O.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},h.prototype.ent=function(g,c){return this.entity(g,c)},h.prototype.pent=function(g,c){return this.pEntity(g,c)},h.prototype.not=function(g,c){return this.notation(g,c)},h}()}).call(ha)),dm.exports}var pm={exports:{}},qw;function LL(){return qw||(qw=1,(function(){var O,W,le,ge=function(Pe,U){for(var B in U)Re.call(U,B)&&(Pe[B]=U[B]);function e(){this.constructor=Pe}return e.prototype=U.prototype,Pe.prototype=new e,Pe.__super__=U.prototype,Pe},Re={}.hasOwnProperty;O=Fo(),le=p5(),W=Lg(),pm.exports=function(Pe){ge(U,Pe);function U(B,e){this.stream=B,U.__super__.constructor.call(this,e)}return U.prototype.endline=function(B,e,y){return B.isLastRootNode&&e.state===W.CloseTag?"":U.__super__.endline.call(this,B,e,y)},U.prototype.document=function(B,e){var y,L,i,S,b,v,p,r,t;for(p=B.children,L=i=0,b=p.length;i<b;L=++i)y=p[L],y.isLastRootNode=L===B.children.length-1;for(e=this.filterOptions(e),r=B.children,t=[],S=0,v=r.length;S<v;S++)y=r[S],t.push(this.writeChildNode(y,e,0));return t},U.prototype.attribute=function(B,e,y){return this.stream.write(U.__super__.attribute.call(this,B,e,y))},U.prototype.cdata=function(B,e,y){return this.stream.write(U.__super__.cdata.call(this,B,e,y))},U.prototype.comment=function(B,e,y){return this.stream.write(U.__super__.comment.call(this,B,e,y))},U.prototype.declaration=function(B,e,y){return this.stream.write(U.__super__.declaration.call(this,B,e,y))},U.prototype.docType=function(B,e,y){var L,i,S,b;if(y||(y=0),this.openNode(B,e,y),e.state=W.OpenTag,this.stream.write(this.indent(B,e,y)),this.stream.write("<!DOCTYPE "+B.root().name),B.pubID&&B.sysID?this.stream.write(' PUBLIC "'+B.pubID+'" "'+B.sysID+'"'):B.sysID&&this.stream.write(' SYSTEM "'+B.sysID+'"'),B.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(B,e,y)),e.state=W.InsideTag,b=B.children,i=0,S=b.length;i<S;i++)L=b[i],this.writeChildNode(L,e,y+1);e.state=W.CloseTag,this.stream.write("]")}return e.state=W.CloseTag,this.stream.write(e.spaceBeforeSlash+">"),this.stream.write(this.endline(B,e,y)),e.state=W.None,this.closeNode(B,e,y)},U.prototype.element=function(B,e,y){var L,i,S,b,v,p,r,t,a;y||(y=0),this.openNode(B,e,y),e.state=W.OpenTag,this.stream.write(this.indent(B,e,y)+"<"+B.name),t=B.attribs;for(r in t)Re.call(t,r)&&(L=t[r],this.attribute(L,e,y));if(S=B.children.length,b=S===0?null:B.children[0],S===0||B.children.every(function(n){return(n.type===O.Text||n.type===O.Raw)&&n.value===""}))e.allowEmpty?(this.stream.write(">"),e.state=W.CloseTag,this.stream.write("</"+B.name+">")):(e.state=W.CloseTag,this.stream.write(e.spaceBeforeSlash+"/>"));else if(e.pretty&&S===1&&(b.type===O.Text||b.type===O.Raw)&&b.value!=null)this.stream.write(">"),e.state=W.InsideTag,e.suppressPrettyCount++,this.writeChildNode(b,e,y+1),e.suppressPrettyCount--,e.state=W.CloseTag,this.stream.write("</"+B.name+">");else{for(this.stream.write(">"+this.endline(B,e,y)),e.state=W.InsideTag,a=B.children,v=0,p=a.length;v<p;v++)i=a[v],this.writeChildNode(i,e,y+1);e.state=W.CloseTag,this.stream.write(this.indent(B,e,y)+"</"+B.name+">")}return this.stream.write(this.endline(B,e,y)),e.state=W.None,this.closeNode(B,e,y)},U.prototype.processingInstruction=function(B,e,y){return this.stream.write(U.__super__.processingInstruction.call(this,B,e,y))},U.prototype.raw=function(B,e,y){return this.stream.write(U.__super__.raw.call(this,B,e,y))},U.prototype.text=function(B,e,y){return this.stream.write(U.__super__.text.call(this,B,e,y))},U.prototype.dtdAttList=function(B,e,y){return this.stream.write(U.__super__.dtdAttList.call(this,B,e,y))},U.prototype.dtdElement=function(B,e,y){return this.stream.write(U.__super__.dtdElement.call(this,B,e,y))},U.prototype.dtdEntity=function(B,e,y){return this.stream.write(U.__super__.dtdEntity.call(this,B,e,y))},U.prototype.dtdNotation=function(B,e,y){return this.stream.write(U.__super__.dtdNotation.call(this,B,e,y))},U}(le)}).call(ha)),pm.exports}var e2;function PL(){return e2||(e2=1,(function(){var O,W,le,ge,Re,Pe,U,B,e,y;y=Qf(),B=y.assign,e=y.isFunction,le=c5(),ge=g5(),Re=CL(),U=Nx(),Pe=LL(),O=Fo(),W=Lg(),Nf.create=function(L,i,S,b){var v,p;if(L==null)throw new Error("Root element needs a name.");return b=B({},i,S,b),v=new ge(b),p=v.element(L),b.headless||(v.declaration(b),(b.pubID!=null||b.sysID!=null)&&v.dtd(b)),p},Nf.begin=function(L,i,S){var b;return e(L)&&(b=[L,i],i=b[0],S=b[1],L={}),i?new Re(L,i,S):new ge(L)},Nf.stringWriter=function(L){return new U(L)},Nf.streamWriter=function(L,i){return new Pe(L,i)},Nf.implementation=new le,Nf.nodeType=O,Nf.writerState=W}).call(ha)),Nf}var t2;function DL(){return t2||(t2=1,(function(){var O,W,le,ge,Re,Pe={}.hasOwnProperty;O=PL(),W=Mx().defaults,ge=function(U){return typeof U=="string"&&(U.indexOf("&")>=0||U.indexOf(">")>=0||U.indexOf("<")>=0)},Re=function(U){return"<![CDATA["+le(U)+"]]>"},le=function(U){return U.replace("]]>","]]]]><![CDATA[>")},Ny.Builder=function(){function U(B){var e,y,L;this.options={},y=W["0.2"];for(e in y)Pe.call(y,e)&&(L=y[e],this.options[e]=L);for(e in B)Pe.call(B,e)&&(L=B[e],this.options[e]=L)}return U.prototype.buildObject=function(B){var e,y,L,i,S;return e=this.options.attrkey,y=this.options.charkey,Object.keys(B).length===1&&this.options.rootName===W["0.2"].rootName?(S=Object.keys(B)[0],B=B[S]):S=this.options.rootName,L=function(b){return function(v,p){var r,t,a,n,u,s;if(typeof p!="object")b.options.cdata&&ge(p)?v.raw(Re(p)):v.txt(p);else if(Array.isArray(p)){for(n in p)if(Pe.call(p,n)){t=p[n];for(u in t)a=t[u],v=L(v.ele(u),a).up()}}else for(u in p)if(Pe.call(p,u))if(t=p[u],u===e){if(typeof t=="object")for(r in t)s=t[r],v=v.att(r,s)}else if(u===y)b.options.cdata&&ge(t)?v=v.raw(Re(t)):v=v.txt(t);else if(Array.isArray(t))for(n in t)Pe.call(t,n)&&(a=t[n],typeof a=="string"?b.options.cdata&&ge(a)?v=v.ele(u).raw(Re(a)).up():v=v.ele(u,a).up():v=L(v.ele(u),a).up());else typeof t=="object"?v=L(v.ele(u),t).up():typeof t=="string"&&b.options.cdata&&ge(t)?v=v.ele(u).raw(Re(t)).up():(t==null&&(t=""),v=v.ele(u,t.toString()).up());return v}}(this),i=O.create(S,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),L(i,B).end(this.options.renderOpts)},U}()}).call(ha)),Ny}var gm={},ym={};const RL={},IL=Object.freeze(Object.defineProperty({__proto__:null,default:RL},Symbol.toStringTag,{value:"Module"})),y5=xM(IL);var mm={},f0={exports:{}},xm={},Dd={},r2;function _L(){if(r2)return Dd;r2=1,Dd.byteLength=B,Dd.toByteArray=y,Dd.fromByteArray=S;for(var O=[],W=[],le=typeof Uint8Array<"u"?Uint8Array:Array,ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Re=0,Pe=ge.length;Re<Pe;++Re)O[Re]=ge[Re],W[ge.charCodeAt(Re)]=Re;W[45]=62,W[95]=63;function U(b){var v=b.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=b.indexOf("=");p===-1&&(p=v);var r=p===v?0:4-p%4;return[p,r]}function B(b){var v=U(b),p=v[0],r=v[1];return(p+r)*3/4-r}function e(b,v,p){return(v+p)*3/4-p}function y(b){var v,p=U(b),r=p[0],t=p[1],a=new le(e(b,r,t)),n=0,u=t>0?r-4:r,s;for(s=0;s<u;s+=4)v=W[b.charCodeAt(s)]<<18|W[b.charCodeAt(s+1)]<<12|W[b.charCodeAt(s+2)]<<6|W[b.charCodeAt(s+3)],a[n++]=v>>16&255,a[n++]=v>>8&255,a[n++]=v&255;return t===2&&(v=W[b.charCodeAt(s)]<<2|W[b.charCodeAt(s+1)]>>4,a[n++]=v&255),t===1&&(v=W[b.charCodeAt(s)]<<10|W[b.charCodeAt(s+1)]<<4|W[b.charCodeAt(s+2)]>>2,a[n++]=v>>8&255,a[n++]=v&255),a}function L(b){return O[b>>18&63]+O[b>>12&63]+O[b>>6&63]+O[b&63]}function i(b,v,p){for(var r,t=[],a=v;a<p;a+=3)r=(b[a]<<16&16711680)+(b[a+1]<<8&65280)+(b[a+2]&255),t.push(L(r));return t.join("")}function S(b){for(var v,p=b.length,r=p%3,t=[],a=16383,n=0,u=p-r;n<u;n+=a)t.push(i(b,n,n+a>u?u:n+a));return r===1?(v=b[p-1],t.push(O[v>>2]+O[v<<4&63]+"==")):r===2&&(v=(b[p-2]<<8)+b[p-1],t.push(O[v>>10]+O[v>>4&63]+O[v<<2&63]+"=")),t.join("")}return Dd}var c0={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var n2;function kL(){return n2||(n2=1,c0.read=function(O,W,le,ge,Re){var Pe,U,B=Re*8-ge-1,e=(1<<B)-1,y=e>>1,L=-7,i=le?Re-1:0,S=le?-1:1,b=O[W+i];for(i+=S,Pe=b&(1<<-L)-1,b>>=-L,L+=B;L>0;Pe=Pe*256+O[W+i],i+=S,L-=8);for(U=Pe&(1<<-L)-1,Pe>>=-L,L+=ge;L>0;U=U*256+O[W+i],i+=S,L-=8);if(Pe===0)Pe=1-y;else{if(Pe===e)return U?NaN:(b?-1:1)*(1/0);U=U+Math.pow(2,ge),Pe=Pe-y}return(b?-1:1)*U*Math.pow(2,Pe-ge)},c0.write=function(O,W,le,ge,Re,Pe){var U,B,e,y=Pe*8-Re-1,L=(1<<y)-1,i=L>>1,S=Re===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=ge?0:Pe-1,v=ge?1:-1,p=W<0||W===0&&1/W<0?1:0;for(W=Math.abs(W),isNaN(W)||W===1/0?(B=isNaN(W)?1:0,U=L):(U=Math.floor(Math.log(W)/Math.LN2),W*(e=Math.pow(2,-U))<1&&(U--,e*=2),U+i>=1?W+=S/e:W+=S*Math.pow(2,1-i),W*e>=2&&(U++,e/=2),U+i>=L?(B=0,U=L):U+i>=1?(B=(W*e-1)*Math.pow(2,Re),U=U+i):(B=W*Math.pow(2,i-1)*Math.pow(2,Re),U=0));Re>=8;O[le+b]=B&255,b+=v,B/=256,Re-=8);for(U=U<<Re|B,y+=Re;y>0;O[le+b]=U&255,b+=v,U/=256,y-=8);O[le+b-v]|=p*128}),c0}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var i2;function OL(){return i2||(i2=1,function(O){var W=_L(),le=kL(),ge=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;O.Buffer=B,O.SlowBuffer=a,O.INSPECT_MAX_BYTES=50;var Re=2147483647;O.kMaxLength=Re,B.TYPED_ARRAY_SUPPORT=Pe(),!B.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Pe(){try{var Y=new Uint8Array(1),Z={foo:function(){return 42}};return Object.setPrototypeOf(Z,Uint8Array.prototype),Object.setPrototypeOf(Y,Z),Y.foo()===42}catch{return!1}}Object.defineProperty(B.prototype,"parent",{enumerable:!0,get:function(){if(B.isBuffer(this))return this.buffer}}),Object.defineProperty(B.prototype,"offset",{enumerable:!0,get:function(){if(B.isBuffer(this))return this.byteOffset}});function U(Y){if(Y>Re)throw new RangeError('The value "'+Y+'" is invalid for option "size"');var Z=new Uint8Array(Y);return Object.setPrototypeOf(Z,B.prototype),Z}function B(Y,Z,G){if(typeof Y=="number"){if(typeof Z=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return i(Y)}return e(Y,Z,G)}B.poolSize=8192;function e(Y,Z,G){if(typeof Y=="string")return S(Y,Z);if(ArrayBuffer.isView(Y))return v(Y);if(Y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y);if(ne(Y,ArrayBuffer)||Y&&ne(Y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ne(Y,SharedArrayBuffer)||Y&&ne(Y.buffer,SharedArrayBuffer)))return p(Y,Z,G);if(typeof Y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var K=Y.valueOf&&Y.valueOf();if(K!=null&&K!==Y)return B.from(K,Z,G);var oe=r(Y);if(oe)return oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Y[Symbol.toPrimitive]=="function")return B.from(Y[Symbol.toPrimitive]("string"),Z,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y)}B.from=function(Y,Z,G){return e(Y,Z,G)},Object.setPrototypeOf(B.prototype,Uint8Array.prototype),Object.setPrototypeOf(B,Uint8Array);function y(Y){if(typeof Y!="number")throw new TypeError('"size" argument must be of type number');if(Y<0)throw new RangeError('The value "'+Y+'" is invalid for option "size"')}function L(Y,Z,G){return y(Y),Y<=0?U(Y):Z!==void 0?typeof G=="string"?U(Y).fill(Z,G):U(Y).fill(Z):U(Y)}B.alloc=function(Y,Z,G){return L(Y,Z,G)};function i(Y){return y(Y),U(Y<0?0:t(Y)|0)}B.allocUnsafe=function(Y){return i(Y)},B.allocUnsafeSlow=function(Y){return i(Y)};function S(Y,Z){if((typeof Z!="string"||Z==="")&&(Z="utf8"),!B.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);var G=n(Y,Z)|0,K=U(G),oe=K.write(Y,Z);return oe!==G&&(K=K.slice(0,oe)),K}function b(Y){for(var Z=Y.length<0?0:t(Y.length)|0,G=U(Z),K=0;K<Z;K+=1)G[K]=Y[K]&255;return G}function v(Y){if(ne(Y,Uint8Array)){var Z=new Uint8Array(Y);return p(Z.buffer,Z.byteOffset,Z.byteLength)}return b(Y)}function p(Y,Z,G){if(Z<0||Y.byteLength<Z)throw new RangeError('"offset" is outside of buffer bounds');if(Y.byteLength<Z+(G||0))throw new RangeError('"length" is outside of buffer bounds');var K;return Z===void 0&&G===void 0?K=new Uint8Array(Y):G===void 0?K=new Uint8Array(Y,Z):K=new Uint8Array(Y,Z,G),Object.setPrototypeOf(K,B.prototype),K}function r(Y){if(B.isBuffer(Y)){var Z=t(Y.length)|0,G=U(Z);return G.length===0||Y.copy(G,0,0,Z),G}if(Y.length!==void 0)return typeof Y.length!="number"||ue(Y.length)?U(0):b(Y);if(Y.type==="Buffer"&&Array.isArray(Y.data))return b(Y.data)}function t(Y){if(Y>=Re)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Re.toString(16)+" bytes");return Y|0}function a(Y){return+Y!=Y&&(Y=0),B.alloc(+Y)}B.isBuffer=function(Z){return Z!=null&&Z._isBuffer===!0&&Z!==B.prototype},B.compare=function(Z,G){if(ne(Z,Uint8Array)&&(Z=B.from(Z,Z.offset,Z.byteLength)),ne(G,Uint8Array)&&(G=B.from(G,G.offset,G.byteLength)),!B.isBuffer(Z)||!B.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Z===G)return 0;for(var K=Z.length,oe=G.length,$=0,J=Math.min(K,oe);$<J;++$)if(Z[$]!==G[$]){K=Z[$],oe=G[$];break}return K<oe?-1:oe<K?1:0},B.isEncoding=function(Z){switch(String(Z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},B.concat=function(Z,G){if(!Array.isArray(Z))throw new TypeError('"list" argument must be an Array of Buffers');if(Z.length===0)return B.alloc(0);var K;if(G===void 0)for(G=0,K=0;K<Z.length;++K)G+=Z[K].length;var oe=B.allocUnsafe(G),$=0;for(K=0;K<Z.length;++K){var J=Z[K];if(ne(J,Uint8Array))$+J.length>oe.length?B.from(J).copy(oe,$):Uint8Array.prototype.set.call(oe,J,$);else if(B.isBuffer(J))J.copy(oe,$);else throw new TypeError('"list" argument must be an Array of Buffers');$+=J.length}return oe};function n(Y,Z){if(B.isBuffer(Y))return Y.length;if(ArrayBuffer.isView(Y)||ne(Y,ArrayBuffer))return Y.byteLength;if(typeof Y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Y);var G=Y.length,K=arguments.length>2&&arguments[2]===!0;if(!K&&G===0)return 0;for(var oe=!1;;)switch(Z){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return I(Y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G*2;case"hex":return G>>>1;case"base64":return ee(Y).length;default:if(oe)return K?-1:I(Y).length;Z=(""+Z).toLowerCase(),oe=!0}}B.byteLength=n;function u(Y,Z,G){var K=!1;if((Z===void 0||Z<0)&&(Z=0),Z>this.length||((G===void 0||G>this.length)&&(G=this.length),G<=0)||(G>>>=0,Z>>>=0,G<=Z))return"";for(Y||(Y="utf8");;)switch(Y){case"hex":return f(this,Z,G);case"utf8":case"utf-8":return A(this,Z,G);case"ascii":return E(this,Z,G);case"latin1":case"binary":return M(this,Z,G);case"base64":return w(this,Z,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,Z,G);default:if(K)throw new TypeError("Unknown encoding: "+Y);Y=(Y+"").toLowerCase(),K=!0}}B.prototype._isBuffer=!0;function s(Y,Z,G){var K=Y[Z];Y[Z]=Y[G],Y[G]=K}B.prototype.swap16=function(){var Z=this.length;if(Z%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var G=0;G<Z;G+=2)s(this,G,G+1);return this},B.prototype.swap32=function(){var Z=this.length;if(Z%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var G=0;G<Z;G+=4)s(this,G,G+3),s(this,G+1,G+2);return this},B.prototype.swap64=function(){var Z=this.length;if(Z%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var G=0;G<Z;G+=8)s(this,G,G+7),s(this,G+1,G+6),s(this,G+2,G+5),s(this,G+3,G+4);return this},B.prototype.toString=function(){var Z=this.length;return Z===0?"":arguments.length===0?A(this,0,Z):u.apply(this,arguments)},B.prototype.toLocaleString=B.prototype.toString,B.prototype.equals=function(Z){if(!B.isBuffer(Z))throw new TypeError("Argument must be a Buffer");return this===Z?!0:B.compare(this,Z)===0},B.prototype.inspect=function(){var Z="",G=O.INSPECT_MAX_BYTES;return Z=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim(),this.length>G&&(Z+=" ... "),"<Buffer "+Z+">"},ge&&(B.prototype[ge]=B.prototype.inspect),B.prototype.compare=function(Z,G,K,oe,$){if(ne(Z,Uint8Array)&&(Z=B.from(Z,Z.offset,Z.byteLength)),!B.isBuffer(Z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Z);if(G===void 0&&(G=0),K===void 0&&(K=Z?Z.length:0),oe===void 0&&(oe=0),$===void 0&&($=this.length),G<0||K>Z.length||oe<0||$>this.length)throw new RangeError("out of range index");if(oe>=$&&G>=K)return 0;if(oe>=$)return-1;if(G>=K)return 1;if(G>>>=0,K>>>=0,oe>>>=0,$>>>=0,this===Z)return 0;for(var J=$-oe,se=K-G,ie=Math.min(J,se),ce=this.slice(oe,$),ye=Z.slice(G,K),Se=0;Se<ie;++Se)if(ce[Se]!==ye[Se]){J=ce[Se],se=ye[Se];break}return J<se?-1:se<J?1:0};function l(Y,Z,G,K,oe){if(Y.length===0)return-1;if(typeof G=="string"?(K=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),G=+G,ue(G)&&(G=oe?0:Y.length-1),G<0&&(G=Y.length+G),G>=Y.length){if(oe)return-1;G=Y.length-1}else if(G<0)if(oe)G=0;else return-1;if(typeof Z=="string"&&(Z=B.from(Z,K)),B.isBuffer(Z))return Z.length===0?-1:m(Y,Z,G,K,oe);if(typeof Z=="number")return Z=Z&255,typeof Uint8Array.prototype.indexOf=="function"?oe?Uint8Array.prototype.indexOf.call(Y,Z,G):Uint8Array.prototype.lastIndexOf.call(Y,Z,G):m(Y,[Z],G,K,oe);throw new TypeError("val must be string, number or Buffer")}function m(Y,Z,G,K,oe){var $=1,J=Y.length,se=Z.length;if(K!==void 0&&(K=String(K).toLowerCase(),K==="ucs2"||K==="ucs-2"||K==="utf16le"||K==="utf-16le")){if(Y.length<2||Z.length<2)return-1;$=2,J/=2,se/=2,G/=2}function ie(ke,we){return $===1?ke[we]:ke.readUInt16BE(we*$)}var ce;if(oe){var ye=-1;for(ce=G;ce<J;ce++)if(ie(Y,ce)===ie(Z,ye===-1?0:ce-ye)){if(ye===-1&&(ye=ce),ce-ye+1===se)return ye*$}else ye!==-1&&(ce-=ce-ye),ye=-1}else for(G+se>J&&(G=J-se),ce=G;ce>=0;ce--){for(var Se=!0,Te=0;Te<se;Te++)if(ie(Y,ce+Te)!==ie(Z,Te)){Se=!1;break}if(Se)return ce}return-1}B.prototype.includes=function(Z,G,K){return this.indexOf(Z,G,K)!==-1},B.prototype.indexOf=function(Z,G,K){return l(this,Z,G,K,!0)},B.prototype.lastIndexOf=function(Z,G,K){return l(this,Z,G,K,!1)};function h(Y,Z,G,K){G=Number(G)||0;var oe=Y.length-G;K?(K=Number(K),K>oe&&(K=oe)):K=oe;var $=Z.length;K>$/2&&(K=$/2);for(var J=0;J<K;++J){var se=parseInt(Z.substr(J*2,2),16);if(ue(se))return J;Y[G+J]=se}return J}function g(Y,Z,G,K){return te(I(Z,Y.length-G),Y,G,K)}function c(Y,Z,G,K){return te(H(Z),Y,G,K)}function o(Y,Z,G,K){return te(ee(Z),Y,G,K)}function d(Y,Z,G,K){return te(j(Z,Y.length-G),Y,G,K)}B.prototype.write=function(Z,G,K,oe){if(G===void 0)oe="utf8",K=this.length,G=0;else if(K===void 0&&typeof G=="string")oe=G,K=this.length,G=0;else if(isFinite(G))G=G>>>0,isFinite(K)?(K=K>>>0,oe===void 0&&(oe="utf8")):(oe=K,K=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var $=this.length-G;if((K===void 0||K>$)&&(K=$),Z.length>0&&(K<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");oe||(oe="utf8");for(var J=!1;;)switch(oe){case"hex":return h(this,Z,G,K);case"utf8":case"utf-8":return g(this,Z,G,K);case"ascii":case"latin1":case"binary":return c(this,Z,G,K);case"base64":return o(this,Z,G,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,Z,G,K);default:if(J)throw new TypeError("Unknown encoding: "+oe);oe=(""+oe).toLowerCase(),J=!0}},B.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function w(Y,Z,G){return Z===0&&G===Y.length?W.fromByteArray(Y):W.fromByteArray(Y.slice(Z,G))}function A(Y,Z,G){G=Math.min(Y.length,G);for(var K=[],oe=Z;oe<G;){var $=Y[oe],J=null,se=$>239?4:$>223?3:$>191?2:1;if(oe+se<=G){var ie,ce,ye,Se;switch(se){case 1:$<128&&(J=$);break;case 2:ie=Y[oe+1],(ie&192)===128&&(Se=($&31)<<6|ie&63,Se>127&&(J=Se));break;case 3:ie=Y[oe+1],ce=Y[oe+2],(ie&192)===128&&(ce&192)===128&&(Se=($&15)<<12|(ie&63)<<6|ce&63,Se>2047&&(Se<55296||Se>57343)&&(J=Se));break;case 4:ie=Y[oe+1],ce=Y[oe+2],ye=Y[oe+3],(ie&192)===128&&(ce&192)===128&&(ye&192)===128&&(Se=($&15)<<18|(ie&63)<<12|(ce&63)<<6|ye&63,Se>65535&&Se<1114112&&(J=Se))}}J===null?(J=65533,se=1):J>65535&&(J-=65536,K.push(J>>>10&1023|55296),J=56320|J&1023),K.push(J),oe+=se}return x(K)}var C=4096;function x(Y){var Z=Y.length;if(Z<=C)return String.fromCharCode.apply(String,Y);for(var G="",K=0;K<Z;)G+=String.fromCharCode.apply(String,Y.slice(K,K+=C));return G}function E(Y,Z,G){var K="";G=Math.min(Y.length,G);for(var oe=Z;oe<G;++oe)K+=String.fromCharCode(Y[oe]&127);return K}function M(Y,Z,G){var K="";G=Math.min(Y.length,G);for(var oe=Z;oe<G;++oe)K+=String.fromCharCode(Y[oe]);return K}function f(Y,Z,G){var K=Y.length;(!Z||Z<0)&&(Z=0),(!G||G<0||G>K)&&(G=K);for(var oe="",$=Z;$<G;++$)oe+=q[Y[$]];return oe}function P(Y,Z,G){for(var K=Y.slice(Z,G),oe="",$=0;$<K.length-1;$+=2)oe+=String.fromCharCode(K[$]+K[$+1]*256);return oe}B.prototype.slice=function(Z,G){var K=this.length;Z=~~Z,G=G===void 0?K:~~G,Z<0?(Z+=K,Z<0&&(Z=0)):Z>K&&(Z=K),G<0?(G+=K,G<0&&(G=0)):G>K&&(G=K),G<Z&&(G=Z);var oe=this.subarray(Z,G);return Object.setPrototypeOf(oe,B.prototype),oe};function T(Y,Z,G){if(Y%1!==0||Y<0)throw new RangeError("offset is not uint");if(Y+Z>G)throw new RangeError("Trying to access beyond buffer length")}B.prototype.readUintLE=B.prototype.readUIntLE=function(Z,G,K){Z=Z>>>0,G=G>>>0,K||T(Z,G,this.length);for(var oe=this[Z],$=1,J=0;++J<G&&($*=256);)oe+=this[Z+J]*$;return oe},B.prototype.readUintBE=B.prototype.readUIntBE=function(Z,G,K){Z=Z>>>0,G=G>>>0,K||T(Z,G,this.length);for(var oe=this[Z+--G],$=1;G>0&&($*=256);)oe+=this[Z+--G]*$;return oe},B.prototype.readUint8=B.prototype.readUInt8=function(Z,G){return Z=Z>>>0,G||T(Z,1,this.length),this[Z]},B.prototype.readUint16LE=B.prototype.readUInt16LE=function(Z,G){return Z=Z>>>0,G||T(Z,2,this.length),this[Z]|this[Z+1]<<8},B.prototype.readUint16BE=B.prototype.readUInt16BE=function(Z,G){return Z=Z>>>0,G||T(Z,2,this.length),this[Z]<<8|this[Z+1]},B.prototype.readUint32LE=B.prototype.readUInt32LE=function(Z,G){return Z=Z>>>0,G||T(Z,4,this.length),(this[Z]|this[Z+1]<<8|this[Z+2]<<16)+this[Z+3]*16777216},B.prototype.readUint32BE=B.prototype.readUInt32BE=function(Z,G){return Z=Z>>>0,G||T(Z,4,this.length),this[Z]*16777216+(this[Z+1]<<16|this[Z+2]<<8|this[Z+3])},B.prototype.readIntLE=function(Z,G,K){Z=Z>>>0,G=G>>>0,K||T(Z,G,this.length);for(var oe=this[Z],$=1,J=0;++J<G&&($*=256);)oe+=this[Z+J]*$;return $*=128,oe>=$&&(oe-=Math.pow(2,8*G)),oe},B.prototype.readIntBE=function(Z,G,K){Z=Z>>>0,G=G>>>0,K||T(Z,G,this.length);for(var oe=G,$=1,J=this[Z+--oe];oe>0&&($*=256);)J+=this[Z+--oe]*$;return $*=128,J>=$&&(J-=Math.pow(2,8*G)),J},B.prototype.readInt8=function(Z,G){return Z=Z>>>0,G||T(Z,1,this.length),this[Z]&128?(255-this[Z]+1)*-1:this[Z]},B.prototype.readInt16LE=function(Z,G){Z=Z>>>0,G||T(Z,2,this.length);var K=this[Z]|this[Z+1]<<8;return K&32768?K|4294901760:K},B.prototype.readInt16BE=function(Z,G){Z=Z>>>0,G||T(Z,2,this.length);var K=this[Z+1]|this[Z]<<8;return K&32768?K|4294901760:K},B.prototype.readInt32LE=function(Z,G){return Z=Z>>>0,G||T(Z,4,this.length),this[Z]|this[Z+1]<<8|this[Z+2]<<16|this[Z+3]<<24},B.prototype.readInt32BE=function(Z,G){return Z=Z>>>0,G||T(Z,4,this.length),this[Z]<<24|this[Z+1]<<16|this[Z+2]<<8|this[Z+3]},B.prototype.readFloatLE=function(Z,G){return Z=Z>>>0,G||T(Z,4,this.length),le.read(this,Z,!0,23,4)},B.prototype.readFloatBE=function(Z,G){return Z=Z>>>0,G||T(Z,4,this.length),le.read(this,Z,!1,23,4)},B.prototype.readDoubleLE=function(Z,G){return Z=Z>>>0,G||T(Z,8,this.length),le.read(this,Z,!0,52,8)},B.prototype.readDoubleBE=function(Z,G){return Z=Z>>>0,G||T(Z,8,this.length),le.read(this,Z,!1,52,8)};function z(Y,Z,G,K,oe,$){if(!B.isBuffer(Y))throw new TypeError('"buffer" argument must be a Buffer instance');if(Z>oe||Z<$)throw new RangeError('"value" argument is out of bounds');if(G+K>Y.length)throw new RangeError("Index out of range")}B.prototype.writeUintLE=B.prototype.writeUIntLE=function(Z,G,K,oe){if(Z=+Z,G=G>>>0,K=K>>>0,!oe){var $=Math.pow(2,8*K)-1;z(this,Z,G,K,$,0)}var J=1,se=0;for(this[G]=Z&255;++se<K&&(J*=256);)this[G+se]=Z/J&255;return G+K},B.prototype.writeUintBE=B.prototype.writeUIntBE=function(Z,G,K,oe){if(Z=+Z,G=G>>>0,K=K>>>0,!oe){var $=Math.pow(2,8*K)-1;z(this,Z,G,K,$,0)}var J=K-1,se=1;for(this[G+J]=Z&255;--J>=0&&(se*=256);)this[G+J]=Z/se&255;return G+K},B.prototype.writeUint8=B.prototype.writeUInt8=function(Z,G,K){return Z=+Z,G=G>>>0,K||z(this,Z,G,1,255,0),this[G]=Z&255,G+1},B.prototype.writeUint16LE=B.prototype.writeUInt16LE=function(Z,G,K){return Z=+Z,G=G>>>0,K||z(this,Z,G,2,65535,0),this[G]=Z&255,this[G+1]=Z>>>8,G+2},B.prototype.writeUint16BE=B.prototype.writeUInt16BE=function(Z,G,K){return Z=+Z,G=G>>>0,K||z(this,Z,G,2,65535,0),this[G]=Z>>>8,this[G+1]=Z&255,G+2},B.prototype.writeUint32LE=B.prototype.writeUInt32LE=function(Z,G,K){return Z=+Z,G=G>>>0,K||z(this,Z,G,4,4294967295,0),this[G+3]=Z>>>24,this[G+2]=Z>>>16,this[G+1]=Z>>>8,this[G]=Z&255,G+4},B.prototype.writeUint32BE=B.prototype.writeUInt32BE=function(Z,G,K){return Z=+Z,G=G>>>0,K||z(this,Z,G,4,4294967295,0),this[G]=Z>>>24,this[G+1]=Z>>>16,this[G+2]=Z>>>8,this[G+3]=Z&255,G+4},B.prototype.writeIntLE=function(Z,G,K,oe){if(Z=+Z,G=G>>>0,!oe){var $=Math.pow(2,8*K-1);z(this,Z,G,K,$-1,-$)}var J=0,se=1,ie=0;for(this[G]=Z&255;++J<K&&(se*=256);)Z<0&&ie===0&&this[G+J-1]!==0&&(ie=1),this[G+J]=(Z/se>>0)-ie&255;return G+K},B.prototype.writeIntBE=function(Z,G,K,oe){if(Z=+Z,G=G>>>0,!oe){var $=Math.pow(2,8*K-1);z(this,Z,G,K,$-1,-$)}var J=K-1,se=1,ie=0;for(this[G+J]=Z&255;--J>=0&&(se*=256);)Z<0&&ie===0&&this[G+J+1]!==0&&(ie=1),this[G+J]=(Z/se>>0)-ie&255;return G+K},B.prototype.writeInt8=function(Z,G,K){return Z=+Z,G=G>>>0,K||z(this,Z,G,1,127,-128),Z<0&&(Z=255+Z+1),this[G]=Z&255,G+1},B.prototype.writeInt16LE=function(Z,G,K){return Z=+Z,G=G>>>0,K||z(this,Z,G,2,32767,-32768),this[G]=Z&255,this[G+1]=Z>>>8,G+2},B.prototype.writeInt16BE=function(Z,G,K){return Z=+Z,G=G>>>0,K||z(this,Z,G,2,32767,-32768),this[G]=Z>>>8,this[G+1]=Z&255,G+2},B.prototype.writeInt32LE=function(Z,G,K){return Z=+Z,G=G>>>0,K||z(this,Z,G,4,2147483647,-2147483648),this[G]=Z&255,this[G+1]=Z>>>8,this[G+2]=Z>>>16,this[G+3]=Z>>>24,G+4},B.prototype.writeInt32BE=function(Z,G,K){return Z=+Z,G=G>>>0,K||z(this,Z,G,4,2147483647,-2147483648),Z<0&&(Z=4294967295+Z+1),this[G]=Z>>>24,this[G+1]=Z>>>16,this[G+2]=Z>>>8,this[G+3]=Z&255,G+4};function _(Y,Z,G,K,oe,$){if(G+K>Y.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function V(Y,Z,G,K,oe){return Z=+Z,G=G>>>0,oe||_(Y,Z,G,4),le.write(Y,Z,G,K,23,4),G+4}B.prototype.writeFloatLE=function(Z,G,K){return V(this,Z,G,!0,K)},B.prototype.writeFloatBE=function(Z,G,K){return V(this,Z,G,!1,K)};function F(Y,Z,G,K,oe){return Z=+Z,G=G>>>0,oe||_(Y,Z,G,8),le.write(Y,Z,G,K,52,8),G+8}B.prototype.writeDoubleLE=function(Z,G,K){return F(this,Z,G,!0,K)},B.prototype.writeDoubleBE=function(Z,G,K){return F(this,Z,G,!1,K)},B.prototype.copy=function(Z,G,K,oe){if(!B.isBuffer(Z))throw new TypeError("argument should be a Buffer");if(K||(K=0),!oe&&oe!==0&&(oe=this.length),G>=Z.length&&(G=Z.length),G||(G=0),oe>0&&oe<K&&(oe=K),oe===K||Z.length===0||this.length===0)return 0;if(G<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length),Z.length-G<oe-K&&(oe=Z.length-G+K);var $=oe-K;return this===Z&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(G,K,oe):Uint8Array.prototype.set.call(Z,this.subarray(K,oe),G),$},B.prototype.fill=function(Z,G,K,oe){if(typeof Z=="string"){if(typeof G=="string"?(oe=G,G=0,K=this.length):typeof K=="string"&&(oe=K,K=this.length),oe!==void 0&&typeof oe!="string")throw new TypeError("encoding must be a string");if(typeof oe=="string"&&!B.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);if(Z.length===1){var $=Z.charCodeAt(0);(oe==="utf8"&&$<128||oe==="latin1")&&(Z=$)}}else typeof Z=="number"?Z=Z&255:typeof Z=="boolean"&&(Z=Number(Z));if(G<0||this.length<G||this.length<K)throw new RangeError("Out of range index");if(K<=G)return this;G=G>>>0,K=K===void 0?this.length:K>>>0,Z||(Z=0);var J;if(typeof Z=="number")for(J=G;J<K;++J)this[J]=Z;else{var se=B.isBuffer(Z)?Z:B.from(Z,oe),ie=se.length;if(ie===0)throw new TypeError('The value "'+Z+'" is invalid for argument "value"');for(J=0;J<K-G;++J)this[J+G]=se[J%ie]}return this};var N=/[^+/0-9A-Za-z-_]/g;function k(Y){if(Y=Y.split("=")[0],Y=Y.trim().replace(N,""),Y.length<2)return"";for(;Y.length%4!==0;)Y=Y+"=";return Y}function I(Y,Z){Z=Z||1/0;for(var G,K=Y.length,oe=null,$=[],J=0;J<K;++J){if(G=Y.charCodeAt(J),G>55295&&G<57344){if(!oe){if(G>56319){(Z-=3)>-1&&$.push(239,191,189);continue}else if(J+1===K){(Z-=3)>-1&&$.push(239,191,189);continue}oe=G;continue}if(G<56320){(Z-=3)>-1&&$.push(239,191,189),oe=G;continue}G=(oe-55296<<10|G-56320)+65536}else oe&&(Z-=3)>-1&&$.push(239,191,189);if(oe=null,G<128){if((Z-=1)<0)break;$.push(G)}else if(G<2048){if((Z-=2)<0)break;$.push(G>>6|192,G&63|128)}else if(G<65536){if((Z-=3)<0)break;$.push(G>>12|224,G>>6&63|128,G&63|128)}else if(G<1114112){if((Z-=4)<0)break;$.push(G>>18|240,G>>12&63|128,G>>6&63|128,G&63|128)}else throw new Error("Invalid code point")}return $}function H(Y){for(var Z=[],G=0;G<Y.length;++G)Z.push(Y.charCodeAt(G)&255);return Z}function j(Y,Z){for(var G,K,oe,$=[],J=0;J<Y.length&&!((Z-=2)<0);++J)G=Y.charCodeAt(J),K=G>>8,oe=G%256,$.push(oe),$.push(K);return $}function ee(Y){return W.toByteArray(k(Y))}function te(Y,Z,G,K){for(var oe=0;oe<K&&!(oe+G>=Z.length||oe>=Y.length);++oe)Z[oe+G]=Y[oe];return oe}function ne(Y,Z){return Y instanceof Z||Y!=null&&Y.constructor!=null&&Y.constructor.name!=null&&Y.constructor.name===Z.name}function ue(Y){return Y!==Y}var q=function(){for(var Y="0123456789abcdef",Z=new Array(256),G=0;G<16;++G)for(var K=G*16,oe=0;oe<16;++oe)Z[K+oe]=Y[G]+Y[oe];return Z}()}(xm)),xm}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var a2;function zL(){return a2||(a2=1,function(O,W){var le=OL(),ge=le.Buffer;function Re(U,B){for(var e in U)B[e]=U[e]}ge.from&&ge.alloc&&ge.allocUnsafe&&ge.allocUnsafeSlow?O.exports=le:(Re(le,W),W.Buffer=Pe);function Pe(U,B,e){return ge(U,B,e)}Pe.prototype=Object.create(ge.prototype),Re(ge,Pe),Pe.from=function(U,B,e){if(typeof U=="number")throw new TypeError("Argument must not be a number");return ge(U,B,e)},Pe.alloc=function(U,B,e){if(typeof U!="number")throw new TypeError("Argument must be a number");var y=ge(U);return B!==void 0?typeof e=="string"?y.fill(B,e):y.fill(B):y.fill(0),y},Pe.allocUnsafe=function(U){if(typeof U!="number")throw new TypeError("Argument must be a number");return ge(U)},Pe.allocUnsafeSlow=function(U){if(typeof U!="number")throw new TypeError("Argument must be a number");return le.SlowBuffer(U)}}(f0,f0.exports)),f0.exports}var o2;function FL(){if(o2)return mm;o2=1;var O=zL().Buffer,W=O.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function le(t){if(!t)return"utf8";for(var a;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(a)return;t=(""+t).toLowerCase(),a=!0}}function ge(t){var a=le(t);if(typeof a!="string"&&(O.isEncoding===W||!W(t)))throw new Error("Unknown encoding: "+t);return a||t}mm.StringDecoder=Re;function Re(t){this.encoding=ge(t);var a;switch(this.encoding){case"utf16le":this.text=i,this.end=S,a=4;break;case"utf8":this.fillLast=e,a=4;break;case"base64":this.text=b,this.end=v,a=3;break;default:this.write=p,this.end=r;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=O.allocUnsafe(a)}Re.prototype.write=function(t){if(t.length===0)return"";var a,n;if(this.lastNeed){if(a=this.fillLast(t),a===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?a?a+this.text(t,n):this.text(t,n):a||""},Re.prototype.end=L,Re.prototype.text=y,Re.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Pe(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function U(t,a,n){var u=a.length-1;if(u<n)return 0;var s=Pe(a[u]);return s>=0?(s>0&&(t.lastNeed=s-1),s):--u<n||s===-2?0:(s=Pe(a[u]),s>=0?(s>0&&(t.lastNeed=s-2),s):--u<n||s===-2?0:(s=Pe(a[u]),s>=0?(s>0&&(s===2?s=0:t.lastNeed=s-3),s):0))}function B(t,a,n){if((a[0]&192)!==128)return t.lastNeed=0,"�";if(t.lastNeed>1&&a.length>1){if((a[1]&192)!==128)return t.lastNeed=1,"�";if(t.lastNeed>2&&a.length>2&&(a[2]&192)!==128)return t.lastNeed=2,"�"}}function e(t){var a=this.lastTotal-this.lastNeed,n=B(this,t);if(n!==void 0)return n;if(this.lastNeed<=t.length)return t.copy(this.lastChar,a,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,a,0,t.length),this.lastNeed-=t.length}function y(t,a){var n=U(this,t,a);if(!this.lastNeed)return t.toString("utf8",a);this.lastTotal=n;var u=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,u),t.toString("utf8",a,u)}function L(t){var a=t&&t.length?this.write(t):"";return this.lastNeed?a+"�":a}function i(t,a){if((t.length-a)%2===0){var n=t.toString("utf16le",a);if(n){var u=n.charCodeAt(n.length-1);if(u>=55296&&u<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",a,t.length-1)}function S(t){var a=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return a+this.lastChar.toString("utf16le",0,n)}return a}function b(t,a){var n=(t.length-a)%3;return n===0?t.toString("base64",a):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",a,t.length-n))}function v(t){var a=t&&t.length?this.write(t):"";return this.lastNeed?a+this.lastChar.toString("base64",0,3-this.lastNeed):a}function p(t){return t.toString(this.encoding)}function r(t){return t&&t.length?this.write(t):""}return mm}var s2;function NL(){return s2||(s2=1,function(O){(function(W){W.parser=function(k,I){return new ge(k,I)},W.SAXParser=ge,W.SAXStream=L,W.createStream=y,W.MAX_BUFFER_LENGTH=64*1024;var le=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];W.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function ge(k,I){if(!(this instanceof ge))return new ge(k,I);var H=this;Pe(H),H.q=H.c="",H.bufferCheckPosition=W.MAX_BUFFER_LENGTH,H.opt=I||{},H.opt.lowercase=H.opt.lowercase||H.opt.lowercasetags,H.looseCase=H.opt.lowercase?"toLowerCase":"toUpperCase",H.tags=[],H.closed=H.closedRoot=H.sawRoot=!1,H.tag=H.error=null,H.strict=!!k,H.noscript=!!(k||H.opt.noscript),H.state=g.BEGIN,H.strictEntities=H.opt.strictEntities,H.ENTITIES=H.strictEntities?Object.create(W.XML_ENTITIES):Object.create(W.ENTITIES),H.attribList=[],H.opt.xmlns&&(H.ns=Object.create(p)),H.trackPosition=H.opt.position!==!1,H.trackPosition&&(H.position=H.line=H.column=0),o(H,"onready")}Object.create||(Object.create=function(k){function I(){}I.prototype=k;var H=new I;return H}),Object.keys||(Object.keys=function(k){var I=[];for(var H in k)k.hasOwnProperty(H)&&I.push(H);return I});function Re(k){for(var I=Math.max(W.MAX_BUFFER_LENGTH,10),H=0,j=0,ee=le.length;j<ee;j++){var te=k[le[j]].length;if(te>I)switch(le[j]){case"textNode":w(k);break;case"cdata":d(k,"oncdata",k.cdata),k.cdata="";break;case"script":d(k,"onscript",k.script),k.script="";break;default:C(k,"Max buffer length exceeded: "+le[j])}H=Math.max(H,te)}var ne=W.MAX_BUFFER_LENGTH-H;k.bufferCheckPosition=ne+k.position}function Pe(k){for(var I=0,H=le.length;I<H;I++)k[le[I]]=""}function U(k){w(k),k.cdata!==""&&(d(k,"oncdata",k.cdata),k.cdata=""),k.script!==""&&(d(k,"onscript",k.script),k.script="")}ge.prototype={end:function(){x(this)},write:N,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){U(this)}};var B;try{B=y5.Stream}catch{B=function(){}}B||(B=function(){});var e=W.EVENTS.filter(function(k){return k!=="error"&&k!=="end"});function y(k,I){return new L(k,I)}function L(k,I){if(!(this instanceof L))return new L(k,I);B.apply(this),this._parser=new ge(k,I),this.writable=!0,this.readable=!0;var H=this;this._parser.onend=function(){H.emit("end")},this._parser.onerror=function(j){H.emit("error",j),H._parser.error=null},this._decoder=null,e.forEach(function(j){Object.defineProperty(H,"on"+j,{get:function(){return H._parser["on"+j]},set:function(ee){if(!ee)return H.removeAllListeners(j),H._parser["on"+j]=ee,ee;H.on(j,ee)},enumerable:!0,configurable:!1})})}L.prototype=Object.create(B.prototype,{constructor:{value:L}}),L.prototype.write=function(k){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(k)){if(!this._decoder){var I=FL().StringDecoder;this._decoder=new I("utf8")}k=this._decoder.write(k)}return this._parser.write(k.toString()),this.emit("data",k),!0},L.prototype.end=function(k){return k&&k.length&&this.write(k),this._parser.end(),!0},L.prototype.on=function(k,I){var H=this;return!H._parser["on"+k]&&e.indexOf(k)!==-1&&(H._parser["on"+k]=function(){var j=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);j.splice(0,0,k),H.emit.apply(H,j)}),B.prototype.on.call(H,k,I)};var i="[CDATA[",S="DOCTYPE",b="http://www.w3.org/XML/1998/namespace",v="http://www.w3.org/2000/xmlns/",p={xml:b,xmlns:v},r=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,t=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,a=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function u(k){return k===" "||k===`
`||k==="\r"||k==="	"}function s(k){return k==='"'||k==="'"}function l(k){return k===">"||u(k)}function m(k,I){return k.test(I)}function h(k,I){return!m(k,I)}var g=0;W.STATE={BEGIN:g++,BEGIN_WHITESPACE:g++,TEXT:g++,TEXT_ENTITY:g++,OPEN_WAKA:g++,SGML_DECL:g++,SGML_DECL_QUOTED:g++,DOCTYPE:g++,DOCTYPE_QUOTED:g++,DOCTYPE_DTD:g++,DOCTYPE_DTD_QUOTED:g++,COMMENT_STARTING:g++,COMMENT:g++,COMMENT_ENDING:g++,COMMENT_ENDED:g++,CDATA:g++,CDATA_ENDING:g++,CDATA_ENDING_2:g++,PROC_INST:g++,PROC_INST_BODY:g++,PROC_INST_ENDING:g++,OPEN_TAG:g++,OPEN_TAG_SLASH:g++,ATTRIB:g++,ATTRIB_NAME:g++,ATTRIB_NAME_SAW_WHITE:g++,ATTRIB_VALUE:g++,ATTRIB_VALUE_QUOTED:g++,ATTRIB_VALUE_CLOSED:g++,ATTRIB_VALUE_UNQUOTED:g++,ATTRIB_VALUE_ENTITY_Q:g++,ATTRIB_VALUE_ENTITY_U:g++,CLOSE_TAG:g++,CLOSE_TAG_SAW_WHITE:g++,SCRIPT:g++,SCRIPT_ENDING:g++},W.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},W.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(W.ENTITIES).forEach(function(k){var I=W.ENTITIES[k],H=typeof I=="number"?String.fromCharCode(I):I;W.ENTITIES[k]=H});for(var c in W.STATE)W.STATE[W.STATE[c]]=c;g=W.STATE;function o(k,I,H){k[I]&&k[I](H)}function d(k,I,H){k.textNode&&w(k),o(k,I,H)}function w(k){k.textNode=A(k.opt,k.textNode),k.textNode&&o(k,"ontext",k.textNode),k.textNode=""}function A(k,I){return k.trim&&(I=I.trim()),k.normalize&&(I=I.replace(/\s+/g," ")),I}function C(k,I){return w(k),k.trackPosition&&(I+=`
Line: `+k.line+`
Column: `+k.column+`
Char: `+k.c),I=new Error(I),k.error=I,o(k,"onerror",I),k}function x(k){return k.sawRoot&&!k.closedRoot&&E(k,"Unclosed root tag"),k.state!==g.BEGIN&&k.state!==g.BEGIN_WHITESPACE&&k.state!==g.TEXT&&C(k,"Unexpected end"),w(k),k.c="",k.closed=!0,o(k,"onend"),ge.call(k,k.strict,k.opt),k}function E(k,I){if(typeof k!="object"||!(k instanceof ge))throw new Error("bad call to strictFail");k.strict&&C(k,I)}function M(k){k.strict||(k.tagName=k.tagName[k.looseCase]());var I=k.tags[k.tags.length-1]||k,H=k.tag={name:k.tagName,attributes:{}};k.opt.xmlns&&(H.ns=I.ns),k.attribList.length=0,d(k,"onopentagstart",H)}function f(k,I){var H=k.indexOf(":"),j=H<0?["",k]:k.split(":"),ee=j[0],te=j[1];return I&&k==="xmlns"&&(ee="xmlns",te=""),{prefix:ee,local:te}}function P(k){if(k.strict||(k.attribName=k.attribName[k.looseCase]()),k.attribList.indexOf(k.attribName)!==-1||k.tag.attributes.hasOwnProperty(k.attribName)){k.attribName=k.attribValue="";return}if(k.opt.xmlns){var I=f(k.attribName,!0),H=I.prefix,j=I.local;if(H==="xmlns")if(j==="xml"&&k.attribValue!==b)E(k,"xml: prefix must be bound to "+b+`
Actual: `+k.attribValue);else if(j==="xmlns"&&k.attribValue!==v)E(k,"xmlns: prefix must be bound to "+v+`
Actual: `+k.attribValue);else{var ee=k.tag,te=k.tags[k.tags.length-1]||k;ee.ns===te.ns&&(ee.ns=Object.create(te.ns)),ee.ns[j]=k.attribValue}k.attribList.push([k.attribName,k.attribValue])}else k.tag.attributes[k.attribName]=k.attribValue,d(k,"onattribute",{name:k.attribName,value:k.attribValue});k.attribName=k.attribValue=""}function T(k,I){if(k.opt.xmlns){var H=k.tag,j=f(k.tagName);H.prefix=j.prefix,H.local=j.local,H.uri=H.ns[j.prefix]||"",H.prefix&&!H.uri&&(E(k,"Unbound namespace prefix: "+JSON.stringify(k.tagName)),H.uri=j.prefix);var ee=k.tags[k.tags.length-1]||k;H.ns&&ee.ns!==H.ns&&Object.keys(H.ns).forEach(function(J){d(k,"onopennamespace",{prefix:J,uri:H.ns[J]})});for(var te=0,ne=k.attribList.length;te<ne;te++){var ue=k.attribList[te],q=ue[0],Y=ue[1],Z=f(q,!0),G=Z.prefix,K=Z.local,oe=G===""?"":H.ns[G]||"",$={name:q,value:Y,prefix:G,local:K,uri:oe};G&&G!=="xmlns"&&!oe&&(E(k,"Unbound namespace prefix: "+JSON.stringify(G)),$.uri=G),k.tag.attributes[q]=$,d(k,"onattribute",$)}k.attribList.length=0}k.tag.isSelfClosing=!!I,k.sawRoot=!0,k.tags.push(k.tag),d(k,"onopentag",k.tag),I||(!k.noscript&&k.tagName.toLowerCase()==="script"?k.state=g.SCRIPT:k.state=g.TEXT,k.tag=null,k.tagName=""),k.attribName=k.attribValue="",k.attribList.length=0}function z(k){if(!k.tagName){E(k,"Weird empty close tag."),k.textNode+="</>",k.state=g.TEXT;return}if(k.script){if(k.tagName!=="script"){k.script+="</"+k.tagName+">",k.tagName="",k.state=g.SCRIPT;return}d(k,"onscript",k.script),k.script=""}var I=k.tags.length,H=k.tagName;k.strict||(H=H[k.looseCase]());for(var j=H;I--;){var ee=k.tags[I];if(ee.name!==j)E(k,"Unexpected close tag");else break}if(I<0){E(k,"Unmatched closing tag: "+k.tagName),k.textNode+="</"+k.tagName+">",k.state=g.TEXT;return}k.tagName=H;for(var te=k.tags.length;te-- >I;){var ne=k.tag=k.tags.pop();k.tagName=k.tag.name,d(k,"onclosetag",k.tagName);var ue={};for(var q in ne.ns)ue[q]=ne.ns[q];var Y=k.tags[k.tags.length-1]||k;k.opt.xmlns&&ne.ns!==Y.ns&&Object.keys(ne.ns).forEach(function(Z){var G=ne.ns[Z];d(k,"onclosenamespace",{prefix:Z,uri:G})})}I===0&&(k.closedRoot=!0),k.tagName=k.attribValue=k.attribName="",k.attribList.length=0,k.state=g.TEXT}function _(k){var I=k.entity,H=I.toLowerCase(),j,ee="";return k.ENTITIES[I]?k.ENTITIES[I]:k.ENTITIES[H]?k.ENTITIES[H]:(I=H,I.charAt(0)==="#"&&(I.charAt(1)==="x"?(I=I.slice(2),j=parseInt(I,16),ee=j.toString(16)):(I=I.slice(1),j=parseInt(I,10),ee=j.toString(10))),I=I.replace(/^0+/,""),isNaN(j)||ee.toLowerCase()!==I?(E(k,"Invalid character entity"),"&"+k.entity+";"):String.fromCodePoint(j))}function V(k,I){I==="<"?(k.state=g.OPEN_WAKA,k.startTagPosition=k.position):u(I)||(E(k,"Non-whitespace before first tag."),k.textNode=I,k.state=g.TEXT)}function F(k,I){var H="";return I<k.length&&(H=k.charAt(I)),H}function N(k){var I=this;if(this.error)throw this.error;if(I.closed)return C(I,"Cannot write after close. Assign an onready handler.");if(k===null)return x(I);typeof k=="object"&&(k=k.toString());for(var H=0,j="";j=F(k,H++),I.c=j,!!j;)switch(I.trackPosition&&(I.position++,j===`
`?(I.line++,I.column=0):I.column++),I.state){case g.BEGIN:if(I.state=g.BEGIN_WHITESPACE,j==="\uFEFF")continue;V(I,j);continue;case g.BEGIN_WHITESPACE:V(I,j);continue;case g.TEXT:if(I.sawRoot&&!I.closedRoot){for(var ee=H-1;j&&j!=="<"&&j!=="&";)j=F(k,H++),j&&I.trackPosition&&(I.position++,j===`
`?(I.line++,I.column=0):I.column++);I.textNode+=k.substring(ee,H-1)}j==="<"&&!(I.sawRoot&&I.closedRoot&&!I.strict)?(I.state=g.OPEN_WAKA,I.startTagPosition=I.position):(!u(j)&&(!I.sawRoot||I.closedRoot)&&E(I,"Text data outside of root node."),j==="&"?I.state=g.TEXT_ENTITY:I.textNode+=j);continue;case g.SCRIPT:j==="<"?I.state=g.SCRIPT_ENDING:I.script+=j;continue;case g.SCRIPT_ENDING:j==="/"?I.state=g.CLOSE_TAG:(I.script+="<"+j,I.state=g.SCRIPT);continue;case g.OPEN_WAKA:if(j==="!")I.state=g.SGML_DECL,I.sgmlDecl="";else if(!u(j))if(m(r,j))I.state=g.OPEN_TAG,I.tagName=j;else if(j==="/")I.state=g.CLOSE_TAG,I.tagName="";else if(j==="?")I.state=g.PROC_INST,I.procInstName=I.procInstBody="";else{if(E(I,"Unencoded <"),I.startTagPosition+1<I.position){var te=I.position-I.startTagPosition;j=new Array(te).join(" ")+j}I.textNode+="<"+j,I.state=g.TEXT}continue;case g.SGML_DECL:(I.sgmlDecl+j).toUpperCase()===i?(d(I,"onopencdata"),I.state=g.CDATA,I.sgmlDecl="",I.cdata=""):I.sgmlDecl+j==="--"?(I.state=g.COMMENT,I.comment="",I.sgmlDecl=""):(I.sgmlDecl+j).toUpperCase()===S?(I.state=g.DOCTYPE,(I.doctype||I.sawRoot)&&E(I,"Inappropriately located doctype declaration"),I.doctype="",I.sgmlDecl=""):j===">"?(d(I,"onsgmldeclaration",I.sgmlDecl),I.sgmlDecl="",I.state=g.TEXT):(s(j)&&(I.state=g.SGML_DECL_QUOTED),I.sgmlDecl+=j);continue;case g.SGML_DECL_QUOTED:j===I.q&&(I.state=g.SGML_DECL,I.q=""),I.sgmlDecl+=j;continue;case g.DOCTYPE:j===">"?(I.state=g.TEXT,d(I,"ondoctype",I.doctype),I.doctype=!0):(I.doctype+=j,j==="["?I.state=g.DOCTYPE_DTD:s(j)&&(I.state=g.DOCTYPE_QUOTED,I.q=j));continue;case g.DOCTYPE_QUOTED:I.doctype+=j,j===I.q&&(I.q="",I.state=g.DOCTYPE);continue;case g.DOCTYPE_DTD:I.doctype+=j,j==="]"?I.state=g.DOCTYPE:s(j)&&(I.state=g.DOCTYPE_DTD_QUOTED,I.q=j);continue;case g.DOCTYPE_DTD_QUOTED:I.doctype+=j,j===I.q&&(I.state=g.DOCTYPE_DTD,I.q="");continue;case g.COMMENT:j==="-"?I.state=g.COMMENT_ENDING:I.comment+=j;continue;case g.COMMENT_ENDING:j==="-"?(I.state=g.COMMENT_ENDED,I.comment=A(I.opt,I.comment),I.comment&&d(I,"oncomment",I.comment),I.comment=""):(I.comment+="-"+j,I.state=g.COMMENT);continue;case g.COMMENT_ENDED:j!==">"?(E(I,"Malformed comment"),I.comment+="--"+j,I.state=g.COMMENT):I.state=g.TEXT;continue;case g.CDATA:j==="]"?I.state=g.CDATA_ENDING:I.cdata+=j;continue;case g.CDATA_ENDING:j==="]"?I.state=g.CDATA_ENDING_2:(I.cdata+="]"+j,I.state=g.CDATA);continue;case g.CDATA_ENDING_2:j===">"?(I.cdata&&d(I,"oncdata",I.cdata),d(I,"onclosecdata"),I.cdata="",I.state=g.TEXT):j==="]"?I.cdata+="]":(I.cdata+="]]"+j,I.state=g.CDATA);continue;case g.PROC_INST:j==="?"?I.state=g.PROC_INST_ENDING:u(j)?I.state=g.PROC_INST_BODY:I.procInstName+=j;continue;case g.PROC_INST_BODY:if(!I.procInstBody&&u(j))continue;j==="?"?I.state=g.PROC_INST_ENDING:I.procInstBody+=j;continue;case g.PROC_INST_ENDING:j===">"?(d(I,"onprocessinginstruction",{name:I.procInstName,body:I.procInstBody}),I.procInstName=I.procInstBody="",I.state=g.TEXT):(I.procInstBody+="?"+j,I.state=g.PROC_INST_BODY);continue;case g.OPEN_TAG:m(t,j)?I.tagName+=j:(M(I),j===">"?T(I):j==="/"?I.state=g.OPEN_TAG_SLASH:(u(j)||E(I,"Invalid character in tag name"),I.state=g.ATTRIB));continue;case g.OPEN_TAG_SLASH:j===">"?(T(I,!0),z(I)):(E(I,"Forward-slash in opening tag not followed by >"),I.state=g.ATTRIB);continue;case g.ATTRIB:if(u(j))continue;j===">"?T(I):j==="/"?I.state=g.OPEN_TAG_SLASH:m(r,j)?(I.attribName=j,I.attribValue="",I.state=g.ATTRIB_NAME):E(I,"Invalid attribute name");continue;case g.ATTRIB_NAME:j==="="?I.state=g.ATTRIB_VALUE:j===">"?(E(I,"Attribute without value"),I.attribValue=I.attribName,P(I),T(I)):u(j)?I.state=g.ATTRIB_NAME_SAW_WHITE:m(t,j)?I.attribName+=j:E(I,"Invalid attribute name");continue;case g.ATTRIB_NAME_SAW_WHITE:if(j==="=")I.state=g.ATTRIB_VALUE;else{if(u(j))continue;E(I,"Attribute without value"),I.tag.attributes[I.attribName]="",I.attribValue="",d(I,"onattribute",{name:I.attribName,value:""}),I.attribName="",j===">"?T(I):m(r,j)?(I.attribName=j,I.state=g.ATTRIB_NAME):(E(I,"Invalid attribute name"),I.state=g.ATTRIB)}continue;case g.ATTRIB_VALUE:if(u(j))continue;s(j)?(I.q=j,I.state=g.ATTRIB_VALUE_QUOTED):(E(I,"Unquoted attribute value"),I.state=g.ATTRIB_VALUE_UNQUOTED,I.attribValue=j);continue;case g.ATTRIB_VALUE_QUOTED:if(j!==I.q){j==="&"?I.state=g.ATTRIB_VALUE_ENTITY_Q:I.attribValue+=j;continue}P(I),I.q="",I.state=g.ATTRIB_VALUE_CLOSED;continue;case g.ATTRIB_VALUE_CLOSED:u(j)?I.state=g.ATTRIB:j===">"?T(I):j==="/"?I.state=g.OPEN_TAG_SLASH:m(r,j)?(E(I,"No whitespace between attributes"),I.attribName=j,I.attribValue="",I.state=g.ATTRIB_NAME):E(I,"Invalid attribute name");continue;case g.ATTRIB_VALUE_UNQUOTED:if(!l(j)){j==="&"?I.state=g.ATTRIB_VALUE_ENTITY_U:I.attribValue+=j;continue}P(I),j===">"?T(I):I.state=g.ATTRIB;continue;case g.CLOSE_TAG:if(I.tagName)j===">"?z(I):m(t,j)?I.tagName+=j:I.script?(I.script+="</"+I.tagName,I.tagName="",I.state=g.SCRIPT):(u(j)||E(I,"Invalid tagname in closing tag"),I.state=g.CLOSE_TAG_SAW_WHITE);else{if(u(j))continue;h(r,j)?I.script?(I.script+="</"+j,I.state=g.SCRIPT):E(I,"Invalid tagname in closing tag."):I.tagName=j}continue;case g.CLOSE_TAG_SAW_WHITE:if(u(j))continue;j===">"?z(I):E(I,"Invalid characters in closing tag");continue;case g.TEXT_ENTITY:case g.ATTRIB_VALUE_ENTITY_Q:case g.ATTRIB_VALUE_ENTITY_U:var ne,ue;switch(I.state){case g.TEXT_ENTITY:ne=g.TEXT,ue="textNode";break;case g.ATTRIB_VALUE_ENTITY_Q:ne=g.ATTRIB_VALUE_QUOTED,ue="attribValue";break;case g.ATTRIB_VALUE_ENTITY_U:ne=g.ATTRIB_VALUE_UNQUOTED,ue="attribValue";break}if(j===";")if(I.opt.unparsedEntities){var q=_(I);I.entity="",I.state=ne,I.write(q)}else I[ue]+=_(I),I.entity="",I.state=ne;else m(I.entity.length?n:a,j)?I.entity+=j:(E(I,"Invalid character in entity name"),I[ue]+="&"+I.entity+j,I.entity="",I.state=ne);continue;default:throw new Error(I,"Unknown state: "+I.state)}return I.position>=I.bufferCheckPosition&&Re(I),I}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var k=String.fromCharCode,I=Math.floor,H=function(){var j=16384,ee=[],te,ne,ue=-1,q=arguments.length;if(!q)return"";for(var Y="";++ue<q;){var Z=Number(arguments[ue]);if(!isFinite(Z)||Z<0||Z>1114111||I(Z)!==Z)throw RangeError("Invalid code point: "+Z);Z<=65535?ee.push(Z):(Z-=65536,te=(Z>>10)+55296,ne=Z%1024+56320,ee.push(te,ne)),(ue+1===q||ee.length>j)&&(Y+=k.apply(null,ee),ee.length=0)}return Y};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:H,configurable:!0,writable:!0}):String.fromCodePoint=H}()})(O)}(ym)),ym}var h0={exports:{}},l2;function BL(){if(l2)return h0.exports;l2=1;var O=typeof Reflect=="object"?Reflect:null,W=O&&typeof O.apply=="function"?O.apply:function(s,l,m){return Function.prototype.apply.call(s,l,m)},le;O&&typeof O.ownKeys=="function"?le=O.ownKeys:Object.getOwnPropertySymbols?le=function(s){return Object.getOwnPropertyNames(s).concat(Object.getOwnPropertySymbols(s))}:le=function(s){return Object.getOwnPropertyNames(s)};function ge(u){console&&console.warn&&console.warn(u)}var Re=Number.isNaN||function(s){return s!==s};function Pe(){Pe.init.call(this)}h0.exports=Pe,h0.exports.once=t,Pe.EventEmitter=Pe,Pe.prototype._events=void 0,Pe.prototype._eventsCount=0,Pe.prototype._maxListeners=void 0;var U=10;function B(u){if(typeof u!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof u)}Object.defineProperty(Pe,"defaultMaxListeners",{enumerable:!0,get:function(){return U},set:function(u){if(typeof u!="number"||u<0||Re(u))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+u+".");U=u}}),Pe.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Pe.prototype.setMaxListeners=function(s){if(typeof s!="number"||s<0||Re(s))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+s+".");return this._maxListeners=s,this};function e(u){return u._maxListeners===void 0?Pe.defaultMaxListeners:u._maxListeners}Pe.prototype.getMaxListeners=function(){return e(this)},Pe.prototype.emit=function(s){for(var l=[],m=1;m<arguments.length;m++)l.push(arguments[m]);var h=s==="error",g=this._events;if(g!==void 0)h=h&&g.error===void 0;else if(!h)return!1;if(h){var c;if(l.length>0&&(c=l[0]),c instanceof Error)throw c;var o=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw o.context=c,o}var d=g[s];if(d===void 0)return!1;if(typeof d=="function")W(d,this,l);else for(var w=d.length,A=v(d,w),m=0;m<w;++m)W(A[m],this,l);return!0};function y(u,s,l,m){var h,g,c;if(B(l),g=u._events,g===void 0?(g=u._events=Object.create(null),u._eventsCount=0):(g.newListener!==void 0&&(u.emit("newListener",s,l.listener?l.listener:l),g=u._events),c=g[s]),c===void 0)c=g[s]=l,++u._eventsCount;else if(typeof c=="function"?c=g[s]=m?[l,c]:[c,l]:m?c.unshift(l):c.push(l),h=e(u),h>0&&c.length>h&&!c.warned){c.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(s)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=u,o.type=s,o.count=c.length,ge(o)}return u}Pe.prototype.addListener=function(s,l){return y(this,s,l,!1)},Pe.prototype.on=Pe.prototype.addListener,Pe.prototype.prependListener=function(s,l){return y(this,s,l,!0)};function L(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i(u,s,l){var m={fired:!1,wrapFn:void 0,target:u,type:s,listener:l},h=L.bind(m);return h.listener=l,m.wrapFn=h,h}Pe.prototype.once=function(s,l){return B(l),this.on(s,i(this,s,l)),this},Pe.prototype.prependOnceListener=function(s,l){return B(l),this.prependListener(s,i(this,s,l)),this},Pe.prototype.removeListener=function(s,l){var m,h,g,c,o;if(B(l),h=this._events,h===void 0)return this;if(m=h[s],m===void 0)return this;if(m===l||m.listener===l)--this._eventsCount===0?this._events=Object.create(null):(delete h[s],h.removeListener&&this.emit("removeListener",s,m.listener||l));else if(typeof m!="function"){for(g=-1,c=m.length-1;c>=0;c--)if(m[c]===l||m[c].listener===l){o=m[c].listener,g=c;break}if(g<0)return this;g===0?m.shift():p(m,g),m.length===1&&(h[s]=m[0]),h.removeListener!==void 0&&this.emit("removeListener",s,o||l)}return this},Pe.prototype.off=Pe.prototype.removeListener,Pe.prototype.removeAllListeners=function(s){var l,m,h;if(m=this._events,m===void 0)return this;if(m.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):m[s]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete m[s]),this;if(arguments.length===0){var g=Object.keys(m),c;for(h=0;h<g.length;++h)c=g[h],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(l=m[s],typeof l=="function")this.removeListener(s,l);else if(l!==void 0)for(h=l.length-1;h>=0;h--)this.removeListener(s,l[h]);return this};function S(u,s,l){var m=u._events;if(m===void 0)return[];var h=m[s];return h===void 0?[]:typeof h=="function"?l?[h.listener||h]:[h]:l?r(h):v(h,h.length)}Pe.prototype.listeners=function(s){return S(this,s,!0)},Pe.prototype.rawListeners=function(s){return S(this,s,!1)},Pe.listenerCount=function(u,s){return typeof u.listenerCount=="function"?u.listenerCount(s):b.call(u,s)},Pe.prototype.listenerCount=b;function b(u){var s=this._events;if(s!==void 0){var l=s[u];if(typeof l=="function")return 1;if(l!==void 0)return l.length}return 0}Pe.prototype.eventNames=function(){return this._eventsCount>0?le(this._events):[]};function v(u,s){for(var l=new Array(s),m=0;m<s;++m)l[m]=u[m];return l}function p(u,s){for(;s+1<u.length;s++)u[s]=u[s+1];u.pop()}function r(u){for(var s=new Array(u.length),l=0;l<s.length;++l)s[l]=u[l].listener||u[l];return s}function t(u,s){return new Promise(function(l,m){function h(c){u.removeListener(s,g),m(c)}function g(){typeof u.removeListener=="function"&&u.removeListener("error",h),l([].slice.call(arguments))}n(u,s,g,{once:!0}),s!=="error"&&a(u,h,{once:!0})})}function a(u,s,l){typeof u.on=="function"&&n(u,"error",s,l)}function n(u,s,l,m){if(typeof u.on=="function")m.once?u.once(s,l):u.on(s,l);else if(typeof u.addEventListener=="function")u.addEventListener(s,function h(g){m.once&&u.removeEventListener(s,h),l(g)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof u)}return h0.exports}var bm={},u2;function UL(){return u2||(u2=1,(function(){bm.stripBOM=function(O){return O[0]==="\uFEFF"?O.substring(1):O}}).call(ha)),bm}var Ih={},f2;function m5(){return f2||(f2=1,(function(){var O;O=new RegExp(/(?!xmlns)^.*:/),Ih.normalize=function(W){return W.toLowerCase()},Ih.firstCharLowerCase=function(W){return W.charAt(0).toLowerCase()+W.slice(1)},Ih.stripPrefix=function(W){return W.replace(O,"")},Ih.parseNumbers=function(W){return isNaN(W)||(W=W%1===0?parseInt(W,10):parseFloat(W)),W},Ih.parseBooleans=function(W){return/^(?:true|false)$/i.test(W)&&(W=W.toLowerCase()==="true"),W}}).call(ha)),Ih}var c2;function VL(){return c2||(c2=1,function(O){(function(){var W,le,ge,Re,Pe,U,B,e,y,L=function(b,v){return function(){return b.apply(v,arguments)}},i=function(b,v){for(var p in v)S.call(v,p)&&(b[p]=v[p]);function r(){this.constructor=b}return r.prototype=v.prototype,b.prototype=new r,b.__super__=v.prototype,b},S={}.hasOwnProperty;e=NL(),Re=BL(),W=UL(),B=m5(),y=y5.setImmediate,le=Mx().defaults,Pe=function(b){return typeof b=="object"&&b!=null&&Object.keys(b).length===0},U=function(b,v,p){var r,t,a;for(r=0,t=b.length;r<t;r++)a=b[r],v=a(v,p);return v},ge=function(b,v,p){var r;return r=Object.create(null),r.value=p,r.writable=!0,r.enumerable=!0,r.configurable=!0,Object.defineProperty(b,v,r)},O.Parser=function(b){i(v,b);function v(p){this.parseStringPromise=L(this.parseStringPromise,this),this.parseString=L(this.parseString,this),this.reset=L(this.reset,this),this.assignOrPush=L(this.assignOrPush,this),this.processAsync=L(this.processAsync,this);var r,t,a;if(!(this instanceof O.Parser))return new O.Parser(p);this.options={},t=le["0.2"];for(r in t)S.call(t,r)&&(a=t[r],this.options[r]=a);for(r in p)S.call(p,r)&&(a=p[r],this.options[r]=a);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(B.normalize)),this.reset()}return v.prototype.processAsync=function(){var p,r;try{return this.remaining.length<=this.options.chunkSize?(p=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(p),this.saxParser.close()):(p=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(p),y(this.processAsync))}catch(t){if(r=t,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(r)}},v.prototype.assignOrPush=function(p,r,t){return r in p?(p[r]instanceof Array||ge(p,r,[p[r]]),p[r].push(t)):this.options.explicitArray?ge(p,r,[t]):ge(p,r,t)},v.prototype.reset=function(){var p,r,t,a;return this.removeAllListeners(),this.saxParser=e.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(n){return function(u){if(n.saxParser.resume(),!n.saxParser.errThrown)return n.saxParser.errThrown=!0,n.emit("error",u)}}(this),this.saxParser.onend=function(n){return function(){if(!n.saxParser.ended)return n.saxParser.ended=!0,n.emit("end",n.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,a=[],p=this.options.attrkey,r=this.options.charkey,this.saxParser.onopentag=function(n){return function(u){var s,l,m,h,g;if(m={},m[r]="",!n.options.ignoreAttrs){g=u.attributes;for(s in g)S.call(g,s)&&(!(p in m)&&!n.options.mergeAttrs&&(m[p]={}),l=n.options.attrValueProcessors?U(n.options.attrValueProcessors,u.attributes[s],s):u.attributes[s],h=n.options.attrNameProcessors?U(n.options.attrNameProcessors,s):s,n.options.mergeAttrs?n.assignOrPush(m,h,l):ge(m[p],h,l))}return m["#name"]=n.options.tagNameProcessors?U(n.options.tagNameProcessors,u.name):u.name,n.options.xmlns&&(m[n.options.xmlnskey]={uri:u.uri,local:u.local}),a.push(m)}}(this),this.saxParser.onclosetag=function(n){return function(){var u,s,l,m,h,g,c,o,d,w;if(g=a.pop(),h=g["#name"],(!n.options.explicitChildren||!n.options.preserveChildrenOrder)&&delete g["#name"],g.cdata===!0&&(u=g.cdata,delete g.cdata),d=a[a.length-1],g[r].match(/^\s*$/)&&!u?(s=g[r],delete g[r]):(n.options.trim&&(g[r]=g[r].trim()),n.options.normalize&&(g[r]=g[r].replace(/\s{2,}/g," ").trim()),g[r]=n.options.valueProcessors?U(n.options.valueProcessors,g[r],h):g[r],Object.keys(g).length===1&&r in g&&!n.EXPLICIT_CHARKEY&&(g=g[r])),Pe(g)&&(typeof n.options.emptyTag=="function"?g=n.options.emptyTag():g=n.options.emptyTag!==""?n.options.emptyTag:s),n.options.validator!=null&&(w="/"+function(){var A,C,x;for(x=[],A=0,C=a.length;A<C;A++)m=a[A],x.push(m["#name"]);return x}().concat(h).join("/"),function(){var A;try{return g=n.options.validator(w,d&&d[h],g)}catch(C){return A=C,n.emit("error",A)}}()),n.options.explicitChildren&&!n.options.mergeAttrs&&typeof g=="object"){if(!n.options.preserveChildrenOrder)m={},n.options.attrkey in g&&(m[n.options.attrkey]=g[n.options.attrkey],delete g[n.options.attrkey]),!n.options.charsAsChildren&&n.options.charkey in g&&(m[n.options.charkey]=g[n.options.charkey],delete g[n.options.charkey]),Object.getOwnPropertyNames(g).length>0&&(m[n.options.childkey]=g),g=m;else if(d){d[n.options.childkey]=d[n.options.childkey]||[],c={};for(l in g)S.call(g,l)&&ge(c,l,g[l]);d[n.options.childkey].push(c),delete g["#name"],Object.keys(g).length===1&&r in g&&!n.EXPLICIT_CHARKEY&&(g=g[r])}}return a.length>0?n.assignOrPush(d,h,g):(n.options.explicitRoot&&(o=g,g={},ge(g,h,o)),n.resultObject=g,n.saxParser.ended=!0,n.emit("end",n.resultObject))}}(this),t=function(n){return function(u){var s,l;if(l=a[a.length-1],l)return l[r]+=u,n.options.explicitChildren&&n.options.preserveChildrenOrder&&n.options.charsAsChildren&&(n.options.includeWhiteChars||u.replace(/\\n/g,"").trim()!=="")&&(l[n.options.childkey]=l[n.options.childkey]||[],s={"#name":"__text__"},s[r]=u,n.options.normalize&&(s[r]=s[r].replace(/\s{2,}/g," ").trim()),l[n.options.childkey].push(s)),l}}(this),this.saxParser.ontext=t,this.saxParser.oncdata=function(n){return function(u){var s;if(s=t(u),s)return s.cdata=!0}}()},v.prototype.parseString=function(p,r){var t;r!=null&&typeof r=="function"&&(this.on("end",function(a){return this.reset(),r(null,a)}),this.on("error",function(a){return this.reset(),r(a)}));try{return p=p.toString(),p.trim()===""?(this.emit("end",null),!0):(p=W.stripBOM(p),this.options.async?(this.remaining=p,y(this.processAsync),this.saxParser):this.saxParser.write(p).close())}catch(a){if(t=a,this.saxParser.errThrown||this.saxParser.ended){if(this.saxParser.ended)throw t}else return this.emit("error",t),this.saxParser.errThrown=!0}},v.prototype.parseStringPromise=function(p){return new Promise(function(r){return function(t,a){return r.parseString(p,function(n,u){return n?a(n):t(u)})}}(this))},v}(Re),O.parseString=function(b,v,p){var r,t,a;return p!=null?(typeof p=="function"&&(r=p),typeof v=="object"&&(t=v)):(typeof v=="function"&&(r=v),t={}),a=new O.Parser(t),a.parseString(b,r)},O.parseStringPromise=function(b,v){var p,r;return typeof v=="object"&&(p=v),r=new O.Parser(p),r.parseStringPromise(b)}}).call(ha)}(gm)),gm}var x5;(function(){var O,W,le,ge=function(Pe,U){for(var B in U)Re.call(U,B)&&(Pe[B]=U[B]);function e(){this.constructor=Pe}return e.prototype=U.prototype,Pe.prototype=new e,Pe.__super__=U.prototype,Pe},Re={}.hasOwnProperty;W=Mx(),O=DL(),le=VL(),m5(),W.defaults,function(Pe){ge(U,Pe);function U(B){this.message=B}return U}(Error),O.Builder,le.Parser,x5=le.parseString,le.parseStringPromise}).call(ha);const HL=async(O,W)=>{if(W==="xml")return new Promise((le,ge)=>{x5(O,(Re,Pe)=>{Re?ge(Re):le(Pe)})});if(W==="json")return typeof O=="string"?JSON.parse(O):O},GL=()=>{const[O,W]=Li.useState(null);return Li.useEffect(()=>{(async()=>{try{const Re=await Po.get("https://api.nasa.gov/planetary/apod?api_key=yRqG8g8HuB1qtdEvJLjf9oJBLRLxKshjAUY8nhgq"),Pe=await HL(Re.data,"json");W(Pe)}catch(ge){console.error("Error fetching data:",ge)}})()},[]),Vi.jsxs("div",{className:"rounded-lg bg-white p-6 shadow-md",children:[Vi.jsx("h2",{className:"mb-4 text-2xl font-bold text-teal-500",children:"Today"}),O&&Vi.jsxs("div",{className:"flex flex-col md:flex-row md:items-start",children:[Vi.jsx("div",{className:"md:w-1/2 md:pr-4",children:Vi.jsx("img",{src:O.url,alt:O.title,className:"mb-4 h-auto w-full",style:{maxHeight:"4000px"}})}),Vi.jsxs("div",{className:"md:w-1/2",children:[Vi.jsx("h3",{className:"mb-2 text-xl font-bold",children:O.title}),Vi.jsx("p",{className:"text-gray-800",children:O.explanation})]})]})]})},WL=()=>Vi.jsxs("div",{className:"container mx-auto mt-8 px-4",children:[Vi.jsx("h1",{className:"mb-8 text-4xl font-bold text-black",children:"NASA APOD: Astronomy Picture of the Day"}),Vi.jsx(GL,{className:"text"})]}),XL=O=>O-273.15,YL=(O,W)=>{if(Array.isArray(O)){const le=W.toLowerCase();return O.map(ge=>ge.name.toLowerCase()).find(ge=>ge.includes(le))}else if(O&&O.name){const le=W.toLowerCase();return O.name.toLowerCase().includes(le)?O.name:null}return null};function jL(){const[O,W]=Li.useState(""),[le,ge]=Li.useState(""),[Re,Pe]=Li.useState([]),[U,B]=Li.useState(!1),[e,y]=Li.useState(""),L=S=>{const b=S.target.value;b!==O&&(W(b),Pe([]),B(!1),y(""))},i=async S=>{S.preventDefault();try{const v=await Po.get("http://api.openweathermap.org/data/2.5/forecast",{params:{q:O,appid:"d7f71465a04695e4e23cabf95bde5fd5"}}),p=YL(v.data.city,O);p?(console.log(v.data),W(p),ge(v.data.city.country),Pe(v.data.list.map(r=>({...r,main:{...r.main,temp:XL(r.main.temp)}}))),B(!0),y("")):(y(`City '${O}' not found`),B(!1))}catch(b){console.error("Error fetching data:",b),y("Error fetching data"),B(!1)}};return Vi.jsxs("div",{className:"container mx-auto mt-8 px-4",children:[Vi.jsx("h1",{className:"mb-8 text-4xl font-bold text-black",children:"Weather Forecast"}),Vi.jsxs("form",{onSubmit:i,className:"mb-8",children:[Vi.jsxs("label",{className:"mb-4 block",children:["Enter city:",Vi.jsx("input",{type:"text",value:O,onChange:L,className:"mt-2 block w-full rounded-lg border px-4 py-2"})]}),Vi.jsx("button",{type:"submit",className:"rounded-lg bg-teal-500 px-4 py-2 font-semibold text-white transition duration-300 ease-in-out hover:bg-black",children:"Submit"})]}),e&&Vi.jsx("div",{className:"text-red-950",children:e}),U&&Vi.jsxs(T2.Fragment,{children:[Vi.jsx(JE,{city:O,country:le,forecast:Re}),Vi.jsx(iC,{city:O,country:le,forecast:Re})]})]})}const ZL=()=>Vi.jsxs("div",{children:[Vi.jsx(ZE,{}),Vi.jsxs(_E,{children:[Vi.jsx(S0,{path:"/",element:Vi.jsx(aC,{})}),Vi.jsx(S0,{path:"/NASA_APOD",element:Vi.jsx(WL,{})}),Vi.jsx(S0,{path:"/Weather",element:Vi.jsx(jL,{})})]})]}),KL=wm.createRoot(document.getElementById("root"));KL.render(Vi.jsx(VE,{children:Vi.jsx(ZL,{})}));
